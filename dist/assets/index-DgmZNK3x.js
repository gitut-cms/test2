const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProfilePage-BLm7zsOe.js","assets/AdBanner-BHXyFlzY.js","assets/fileUtils-Cb1IM2ig.js","assets/ChatWindow-BB8eBxdG.js","assets/SocialShareButtons-BKLyRpAE.js","assets/FormPage-BDWNVfhL.js","assets/constants-DfStgaks.js","assets/StaticPageViewer-CKnPYLOc.js","assets/BlogListPage-D9_w1MbD.js","assets/BlogPostCard-DY9fhmSZ.js","assets/BlogPostPage-Dz6-ADXW.js","assets/ServiceDetailPage-Bm9sn29H.js","assets/AdInterstitialPage-DL-v7UKI.js","assets/doc-generator-BSuTvlLC.js","assets/geminiService-CD7J7Ty3.js","assets/CafeSearchPage-7IY7hs8C.js","assets/PublicFormPage-L6z6476-.js","assets/ImageCapture-Crup5CAt.js","assets/TemplateEditor-CMJkMKZv.js","assets/SiteDetailPage-BpCYRtSY.js","assets/DocumentDetailPage-BF5exTSo.js","assets/GoToSitePage-CujlWFiH.js","assets/DashboardHomePage-DjA3XpRV.js","assets/PendingJobsPage-amPCig-Q.js","assets/GenerateDocumentPage-DTVh6BGN.js","assets/SettingsPage-BQMYhm4R.js","assets/MultiPersonJobPage-DmqyioF4.js","assets/FillSitePage-C_zNREEJ.js","assets/SpeechRecognitionControl-BM9TYsD7.js","assets/ClientsPage-DfYWSlC7.js","assets/StaticDocViewerPage-DzmaGvGn.js","assets/ExcelStudioPage-DPYuibLI.js","assets/DocumentStudioPage-BuusGAhL.js","assets/CafeChatPage-C5sXpSAu.js","assets/AdminBillingPage-BRVwe9K-.js","assets/AdminPagesPage-2LrsdyLn.js","assets/index-ChkOn_r6.js","assets/staticHtmlGenerator-DCfPfK21.js","assets/AdminBlogPage-BAXbOrLU.js","assets/AdminDataPage-LEEJ2hHw.js","assets/AdminJsonFilesPage-CIwVgb8s.js","assets/FileSaver.min-B2YBWmij.js","assets/AdminSitemapsPage-B1S7crBP.js","assets/AdminStaticServicesPage-zUdCESFH.js","assets/AdminStaticBlogPage-DuazwX2V.js","assets/AdminStaticContentPage-5aqapmdd.js","assets/AdminCodesPage-BxC_WotJ.js","assets/AdminSitesPage-BDA_0a6B.js","assets/AdminDocumentsPage-Dfv6Wtn0.js","assets/AdminBaseTemplatesPage-BKMHWv6H.js","assets/AdminChatPage-Dnavggc_.js","assets/AdminStaticDocsPage-bxyVXFoT.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zH(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var u1={exports:{}},Dd={},d1={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function VR(){if(YT)return ht;YT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function b(B,H,ye){this.props=B,this.context=H,this.refs=T,this.updater=ye||v}b.prototype.isReactComponent={},b.prototype.setState=function(B,H){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,H,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function C(){}C.prototype=b.prototype;function D(B,H,ye){this.props=B,this.context=H,this.refs=T,this.updater=ye||v}var F=D.prototype=new C;F.constructor=D,I(F,b.prototype),F.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,J={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function R(B,H,ye){var ve,pe={},Ke=null,rt=null;if(H!=null)for(ve in H.ref!==void 0&&(rt=H.ref),H.key!==void 0&&(Ke=""+H.key),H)$.call(H,ve)&&!x.hasOwnProperty(ve)&&(pe[ve]=H[ve]);var Me=arguments.length-2;if(Me===1)pe.children=ye;else if(1<Me){for(var Qe=Array(Me),lt=0;lt<Me;lt++)Qe[lt]=arguments[lt+2];pe.children=Qe}if(B&&B.defaultProps)for(ve in Me=B.defaultProps,Me)pe[ve]===void 0&&(pe[ve]=Me[ve]);return{$$typeof:n,type:B,key:Ke,ref:rt,props:pe,_owner:J.current}}function L(B,H){return{$$typeof:n,type:B.type,key:H,ref:B.ref,props:B.props,_owner:B._owner}}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function W(B){var H={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ye){return H[ye]})}var k=/\/+/g;function O(B,H){return typeof B=="object"&&B!==null&&B.key!=null?W(""+B.key):H.toString(36)}function A(B,H,ye,ve,pe){var Ke=typeof B;(Ke==="undefined"||Ke==="boolean")&&(B=null);var rt=!1;if(B===null)rt=!0;else switch(Ke){case"string":case"number":rt=!0;break;case"object":switch(B.$$typeof){case n:case e:rt=!0}}if(rt)return rt=B,pe=pe(rt),B=ve===""?"."+O(rt,0):ve,U(pe)?(ye="",B!=null&&(ye=B.replace(k,"$&/")+"/"),A(pe,H,ye,"",function(lt){return lt})):pe!=null&&(M(pe)&&(pe=L(pe,ye+(!pe.key||rt&&rt.key===pe.key?"":(""+pe.key).replace(k,"$&/")+"/")+B)),H.push(pe)),1;if(rt=0,ve=ve===""?".":ve+":",U(B))for(var Me=0;Me<B.length;Me++){Ke=B[Me];var Qe=ve+O(Ke,Me);rt+=A(Ke,H,ye,Qe,pe)}else if(Qe=_(B),typeof Qe=="function")for(B=Qe.call(B),Me=0;!(Ke=B.next()).done;)Ke=Ke.value,Qe=ve+O(Ke,Me++),rt+=A(Ke,H,ye,Qe,pe);else if(Ke==="object")throw H=String(B),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return rt}function ae(B,H,ye){if(B==null)return B;var ve=[],pe=0;return A(B,ve,"","",function(Ke){return H.call(ye,Ke,pe++)}),ve}function ze(B){if(B._status===-1){var H=B._result;H=H(),H.then(function(ye){(B._status===0||B._status===-1)&&(B._status=1,B._result=ye)},function(ye){(B._status===0||B._status===-1)&&(B._status=2,B._result=ye)}),B._status===-1&&(B._status=0,B._result=H)}if(B._status===1)return B._result.default;throw B._result}var ue={current:null},de={transition:null},ie={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:de,ReactCurrentOwner:J};function he(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:ae,forEach:function(B,H,ye){ae(B,function(){H.apply(this,arguments)},ye)},count:function(B){var H=0;return ae(B,function(){H++}),H},toArray:function(B){return ae(B,function(H){return H})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ht.Component=b,ht.Fragment=t,ht.Profiler=i,ht.PureComponent=D,ht.StrictMode=r,ht.Suspense=u,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ht.act=he,ht.cloneElement=function(B,H,ye){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ve=I({},B.props),pe=B.key,Ke=B.ref,rt=B._owner;if(H!=null){if(H.ref!==void 0&&(Ke=H.ref,rt=J.current),H.key!==void 0&&(pe=""+H.key),B.type&&B.type.defaultProps)var Me=B.type.defaultProps;for(Qe in H)$.call(H,Qe)&&!x.hasOwnProperty(Qe)&&(ve[Qe]=H[Qe]===void 0&&Me!==void 0?Me[Qe]:H[Qe])}var Qe=arguments.length-2;if(Qe===1)ve.children=ye;else if(1<Qe){Me=Array(Qe);for(var lt=0;lt<Qe;lt++)Me[lt]=arguments[lt+2];ve.children=Me}return{$$typeof:n,type:B.type,key:pe,ref:Ke,props:ve,_owner:rt}},ht.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},ht.createElement=R,ht.createFactory=function(B){var H=R.bind(null,B);return H.type=B,H},ht.createRef=function(){return{current:null}},ht.forwardRef=function(B){return{$$typeof:c,render:B}},ht.isValidElement=M,ht.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:ze}},ht.memo=function(B,H){return{$$typeof:h,type:B,compare:H===void 0?null:H}},ht.startTransition=function(B){var H=de.transition;de.transition={};try{B()}finally{de.transition=H}},ht.unstable_act=he,ht.useCallback=function(B,H){return ue.current.useCallback(B,H)},ht.useContext=function(B){return ue.current.useContext(B)},ht.useDebugValue=function(){},ht.useDeferredValue=function(B){return ue.current.useDeferredValue(B)},ht.useEffect=function(B,H){return ue.current.useEffect(B,H)},ht.useId=function(){return ue.current.useId()},ht.useImperativeHandle=function(B,H,ye){return ue.current.useImperativeHandle(B,H,ye)},ht.useInsertionEffect=function(B,H){return ue.current.useInsertionEffect(B,H)},ht.useLayoutEffect=function(B,H){return ue.current.useLayoutEffect(B,H)},ht.useMemo=function(B,H){return ue.current.useMemo(B,H)},ht.useReducer=function(B,H,ye){return ue.current.useReducer(B,H,ye)},ht.useRef=function(B){return ue.current.useRef(B)},ht.useState=function(B){return ue.current.useState(B)},ht.useSyncExternalStore=function(B,H,ye){return ue.current.useSyncExternalStore(B,H,ye)},ht.useTransition=function(){return ue.current.useTransition()},ht.version="18.3.1",ht}var JT;function h0(){return JT||(JT=1,d1.exports=VR()),d1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function BR(){if(XT)return Dd;XT=1;var n=h0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var p,g={},_=null,v=null;h!==void 0&&(_=""+h),u.key!==void 0&&(_=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:c,key:_,ref:v,props:g,_owner:i.current}}return Dd.Fragment=t,Dd.jsx=a,Dd.jsxs=a,Dd}var ZT;function zR(){return ZT||(ZT=1,u1.exports=BR()),u1.exports}var K=zR(),z=h0();const Zo=d0(z);var rp={},h1={exports:{}},Vr={},f1={exports:{}},m1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function UR(){return eI||(eI=1,(function(n){function e(de,ie){var he=de.length;de.push(ie);e:for(;0<he;){var B=he-1>>>1,H=de[B];if(0<i(H,ie))de[B]=ie,de[he]=H,he=B;else break e}}function t(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var ie=de[0],he=de.pop();if(he!==ie){de[0]=he;e:for(var B=0,H=de.length,ye=H>>>1;B<ye;){var ve=2*(B+1)-1,pe=de[ve],Ke=ve+1,rt=de[Ke];if(0>i(pe,he))Ke<H&&0>i(rt,pe)?(de[B]=rt,de[Ke]=he,B=Ke):(de[B]=pe,de[ve]=he,B=ve);else if(Ke<H&&0>i(rt,he))de[B]=rt,de[Ke]=he,B=Ke;else break e}}return ie}function i(de,ie){var he=de.sortIndex-ie.sortIndex;return he!==0?he:de.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],h=[],p=1,g=null,_=3,v=!1,I=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(de){for(var ie=t(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=de)r(h),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=t(h)}}function U(de){if(T=!1,F(de),!I)if(t(u)!==null)I=!0,ze($);else{var ie=t(h);ie!==null&&ue(U,ie.startTime-de)}}function $(de,ie){I=!1,T&&(T=!1,C(R),R=-1),v=!0;var he=_;try{for(F(ie),g=t(u);g!==null&&(!(g.expirationTime>ie)||de&&!W());){var B=g.callback;if(typeof B=="function"){g.callback=null,_=g.priorityLevel;var H=B(g.expirationTime<=ie);ie=n.unstable_now(),typeof H=="function"?g.callback=H:g===t(u)&&r(u),F(ie)}else r(u);g=t(u)}if(g!==null)var ye=!0;else{var ve=t(h);ve!==null&&ue(U,ve.startTime-ie),ye=!1}return ye}finally{g=null,_=he,v=!1}}var J=!1,x=null,R=-1,L=5,M=-1;function W(){return!(n.unstable_now()-M<L)}function k(){if(x!==null){var de=n.unstable_now();M=de;var ie=!0;try{ie=x(!0,de)}finally{ie?O():(J=!1,x=null)}}else J=!1}var O;if(typeof D=="function")O=function(){D(k)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ae=A.port2;A.port1.onmessage=k,O=function(){ae.postMessage(null)}}else O=function(){b(k,0)};function ze(de){x=de,J||(J=!0,O())}function ue(de,ie){R=b(function(){de(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(de){de.callback=null},n.unstable_continueExecution=function(){I||v||(I=!0,ze($))},n.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<de?Math.floor(1e3/de):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(de){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var he=_;_=ie;try{return de()}finally{_=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(de,ie){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var he=_;_=de;try{return ie()}finally{_=he}},n.unstable_scheduleCallback=function(de,ie,he){var B=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?B+he:B):he=B,de){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=he+H,de={id:p++,callback:ie,priorityLevel:de,startTime:he,expirationTime:H,sortIndex:-1},he>B?(de.sortIndex=he,e(h,de),t(u)===null&&de===t(h)&&(T?(C(R),R=-1):T=!0,ue(U,he-B))):(de.sortIndex=H,e(u,de),I||v||(I=!0,ze($))),de},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(de){var ie=_;return function(){var he=_;_=ie;try{return de.apply(this,arguments)}finally{_=he}}}})(m1)),m1}var tI;function jR(){return tI||(tI=1,f1.exports=UR()),f1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI;function WR(){if(nI)return Vr;nI=1;var n=h0(),e=jR();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function _(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function v(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,l,d,m){if(l===null||typeof l>"u"||v(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(o,l,d,m,y,E,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=E,this.removeEmptyString=N}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];b[l]=new T(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(C,D);b[l]=new T(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(C,D);b[l]=new T(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(C,D);b[l]=new T(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function F(o,l,d,m){var y=b.hasOwnProperty(l)?b[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(I(l,d,y,m)&&(d=null),m||y===null?_(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):y.mustUseProperty?o[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?o.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),J=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),W=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),de=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=de&&o[de]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,B;function H(o){if(B===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||""}return`
`+B+o}var ye=!1;function ve(o,l){if(!o||ye)return"";ye=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(se){var m=se}Reflect.construct(o,[],l)}else{try{l.call()}catch(se){m=se}o.call(l.prototype)}else{try{throw Error()}catch(se){m=se}o()}}catch(se){if(se&&m&&typeof se.stack=="string"){for(var y=se.stack.split(`
`),E=m.stack.split(`
`),N=y.length-1,q=E.length-1;1<=N&&0<=q&&y[N]!==E[q];)q--;for(;1<=N&&0<=q;N--,q--)if(y[N]!==E[q]){if(N!==1||q!==1)do if(N--,q--,0>q||y[N]!==E[q]){var Q=`
`+y[N].replace(" at new "," at ");return o.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",o.displayName)),Q}while(1<=N&&0<=q);break}}}finally{ye=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?H(o):""}function pe(o){switch(o.tag){case 5:return H(o.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return o=ve(o.type,!1),o;case 11:return o=ve(o.type.render,!1),o;case 1:return o=ve(o.type,!0),o;default:return""}}function Ke(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case J:return"Portal";case L:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case W:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case k:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ae:return l=o.displayName||null,l!==null?l:Ke(o.type)||"Memo";case ze:l=o._payload,o=o._init;try{return Ke(o(l))}catch{}}return null}function rt(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ke(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Me(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Qe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function lt(o){var l=Qe(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,E=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(N){m=""+N,E.call(this,N)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Tt(o){o._valueTracker||(o._valueTracker=lt(o))}function vn(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Qe(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function cn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function P(o,l){var d=l.checked;return he({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function fe(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=Me(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function le(o,l){l=l.checked,l!=null&&F(o,"checked",l,!1)}function G(o,l){le(o,l);var d=Me(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?X(o,l.type,d):l.hasOwnProperty("defaultValue")&&X(o,l.type,Me(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function j(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function X(o,l,d){(l!=="number"||cn(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var ge=Array.isArray;function _e(o,l,d,m){if(o=o.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<o.length;d++)y=l.hasOwnProperty("$"+o[d].value),o[d].selected!==y&&(o[d].selected=y),y&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Me(d),l=null,y=0;y<o.length;y++){if(o[y].value===d){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function ne(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ce(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(t(92));if(ge(d)){if(1<d.length)throw Error(t(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Me(d)}}function Fe(o,l){var d=Me(l.value),m=Me(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function me(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Pe(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Pe(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ne,Ze=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,y)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Ne=Ne||document.createElement("div"),Ne.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ne.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Ot(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];Object.keys(Dt).forEach(function(o){en.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Dt[l]=Dt[o]})});function pt(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Dt.hasOwnProperty(o)&&Dt[o]?(""+l).trim():l+"px"}function Qn(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=pt(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,y):o[d]=y}}var Cn=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jt(o,l){if(l){if(Cn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function fi(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function sr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wn=null,nt=null,gt=null;function or(o){if(o=_d(o)){if(typeof wn!="function")throw Error(t(280));var l=o.stateNode;l&&(l=_m(l),wn(o.stateNode,o.type,l))}}function Pn(o){nt?gt?gt.push(o):gt=[o]:nt=o}function go(){if(nt){var o=nt,l=gt;if(gt=nt=null,or(o),l)for(o=0;o<l.length;o++)or(l[o])}}function kr(o,l){return o(l)}function _o(){}var Rr=!1;function rs(o,l,d){if(Rr)return o(l,d);Rr=!0;try{return kr(o,l,d)}finally{Rr=!1,(nt!==null||gt!==null)&&(_o(),go())}}function tn(o,l){var d=o.stateNode;if(d===null)return null;var m=_m(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(t(231,l,typeof d));return d}var Ds=!1;if(c)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Ds=!1}function xa(o,l,d,m,y,E,N,q,Q){var se=Array.prototype.slice.call(arguments,3);try{l.apply(d,se)}catch(Ie){this.onError(Ie)}}var La=!1,Kl=null,xi=!1,Ju=null,V_={onError:function(o){La=!0,Kl=o}};function Ql(o,l,d,m,y,E,N,q,Q){La=!1,Kl=null,xa.apply(V_,arguments)}function jf(o,l,d,m,y,E,N,q,Q){if(Ql.apply(this,arguments),La){if(La){var se=Kl;La=!1,Kl=null}else throw Error(t(198));xi||(xi=!0,Ju=se)}}function Li(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Oa(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Oi(o){if(Li(o)!==o)throw Error(t(188))}function Wf(o){var l=o.alternate;if(!l){if(l=Li(o),l===null)throw Error(t(188));return l!==o?null:o}for(var d=o,m=l;;){var y=d.return;if(y===null)break;var E=y.alternate;if(E===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===d)return Oi(y),o;if(E===m)return Oi(y),l;E=E.sibling}throw Error(t(188))}if(d.return!==m.return)d=y,m=E;else{for(var N=!1,q=y.child;q;){if(q===d){N=!0,d=y,m=E;break}if(q===m){N=!0,m=y,d=E;break}q=q.sibling}if(!N){for(q=E.child;q;){if(q===d){N=!0,d=E,m=y;break}if(q===m){N=!0,m=E,d=y;break}q=q.sibling}if(!N)throw Error(t(189))}}if(d.alternate!==m)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?o:l}function Xu(o){return o=Wf(o),o!==null?Yl(o):null}function Yl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Yl(o);if(l!==null)return l;o=o.sibling}return null}var Jl=e.unstable_scheduleCallback,Zu=e.unstable_cancelCallback,Hf=e.unstable_shouldYield,B_=e.unstable_requestPaint,Ft=e.unstable_now,Gf=e.unstable_getCurrentPriorityLevel,Fa=e.unstable_ImmediatePriority,yo=e.unstable_UserBlockingPriority,mi=e.unstable_NormalPriority,ed=e.unstable_LowPriority,qf=e.unstable_IdlePriority,Ma=null,Jr=null;function $f(o){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Ma,o,void 0,(o.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:Qf,td=Math.log,Kf=Math.LN2;function Qf(o){return o>>>=0,o===0?32:31-(td(o)/Kf|0)|0}var Xl=64,Zl=4194304;function vo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Va(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,y=o.suspendedLanes,E=o.pingedLanes,N=d&268435455;if(N!==0){var q=N&~y;q!==0?m=vo(q):(E&=N,E!==0&&(m=vo(E)))}else N=d&~y,N!==0?m=vo(N):E!==0&&(m=vo(E));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,E=l&-l,y>=E||y===16&&(E&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-yr(l),y=1<<d,m|=o[d],l&=~y;return m}function z_(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,E=o.pendingLanes;0<E;){var N=31-yr(E),q=1<<N,Q=y[N];Q===-1?((q&d)===0||(q&m)!==0)&&(y[N]=z_(q,l)):Q<=l&&(o.expiredLanes|=q),E&=~q}}function Xr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ba(){var o=Xl;return Xl<<=1,(Xl&4194240)===0&&(Xl=64),o}function wo(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Eo(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-yr(l),o[l]=d}function xt(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var y=31-yr(d),E=1<<y;l[y]=0,m[y]=-1,o[y]=-1,d&=~E}}function To(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-yr(d),y=1<<m;y&l|o[m]&l&&(o[m]|=l),d&=~y}}var vt=0;function Io(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Yf,ec,Jf,Xf,Zf,nd=!1,is=[],Yn=null,Fi=null,Mi=null,bo=new Map,pi=new Map,ss=[],U_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function em(o,l){switch(o){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":bo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(l.pointerId)}}function Nr(o,l,d,m,y,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:E,targetContainers:[y]},l!==null&&(l=_d(l),l!==null&&ec(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function j_(o,l,d,m,y){switch(l){case"focusin":return Yn=Nr(Yn,o,l,d,m,y),!0;case"dragenter":return Fi=Nr(Fi,o,l,d,m,y),!0;case"mouseover":return Mi=Nr(Mi,o,l,d,m,y),!0;case"pointerover":var E=y.pointerId;return bo.set(E,Nr(bo.get(E)||null,o,l,d,m,y)),!0;case"gotpointercapture":return E=y.pointerId,pi.set(E,Nr(pi.get(E)||null,o,l,d,m,y)),!0}return!1}function tm(o){var l=Ha(o.target);if(l!==null){var d=Li(l);if(d!==null){if(l=d.tag,l===13){if(l=Oa(d),l!==null){o.blockedOn=l,Zf(o.priority,function(){Jf(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ls(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=tc(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Qr=m,d.target.dispatchEvent(m),Qr=null}else return l=_d(d),l!==null&&ec(l),o.blockedOn=d,!1;l.shift()}return!0}function za(o,l,d){Ls(o)&&d.delete(l)}function nm(){nd=!1,Yn!==null&&Ls(Yn)&&(Yn=null),Fi!==null&&Ls(Fi)&&(Fi=null),Mi!==null&&Ls(Mi)&&(Mi=null),bo.forEach(za),pi.forEach(za)}function Vi(o,l){o.blockedOn===l&&(o.blockedOn=null,nd||(nd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nm)))}function Bi(o){function l(y){return Vi(y,o)}if(0<is.length){Vi(is[0],o);for(var d=1;d<is.length;d++){var m=is[d];m.blockedOn===o&&(m.blockedOn=null)}}for(Yn!==null&&Vi(Yn,o),Fi!==null&&Vi(Fi,o),Mi!==null&&Vi(Mi,o),bo.forEach(l),pi.forEach(l),d=0;d<ss.length;d++)m=ss[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<ss.length&&(d=ss[0],d.blockedOn===null);)tm(d),d.blockedOn===null&&ss.shift()}var Os=U.ReactCurrentBatchConfig,So=!0;function $t(o,l,d,m){var y=vt,E=Os.transition;Os.transition=null;try{vt=1,rd(o,l,d,m)}finally{vt=y,Os.transition=E}}function W_(o,l,d,m){var y=vt,E=Os.transition;Os.transition=null;try{vt=4,rd(o,l,d,m)}finally{vt=y,Os.transition=E}}function rd(o,l,d,m){if(So){var y=tc(o,l,d,m);if(y===null)ey(o,l,m,Ua,d),em(o,m);else if(j_(y,o,l,d,m))m.stopPropagation();else if(em(o,m),l&4&&-1<U_.indexOf(o)){for(;y!==null;){var E=_d(y);if(E!==null&&Yf(E),E=tc(o,l,d,m),E===null&&ey(o,l,m,Ua,d),E===y)break;y=E}y!==null&&m.stopPropagation()}else ey(o,l,m,null,d)}}var Ua=null;function tc(o,l,d,m){if(Ua=null,o=sr(m),o=Ha(o),o!==null)if(l=Li(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Oa(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Ua=o,null}function id(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gf()){case Fa:return 1;case yo:return 4;case mi:case ed:return 16;case qf:return 536870912;default:return 16}default:return 16}}var Zr=null,nc=null,Dr=null;function sd(){if(Dr)return Dr;var o,l=nc,d=l.length,m,y="value"in Zr?Zr.value:Zr.textContent,E=y.length;for(o=0;o<d&&l[o]===y[o];o++);var N=d-o;for(m=1;m<=N&&l[d-m]===y[E-m];m++);return Dr=y.slice(o,1<m?1-m:void 0)}function rc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function os(){return!0}function od(){return!1}function Jn(o){function l(d,m,y,E,N){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(d=o[q],this[q]=d?d(E):E[q]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?os:od,this.isPropagationStopped=od,this}return he(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),l}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Jn(zi),as=he({},zi,{view:0,detail:0}),H_=Jn(as),sc,Fs,Co,ja=he({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Co&&(Co&&o.type==="mousemove"?(sc=o.screenX-Co.screenX,Fs=o.screenY-Co.screenY):Fs=sc=0,Co=o),sc)},movementY:function(o){return"movementY"in o?o.movementY:Fs}}),oc=Jn(ja),ad=he({},ja,{dataTransfer:0}),rm=Jn(ad),ac=he({},as,{relatedTarget:0}),lc=Jn(ac),im=he({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ms=Jn(im),sm=he({},zi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),om=Jn(sm),am=he({},zi,{data:0}),ld=Jn(am),cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cm(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=lm[o])?!!l[o]:!1}function ls(){return cm}var f=he({},as,{key:function(o){if(o.key){var l=cc[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=rc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?vr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(o){return o.type==="keypress"?rc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?rc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),w=Jn(f),S=he({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V=Jn(S),ee=he({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),ce=Jn(ee),De=he({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kt=Jn(De),An=he({},ja,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),wt=Jn(An),On=[9,13,27,32],En=c&&"CompositionEvent"in window,gi=null;c&&"documentMode"in document&&(gi=document.documentMode);var ei=c&&"TextEvent"in window&&!gi,Wa=c&&(!En||gi&&8<gi&&11>=gi),uc=" ",Hw=!1;function Gw(o,l){switch(o){case"keyup":return On.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var dc=!1;function O3(o,l){switch(o){case"compositionend":return qw(l);case"keypress":return l.which!==32?null:(Hw=!0,uc);case"textInput":return o=l.data,o===uc&&Hw?null:o;default:return null}}function F3(o,l){if(dc)return o==="compositionend"||!En&&Gw(o,l)?(o=sd(),Dr=nc=Zr=null,dc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Wa&&l.locale!=="ko"?null:l.data;default:return null}}var M3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $w(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!M3[o.type]:l==="textarea"}function Kw(o,l,d,m){Pn(m),l=mm(l,"onChange"),0<l.length&&(d=new ic("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var cd=null,ud=null;function V3(o){hE(o,0)}function um(o){var l=gc(o);if(vn(l))return o}function B3(o,l){if(o==="change")return l}var Qw=!1;if(c){var G_;if(c){var q_="oninput"in document;if(!q_){var Yw=document.createElement("div");Yw.setAttribute("oninput","return;"),q_=typeof Yw.oninput=="function"}G_=q_}else G_=!1;Qw=G_&&(!document.documentMode||9<document.documentMode)}function Jw(){cd&&(cd.detachEvent("onpropertychange",Xw),ud=cd=null)}function Xw(o){if(o.propertyName==="value"&&um(ud)){var l=[];Kw(l,ud,o,sr(o)),rs(V3,l)}}function z3(o,l,d){o==="focusin"?(Jw(),cd=l,ud=d,cd.attachEvent("onpropertychange",Xw)):o==="focusout"&&Jw()}function U3(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return um(ud)}function j3(o,l){if(o==="click")return um(l)}function W3(o,l){if(o==="input"||o==="change")return um(l)}function H3(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Ui=typeof Object.is=="function"?Object.is:H3;function dd(o,l){if(Ui(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!u.call(l,y)||!Ui(o[y],l[y]))return!1}return!0}function Zw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function eE(o,l){var d=Zw(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Zw(d)}}function tE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?tE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function nE(){for(var o=window,l=cn();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=cn(o.document)}return l}function $_(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function G3(o){var l=nE(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&tE(d.ownerDocument.documentElement,d)){if(m!==null&&$_(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=d.textContent.length,E=Math.min(m.start,y);m=m.end===void 0?E:Math.min(m.end,y),!o.extend&&E>m&&(y=m,m=E,E=y),y=eE(d,E);var N=eE(d,m);y&&N&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==N.node||o.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),E>m?(o.addRange(l),o.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var q3=c&&"documentMode"in document&&11>=document.documentMode,hc=null,K_=null,hd=null,Q_=!1;function rE(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Q_||hc==null||hc!==cn(m)||(m=hc,"selectionStart"in m&&$_(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),hd&&dd(hd,m)||(hd=m,m=mm(K_,"onSelect"),0<m.length&&(l=new ic("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=hc)))}function dm(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var fc={animationend:dm("Animation","AnimationEnd"),animationiteration:dm("Animation","AnimationIteration"),animationstart:dm("Animation","AnimationStart"),transitionend:dm("Transition","TransitionEnd")},Y_={},iE={};c&&(iE=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function hm(o){if(Y_[o])return Y_[o];if(!fc[o])return o;var l=fc[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in iE)return Y_[o]=l[d];return o}var sE=hm("animationend"),oE=hm("animationiteration"),aE=hm("animationstart"),lE=hm("transitionend"),cE=new Map,uE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(o,l){cE.set(o,l),s(l,[o])}for(var J_=0;J_<uE.length;J_++){var X_=uE[J_],$3=X_.toLowerCase(),K3=X_[0].toUpperCase()+X_.slice(1);Po($3,"on"+K3)}Po(sE,"onAnimationEnd"),Po(oE,"onAnimationIteration"),Po(aE,"onAnimationStart"),Po("dblclick","onDoubleClick"),Po("focusin","onFocus"),Po("focusout","onBlur"),Po(lE,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q3=new Set("cancel close invalid load scroll toggle".split(" ").concat(fd));function dE(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,jf(m,l,void 0,o),o.currentTarget=null}function hE(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],y=m.event;m=m.listeners;e:{var E=void 0;if(l)for(var N=m.length-1;0<=N;N--){var q=m[N],Q=q.instance,se=q.currentTarget;if(q=q.listener,Q!==E&&y.isPropagationStopped())break e;dE(y,q,se),E=Q}else for(N=0;N<m.length;N++){if(q=m[N],Q=q.instance,se=q.currentTarget,q=q.listener,Q!==E&&y.isPropagationStopped())break e;dE(y,q,se),E=Q}}}if(xi)throw o=Ju,xi=!1,Ju=null,o}function Wt(o,l){var d=l[oy];d===void 0&&(d=l[oy]=new Set);var m=o+"__bubble";d.has(m)||(fE(l,o,2,!1),d.add(m))}function Z_(o,l,d){var m=0;l&&(m|=4),fE(d,o,m,l)}var fm="_reactListening"+Math.random().toString(36).slice(2);function md(o){if(!o[fm]){o[fm]=!0,r.forEach(function(d){d!=="selectionchange"&&(Q3.has(d)||Z_(d,!1,o),Z_(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[fm]||(l[fm]=!0,Z_("selectionchange",!1,l))}}function fE(o,l,d,m){switch(id(l)){case 1:var y=$t;break;case 4:y=W_;break;default:y=rd}d=y.bind(null,l,d,o),y=void 0,!Ds||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(l,d,{capture:!0,passive:y}):o.addEventListener(l,d,!0):y!==void 0?o.addEventListener(l,d,{passive:y}):o.addEventListener(l,d,!1)}function ey(o,l,d,m,y){var E=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var q=m.stateNode.containerInfo;if(q===y||q.nodeType===8&&q.parentNode===y)break;if(N===4)for(N=m.return;N!==null;){var Q=N.tag;if((Q===3||Q===4)&&(Q=N.stateNode.containerInfo,Q===y||Q.nodeType===8&&Q.parentNode===y))return;N=N.return}for(;q!==null;){if(N=Ha(q),N===null)return;if(Q=N.tag,Q===5||Q===6){m=E=N;continue e}q=q.parentNode}}m=m.return}rs(function(){var se=E,Ie=sr(d),Se=[];e:{var Ee=cE.get(o);if(Ee!==void 0){var Be=ic,We=o;switch(o){case"keypress":if(rc(d)===0)break e;case"keydown":case"keyup":Be=w;break;case"focusin":We="focus",Be=lc;break;case"focusout":We="blur",Be=lc;break;case"beforeblur":case"afterblur":Be=lc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=ce;break;case sE:case oE:case aE:Be=Ms;break;case lE:Be=kt;break;case"scroll":Be=H_;break;case"wheel":Be=wt;break;case"copy":case"cut":case"paste":Be=om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=V}var Ge=(l&4)!==0,mn=!Ge&&o==="scroll",te=Ge?Ee!==null?Ee+"Capture":null:Ee;Ge=[];for(var Y=se,re;Y!==null;){re=Y;var Re=re.stateNode;if(re.tag===5&&Re!==null&&(re=Re,te!==null&&(Re=tn(Y,te),Re!=null&&Ge.push(pd(Y,Re,re)))),mn)break;Y=Y.return}0<Ge.length&&(Ee=new Be(Ee,We,null,d,Ie),Se.push({event:Ee,listeners:Ge}))}}if((l&7)===0){e:{if(Ee=o==="mouseover"||o==="pointerover",Be=o==="mouseout"||o==="pointerout",Ee&&d!==Qr&&(We=d.relatedTarget||d.fromElement)&&(Ha(We)||We[Vs]))break e;if((Be||Ee)&&(Ee=Ie.window===Ie?Ie:(Ee=Ie.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Be?(We=d.relatedTarget||d.toElement,Be=se,We=We?Ha(We):null,We!==null&&(mn=Li(We),We!==mn||We.tag!==5&&We.tag!==6)&&(We=null)):(Be=null,We=se),Be!==We)){if(Ge=oc,Re="onMouseLeave",te="onMouseEnter",Y="mouse",(o==="pointerout"||o==="pointerover")&&(Ge=V,Re="onPointerLeave",te="onPointerEnter",Y="pointer"),mn=Be==null?Ee:gc(Be),re=We==null?Ee:gc(We),Ee=new Ge(Re,Y+"leave",Be,d,Ie),Ee.target=mn,Ee.relatedTarget=re,Re=null,Ha(Ie)===se&&(Ge=new Ge(te,Y+"enter",We,d,Ie),Ge.target=re,Ge.relatedTarget=mn,Re=Ge),mn=Re,Be&&We)t:{for(Ge=Be,te=We,Y=0,re=Ge;re;re=mc(re))Y++;for(re=0,Re=te;Re;Re=mc(Re))re++;for(;0<Y-re;)Ge=mc(Ge),Y--;for(;0<re-Y;)te=mc(te),re--;for(;Y--;){if(Ge===te||te!==null&&Ge===te.alternate)break t;Ge=mc(Ge),te=mc(te)}Ge=null}else Ge=null;Be!==null&&mE(Se,Ee,Be,Ge,!1),We!==null&&mn!==null&&mE(Se,mn,We,Ge,!0)}}e:{if(Ee=se?gc(se):window,Be=Ee.nodeName&&Ee.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Ee.type==="file")var $e=B3;else if($w(Ee))if(Qw)$e=W3;else{$e=U3;var et=z3}else(Be=Ee.nodeName)&&Be.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&($e=j3);if($e&&($e=$e(o,se))){Kw(Se,$e,d,Ie);break e}et&&et(o,Ee,se),o==="focusout"&&(et=Ee._wrapperState)&&et.controlled&&Ee.type==="number"&&X(Ee,"number",Ee.value)}switch(et=se?gc(se):window,o){case"focusin":($w(et)||et.contentEditable==="true")&&(hc=et,K_=se,hd=null);break;case"focusout":hd=K_=hc=null;break;case"mousedown":Q_=!0;break;case"contextmenu":case"mouseup":case"dragend":Q_=!1,rE(Se,d,Ie);break;case"selectionchange":if(q3)break;case"keydown":case"keyup":rE(Se,d,Ie)}var tt;if(En)e:{switch(o){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else dc?Gw(o,d)&&(ot="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(ot="onCompositionStart");ot&&(Wa&&d.locale!=="ko"&&(dc||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&dc&&(tt=sd()):(Zr=Ie,nc="value"in Zr?Zr.value:Zr.textContent,dc=!0)),et=mm(se,ot),0<et.length&&(ot=new ld(ot,o,null,d,Ie),Se.push({event:ot,listeners:et}),tt?ot.data=tt:(tt=qw(d),tt!==null&&(ot.data=tt)))),(tt=ei?O3(o,d):F3(o,d))&&(se=mm(se,"onBeforeInput"),0<se.length&&(Ie=new ld("onBeforeInput","beforeinput",null,d,Ie),Se.push({event:Ie,listeners:se}),Ie.data=tt))}hE(Se,l)})}function pd(o,l,d){return{instance:o,listener:l,currentTarget:d}}function mm(o,l){for(var d=l+"Capture",m=[];o!==null;){var y=o,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=tn(o,d),E!=null&&m.unshift(pd(o,E,y)),E=tn(o,l),E!=null&&m.push(pd(o,E,y))),o=o.return}return m}function mc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function mE(o,l,d,m,y){for(var E=l._reactName,N=[];d!==null&&d!==m;){var q=d,Q=q.alternate,se=q.stateNode;if(Q!==null&&Q===m)break;q.tag===5&&se!==null&&(q=se,y?(Q=tn(d,E),Q!=null&&N.unshift(pd(d,Q,q))):y||(Q=tn(d,E),Q!=null&&N.push(pd(d,Q,q)))),d=d.return}N.length!==0&&o.push({event:l,listeners:N})}var Y3=/\r\n?/g,J3=/\u0000|\uFFFD/g;function pE(o){return(typeof o=="string"?o:""+o).replace(Y3,`
`).replace(J3,"")}function pm(o,l,d){if(l=pE(l),pE(o)!==l&&d)throw Error(t(425))}function gm(){}var ty=null,ny=null;function ry(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var iy=typeof setTimeout=="function"?setTimeout:void 0,X3=typeof clearTimeout=="function"?clearTimeout:void 0,gE=typeof Promise=="function"?Promise:void 0,Z3=typeof queueMicrotask=="function"?queueMicrotask:typeof gE<"u"?function(o){return gE.resolve(null).then(o).catch(eR)}:iy;function eR(o){setTimeout(function(){throw o})}function sy(o,l){var d=l,m=0;do{var y=d.nextSibling;if(o.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){o.removeChild(y),Bi(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);Bi(l)}function Ao(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function _E(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var pc=Math.random().toString(36).slice(2),cs="__reactFiber$"+pc,gd="__reactProps$"+pc,Vs="__reactContainer$"+pc,oy="__reactEvents$"+pc,tR="__reactListeners$"+pc,nR="__reactHandles$"+pc;function Ha(o){var l=o[cs];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Vs]||d[cs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=_E(o);o!==null;){if(d=o[cs])return d;o=_E(o)}return l}o=d,d=o.parentNode}return null}function _d(o){return o=o[cs]||o[Vs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function gc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function _m(o){return o[gd]||null}var ay=[],_c=-1;function ko(o){return{current:o}}function Ht(o){0>_c||(o.current=ay[_c],ay[_c]=null,_c--)}function Mt(o,l){_c++,ay[_c]=o.current,o.current=l}var Ro={},ar=ko(Ro),xr=ko(!1),Ga=Ro;function yc(o,l){var d=o.type.contextTypes;if(!d)return Ro;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in d)y[E]=l[E];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function Lr(o){return o=o.childContextTypes,o!=null}function ym(){Ht(xr),Ht(ar)}function yE(o,l,d){if(ar.current!==Ro)throw Error(t(168));Mt(ar,l),Mt(xr,d)}function vE(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(t(108,rt(o)||"Unknown",y));return he({},d,m)}function vm(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ro,Ga=ar.current,Mt(ar,o),Mt(xr,xr.current),!0}function wE(o,l,d){var m=o.stateNode;if(!m)throw Error(t(169));d?(o=vE(o,l,Ga),m.__reactInternalMemoizedMergedChildContext=o,Ht(xr),Ht(ar),Mt(ar,o)):Ht(xr),Mt(xr,d)}var Bs=null,wm=!1,ly=!1;function EE(o){Bs===null?Bs=[o]:Bs.push(o)}function rR(o){wm=!0,EE(o)}function No(){if(!ly&&Bs!==null){ly=!0;var o=0,l=vt;try{var d=Bs;for(vt=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}Bs=null,wm=!1}catch(y){throw Bs!==null&&(Bs=Bs.slice(o+1)),Jl(Fa,No),y}finally{vt=l,ly=!1}}return null}var vc=[],wc=0,Em=null,Tm=0,_i=[],yi=0,qa=null,zs=1,Us="";function $a(o,l){vc[wc++]=Tm,vc[wc++]=Em,Em=o,Tm=l}function TE(o,l,d){_i[yi++]=zs,_i[yi++]=Us,_i[yi++]=qa,qa=o;var m=zs;o=Us;var y=32-yr(m)-1;m&=~(1<<y),d+=1;var E=32-yr(l)+y;if(30<E){var N=y-y%5;E=(m&(1<<N)-1).toString(32),m>>=N,y-=N,zs=1<<32-yr(l)+y|d<<y|m,Us=E+o}else zs=1<<E|d<<y|m,Us=o}function cy(o){o.return!==null&&($a(o,1),TE(o,1,0))}function uy(o){for(;o===Em;)Em=vc[--wc],vc[wc]=null,Tm=vc[--wc],vc[wc]=null;for(;o===qa;)qa=_i[--yi],_i[yi]=null,Us=_i[--yi],_i[yi]=null,zs=_i[--yi],_i[yi]=null}var ti=null,ni=null,Kt=!1,ji=null;function IE(o,l){var d=Ti(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function bE(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,ti=o,ni=Ao(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,ti=o,ni=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=qa!==null?{id:zs,overflow:Us}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Ti(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,ti=o,ni=null,!0):!1;default:return!1}}function dy(o){return(o.mode&1)!==0&&(o.flags&128)===0}function hy(o){if(Kt){var l=ni;if(l){var d=l;if(!bE(o,l)){if(dy(o))throw Error(t(418));l=Ao(d.nextSibling);var m=ti;l&&bE(o,l)?IE(m,d):(o.flags=o.flags&-4097|2,Kt=!1,ti=o)}}else{if(dy(o))throw Error(t(418));o.flags=o.flags&-4097|2,Kt=!1,ti=o}}}function SE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ti=o}function Im(o){if(o!==ti)return!1;if(!Kt)return SE(o),Kt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!ry(o.type,o.memoizedProps)),l&&(l=ni)){if(dy(o))throw CE(),Error(t(418));for(;l;)IE(o,l),l=Ao(l.nextSibling)}if(SE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){ni=Ao(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}ni=null}}else ni=ti?Ao(o.stateNode.nextSibling):null;return!0}function CE(){for(var o=ni;o;)o=Ao(o.nextSibling)}function Ec(){ni=ti=null,Kt=!1}function fy(o){ji===null?ji=[o]:ji.push(o)}var iR=U.ReactCurrentBatchConfig;function yd(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var m=d.stateNode}if(!m)throw Error(t(147,o));var y=m,E=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(N){var q=y.refs;N===null?delete q[E]:q[E]=N},l._stringRef=E,l)}if(typeof o!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,o))}return o}function bm(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function PE(o){var l=o._init;return l(o._payload)}function AE(o){function l(te,Y){if(o){var re=te.deletions;re===null?(te.deletions=[Y],te.flags|=16):re.push(Y)}}function d(te,Y){if(!o)return null;for(;Y!==null;)l(te,Y),Y=Y.sibling;return null}function m(te,Y){for(te=new Map;Y!==null;)Y.key!==null?te.set(Y.key,Y):te.set(Y.index,Y),Y=Y.sibling;return te}function y(te,Y){return te=Bo(te,Y),te.index=0,te.sibling=null,te}function E(te,Y,re){return te.index=re,o?(re=te.alternate,re!==null?(re=re.index,re<Y?(te.flags|=2,Y):re):(te.flags|=2,Y)):(te.flags|=1048576,Y)}function N(te){return o&&te.alternate===null&&(te.flags|=2),te}function q(te,Y,re,Re){return Y===null||Y.tag!==6?(Y=i1(re,te.mode,Re),Y.return=te,Y):(Y=y(Y,re),Y.return=te,Y)}function Q(te,Y,re,Re){var $e=re.type;return $e===x?Ie(te,Y,re.props.children,Re,re.key):Y!==null&&(Y.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ze&&PE($e)===Y.type)?(Re=y(Y,re.props),Re.ref=yd(te,Y,re),Re.return=te,Re):(Re=Km(re.type,re.key,re.props,null,te.mode,Re),Re.ref=yd(te,Y,re),Re.return=te,Re)}function se(te,Y,re,Re){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=s1(re,te.mode,Re),Y.return=te,Y):(Y=y(Y,re.children||[]),Y.return=te,Y)}function Ie(te,Y,re,Re,$e){return Y===null||Y.tag!==7?(Y=tl(re,te.mode,Re,$e),Y.return=te,Y):(Y=y(Y,re),Y.return=te,Y)}function Se(te,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=i1(""+Y,te.mode,re),Y.return=te,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return re=Km(Y.type,Y.key,Y.props,null,te.mode,re),re.ref=yd(te,null,Y),re.return=te,re;case J:return Y=s1(Y,te.mode,re),Y.return=te,Y;case ze:var Re=Y._init;return Se(te,Re(Y._payload),re)}if(ge(Y)||ie(Y))return Y=tl(Y,te.mode,re,null),Y.return=te,Y;bm(te,Y)}return null}function Ee(te,Y,re,Re){var $e=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return $e!==null?null:q(te,Y,""+re,Re);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case $:return re.key===$e?Q(te,Y,re,Re):null;case J:return re.key===$e?se(te,Y,re,Re):null;case ze:return $e=re._init,Ee(te,Y,$e(re._payload),Re)}if(ge(re)||ie(re))return $e!==null?null:Ie(te,Y,re,Re,null);bm(te,re)}return null}function Be(te,Y,re,Re,$e){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return te=te.get(re)||null,q(Y,te,""+Re,$e);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case $:return te=te.get(Re.key===null?re:Re.key)||null,Q(Y,te,Re,$e);case J:return te=te.get(Re.key===null?re:Re.key)||null,se(Y,te,Re,$e);case ze:var et=Re._init;return Be(te,Y,re,et(Re._payload),$e)}if(ge(Re)||ie(Re))return te=te.get(re)||null,Ie(Y,te,Re,$e,null);bm(Y,Re)}return null}function We(te,Y,re,Re){for(var $e=null,et=null,tt=Y,ot=Y=0,Vn=null;tt!==null&&ot<re.length;ot++){tt.index>ot?(Vn=tt,tt=null):Vn=tt.sibling;var bt=Ee(te,tt,re[ot],Re);if(bt===null){tt===null&&(tt=Vn);break}o&&tt&&bt.alternate===null&&l(te,tt),Y=E(bt,Y,ot),et===null?$e=bt:et.sibling=bt,et=bt,tt=Vn}if(ot===re.length)return d(te,tt),Kt&&$a(te,ot),$e;if(tt===null){for(;ot<re.length;ot++)tt=Se(te,re[ot],Re),tt!==null&&(Y=E(tt,Y,ot),et===null?$e=tt:et.sibling=tt,et=tt);return Kt&&$a(te,ot),$e}for(tt=m(te,tt);ot<re.length;ot++)Vn=Be(tt,te,ot,re[ot],Re),Vn!==null&&(o&&Vn.alternate!==null&&tt.delete(Vn.key===null?ot:Vn.key),Y=E(Vn,Y,ot),et===null?$e=Vn:et.sibling=Vn,et=Vn);return o&&tt.forEach(function(zo){return l(te,zo)}),Kt&&$a(te,ot),$e}function Ge(te,Y,re,Re){var $e=ie(re);if(typeof $e!="function")throw Error(t(150));if(re=$e.call(re),re==null)throw Error(t(151));for(var et=$e=null,tt=Y,ot=Y=0,Vn=null,bt=re.next();tt!==null&&!bt.done;ot++,bt=re.next()){tt.index>ot?(Vn=tt,tt=null):Vn=tt.sibling;var zo=Ee(te,tt,bt.value,Re);if(zo===null){tt===null&&(tt=Vn);break}o&&tt&&zo.alternate===null&&l(te,tt),Y=E(zo,Y,ot),et===null?$e=zo:et.sibling=zo,et=zo,tt=Vn}if(bt.done)return d(te,tt),Kt&&$a(te,ot),$e;if(tt===null){for(;!bt.done;ot++,bt=re.next())bt=Se(te,bt.value,Re),bt!==null&&(Y=E(bt,Y,ot),et===null?$e=bt:et.sibling=bt,et=bt);return Kt&&$a(te,ot),$e}for(tt=m(te,tt);!bt.done;ot++,bt=re.next())bt=Be(tt,te,ot,bt.value,Re),bt!==null&&(o&&bt.alternate!==null&&tt.delete(bt.key===null?ot:bt.key),Y=E(bt,Y,ot),et===null?$e=bt:et.sibling=bt,et=bt);return o&&tt.forEach(function(MR){return l(te,MR)}),Kt&&$a(te,ot),$e}function mn(te,Y,re,Re){if(typeof re=="object"&&re!==null&&re.type===x&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case $:e:{for(var $e=re.key,et=Y;et!==null;){if(et.key===$e){if($e=re.type,$e===x){if(et.tag===7){d(te,et.sibling),Y=y(et,re.props.children),Y.return=te,te=Y;break e}}else if(et.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ze&&PE($e)===et.type){d(te,et.sibling),Y=y(et,re.props),Y.ref=yd(te,et,re),Y.return=te,te=Y;break e}d(te,et);break}else l(te,et);et=et.sibling}re.type===x?(Y=tl(re.props.children,te.mode,Re,re.key),Y.return=te,te=Y):(Re=Km(re.type,re.key,re.props,null,te.mode,Re),Re.ref=yd(te,Y,re),Re.return=te,te=Re)}return N(te);case J:e:{for(et=re.key;Y!==null;){if(Y.key===et)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){d(te,Y.sibling),Y=y(Y,re.children||[]),Y.return=te,te=Y;break e}else{d(te,Y);break}else l(te,Y);Y=Y.sibling}Y=s1(re,te.mode,Re),Y.return=te,te=Y}return N(te);case ze:return et=re._init,mn(te,Y,et(re._payload),Re)}if(ge(re))return We(te,Y,re,Re);if(ie(re))return Ge(te,Y,re,Re);bm(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(d(te,Y.sibling),Y=y(Y,re),Y.return=te,te=Y):(d(te,Y),Y=i1(re,te.mode,Re),Y.return=te,te=Y),N(te)):d(te,Y)}return mn}var Tc=AE(!0),kE=AE(!1),Sm=ko(null),Cm=null,Ic=null,my=null;function py(){my=Ic=Cm=null}function gy(o){var l=Sm.current;Ht(Sm),o._currentValue=l}function _y(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function bc(o,l){Cm=o,my=Ic=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Or=!0),o.firstContext=null)}function vi(o){var l=o._currentValue;if(my!==o)if(o={context:o,memoizedValue:l,next:null},Ic===null){if(Cm===null)throw Error(t(308));Ic=o,Cm.dependencies={lanes:0,firstContext:o}}else Ic=Ic.next=o;return l}var Ka=null;function yy(o){Ka===null?Ka=[o]:Ka.push(o)}function RE(o,l,d,m){var y=l.interleaved;return y===null?(d.next=d,yy(l)):(d.next=y.next,y.next=d),l.interleaved=d,js(o,m)}function js(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Do=!1;function vy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NE(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ws(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function xo(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(It&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,js(o,d)}return y=m.interleaved,y===null?(l.next=l,yy(m)):(l.next=y.next,y.next=l),m.interleaved=l,js(o,d)}function Pm(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,To(o,d)}}function DE(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var N={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};E===null?y=E=N:E=E.next=N,d=d.next}while(d!==null);E===null?y=E=l:E=E.next=l}else y=E=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Am(o,l,d,m){var y=o.updateQueue;Do=!1;var E=y.firstBaseUpdate,N=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var Q=q,se=Q.next;Q.next=null,N===null?E=se:N.next=se,N=Q;var Ie=o.alternate;Ie!==null&&(Ie=Ie.updateQueue,q=Ie.lastBaseUpdate,q!==N&&(q===null?Ie.firstBaseUpdate=se:q.next=se,Ie.lastBaseUpdate=Q))}if(E!==null){var Se=y.baseState;N=0,Ie=se=Q=null,q=E;do{var Ee=q.lane,Be=q.eventTime;if((m&Ee)===Ee){Ie!==null&&(Ie=Ie.next={eventTime:Be,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var We=o,Ge=q;switch(Ee=l,Be=d,Ge.tag){case 1:if(We=Ge.payload,typeof We=="function"){Se=We.call(Be,Se,Ee);break e}Se=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ge.payload,Ee=typeof We=="function"?We.call(Be,Se,Ee):We,Ee==null)break e;Se=he({},Se,Ee);break e;case 2:Do=!0}}q.callback!==null&&q.lane!==0&&(o.flags|=64,Ee=y.effects,Ee===null?y.effects=[q]:Ee.push(q))}else Be={eventTime:Be,lane:Ee,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ie===null?(se=Ie=Be,Q=Se):Ie=Ie.next=Be,N|=Ee;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;Ee=q,q=Ee.next,Ee.next=null,y.lastBaseUpdate=Ee,y.shared.pending=null}}while(!0);if(Ie===null&&(Q=Se),y.baseState=Q,y.firstBaseUpdate=se,y.lastBaseUpdate=Ie,l=y.shared.interleaved,l!==null){y=l;do N|=y.lane,y=y.next;while(y!==l)}else E===null&&(y.shared.lanes=0);Ja|=N,o.lanes=N,o.memoizedState=Se}}function xE(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(t(191,y));y.call(m)}}}var vd={},us=ko(vd),wd=ko(vd),Ed=ko(vd);function Qa(o){if(o===vd)throw Error(t(174));return o}function wy(o,l){switch(Mt(Ed,l),Mt(wd,o),Mt(us,vd),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Le(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Le(l,o)}Ht(us),Mt(us,l)}function Sc(){Ht(us),Ht(wd),Ht(Ed)}function LE(o){Qa(Ed.current);var l=Qa(us.current),d=Le(l,o.type);l!==d&&(Mt(wd,o),Mt(us,d))}function Ey(o){wd.current===o&&(Ht(us),Ht(wd))}var nn=ko(0);function km(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ty=[];function Iy(){for(var o=0;o<Ty.length;o++)Ty[o]._workInProgressVersionPrimary=null;Ty.length=0}var Rm=U.ReactCurrentDispatcher,by=U.ReactCurrentBatchConfig,Ya=0,rn=null,kn=null,Fn=null,Nm=!1,Td=!1,Id=0,sR=0;function lr(){throw Error(t(321))}function Sy(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Ui(o[d],l[d]))return!1;return!0}function Cy(o,l,d,m,y,E){if(Ya=E,rn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Rm.current=o===null||o.memoizedState===null?cR:uR,o=d(m,y),Td){E=0;do{if(Td=!1,Id=0,25<=E)throw Error(t(301));E+=1,Fn=kn=null,l.updateQueue=null,Rm.current=dR,o=d(m,y)}while(Td)}if(Rm.current=Lm,l=kn!==null&&kn.next!==null,Ya=0,Fn=kn=rn=null,Nm=!1,l)throw Error(t(300));return o}function Py(){var o=Id!==0;return Id=0,o}function ds(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?rn.memoizedState=Fn=o:Fn=Fn.next=o,Fn}function wi(){if(kn===null){var o=rn.alternate;o=o!==null?o.memoizedState:null}else o=kn.next;var l=Fn===null?rn.memoizedState:Fn.next;if(l!==null)Fn=l,kn=o;else{if(o===null)throw Error(t(310));kn=o,o={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Fn===null?rn.memoizedState=Fn=o:Fn=Fn.next=o}return Fn}function bd(o,l){return typeof l=="function"?l(o):l}function Ay(o){var l=wi(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=o;var m=kn,y=m.baseQueue,E=d.pending;if(E!==null){if(y!==null){var N=y.next;y.next=E.next,E.next=N}m.baseQueue=y=E,d.pending=null}if(y!==null){E=y.next,m=m.baseState;var q=N=null,Q=null,se=E;do{var Ie=se.lane;if((Ya&Ie)===Ie)Q!==null&&(Q=Q.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),m=se.hasEagerState?se.eagerState:o(m,se.action);else{var Se={lane:Ie,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Q===null?(q=Q=Se,N=m):Q=Q.next=Se,rn.lanes|=Ie,Ja|=Ie}se=se.next}while(se!==null&&se!==E);Q===null?N=m:Q.next=q,Ui(m,l.memoizedState)||(Or=!0),l.memoizedState=m,l.baseState=N,l.baseQueue=Q,d.lastRenderedState=m}if(o=d.interleaved,o!==null){y=o;do E=y.lane,rn.lanes|=E,Ja|=E,y=y.next;while(y!==o)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function ky(o){var l=wi(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=o;var m=d.dispatch,y=d.pending,E=l.memoizedState;if(y!==null){d.pending=null;var N=y=y.next;do E=o(E,N.action),N=N.next;while(N!==y);Ui(E,l.memoizedState)||(Or=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,m]}function OE(){}function FE(o,l){var d=rn,m=wi(),y=l(),E=!Ui(m.memoizedState,y);if(E&&(m.memoizedState=y,Or=!0),m=m.queue,Ry(BE.bind(null,d,m,o),[o]),m.getSnapshot!==l||E||Fn!==null&&Fn.memoizedState.tag&1){if(d.flags|=2048,Sd(9,VE.bind(null,d,m,y,l),void 0,null),Mn===null)throw Error(t(349));(Ya&30)!==0||ME(d,l,y)}return y}function ME(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=rn.updateQueue,l===null?(l={lastEffect:null,stores:null},rn.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function VE(o,l,d,m){l.value=d,l.getSnapshot=m,zE(l)&&UE(o)}function BE(o,l,d){return d(function(){zE(l)&&UE(o)})}function zE(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Ui(o,d)}catch{return!0}}function UE(o){var l=js(o,1);l!==null&&qi(l,o,1,-1)}function jE(o){var l=ds();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:o},l.queue=o,o=o.dispatch=lR.bind(null,rn,o),[l.memoizedState,o]}function Sd(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=rn.updateQueue,l===null?(l={lastEffect:null,stores:null},rn.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function WE(){return wi().memoizedState}function Dm(o,l,d,m){var y=ds();rn.flags|=o,y.memoizedState=Sd(1|l,d,void 0,m===void 0?null:m)}function xm(o,l,d,m){var y=wi();m=m===void 0?null:m;var E=void 0;if(kn!==null){var N=kn.memoizedState;if(E=N.destroy,m!==null&&Sy(m,N.deps)){y.memoizedState=Sd(l,d,E,m);return}}rn.flags|=o,y.memoizedState=Sd(1|l,d,E,m)}function HE(o,l){return Dm(8390656,8,o,l)}function Ry(o,l){return xm(2048,8,o,l)}function GE(o,l){return xm(4,2,o,l)}function qE(o,l){return xm(4,4,o,l)}function $E(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function KE(o,l,d){return d=d!=null?d.concat([o]):null,xm(4,4,$E.bind(null,l,o),d)}function Ny(){}function QE(o,l){var d=wi();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Sy(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function YE(o,l){var d=wi();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Sy(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function JE(o,l,d){return(Ya&21)===0?(o.baseState&&(o.baseState=!1,Or=!0),o.memoizedState=d):(Ui(d,l)||(d=Ba(),rn.lanes|=d,Ja|=d,o.baseState=!0),l)}function oR(o,l){var d=vt;vt=d!==0&&4>d?d:4,o(!0);var m=by.transition;by.transition={};try{o(!1),l()}finally{vt=d,by.transition=m}}function XE(){return wi().memoizedState}function aR(o,l,d){var m=Mo(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},ZE(o))eT(l,d);else if(d=RE(o,l,d,m),d!==null){var y=Er();qi(d,o,m,y),tT(d,l,m)}}function lR(o,l,d){var m=Mo(o),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(ZE(o))eT(l,y);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var N=l.lastRenderedState,q=E(N,d);if(y.hasEagerState=!0,y.eagerState=q,Ui(q,N)){var Q=l.interleaved;Q===null?(y.next=y,yy(l)):(y.next=Q.next,Q.next=y),l.interleaved=y;return}}catch{}finally{}d=RE(o,l,y,m),d!==null&&(y=Er(),qi(d,o,m,y),tT(d,l,m))}}function ZE(o){var l=o.alternate;return o===rn||l!==null&&l===rn}function eT(o,l){Td=Nm=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function tT(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,To(o,d)}}var Lm={readContext:vi,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},cR={readContext:vi,useCallback:function(o,l){return ds().memoizedState=[o,l===void 0?null:l],o},useContext:vi,useEffect:HE,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Dm(4194308,4,$E.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Dm(4194308,4,o,l)},useInsertionEffect:function(o,l){return Dm(4,2,o,l)},useMemo:function(o,l){var d=ds();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=ds();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=aR.bind(null,rn,o),[m.memoizedState,o]},useRef:function(o){var l=ds();return o={current:o},l.memoizedState=o},useState:jE,useDebugValue:Ny,useDeferredValue:function(o){return ds().memoizedState=o},useTransition:function(){var o=jE(!1),l=o[0];return o=oR.bind(null,o[1]),ds().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=rn,y=ds();if(Kt){if(d===void 0)throw Error(t(407));d=d()}else{if(d=l(),Mn===null)throw Error(t(349));(Ya&30)!==0||ME(m,l,d)}y.memoizedState=d;var E={value:d,getSnapshot:l};return y.queue=E,HE(BE.bind(null,m,E,o),[o]),m.flags|=2048,Sd(9,VE.bind(null,m,E,d,l),void 0,null),d},useId:function(){var o=ds(),l=Mn.identifierPrefix;if(Kt){var d=Us,m=zs;d=(m&~(1<<32-yr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Id++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=sR++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},uR={readContext:vi,useCallback:QE,useContext:vi,useEffect:Ry,useImperativeHandle:KE,useInsertionEffect:GE,useLayoutEffect:qE,useMemo:YE,useReducer:Ay,useRef:WE,useState:function(){return Ay(bd)},useDebugValue:Ny,useDeferredValue:function(o){var l=wi();return JE(l,kn.memoizedState,o)},useTransition:function(){var o=Ay(bd)[0],l=wi().memoizedState;return[o,l]},useMutableSource:OE,useSyncExternalStore:FE,useId:XE,unstable_isNewReconciler:!1},dR={readContext:vi,useCallback:QE,useContext:vi,useEffect:Ry,useImperativeHandle:KE,useInsertionEffect:GE,useLayoutEffect:qE,useMemo:YE,useReducer:ky,useRef:WE,useState:function(){return ky(bd)},useDebugValue:Ny,useDeferredValue:function(o){var l=wi();return kn===null?l.memoizedState=o:JE(l,kn.memoizedState,o)},useTransition:function(){var o=ky(bd)[0],l=wi().memoizedState;return[o,l]},useMutableSource:OE,useSyncExternalStore:FE,useId:XE,unstable_isNewReconciler:!1};function Wi(o,l){if(o&&o.defaultProps){l=he({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Dy(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:he({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Om={isMounted:function(o){return(o=o._reactInternals)?Li(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Er(),y=Mo(o),E=Ws(m,y);E.payload=l,d!=null&&(E.callback=d),l=xo(o,E,y),l!==null&&(qi(l,o,y,m),Pm(l,o,y))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Er(),y=Mo(o),E=Ws(m,y);E.tag=1,E.payload=l,d!=null&&(E.callback=d),l=xo(o,E,y),l!==null&&(qi(l,o,y,m),Pm(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Er(),m=Mo(o),y=Ws(d,m);y.tag=2,l!=null&&(y.callback=l),l=xo(o,y,m),l!==null&&(qi(l,o,m,d),Pm(l,o,m))}};function nT(o,l,d,m,y,E,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,E,N):l.prototype&&l.prototype.isPureReactComponent?!dd(d,m)||!dd(y,E):!0}function rT(o,l,d){var m=!1,y=Ro,E=l.contextType;return typeof E=="object"&&E!==null?E=vi(E):(y=Lr(l)?Ga:ar.current,m=l.contextTypes,E=(m=m!=null)?yc(o,y):Ro),l=new l(d,E),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Om,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=E),l}function iT(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Om.enqueueReplaceState(l,l.state,null)}function xy(o,l,d,m){var y=o.stateNode;y.props=d,y.state=o.memoizedState,y.refs={},vy(o);var E=l.contextType;typeof E=="object"&&E!==null?y.context=vi(E):(E=Lr(l)?Ga:ar.current,y.context=yc(o,E)),y.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Dy(o,l,E,d),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Om.enqueueReplaceState(y,y.state,null),Am(o,d,y,m),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Cc(o,l){try{var d="",m=l;do d+=pe(m),m=m.return;while(m);var y=d}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:l,stack:y,digest:null}}function Ly(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Oy(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var hR=typeof WeakMap=="function"?WeakMap:Map;function sT(o,l,d){d=Ws(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){jm||(jm=!0,Yy=m),Oy(o,l)},d}function oT(o,l,d){d=Ws(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){Oy(o,l)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(d.callback=function(){Oy(o,l),typeof m!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),d}function aT(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new hR;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),o=CR.bind(null,o,l,d),l.then(o,o))}function lT(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function cT(o,l,d,m,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ws(-1,1),l.tag=2,xo(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var fR=U.ReactCurrentOwner,Or=!1;function wr(o,l,d,m){l.child=o===null?kE(l,null,d,m):Tc(l,o.child,d,m)}function uT(o,l,d,m,y){d=d.render;var E=l.ref;return bc(l,y),m=Cy(o,l,d,m,E,y),d=Py(),o!==null&&!Or?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Hs(o,l,y)):(Kt&&d&&cy(l),l.flags|=1,wr(o,l,m,y),l.child)}function dT(o,l,d,m,y){if(o===null){var E=d.type;return typeof E=="function"&&!r1(E)&&E.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=E,hT(o,l,E,m,y)):(o=Km(d.type,null,m,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,(o.lanes&y)===0){var N=E.memoizedProps;if(d=d.compare,d=d!==null?d:dd,d(N,m)&&o.ref===l.ref)return Hs(o,l,y)}return l.flags|=1,o=Bo(E,m),o.ref=l.ref,o.return=l,l.child=o}function hT(o,l,d,m,y){if(o!==null){var E=o.memoizedProps;if(dd(E,m)&&o.ref===l.ref)if(Or=!1,l.pendingProps=m=E,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Or=!0);else return l.lanes=o.lanes,Hs(o,l,y)}return Fy(o,l,d,m,y)}function fT(o,l,d){var m=l.pendingProps,y=m.children,E=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Ac,ri),ri|=d;else{if((d&1073741824)===0)return o=E!==null?E.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Mt(Ac,ri),ri|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:d,Mt(Ac,ri),ri|=m}else E!==null?(m=E.baseLanes|d,l.memoizedState=null):m=d,Mt(Ac,ri),ri|=m;return wr(o,l,y,d),l.child}function mT(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Fy(o,l,d,m,y){var E=Lr(d)?Ga:ar.current;return E=yc(l,E),bc(l,y),d=Cy(o,l,d,m,E,y),m=Py(),o!==null&&!Or?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,Hs(o,l,y)):(Kt&&m&&cy(l),l.flags|=1,wr(o,l,d,y),l.child)}function pT(o,l,d,m,y){if(Lr(d)){var E=!0;vm(l)}else E=!1;if(bc(l,y),l.stateNode===null)Mm(o,l),rT(l,d,m),xy(l,d,m,y),m=!0;else if(o===null){var N=l.stateNode,q=l.memoizedProps;N.props=q;var Q=N.context,se=d.contextType;typeof se=="object"&&se!==null?se=vi(se):(se=Lr(d)?Ga:ar.current,se=yc(l,se));var Ie=d.getDerivedStateFromProps,Se=typeof Ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";Se||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q!==m||Q!==se)&&iT(l,N,m,se),Do=!1;var Ee=l.memoizedState;N.state=Ee,Am(l,m,N,y),Q=l.memoizedState,q!==m||Ee!==Q||xr.current||Do?(typeof Ie=="function"&&(Dy(l,d,Ie,m),Q=l.memoizedState),(q=Do||nT(l,d,q,m,Ee,Q,se))?(Se||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Q),N.props=m,N.state=Q,N.context=se,m=q):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{N=l.stateNode,NE(o,l),q=l.memoizedProps,se=l.type===l.elementType?q:Wi(l.type,q),N.props=se,Se=l.pendingProps,Ee=N.context,Q=d.contextType,typeof Q=="object"&&Q!==null?Q=vi(Q):(Q=Lr(d)?Ga:ar.current,Q=yc(l,Q));var Be=d.getDerivedStateFromProps;(Ie=typeof Be=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q!==Se||Ee!==Q)&&iT(l,N,m,Q),Do=!1,Ee=l.memoizedState,N.state=Ee,Am(l,m,N,y);var We=l.memoizedState;q!==Se||Ee!==We||xr.current||Do?(typeof Be=="function"&&(Dy(l,d,Be,m),We=l.memoizedState),(se=Do||nT(l,d,se,m,Ee,We,Q)||!1)?(Ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,We,Q),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,We,Q)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||q===o.memoizedProps&&Ee===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&Ee===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=We),N.props=m,N.state=We,N.context=Q,m=se):(typeof N.componentDidUpdate!="function"||q===o.memoizedProps&&Ee===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&Ee===o.memoizedState||(l.flags|=1024),m=!1)}return My(o,l,d,m,E,y)}function My(o,l,d,m,y,E){mT(o,l);var N=(l.flags&128)!==0;if(!m&&!N)return y&&wE(l,d,!1),Hs(o,l,E);m=l.stateNode,fR.current=l;var q=N&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&N?(l.child=Tc(l,o.child,null,E),l.child=Tc(l,null,q,E)):wr(o,l,q,E),l.memoizedState=m.state,y&&wE(l,d,!0),l.child}function gT(o){var l=o.stateNode;l.pendingContext?yE(o,l.pendingContext,l.pendingContext!==l.context):l.context&&yE(o,l.context,!1),wy(o,l.containerInfo)}function _T(o,l,d,m,y){return Ec(),fy(y),l.flags|=256,wr(o,l,d,m),l.child}var Vy={dehydrated:null,treeContext:null,retryLane:0};function By(o){return{baseLanes:o,cachePool:null,transitions:null}}function yT(o,l,d){var m=l.pendingProps,y=nn.current,E=!1,N=(l.flags&128)!==0,q;if((q=N)||(q=o!==null&&o.memoizedState===null?!1:(y&2)!==0),q?(E=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Mt(nn,y&1),o===null)return hy(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=m.children,o=m.fallback,E?(m=l.mode,E=l.child,N={mode:"hidden",children:N},(m&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=N):E=Qm(N,m,0,null),o=tl(o,m,d,null),E.return=l,o.return=l,E.sibling=o,l.child=E,l.child.memoizedState=By(d),l.memoizedState=Vy,o):zy(l,N));if(y=o.memoizedState,y!==null&&(q=y.dehydrated,q!==null))return mR(o,l,N,m,q,y,d);if(E){E=m.fallback,N=l.mode,y=o.child,q=y.sibling;var Q={mode:"hidden",children:m.children};return(N&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=Q,l.deletions=null):(m=Bo(y,Q),m.subtreeFlags=y.subtreeFlags&14680064),q!==null?E=Bo(q,E):(E=tl(E,N,d,null),E.flags|=2),E.return=l,m.return=l,m.sibling=E,l.child=m,m=E,E=l.child,N=o.child.memoizedState,N=N===null?By(d):{baseLanes:N.baseLanes|d,cachePool:null,transitions:N.transitions},E.memoizedState=N,E.childLanes=o.childLanes&~d,l.memoizedState=Vy,m}return E=o.child,o=E.sibling,m=Bo(E,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function zy(o,l){return l=Qm({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Fm(o,l,d,m){return m!==null&&fy(m),Tc(l,o.child,null,d),o=zy(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function mR(o,l,d,m,y,E,N){if(d)return l.flags&256?(l.flags&=-257,m=Ly(Error(t(422))),Fm(o,l,N,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(E=m.fallback,y=l.mode,m=Qm({mode:"visible",children:m.children},y,0,null),E=tl(E,y,N,null),E.flags|=2,m.return=l,E.return=l,m.sibling=E,l.child=m,(l.mode&1)!==0&&Tc(l,o.child,null,N),l.child.memoizedState=By(N),l.memoizedState=Vy,E);if((l.mode&1)===0)return Fm(o,l,N,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var q=m.dgst;return m=q,E=Error(t(419)),m=Ly(E,m,void 0),Fm(o,l,N,m)}if(q=(N&o.childLanes)!==0,Or||q){if(m=Mn,m!==null){switch(N&-N){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|N))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,js(o,y),qi(m,o,y,-1))}return n1(),m=Ly(Error(t(421))),Fm(o,l,N,m)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=PR.bind(null,o),y._reactRetry=l,null):(o=E.treeContext,ni=Ao(y.nextSibling),ti=l,Kt=!0,ji=null,o!==null&&(_i[yi++]=zs,_i[yi++]=Us,_i[yi++]=qa,zs=o.id,Us=o.overflow,qa=l),l=zy(l,m.children),l.flags|=4096,l)}function vT(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),_y(o.return,l,d)}function Uy(o,l,d,m,y){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=d,E.tailMode=y)}function wT(o,l,d){var m=l.pendingProps,y=m.revealOrder,E=m.tail;if(wr(o,l,m.children,d),m=nn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vT(o,d,l);else if(o.tag===19)vT(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(Mt(nn,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)o=d.alternate,o!==null&&km(o)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Uy(l,!1,y,d,E);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&km(o)===null){l.child=y;break}o=y.sibling,y.sibling=d,d=y,y=o}Uy(l,!0,d,null,E);break;case"together":Uy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Mm(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Hs(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ja|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,d=Bo(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Bo(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function pR(o,l,d){switch(l.tag){case 3:gT(l),Ec();break;case 5:LE(l);break;case 1:Lr(l.type)&&vm(l);break;case 4:wy(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;Mt(Sm,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(Mt(nn,nn.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?yT(o,l,d):(Mt(nn,nn.current&1),o=Hs(o,l,d),o!==null?o.sibling:null);Mt(nn,nn.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return wT(o,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Mt(nn,nn.current),m)break;return null;case 22:case 23:return l.lanes=0,fT(o,l,d)}return Hs(o,l,d)}var ET,jy,TT,IT;ET=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},jy=function(){},TT=function(o,l,d,m){var y=o.memoizedProps;if(y!==m){o=l.stateNode,Qa(us.current);var E=null;switch(d){case"input":y=P(o,y),m=P(o,m),E=[];break;case"select":y=he({},y,{value:void 0}),m=he({},m,{value:void 0}),E=[];break;case"textarea":y=ne(o,y),m=ne(o,m),E=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=gm)}jt(d,m);var N;d=null;for(se in y)if(!m.hasOwnProperty(se)&&y.hasOwnProperty(se)&&y[se]!=null)if(se==="style"){var q=y[se];for(N in q)q.hasOwnProperty(N)&&(d||(d={}),d[N]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?E||(E=[]):(E=E||[]).push(se,null));for(se in m){var Q=m[se];if(q=y!=null?y[se]:void 0,m.hasOwnProperty(se)&&Q!==q&&(Q!=null||q!=null))if(se==="style")if(q){for(N in q)!q.hasOwnProperty(N)||Q&&Q.hasOwnProperty(N)||(d||(d={}),d[N]="");for(N in Q)Q.hasOwnProperty(N)&&q[N]!==Q[N]&&(d||(d={}),d[N]=Q[N])}else d||(E||(E=[]),E.push(se,d)),d=Q;else se==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,q=q?q.__html:void 0,Q!=null&&q!==Q&&(E=E||[]).push(se,Q)):se==="children"?typeof Q!="string"&&typeof Q!="number"||(E=E||[]).push(se,""+Q):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(Q!=null&&se==="onScroll"&&Wt("scroll",o),E||q===Q||(E=[])):(E=E||[]).push(se,Q))}d&&(E=E||[]).push("style",d);var se=E;(l.updateQueue=se)&&(l.flags|=4)}},IT=function(o,l,d,m){d!==m&&(l.flags|=4)};function Cd(o,l){if(!Kt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function cr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function gR(o,l,d){var m=l.pendingProps;switch(uy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(l),null;case 1:return Lr(l.type)&&ym(),cr(l),null;case 3:return m=l.stateNode,Sc(),Ht(xr),Ht(ar),Iy(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Im(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ji!==null&&(Zy(ji),ji=null))),jy(o,l),cr(l),null;case 5:Ey(l);var y=Qa(Ed.current);if(d=l.type,o!==null&&l.stateNode!=null)TT(o,l,d,m,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(t(166));return cr(l),null}if(o=Qa(us.current),Im(l)){m=l.stateNode,d=l.type;var E=l.memoizedProps;switch(m[cs]=l,m[gd]=E,o=(l.mode&1)!==0,d){case"dialog":Wt("cancel",m),Wt("close",m);break;case"iframe":case"object":case"embed":Wt("load",m);break;case"video":case"audio":for(y=0;y<fd.length;y++)Wt(fd[y],m);break;case"source":Wt("error",m);break;case"img":case"image":case"link":Wt("error",m),Wt("load",m);break;case"details":Wt("toggle",m);break;case"input":fe(m,E),Wt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},Wt("invalid",m);break;case"textarea":Ce(m,E),Wt("invalid",m)}jt(d,E),y=null;for(var N in E)if(E.hasOwnProperty(N)){var q=E[N];N==="children"?typeof q=="string"?m.textContent!==q&&(E.suppressHydrationWarning!==!0&&pm(m.textContent,q,o),y=["children",q]):typeof q=="number"&&m.textContent!==""+q&&(E.suppressHydrationWarning!==!0&&pm(m.textContent,q,o),y=["children",""+q]):i.hasOwnProperty(N)&&q!=null&&N==="onScroll"&&Wt("scroll",m)}switch(d){case"input":Tt(m),j(m,E,!0);break;case"textarea":Tt(m),me(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=gm)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{N=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Pe(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=N.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=N.createElement(d,{is:m.is}):(o=N.createElement(d),d==="select"&&(N=o,m.multiple?N.multiple=!0:m.size&&(N.size=m.size))):o=N.createElementNS(o,d),o[cs]=l,o[gd]=m,ET(o,l,!1,!1),l.stateNode=o;e:{switch(N=fi(d,m),d){case"dialog":Wt("cancel",o),Wt("close",o),y=m;break;case"iframe":case"object":case"embed":Wt("load",o),y=m;break;case"video":case"audio":for(y=0;y<fd.length;y++)Wt(fd[y],o);y=m;break;case"source":Wt("error",o),y=m;break;case"img":case"image":case"link":Wt("error",o),Wt("load",o),y=m;break;case"details":Wt("toggle",o),y=m;break;case"input":fe(o,m),y=P(o,m),Wt("invalid",o);break;case"option":y=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},y=he({},m,{value:void 0}),Wt("invalid",o);break;case"textarea":Ce(o,m),y=ne(o,m),Wt("invalid",o);break;default:y=m}jt(d,y),q=y;for(E in q)if(q.hasOwnProperty(E)){var Q=q[E];E==="style"?Qn(o,Q):E==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Ze(o,Q)):E==="children"?typeof Q=="string"?(d!=="textarea"||Q!=="")&&Ot(o,Q):typeof Q=="number"&&Ot(o,""+Q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?Q!=null&&E==="onScroll"&&Wt("scroll",o):Q!=null&&F(o,E,Q,N))}switch(d){case"input":Tt(o),j(o,m,!1);break;case"textarea":Tt(o),me(o);break;case"option":m.value!=null&&o.setAttribute("value",""+Me(m.value));break;case"select":o.multiple=!!m.multiple,E=m.value,E!=null?_e(o,!!m.multiple,E,!1):m.defaultValue!=null&&_e(o,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=gm)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return cr(l),null;case 6:if(o&&l.stateNode!=null)IT(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(t(166));if(d=Qa(Ed.current),Qa(us.current),Im(l)){if(m=l.stateNode,d=l.memoizedProps,m[cs]=l,(E=m.nodeValue!==d)&&(o=ti,o!==null))switch(o.tag){case 3:pm(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&pm(m.nodeValue,d,(o.mode&1)!==0)}E&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[cs]=l,l.stateNode=m}return cr(l),null;case 13:if(Ht(nn),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Kt&&ni!==null&&(l.mode&1)!==0&&(l.flags&128)===0)CE(),Ec(),l.flags|=98560,E=!1;else if(E=Im(l),m!==null&&m.dehydrated!==null){if(o===null){if(!E)throw Error(t(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[cs]=l}else Ec(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;cr(l),E=!1}else ji!==null&&(Zy(ji),ji=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(nn.current&1)!==0?Rn===0&&(Rn=3):n1())),l.updateQueue!==null&&(l.flags|=4),cr(l),null);case 4:return Sc(),jy(o,l),o===null&&md(l.stateNode.containerInfo),cr(l),null;case 10:return gy(l.type._context),cr(l),null;case 17:return Lr(l.type)&&ym(),cr(l),null;case 19:if(Ht(nn),E=l.memoizedState,E===null)return cr(l),null;if(m=(l.flags&128)!==0,N=E.rendering,N===null)if(m)Cd(E,!1);else{if(Rn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(N=km(o),N!==null){for(l.flags|=128,Cd(E,!1),m=N.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)E=d,o=m,E.flags&=14680066,N=E.alternate,N===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=N.childLanes,E.lanes=N.lanes,E.child=N.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=N.memoizedProps,E.memoizedState=N.memoizedState,E.updateQueue=N.updateQueue,E.type=N.type,o=N.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return Mt(nn,nn.current&1|2),l.child}o=o.sibling}E.tail!==null&&Ft()>kc&&(l.flags|=128,m=!0,Cd(E,!1),l.lanes=4194304)}else{if(!m)if(o=km(N),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Cd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!Kt)return cr(l),null}else 2*Ft()-E.renderingStartTime>kc&&d!==1073741824&&(l.flags|=128,m=!0,Cd(E,!1),l.lanes=4194304);E.isBackwards?(N.sibling=l.child,l.child=N):(d=E.last,d!==null?d.sibling=N:l.child=N,E.last=N)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=Ft(),l.sibling=null,d=nn.current,Mt(nn,m?d&1|2:d&1),l):(cr(l),null);case 22:case 23:return t1(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(ri&1073741824)!==0&&(cr(l),l.subtreeFlags&6&&(l.flags|=8192)):cr(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function _R(o,l){switch(uy(l),l.tag){case 1:return Lr(l.type)&&ym(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Sc(),Ht(xr),Ht(ar),Iy(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Ey(l),null;case 13:if(Ht(nn),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Ec()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Ht(nn),null;case 4:return Sc(),null;case 10:return gy(l.type._context),null;case 22:case 23:return t1(),null;case 24:return null;default:return null}}var Vm=!1,ur=!1,yR=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Pc(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){un(o,l,m)}else d.current=null}function Wy(o,l,d){try{d()}catch(m){un(o,l,m)}}var bT=!1;function vR(o,l){if(ty=So,o=nE(),$_(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var N=0,q=-1,Q=-1,se=0,Ie=0,Se=o,Ee=null;t:for(;;){for(var Be;Se!==d||y!==0&&Se.nodeType!==3||(q=N+y),Se!==E||m!==0&&Se.nodeType!==3||(Q=N+m),Se.nodeType===3&&(N+=Se.nodeValue.length),(Be=Se.firstChild)!==null;)Ee=Se,Se=Be;for(;;){if(Se===o)break t;if(Ee===d&&++se===y&&(q=N),Ee===E&&++Ie===m&&(Q=N),(Be=Se.nextSibling)!==null)break;Se=Ee,Ee=Se.parentNode}Se=Be}d=q===-1||Q===-1?null:{start:q,end:Q}}else d=null}d=d||{start:0,end:0}}else d=null;for(ny={focusedElem:o,selectionRange:d},So=!1,Ue=l;Ue!==null;)if(l=Ue,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ue=o;else for(;Ue!==null;){l=Ue;try{var We=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ge=We.memoizedProps,mn=We.memoizedState,te=l.stateNode,Y=te.getSnapshotBeforeUpdate(l.elementType===l.type?Ge:Wi(l.type,Ge),mn);te.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var re=l.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Re){un(l,l.return,Re)}if(o=l.sibling,o!==null){o.return=l.return,Ue=o;break}Ue=l.return}return We=bT,bT=!1,We}function Pd(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&o)===o){var E=y.destroy;y.destroy=void 0,E!==void 0&&Wy(l,d,E)}y=y.next}while(y!==m)}}function Bm(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Hy(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function ST(o){var l=o.alternate;l!==null&&(o.alternate=null,ST(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[cs],delete l[gd],delete l[oy],delete l[tR],delete l[nR])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function CT(o){return o.tag===5||o.tag===3||o.tag===4}function PT(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||CT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Gy(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=gm));else if(m!==4&&(o=o.child,o!==null))for(Gy(o,l,d),o=o.sibling;o!==null;)Gy(o,l,d),o=o.sibling}function qy(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(qy(o,l,d),o=o.sibling;o!==null;)qy(o,l,d),o=o.sibling}var Xn=null,Hi=!1;function Lo(o,l,d){for(d=d.child;d!==null;)AT(o,l,d),d=d.sibling}function AT(o,l,d){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Ma,d)}catch{}switch(d.tag){case 5:ur||Pc(d,l);case 6:var m=Xn,y=Hi;Xn=null,Lo(o,l,d),Xn=m,Hi=y,Xn!==null&&(Hi?(o=Xn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Xn.removeChild(d.stateNode));break;case 18:Xn!==null&&(Hi?(o=Xn,d=d.stateNode,o.nodeType===8?sy(o.parentNode,d):o.nodeType===1&&sy(o,d),Bi(o)):sy(Xn,d.stateNode));break;case 4:m=Xn,y=Hi,Xn=d.stateNode.containerInfo,Hi=!0,Lo(o,l,d),Xn=m,Hi=y;break;case 0:case 11:case 14:case 15:if(!ur&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var E=y,N=E.destroy;E=E.tag,N!==void 0&&((E&2)!==0||(E&4)!==0)&&Wy(d,l,N),y=y.next}while(y!==m)}Lo(o,l,d);break;case 1:if(!ur&&(Pc(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(q){un(d,l,q)}Lo(o,l,d);break;case 21:Lo(o,l,d);break;case 22:d.mode&1?(ur=(m=ur)||d.memoizedState!==null,Lo(o,l,d),ur=m):Lo(o,l,d);break;default:Lo(o,l,d)}}function kT(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new yR),l.forEach(function(m){var y=AR.bind(null,o,m);d.has(m)||(d.add(m),m.then(y,y))})}}function Gi(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var E=o,N=l,q=N;e:for(;q!==null;){switch(q.tag){case 5:Xn=q.stateNode,Hi=!1;break e;case 3:Xn=q.stateNode.containerInfo,Hi=!0;break e;case 4:Xn=q.stateNode.containerInfo,Hi=!0;break e}q=q.return}if(Xn===null)throw Error(t(160));AT(E,N,y),Xn=null,Hi=!1;var Q=y.alternate;Q!==null&&(Q.return=null),y.return=null}catch(se){un(y,l,se)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)RT(l,o),l=l.sibling}function RT(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Gi(l,o),hs(o),m&4){try{Pd(3,o,o.return),Bm(3,o)}catch(Ge){un(o,o.return,Ge)}try{Pd(5,o,o.return)}catch(Ge){un(o,o.return,Ge)}}break;case 1:Gi(l,o),hs(o),m&512&&d!==null&&Pc(d,d.return);break;case 5:if(Gi(l,o),hs(o),m&512&&d!==null&&Pc(d,d.return),o.flags&32){var y=o.stateNode;try{Ot(y,"")}catch(Ge){un(o,o.return,Ge)}}if(m&4&&(y=o.stateNode,y!=null)){var E=o.memoizedProps,N=d!==null?d.memoizedProps:E,q=o.type,Q=o.updateQueue;if(o.updateQueue=null,Q!==null)try{q==="input"&&E.type==="radio"&&E.name!=null&&le(y,E),fi(q,N);var se=fi(q,E);for(N=0;N<Q.length;N+=2){var Ie=Q[N],Se=Q[N+1];Ie==="style"?Qn(y,Se):Ie==="dangerouslySetInnerHTML"?Ze(y,Se):Ie==="children"?Ot(y,Se):F(y,Ie,Se,se)}switch(q){case"input":G(y,E);break;case"textarea":Fe(y,E);break;case"select":var Ee=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Be=E.value;Be!=null?_e(y,!!E.multiple,Be,!1):Ee!==!!E.multiple&&(E.defaultValue!=null?_e(y,!!E.multiple,E.defaultValue,!0):_e(y,!!E.multiple,E.multiple?[]:"",!1))}y[gd]=E}catch(Ge){un(o,o.return,Ge)}}break;case 6:if(Gi(l,o),hs(o),m&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,E=o.memoizedProps;try{y.nodeValue=E}catch(Ge){un(o,o.return,Ge)}}break;case 3:if(Gi(l,o),hs(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Bi(l.containerInfo)}catch(Ge){un(o,o.return,Ge)}break;case 4:Gi(l,o),hs(o);break;case 13:Gi(l,o),hs(o),y=o.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Qy=Ft())),m&4&&kT(o);break;case 22:if(Ie=d!==null&&d.memoizedState!==null,o.mode&1?(ur=(se=ur)||Ie,Gi(l,o),ur=se):Gi(l,o),hs(o),m&8192){if(se=o.memoizedState!==null,(o.stateNode.isHidden=se)&&!Ie&&(o.mode&1)!==0)for(Ue=o,Ie=o.child;Ie!==null;){for(Se=Ue=Ie;Ue!==null;){switch(Ee=Ue,Be=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:Pd(4,Ee,Ee.return);break;case 1:Pc(Ee,Ee.return);var We=Ee.stateNode;if(typeof We.componentWillUnmount=="function"){m=Ee,d=Ee.return;try{l=m,We.props=l.memoizedProps,We.state=l.memoizedState,We.componentWillUnmount()}catch(Ge){un(m,d,Ge)}}break;case 5:Pc(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){xT(Se);continue}}Be!==null?(Be.return=Ee,Ue=Be):xT(Se)}Ie=Ie.sibling}e:for(Ie=null,Se=o;;){if(Se.tag===5){if(Ie===null){Ie=Se;try{y=Se.stateNode,se?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(q=Se.stateNode,Q=Se.memoizedProps.style,N=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,q.style.display=pt("display",N))}catch(Ge){un(o,o.return,Ge)}}}else if(Se.tag===6){if(Ie===null)try{Se.stateNode.nodeValue=se?"":Se.memoizedProps}catch(Ge){un(o,o.return,Ge)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===o)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===o)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===o)break e;Ie===Se&&(Ie=null),Se=Se.return}Ie===Se&&(Ie=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Gi(l,o),hs(o),m&4&&kT(o);break;case 21:break;default:Gi(l,o),hs(o)}}function hs(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(CT(d)){var m=d;break e}d=d.return}throw Error(t(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Ot(y,""),m.flags&=-33);var E=PT(o);qy(o,E,y);break;case 3:case 4:var N=m.stateNode.containerInfo,q=PT(o);Gy(o,q,N);break;default:throw Error(t(161))}}catch(Q){un(o,o.return,Q)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function wR(o,l,d){Ue=o,NT(o)}function NT(o,l,d){for(var m=(o.mode&1)!==0;Ue!==null;){var y=Ue,E=y.child;if(y.tag===22&&m){var N=y.memoizedState!==null||Vm;if(!N){var q=y.alternate,Q=q!==null&&q.memoizedState!==null||ur;q=Vm;var se=ur;if(Vm=N,(ur=Q)&&!se)for(Ue=y;Ue!==null;)N=Ue,Q=N.child,N.tag===22&&N.memoizedState!==null?LT(y):Q!==null?(Q.return=N,Ue=Q):LT(y);for(;E!==null;)Ue=E,NT(E),E=E.sibling;Ue=y,Vm=q,ur=se}DT(o)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Ue=E):DT(o)}}function DT(o){for(;Ue!==null;){var l=Ue;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ur||Bm(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!ur)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Wi(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&xE(l,E,m);break;case 3:var N=l.updateQueue;if(N!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}xE(l,N,d)}break;case 5:var q=l.stateNode;if(d===null&&l.flags&4){d=q;var Q=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&d.focus();break;case"img":Q.src&&(d.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var se=l.alternate;if(se!==null){var Ie=se.memoizedState;if(Ie!==null){var Se=Ie.dehydrated;Se!==null&&Bi(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ur||l.flags&512&&Hy(l)}catch(Ee){un(l,l.return,Ee)}}if(l===o){Ue=null;break}if(d=l.sibling,d!==null){d.return=l.return,Ue=d;break}Ue=l.return}}function xT(o){for(;Ue!==null;){var l=Ue;if(l===o){Ue=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Ue=d;break}Ue=l.return}}function LT(o){for(;Ue!==null;){var l=Ue;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Bm(4,l)}catch(Q){un(l,d,Q)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(Q){un(l,y,Q)}}var E=l.return;try{Hy(l)}catch(Q){un(l,E,Q)}break;case 5:var N=l.return;try{Hy(l)}catch(Q){un(l,N,Q)}}}catch(Q){un(l,l.return,Q)}if(l===o){Ue=null;break}var q=l.sibling;if(q!==null){q.return=l.return,Ue=q;break}Ue=l.return}}var ER=Math.ceil,zm=U.ReactCurrentDispatcher,$y=U.ReactCurrentOwner,Ei=U.ReactCurrentBatchConfig,It=0,Mn=null,Tn=null,Zn=0,ri=0,Ac=ko(0),Rn=0,Ad=null,Ja=0,Um=0,Ky=0,kd=null,Fr=null,Qy=0,kc=1/0,Gs=null,jm=!1,Yy=null,Oo=null,Wm=!1,Fo=null,Hm=0,Rd=0,Jy=null,Gm=-1,qm=0;function Er(){return(It&6)!==0?Ft():Gm!==-1?Gm:Gm=Ft()}function Mo(o){return(o.mode&1)===0?1:(It&2)!==0&&Zn!==0?Zn&-Zn:iR.transition!==null?(qm===0&&(qm=Ba()),qm):(o=vt,o!==0||(o=window.event,o=o===void 0?16:id(o.type)),o)}function qi(o,l,d,m){if(50<Rd)throw Rd=0,Jy=null,Error(t(185));Eo(o,d,m),((It&2)===0||o!==Mn)&&(o===Mn&&((It&2)===0&&(Um|=d),Rn===4&&Vo(o,Zn)),Mr(o,m),d===1&&It===0&&(l.mode&1)===0&&(kc=Ft()+500,wm&&No()))}function Mr(o,l){var d=o.callbackNode;xs(o,l);var m=Va(o,o===Mn?Zn:0);if(m===0)d!==null&&Zu(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&Zu(d),l===1)o.tag===0?rR(FT.bind(null,o)):EE(FT.bind(null,o)),Z3(function(){(It&6)===0&&No()}),d=null;else{switch(Io(m)){case 1:d=Fa;break;case 4:d=yo;break;case 16:d=mi;break;case 536870912:d=qf;break;default:d=mi}d=HT(d,OT.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function OT(o,l){if(Gm=-1,qm=0,(It&6)!==0)throw Error(t(327));var d=o.callbackNode;if(Rc()&&o.callbackNode!==d)return null;var m=Va(o,o===Mn?Zn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=$m(o,m);else{l=m;var y=It;It|=2;var E=VT();(Mn!==o||Zn!==l)&&(Gs=null,kc=Ft()+500,Za(o,l));do try{bR();break}catch(q){MT(o,q)}while(!0);py(),zm.current=E,It=y,Tn!==null?l=0:(Mn=null,Zn=0,l=Rn)}if(l!==0){if(l===2&&(y=Xr(o),y!==0&&(m=y,l=Xy(o,y))),l===1)throw d=Ad,Za(o,0),Vo(o,m),Mr(o,Ft()),d;if(l===6)Vo(o,m);else{if(y=o.current.alternate,(m&30)===0&&!TR(y)&&(l=$m(o,m),l===2&&(E=Xr(o),E!==0&&(m=E,l=Xy(o,E))),l===1))throw d=Ad,Za(o,0),Vo(o,m),Mr(o,Ft()),d;switch(o.finishedWork=y,o.finishedLanes=m,l){case 0:case 1:throw Error(t(345));case 2:el(o,Fr,Gs);break;case 3:if(Vo(o,m),(m&130023424)===m&&(l=Qy+500-Ft(),10<l)){if(Va(o,0)!==0)break;if(y=o.suspendedLanes,(y&m)!==m){Er(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=iy(el.bind(null,o,Fr,Gs),l);break}el(o,Fr,Gs);break;case 4:if(Vo(o,m),(m&4194240)===m)break;for(l=o.eventTimes,y=-1;0<m;){var N=31-yr(m);E=1<<N,N=l[N],N>y&&(y=N),m&=~E}if(m=y,m=Ft()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*ER(m/1960))-m,10<m){o.timeoutHandle=iy(el.bind(null,o,Fr,Gs),m);break}el(o,Fr,Gs);break;case 5:el(o,Fr,Gs);break;default:throw Error(t(329))}}}return Mr(o,Ft()),o.callbackNode===d?OT.bind(null,o):null}function Xy(o,l){var d=kd;return o.current.memoizedState.isDehydrated&&(Za(o,l).flags|=256),o=$m(o,l),o!==2&&(l=Fr,Fr=d,l!==null&&Zy(l)),o}function Zy(o){Fr===null?Fr=o:Fr.push.apply(Fr,o)}function TR(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],E=y.getSnapshot;y=y.value;try{if(!Ui(E(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Vo(o,l){for(l&=~Ky,l&=~Um,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-yr(l),m=1<<d;o[d]=-1,l&=~m}}function FT(o){if((It&6)!==0)throw Error(t(327));Rc();var l=Va(o,0);if((l&1)===0)return Mr(o,Ft()),null;var d=$m(o,l);if(o.tag!==0&&d===2){var m=Xr(o);m!==0&&(l=m,d=Xy(o,m))}if(d===1)throw d=Ad,Za(o,0),Vo(o,l),Mr(o,Ft()),d;if(d===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,el(o,Fr,Gs),Mr(o,Ft()),null}function e1(o,l){var d=It;It|=1;try{return o(l)}finally{It=d,It===0&&(kc=Ft()+500,wm&&No())}}function Xa(o){Fo!==null&&Fo.tag===0&&(It&6)===0&&Rc();var l=It;It|=1;var d=Ei.transition,m=vt;try{if(Ei.transition=null,vt=1,o)return o()}finally{vt=m,Ei.transition=d,It=l,(It&6)===0&&No()}}function t1(){ri=Ac.current,Ht(Ac)}function Za(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,X3(d)),Tn!==null)for(d=Tn.return;d!==null;){var m=d;switch(uy(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&ym();break;case 3:Sc(),Ht(xr),Ht(ar),Iy();break;case 5:Ey(m);break;case 4:Sc();break;case 13:Ht(nn);break;case 19:Ht(nn);break;case 10:gy(m.type._context);break;case 22:case 23:t1()}d=d.return}if(Mn=o,Tn=o=Bo(o.current,null),Zn=ri=l,Rn=0,Ad=null,Ky=Um=Ja=0,Fr=kd=null,Ka!==null){for(l=0;l<Ka.length;l++)if(d=Ka[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,E=d.pending;if(E!==null){var N=E.next;E.next=y,m.next=N}d.pending=m}Ka=null}return o}function MT(o,l){do{var d=Tn;try{if(py(),Rm.current=Lm,Nm){for(var m=rn.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Nm=!1}if(Ya=0,Fn=kn=rn=null,Td=!1,Id=0,$y.current=null,d===null||d.return===null){Rn=1,Ad=l,Tn=null;break}e:{var E=o,N=d.return,q=d,Q=l;if(l=Zn,q.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var se=Q,Ie=q,Se=Ie.tag;if((Ie.mode&1)===0&&(Se===0||Se===11||Se===15)){var Ee=Ie.alternate;Ee?(Ie.updateQueue=Ee.updateQueue,Ie.memoizedState=Ee.memoizedState,Ie.lanes=Ee.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var Be=lT(N);if(Be!==null){Be.flags&=-257,cT(Be,N,q,E,l),Be.mode&1&&aT(E,se,l),l=Be,Q=se;var We=l.updateQueue;if(We===null){var Ge=new Set;Ge.add(Q),l.updateQueue=Ge}else We.add(Q);break e}else{if((l&1)===0){aT(E,se,l),n1();break e}Q=Error(t(426))}}else if(Kt&&q.mode&1){var mn=lT(N);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),cT(mn,N,q,E,l),fy(Cc(Q,q));break e}}E=Q=Cc(Q,q),Rn!==4&&(Rn=2),kd===null?kd=[E]:kd.push(E),E=N;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var te=sT(E,Q,l);DE(E,te);break e;case 1:q=Q;var Y=E.type,re=E.stateNode;if((E.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Oo===null||!Oo.has(re)))){E.flags|=65536,l&=-l,E.lanes|=l;var Re=oT(E,q,l);DE(E,Re);break e}}E=E.return}while(E!==null)}zT(d)}catch($e){l=$e,Tn===d&&d!==null&&(Tn=d=d.return);continue}break}while(!0)}function VT(){var o=zm.current;return zm.current=Lm,o===null?Lm:o}function n1(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Mn===null||(Ja&268435455)===0&&(Um&268435455)===0||Vo(Mn,Zn)}function $m(o,l){var d=It;It|=2;var m=VT();(Mn!==o||Zn!==l)&&(Gs=null,Za(o,l));do try{IR();break}catch(y){MT(o,y)}while(!0);if(py(),It=d,zm.current=m,Tn!==null)throw Error(t(261));return Mn=null,Zn=0,Rn}function IR(){for(;Tn!==null;)BT(Tn)}function bR(){for(;Tn!==null&&!Hf();)BT(Tn)}function BT(o){var l=WT(o.alternate,o,ri);o.memoizedProps=o.pendingProps,l===null?zT(o):Tn=l,$y.current=null}function zT(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=gR(d,l,ri),d!==null){Tn=d;return}}else{if(d=_R(d,l),d!==null){d.flags&=32767,Tn=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Rn=6,Tn=null;return}}if(l=l.sibling,l!==null){Tn=l;return}Tn=l=o}while(l!==null);Rn===0&&(Rn=5)}function el(o,l,d){var m=vt,y=Ei.transition;try{Ei.transition=null,vt=1,SR(o,l,d,m)}finally{Ei.transition=y,vt=m}return null}function SR(o,l,d,m){do Rc();while(Fo!==null);if((It&6)!==0)throw Error(t(327));d=o.finishedWork;var y=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var E=d.lanes|d.childLanes;if(xt(o,E),o===Mn&&(Tn=Mn=null,Zn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Wm||(Wm=!0,HT(mi,function(){return Rc(),null})),E=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||E){E=Ei.transition,Ei.transition=null;var N=vt;vt=1;var q=It;It|=4,$y.current=null,vR(o,d),RT(d,o),G3(ny),So=!!ty,ny=ty=null,o.current=d,wR(d),B_(),It=q,vt=N,Ei.transition=E}else o.current=d;if(Wm&&(Wm=!1,Fo=o,Hm=y),E=o.pendingLanes,E===0&&(Oo=null),$f(d.stateNode),Mr(o,Ft()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(jm)throw jm=!1,o=Yy,Yy=null,o;return(Hm&1)!==0&&o.tag!==0&&Rc(),E=o.pendingLanes,(E&1)!==0?o===Jy?Rd++:(Rd=0,Jy=o):Rd=0,No(),null}function Rc(){if(Fo!==null){var o=Io(Hm),l=Ei.transition,d=vt;try{if(Ei.transition=null,vt=16>o?16:o,Fo===null)var m=!1;else{if(o=Fo,Fo=null,Hm=0,(It&6)!==0)throw Error(t(331));var y=It;for(It|=4,Ue=o.current;Ue!==null;){var E=Ue,N=E.child;if((Ue.flags&16)!==0){var q=E.deletions;if(q!==null){for(var Q=0;Q<q.length;Q++){var se=q[Q];for(Ue=se;Ue!==null;){var Ie=Ue;switch(Ie.tag){case 0:case 11:case 15:Pd(8,Ie,E)}var Se=Ie.child;if(Se!==null)Se.return=Ie,Ue=Se;else for(;Ue!==null;){Ie=Ue;var Ee=Ie.sibling,Be=Ie.return;if(ST(Ie),Ie===se){Ue=null;break}if(Ee!==null){Ee.return=Be,Ue=Ee;break}Ue=Be}}}var We=E.alternate;if(We!==null){var Ge=We.child;if(Ge!==null){We.child=null;do{var mn=Ge.sibling;Ge.sibling=null,Ge=mn}while(Ge!==null)}}Ue=E}}if((E.subtreeFlags&2064)!==0&&N!==null)N.return=E,Ue=N;else e:for(;Ue!==null;){if(E=Ue,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Pd(9,E,E.return)}var te=E.sibling;if(te!==null){te.return=E.return,Ue=te;break e}Ue=E.return}}var Y=o.current;for(Ue=Y;Ue!==null;){N=Ue;var re=N.child;if((N.subtreeFlags&2064)!==0&&re!==null)re.return=N,Ue=re;else e:for(N=Y;Ue!==null;){if(q=Ue,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Bm(9,q)}}catch($e){un(q,q.return,$e)}if(q===N){Ue=null;break e}var Re=q.sibling;if(Re!==null){Re.return=q.return,Ue=Re;break e}Ue=q.return}}if(It=y,No(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Ma,o)}catch{}m=!0}return m}finally{vt=d,Ei.transition=l}}return!1}function UT(o,l,d){l=Cc(d,l),l=sT(o,l,1),o=xo(o,l,1),l=Er(),o!==null&&(Eo(o,1,l),Mr(o,l))}function un(o,l,d){if(o.tag===3)UT(o,o,d);else for(;l!==null;){if(l.tag===3){UT(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Oo===null||!Oo.has(m))){o=Cc(d,o),o=oT(l,o,1),l=xo(l,o,1),o=Er(),l!==null&&(Eo(l,1,o),Mr(l,o));break}}l=l.return}}function CR(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=Er(),o.pingedLanes|=o.suspendedLanes&d,Mn===o&&(Zn&d)===d&&(Rn===4||Rn===3&&(Zn&130023424)===Zn&&500>Ft()-Qy?Za(o,0):Ky|=d),Mr(o,l)}function jT(o,l){l===0&&((o.mode&1)===0?l=1:(l=Zl,Zl<<=1,(Zl&130023424)===0&&(Zl=4194304)));var d=Er();o=js(o,l),o!==null&&(Eo(o,l,d),Mr(o,d))}function PR(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),jT(o,d)}function AR(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(l),jT(o,d)}var WT;WT=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||xr.current)Or=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return Or=!1,pR(o,l,d);Or=(o.flags&131072)!==0}else Or=!1,Kt&&(l.flags&1048576)!==0&&TE(l,Tm,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Mm(o,l),o=l.pendingProps;var y=yc(l,ar.current);bc(l,d),y=Cy(null,l,m,o,y,d);var E=Py();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Lr(m)?(E=!0,vm(l)):E=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,vy(l),y.updater=Om,l.stateNode=y,y._reactInternals=l,xy(l,m,o,d),l=My(null,l,m,!0,E,d)):(l.tag=0,Kt&&E&&cy(l),wr(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(Mm(o,l),o=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=RR(m),o=Wi(m,o),y){case 0:l=Fy(null,l,m,o,d);break e;case 1:l=pT(null,l,m,o,d);break e;case 11:l=uT(null,l,m,o,d);break e;case 14:l=dT(null,l,m,Wi(m.type,o),d);break e}throw Error(t(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Wi(m,y),Fy(o,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Wi(m,y),pT(o,l,m,y,d);case 3:e:{if(gT(l),o===null)throw Error(t(387));m=l.pendingProps,E=l.memoizedState,y=E.element,NE(o,l),Am(l,m,null,d);var N=l.memoizedState;if(m=N.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){y=Cc(Error(t(423)),l),l=_T(o,l,m,d,y);break e}else if(m!==y){y=Cc(Error(t(424)),l),l=_T(o,l,m,d,y);break e}else for(ni=Ao(l.stateNode.containerInfo.firstChild),ti=l,Kt=!0,ji=null,d=kE(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ec(),m===y){l=Hs(o,l,d);break e}wr(o,l,m,d)}l=l.child}return l;case 5:return LE(l),o===null&&hy(l),m=l.type,y=l.pendingProps,E=o!==null?o.memoizedProps:null,N=y.children,ry(m,y)?N=null:E!==null&&ry(m,E)&&(l.flags|=32),mT(o,l),wr(o,l,N,d),l.child;case 6:return o===null&&hy(l),null;case 13:return yT(o,l,d);case 4:return wy(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Tc(l,null,m,d):wr(o,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Wi(m,y),uT(o,l,m,y,d);case 7:return wr(o,l,l.pendingProps,d),l.child;case 8:return wr(o,l,l.pendingProps.children,d),l.child;case 12:return wr(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,E=l.memoizedProps,N=y.value,Mt(Sm,m._currentValue),m._currentValue=N,E!==null)if(Ui(E.value,N)){if(E.children===y.children&&!xr.current){l=Hs(o,l,d);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var q=E.dependencies;if(q!==null){N=E.child;for(var Q=q.firstContext;Q!==null;){if(Q.context===m){if(E.tag===1){Q=Ws(-1,d&-d),Q.tag=2;var se=E.updateQueue;if(se!==null){se=se.shared;var Ie=se.pending;Ie===null?Q.next=Q:(Q.next=Ie.next,Ie.next=Q),se.pending=Q}}E.lanes|=d,Q=E.alternate,Q!==null&&(Q.lanes|=d),_y(E.return,d,l),q.lanes|=d;break}Q=Q.next}}else if(E.tag===10)N=E.type===l.type?null:E.child;else if(E.tag===18){if(N=E.return,N===null)throw Error(t(341));N.lanes|=d,q=N.alternate,q!==null&&(q.lanes|=d),_y(N,d,l),N=E.sibling}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===l){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}wr(o,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,bc(l,d),y=vi(y),m=m(y),l.flags|=1,wr(o,l,m,d),l.child;case 14:return m=l.type,y=Wi(m,l.pendingProps),y=Wi(m.type,y),dT(o,l,m,y,d);case 15:return hT(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Wi(m,y),Mm(o,l),l.tag=1,Lr(m)?(o=!0,vm(l)):o=!1,bc(l,d),rT(l,m,y),xy(l,m,y,d),My(null,l,m,!0,o,d);case 19:return wT(o,l,d);case 22:return fT(o,l,d)}throw Error(t(156,l.tag))};function HT(o,l){return Jl(o,l)}function kR(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(o,l,d,m){return new kR(o,l,d,m)}function r1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function RR(o){if(typeof o=="function")return r1(o)?1:0;if(o!=null){if(o=o.$$typeof,o===k)return 11;if(o===ae)return 14}return 2}function Bo(o,l){var d=o.alternate;return d===null?(d=Ti(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Km(o,l,d,m,y,E){var N=2;if(m=o,typeof o=="function")r1(o)&&(N=1);else if(typeof o=="string")N=5;else e:switch(o){case x:return tl(d.children,y,E,l);case R:N=8,y|=8;break;case L:return o=Ti(12,d,l,y|2),o.elementType=L,o.lanes=E,o;case O:return o=Ti(13,d,l,y),o.elementType=O,o.lanes=E,o;case A:return o=Ti(19,d,l,y),o.elementType=A,o.lanes=E,o;case ue:return Qm(d,y,E,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:N=10;break e;case W:N=9;break e;case k:N=11;break e;case ae:N=14;break e;case ze:N=16,m=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Ti(N,d,l,y),l.elementType=o,l.type=m,l.lanes=E,l}function tl(o,l,d,m){return o=Ti(7,o,m,l),o.lanes=d,o}function Qm(o,l,d,m){return o=Ti(22,o,m,l),o.elementType=ue,o.lanes=d,o.stateNode={isHidden:!1},o}function i1(o,l,d){return o=Ti(6,o,null,l),o.lanes=d,o}function s1(o,l,d){return l=Ti(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function NR(o,l,d,m,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function o1(o,l,d,m,y,E,N,q,Q){return o=new NR(o,l,d,q,Q),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Ti(3,null,null,l),o.current=E,E.stateNode=o,E.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},vy(E),o}function DR(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function GT(o){if(!o)return Ro;o=o._reactInternals;e:{if(Li(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Lr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var d=o.type;if(Lr(d))return vE(o,d,l)}return l}function qT(o,l,d,m,y,E,N,q,Q){return o=o1(d,m,!0,o,y,E,N,q,Q),o.context=GT(null),d=o.current,m=Er(),y=Mo(d),E=Ws(m,y),E.callback=l??null,xo(d,E,y),o.current.lanes=y,Eo(o,y,m),Mr(o,m),o}function Ym(o,l,d,m){var y=l.current,E=Er(),N=Mo(y);return d=GT(d),l.context===null?l.context=d:l.pendingContext=d,l=Ws(E,N),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=xo(y,l,N),o!==null&&(qi(o,y,N,E),Pm(o,y,N)),N}function Jm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function $T(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function a1(o,l){$T(o,l),(o=o.alternate)&&$T(o,l)}function xR(){return null}var KT=typeof reportError=="function"?reportError:function(o){console.error(o)};function l1(o){this._internalRoot=o}Xm.prototype.render=l1.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));Ym(o,l,null,null)},Xm.prototype.unmount=l1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Xa(function(){Ym(null,o,null,null)}),l[Vs]=null}};function Xm(o){this._internalRoot=o}Xm.prototype.unstable_scheduleHydration=function(o){if(o){var l=Xf();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ss.length&&l!==0&&l<ss[d].priority;d++);ss.splice(d,0,o),d===0&&tm(o)}};function c1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Zm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function QT(){}function LR(o,l,d,m,y){if(y){if(typeof m=="function"){var E=m;m=function(){var se=Jm(N);E.call(se)}}var N=qT(l,m,o,0,null,!1,!1,"",QT);return o._reactRootContainer=N,o[Vs]=N.current,md(o.nodeType===8?o.parentNode:o),Xa(),N}for(;y=o.lastChild;)o.removeChild(y);if(typeof m=="function"){var q=m;m=function(){var se=Jm(Q);q.call(se)}}var Q=o1(o,0,!1,null,null,!1,!1,"",QT);return o._reactRootContainer=Q,o[Vs]=Q.current,md(o.nodeType===8?o.parentNode:o),Xa(function(){Ym(l,Q,d,m)}),Q}function ep(o,l,d,m,y){var E=d._reactRootContainer;if(E){var N=E;if(typeof y=="function"){var q=y;y=function(){var Q=Jm(N);q.call(Q)}}Ym(l,N,o,y)}else N=LR(d,l,o,y,m);return Jm(N)}Yf=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=vo(l.pendingLanes);d!==0&&(To(l,d|1),Mr(l,Ft()),(It&6)===0&&(kc=Ft()+500,No()))}break;case 13:Xa(function(){var m=js(o,1);if(m!==null){var y=Er();qi(m,o,1,y)}}),a1(o,1)}},ec=function(o){if(o.tag===13){var l=js(o,134217728);if(l!==null){var d=Er();qi(l,o,134217728,d)}a1(o,134217728)}},Jf=function(o){if(o.tag===13){var l=Mo(o),d=js(o,l);if(d!==null){var m=Er();qi(d,o,l,m)}a1(o,l)}},Xf=function(){return vt},Zf=function(o,l){var d=vt;try{return vt=o,l()}finally{vt=d}},wn=function(o,l,d){switch(l){case"input":if(G(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var y=_m(m);if(!y)throw Error(t(90));vn(m),G(m,y)}}}break;case"textarea":Fe(o,d);break;case"select":l=d.value,l!=null&&_e(o,!!d.multiple,l,!1)}},kr=e1,_o=Xa;var OR={usingClientEntryPoint:!1,Events:[_d,gc,_m,Pn,go,e1]},Nd={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FR={bundleType:Nd.bundleType,version:Nd.version,rendererPackageName:Nd.rendererPackageName,rendererConfig:Nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Xu(o),o===null?null:o.stateNode},findFiberByHostInstance:Nd.findFiberByHostInstance||xR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{Ma=tp.inject(FR),Jr=tp}catch{}}return Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OR,Vr.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c1(l))throw Error(t(200));return DR(o,l,null,d)},Vr.createRoot=function(o,l){if(!c1(o))throw Error(t(299));var d=!1,m="",y=KT;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=o1(o,1,!1,null,null,d,!1,m,y),o[Vs]=l.current,md(o.nodeType===8?o.parentNode:o),new l1(l)},Vr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Xu(l),o=o===null?null:o.stateNode,o},Vr.flushSync=function(o){return Xa(o)},Vr.hydrate=function(o,l,d){if(!Zm(l))throw Error(t(200));return ep(null,o,l,!0,d)},Vr.hydrateRoot=function(o,l,d){if(!c1(o))throw Error(t(405));var m=d!=null&&d.hydratedSources||null,y=!1,E="",N=KT;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onRecoverableError!==void 0&&(N=d.onRecoverableError)),l=qT(l,null,o,1,d??null,y,!1,E,N),o[Vs]=l.current,md(o),m)for(o=0;o<m.length;o++)d=m[o],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new Xm(l)},Vr.render=function(o,l,d){if(!Zm(l))throw Error(t(200));return ep(null,o,l,!1,d)},Vr.unmountComponentAtNode=function(o){if(!Zm(o))throw Error(t(40));return o._reactRootContainer?(Xa(function(){ep(null,null,o,!1,function(){o._reactRootContainer=null,o[Vs]=null})}),!0):!1},Vr.unstable_batchedUpdates=e1,Vr.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!Zm(d))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return ep(o,l,d,!1,m)},Vr.version="18.3.1-next-f1338f8080-20240426",Vr}var rI;function HR(){if(rI)return h1.exports;rI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),h1.exports=WR(),h1.exports}var iI;function GR(){if(iI)return rp;iI=1;var n=HR();return rp.createRoot=n.createRoot,rp.hydrateRoot=n.hydrateRoot,rp}var qR=GR();const $R=d0(qR),KR="modulepreload",QR=function(n){return"/"+n},sI={},Xe=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=a(t.map(h=>{if(h=QR(h),h in sI)return;sI[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":KR,p||(_.as="script"),_.crossOrigin="",_.href=h,u&&_.setAttribute("nonce",u),document.head.appendChild(_),p)return new Promise((v,I)=>{_.addEventListener("load",v),_.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oI="popstate";function YR(n={}){function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return $1("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Th(i)}return XR(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JR(){return Math.random().toString(36).substring(2,10)}function aI(n,e){return{usr:n.state,key:n.key,idx:e}}function $1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ku(e):e,state:t,key:e&&e.key||r||JR()}}function Th({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ku(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XR(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c="POP",u=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){c="POP";let b=p(),C=b==null?null:b-h;h=b,u&&u({action:c,location:T.location,delta:C})}function _(b,C){c="PUSH";let D=$1(T.location,b,C);h=p()+1;let F=aI(D,h),U=T.createHref(D);try{a.pushState(F,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}s&&u&&u({action:c,location:T.location,delta:1})}function v(b,C){c="REPLACE";let D=$1(T.location,b,C);h=p();let F=aI(D,h),U=T.createHref(D);a.replaceState(F,"",U),s&&u&&u({action:c,location:T.location,delta:0})}function I(b){return ZR(b)}let T={get action(){return c},get location(){return n(i,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(oI,g),u=b,()=>{i.removeEventListener(oI,g),u=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let C=I(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:v,go(b){return a.go(b)}};return T}function ZR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Th(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function SS(n,e,t="/"){return e5(n,e,t,!1)}function e5(n,e,t,r){let i=typeof e=="string"?ku(e):e,s=eo(i.pathname||"/",t);if(s==null)return null;let a=CS(n);t5(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=h5(s);c=u5(a[u],h,r)}return c}function CS(n,e=[],t=[],r="",i=!1){let s=(a,c,u=i,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;Zt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Js([r,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(Zt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),CS(a.children,e,_,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:l5(g,a.index),routesMeta:_})};return n.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,c);else for(let h of PS(a.path))s(a,c,!0,h)}),e}function PS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=PS(r.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function t5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:c5(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var n5=/^:[\w-]+$/,r5=3,i5=2,s5=1,o5=10,a5=-2,lI=n=>n==="*";function l5(n,e){let t=n.split("/"),r=t.length;return t.some(lI)&&(r+=a5),e&&(r+=i5),t.filter(i=>!lI(i)).reduce((i,s)=>i+(n5.test(s)?r5:s===""?s5:o5),r)}function c5(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function u5(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Fp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),_=u.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Fp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Js([s,g.pathname]),pathnameBase:g5(Js([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Js([s,g.pathnameBase]))}return a}function Fp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=d5(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},_)=>{if(p==="*"){let I=c[_]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const v=c[_];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:n}}function d5(n,e=!1,t=!0){ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function h5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function eo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function f5(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ku(n):n;return{pathname:t?t.startsWith("/")?t:m5(t,e):e,search:_5(r),hash:y5(i)}}function m5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function p1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f0(n){let e=p5(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function m0(n,e,t,r=!1){let i;typeof n=="string"?i=ku(n):(i={...n},Zt(!i.pathname||!i.pathname.includes("?"),p1("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),p1("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),p1("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=t;else{let g=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}c=g>=0?e[g]:"/"}let u=f5(i,c),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var Js=n=>n.join("/").replace(/\/\/+/g,"/"),g5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,y5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function v5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var w5=["GET",...AS];new Set(w5);var Ru=z.createContext(null);Ru.displayName="DataRouter";var Pg=z.createContext(null);Pg.displayName="DataRouterState";z.createContext(!1);var kS=z.createContext({isTransitioning:!1});kS.displayName="ViewTransition";var E5=z.createContext(new Map);E5.displayName="Fetchers";var T5=z.createContext(null);T5.displayName="Await";var ts=z.createContext(null);ts.displayName="Navigation";var af=z.createContext(null);af.displayName="Location";var Ni=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var p0=z.createContext(null);p0.displayName="RouteError";function I5(n,{relative:e}={}){Zt(Nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=z.useContext(ts),{hash:i,pathname:s,search:a}=lf(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Js([t,s])),r.createHref({pathname:c,search:a,hash:i})}function Nu(){return z.useContext(af)!=null}function Ar(){return Zt(Nu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(af).location}var RS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NS(n){z.useContext(ts).static||z.useLayoutEffect(n)}function Ag(){let{isDataRoute:n}=z.useContext(Ni);return n?V5():b5()}function b5(){Zt(Nu(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Ru),{basename:e,navigator:t}=z.useContext(ts),{matches:r}=z.useContext(Ni),{pathname:i}=Ar(),s=JSON.stringify(f0(r)),a=z.useRef(!1);return NS(()=>{a.current=!0}),z.useCallback((u,h={})=>{if(ki(a.current,RS),!a.current)return;if(typeof u=="number"){t.go(u);return}let p=m0(u,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Js([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,s,i,n])}var S5=z.createContext(null);function C5(n){let e=z.useContext(Ni).outlet;return e&&z.createElement(S5.Provider,{value:n},e)}function DS(){let{matches:n}=z.useContext(Ni),e=n[n.length-1];return e?e.params:{}}function lf(n,{relative:e}={}){let{matches:t}=z.useContext(Ni),{pathname:r}=Ar(),i=JSON.stringify(f0(t));return z.useMemo(()=>m0(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function P5(n,e){return xS(n,e)}function xS(n,e,t,r,i){var D;Zt(Nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=z.useContext(ts),{matches:a}=z.useContext(Ni),c=a[a.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let F=g&&g.path||"";LS(h,!g||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Ar(),v;if(e){let F=typeof e=="string"?ku(e):e;Zt(p==="/"||((D=F.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),v=F}else v=_;let I=v.pathname||"/",T=I;if(p!=="/"){let F=p.replace(/^\//,"").split("/");T="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let b=SS(n,{pathname:T});ki(g||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ki(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=D5(b&&b.map(F=>Object.assign({},F,{params:Object.assign({},u,F.params),pathname:Js([p,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Js([p,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,t,r,i);return e&&C?z.createElement(af.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function A5(){let n=M5(),e=v5(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:s},"ErrorBoundary")," or"," ",z.createElement("code",{style:s},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:i},t):null,a)}var k5=z.createElement(A5,null),R5=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?z.createElement(Ni.Provider,{value:this.props.routeContext},z.createElement(p0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N5({routeContext:n,match:e,children:t}){let r=z.useContext(Ru);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Ni.Provider,{value:n},t)}function D5(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Zt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,u=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:_}=t,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let _,v=!1,I=null,T=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||k5,c&&(u<0&&g===0?(LS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,T=null):u===g&&(v=!0,T=p.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,g+1)),C=()=>{let D;return _?D=I:v?D=T:p.route.Component?D=z.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,z.createElement(N5,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?z.createElement(R5,{location:t.location,revalidation:t.revalidation,component:I,error:_,children:C(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):C()},null)}function g0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x5(n){let e=z.useContext(Ru);return Zt(e,g0(n)),e}function L5(n){let e=z.useContext(Pg);return Zt(e,g0(n)),e}function O5(n){let e=z.useContext(Ni);return Zt(e,g0(n)),e}function _0(n){let e=O5(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function F5(){return _0("useRouteId")}function M5(){var r;let n=z.useContext(p0),e=L5("useRouteError"),t=_0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function V5(){let{router:n}=x5("useNavigate"),e=_0("useNavigate"),t=z.useRef(!1);return NS(()=>{t.current=!0}),z.useCallback(async(i,s={})=>{ki(t.current,RS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var cI={};function LS(n,e,t){!e&&!cI[n]&&(cI[n]=!0,ki(!1,t))}z.memo(B5);function B5({routes:n,future:e,state:t,unstable_onError:r}){return xS(n,void 0,t,r,e)}function Hc({to:n,replace:e,state:t,relative:r}){Zt(Nu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=z.useContext(ts);ki(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=z.useContext(Ni),{pathname:a}=Ar(),c=Ag(),u=m0(n,f0(s),a,r==="path"),h=JSON.stringify(u);return z.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:r})},[c,h,r,e,t]),null}function z5(n){return C5(n.context)}function Ye(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U5({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Zt(!Nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=ku(t));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:_="default"}=t,v=z.useMemo(()=>{let I=eo(u,a);return I==null?null:{location:{pathname:I,search:h,hash:p,state:g,key:_},navigationType:r}},[a,u,h,p,g,_,r]);return ki(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:z.createElement(ts.Provider,{value:c},z.createElement(af.Provider,{children:e,value:v}))}function j5({children:n,location:e}){return P5(K1(n),e)}function K1(n,e=[]){let t=[];return z.Children.forEach(n,(r,i)=>{if(!z.isValidElement(r))return;let s=[...e,i];if(r.type===z.Fragment){t.push.apply(t,K1(r.props.children,s));return}Zt(r.type===Ye,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=K1(r.props.children,s)),t.push(a)}),t}var yp="get",vp="application/x-www-form-urlencoded";function kg(n){return n!=null&&typeof n.tagName=="string"}function W5(n){return kg(n)&&n.tagName.toLowerCase()==="button"}function H5(n){return kg(n)&&n.tagName.toLowerCase()==="form"}function G5(n){return kg(n)&&n.tagName.toLowerCase()==="input"}function q5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $5(n,e){return n.button===0&&(!e||e==="_self")&&!q5(n)}function Q1(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function K5(n,e){let t=Q1(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var ip=null;function Q5(){if(ip===null)try{new FormData(document.createElement("form"),0),ip=!1}catch{ip=!0}return ip}var Y5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g1(n){return n!=null&&!Y5.has(n)?(ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vp}"`),null):n}function J5(n,e){let t,r,i,s,a;if(H5(n)){let c=n.getAttribute("action");r=c?eo(c,e):null,t=n.getAttribute("method")||yp,i=g1(n.getAttribute("enctype"))||vp,s=new FormData(n)}else if(W5(n)||G5(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(r=u?eo(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||yp,i=g1(n.getAttribute("formenctype"))||g1(c.getAttribute("enctype"))||vp,s=new FormData(c,n),!Q5()){let{name:h,type:p,value:g}=n;if(p==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,g)}}else{if(kg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yp,r=null,i=vp,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function y0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function X5(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&eo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function Z5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tN(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Z5(s,t);return a.links?a.links():[]}return[]}));return sN(r.flat(1).filter(eN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function uI(n,e,t,r,i,s){let a=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,c=(u,h)=>{var p;return t[h].pathname!==u.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,h)=>a(u,h)||c(u,h)):s==="data"?e.filter((u,h)=>{var g;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let _=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function nN(n,e,{includeHydrateFallback:t}={}){return rN(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function rN(n){return[...new Set(n)]}function iN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function sN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(iN(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function OS(){let n=z.useContext(Ru);return y0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oN(){let n=z.useContext(Pg);return y0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var v0=z.createContext(void 0);v0.displayName="FrameworkContext";function FS(){let n=z.useContext(v0);return y0(n,"You must render this element inside a <HydratedRouter> element"),n}function aN(n,e){let t=z.useContext(v0),[r,i]=z.useState(!1),[s,a]=z.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,_=z.useRef(null);z.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let T=C=>{C.forEach(D=>{a(D.isIntersecting)})},b=new IntersectionObserver(T,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[n]),z.useEffect(()=>{if(r){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[r]);let v=()=>{i(!0)},I=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:xd(c,v),onBlur:xd(u,I),onMouseEnter:xd(h,v),onMouseLeave:xd(p,I),onTouchStart:xd(g,v)}]:[!1,_,{}]}function xd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lN({page:n,...e}){let{router:t}=OS(),r=z.useMemo(()=>SS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?z.createElement(uN,{page:n,matches:r,...e}):null}function cN(n){let{manifest:e,routeModules:t}=FS(),[r,i]=z.useState([]);return z.useEffect(()=>{let s=!1;return tN(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function uN({page:n,matches:e,...t}){let r=Ar(),{manifest:i,routeModules:s}=FS(),{basename:a}=OS(),{loaderData:c,matches:u}=oN(),h=z.useMemo(()=>uI(n,e,u,i,r,"data"),[n,e,u,i,r]),p=z.useMemo(()=>uI(n,e,u,i,r,"assets"),[n,e,u,i,r]),g=z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,T=!1;if(e.forEach(C=>{var F;let D=i.routes[C.route.id];!D||!D.hasLoader||(!h.some(U=>U.route.id===C.route.id)&&C.route.id in c&&((F=s[C.route.id])!=null&&F.shouldRevalidate)||D.hasClientLoader?T=!0:I.add(C.route.id))}),I.size===0)return[];let b=X5(n,a,"data");return T&&I.size>0&&b.searchParams.set("_routes",e.filter(C=>I.has(C.route.id)).map(C=>C.route.id).join(",")),[b.pathname+b.search]},[a,c,r,i,h,e,n,s]),_=z.useMemo(()=>nN(p,i),[p,i]),v=cN(p);return z.createElement(z.Fragment,null,g.map(I=>z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),_.map(I=>z.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),v.map(({key:I,link:T})=>z.createElement("link",{key:I,nonce:t.nonce,...T})))}function dN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MS&&(window.__reactRouterVersion="7.8.2")}catch{}function hN({basename:n,children:e,window:t}){let r=z.useRef();r.current==null&&(r.current=YR({window:t,v5Compat:!0}));let i=r.current,[s,a]=z.useState({action:i.action,location:i.location}),c=z.useCallback(u=>{z.startTransition(()=>a(u))},[a]);return z.useLayoutEffect(()=>i.listen(c),[i,c]),z.createElement(U5,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,al=z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:c,target:u,to:h,preventScrollReset:p,viewTransition:g,..._},v){let{basename:I}=z.useContext(ts),T=typeof h=="string"&&VS.test(h),b,C=!1;if(typeof h=="string"&&T&&(b=h,MS))try{let L=new URL(window.location.href),M=h.startsWith("//")?new URL(L.protocol+h):new URL(h),W=eo(M.pathname,I);M.origin===L.origin&&W!=null?h=W+M.search+M.hash:C=!0}catch{ki(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=I5(h,{relative:i}),[F,U,$]=aN(r,_),J=gN(h,{replace:a,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:g});function x(L){e&&e(L),L.defaultPrevented||J(L)}let R=z.createElement("a",{..._,...$,href:b||D,onClick:C||s?e:x,ref:dN(v,U),target:u,"data-discover":!T&&t==="render"?"true":void 0});return F&&!T?z.createElement(z.Fragment,null,R,z.createElement(lN,{page:D})):R});al.displayName="Link";var fN=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:c,children:u,...h},p){let g=lf(a,{relative:h.relative}),_=Ar(),v=z.useContext(Pg),{navigator:I,basename:T}=z.useContext(ts),b=v!=null&&EN(g)&&c===!0,C=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,D=_.pathname,F=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(D=D.toLowerCase(),F=F?F.toLowerCase():null,C=C.toLowerCase()),F&&T&&(F=eo(F,T)||F);const U=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let $=D===C||!i&&D.startsWith(C)&&D.charAt(U)==="/",J=F!=null&&(F===C||!i&&F.startsWith(C)&&F.charAt(C.length)==="/"),x={isActive:$,isPending:J,isTransitioning:b},R=$?e:void 0,L;typeof r=="function"?L=r(x):L=[r,$?"active":null,J?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(x):s;return z.createElement(al,{...h,"aria-current":R,className:L,ref:p,style:M,to:a,viewTransition:c},typeof u=="function"?u(x):u)});fN.displayName="NavLink";var mN=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=yp,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,..._},v)=>{let I=vN(),T=wN(c,{relative:h}),b=a.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&VS.test(c),D=F=>{if(u&&u(F),F.defaultPrevented)return;F.preventDefault();let U=F.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||a;I(U||F.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return z.createElement("form",{ref:v,method:b,action:T,onSubmit:r?u:D,..._,"data-discover":!C&&n==="render"?"true":void 0})});mN.displayName="Form";function pN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(n){let e=z.useContext(Ru);return Zt(e,pN(n)),e}function gN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let c=Ag(),u=Ar(),h=lf(n,{relative:s});return z.useCallback(p=>{if($5(p,e)){p.preventDefault();let g=t!==void 0?t:Th(u)===Th(h);c(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,c,h,t,r,e,n,i,s,a])}function UH(n){ki(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(Q1(n)),t=z.useRef(!1),r=Ar(),i=z.useMemo(()=>K5(r.search,t.current?null:e.current),[r.search]),s=Ag(),a=z.useCallback((c,u)=>{const h=Q1(typeof c=="function"?c(new URLSearchParams(i)):c);t.current=!0,s("?"+h,u)},[s,i]);return[i,a]}var _N=0,yN=()=>`__${String(++_N)}__`;function vN(){let{router:n}=BS("useSubmit"),{basename:e}=z.useContext(ts),t=F5();return z.useCallback(async(r,i={})=>{let{action:s,method:a,encType:c,formData:u,body:h}=J5(r,e);if(i.navigate===!1){let p=i.fetcherKey||yN();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||a,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||a,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function wN(n,{relative:e}={}){let{basename:t}=z.useContext(ts),r=z.useContext(Ni);Zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...lf(n||".",{relative:e})},a=Ar();if(n==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Js([t,s.pathname])),Th(s)}function EN(n,{relative:e}={}){let t=z.useContext(kS);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BS("useViewTransitionState"),i=lf(n,{relative:e});if(!t.isTransitioning)return!1;let s=eo(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=eo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fp(i.pathname,a)!=null||Fp(i.pathname,s)!=null}var zS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dI=Zo.createContext&&Zo.createContext(zS),TN=["attr","size","title"];function IN(n,e){if(n==null)return{};var t=bN(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Mp(){return Mp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mp.apply(this,arguments)}function hI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(t),!0).forEach(function(r){SN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SN(n,e,t){return e=CN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CN(n){var e=PN(n,"string");return typeof e=="symbol"?e:e+""}function PN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function US(n){return n&&n.map((e,t)=>Zo.createElement(e.tag,Vp({key:t},e.attr),US(e.child)))}function Ae(n){return e=>Zo.createElement(AN,Mp({attr:Vp({},n.attr)},e),US(n.child))}function AN(n){var e=t=>{var{attr:r,size:i,title:s}=n,a=IN(n,TN),c=i||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),Zo.createElement("svg",Mp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:u,style:Vp(Vp({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&Zo.createElement("title",null,s),n.children)};return dI!==void 0?Zo.createElement(dI.Consumer,null,t=>e(t)):e(zS)}function kN(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function jH(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(n)}function RN(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function WH(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function HH(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(n)}function GH(n){return Ae({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(n)}function qH(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(n)}function NN(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function $H(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(n)}function KH(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function QH(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(n)}function YH(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function JH(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function XH(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(n)}function ZH(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M172.2 226.8c-14.6-2.9-28.2 8.9-28.2 23.8V301c0 10.2 7.1 18.4 16.7 22 18.2 6.8 31.3 24.4 31.3 45 0 26.5-21.5 48-48 48s-48-21.5-48-48V120c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v248c0 89.5 82.1 160.2 175 140.7 54.4-11.4 98.3-55.4 109.7-109.7 17.4-82.9-37-157.2-112.5-172.2zM209 0c-9.2-.5-17 6.8-17 16v31.6c0 8.5 6.6 15.5 15 15.9 129.4 7 233.4 112 240.9 241.5.5 8.4 7.5 15 15.9 15h32.1c9.2 0 16.5-7.8 16-17C503.4 139.8 372.2 8.6 209 0zm.3 96c-9.3-.7-17.3 6.7-17.3 16.1v32.1c0 8.4 6.5 15.3 14.8 15.9 76.8 6.3 138 68.2 144.9 145.2.8 8.3 7.6 14.7 15.9 14.7h32.2c9.3 0 16.8-8 16.1-17.3-8.4-110.1-96.5-198.2-206.6-206.7z"},child:[]}]})(n)}function eG(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(n)}function tG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(n)}function nG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function rG(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(n)}function iG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function DN(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}function sG(n){return Ae({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function oG(n){return Ae({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function aG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(n)}function lG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(n)}function cG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function uG(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(n)}function dG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"},child:[]}]})(n)}function hG(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function fG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function mG(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(n)}function pG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(n)}function gG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(n)}function _G(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function yG(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(n)}function vG(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(n)}function wG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function EG(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function TG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function xN(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function IG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(n)}function bG(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function SG(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function CG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function PG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(n)}function AG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function kG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function RG(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(n)}function NG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function DG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function xG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(n)}function fI(n){return Ae({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function LG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(n)}function OG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(n)}function FG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(n)}function MG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(n)}function VG(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(n)}function BG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(n)}function zG(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function UG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(n)}function jG(n){return Ae({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function WG(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function HG(n){return Ae({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function GG(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function qG(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function $G(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(n)}function KG(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(n)}function QG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function YG(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(n)}function JG(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function XG(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(n)}function ZG(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(n)}function eq(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}function tq(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function nq(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function w0(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(n)}function rq(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function iq(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function sq(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function oq(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(n)}function aq(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(n)}function lq(n){return Ae({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function cq(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function uq(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}function dq(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(n)}function hq(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function fq(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(n)}function mq(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(n)}function pq(n){return Ae({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function gq(n){return Ae({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function _q(n){return Ae({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(n)}function yq(n){return Ae({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const LN=()=>{};var mI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(n,e){if(!n)throw Du(e)},Du=function(n){return new Error("Firebase Database ("+jS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ON=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},E0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,c=a?n[i+1]:0,u=i+2<n.length,h=u?n[i+2]:0,p=s>>2,g=(s&3)<<4|c>>4;let _=(c&15)<<2|h>>6,v=h&63;u||(v=64,a||(_=64)),r.push(t[p],t[g],t[_],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ON(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||h==null||g==null)throw new FN;const _=s<<2|c>>4;if(r.push(_),h!==64){const v=c<<4&240|h>>2;if(r.push(v),g!==64){const I=h<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class FN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HS=function(n){const e=WS(n);return E0.encodeByteArray(e,!0)},Bp=function(n){return HS(n).replace(/\./g,"")},Ih=function(n){try{return E0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){return bh(void 0,n)}function bh(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!VN(t)||(n[t]=bh(n[t],e[t]));return n}function VN(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=()=>T0().__FIREBASE_DEFAULTS__,zN=()=>{if(typeof process>"u"||typeof mI>"u")return;const n=mI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ih(n[1]);return e&&JSON.parse(e)},Rg=()=>{try{return LN()||BN()||zN()||UN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jN=n=>{var e,t;return(t=(e=Rg())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},vq=n=>{const e=jN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},I0=()=>{var n;return(n=Rg())==null?void 0:n.config},WN=n=>{var e;return(e=Rg())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bp(JSON.stringify(t)),Bp(JSON.stringify(a)),""].join(".")}const nh={};function HN(){const n={prod:[],emulator:[]};for(const e of Object.keys(nh))nh[e]?n.emulator.push(e):n.prod.push(e);return n}function GN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let pI=!1;function S0(n,e){if(typeof window>"u"||typeof document>"u"||!Sa(window.location.host)||nh[n]===e||nh[n]||pI)return;nh[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",s=HN().prod.length>0;function a(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function u(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{pI=!0,a()},_}function p(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){const _=GN(r),v=t("text"),I=document.getElementById(v)||document.createElement("span"),T=t("learnmore"),b=document.getElementById(T)||document.createElement("a"),C=t("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;c(F),p(b,T);const U=h();u(D,C),F.append(D,I,b,U),document.body.appendChild(F)}s?(I.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Ng(){var e;const n=(e=Rg())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qN(){return typeof window<"u"||qS()}function qS(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Dg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function KN(){return jS.NODE_ADMIN===!0}function QS(){return!Ng()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YS(){return!Ng()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Sh(){try{return typeof indexedDB=="object"}catch{return!1}}function QN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FirebaseError";class br extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?JN(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new br(i,c,r)}}function JN(n,e){return n.replace(XN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n){return JSON.parse(n)}function Nn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Ch(Ih(s[0])||""),t=Ch(Ih(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},ZN=function(n){const e=JS(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},eD=function(n){const e=JS(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Tl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function zp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Up(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function to(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(gI(s)&&gI(a)){if(!to(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function gI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Kd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let g=0;g<16;g++)r[g]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let g=16;g<80;g++){const _=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4],h,p;for(let g=0;g<80;g++){g<40?g<20?(h=c^s&(a^c),p=1518500249):(h=s^a^c,p=1859775393):g<60?(h=s&a|c&(s|a),p=2400959708):(h=s^a^c,p=3395469782);const _=(i<<5|i>>>27)+h+u+p+r[g]&4294967295;u=c,c=a,a=(s<<30|s>>>2)&4294967295,s=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<t;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<t;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function XS(n,e){const t=new nD(n,e);return t.subscribe.bind(t)}class nD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");rD(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_1),i.error===void 0&&(i.error=_1),i.complete===void 0&&(i.complete=_1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _1(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st=function(n,e,t,r){let i;if(r<e?i="at least "+e:r>t&&(i=t===0?"none":"no more than "+t),i){const s=n+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function qr(n,e){return`${n} failed: ${e} argument `}function Wn(n,e,t,r){if(!(r&&!t)&&typeof t!="function")throw new Error(qr(n,e)+"must be a valid function.")}function _I(n,e,t,r){if(t&&(typeof t!="object"||t===null))throw new Error(qr(n,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<n.length,"Surrogate pair missing trail surrogate.");const a=n.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},xg=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n){return n&&n._delegate?n._delegate:n}class $r{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ur;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oD(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sD(n){return n===rl?void 0:n}function oD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Y1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=[];var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const ZS={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},aD=ft.INFO,lD={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},cD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=lD[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xu{constructor(e){this.name=e,this._logLevel=aD,this._logHandler=cD,this._userLogHandler=null,A0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}function uD(n){A0.forEach(e=>{e.setLogLevel(n)})}function dD(n,e){for(const t of A0){let r=null;e&&e.level&&(r=ZS[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...a)=>{const c=a.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&n({level:ft[s].toLowerCase(),message:c,args:a,type:i.name})}}}const hD=(n,e)=>e.some(t=>n instanceof t);let yI,vI;function fD(){return yI||(yI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mD(){return vI||(vI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eC=new WeakMap,J1=new WeakMap,tC=new WeakMap,y1=new WeakMap,k0=new WeakMap;function pD(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(ea(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&eC.set(t,n)}).catch(()=>{}),k0.set(e,n),e}function gD(n){if(J1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});J1.set(n,e)}let X1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return J1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _D(n){X1=n(X1)}function yD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(v1(this),e,...t);return tC.set(r,e.sort?e.sort():[e]),ea(r)}:mD().includes(n)?function(...e){return n.apply(v1(this),e),ea(eC.get(this))}:function(...e){return ea(n.apply(v1(this),e))}}function vD(n){return typeof n=="function"?yD(n):(n instanceof IDBTransaction&&gD(n),hD(n,fD())?new Proxy(n,X1):n)}function ea(n){if(n instanceof IDBRequest)return pD(n);if(y1.has(n))return y1.get(n);const e=vD(n);return e!==n&&(y1.set(n,e),k0.set(e,n)),e}const v1=n=>k0.get(n);function wD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),c=ea(a);return r&&a.addEventListener("upgradeneeded",u=>{r(ea(a.result),u.oldVersion,u.newVersion,ea(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const ED=["get","getKey","getAll","getAllKeys","count"],TD=["put","add","delete","clear"],w1=new Map;function wI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w1.get(e))return w1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=TD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ED.includes(t)))return;const s=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),i&&u.done]))[0]};return w1.set(e,s),s}_D(n=>({...n,get:(e,t,r)=>wI(e,t)||n.get(e,t,r),has:(e,t)=>!!wI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jp="@firebase/app",Z1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new xu("@firebase/app"),SD="@firebase/app-compat",CD="@firebase/analytics-compat",PD="@firebase/analytics",AD="@firebase/app-check-compat",kD="@firebase/app-check",RD="@firebase/auth",ND="@firebase/auth-compat",DD="@firebase/database",xD="@firebase/data-connect",LD="@firebase/database-compat",OD="@firebase/functions",FD="@firebase/functions-compat",MD="@firebase/installations",VD="@firebase/installations-compat",BD="@firebase/messaging",zD="@firebase/messaging-compat",UD="@firebase/performance",jD="@firebase/performance-compat",WD="@firebase/remote-config",HD="@firebase/remote-config-compat",GD="@firebase/storage",qD="@firebase/storage-compat",$D="@firebase/firestore",KD="@firebase/ai",QD="@firebase/firestore-compat",YD="firebase",JD="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]",XD={[jp]:"fire-core",[SD]:"fire-core-compat",[PD]:"fire-analytics",[CD]:"fire-analytics-compat",[kD]:"fire-app-check",[AD]:"fire-app-check-compat",[RD]:"fire-auth",[ND]:"fire-auth-compat",[DD]:"fire-rtdb",[xD]:"fire-data-connect",[LD]:"fire-rtdb-compat",[OD]:"fire-fn",[FD]:"fire-fn-compat",[MD]:"fire-iid",[VD]:"fire-iid-compat",[BD]:"fire-fcm",[zD]:"fire-fcm-compat",[UD]:"fire-perf",[jD]:"fire-perf-compat",[WD]:"fire-rc",[HD]:"fire-rc-compat",[GD]:"fire-gcs",[qD]:"fire-gcs-compat",[$D]:"fire-fst",[QD]:"fire-fst-compat",[KD]:"fire-vertex","fire-js":"fire-js",[YD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Map,tu=new Map,nu=new Map;function Ph(n,e){try{n.container.addComponent(e)}catch(t){no.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function nC(n,e){n.container.addOrOverwriteComponent(e)}function ro(n){const e=n.name;if(nu.has(e))return no.debug(`There were multiple attempts to register component ${e}.`),!1;nu.set(e,n);for(const t of ua.values())Ph(t,n);for(const t of tu.values())Ph(t,n);return!0}function rC(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ZD(n,e,t=ca){rC(n,e).clearInstance(t)}function R0(n){return n.options!==void 0}function iC(n){return R0(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function qt(n){return n==null?!1:n.settings!==void 0}function e8(){nu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Vl("app","Firebase",t8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sC=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(n,e){const t=Ih(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class n8 extends sC{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const c=e;super(c.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...t},this._serverConfig.authIdToken&&EI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&EI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ci(jp,Z1,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){D0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw li.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=JD;function N0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ca,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(t||(t=I0()),!t)throw li.create("no-options");const s=ua.get(i);if(s){if(to(t,s.options)&&to(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const a=new P0(i);for(const u of nu.values())a.addComponent(u);const c=new sC(t,r,a);return ua.set(i,c),c}function r8(n,e={}){if(qN()&&!qS())throw li.create("invalid-server-app-environment");let t,r=e||{};if(n&&(R0(n)?t=n.options:iC(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=I0()),!t)throw li.create("no-options");const i={...r,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=p=>[...p].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw li.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),c=tu.get(a);if(c)return c.incRefCount(r.releaseOnDeref),c;const u=new P0(a);for(const p of nu.values())u.addComponent(p);const h=new n8(t,r,a,u);return tu.set(a,h),h}function i8(n=ca){const e=ua.get(n);if(!e&&n===ca&&I0())return N0();if(!e)throw li.create("no-app",{appName:n});return e}function s8(){return Array.from(ua.values())}async function D0(n){let e=!1;const t=n.name;ua.has(t)?(e=!0,ua.delete(t)):tu.has(t)&&n.decRefCount()<=0&&(tu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ci(n,e,t){let r=XD[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),no.warn(a.join(" "));return}ro(new $r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function oC(n,e){if(n!==null&&typeof n!="function")throw li.create("invalid-log-argument");dD(n,e)}function aC(n){uD(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="firebase-heartbeat-database",a8=1,Ah="firebase-heartbeat-store";let E1=null;function lC(){return E1||(E1=wD(o8,a8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ah)}catch(t){console.warn(t)}}}}).catch(n=>{throw li.create("idb-open",{originalErrorMessage:n.message})})),E1}async function l8(n){try{const t=(await lC()).transaction(Ah),r=await t.objectStore(Ah).get(cC(n));return await t.done,r}catch(e){if(e instanceof br)no.warn(e.message);else{const t=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});no.warn(t.message)}}}async function TI(n,e){try{const r=(await lC()).transaction(Ah,"readwrite");await r.objectStore(Ah).put(e,cC(n)),await r.done}catch(t){if(t instanceof br)no.warn(t.message);else{const r=li.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});no.warn(r.message)}}}function cC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=1024,u8=30;class d8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new f8(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=II();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>u8){const a=m8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){no.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=II(),{heartbeatsToSend:r,unsentEntries:i}=h8(this._heartbeatsCache.heartbeats),s=Bp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return no.warn(t),""}}}function II(){return new Date().toISOString().substring(0,10)}function h8(n,e=c8){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),bI(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class f8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sh()?QN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await l8(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return TI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return TI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bI(n){return Bp(JSON.stringify({version:2,heartbeats:n})).length}function m8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(n){ro(new $r("platform-logger",e=>new ID(e),"PRIVATE")),ro(new $r("heartbeat",e=>new d8(e),"PRIVATE")),ci(jp,Z1,n),ci(jp,Z1,"esm2020"),ci("fire-js","")}p8("");const g8=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:br,SDK_VERSION:lo,_DEFAULT_ENTRY_NAME:ca,_addComponent:Ph,_addOrOverwriteComponent:nC,_apps:ua,_clearComponents:e8,_components:nu,_getProvider:rC,_isFirebaseApp:R0,_isFirebaseServerApp:qt,_isFirebaseServerAppSettings:iC,_registerComponent:ro,_removeServiceInstance:ZD,_serverApps:tu,deleteApp:D0,getApp:i8,getApps:s8,initializeApp:N0,initializeServerApp:r8,onLog:oC,registerVersion:ci,setLogLevel:aC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,t){this._delegate=e,this.firebase=t,Ph(e,new $r("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),D0(this._delegate)))}_getService(e,t=ca){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=ca){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ph(this._delegate,e)}_addOrOverwriteComponent(e){nC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},SI=new Vl("app-compat","Firebase",y8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:ci,setLogLevel:aC,onLog:oC,apps:null,SDK_VERSION:lo,INTERNAL:{registerComponent:c,removeApp:r,useAsService:u,modularAPIs:g8}};t.default=t,Object.defineProperty(t,"apps",{get:a});function r(h){delete e[h]}function i(h){if(h=h||ca,!ui(e,h))throw SI.create("no-app",{appName:h});return e[h]}i.App=n;function s(h,p={}){const g=N0(h,p);if(ui(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function a(){return Object.keys(e).map(h=>e[h])}function c(h){const p=h.name,g=p.replace("-compat","");if(ro(h)&&h.type==="PUBLIC"){const _=(v=i())=>{if(typeof v[g]!="function")throw SI.create("invalid-app-argument",{appName:p});return v[g]()};h.serviceProps!==void 0&&bh(_,h.serviceProps),t[g]=_,n.prototype[g]=function(...v){return this._getService.bind(this,p).apply(this,h.multipleInstances?v:[])}}return h.type==="PUBLIC"?t[g]:null}function u(h,p){return p==="serverAuth"?null:p}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){const n=v8(_8);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:uC,extendNamespace:e,createSubscribe:XS,ErrorFactory:Vl,deepExtend:bh};function e(t){bh(n,t)}return n}const w8=uC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new xu("@firebase/app-compat"),E8="@firebase/app-compat",T8="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(n){ci(E8,T8,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=T0();if(n.firebase!==void 0){CI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&CI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Dn=w8;I8();var b8="firebase",S8="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.registerVersion(b8,S8,"app-compat");const Ld={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Nc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function dC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P8=C8,A8=dC,hC=new Vl("auth","Firebase",dC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new xu("@firebase/auth");function k8(n,...e){Wp.logLevel<=ft.WARN&&Wp.warn(`Auth (${lo}): ${n}`,...e)}function wp(n,...e){Wp.logLevel<=ft.ERROR&&Wp.error(`Auth (${lo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(n,...e){throw L0(n,...e)}function xn(n,...e){return L0(n,...e)}function x0(n,e,t){const r={...A8(),[e]:t};return new Vl("auth","Firebase",r).create(e,{appName:n.name})}function $n(n){return x0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lu(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ir(n,"argument-error"),x0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hC.create(n,...e)}function be(n,e,...t){if(!n)throw L0(e,...t)}function ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wp(e),new Error(e)}function es(n,e){n||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function O0(){return PI()==="http:"||PI()==="https:"}function PI(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O0()||$S()||"connection"in navigator)?navigator.onLine:!0}function N8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=C0()||Dg()}get(){return R8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(n,e){es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L8=new cf(3e4,6e4);function hn(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function fn(n,e,t,r,i={}){return mC(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=Bl({key:n.config.apiKey,...a}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:u,...s};return $N()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&Sa(n.emulatorConfig.host)&&(h.credentials="include"),fC.fetch()(await pC(n,n.config.apiHost,t,c),h)})}async function mC(n,e,t){n._canInitEmulator=!1;const r={...D8,...e};try{const i=new F8(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Qd(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Qd(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw Qd(n,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw x0(n,p,h);ir(n,p)}}catch(i){if(i instanceof br)throw i;ir(n,"network-request-failed",{message:String(i)})}}async function co(n,e,t,r,i={}){const s=await fn(n,e,t,r,i);return"mfaPendingCredential"in s&&ir(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function pC(n,e,t,r){const i=`${e}${t}?${r}`,s=n,a=s.config.emulator?F0(n.config,i):`${n.config.apiScheme}://${i}`;return x8.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function O8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xn(this.auth,"network-request-failed")),L8.get())})}}function Qd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=xn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n){return n!==void 0&&n.getResponse!==void 0}function kI(n){return n!==void 0&&n.enterprise!==void 0}class gC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(n){return(await fn(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function _C(n,e){return fn(n,"GET","/v2/recaptchaConfig",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(n,e){return fn(n,"POST","/v1/accounts:delete",e)}async function B8(n,e){return fn(n,"POST","/v1/accounts:update",e)}async function Hp(n,e){return fn(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z8(n,e=!1){const t=je(n),r=await t.getIdToken(e),i=Lg(r);be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rh(T1(i.auth_time)),issuedAtTime:rh(T1(i.iat)),expirationTime:rh(T1(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function T1(n){return Number(n)*1e3}function Lg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ih(t);return i?JSON.parse(i):(wp("Failed to decode base64 JWT payload"),null)}catch(i){return wp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RI(n){const e=Lg(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof br&&U8(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function U8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rh(this.lastLoginAt),this.creationTime=rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(n){var g;const e=n.auth,t=await n.getIdToken(),r=await io(n,Hp(e,{idToken:t}));be(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=(g=i.providerUserInfo)!=null&&g.length?yC(i.providerUserInfo):[],a=H8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ev(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function W8(n){const e=je(n);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(n,e){const t=await mC(n,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await pC(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Sa(n.emulatorConfig.host)&&(u.credentials="include"),fC.fetch()(a,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function q8(n,e){return fn(n,"POST","/v2/accounts:revokeToken",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=RI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await G8(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new $c;return r&&(be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(be(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qi{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new j8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ev(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await io(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return z8(this,e)}reload(){return W8(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject($n(this.auth));const e=await this.getIdToken();return await io(this,V8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,a=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,h=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:g,emailVerified:_,isAnonymous:v,providerData:I,stsTokenManager:T}=t;be(g&&T,e,"internal-error");const b=$c.fromJSON(this.name,T);be(typeof g=="string",e,"internal-error"),Uo(r,e.name),Uo(i,e.name),be(typeof _=="boolean",e,"internal-error"),be(typeof v=="boolean",e,"internal-error"),Uo(s,e.name),Uo(a,e.name),Uo(c,e.name),Uo(u,e.name),Uo(h,e.name),Uo(p,e.name);const C=new Qi({uid:g,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:c,stsTokenManager:b,createdAt:h,lastLoginAt:p});return I&&Array.isArray(I)&&(C.providerData=I.map(D=>({...D}))),u&&(C._redirectEventId=u),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new $c;i.updateFromServerResponse(t);const s=new Qi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];be(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new $c;c.updateFromIdToken(r);const u=new Qi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ev(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Map;function ai(n){es(n instanceof Function,"Expected a class definition");let e=NI.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,NI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vC.type="NONE";const ru=vC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(n,e,t){return`firebase:${n}:${e}:${t}`}class Kc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=yl(this.userKey,i.apiKey,s),this.fullPersistenceKey=yl("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hp(this.auth,{idToken:e}).catch(()=>{});return t?Qi._fromGetAccountInfoResponse(this.auth,t,e):null}return Qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Kc(ai(ru),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ai(ru);const a=yl(r,e.config.apiKey,e.name);let c=null;for(const h of t)try{const p=await h._get(a);if(p){let g;if(typeof p=="string"){const _=await Hp(e,{idToken:p}).catch(()=>{});if(!_)break;g=await Qi._fromGetAccountInfoResponse(e,_,p)}else g=Qi._fromJSON(e,p);h!==s&&(c=g),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Kc(s,e,r):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Kc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bC(e))return"Blackberry";if(SC(e))return"Webos";if(EC(e))return"Safari";if((e.includes("chrome/")||TC(e))&&!e.includes("edge/"))return"Chrome";if(uf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wC(n=on()){return/firefox\//i.test(n)}function EC(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TC(n=on()){return/crios\//i.test(n)}function IC(n=on()){return/iemobile/i.test(n)}function uf(n=on()){return/android/i.test(n)}function bC(n=on()){return/blackberry/i.test(n)}function SC(n=on()){return/webos/i.test(n)}function df(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $8(n=on()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function K8(n=on()){var e;return df(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Q8(){return KS()&&document.documentMode===10}function CC(n=on()){return df(n)||uf(n)||SC(n)||bC(n)||/windows phone/i.test(n)||IC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n,e=[]){let t;switch(n){case"Browser":t=DI(on());break;case"Worker":t=`${DI(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,c)=>{try{const u=e(s);a(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(n,e={}){return fn(n,"GET","/v2/passwordPolicy",hn(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=6;class Z8{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??X8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xI(this),this.idTokenSubscription=new xI(this),this.beforeStateQueue=new Y8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hp(this,{idToken:e}),r=await Qi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(qt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject($n(this));const t=e?je(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject($n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject($n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J8(this),t=new Z8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await q8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ai(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&k8(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function an(n){return je(n)}class xI{constructor(e){this.auth=e,this.observer=null,this.addObserver=XS(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tx(n){hf=n}function M0(n){return hf.loadJS(n)}function nx(){return hf.recaptchaV2Script}function rx(){return hf.recaptchaEnterpriseScript}function ix(){return hf.gapiScript}function AC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=500,ox=6e4,sp=1e12;class ax{constructor(e){this.auth=e,this.counter=sp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new ux(e,this.auth.name,t||{})),this.counter++,r}reset(e){var r;const t=e||sp;(r=this._widgets.get(t))==null||r.delete(),this._widgets.delete(t)}getResponse(e){var r;const t=e||sp;return((r=this._widgets.get(t))==null?void 0:r.getResponse())||""}async execute(e){var r;const t=e||sp;return(r=this._widgets.get(t))==null||r.execute(),""}}class lx{constructor(){this.enterprise=new cx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ux{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;be(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=dx(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},ox)},sx))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function dx(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const hx="recaptcha-enterprise",ih="NO_RECAPTCHA";class kC{constructor(e){this.type=hx,this.auth=an(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{_C(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new gC(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(u=>{c(u)})})}function i(s,a,c){const u=window.grecaptcha;kI(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(ih)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lx().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(c=>{if(!t&&kI(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=rx();u.length!==0&&(u+=c),M0(u).then(()=>{i(c,s,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})}}async function Od(n,e,t,r=!1,i=!1){const s=new kC(n);let a;if(i)a=ih;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ta(n,e,t,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=n._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Od(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Od(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const c=await Od(n,e,t);return r(n,c).catch(async u=>{var h;if(((h=n._getRecaptchaConfig())==null?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const p=await Od(n,e,t,!1,!0);return r(n,p)}return Promise.reject(u)})}else{const c=await Od(n,e,t,!1,!0);return r(n,c)}else return Promise.reject(i+" provider is not supported.")}async function fx(n){const e=an(n),t=await _C(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new gC(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new kC(e).verify()}function mx(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ai);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function px(n,e,t){const r=an(n);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=RC(e),{host:a,port:c}=gx(e),u=c===null?"":`:${c}`,h={url:`${s}//${a}${u}/`},p=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(to(h,r.config.emulator)&&to(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Sa(a)?(b0(`${s}//${a}${u}`),S0("Auth",!0)):i||_x()}function RC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gx(n){const e=RC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:LI(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:LI(a)}}}function LI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _x(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,t){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n,e){return fn(n,"POST","/v1/accounts:resetPassword",hn(n,e))}async function yx(n,e){return fn(n,"POST","/v1/accounts:update",e)}async function vx(n,e){return fn(n,"POST","/v1/accounts:signUp",e)}async function wx(n,e){return fn(n,"POST","/v1/accounts:update",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(n,e){return co(n,"POST","/v1/accounts:signInWithPassword",hn(n,e))}async function Og(n,e){return fn(n,"POST","/v1/accounts:sendOobCode",hn(n,e))}async function Tx(n,e){return Og(n,e)}async function Ix(n,e){return Og(n,e)}async function bx(n,e){return Og(n,e)}async function Sx(n,e){return Og(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(n,e){return co(n,"POST","/v1/accounts:signInWithEmailLink",hn(n,e))}async function Px(n,e){return co(n,"POST","/v1/accounts:signInWithEmailLink",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Ou{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Nh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Nh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ta(e,t,"signInWithPassword",Ex,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Cx(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ta(e,r,"signUpPassword",vx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Px(e,{idToken:t,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(n,e){return co(n,"POST","/v1/accounts:signInWithIdp",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="http://localhost";class Ps extends Ou{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const a=new Ps(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Xs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Xs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xs(e,t)}buildRequest(){const e={requestUri:Ax,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e){return fn(n,"POST","/v1/accounts:sendVerificationCode",hn(n,e))}async function kx(n,e){return co(n,"POST","/v1/accounts:signInWithPhoneNumber",hn(n,e))}async function Rx(n,e){const t=await co(n,"POST","/v1/accounts:signInWithPhoneNumber",hn(n,e));if(t.temporaryProof)throw Qd(n,"account-exists-with-different-credential",t);return t}const Nx={USER_NOT_FOUND:"user-not-found"};async function Dx(n,e){const t={...e,operation:"REAUTH"};return co(n,"POST","/v1/accounts:signInWithPhoneNumber",hn(n,t),Nx)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Ou{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return kx(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Rx(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Dx(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new vl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lx(n){const e=Gc(Kd(n)).link,t=e?Gc(Kd(e)).deep_link_id:null,r=Gc(Kd(n)).deep_link_id;return(r?Gc(Kd(r)).link:null)||r||t||e||n}class Fg{constructor(e){const t=Gc(Kd(e)),r=t.apiKey??null,i=t.oobCode??null,s=xx(t.mode??null);be(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Lx(e);try{return new Fg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,t){return Nh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Fg.parseLink(t);return be(r,"argument-error"),Nh._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qc extends Fu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return be("providerId"in t&&"signInMethod"in t,"argument-error"),Ps._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return be(e.idToken||e.accessToken,"argument-error"),Ps._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Qc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Qc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:c}=e;if(!r&&!i&&!t&&!s||!c)return null;try{return new Qc(c)._credential({idToken:t,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Fu{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ps._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _s.credential(t,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Fu{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="http://localhost";class iu extends Ou{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Xs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Xs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new iu(r,s)}static _create(e,t){return new iu(e,t)}buildRequest(){return{requestUri:Ox,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="saml.";class Gp extends uo{constructor(e){be(e.startsWith(Fx),"argument-error"),super(e)}static credentialFromResult(e){return Gp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Gp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=iu.fromJSON(e);return be(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return iu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Fu{constructor(){super("twitter.com")}static credential(e,t){return Ps._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return vs.credential(t,r)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(n,e){return co(n,"POST","/v1/accounts:signUp",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Qi._fromIdTokenResponse(e,r,i),a=FI(r);return new Ri({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=FI(r);return new Ri({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function FI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(n){var i;if(qt(n.app))return Promise.reject($n(n));const e=an(n);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Ri({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await DC(e,{returnSecureToken:!0}),r=await Ri._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends br{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new qp(e,t,r,i)}}function xC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(n,e){const t=je(n);await Mg(!0,t,e);const{providerUserInfo:r}=await B8(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=LC(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function V0(n,e,t=!1){const r=await io(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ri._forOperation(n,"link",r)}async function Mg(n,e,t){await Rh(e);const r=LC(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";be(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(n,e,t=!1){const{auth:r}=n;if(qt(r.app))return Promise.reject($n(r));const i="reauthenticate";try{const s=await io(n,xC(r,i,e,n),t);be(s.idToken,r,"internal-error");const a=Lg(s.idToken);be(a,r,"internal-error");const{sub:c}=a;return be(n.uid===c,r,"user-mismatch"),Ri._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(n,e,t=!1){if(qt(n.app))return Promise.reject($n(n));const r="signIn",i=await xC(n,r,e),s=await Ri._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Vg(n,e){return FC(an(n),e)}async function MC(n,e){const t=je(n);return await Mg(!1,t,e.providerId),V0(t,e)}async function VC(n,e){return OC(je(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(n,e){return co(n,"POST","/v1/accounts:signInWithCustomToken",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(n,e){if(qt(n.app))return Promise.reject($n(n));const t=an(n),r=await Bx(t,{token:e,returnSecureToken:!0}),i=await Ri._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?B0._fromServerResponse(e,t):"totpInfo"in t?z0._fromServerResponse(e,t):ir(e,"internal-error")}}class B0 extends ff{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new B0(t)}}class z0 extends ff{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new z0(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(n,e,t){var r;be(((r=t.url)==null?void 0:r.length)>0,n,"invalid-continue-uri"),be(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),be(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(be(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(be(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(n){const e=an(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ux(n,e,t){const r=an(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Bg(r,i,t),await ta(r,i,"getOobCode",Ix,"EMAIL_PASSWORD_PROVIDER")}async function jx(n,e,t){await NC(je(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U0(n),r})}async function Wx(n,e){await wx(je(n),{oobCode:e})}async function BC(n,e){const t=je(n),r=await NC(t,{oobCode:e}),i=r.requestType;switch(be(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(r.mfaInfo,t,"internal-error");default:be(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=ff._fromServerResponse(an(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Hx(n,e){const{data:t}=await BC(je(n),e);return t.email}async function Gx(n,e,t){if(qt(n.app))return Promise.reject($n(n));const r=an(n),a=await ta(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DC,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&U0(n),u}),c=await Ri._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function qx(n,e,t){return qt(n.app)?Promise.reject($n(n)):Vg(je(n),Ca.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U0(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(n,e,t){const r=an(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,c){be(c.handleCodeInApp,r,"argument-error"),c&&Bg(r,a,c)}s(i,t),await ta(r,i,"getOobCode",bx,"EMAIL_PASSWORD_PROVIDER")}function Kx(n,e){const t=Fg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function Qx(n,e,t){if(qt(n.app))return Promise.reject($n(n));const r=je(n),i=Ca.credentialWithLink(e,t||kh());return be(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Vg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(n,e){return fn(n,"POST","/v1/accounts:createAuthUri",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(n,e){const t=O0()?kh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await Yx(je(n),r);return i||[]}async function Xx(n,e){const t=je(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Bg(t.auth,i,e);const{email:s}=await Tx(t.auth,i);s!==n.email&&await n.reload()}async function Zx(n,e,t){const r=je(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Bg(r.auth,s,t);const{email:a}=await Sx(r.auth,s);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(n,e){return fn(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=je(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await io(r,e9(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function n9(n,e){const t=je(n);return qt(t.auth.app)?Promise.reject($n(t.auth)):zC(t,e,null)}function r9(n,e){return zC(je(n),null,e)}async function zC(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const a=await io(n,yx(r,s));await n._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(n){var i,s;if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const a=(s=(i=Lg(n.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const c=a!=="anonymous"&&a!=="custom"?a:null;return new Yc(r,c)}}if(!e)return null;switch(e){case"facebook.com":return new s9(r,t);case"github.com":return new o9(r,t);case"google.com":return new a9(r,t);case"twitter.com":return new l9(r,t,n.screenName||null);case"custom":case"anonymous":return new Yc(r,null);default:return new Yc(r,e,t)}}class Yc{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class UC extends Yc{constructor(e,t,r,i){super(e,t,r),this.username=i}}class s9 extends Yc{constructor(e,t){super(e,"facebook.com",t)}}class o9 extends UC{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class a9 extends Yc{constructor(e,t){super(e,"google.com",t)}}class l9 extends UC{constructor(e,t,r){super(e,"twitter.com",t,r)}}function c9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:i9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new fl("enroll",e,t)}static _fromMfaPendingCredential(e){return new fl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if((t=e.multiFactorSession)!=null&&t.pendingCredential)return fl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return fl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=an(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(c=>ff._fromServerResponse(r,c));be(i.mfaPendingCredential,r,"internal-error");const a=fl._fromMfaPendingCredential(i.mfaPendingCredential);return new j0(a,s,async c=>{const u=await c._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const h={...i,idToken:u.idToken,refreshToken:u.refreshToken};switch(t.operationType){case"signIn":const p=await Ri._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return be(t.user,r,"internal-error"),Ri._forOperation(t.user,t.operationType,h);default:ir(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function u9(n,e){var i;const t=je(n),r=e;return be(e.customData.operationType,t,"argument-error"),be((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,t,"argument-error"),j0._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,e){return fn(n,"POST","/v2/accounts/mfaEnrollment:start",hn(n,e))}function d9(n,e){return fn(n,"POST","/v2/accounts/mfaEnrollment:finalize",hn(n,e))}function h9(n,e){return fn(n,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(n,e))}class W0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>ff._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new W0(e)}async getSession(){return fl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await io(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await io(this.user,h9(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const I1=new WeakMap;function f9(n){const e=je(n);return I1.has(e)||I1.set(e,W0._fromUser(e)),I1.get(e)}const $p="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($p,"1"),this.storage.removeItem($p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=1e3,p9=10;class WC extends jC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Q8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,p9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},m9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WC.type="LOCAL";const H0=WC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends jC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HC.type="SESSION";const Il=HC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new zg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async h=>h(t.origin,s)),u=await g9(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const h=mf("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function y9(n){bn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function v9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function E9(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebaseLocalStorageDb",T9=1,Kp="firebaseLocalStorage",qC="fbase_key";class pf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ug(n,e){return n.transaction([Kp],e?"readwrite":"readonly").objectStore(Kp)}function I9(){const n=indexedDB.deleteDatabase(GC);return new pf(n).toPromise()}function tv(){const n=indexedDB.open(GC,T9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Kp,{keyPath:qC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Kp)?e(r):(r.close(),await I9(),e(await tv()))})})}async function VI(n,e,t){const r=Ug(n,!0).put({[qC]:e,value:t});return new pf(r).toPromise()}async function b9(n,e){const t=Ug(n,!1).get(e),r=await new pf(t).toPromise();return r===void 0?null:r.value}function BI(n,e){const t=Ug(n,!0).delete(e);return new pf(t).toPromise()}const S9=800,C9=3;class $C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>C9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zg._getInstance(E9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await v9(),!this.activeServiceWorker)return;this.sender=new _9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tv();return await VI(e,$p,"1"),await BI(e,$p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>VI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>b9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>BI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ug(i,!1).getAll();return new pf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$C.type="LOCAL";const Dh=$C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n,e){return fn(n,"POST","/v2/accounts/mfaSignIn:start",hn(n,e))}function P9(n,e){return fn(n,"POST","/v2/accounts/mfaSignIn:finalize",hn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=AC("rcb"),A9=new cf(3e4,6e4);class k9{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=bn().grecaptcha)!=null&&e.render)}load(e,t=""){return be(R9(t),e,"argument-error"),this.shouldResolveImmediately(t)&&AI(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((r,i)=>{const s=bn().setTimeout(()=>{i(xn(e,"network-request-failed"))},A9.get());bn()[b1]=()=>{bn().clearTimeout(s),delete bn()[b1];const c=bn().grecaptcha;if(!c||!AI(c)){i(xn(e,"internal-error"));return}const u=c.render;c.render=(h,p)=>{const g=u(h,p);return this.counter++,g},this.hostLanguage=t,r(c)};const a=`${nx()}?${Bl({onload:b1,render:"explicit",hl:t})}`;M0(a).catch(()=>{clearTimeout(s),i(xn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!((t=bn().grecaptcha)!=null&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function R9(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class N9{async load(e){return new ax(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="recaptcha",D9={theme:"light",type:"image"};let x9=class{constructor(e,t,r={...D9}){this.parameters=r,this.type=sh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=an(e),this.isInvisible=this.parameters.size==="invisible",be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;be(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new N9:new k9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=bn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){be(O0()&&!G0(),this.auth,"internal-error"),await L9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await M8(this.auth);be(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function L9(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=vl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function O9(n,e,t){if(qt(n.app))return Promise.reject($n(n));const r=an(n),i=await jg(r,e,je(t));return new q0(i,s=>Vg(r,s))}async function F9(n,e,t){const r=je(n);await Mg(!1,r,"phone");const i=await jg(r.auth,e,je(t));return new q0(i,s=>MC(r,s))}async function M9(n,e,t){const r=je(n);if(qt(r.auth.app))return Promise.reject($n(r.auth));const i=await jg(r.auth,e,je(t));return new q0(i,s=>VC(r,s))}async function jg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await fx(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){be(s.type==="enroll",n,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ta(n,a,"mfaSmsEnrollment",async(p,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===ih){be((t==null?void 0:t.type)===sh,p,"argument-error");const _=await S1(p,g,t);return MI(p,_)}return MI(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{be(s.type==="signin",n,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;be(a,n,"missing-multi-factor-info");const c={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ta(n,c,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===ih){be((t==null?void 0:t.type)===sh,g,"argument-error");const v=await S1(g,_,t);return zI(g,v)}return zI(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ta(n,s,"sendVerificationCode",async(h,p)=>{if(p.captchaResponse===ih){be((t==null?void 0:t.type)===sh,h,"argument-error");const g=await S1(h,p,t);return OI(h,g)}return OI(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function V9(n,e){const t=je(n);if(qt(t.auth.app))return Promise.reject($n(t.auth));await V0(t,e)}async function S1(n,e,t){be(t.type===sh,n,"argument-error");const r=await t.verify();be(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:c,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl=class Ep{constructor(e){this.providerId=Ep.PROVIDER_ID,this.auth=an(e)}verifyPhoneNumber(e,t){return jg(this.auth,e,je(t))}static credential(e,t){return vl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ep.credentialFromTaggedObject(t)}static credentialFromError(e){return Ep.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?vl._fromTokenResponse(t,r):null}};bl.PROVIDER_ID="phone";bl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n,e){return e?ai(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends Ou{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B9(n){return FC(n.auth,new $0(n),n.bypassAuthState)}function z9(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),OC(t,new $0(n),n.bypassAuthState)}async function U9(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),V0(t,new $0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B9;case"linkViaPopup":case"linkViaRedirect":return U9;case"reauthViaPopup":case"reauthViaRedirect":return z9;default:ir(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new cf(2e3,1e4);async function W9(n,e,t){if(qt(n.app))return Promise.reject(xn(n,"operation-not-supported-in-this-environment"));const r=an(n);Lu(n,e,uo);const i=zl(r,t);return new Ks(r,"signInViaPopup",e,i).executeNotNull()}async function H9(n,e,t){const r=je(n);if(qt(r.auth.app))return Promise.reject(xn(r.auth,"operation-not-supported-in-this-environment"));Lu(r.auth,e,uo);const i=zl(r.auth,t);return new Ks(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function G9(n,e,t){const r=je(n);Lu(r.auth,e,uo);const i=zl(r.auth,t);return new Ks(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ks extends KC{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j9.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="pendingRedirect",oh=new Map;class $9 extends KC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await K9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K9(n,e){const t=YC(e),r=QC(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function K0(n,e){return QC(n)._set(YC(e),"true")}function Q9(){oh.clear()}function Q0(n,e){oh.set(n._key(),e)}function QC(n){return ai(n._redirectPersistence)}function YC(n){return yl(q9,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(n,e,t){return J9(n,e,t)}async function J9(n,e,t){if(qt(n.app))return Promise.reject($n(n));const r=an(n);Lu(n,e,uo),await r._initializationPromise;const i=zl(r,t);return await K0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function X9(n,e,t){return Z9(n,e,t)}async function Z9(n,e,t){const r=je(n);if(Lu(r.auth,e,uo),qt(r.auth.app))return Promise.reject($n(r.auth));await r.auth._initializationPromise;const i=zl(r.auth,t);await K0(i,r.auth);const s=await JC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function eL(n,e,t){return tL(n,e,t)}async function tL(n,e,t){const r=je(n);Lu(r.auth,e,uo),await r.auth._initializationPromise;const i=zl(r.auth,t);await Mg(!1,r,e.providerId),await K0(i,r.auth);const s=await JC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function nL(n,e){return await an(n)._initializationPromise,Wg(n,e,!1)}async function Wg(n,e,t=!1){if(qt(n.app))return Promise.reject($n(n));const r=an(n),i=zl(r,e),a=await new $9(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function JC(n){const e=mf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=600*1e3;class XC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ZC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(xn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rL&&this.cachedEventUids.clear(),this.cachedEventUids.has(UI(e))}saveEventToCache(e){this.cachedEventUids.add(UI(e)),this.lastProcessedEventTime=Date.now()}}function UI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(n,e={}){return fn(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oL=/^https?/;async function aL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await eP(n);for(const t of e)try{if(lL(t))return}catch{}ir(n,"unauthorized-domain")}function lL(n){const e=kh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!oL.test(t))return!1;if(sL.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new cf(3e4,6e4);function jI(){const n=bn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uL(n){return new Promise((e,t)=>{var i,s,a;function r(){jI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jI(),t(xn(n,"network-request-failed"))},timeout:cL.get()})}if((s=(i=bn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=bn().gapi)!=null&&a.load)r();else{const c=AC("iframefcb");return bn()[c]=()=>{gapi.load?r():t(xn(n,"network-request-failed"))},M0(`${ix()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Tp=null,e})}let Tp=null;function dL(n){return Tp=Tp||uL(n),Tp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new cf(5e3,15e3),fL="__/auth/iframe",mL="emulator/auth/iframe",pL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _L(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?F0(e,mL):`https://${n.config.authDomain}/${fL}`,r={apiKey:e.apiKey,appName:n.name,v:lo},i=gL.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Bl(r).slice(1)}`}async function yL(n){const e=await dL(n),t=bn().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:_L(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=xn(n,"network-request-failed"),c=bn().setTimeout(()=>{s(a)},hL.get());function u(){bn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wL=500,EL=600,TL="_blank",IL="http://localhost";class WI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bL(n,e,t,r=wL,i=EL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...vL,width:r.toString(),height:i.toString(),top:s,left:a},h=on().toLowerCase();t&&(c=TC(h)?TL:t),wC(h)&&(e=e||IL,u.scrollbars="yes");const p=Object.entries(u).reduce((_,[v,I])=>`${_}${v}=${I},`,"");if(K8(h)&&c!=="_self")return SL(e||"",c),new WI(null);const g=window.open(e||"",c,p);be(g,n,"popup-blocked");try{g.focus()}catch{}return new WI(g)}function SL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="__/auth/handler",PL="emulator/auth/handler",AL=encodeURIComponent("fac");async function nv(n,e,t,r,i,s){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lo,eventId:i};if(e instanceof uo){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",zp(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries(s||{}))a[p]=g}if(e instanceof Fu){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await n._getAppCheckToken(),h=u?`#${AL}=${encodeURIComponent(u)}`:"";return`${kL(n)}?${Bl(c).slice(1)}${h}`}function kL({config:n}){return n.emulator?F0(n,PL):`https://${n.authDomain}/${CL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="webStorageSupport";class RL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Il,this._completeRedirectFn=Wg,this._overrideRedirectResult=Q0}async _openPopup(e,t,r,i){var a;es((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await nv(e,t,r,kh(),i);return bL(e,s,mf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await nv(e,t,r,kh(),i);return y9(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(es(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await yL(e),r=new XC(e);return t.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(C1,{type:C1},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[C1];s!==void 0&&t(!!s),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CC()||EC()||df()}}const NL=RL;class DL{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ws("unexpected MultiFactorSessionType")}}}class Y0 extends DL{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Y0(e)}_finalizeEnroll(e,t,r){return d9(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return P9(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class tP{constructor(){}static assertion(e){return Y0._fromCredential(e)}}tP.FACTOR_ID="phone";var HI="@firebase/auth",GI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OL(n){ro(new $r("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PC(n)},h=new ex(r,i,s,u);return mx(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ro(new $r("auth-internal",e=>{const t=an(e.getProvider("auth").getImmediate());return(r=>new xL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(HI,GI,LL(n)),ci(HI,GI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=300;WN("authIdTokenMaxAge");function ML(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}tx({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=xn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",ML().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OL("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=2e3;async function BL(n,e,t){const{BuildInfo:r}=Sl();es(e.sessionId,"AuthEvent did not contain a session ID");const i=await HL(e.sessionId),s={};return df()?s.ibi=r.packageName:uf()?s.apn=r.packageName:ir(n,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,nv(n,t,e.type,void 0,e.eventId??void 0,s)}async function zL(n){const{BuildInfo:e}=Sl(),t={};df()?t.iosBundleId=e.packageName:uf()?t.androidPackageName=e.packageName:ir(n,"operation-not-supported-in-this-environment"),await eP(n,t)}function UL(n){const{cordova:e}=Sl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,$8()?"_blank":"_system","location=yes"),t(i)})})}async function jL(n,e,t){const{cordova:r}=Sl();let i=()=>{};try{await new Promise((s,a)=>{let c=null;function u(){var _;s();const g=(_=r.plugins.browsertab)==null?void 0:_.close;typeof g=="function"&&g(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){c||(c=window.setTimeout(()=>{a(xn(n,"redirect-cancelled-by-user"))},VL))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(u),document.addEventListener("resume",h,!1),uf()&&document.addEventListener("visibilitychange",p,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{i()}}function WL(n){var t,r,i,s,a,c,u,h,p,g;const e=Sl();be(typeof((t=e==null?void 0:e.universalLinks)==null?void 0:t.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),be(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),be(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be(typeof((h=(u=(c=e==null?void 0:e.cordova)==null?void 0:c.plugins)==null?void 0:u.browsertab)==null?void 0:h.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be(typeof((g=(p=e==null?void 0:e.cordova)==null?void 0:p.InAppBrowser)==null?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function HL(n){const e=GL(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function GL(n){if(es(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=20;class $L extends XC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function KL(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:JL(),postBody:null,tenantId:n.tenantId,error:xn(n,"no-auth-event")}}function QL(n,e){return rv()._set(iv(n),e)}async function qI(n){const e=await rv()._get(iv(n));return e&&await rv()._remove(iv(n)),e}function YL(n,e){var r,i;const t=ZL(e);if(t.includes("/__/auth/callback")){const s=Ip(t),a=s.firebaseError?XL(decodeURIComponent(s.firebaseError)):null,c=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],u=c?xn(c):null;return u?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function JL(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<qL;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function rv(){return ai(H0)}function iv(n){return yl("authEvent",n.config.apiKey,n.name)}function XL(n){try{return JSON.parse(n)}catch{return null}}function ZL(n){const e=Ip(n),t=e.link?decodeURIComponent(e.link):void 0,r=Ip(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ip(i).link||i||r||t||n}function Ip(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Gc(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=500;class t7{constructor(){this._redirectPersistence=Il,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wg,this._overrideRedirectResult=Q0}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new $L(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ir(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){WL(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Q9(),await this._originValidation(e);const a=KL(e,r,i);await QL(e,a);const c=await BL(e,a,t),u=await UL(c);return jL(e,s,u)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zL(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Sl(),a=setTimeout(async()=>{await qI(e),t.onEvent($I())},e7),c=async p=>{clearTimeout(a);const g=await qI(e);let _=null;g&&(p!=null&&p.url)&&(_=YL(g,p.url)),t.onEvent(_||$I())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const u=i,h=`${s.packageName.toLowerCase()}://`;Sl().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(h)&&c({url:p}),typeof u=="function")try{u(p)}catch(g){console.error(g)}}}}const n7=t7;function $I(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(n,e){an(n)._logFramework(e)}var i7="@firebase/auth-compat",s7="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=1e3;function ah(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function a7(){return ah()==="http:"||ah()==="https:"}function nP(n=on()){return!!((ah()==="file:"||ah()==="ionic:"||ah()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function l7(){return Dg()||Ng()}function c7(){return KS()&&(document==null?void 0:document.documentMode)===11}function u7(n=on()){return/Edge\/\d+/.test(n)}function d7(n=on()){return c7()||u7(n)}function rP(){try{const n=self.localStorage,e=mf();if(n)return n.setItem(e,"1"),n.removeItem(e),d7()?Sh():!0}catch{return J0()&&Sh()}return!1}function J0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function P1(){return(a7()||$S()||nP())&&!l7()&&rP()&&!J0()}function iP(){return nP()&&typeof document<"u"}async function h7(){return iP()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},o7);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function f7(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si={LOCAL:"local",NONE:"none",SESSION:"session"},Fd=be,sP="persistence";function m7(n,e){if(Fd(Object.values(si).includes(e),n,"invalid-persistence-type"),Dg()){Fd(e!==si.SESSION,n,"unsupported-persistence-type");return}if(Ng()){Fd(e===si.NONE,n,"unsupported-persistence-type");return}if(J0()){Fd(e===si.NONE||e===si.LOCAL&&Sh(),n,"unsupported-persistence-type");return}Fd(e===si.NONE||rP(),n,"unsupported-persistence-type")}async function sv(n){await n._initializationPromise;const e=oP(),t=yl(sP,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function p7(n,e){const t=oP();if(!t)return[];const r=yl(sP,n,e);switch(t.getItem(r)){case si.NONE:return[ru];case si.LOCAL:return[Dh,Il];case si.SESSION:return[Il];default:return[]}}function oP(){var n;try{return((n=f7())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=be;class Ko{constructor(){this.browserResolver=ai(NL),this.cordovaResolver=ai(n7),this.underlyingResolver=null,this._redirectPersistence=Il,this._completeRedirectFn=Wg,this._overrideRedirectResult=Q0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return iP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return g7(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await h7();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n){return n.unwrap()}function _7(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(n){return lP(n)}function v7(n,e){var r;const t=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new w7(n,u9(n,e))}else if(t){const i=lP(e),s=e;i&&(s.credential=i,s.tenantId=t.tenantId||void 0,s.email=t.email||void 0,s.phoneNumber=t.phoneNumber||void 0)}}function lP(n){const{_tokenResponse:e}=n instanceof br?n.customData:n;if(!e)return null;if(!(n instanceof br)&&"temporaryProof"in e&&"phoneNumber"in e)return bl.credentialFromResult(n);const t=e.providerId;if(!t||t===Ld.PASSWORD)return null;let r;switch(t){case Ld.GOOGLE:r=_s;break;case Ld.FACEBOOK:r=gs;break;case Ld.GITHUB:r=ys;break;case Ld.TWITTER:r=vs;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:c,nonce:u}=e;return!s&&!a&&!i&&!c?null:c?t.startsWith("saml.")?iu._create(t,c):Ps._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:i,accessToken:s}):new Qc(t).credential({idToken:i,accessToken:s,rawNonce:u})}return n instanceof br?r.credentialFromError(n):r.credentialFromResult(n)}function Br(n,e){return e.catch(t=>{throw t instanceof br&&v7(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:y7(t),additionalUserInfo:c9(t),user:Hg.getOrCreate(i)}})}async function ov(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Br(n,t.confirm(r))}}class w7{constructor(e,t){this.resolver=t,this.auth=_7(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Br(aP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg=class Yd{constructor(e){this._delegate=e,this.multiFactor=f9(e)}static getOrCreate(e){return Yd.USER_MAP.has(e)||Yd.USER_MAP.set(e,new Yd(e)),Yd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Br(this.auth,MC(this._delegate,e))}async linkWithPhoneNumber(e,t){return ov(this.auth,F9(this._delegate,e,t))}async linkWithPopup(e){return Br(this.auth,G9(this._delegate,e,Ko))}async linkWithRedirect(e){return await sv(an(this.auth)),eL(this._delegate,e,Ko)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Br(this.auth,VC(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ov(this.auth,M9(this._delegate,e,t))}reauthenticateWithPopup(e){return Br(this.auth,H9(this._delegate,e,Ko))}async reauthenticateWithRedirect(e){return await sv(an(this.auth)),X9(this._delegate,e,Ko)}sendEmailVerification(e){return Xx(this._delegate,e)}async unlink(e){return await Vx(this._delegate,e),this}updateEmail(e){return n9(this._delegate,e)}updatePassword(e){return r9(this._delegate,e)}updatePhoneNumber(e){return V9(this._delegate,e)}updateProfile(e){return t9(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Zx(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Hg.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=be;class av{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Md(r,"invalid-api-key",{appName:e.name}),Md(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ko:void 0;this._delegate=t.initialize({options:{persistence:E7(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(P8),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){px(this._delegate,e,t)}applyActionCode(e){return Wx(this._delegate,e)}checkActionCode(e){return BC(this._delegate,e)}confirmPasswordReset(e,t){return jx(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Br(this._delegate,Gx(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Jx(this._delegate,e)}isSignInWithEmailLink(e){return Kx(this._delegate,e)}async getRedirectResult(){Md(P1(),this._delegate,"operation-not-supported-in-this-environment");const e=await nL(this._delegate,Ko);return e?Br(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){r7(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:a}=KI(e,t,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:a}=KI(e,t,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,t){return $x(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Ux(this._delegate,e,t||void 0)}async setPersistence(e){m7(this._delegate,e);let t;switch(e){case si.SESSION:t=Il;break;case si.LOCAL:t=await ai(Dh)._isAvailable()?Dh:H0;break;case si.NONE:t=ru;break;default:return ir("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Br(this._delegate,Mx(this._delegate))}signInWithCredential(e){return Br(this._delegate,Vg(this._delegate,e))}signInWithCustomToken(e){return Br(this._delegate,zx(this._delegate,e))}signInWithEmailAndPassword(e,t){return Br(this._delegate,qx(this._delegate,e,t))}signInWithEmailLink(e,t){return Br(this._delegate,Qx(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ov(this._delegate,O9(this._delegate,e,t))}async signInWithPopup(e){return Md(P1(),this._delegate,"operation-not-supported-in-this-environment"),Br(this._delegate,W9(this._delegate,e,Ko))}async signInWithRedirect(e){return Md(P1(),this._delegate,"operation-not-supported-in-this-environment"),await sv(this._delegate),Y9(this._delegate,e,Ko)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Hx(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}av.Persistence=si;function KI(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:a=>i(a&&Hg.getOrCreate(a)),error:e,complete:t}}function E7(n,e){const t=p7(n,e);if(typeof self<"u"&&!t.includes(Dh)&&t.push(Dh),typeof window<"u")for(const r of[H0,Il])t.includes(r)||t.push(r);return t.includes(ru)||t.push(ru),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static credential(e,t){return bl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new bl(aP(Dn.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}X0.PHONE_SIGN_IN_METHOD=bl.PHONE_SIGN_IN_METHOD;X0.PROVIDER_ID=bl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=be;class I7{constructor(e,t,r=Dn.app()){var i;T7((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new x9(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="auth-compat";function S7(n){n.INTERNAL.registerComponent(new $r(b7,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new av(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nc.EMAIL_SIGNIN,PASSWORD_RESET:Nc.PASSWORD_RESET,RECOVER_EMAIL:Nc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Nc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Nc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Nc.VERIFY_EMAIL}},EmailAuthProvider:Ca,FacebookAuthProvider:gs,GithubAuthProvider:ys,GoogleAuthProvider:_s,OAuthProvider:Qc,SAMLAuthProvider:Gp,PhoneAuthProvider:X0,PhoneMultiFactorGenerator:tP,RecaptchaVerifier:I7,TwitterAuthProvider:vs,Auth:av,AuthCredential:Ou,Error:br}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(i7,s7)}S7(Dn);var QI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,cP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function L(){}L.prototype=R.prototype,x.D=R.prototype,x.prototype=new L,x.prototype.constructor=x,x.C=function(M,W,k){for(var O=Array(arguments.length-2),A=2;A<arguments.length;A++)O[A-2]=arguments[A];return R.prototype[W].apply(M,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,R,L){L||(L=0);var M=Array(16);if(typeof R=="string")for(var W=0;16>W;++W)M[W]=R.charCodeAt(L++)|R.charCodeAt(L++)<<8|R.charCodeAt(L++)<<16|R.charCodeAt(L++)<<24;else for(W=0;16>W;++W)M[W]=R[L++]|R[L++]<<8|R[L++]<<16|R[L++]<<24;R=x.g[0],L=x.g[1],W=x.g[2];var k=x.g[3],O=R+(k^L&(W^k))+M[0]+3614090360&4294967295;R=L+(O<<7&4294967295|O>>>25),O=k+(W^R&(L^W))+M[1]+3905402710&4294967295,k=R+(O<<12&4294967295|O>>>20),O=W+(L^k&(R^L))+M[2]+606105819&4294967295,W=k+(O<<17&4294967295|O>>>15),O=L+(R^W&(k^R))+M[3]+3250441966&4294967295,L=W+(O<<22&4294967295|O>>>10),O=R+(k^L&(W^k))+M[4]+4118548399&4294967295,R=L+(O<<7&4294967295|O>>>25),O=k+(W^R&(L^W))+M[5]+1200080426&4294967295,k=R+(O<<12&4294967295|O>>>20),O=W+(L^k&(R^L))+M[6]+2821735955&4294967295,W=k+(O<<17&4294967295|O>>>15),O=L+(R^W&(k^R))+M[7]+4249261313&4294967295,L=W+(O<<22&4294967295|O>>>10),O=R+(k^L&(W^k))+M[8]+1770035416&4294967295,R=L+(O<<7&4294967295|O>>>25),O=k+(W^R&(L^W))+M[9]+2336552879&4294967295,k=R+(O<<12&4294967295|O>>>20),O=W+(L^k&(R^L))+M[10]+4294925233&4294967295,W=k+(O<<17&4294967295|O>>>15),O=L+(R^W&(k^R))+M[11]+2304563134&4294967295,L=W+(O<<22&4294967295|O>>>10),O=R+(k^L&(W^k))+M[12]+1804603682&4294967295,R=L+(O<<7&4294967295|O>>>25),O=k+(W^R&(L^W))+M[13]+4254626195&4294967295,k=R+(O<<12&4294967295|O>>>20),O=W+(L^k&(R^L))+M[14]+2792965006&4294967295,W=k+(O<<17&4294967295|O>>>15),O=L+(R^W&(k^R))+M[15]+1236535329&4294967295,L=W+(O<<22&4294967295|O>>>10),O=R+(W^k&(L^W))+M[1]+4129170786&4294967295,R=L+(O<<5&4294967295|O>>>27),O=k+(L^W&(R^L))+M[6]+3225465664&4294967295,k=R+(O<<9&4294967295|O>>>23),O=W+(R^L&(k^R))+M[11]+643717713&4294967295,W=k+(O<<14&4294967295|O>>>18),O=L+(k^R&(W^k))+M[0]+3921069994&4294967295,L=W+(O<<20&4294967295|O>>>12),O=R+(W^k&(L^W))+M[5]+3593408605&4294967295,R=L+(O<<5&4294967295|O>>>27),O=k+(L^W&(R^L))+M[10]+38016083&4294967295,k=R+(O<<9&4294967295|O>>>23),O=W+(R^L&(k^R))+M[15]+3634488961&4294967295,W=k+(O<<14&4294967295|O>>>18),O=L+(k^R&(W^k))+M[4]+3889429448&4294967295,L=W+(O<<20&4294967295|O>>>12),O=R+(W^k&(L^W))+M[9]+568446438&4294967295,R=L+(O<<5&4294967295|O>>>27),O=k+(L^W&(R^L))+M[14]+3275163606&4294967295,k=R+(O<<9&4294967295|O>>>23),O=W+(R^L&(k^R))+M[3]+4107603335&4294967295,W=k+(O<<14&4294967295|O>>>18),O=L+(k^R&(W^k))+M[8]+1163531501&4294967295,L=W+(O<<20&4294967295|O>>>12),O=R+(W^k&(L^W))+M[13]+2850285829&4294967295,R=L+(O<<5&4294967295|O>>>27),O=k+(L^W&(R^L))+M[2]+4243563512&4294967295,k=R+(O<<9&4294967295|O>>>23),O=W+(R^L&(k^R))+M[7]+1735328473&4294967295,W=k+(O<<14&4294967295|O>>>18),O=L+(k^R&(W^k))+M[12]+2368359562&4294967295,L=W+(O<<20&4294967295|O>>>12),O=R+(L^W^k)+M[5]+4294588738&4294967295,R=L+(O<<4&4294967295|O>>>28),O=k+(R^L^W)+M[8]+2272392833&4294967295,k=R+(O<<11&4294967295|O>>>21),O=W+(k^R^L)+M[11]+1839030562&4294967295,W=k+(O<<16&4294967295|O>>>16),O=L+(W^k^R)+M[14]+4259657740&4294967295,L=W+(O<<23&4294967295|O>>>9),O=R+(L^W^k)+M[1]+2763975236&4294967295,R=L+(O<<4&4294967295|O>>>28),O=k+(R^L^W)+M[4]+1272893353&4294967295,k=R+(O<<11&4294967295|O>>>21),O=W+(k^R^L)+M[7]+4139469664&4294967295,W=k+(O<<16&4294967295|O>>>16),O=L+(W^k^R)+M[10]+3200236656&4294967295,L=W+(O<<23&4294967295|O>>>9),O=R+(L^W^k)+M[13]+681279174&4294967295,R=L+(O<<4&4294967295|O>>>28),O=k+(R^L^W)+M[0]+3936430074&4294967295,k=R+(O<<11&4294967295|O>>>21),O=W+(k^R^L)+M[3]+3572445317&4294967295,W=k+(O<<16&4294967295|O>>>16),O=L+(W^k^R)+M[6]+76029189&4294967295,L=W+(O<<23&4294967295|O>>>9),O=R+(L^W^k)+M[9]+3654602809&4294967295,R=L+(O<<4&4294967295|O>>>28),O=k+(R^L^W)+M[12]+3873151461&4294967295,k=R+(O<<11&4294967295|O>>>21),O=W+(k^R^L)+M[15]+530742520&4294967295,W=k+(O<<16&4294967295|O>>>16),O=L+(W^k^R)+M[2]+3299628645&4294967295,L=W+(O<<23&4294967295|O>>>9),O=R+(W^(L|~k))+M[0]+4096336452&4294967295,R=L+(O<<6&4294967295|O>>>26),O=k+(L^(R|~W))+M[7]+1126891415&4294967295,k=R+(O<<10&4294967295|O>>>22),O=W+(R^(k|~L))+M[14]+2878612391&4294967295,W=k+(O<<15&4294967295|O>>>17),O=L+(k^(W|~R))+M[5]+4237533241&4294967295,L=W+(O<<21&4294967295|O>>>11),O=R+(W^(L|~k))+M[12]+1700485571&4294967295,R=L+(O<<6&4294967295|O>>>26),O=k+(L^(R|~W))+M[3]+2399980690&4294967295,k=R+(O<<10&4294967295|O>>>22),O=W+(R^(k|~L))+M[10]+4293915773&4294967295,W=k+(O<<15&4294967295|O>>>17),O=L+(k^(W|~R))+M[1]+2240044497&4294967295,L=W+(O<<21&4294967295|O>>>11),O=R+(W^(L|~k))+M[8]+1873313359&4294967295,R=L+(O<<6&4294967295|O>>>26),O=k+(L^(R|~W))+M[15]+4264355552&4294967295,k=R+(O<<10&4294967295|O>>>22),O=W+(R^(k|~L))+M[6]+2734768916&4294967295,W=k+(O<<15&4294967295|O>>>17),O=L+(k^(W|~R))+M[13]+1309151649&4294967295,L=W+(O<<21&4294967295|O>>>11),O=R+(W^(L|~k))+M[4]+4149444226&4294967295,R=L+(O<<6&4294967295|O>>>26),O=k+(L^(R|~W))+M[11]+3174756917&4294967295,k=R+(O<<10&4294967295|O>>>22),O=W+(R^(k|~L))+M[2]+718787259&4294967295,W=k+(O<<15&4294967295|O>>>17),O=L+(k^(W|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(W+(O<<21&4294967295|O>>>11))&4294967295,x.g[2]=x.g[2]+W&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var L=R-this.blockSize,M=this.B,W=this.h,k=0;k<R;){if(W==0)for(;k<=L;)i(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<R;)if(M[W++]=x.charCodeAt(k++),W==this.blockSize){i(this,M),W=0;break}}else for(;k<R;)if(M[W++]=x[k++],W==this.blockSize){i(this,M),W=0;break}}this.h=W,this.o+=R},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var L=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=L&255,L/=256;for(this.u(x),x=Array(16),R=L=0;4>R;++R)for(var M=0;32>M;M+=8)x[L++]=this.g[R]>>>M&255;return x};function s(x,R){var L=c;return Object.prototype.hasOwnProperty.call(L,x)?L[x]:L[x]=R(x)}function a(x,R){this.h=R;for(var L=[],M=!0,W=x.length-1;0<=W;W--){var k=x[W]|0;M&&k==R||(L[W]=k,M=!1)}this.g=L}var c={};function u(x){return-128<=x&&128>x?s(x,function(R){return new a([R|0],0>R?-1:0)}):new a([x|0],0>x?-1:0)}function h(x){if(isNaN(x)||!isFinite(x))return g;if(0>x)return b(h(-x));for(var R=[],L=1,M=0;x>=L;M++)R[M]=x/L|0,L*=4294967296;return new a(R,0)}function p(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return b(p(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(R,8)),M=g,W=0;W<x.length;W+=8){var k=Math.min(8,x.length-W),O=parseInt(x.substring(W,W+k),R);8>k?(k=h(Math.pow(R,k)),M=M.j(k).add(h(O))):(M=M.j(L),M=M.add(h(O)))}return M}var g=u(0),_=u(1),v=u(16777216);n=a.prototype,n.m=function(){if(T(this))return-b(this).m();for(var x=0,R=1,L=0;L<this.g.length;L++){var M=this.i(L);x+=(0<=M?M:4294967296+M)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(T(this))return"-"+b(this).toString(x);for(var R=h(Math.pow(x,6)),L=this,M="";;){var W=U(L,R).g;L=C(L,W.j(R));var k=((0<L.g.length?L.g[0]:L.h)>>>0).toString(x);if(L=W,I(L))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function T(x){return x.h==-1}n.l=function(x){return x=C(this,x),T(x)?-1:I(x)?0:1};function b(x){for(var R=x.g.length,L=[],M=0;M<R;M++)L[M]=~x.g[M];return new a(L,~x.h).add(_)}n.abs=function(){return T(this)?b(this):this},n.add=function(x){for(var R=Math.max(this.g.length,x.g.length),L=[],M=0,W=0;W<=R;W++){var k=M+(this.i(W)&65535)+(x.i(W)&65535),O=(k>>>16)+(this.i(W)>>>16)+(x.i(W)>>>16);M=O>>>16,k&=65535,O&=65535,L[W]=O<<16|k}return new a(L,L[L.length-1]&-2147483648?-1:0)};function C(x,R){return x.add(b(R))}n.j=function(x){if(I(this)||I(x))return g;if(T(this))return T(x)?b(this).j(b(x)):b(b(this).j(x));if(T(x))return b(this.j(b(x)));if(0>this.l(v)&&0>x.l(v))return h(this.m()*x.m());for(var R=this.g.length+x.g.length,L=[],M=0;M<2*R;M++)L[M]=0;for(M=0;M<this.g.length;M++)for(var W=0;W<x.g.length;W++){var k=this.i(M)>>>16,O=this.i(M)&65535,A=x.i(W)>>>16,ae=x.i(W)&65535;L[2*M+2*W]+=O*ae,D(L,2*M+2*W),L[2*M+2*W+1]+=k*ae,D(L,2*M+2*W+1),L[2*M+2*W+1]+=O*A,D(L,2*M+2*W+1),L[2*M+2*W+2]+=k*A,D(L,2*M+2*W+2)}for(M=0;M<R;M++)L[M]=L[2*M+1]<<16|L[2*M];for(M=R;M<2*R;M++)L[M]=0;return new a(L,0)};function D(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function F(x,R){this.g=x,this.h=R}function U(x,R){if(I(R))throw Error("division by zero");if(I(x))return new F(g,g);if(T(x))return R=U(b(x),R),new F(b(R.g),b(R.h));if(T(R))return R=U(x,b(R)),new F(b(R.g),R.h);if(30<x.g.length){if(T(x)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var L=_,M=R;0>=M.l(x);)L=$(L),M=$(M);var W=J(L,1),k=J(M,1);for(M=J(M,2),L=J(L,2);!I(M);){var O=k.add(M);0>=O.l(x)&&(W=W.add(L),k=O),M=J(M,1),L=J(L,1)}return R=C(x,W.j(R)),new F(W,R)}for(W=g;0<=x.l(R);){for(L=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(L)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=h(L),O=k.j(R);T(O)||0<O.l(x);)L-=M,k=h(L),O=k.j(R);I(k)&&(k=_),W=W.add(k),x=C(x,O)}return new F(W,x)}n.A=function(x){return U(this,x).h},n.and=function(x){for(var R=Math.max(this.g.length,x.g.length),L=[],M=0;M<R;M++)L[M]=this.i(M)&x.i(M);return new a(L,this.h&x.h)},n.or=function(x){for(var R=Math.max(this.g.length,x.g.length),L=[],M=0;M<R;M++)L[M]=this.i(M)|x.i(M);return new a(L,this.h|x.h)},n.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),L=[],M=0;M<R;M++)L[M]=this.i(M)^x.i(M);return new a(L,this.h^x.h)};function $(x){for(var R=x.g.length+1,L=[],M=0;M<R;M++)L[M]=x.i(M)<<1|x.i(M-1)>>>31;return new a(L,x.h)}function J(x,R){var L=R>>5;R%=32;for(var M=x.g.length-L,W=[],k=0;k<M;k++)W[k]=0<R?x.i(k+L)>>>R|x.i(k+L+1)<<32-R:x.i(k+L);return new a(W,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cP=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,na=a}).apply(typeof QI<"u"?QI:typeof self<"u"?self:typeof window<"u"?window:{});var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uP,Jd,dP,bp,lv,hP,fP,mP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,S){return f==Array.prototype||f==Object.prototype||(f[w]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof op=="object"&&op];for(var w=0;w<f.length;++w){var S=f[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(f,w){if(w)e:{var S=r;f=f.split(".");for(var V=0;V<f.length-1;V++){var ee=f[V];if(!(ee in S))break e;S=S[ee]}f=f[f.length-1],V=S[f],w=w(V),w!=V&&w!=null&&e(S,f,{configurable:!0,writable:!0,value:w})}}function s(f,w){f instanceof String&&(f+="");var S=0,V=!1,ee={next:function(){if(!V&&S<f.length){var ce=S++;return{value:w(ce,f[ce]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(f){return f||function(){return s(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function p(f,w,S){return f.call.apply(f.bind,arguments)}function g(f,w,S){if(!f)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,V),f.apply(w,ee)}}return function(){return f.apply(w,arguments)}}function _(f,w,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function v(f,w){var S=Array.prototype.slice.call(arguments,1);return function(){var V=S.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function I(f,w){function S(){}S.prototype=w.prototype,f.aa=w.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(V,ee,ce){for(var De=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)De[kt-2]=arguments[kt];return w.prototype[ee].apply(V,De)}}function T(f){const w=f.length;if(0<w){const S=Array(w);for(let V=0;V<w;V++)S[V]=f[V];return S}return[]}function b(f,w){for(let S=1;S<arguments.length;S++){const V=arguments[S];if(u(V)){const ee=f.length||0,ce=V.length||0;f.length=ee+ce;for(let De=0;De<ce;De++)f[ee+De]=V[De]}else f.push(V)}}class C{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function D(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function U(f){return U[" "](f),f}U[" "]=function(){};var $=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function J(f,w,S){for(const V in f)w.call(S,f[V],V,f)}function x(f,w){for(const S in f)w.call(void 0,f[S],S,f)}function R(f){const w={};for(const S in f)w[S]=f[S];return w}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,w){let S,V;for(let ee=1;ee<arguments.length;ee++){V=arguments[ee];for(S in V)f[S]=V[S];for(let ce=0;ce<L.length;ce++)S=L[ce],Object.prototype.hasOwnProperty.call(V,S)&&(f[S]=V[S])}}function W(f){var w=1;f=f.split(":");const S=[];for(;0<w&&f.length;)S.push(f.shift()),w--;return f.length&&S.push(f.join(":")),S}function k(f){c.setTimeout(()=>{throw f},0)}function O(){var f=ie;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class A{constructor(){this.h=this.g=null}add(w,S){const V=ae.get();V.set(w,S),this.h?this.h.next=V:this.g=V,this.h=V}}var ae=new C(()=>new ze,f=>f.reset());class ze{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,de=!1,ie=new A,he=()=>{const f=c.Promise.resolve(void 0);ue=()=>{f.then(B)}};var B=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(S){k(S)}var w=ae;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}de=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};c.addEventListener("test",S,w),c.removeEventListener("test",S,w)}catch{}return f})();function pe(f,w){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if($){e:{try{U(w.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(w=null)}}else S=="mouseover"?w=f.fromElement:S=="mouseout"&&(w=f.toElement);this.relatedTarget=w,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ke[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&pe.aa.h.call(this)}}I(pe,ye);var Ke={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Qe(f,w,S,V,ee){this.listener=f,this.proxy=null,this.src=w,this.type=S,this.capture=!!V,this.ha=ee,this.key=++Me,this.da=this.fa=!1}function lt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Tt(f){this.src=f,this.g={},this.h=0}Tt.prototype.add=function(f,w,S,V,ee){var ce=f.toString();f=this.g[ce],f||(f=this.g[ce]=[],this.h++);var De=cn(f,w,V,ee);return-1<De?(w=f[De],S||(w.fa=!1)):(w=new Qe(w,this.src,ce,!!V,ee),w.fa=S,f.push(w)),w};function vn(f,w){var S=w.type;if(S in f.g){var V=f.g[S],ee=Array.prototype.indexOf.call(V,w,void 0),ce;(ce=0<=ee)&&Array.prototype.splice.call(V,ee,1),ce&&(lt(w),f.g[S].length==0&&(delete f.g[S],f.h--))}}function cn(f,w,S,V){for(var ee=0;ee<f.length;++ee){var ce=f[ee];if(!ce.da&&ce.listener==w&&ce.capture==!!S&&ce.ha==V)return ee}return-1}var P="closure_lm_"+(1e6*Math.random()|0),fe={};function le(f,w,S,V,ee){if(Array.isArray(w)){for(var ce=0;ce<w.length;ce++)le(f,w[ce],S,V,ee);return null}return S=me(S),f&&f[rt]?f.K(w,S,h(V)?!!V.capture:!1,ee):G(f,w,S,!1,V,ee)}function G(f,w,S,V,ee,ce){if(!w)throw Error("Invalid event type");var De=h(ee)?!!ee.capture:!!ee,kt=Ce(f);if(kt||(f[P]=kt=new Tt(f)),S=kt.add(w,S,V,De,ce),S.proxy)return S;if(V=j(),S.proxy=V,V.src=f,V.listener=S,f.addEventListener)ve||(ee=De),ee===void 0&&(ee=!1),f.addEventListener(w.toString(),V,ee);else if(f.attachEvent)f.attachEvent(_e(w.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return S}function j(){function f(S){return w.call(f.src,f.listener,S)}const w=ne;return f}function X(f,w,S,V,ee){if(Array.isArray(w))for(var ce=0;ce<w.length;ce++)X(f,w[ce],S,V,ee);else V=h(V)?!!V.capture:!!V,S=me(S),f&&f[rt]?(f=f.i,w=String(w).toString(),w in f.g&&(ce=f.g[w],S=cn(ce,S,V,ee),-1<S&&(lt(ce[S]),Array.prototype.splice.call(ce,S,1),ce.length==0&&(delete f.g[w],f.h--)))):f&&(f=Ce(f))&&(w=f.g[w.toString()],f=-1,w&&(f=cn(w,S,V,ee)),(S=-1<f?w[f]:null)&&ge(S))}function ge(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[rt])vn(w.i,f);else{var S=f.type,V=f.proxy;w.removeEventListener?w.removeEventListener(S,V,f.capture):w.detachEvent?w.detachEvent(_e(S),V):w.addListener&&w.removeListener&&w.removeListener(V),(S=Ce(w))?(vn(S,f),S.h==0&&(S.src=null,w[P]=null)):lt(f)}}}function _e(f){return f in fe?fe[f]:fe[f]="on"+f}function ne(f,w){if(f.da)f=!0;else{w=new pe(w,this);var S=f.listener,V=f.ha||f.src;f.fa&&ge(f),f=S.call(V,w)}return f}function Ce(f){return f=f[P],f instanceof Tt?f:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(f){return typeof f=="function"?f:(f[Fe]||(f[Fe]=function(w){return f.handleEvent(w)}),f[Fe])}function Pe(){H.call(this),this.i=new Tt(this),this.M=this,this.F=null}I(Pe,H),Pe.prototype[rt]=!0,Pe.prototype.removeEventListener=function(f,w,S,V){X(this,f,w,S,V)};function Le(f,w){var S,V=f.F;if(V)for(S=[];V;V=V.F)S.push(V);if(f=f.M,V=w.type||w,typeof w=="string")w=new ye(w,f);else if(w instanceof ye)w.target=w.target||f;else{var ee=w;w=new ye(V,f),M(w,ee)}if(ee=!0,S)for(var ce=S.length-1;0<=ce;ce--){var De=w.g=S[ce];ee=Ne(De,V,!0,w)&&ee}if(De=w.g=f,ee=Ne(De,V,!0,w)&&ee,ee=Ne(De,V,!1,w)&&ee,S)for(ce=0;ce<S.length;ce++)De=w.g=S[ce],ee=Ne(De,V,!1,w)&&ee}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var S=f.g[w],V=0;V<S.length;V++)lt(S[V]);delete f.g[w],f.h--}}this.F=null},Pe.prototype.K=function(f,w,S,V){return this.i.add(String(f),w,!1,S,V)},Pe.prototype.L=function(f,w,S,V){return this.i.add(String(f),w,!0,S,V)};function Ne(f,w,S,V){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var ee=!0,ce=0;ce<w.length;++ce){var De=w[ce];if(De&&!De.da&&De.capture==S){var kt=De.listener,An=De.ha||De.src;De.fa&&vn(f.i,De),ee=kt.call(An,V)!==!1&&ee}}return ee&&!V.defaultPrevented}function Ze(f,w,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(f,w||0)}function Ot(f){f.g=Ze(()=>{f.g=null,f.i&&(f.i=!1,Ot(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Dt extends H{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(f){H.call(this),this.h=f,this.g={}}I(en,H);var pt=[];function Qn(f){J(f.g,function(w,S){this.g.hasOwnProperty(S)&&ge(w)},f),f.g={}}en.prototype.N=function(){en.aa.N.call(this),Qn(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=c.JSON.stringify,jt=c.JSON.parse,fi=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Qr(){}Qr.prototype.h=null;function sr(f){return f.h||(f.h=f.i())}function wn(){}var nt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gt(){ye.call(this,"d")}I(gt,ye);function or(){ye.call(this,"c")}I(or,ye);var Pn={},go=null;function kr(){return go=go||new Pe}Pn.La="serverreachability";function _o(f){ye.call(this,Pn.La,f)}I(_o,ye);function Rr(f){const w=kr();Le(w,new _o(w))}Pn.STAT_EVENT="statevent";function rs(f,w){ye.call(this,Pn.STAT_EVENT,f),this.stat=w}I(rs,ye);function tn(f){const w=kr();Le(w,new rs(w,f))}Pn.Ma="timingevent";function Ds(f,w){ye.call(this,Pn.Ma,f),this.size=w}I(Ds,ye);function Yr(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function xa(){this.g=!0}xa.prototype.xa=function(){this.g=!1};function La(f,w,S,V,ee,ce){f.info(function(){if(f.g)if(ce)for(var De="",kt=ce.split("&"),An=0;An<kt.length;An++){var wt=kt[An].split("=");if(1<wt.length){var On=wt[0];wt=wt[1];var En=On.split("_");De=2<=En.length&&En[1]=="type"?De+(On+"="+wt+"&"):De+(On+"=redacted&")}}else De=null;else De=ce;return"XMLHTTP REQ ("+V+") [attempt "+ee+"]: "+w+`
`+S+`
`+De})}function Kl(f,w,S,V,ee,ce,De){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ee+"]: "+w+`
`+S+`
`+ce+" "+De})}function xi(f,w,S,V){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+V_(f,S)+(V?" "+V:"")})}function Ju(f,w){f.info(function(){return"TIMEOUT: "+w})}xa.prototype.info=function(){};function V_(f,w){if(!f.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var V=S[f];if(!(2>V.length)){var ee=V[1];if(Array.isArray(ee)&&!(1>ee.length)){var ce=ee[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var De=1;De<ee.length;De++)ee[De]=""}}}}return Cn(S)}catch{return w}}var Ql={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Li;function Oa(){}I(Oa,Qr),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Li=new Oa;function Oi(f,w,S,V){this.j=f,this.i=w,this.l=S,this.R=V||1,this.U=new en(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}var Xu={},Yl={};function Jl(f,w,S){f.L=1,f.v=To(Xr(w)),f.m=S,f.P=!0,Zu(f,null)}function Zu(f,w){f.F=Date.now(),Ft(f),f.A=Xr(f.v);var S=f.A,V=f.R;Array.isArray(V)||(V=[String(V)]),bo(S.i,"t",V),f.C=0,S=f.j.J,f.h=new Wf,f.g=am(f.j,S?w:null,!f.m),0<f.O&&(f.M=new Dt(_(f.Y,f,f.g),f.O)),w=f.U,S=f.g,V=f.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(pt[0]=ee.toString()),ee=pt);for(var ce=0;ce<ee.length;ce++){var De=le(S,ee[ce],V||w.handleEvent,!1,w.h||w);if(!De)break;w.g[De.key]=De}w=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Rr(),La(f.i,f.u,f.A,f.l,f.R,f.m)}Oi.prototype.ca=function(f){f=f.target;const w=this.M;w&&Dr(f)==3?w.j():this.Y(f)},Oi.prototype.Y=function(f){try{if(f==this.g)e:{const En=Dr(this.g);var w=this.g.Ba();const gi=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||sd(this.g)))){this.J||En!=4||w==7||(w==8||0>=gi?Rr(3):Rr(2)),Fa(this);var S=this.g.Z();this.X=S;t:if(Hf(this)){var V=sd(this.g);f="";var ee=V.length,ce=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),yo(this);var De="";break t}this.h.i=new c.TextDecoder}for(w=0;w<ee;w++)this.h.h=!0,f+=this.h.i.decode(V[w],{stream:!(ce&&w==ee-1)});V.length=0,this.h.g+=f,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=S==200,Kl(this.i,this.u,this.A,this.l,this.R,En,S),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,An=this.g;if((kt=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(kt)){var wt=kt;break t}}wt=null}if(S=wt)xi(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ed(this,S);else{this.o=!1,this.s=3,tn(12),mi(this),yo(this);break e}}if(this.P){S=!0;let ei;for(;!this.J&&this.C<De.length;)if(ei=B_(this,De),ei==Yl){En==4&&(this.s=4,tn(14),S=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(ei==Xu){this.s=4,tn(15),xi(this.i,this.l,De,"[Invalid Chunk]"),S=!1;break}else xi(this.i,this.l,ei,null),ed(this,ei);if(Hf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||De.length!=0||this.h.h||(this.s=1,tn(16),S=!1),this.o=this.o&&S,!S)xi(this.i,this.l,De,"[Invalid Chunked Response]"),mi(this),yo(this);else if(0<De.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),ad(On),On.M=!0,tn(11))}}else xi(this.i,this.l,De,null),ed(this,De);En==4&&mi(this),this.o&&!this.J&&(En==4?lc(this.j,this):(this.o=!1,Ft(this)))}else rc(this.g),S==400&&0<De.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),mi(this),yo(this)}}}catch{}finally{}};function Hf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function B_(f,w){var S=f.C,V=w.indexOf(`
`,S);return V==-1?Yl:(S=Number(w.substring(S,V)),isNaN(S)?Xu:(V+=1,V+S>w.length?Yl:(w=w.slice(V,V+S),f.C=V+S,w)))}Oi.prototype.cancel=function(){this.J=!0,mi(this)};function Ft(f){f.S=Date.now()+f.I,Gf(f,f.I)}function Gf(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Yr(_(f.ba,f),w)}function Fa(f){f.B&&(c.clearTimeout(f.B),f.B=null)}Oi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ju(this.i,this.A),this.L!=2&&(Rr(),tn(17)),mi(this),this.s=2,yo(this)):Gf(this,this.S-f)};function yo(f){f.j.G==0||f.J||lc(f.j,f)}function mi(f){Fa(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Qn(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function ed(f,w){try{var S=f.j;if(S.G!=0&&(S.g==f||yr(S.h,f))){if(!f.K&&yr(S.h,f)&&S.G==3){try{var V=S.Da.g.parse(w)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ee=V;if(ee[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)ac(S),zi(S);else break e;oc(S),tn(18)}}else S.za=ee[1],0<S.za-S.T&&37500>ee[2]&&S.F&&S.v==0&&!S.C&&(S.C=Yr(_(S.Za,S),6e3));if(1>=$f(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Ms(S,11)}else if((f.K||S.g==f)&&ac(S),!D(w))for(ee=S.Da.g.parse(w),w=0;w<ee.length;w++){let wt=ee[w];if(S.T=wt[0],wt=wt[1],S.G==2)if(wt[0]=="c"){S.K=wt[1],S.ia=wt[2];const On=wt[3];On!=null&&(S.la=On,S.j.info("VER="+S.la));const En=wt[4];En!=null&&(S.Aa=En,S.j.info("SVER="+S.Aa));const gi=wt[5];gi!=null&&typeof gi=="number"&&0<gi&&(V=1.5*gi,S.L=V,S.j.info("backChannelRequestTimeoutMs_="+V)),V=S;const ei=f.g;if(ei){const Wa=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var ce=V.h;ce.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(td(ce,ce.h),ce.h=null))}if(V.D){const uc=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;uc&&(V.ya=uc,xt(V.I,V.D,uc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),V=S;var De=f;if(V.qa=om(V,V.J?V.ia:null,V.W),De.K){Kf(V.h,De);var kt=De,An=V.L;An&&(kt.I=An),kt.B&&(Fa(kt),Ft(kt)),V.g=De}else ja(V);0<S.i.length&&as(S)}else wt[0]!="stop"&&wt[0]!="close"||Ms(S,7);else S.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Ms(S,7):Jn(S):wt[0]!="noop"&&S.l&&S.l.ta(wt),S.v=0)}}Rr(4)}catch{}}var qf=class{constructor(f,w){this.g=f,this.map=w}};function Ma(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $f(f){return f.h?1:f.g?f.g.size:0}function yr(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function td(f,w){f.g?f.g.add(w):f.h=w}function Kf(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Ma.prototype.cancel=function(){if(this.i=Qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Qf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const S of f.g.values())w=w.concat(S.D);return w}return T(f.i)}function Xl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var w=[],S=f.length,V=0;V<S;V++)w.push(f[V]);return w}w=[],S=0;for(V in f)w[S++]=f[V];return w}function Zl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var w=[];f=f.length;for(var S=0;S<f;S++)w.push(S);return w}w=[],S=0;for(const V in f)w[S++]=V;return w}}}function vo(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var S=Zl(f),V=Xl(f),ee=V.length,ce=0;ce<ee;ce++)w.call(void 0,V[ce],S&&S[ce],f)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z_(f,w){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var V=f[S].indexOf("="),ee=null;if(0<=V){var ce=f[S].substring(0,V);ee=f[S].substring(V+1)}else ce=f[S];w(ce,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function xs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof xs){this.h=f.h,Ba(this,f.j),this.o=f.o,this.g=f.g,wo(this,f.s),this.l=f.l;var w=f.i,S=new is;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),Eo(this,S),this.m=f.m}else f&&(w=String(f).match(Va))?(this.h=!1,Ba(this,w[1]||"",!0),this.o=vt(w[2]||""),this.g=vt(w[3]||"",!0),wo(this,w[4]),this.l=vt(w[5]||"",!0),Eo(this,w[6]||"",!0),this.m=vt(w[7]||"")):(this.h=!1,this.i=new is(null,this.h))}xs.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Io(w,ec,!0),":");var S=this.g;return(S||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Io(w,ec,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Io(S,S.charAt(0)=="/"?Xf:Jf,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Io(S,nd)),f.join("")};function Xr(f){return new xs(f)}function Ba(f,w,S){f.j=S?vt(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function wo(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Eo(f,w,S){w instanceof is?(f.i=w,ss(f.i,f.h)):(S||(w=Io(w,Zf)),f.i=new is(w,f.h))}function xt(f,w,S){f.i.set(w,S)}function To(f){return xt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function vt(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Io(f,w,S){return typeof f=="string"?(f=encodeURI(f).replace(w,Yf),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Yf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ec=/[#\/\?@]/g,Jf=/[#\?:]/g,Xf=/[#\?]/g,Zf=/[#\?@]/g,nd=/#/g;function is(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Yn(f){f.g||(f.g=new Map,f.h=0,f.i&&z_(f.i,function(w,S){f.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}n=is.prototype,n.add=function(f,w){Yn(this),this.i=null,f=pi(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(w),this.h+=1,this};function Fi(f,w){Yn(f),w=pi(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Mi(f,w){return Yn(f),w=pi(f,w),f.g.has(w)}n.forEach=function(f,w){Yn(this),this.g.forEach(function(S,V){S.forEach(function(ee){f.call(w,ee,V,this)},this)},this)},n.na=function(){Yn(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let V=0;V<w.length;V++){const ee=f[V];for(let ce=0;ce<ee.length;ce++)S.push(w[V])}return S},n.V=function(f){Yn(this);let w=[];if(typeof f=="string")Mi(this,f)&&(w=w.concat(this.g.get(pi(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)w=w.concat(f[S])}return w},n.set=function(f,w){return Yn(this),this.i=null,f=pi(this,f),Mi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},n.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function bo(f,w,S){Fi(f,w),0<S.length&&(f.i=null,f.g.set(pi(f,w),T(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var V=w[S];const ce=encodeURIComponent(String(V)),De=this.V(V);for(V=0;V<De.length;V++){var ee=ce;De[V]!==""&&(ee+="="+encodeURIComponent(String(De[V]))),f.push(ee)}}return this.i=f.join("&")};function pi(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function ss(f,w){w&&!f.j&&(Yn(f),f.i=null,f.g.forEach(function(S,V){var ee=V.toLowerCase();V!=ee&&(Fi(this,V),bo(this,ee,S))},f)),f.j=w}function U_(f,w){const S=new xa;if(c.Image){const V=new Image;V.onload=v(Nr,S,"TestLoadImage: loaded",!0,w,V),V.onerror=v(Nr,S,"TestLoadImage: error",!1,w,V),V.onabort=v(Nr,S,"TestLoadImage: abort",!1,w,V),V.ontimeout=v(Nr,S,"TestLoadImage: timeout",!1,w,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else w(!1)}function em(f,w){const S=new xa,V=new AbortController,ee=setTimeout(()=>{V.abort(),Nr(S,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:V.signal}).then(ce=>{clearTimeout(ee),ce.ok?Nr(S,"TestPingServer: ok",!0,w):Nr(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ee),Nr(S,"TestPingServer: error",!1,w)})}function Nr(f,w,S,V,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),V(S)}catch{}}function j_(){this.g=new fi}function tm(f,w,S){const V=S||"";try{vo(f,function(ee,ce){let De=ee;h(ee)&&(De=Cn(ee)),w.push(V+ce+"="+encodeURIComponent(De))})}catch(ee){throw w.push(V+"type="+encodeURIComponent("_badmap")),ee}}function Ls(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Ls,Qr),Ls.prototype.g=function(){return new za(this.l,this.j)},Ls.prototype.i=(function(f){return function(){return f}})({});function za(f,w){Pe.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(za,Pe),n=za.prototype,n.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Bi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nm(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function nm(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Vi(this):Bi(this),this.readyState==3&&nm(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Vi(this))},n.Qa=function(f){this.g&&(this.response=f,Vi(this))},n.ga=function(){this.g&&Vi(this)};function Vi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Bi(f)}n.setRequestHeader=function(f,w){this.u.append(f,w)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=w.next();return f.join(`\r
`)};function Bi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Os(f){let w="";return J(f,function(S,V){w+=V,w+=":",w+=S,w+=`\r
`}),w}function So(f,w,S){e:{for(V in S){var V=!1;break e}V=!0}V||(S=Os(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):xt(f,w,S))}function $t(f){Pe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I($t,Pe);var W_=/^https?$/i,rd=["POST","PUT"];n=$t.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,w,S,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Li.g(),this.v=this.o?sr(this.o):sr(Li),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ce){Ua(this,ce);return}if(f=S||"",S=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ee in V)S.set(ee,V[ee]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ce of V.keys())S.set(ce,V.get(ce));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(S.keys()).find(ce=>ce.toLowerCase()=="content-type"),ee=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(rd,w,void 0))||V||ee||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,De]of S)this.g.setRequestHeader(ce,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nc(this),this.u=!0,this.g.send(f),this.u=!1}catch(ce){Ua(this,ce)}};function Ua(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,tc(f),Zr(f)}function tc(f){f.A||(f.A=!0,Le(f,"complete"),Le(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Le(this,"complete"),Le(this,"abort"),Zr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?id(this):this.bb())},n.bb=function(){id(this)};function id(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Dr(f)!=4||f.Z()!=2)){if(f.u&&Dr(f)==4)Ze(f.Ea,0,f);else if(Le(f,"readystatechange"),Dr(f)==4){f.h=!1;try{const De=f.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var V;if(V=De===0){var ee=String(f.D).match(Va)[1]||null;!ee&&c.self&&c.self.location&&(ee=c.self.location.protocol.slice(0,-1)),V=!W_.test(ee?ee.toLowerCase():"")}S=V}if(S)Le(f,"complete"),Le(f,"success");else{f.m=6;try{var ce=2<Dr(f)?f.g.statusText:""}catch{ce=""}f.l=ce+" ["+f.Z()+"]",tc(f)}}finally{Zr(f)}}}}function Zr(f,w){if(f.g){nc(f);const S=f.g,V=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Le(f,"ready");try{S.onreadystatechange=V}catch{}}}function nc(f){f.I&&(c.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Dr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),jt(w)}};function sd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function rc(f){const w={};f=(f.g&&2<=Dr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(D(f[V]))continue;var S=W(f[V]);const ee=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ce=w[ee]||[];w[ee]=ce,ce.push(S)}x(w,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(f,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||w}function od(f){this.Aa=0,this.i=[],this.j=new xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,f),this.cb=os("retryDelaySeedMs",1e4,f),this.Wa=os("forwardChannelMaxRetries",2,f),this.wa=os("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ma(f&&f.concurrentRequestLimit),this.Da=new j_,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=od.prototype,n.la=8,n.G=1,n.connect=function(f,w,S,V){tn(0),this.W=f,this.H=w||{},S&&V!==void 0&&(this.H.OSID=S,this.H.OAID=V),this.F=this.X,this.I=om(this,null,this.W),as(this)};function Jn(f){if(ic(f),f.G==3){var w=f.U++,S=Xr(f.I);if(xt(S,"SID",f.K),xt(S,"RID",w),xt(S,"TYPE","terminate"),Fs(f,S),w=new Oi(f,f.j,w),w.L=2,w.v=To(Xr(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=w.v,S=!0),S||(w.g=am(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ft(w)}sm(f)}function zi(f){f.g&&(ad(f),f.g.cancel(),f.g=null)}function ic(f){zi(f),f.u&&(c.clearTimeout(f.u),f.u=null),ac(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function as(f){if(!Jr(f.h)&&!f.s){f.s=!0;var w=f.Ga;ue||he(),de||(ue(),de=!0),ie.add(w,f),f.B=0}}function H_(f,w){return $f(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Yr(_(f.Ga,f,w),im(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ee=new Oi(this,this.j,f);let ce=this.o;if(this.S&&(ce?(ce=R(ce),M(ce,this.S)):ce=this.S),this.m!==null||this.O||(ee.H=ce,ce=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var V=this.i[S];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(w+=V,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Co(this,ee,w),S=Xr(this.I),xt(S,"RID",f),xt(S,"CVER",22),this.D&&xt(S,"X-HTTP-Session-Id",this.D),Fs(this,S),ce&&(this.O?w="headers="+encodeURIComponent(String(Os(ce)))+"&"+w:this.m&&So(S,this.m,ce)),td(this.h,ee),this.Ua&&xt(S,"TYPE","init"),this.P?(xt(S,"$req",w),xt(S,"SID","null"),ee.T=!0,Jl(ee,S,null)):Jl(ee,S,w),this.G=2}}else this.G==3&&(f?sc(this,f):this.i.length==0||Jr(this.h)||sc(this))};function sc(f,w){var S;w?S=w.l:S=f.U++;const V=Xr(f.I);xt(V,"SID",f.K),xt(V,"RID",S),xt(V,"AID",f.T),Fs(f,V),f.m&&f.o&&So(V,f.m,f.o),S=new Oi(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Co(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),td(f.h,S),Jl(S,V,w)}function Fs(f,w){f.H&&J(f.H,function(S,V){xt(w,V,S)}),f.l&&vo({},function(S,V){xt(w,V,S)})}function Co(f,w,S){S=Math.min(f.i.length,S);var V=f.l?_(f.l.Na,f.l,f):null;e:{var ee=f.i;let ce=-1;for(;;){const De=["count="+S];ce==-1?0<S?(ce=ee[0].g,De.push("ofs="+ce)):ce=0:De.push("ofs="+ce);let kt=!0;for(let An=0;An<S;An++){let wt=ee[An].g;const On=ee[An].map;if(wt-=ce,0>wt)ce=Math.max(0,ee[An].g-100),kt=!1;else try{tm(On,De,"req"+wt+"_")}catch{V&&V(On)}}if(kt){V=De.join("&");break e}}}return f=f.i.splice(0,S),w.D=f,V}function ja(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;ue||he(),de||(ue(),de=!0),ie.add(w,f),f.v=0}}function oc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Yr(_(f.Fa,f),im(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,rm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Yr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),zi(this),rm(this))};function ad(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function rm(f){f.g=new Oi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Xr(f.qa);xt(w,"RID","rpc"),xt(w,"SID",f.K),xt(w,"AID",f.T),xt(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&xt(w,"TO",f.ja),xt(w,"TYPE","xmlhttp"),Fs(f,w),f.m&&f.o&&So(w,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=To(Xr(w)),S.m=null,S.P=!0,Zu(S,f)}n.Za=function(){this.C!=null&&(this.C=null,zi(this),oc(this),tn(19))};function ac(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function lc(f,w){var S=null;if(f.g==w){ac(f),ad(f),f.g=null;var V=2}else if(yr(f.h,w))S=w.D,Kf(f.h,w),V=1;else return;if(f.G!=0){if(w.o)if(V==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var ee=f.B;V=kr(),Le(V,new Ds(V,S)),as(f)}else ja(f);else if(ee=w.s,ee==3||ee==0&&0<w.X||!(V==1&&H_(f,w)||V==2&&oc(f)))switch(S&&0<S.length&&(w=f.h,w.i=w.i.concat(S)),ee){case 1:Ms(f,5);break;case 4:Ms(f,10);break;case 3:Ms(f,6);break;default:Ms(f,2)}}}function im(f,w){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*w}function Ms(f,w){if(f.j.info("Error code "+w),w==2){var S=_(f.fb,f),V=f.Xa;const ee=!V;V=new xs(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ba(V,"https"),To(V),ee?U_(V.toString(),S):em(V.toString(),S)}else tn(2);f.G=0,f.l&&f.l.sa(w),sm(f),ic(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function sm(f){if(f.G=0,f.ka=[],f.l){const w=Qf(f.h);(w.length!=0||f.i.length!=0)&&(b(f.ka,w),b(f.ka,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.ra()}}function om(f,w,S){var V=S instanceof xs?Xr(S):new xs(S);if(V.g!="")w&&(V.g=w+"."+V.g),wo(V,V.s);else{var ee=c.location;V=ee.protocol,w=w?w+"."+ee.hostname:ee.hostname,ee=+ee.port;var ce=new xs(null);V&&Ba(ce,V),w&&(ce.g=w),ee&&wo(ce,ee),S&&(ce.l=S),V=ce}return S=f.D,w=f.ya,S&&w&&xt(V,S,w),xt(V,"VER",f.la),Fs(f,V),V}function am(f,w,S){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new $t(new Ls({eb:S})):new $t(f.pa),w.Ha(f.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ld(){}n=ld.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function cc(){}cc.prototype.g=function(f,w){return new vr(f,w)};function vr(f,w){Pe.call(this),this.g=new od(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!D(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new ls(this)}I(vr,Pe),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Jn(this.g)},vr.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Cn(f),f=S);w.i.push(new qf(w.Ya++,f)),w.G==3&&as(w)},vr.prototype.N=function(){this.g.l=null,delete this.j,Jn(this.g),delete this.g,vr.aa.N.call(this)};function lm(f){gt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const S in w){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}I(lm,gt);function cm(){or.call(this),this.status=1}I(cm,or);function ls(f){this.g=f}I(ls,ld),ls.prototype.ua=function(){Le(this.g,"a")},ls.prototype.ta=function(f){Le(this.g,new lm(f))},ls.prototype.sa=function(f){Le(this.g,new cm)},ls.prototype.ra=function(){Le(this.g,"b")},cc.prototype.createWebChannel=cc.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,mP=function(){return new cc},fP=function(){return kr()},hP=Pn,lv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ql.NO_ERROR=0,Ql.TIMEOUT=8,Ql.HTTP_ERROR=6,bp=Ql,jf.COMPLETE="complete",dP=jf,wn.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,Jd=wn,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,uP=$t}).apply(typeof op<"u"?op:typeof self<"u"?self:typeof window<"u"?window:{});const YI="@firebase/firestore",JI="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new xu("@firebase/firestore");function Bc(){return da.logLevel}function C7(n){da.setLogLevel(n)}function Te(n,...e){if(da.logLevel<=ft.DEBUG){const t=e.map(Z0);da.debug(`Firestore (${Mu}): ${n}`,...t)}}function gn(n,...e){if(da.logLevel<=ft.ERROR){const t=e.map(Z0);da.error(`Firestore (${Mu}): ${n}`,...t)}}function As(n,...e){if(da.logLevel<=ft.WARN){const t=e.map(Z0);da.warn(`Firestore (${Mu}): ${n}`,...t)}}function Z0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,pP(n,r,t)}function pP(n,e,t){let r=`FIRESTORE (${Mu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw gn(r),new Error(r)}function He(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||pP(e,i,r)}function P7(n,e){n||Ve(57014,e)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Hn.UNAUTHENTICATED)))}shutdown(){}}class k7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class R7{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rr,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rr)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new gP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class N7{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D7{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new N7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class XI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new XI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new XI(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=L7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function at(n,e){return n<e?-1:n>e?1:0}function cv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return A1(i)===A1(s)?at(i,s):A1(i)?1:-1}return at(n.length,e.length)}const O7=55296,F7=57343;function A1(n){const e=n.charCodeAt(0);return e>=O7&&e<=F7}function su(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function _P(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="__name__";class ms{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ve(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ms.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return at(e.length,t.length)}static compareSegments(e,t){const r=ms.isNumericId(e),i=ms.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ms.extractNumericId(e).compare(ms.extractNumericId(t)):cv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class _t extends ms{construct(e,t,r){return new _t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new _t(t)}static emptyPath(){return new _t([])}}const M7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends ms{construct(e,t,r){return new Yt(e,t,r)}static isValidIdentifier(e){return M7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZI}static keyField(){return new Yt([ZI])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new we(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new we(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new we(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new we(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(_t.fromString(e))}static fromName(e){return new xe(_t.fromString(e).popFirst(5))}static empty(){return new xe(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n,e,t){if(!t)throw new we(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yP(n,e,t,r){if(e===!0&&r===!0)throw new we(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eb(n){if(!xe.isDocumentKey(n))throw new we(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tb(n){if(xe.isDocumentKey(n))throw new we(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Gg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve(12329,{type:typeof n})}function Ct(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gg(n);throw new we(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wP(n,e){if(e<=0)throw new we(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(n,e){const t={typeString:n};return e&&(t.value=e),t}function gf(n,e){if(!vP(n))throw new we(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const a=n[r];if(i&&typeof a!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new we(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=-62135596800,rb=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*rb);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nb)throw new we(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rb}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gf(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:Sn("string",Pt._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Pt(0,0))}static max(){return new Je(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;class Qp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function uv(n){return n.fields.find((e=>e.kind===2))}function il(n){return n.fields.filter((e=>e.kind!==2))}Qp.UNKNOWN_ID=-1;class Sp{constructor(e,t){this.fieldPath=e,this.kind=t}}class xh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xh(0,di.min())}}function EP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new di(i,xe.empty(),e)}function TP(n){return new di(n.readTime,n.key,ou)}class di{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new di(Je.min(),xe.empty(),ou)}static max(){return new di(Je.max(),xe.empty(),ou)}}function n2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==IP)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let i=0,s=0,a=!1;e.forEach((c=>{++i,c.next((()=>{++s,a&&s===i&&t()}),(u=>r(u)))})),a=!0,s===i&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((i=>i?Z.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next((p=>{a[h]=p,++c,c===s&&r(a)}),(p=>i(p)))}}))}static doWhile(e,t){return new Z(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="SimpleDb";class qg{static open(e,t,r,i){try{return new qg(t,e.transaction(i,r))}catch(s){throw new lh(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new rr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new lh(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=r2(r.target.error);this.S.reject(new lh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Te(ii,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new B7(t)}}class Is{static delete(e){return Te(ii,"Removing database:",e),ll(T0().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Sh())return!1;if(Is.F())return!0;const e=on(),t=Is.M(e),r=0<t&&t<10,i=SP(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Is.M(on())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Te(ii,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;t(a)},i.onblocked=()=>{r(new lh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new we(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new we(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new lh(e,a))},i.onupgradeneeded=s=>{Te(ii,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{Te(ii,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const c=qg.open(this.db,e,s?"readonly":"readwrite",r),u=i(c).next((h=>(c.C(),h))).catch((h=>(c.abort(h),Z.reject(h)))).toPromise();return u.catch((()=>{})),await c.D,u}catch(c){const u=c,h=u.name!=="FirebaseError"&&a<3;if(Te(ii,"Transaction failed with error:",u.message,"Retrying:",h),this.close(),!h)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function SP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class V7{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ll(this.U.delete())}}class lh extends we{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Aa(n){return n.name==="IndexedDbTransactionError"}class B7{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(Te(ii,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(Te(ii,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ll(r)}add(e){return Te(ii,"ADD",this.store.name,e,e),ll(this.store.add(e))}get(e){return ll(this.store.get(e)).next((t=>(t===void 0&&(t=null),Te(ii,"GET",this.store.name,e,t),t)))}delete(e){return Te(ii,"DELETE",this.store.name,e),ll(this.store.delete(e))}count(){return Te(ii,"COUNT",this.store.name),ll(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Z(((a,c)=>{s.onerror=u=>{c(u.target.error)},s.onsuccess=u=>{a(u.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((c,u)=>{a.push(u)})).next((()=>a))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Z(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,t){Te(ii,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,c)=>c.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new Z(((r,i)=>{t.onerror=s=>{const a=r2(s.target.error);i(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((c=>{c?a.continue():r()})):r()}}))}H(e,t){const r=[];return new Z(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void i();const u=new V7(c),h=t(c.primaryKey,c.value,u);if(h instanceof Z){const p=h.catch((g=>(u.done(),Z.reject(g))));r.push(p)}u.isDone?i():u.G===null?c.continue():c.continue(u.G)}})).next((()=>Z.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ll(n){return new Z(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=r2(r.target.error);t(i)}}))}let ib=!1;function r2(n){const e=Is.M(on());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ib||(ib=!0,setTimeout((()=>{throw r}),0)),r}}return n}const ch="IndexBackfiller";class z7{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Te(ch,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();Te(ch,`Documents written: ${t}`)}catch(t){Aa(t)?Te(ch,"Ignoring IndexedDB error during index backfill: ",t):await Pa(t)}await this.re(6e4)}))}}class U7{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let i=t,s=!0;return Z.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return Te(ch,`Processing collection: ${a}`),this.oe(e,a,i).next((c=>{i-=c,r.add(a)}));s=!1})))).next((()=>t-i))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((c=>(Te(ch,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>a.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((i,s)=>{const a=TP(s);n2(a,r)>0&&(r=a)})),new di(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=-1;function _f(n){return n==null}function Lh(n){return n===0&&1/n==-1/0}function CP(n){return typeof n=="number"&&Number.isInteger(n)&&!Lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="";function pr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sb(e)),e=j7(n.get(t),e);return sb(e)}function j7(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case Yp:t+="";break;default:t+=s}}return t}function sb(n){return n+Yp+""}function Es(n){const e=n.length;if(He(e>=2,64408,{path:n}),e===2)return He(n.charAt(0)===Yp&&n.charAt(1)==="",56145,{path:n}),_t.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const a=n.indexOf(Yp,s);switch((a<0||a>t)&&Ve(50515,{path:n}),n.charAt(a+1)){case"":const c=n.substring(s,a);let u;i.length===0?u=c:(i+=c,u=i,i=""),r.push(u);break;case"":i+=n.substring(s,a),i+="\0";break;case"":i+=n.substring(s,a+1);break;default:Ve(61167,{path:n})}s=a+2}return new _t(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="remoteDocuments",yf="owner",Dc="owner",Oh="mutationQueues",W7="userId",Ki="mutations",ob="batchId",ml="userMutationsIndex",ab=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(n,e){return[n,pr(e)]}function PP(n,e,t){return[n,pr(e),t]}const H7={},au="documentMutations",Jp="remoteDocumentsV14",G7=["prefixPath","collectionGroup","readTime","documentId"],Pp="documentKeyIndex",q7=["prefixPath","collectionGroup","documentId"],AP="collectionGroupIndex",$7=["collectionGroup","readTime","prefixPath","documentId"],Fh="remoteDocumentGlobal",dv="remoteDocumentGlobalKey",lu="targets",kP="queryTargetsIndex",K7=["canonicalId","targetId"],cu="targetDocuments",Q7=["targetId","path"],i2="documentTargetsIndex",Y7=["path","targetId"],Xp="targetGlobalKey",wl="targetGlobal",Mh="collectionParents",J7=["collectionId","parent"],uu="clientMetadata",X7="clientId",$g="bundles",Z7="bundleId",Kg="namedQueries",eO="name",s2="indexConfiguration",tO="indexId",hv="collectionGroupIndex",nO="collectionGroup",uh="indexState",rO=["indexId","uid"],RP="sequenceNumberIndex",iO=["uid","sequenceNumber"],dh="indexEntries",sO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NP="documentKeyIndex",oO=["indexId","uid","orderedDocumentKey"],Qg="documentOverlays",aO=["userId","collectionPath","documentId"],fv="collectionPathOverlayIndex",lO=["userId","collectionPath","largestBatchId"],DP="collectionGroupOverlayIndex",cO=["userId","collectionGroup","largestBatchId"],o2="globals",uO="name",xP=[Oh,Ki,au,sl,lu,yf,wl,cu,uu,Fh,Mh,$g,Kg],dO=[...xP,Qg],LP=[Oh,Ki,au,Jp,lu,yf,wl,cu,uu,Fh,Mh,$g,Kg,Qg],OP=LP,a2=[...OP,s2,uh,dh],hO=a2,FP=[...a2,o2],fO=FP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends bP{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Ln(n,e){const t=Oe(n);return Is.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ln=class pv{constructor(e,t){this.comparator=e,this.root=t||ia.EMPTY}insert(e,t){return new pv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ia.BLACK,null,null))}remove(e){return new pv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ia.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ap(this.root,e,this.comparator,!0)}},ap=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ia=class qs{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??qs.RED,this.left=i??qs.EMPTY,this.right=s??qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new qs(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return qs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}};ia.EMPTY=null,ia.RED=!0,ia.BLACK=!1;ia.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new ia(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cb(this.data.getIterator())}getIteratorFrom(e){return new cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xc(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Wr([])}unionWith(e){let t=new Nt(Yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VP("Invalid base64 string: "+s):s}})(e);return new dn(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const pO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=pO.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(n.seconds),nanos:Qt(n.nanos)}}function Qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oo(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="server_timestamp",zP="__type__",UP="__previous_value__",jP="__local_write_time__";function Yg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[zP])==null?void 0:r.stringValue)===BP}function Jg(n){const e=n.mapValue.fields[UP];return Yg(e)?Jg(e):e}function Vh(n){const e=so(n.mapValue.fields[jP].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t,r,i,s,a,c,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=p}}const gv="(default)";class ha{constructor(e,t){this.projectId=e,this.database=t||gv}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database===gv}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="__type__",WP="__max__",Qo={mapValue:{fields:{__type__:{stringValue:WP}}}},c2="__vector__",du="value",Ap={nullValue:"NULL_VALUE"};function fa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yg(n)?4:HP(n)?9007199254740991:Xg(n)?10:11:Ve(28295,{value:n})}function ks(n,e){if(n===e)return!0;const t=fa(n);if(t!==fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vh(n).isEqual(Vh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=so(i.timestampValue),c=so(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return oo(i.bytesValue).isEqual(oo(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return Qt(i.geoPointValue.latitude)===Qt(s.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Qt(i.integerValue)===Qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Qt(i.doubleValue),c=Qt(s.doubleValue);return a===c?Lh(a)===Lh(c):isNaN(a)&&isNaN(c)}return!1})(n,e);case 9:return su(n.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(lb(a)!==lb(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!ks(a[u],c[u])))return!1;return!0})(n,e);default:return Ve(52216,{left:n})}}function Bh(n,e){return(n.values||[]).find((t=>ks(t,e)))!==void 0}function ma(n,e){if(n===e)return 0;const t=fa(n),r=fa(e);if(t!==r)return at(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const c=Qt(s.integerValue||s.doubleValue),u=Qt(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return ub(n.timestampValue,e.timestampValue);case 4:return ub(Vh(n),Vh(e));case 5:return cv(n.stringValue,e.stringValue);case 6:return(function(s,a){const c=oo(s),u=oo(a);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const c=s.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){const p=at(c[h],u[h]);if(p!==0)return p}return at(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const c=at(Qt(s.latitude),Qt(a.latitude));return c!==0?c:at(Qt(s.longitude),Qt(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return db(n.arrayValue,e.arrayValue);case 10:return(function(s,a){var _,v,I,T;const c=s.fields||{},u=a.fields||{},h=(_=c[du])==null?void 0:_.arrayValue,p=(v=u[du])==null?void 0:v.arrayValue,g=at(((I=h==null?void 0:h.values)==null?void 0:I.length)||0,((T=p==null?void 0:p.values)==null?void 0:T.length)||0);return g!==0?g:db(h,p)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Qo.mapValue&&a===Qo.mapValue)return 0;if(s===Qo.mapValue)return 1;if(a===Qo.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),h=a.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const _=cv(u[g],p[g]);if(_!==0)return _;const v=ma(c[u[g]],h[p[g]]);if(v!==0)return v}return at(u.length,p.length)})(n.mapValue,e.mapValue);default:throw Ve(23264,{he:t})}}function ub(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=so(n),r=so(e),i=at(t.seconds,r.seconds);return i!==0?i:at(t.nanos,r.nanos)}function db(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=ma(t[i],r[i]);if(s)return s}return at(t.length,r.length)}function hu(n){return _v(n)}function _v(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=so(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return oo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=_v(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${_v(t.fields[a])}`;return i+"}"})(n.mapValue):Ve(61005,{value:n})}function kp(n){switch(fa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jg(n);return e?16+kp(e):16;case 5:return 2*n.stringValue.length;case 6:return oo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+kp(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ka(r.fields,((s,a)=>{i+=s.length+kp(a)})),i})(n.mapValue);default:throw Ve(13486,{value:n})}}function Cl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yv(n){return!!n&&"integerValue"in n}function zh(n){return!!n&&"arrayValue"in n}function hb(n){return!!n&&"nullValue"in n}function fb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rp(n){return!!n&&"mapValue"in n}function Xg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[l2])==null?void 0:r.stringValue)===c2}function hh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ka(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=hh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hh(n.arrayValue.values[t]);return e}return{...n}}function HP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WP}const GP={mapValue:{fields:{[l2]:{stringValue:c2},[du]:{arrayValue:{}}}}};function _O(n){return"nullValue"in n?Ap:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cl(ha.empty(),xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Xg(n)?GP:{mapValue:{}}:Ve(35942,{value:n})}function yO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cl(ha.empty(),xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?GP:"mapValue"in n?Xg(n)?{mapValue:{}}:Qo:Ve(61959,{value:n})}function mb(n,e){const t=ma(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function pb(n,e){const t=ma(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach(((a,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}a?r[c.lastSegment()]=hh(a):i.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Rp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ka(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new nr(hh(this.value))}}function qP(n){const e=[];return ka(n.fields,((t,r)=>{const i=new Yt([t]);if(Rp(r)){const s=qP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,i,s,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Gt(e,0,Je.min(),Je.min(),Je.min(),nr.empty(),0)}static newFoundDocument(e,t,r,i){return new Gt(e,1,t,Je.min(),r,i,0)}static newNoDocument(e,t){return new Gt(e,2,t,Je.min(),Je.min(),nr.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Je.min(),Je.min(),nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this.position=e,this.inclusive=t}}function gb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=xe.comparator(xe.fromName(a.referenceValue),t.key):r=ma(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _b(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ks(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function vO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{}class yt extends $P{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new wO(e,t,r):t==="array-contains"?new IO(e,r):t==="in"?new ZP(e,r):t==="not-in"?new bO(e,r):t==="array-contains-any"?new SO(e,r):new yt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new EO(e,r):new TO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ma(t,this.value)):t!==null&&fa(this.value)===fa(t)&&this.matchesComparison(ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rt extends $P{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Rt(e,t)}matches(e){return fu(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fu(n){return n.op==="and"}function vv(n){return n.op==="or"}function u2(n){return KP(n)&&fu(n)}function KP(n){for(const e of n.filters)if(e instanceof Rt)return!1;return!0}function wv(n){if(n instanceof yt)return n.field.canonicalString()+n.op.toString()+hu(n.value);if(u2(n))return n.filters.map((e=>wv(e))).join(",");{const e=n.filters.map((t=>wv(t))).join(",");return`${n.op}(${e})`}}function QP(n,e){return n instanceof yt?(function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&ks(r.value,i.value)})(n,e):n instanceof Rt?(function(r,i){return i instanceof Rt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,c)=>s&&QP(a,i.filters[c])),!0):!1})(n,e):void Ve(19439)}function YP(n,e){const t=n.filters.concat(e);return Rt.create(t,n.op)}function JP(n){return n instanceof yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${hu(t.value)}`})(n):n instanceof Rt?(function(t){return t.op.toString()+" {"+t.getFilters().map(JP).join(" ,")+"}"})(n):"Filter"}class wO extends yt{constructor(e,t,r){super(e,t,r),this.key=xe.fromName(r.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class EO extends yt{constructor(e,t){super(e,"in",t),this.keys=XP("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class TO extends yt{constructor(e,t){super(e,"not-in",t),this.keys=XP("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function XP(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>xe.fromName(r.referenceValue)))}class IO extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zh(t)&&Bh(t.arrayValue,this.value)}}class ZP extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bh(this.value.arrayValue,t)}}class bO extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bh(this.value.arrayValue,t)}}class SO extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Bh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.Te=null}}function Ev(n,e=null,t=[],r=[],i=null,s=null,a=null){return new CO(n,e,t,r,i,s,a)}function Pl(n){const e=Oe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>wv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),_f(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>hu(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>hu(r))).join(",")),e.Te=t}return e.Te}function vf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_b(n.startAt,e.startAt)&&_b(n.endAt,e.endAt)}function Zp(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function eg(n,e){return n.filters.filter((t=>t instanceof yt&&t.field.isEqual(e)))}function yb(n,e,t){let r=Ap,i=!0;for(const s of eg(n,e)){let a=Ap,c=!0;switch(s.op){case"<":case"<=":a=_O(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,c=!1;break;case"!=":case"not-in":a=Ap}mb({value:r,inclusive:i},{value:a,inclusive:c})<0&&(r=a,i=c)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];mb({value:r,inclusive:i},{value:a,inclusive:t.inclusive})<0&&(r=a,i=t.inclusive);break}}return{value:r,inclusive:i}}function vb(n,e,t){let r=Qo,i=!0;for(const s of eg(n,e)){let a=Qo,c=!0;switch(s.op){case">=":case">":a=yO(s.value),c=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,c=!1;break;case"!=":case"not-in":a=Qo}pb({value:r,inclusive:i},{value:a,inclusive:c})>0&&(r=a,i=c)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];pb({value:r,inclusive:i},{value:a,inclusive:t.inclusive})>0&&(r=a,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t=null,r=[],i=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eA(n,e,t,r,i,s,a,c){return new ho(n,e,t,r,i,s,a,c)}function Vu(n){return new ho(n)}function wb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function d2(n){return n.collectionGroup!==null}function Jc(n){const e=Oe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Nt(Yt.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Uh(s,r))})),t.has(Yt.keyField().canonicalString())||e.Ie.push(new Uh(Yt.keyField(),r))}return e.Ie}function Sr(n){const e=Oe(n);return e.Ee||(e.Ee=PO(e,Jc(n))),e.Ee}function PO(n,e){if(n.limitType==="F")return Ev(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Uh(i.field,s)}));const t=n.endAt?new pa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pa(n.startAt.position,n.startAt.inclusive):null;return Ev(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Tv(n,e){const t=n.filters.concat([e]);return new ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tg(n,e,t){return new ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wf(n,e){return vf(Sr(n),Sr(e))&&n.limitType===e.limitType}function tA(n){return`${Pl(Sr(n))}|lt:${n.limitType}`}function zc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>JP(i))).join(", ")}]`),_f(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>hu(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>hu(i))).join(",")),`Target(${r})`})(Sr(n))}; limitType=${n.limitType})`}function Ef(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of Jc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(a,c,u){const h=gb(a,c,u);return a.inclusive?h<=0:h<0})(r.startAt,Jc(r),i)||r.endAt&&!(function(a,c,u){const h=gb(a,c,u);return a.inclusive?h>=0:h>0})(r.endAt,Jc(r),i))})(n,e)}function nA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rA(n){return(e,t)=>{let r=!1;for(const i of Jc(n)){const s=AO(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function AO(n,e,t){const r=n.field.isKeyField()?xe.comparator(e.key,t.key):(function(s,a,c){const u=a.data.field(s),h=c.data.field(s);return u!==null&&h!==null?ma(u,h):Ve(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return MP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new ln(xe.comparator);function Hr(){return kO}const iA=new ln(xe.comparator);function Xd(...n){let e=iA;for(const t of n)e=e.insert(t.key,t);return e}function sA(n){let e=iA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ts(){return fh()}function oA(){return fh()}function fh(){return new fo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const RO=new ln(xe.comparator),NO=new Nt(xe.comparator);function ct(...n){let e=NO;for(const t of n)e=e.add(t);return e}const DO=new Nt(at);function h2(){return DO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function aA(n){return{integerValue:""+n}}function lA(n,e){return CP(e)?aA(e):f2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this._=void 0}}function xO(n,e,t){return n instanceof mu?(function(i,s){const a={fields:{[zP]:{stringValue:BP},[jP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yg(s)&&(s=Jg(s)),s&&(a.fields[UP]=s),{mapValue:a}})(t,e):n instanceof Al?uA(n,e):n instanceof kl?dA(n,e):(function(i,s){const a=cA(i,s),c=Eb(a)+Eb(i.Ae);return yv(a)&&yv(i.Ae)?aA(c):f2(i.serializer,c)})(n,e)}function LO(n,e,t){return n instanceof Al?uA(n,e):n instanceof kl?dA(n,e):t}function cA(n,e){return n instanceof pu?(function(r){return yv(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class mu extends Zg{}class Al extends Zg{constructor(e){super(),this.elements=e}}function uA(n,e){const t=hA(e);for(const r of n.elements)t.some((i=>ks(i,r)))||t.push(r);return{arrayValue:{values:t}}}class kl extends Zg{constructor(e){super(),this.elements=e}}function dA(n,e){let t=hA(e);for(const r of n.elements)t=t.filter((i=>!ks(i,r)));return{arrayValue:{values:t}}}class pu extends Zg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Eb(n){return Qt(n.integerValue||n.doubleValue)}function hA(n){return zh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this.field=e,this.transform=t}}function OO(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Al&&i instanceof Al||r instanceof kl&&i instanceof kl?su(r.elements,i.elements,ks):r instanceof pu&&i instanceof pu?ks(r.Ae,i.Ae):r instanceof mu&&i instanceof mu})(n.transform,e.transform)}class FO{constructor(e,t){this.version=e,this.transformResults=t}}class Jt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jt}static exists(e){return new Jt(void 0,e)}static updateTime(e){return new Jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Np(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class e_{}function fA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zu(n.key,Jt.none()):new Bu(n.key,n.data,Jt.none());{const t=n.data,r=nr.empty();let i=new Nt(Yt.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new mo(n.key,r,new Wr(i.toArray()),Jt.none())}}function MO(n,e,t){n instanceof Bu?(function(i,s,a){const c=i.value.clone(),u=Ib(i.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(n,e,t):n instanceof mo?(function(i,s,a){if(!Np(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=Ib(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(mA(i)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(n,e,t):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function mh(n,e,t,r){return n instanceof Bu?(function(s,a,c,u){if(!Np(s.precondition,a))return c;const h=s.value.clone(),p=bb(s.fieldTransforms,u,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(n,e,t,r):n instanceof mo?(function(s,a,c,u){if(!Np(s.precondition,a))return c;const h=bb(s.fieldTransforms,u,a),p=a.data;return p.setAll(mA(s)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(s,a,c){return Np(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(n,e,t)}function VO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=cA(r.transform,i||null);s!=null&&(t===null&&(t=nr.empty()),t.set(r.field,s))}return t||null}function Tb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&su(r,i,((s,a)=>OO(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bu extends e_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mo extends e_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Ib(n,e,t){const r=new Map;He(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,LO(a,c,t[i]))}return r}function bb(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,xO(s,a,e))}return r}class zu extends e_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m2 extends e_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&MO(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=oA();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=t.has(i.key)?null:c;const u=fA(a,c);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Je.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ct())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,((t,r)=>Tb(t,r)))&&su(this.baseMutations,e.baseMutations,((t,r)=>Tb(t,r)))}}class g2{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return RO})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new g2(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,Et;function pA(n){switch(n){case oe.OK:return Ve(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ve(15467,{code:n})}}function gA(n){if(n===void 0)return gn("GRPC error has no .code"),oe.UNKNOWN;switch(n){case In.OK:return oe.OK;case In.CANCELLED:return oe.CANCELLED;case In.UNKNOWN:return oe.UNKNOWN;case In.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case In.INTERNAL:return oe.INTERNAL;case In.UNAVAILABLE:return oe.UNAVAILABLE;case In.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case In.NOT_FOUND:return oe.NOT_FOUND;case In.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case In.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case In.ABORTED:return oe.ABORTED;case In.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case In.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case In.DATA_LOSS:return oe.DATA_LOSS;default:return Ve(39323,{code:n})}}(Et=In||(In={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new na([4294967295,4294967295],0);function Sb(n){const e=_A().encode(n),t=new cP;return t.update(e),new Uint8Array(t.digest())}function Cb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new na([t,r],0),new na([i,s],0)]}class y2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zd(`Invalid padding: ${t}`);if(r<0)throw new Zd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Zd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=na.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(na.fromNumber(r)));return i.compare(zO)===1&&(i=new na([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Sb(e),[r,i]=Cb(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new y2(s,i,t);return r.forEach((c=>a.insert(c))),a}insert(e){if(this.ge===0)return;const t=Sb(e),[r,i]=Cb(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new If(Je.min(),i,new ln(at),Hr(),ct())}}class bf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bf(r,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class yA{constructor(e,t){this.targetId=e,this.Ce=t}}class vA{constructor(e,t,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Pb{constructor(){this.ve=0,this.Fe=Ab(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),t=ct(),r=ct();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:s})}})),new bf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Ab()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hr(),this.Je=lp(),this.He=lp(),this.Ye=new ln(at)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(Zp(s))if(r===0){const a=new xe(s.path);this.et(t,a,Gt.newNoDocument(a,Je.min()))}else He(r===1,20013,{expectedCount:r});else{const a=this._t(t);if(a!==r){const c=this.ut(e),u=c?this.ct(c,e,a):1;if(u!==0){this.it(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,c;try{a=oo(r).toUint8Array()}catch(u){if(u instanceof VP)return As("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new y2(a,i,s)}catch(u){return As(u instanceof Zd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,a)=>{const c=this.ot(a);if(c){if(s.current&&Zp(c.target)){const u=new xe(c.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Gt.newNoDocument(u,e))}s.Be&&(t.set(a,s.ke()),s.qe())}}));let r=ct();this.He.forEach(((s,a)=>{let c=!0;a.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new If(e,t,this.Ye,this.je,r);return this.je=Hr(),this.Je=lp(),this.He=lp(),this.Ye=new ln(at),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Pb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(at),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(at),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function lp(){return new ln(xe.comparator)}function Ab(){return new ln(xe.comparator)}const jO={asc:"ASCENDING",desc:"DESCENDING"},WO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HO={and:"AND",or:"OR"};class GO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iv(n,e){return n.useProto3Json||_f(e)?e:{value:e}}function gu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qO(n,e){return gu(n,e.toTimestamp())}function _n(n){return He(!!n,49232),Je.fromTimestamp((function(t){const r=so(t);return new Pt(r.seconds,r.nanos)})(n))}function v2(n,e){return bv(n,e).canonicalString()}function bv(n,e){const t=(function(i){return new _t(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function EA(n){const e=_t.fromString(n);return He(NA(e),10190,{key:e.toString()}),e}function jh(n,e){return v2(n.databaseId,e.path)}function bs(n,e){const t=EA(e);if(t.get(1)!==n.databaseId.projectId)throw new we(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(bA(t))}function TA(n,e){return v2(n.databaseId,e)}function IA(n){const e=EA(n);return e.length===4?_t.emptyPath():bA(e)}function Sv(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bA(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kb(n,e,t){return{name:jh(n,e),fields:t.value.mapValue.fields}}function SA(n,e,t){const r=bs(n,e.name),i=_n(e.updateTime),s=e.createTime?_n(e.createTime):Je.min(),a=new nr({mapValue:{fields:e.fields}}),c=Gt.newFoundDocument(r,i,s,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function $O(n,e){return"found"in e?(function(r,i){He(!!i.found,43571),i.found.name,i.found.updateTime;const s=bs(r,i.found.name),a=_n(i.found.updateTime),c=i.found.createTime?_n(i.found.createTime):Je.min(),u=new nr({mapValue:{fields:i.found.fields}});return Gt.newFoundDocument(s,a,c,u)})(n,e):"missing"in e?(function(r,i){He(!!i.missing,3894),He(!!i.readTime,22933);const s=bs(r,i.missing),a=_n(i.readTime);return Gt.newNoDocument(s,a)})(n,e):Ve(7234,{result:e})}function KO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ve(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(He(p===void 0||typeof p=="string",58123),dn.fromBase64String(p||"")):(He(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),dn.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(h){const p=h.code===void 0?oe.UNKNOWN:gA(h.code);return new we(p,h.message||"")})(a);t=new vA(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bs(n,r.document.name),s=_n(r.document.updateTime),a=r.document.createTime?_n(r.document.createTime):Je.min(),c=new nr({mapValue:{fields:r.document.fields}}),u=Gt.newFoundDocument(i,s,a,c),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Dp(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bs(n,r.document),s=r.readTime?_n(r.readTime):Je.min(),a=Gt.newNoDocument(i,s),c=r.removedTargetIds||[];t=new Dp([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bs(n,r.document),s=r.removedTargetIds||[];t=new Dp([],s,i,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new BO(i,s),c=r.targetId;t=new yA(c,a)}}return t}function Wh(n,e){let t;if(e instanceof Bu)t={update:kb(n,e.key,e.value)};else if(e instanceof zu)t={delete:jh(n,e.key)};else if(e instanceof mo)t={update:kb(n,e.key,e.data),updateMask:eF(e.fieldMask)};else{if(!(e instanceof m2))return Ve(16599,{Vt:e.type});t={verify:jh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const c=a.transform;if(c instanceof mu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Al)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof pu)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw Ve(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:qO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ve(27497)})(n,e.precondition)),t}function Cv(n,e){const t=e.currentDocument?(function(s){return s.updateTime!==void 0?Jt.updateTime(_n(s.updateTime)):s.exists!==void 0?Jt.exists(s.exists):Jt.none()})(e.currentDocument):Jt.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,c){let u=null;if("setToServerValue"in c)He(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),u=new mu;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];u=new Al(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];u=new kl(p)}else"increment"in c?u=new pu(a,c.increment):Ve(16584,{proto:c});const h=Yt.fromServerFormat(c.fieldPath);return new Tf(h,u)})(n,i))):[];if(e.update){e.update.name;const i=bs(n,e.update.name),s=new nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const h=u.fieldPaths||[];return new Wr(h.map((p=>Yt.fromServerFormat(p))))})(e.updateMask);return new mo(i,s,a,t,r)}return new Bu(i,s,t,r)}if(e.delete){const i=bs(n,e.delete);return new zu(i,t)}if(e.verify){const i=bs(n,e.verify);return new m2(i,t)}return Ve(1463,{proto:e})}function QO(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map((t=>(function(i,s){let a=i.updateTime?_n(i.updateTime):_n(s);return a.isEqual(Je.min())&&(a=_n(s)),new FO(a,i.transformResults||[])})(t,e)))):[]}function CA(n,e){return{documents:[TA(n,e.path)]}}function PA(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TA(n,i);const s=(function(h){if(h.length!==0)return RA(Rt.create(h,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(h){if(h.length!==0)return h.map((p=>(function(_){return{field:Uc(_.field),direction:JO(_.dir)}})(p)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=Iv(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:i}}function AA(n){let e=IA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){He(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=(function(g){const _=kA(g);return _ instanceof Rt&&u2(_)?_.getFilters():[_]})(t.where));let a=[];t.orderBy&&(a=(function(g){return g.map((_=>(function(I){return new Uh(jc(I.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(t.orderBy));let c=null;t.limit&&(c=(function(g){let _;return _=typeof g=="object"?g.value:g,_f(_)?null:_})(t.limit));let u=null;t.startAt&&(u=(function(g){const _=!!g.before,v=g.values||[];return new pa(v,_)})(t.startAt));let h=null;return t.endAt&&(h=(function(g){const _=!g.before,v=g.values||[];return new pa(v,_)})(t.endAt)),eA(e,i,a,s,c,"F",u,h)}function YO(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=jc(t.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jc(t.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jc(t.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=jc(t.unaryFilter.field);return yt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(n):n.fieldFilter!==void 0?(function(t){return yt.create(jc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Rt.create(t.compositeFilter.filters.map((r=>kA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(t.compositeFilter.op))})(n):Ve(30097,{filter:n})}function JO(n){return jO[n]}function XO(n){return WO[n]}function ZO(n){return HO[n]}function Uc(n){return{fieldPath:n.canonicalString()}}function jc(n){return Yt.fromServerFormat(n.fieldPath)}function RA(n){return n instanceof yt?(function(t){if(t.op==="=="){if(fb(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NAN"}};if(hb(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fb(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NOT_NAN"}};if(hb(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(t.field),op:XO(t.op),value:t.value}}})(n):n instanceof Rt?(function(t){const r=t.getFilters().map((i=>RA(i)));return r.length===1?r[0]:{compositeFilter:{op:ZO(t.op),filters:r}}})(n):Ve(54877,{filter:n})}function eF(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function NA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t,r,i,s=Je.min(),a=Je.min(),c=dn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.yt=e}}function tF(n,e){let t;if(e.document)t=SA(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=xe.fromSegments(e.noDocument.path),i=Nl(e.noDocument.readTime);t=Gt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ve(56709);{const r=xe.fromSegments(e.unknownDocument.path),i=Nl(e.unknownDocument.version);t=Gt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const s=new Pt(i[0],i[1]);return Je.fromTimestamp(s)})(e.readTime)),t}function Rb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ng(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:jh(s,a.key),fields:a.data.value.mapValue.fields,updateTime:gu(s,a.version.toTimestamp()),createTime:gu(s,a.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return Ve(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Rl(e.version)}}return r}function ng(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(n){const e=new Pt(n.seconds,n.nanoseconds);return Je.fromTimestamp(e)}function cl(n,e){const t=(e.baseMutations||[]).map((s=>Cv(n.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];a.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>Cv(n.yt,s))),i=Pt.fromMillis(e.localWriteTimeMs);return new p2(e.batchId,i,t,r)}function eh(n){const e=Nl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Nl(n.lastLimboFreeSnapshotVersion):Je.min();let r;return r=(function(s){return s.documents!==void 0})(n.query)?(function(s){const a=s.documents.length;return He(a===1,1966,{count:a}),Sr(Vu(IA(s.documents[0])))})(n.query):(function(s){return Sr(AA(s))})(n.query),new Qs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,dn.fromBase64String(n.resumeToken))}function xA(n,e){const t=Rl(e.snapshotVersion),r=Rl(e.lastLimboFreeSnapshotVersion);let i;i=Zp(e.target)?CA(n.yt,e.target):PA(n.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function w2(n){const e=AA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tg(e,e.limit,"L"):e}function k1(n,e){return new _2(e.largestBatchId,Cv(n.yt,e.overlayMutation))}function Nb(n,e){const t=e.path.lastSegment();return[n,pr(e.path.popLast()),t]}function Db(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Rl(r.readTime),documentKey:pr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{getBundleMetadata(e,t){return xb(e).get(t).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Nl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,t){return xb(e).put((function(i){return{bundleId:i.id,createTime:Rl(_n(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return Lb(e).get(t).next((r=>{if(r)return(function(s){return{name:s.name,query:w2(s.bundledQuery),readTime:Nl(s.readTime)}})(r)}))}saveNamedQuery(e,t){return Lb(e).put((function(i){return{name:i.name,readTime:Rl(_n(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function xb(n){return Ln(n,$g)}function Lb(n){return Ln(n,Kg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new t_(e,r)}getOverlay(e,t){return Vd(e).get(Nb(this.userId,t)).next((r=>r?k1(this.serializer,r):null))}getOverlays(e,t){const r=Ts();return Z.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((s,a)=>{const c=new _2(t,a);i.push(this.St(e,c))})),Z.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((a=>i.add(pr(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Vd(e).Z(fv,c))})),Z.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Ts(),s=pr(t),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Vd(e).J(fv,a).next((c=>{for(const u of c){const h=k1(this.serializer,u);i.set(h.getKey(),h)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const s=Ts();let a;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vd(e).ee({index:DP,range:c},((u,h,p)=>{const g=k1(this.serializer,h);s.size()<i||g.largestBatchId===a?(s.set(g.getKey(),g),a=g.largestBatchId):p.done()})).next((()=>s))}St(e,t){return Vd(e).put((function(i,s,a){const[c,u,h]=Nb(s,a.mutation.key);return{userId:s,collectionPath:u,documentId:h,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Wh(i.yt,a.mutation)}})(this.serializer,this.userId,t))}}function Vd(n){return Ln(n,Qg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{bt(e){return Ln(e,o2)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t==null?void 0:t.value;return r?dn.fromUint8Array(r):dn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Qt(e.integerValue));else if("doubleValue"in e){const r=Qt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Lh(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=so(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(oo(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?HP(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Xg(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ve(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){var a,c;const r=e.fields||{};this.Ft(t,53);const i=du,s=((c=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:c.length)||0;this.Ft(t,15),t.Mt(Qt(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),xe.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ul.Kt=new ul;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=255;function iF(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function Ob(n){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=iF(255&r[s]);if(i+=a,a!==8)break}return i})(n);return Math.ceil(e/8)}class sF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=Ob(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=Ob(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Lc),this.sn(255)}_n(){this.an(Lc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Lc?(this.sn(Lc),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Lc?(this.an(Lc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class oF{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class aF{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Bd{constructor(){this.cn=new sF,this.ln=new oF(this.cn),this.hn=new aF(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new dl(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:xp(this.En),directionalValue:xp(this.dn),orderedDocumentKey:xp(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function jo(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=Fb(n.En,e.En),t!==0?t:(t=Fb(n.dn,e.dn),t!==0?t:xe.comparator(n.In,e.In)))}function Fb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function xp(n){return YS()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function Mb(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}class Vb{constructor(e){this.mn=new Nt(((t,r)=>Yt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(He(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=uv(e);if(t!==void 0&&!this.wn(t))return!1;const r=il(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const u=r[s];if(!this.Sn(c,u)||!this.bn(this.fn[a++],u))return!1}++s}for(;s<r.length;++s){const c=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Nt(Yt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Sp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Sp(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Sp(r.field,r.dir==="asc"?0:1)));return new Qp(Qp.UNKNOWN_ID,this.collectionId,t,xh.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){var t,r;if(He(n instanceof yt||n instanceof Rt,20012),n instanceof yt){if(n instanceof ZP){const i=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map((s=>yt.create(n.field,"==",s))))||[];return Rt.create(i,"or")}return n}const e=n.filters.map((i=>LA(i)));return Rt.create(e,n.op)}function lF(n){if(n.getFilters().length===0)return[];const e=kv(LA(n));return He(OA(e),7391),Pv(e)||Av(e)?[e]:e.getFilters()}function Pv(n){return n instanceof yt}function Av(n){return n instanceof Rt&&u2(n)}function OA(n){return Pv(n)||Av(n)||(function(t){if(t instanceof Rt&&vv(t)){for(const r of t.getFilters())if(!Pv(r)&&!Av(r))return!1;return!0}return!1})(n)}function kv(n){if(He(n instanceof yt||n instanceof Rt,34018),n instanceof yt)return n;if(n.filters.length===1)return kv(n.filters[0]);const e=n.filters.map((r=>kv(r)));let t=Rt.create(e,n.op);return t=rg(t),OA(t)?t:(He(t instanceof Rt,64498),He(fu(t),40251),He(t.filters.length>1,57927),t.filters.reduce(((r,i)=>E2(r,i))))}function E2(n,e){let t;return He(n instanceof yt||n instanceof Rt,38388),He(e instanceof yt||e instanceof Rt,25473),t=n instanceof yt?e instanceof yt?(function(i,s){return Rt.create([i,s],"and")})(n,e):Bb(n,e):e instanceof yt?Bb(e,n):(function(i,s){if(He(i.filters.length>0&&s.filters.length>0,48005),fu(i)&&fu(s))return YP(i,s.getFilters());const a=vv(i)?i:s,c=vv(i)?s:i,u=a.filters.map((h=>E2(h,c)));return Rt.create(u,"or")})(n,e),rg(t)}function Bb(n,e){if(fu(e))return YP(e,n.getFilters());{const t=e.filters.map((r=>E2(n,r)));return Rt.create(t,"or")}}function rg(n){if(He(n instanceof yt||n instanceof Rt,11850),n instanceof yt)return n;const e=n.getFilters();if(e.length===1)return rg(e[0]);if(KP(n))return n;const t=e.map((i=>rg(i))),r=[];return t.forEach((i=>{i instanceof yt?r.push(i):i instanceof Rt&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Rt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.Cn=new T2}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(di.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class T2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nt(_t.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="IndexedDbIndexManager",cp=new Uint8Array(0);class uF{constructor(e,t){this.databaseId=t,this.vn=new T2,this.Fn=new fo((r=>Pl(r)),((r,i)=>vf(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const s={collectionId:r,parent:pr(i)};return Ub(e).put(s)}return Z.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[_P(t),""],!1,!0);return Ub(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==t)break;r.push(Es(a.parent))}return r}))}addFieldIndex(e,t){const r=zd(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(t);delete i.indexId;const s=r.add(i);if(t.indexState){const a=Fc(e);return s.next((c=>{a.put(Db(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return s.next()}deleteFieldIndex(e,t){const r=zd(e),i=Fc(e),s=Oc(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=zd(e),r=Oc(e),i=Fc(e);return t.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,t){return Z.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new Vb(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,t){const r=Oc(e);let i=!0;const s=new Map;return Z.forEach(this.Mn(t),(a=>this.xn(e,a).next((c=>{i&&(i=!!c),s.set(a,c)})))).next((()=>{if(i){let a=ct();const c=[];return Z.forEach(s,((u,h)=>{Te(zb,`Using index ${(function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map((U=>`${U.fieldPath}:${U.kind}`)).join(",")}`})(u)} to execute ${Pl(t)}`);const p=(function(F,U){const $=uv(U);if($===void 0)return null;for(const J of eg(F,$.fieldPath))switch(J.op){case"array-contains-any":return J.value.arrayValue.values||[];case"array-contains":return[J.value]}return null})(h,u),g=(function(F,U){const $=new Map;for(const J of il(U))for(const x of eg(F,J.fieldPath))switch(x.op){case"==":case"in":$.set(J.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return $.set(J.fieldPath.canonicalString(),x.value),Array.from($.values())}return null})(h,u),_=(function(F,U){const $=[];let J=!0;for(const x of il(U)){const R=x.kind===0?yb(F,x.fieldPath,F.startAt):vb(F,x.fieldPath,F.startAt);$.push(R.value),J&&(J=R.inclusive)}return new pa($,J)})(h,u),v=(function(F,U){const $=[];let J=!0;for(const x of il(U)){const R=x.kind===0?vb(F,x.fieldPath,F.endAt):yb(F,x.fieldPath,F.endAt);$.push(R.value),J&&(J=R.inclusive)}return new pa($,J)})(h,u),I=this.On(u,h,_),T=this.On(u,h,v),b=this.Nn(u,h,g),C=this.Bn(u.indexId,p,I,_.inclusive,T,v.inclusive,b);return Z.forEach(C,(D=>r.Y(D,t.limit).next((F=>{F.forEach((U=>{const $=xe.fromSegments(U.documentKey);a.has($)||(a=a.add($),c.push($))}))}))))})).next((()=>c))}return Z.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=lF(Rt.create(e.filters,"and")).map((r=>Ev(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,i,s,a,c){const u=(t!=null?t.length:1)*Math.max(r.length,s.length),h=u/(t!=null?t.length:1),p=[];for(let g=0;g<u;++g){const _=t?this.Ln(t[g/h]):cp,v=this.kn(e,_,r[g%h],i),I=this.qn(e,_,s[g%h],a),T=c.map((b=>this.kn(e,_,b,!0)));p.push(...this.createRange(v,I,T))}return p}kn(e,t,r,i){const s=new dl(e,xe.empty(),t,r);return i?s:s.An()}qn(e,t,r,i){const s=new dl(e,xe.empty(),t,r);return i?s.An():s}xn(e,t){const r=new Vb(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const c of s)r.yn(c)&&(!a||c.fields.length>a.fields.length)&&(a=c);return a}))}getIndexType(e,t){let r=2;const i=this.Mn(t);return Z.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(u){let h=new Nt(Yt.comparator),p=!1;for(const g of u.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?p=!0:h=h.add(_.field));for(const g of u.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(p?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(t)&&i.length>1&&r===2?1:r))}Qn(e,t){const r=new Bd;for(const i of il(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);ul.Kt.Dt(s,a)}return r.un()}Ln(e){const t=new Bd;return ul.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Bd;return ul.Kt.Dt(Cl(this.databaseId,t),r.Pn((function(s){const a=il(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new Bd);let s=0;for(const a of il(e)){const c=r[s++];for(const u of i)if(this.Un(t,a.fieldPath)&&zh(c))i=this.Kn(i,a,c);else{const h=u.Pn(a.kind);ul.Kt.Dt(c,h)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const c of i){const u=new Bd;u.seed(c.un()),ul.Kt.Dt(a,u.Pn(t.kind)),s.push(u)}return s}Un(e,t){return!!e.filters.find((r=>r instanceof yt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=zd(e),i=Fc(e);return(t?r.J(hv,IDBKeyRange.bound(t,t)):r.J()).next((s=>{const a=[];return Z.forEach(s,(c=>i.get([c.indexId,this.uid]).next((u=>{a.push((function(p,g){const _=g?new xh(g.sequenceNumber,new di(Nl(g.readTime),new xe(Es(g.documentKey)),g.largestBatchId)):xh.empty(),v=p.fields.map((([I,T])=>new Sp(Yt.fromServerFormat(I),T)));return new Qp(p.indexId,p.collectionGroup,v,_)})(c,u))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:at(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=zd(e),s=Fc(e);return this.Gn(e).next((a=>i.J(hv,IDBKeyRange.bound(t,t)).next((c=>Z.forEach(c,(u=>s.put(Db(u.indexId,this.uid,a,r))))))))}updateIndexEntries(e,t){const r=new Map;return Z.forEach(t,((i,s)=>{const a=r.get(i.collectionGroup);return(a?Z.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Z.forEach(c,(u=>this.zn(e,i,u).next((h=>{const p=this.jn(s,u);return h.isEqual(p)?Z.resolve():this.Jn(e,s,u,h,p)})))))))}))}Hn(e,t,r,i){return Oc(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return Oc(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=Oc(e);let s=new Nt(jo);return i.ee({index:NP,range:IDBKeyRange.only([r.indexId,this.uid,xp(this.$n(r,t))])},((a,c)=>{s=s.add(new dl(r.indexId,t,Mb(c.arrayValue),Mb(c.directionalValue)))})).next((()=>s))}jn(e,t){let r=new Nt(jo);const i=this.Qn(t,e);if(i==null)return r;const s=uv(t);if(s!=null){const a=e.data.field(s.fieldPath);if(zh(a))for(const c of a.arrayValue.values||[])r=r.add(new dl(t.indexId,e.key,this.Ln(c),i))}else r=r.add(new dl(t.indexId,e.key,cp,i));return r}Jn(e,t,r,i,s){Te(zb,"Updating index entries for document '%s'",t.key);const a=[];return(function(u,h,p,g,_){const v=u.getIterator(),I=h.getIterator();let T=xc(v),b=xc(I);for(;T||b;){let C=!1,D=!1;if(T&&b){const F=p(T,b);F<0?D=!0:F>0&&(C=!0)}else T!=null?D=!0:C=!0;C?(g(b),b=xc(I)):D?(_(T),T=xc(v)):(T=xc(v),b=xc(I))}})(i,s,jo,(c=>{a.push(this.Hn(e,t,r,c))}),(c=>{a.push(this.Yn(e,t,r,c))})),Z.waitFor(a)}Gn(e){let t=1;return Fc(e).ee({index:RP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((a,c)=>jo(a,c))).filter(((a,c,u)=>!c||jo(a,u[c-1])!==0));const i=[];i.push(e);for(const a of r){const c=jo(a,e),u=jo(a,t);if(c===0)i[0]=e.An();else if(c>0&&u<0)i.push(a),i.push(a.An());else if(u>0)break}i.push(t);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const c=i[a].Vn(this.uid,cp,xe.empty()),u=i[a+1].Vn(this.uid,cp,xe.empty());s.push(IDBKeyRange.bound(c,u))}return s}Zn(e,t){return jo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jb)}getMinOffset(e,t){return Z.mapArray(this.Mn(t),(r=>this.xn(e,r).next((i=>i||Ve(44426))))).next(jb)}}function Ub(n){return Ln(n,Mh)}function Oc(n){return Ln(n,dh)}function zd(n){return Ln(n,s2)}function Fc(n){return Ln(n,uh)}function jb(n){He(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;n2(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new di(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FA=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n,e,t){const r=n.store(Ki),i=n.store(au),s=[],a=IDBKeyRange.only(t.batchId);let c=0;const u=r.ee({range:a},((p,g,_)=>(c++,_.delete())));s.push(u.next((()=>{He(c===1,47070,{batchId:t.batchId})})));const h=[];for(const p of t.mutations){const g=PP(e,p.key.path,t.batchId);s.push(i.delete(g)),h.push(p.key)}return Z.waitFor(s).next((()=>h))}function ig(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ve(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(FA,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class n_{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){He(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new n_(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wo(e).ee({index:ml,range:r},((i,s,a)=>{t=!1,a.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const s=Wc(e),a=Wo(e);return a.add({}).next((c=>{He(typeof c=="number",49019);const u=new p2(c,t,r,i),h=(function(v,I,T){const b=T.baseMutations.map((D=>Wh(v.yt,D))),C=T.mutations.map((D=>Wh(v.yt,D)));return{userId:I,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:b,mutations:C}})(this.serializer,this.userId,u),p=[];let g=new Nt(((_,v)=>at(_.canonicalString(),v.canonicalString())));for(const _ of i){const v=PP(this.userId,_.key.path,c);g=g.add(_.key.path.popLast()),p.push(a.put(h)),p.push(s.put(v,H7))}return g.forEach((_=>{p.push(this.indexManager.addToCollectionParentIndex(e,_))})),e.addOnCommittedListener((()=>{this.Xn[c]=u.keys()})),Z.waitFor(p).next((()=>u))}))}lookupMutationBatch(e,t){return Wo(e).get(t).next((r=>r?(He(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),cl(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Z.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Wo(e).ee({index:ml,range:i},((a,c,u)=>{c.userId===this.userId&&(He(c.batchId>=r,47524,{tr:r}),s=cl(this.serializer,c)),u.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ra;return Wo(e).ee({index:ml,range:t,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ra],[this.userId,Number.POSITIVE_INFINITY]);return Wo(e).J(ml,t).next((r=>r.map((i=>cl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Cp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Wc(e).ee({range:i},((a,c,u)=>{const[h,p,g]=a,_=Es(p);if(h===this.userId&&t.path.isEqual(_))return Wo(e).get(g).next((v=>{if(!v)throw Ve(61480,{nr:a,batchId:g});He(v.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:v.userId,batchId:g}),s.push(cl(this.serializer,v))}));u.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(at);const i=[];return t.forEach((s=>{const a=Cp(this.userId,s.path),c=IDBKeyRange.lowerBound(a),u=Wc(e).ee({range:c},((h,p,g)=>{const[_,v,I]=h,T=Es(v);_===this.userId&&s.path.isEqual(T)?r=r.add(I):g.done()}));i.push(u)})),Z.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Cp(this.userId,r),a=IDBKeyRange.lowerBound(s);let c=new Nt(at);return Wc(e).ee({range:a},((u,h,p)=>{const[g,_,v]=u,I=Es(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(c=c.add(v)):p.done()})).next((()=>this.rr(e,c)))}rr(e,t){const r=[],i=[];return t.forEach((s=>{i.push(Wo(e).get(s).next((a=>{if(a===null)throw Ve(35274,{batchId:s});He(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(cl(this.serializer,a))})))})),Z.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return MA(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Z.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Z.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return Wc(e).ee({range:r},((s,a,c)=>{if(s[0]===this.userId){const u=Es(s[1]);i.push(u)}else c.done()})).next((()=>{He(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,t){return VA(e,this.userId,t)}_r(e){return BA(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:ra,lastStreamToken:""}))}}function VA(n,e,t){const r=Cp(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Wc(n).ee({range:s,X:!0},((c,u,h)=>{const[p,g,_]=c;p===e&&g===i&&(a=!0),h.done()})).next((()=>a))}function Wo(n){return Ln(n,Ki)}function Wc(n){return Ln(n,au)}function BA(n){return Ln(n,Oh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dl(0)}static cr(){return new Dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Dl(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Je.fromTimestamp(new Pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Mc(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(He(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let i=0;const s=[];return Mc(e).ee(((a,c)=>{const u=eh(c);u.sequenceNumber<=t&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))})).next((()=>Z.waitFor(s))).next((()=>i))}forEachTarget(e,t){return Mc(e).ee(((r,i)=>{const s=eh(i);t(s)}))}lr(e){return Hb(e).get(Xp).next((t=>(He(t!==null,2888),t)))}hr(e,t){return Hb(e).put(Xp,t)}Pr(e,t){return Mc(e).put(xA(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Pl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Mc(e).ee({range:i,index:kP},((a,c,u)=>{const h=eh(c);vf(t,h.target)&&(s=h,u.done())})).next((()=>s))}addMatchingKeys(e,t,r){const i=[],s=qo(e);return t.forEach((a=>{const c=pr(a.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,a))})),Z.waitFor(i)}removeMatchingKeys(e,t,r){const i=qo(e);return Z.forEach(t,(s=>{const a=pr(s.path);return Z.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,t){const r=qo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=qo(e);let s=ct();return i.ee({range:r,X:!0},((a,c,u)=>{const h=Es(a[1]),p=new xe(h);s=s.add(p)})).next((()=>s))}containsKey(e,t){const r=pr(t.path),i=IDBKeyRange.bound([r],[_P(r)],!1,!0);let s=0;return qo(e).ee({index:i2,X:!0,range:i},(([a,c],u,h)=>{a!==0&&(s++,h.done())})).next((()=>s>0))}At(e,t){return Mc(e).get(t).next((r=>r?eh(r):null))}}function Mc(n){return Ln(n,lu)}function Hb(n){return Ln(n,wl)}function qo(n){return Ln(n,cu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="LruGarbageCollector",hF=1048576;function qb([n,e],[t,r]){const i=at(n,t);return i===0?at(e,r):i}class fF{constructor(e){this.Ir=e,this.buffer=new Nt(qb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();qb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(Gb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Aa(t)?Te(Gb,"Ignoring IndexedDB error during garbage collection: ",t):await Pa(t)}await this.Vr(3e5)}))}}class mF{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(jr.ce);const r=new fF(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Wb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,a,c,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,t)))).next((g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Bc()<=ft.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function UA(n,e){return new mF(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,t){this.db=e,this.garbageCollector=UA(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,i)=>t(i)))}addReference(e,t,r){return up(e,r)}removeReference(e,t,r){return up(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return up(e,t)}br(e,t){return(function(i,s){let a=!1;return BA(i).te((c=>VA(i,c,s).next((u=>(u&&(a=!0),Z.resolve(!u)))))).next((()=>a))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,c)=>{if(c<=t){const u=this.br(e,a).next((h=>{if(!h)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Je.min()),qo(e).delete((function(g){return[0,pr(g.path)]})(a)))))}));i.push(u)}})).next((()=>Z.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return up(e,t)}Sr(e,t){const r=qo(e);let i,s=jr.ce;return r.ee({index:i2},(([a,c],{path:u,sequenceNumber:h})=>{a===0?(s!==jr.ce&&t(new xe(Es(i)),s),s=h,i=u):s=jr.ce})).next((()=>{s!==jr.ce&&t(new xe(Es(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function up(n,e){return qo(n).put((function(r,i){return{targetId:0,path:pr(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.changes=new fo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return nl(e).put(r)}removeEntry(e,t,r){return nl(e).delete((function(s,a){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ng(a),c[c.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Gt.newInvalidDocument(t);return nl(e).ee({index:Pp,range:IDBKeyRange.only(Ud(t))},((i,s)=>{r=this.Cr(t,s)})).next((()=>r))}vr(e,t){let r={size:0,document:Gt.newInvalidDocument(t)};return nl(e).ee({index:Pp,range:IDBKeyRange.only(Ud(t))},((i,s)=>{r={document:this.Cr(t,s),size:ig(s)}})).next((()=>r))}getEntries(e,t){let r=Hr();return this.Fr(e,t,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,t){let r=Hr(),i=new ln(xe.comparator);return this.Fr(e,t,((s,a)=>{const c=this.Cr(s,a);r=r.insert(s,c),i=i.insert(s,ig(a))})).next((()=>({documents:r,Or:i})))}Fr(e,t,r){if(t.isEmpty())return Z.resolve();let i=new Nt(Qb);t.forEach((u=>i=i.add(u)));const s=IDBKeyRange.bound(Ud(i.first()),Ud(i.last())),a=i.getIterator();let c=a.getNext();return nl(e).ee({index:Pp,range:s},((u,h,p)=>{const g=xe.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&Qb(c,g)<0;)r(c,null),c=a.getNext();c&&c.isEqual(g)&&(r(c,h),c=a.hasNext()?a.getNext():null),c?p.j(Ud(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,s){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),ng(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nl(e).J(IDBKeyRange.bound(c,u,!0)).next((h=>{s==null||s.incrementDocumentReadCount(h.length);let p=Hr();for(const g of h){const _=this.Cr(xe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(Ef(t,_)||i.has(_.key))&&(p=p.insert(_.key,_))}return p}))}getAllFromCollectionGroup(e,t,r,i){let s=Hr();const a=Kb(t,r),c=Kb(t,di.max());return nl(e).ee({index:AP,range:IDBKeyRange.bound(a,c,!0)},((u,h,p)=>{const g=this.Cr(xe.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&p.done()})).next((()=>s))}newChangeBuffer(e){return new _F(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return $b(e).get(dv).next((t=>(He(!!t,20021),t)))}Dr(e,t){return $b(e).put(dv,t)}Cr(e,t){if(t){const r=tF(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Je.min())))return r}return Gt.newInvalidDocument(e)}}function WA(n){return new gF(n)}class _F extends jA{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new fo((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new Nt(((s,a)=>at(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const c=this.Br.get(s);if(t.push(this.Nr.removeEntry(e,s,c.readTime)),a.isValidDocument()){const u=Rb(this.Nr.serializer,a);i=i.add(s.path.popLast());const h=ig(u);r+=h-c.size,t.push(this.Nr.addEntry(e,s,u))}else if(r-=c.size,this.trackRemovals){const u=Rb(this.Nr.serializer,a.convertToNoDocument(Je.min()));t.push(this.Nr.addEntry(e,s,u))}})),i.forEach((s=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),t.push(this.Nr.updateMetadata(e,r)),Z.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function $b(n){return Ln(n,Fh)}function nl(n){return Ln(n,Jp)}function Ud(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Kb(n,e){const t=e.documentKey.path.toArray();return[n,ng(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Qb(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=at(t[s],r[s]),i)return i;return i=at(t.length,r.length),i||(i=at(t[t.length-2],r[r.length-2]),i||at(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&mh(r.mutation,i,Wr.empty(),Pt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ct()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ct()){const i=Ts();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let a=Xd();return s.forEach(((c,u)=>{a=a.insert(c,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const r=Ts();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ct())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,c)=>{t.set(a,c)}))}))}computeViews(e,t,r,i){let s=Hr();const a=fh(),c=(function(){return fh()})();return t.forEach(((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof mo)?s=s.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),mh(p.mutation,h,p.mutation.getFieldMask(),Pt.now())):a.set(h.key,Wr.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((h,p)=>a.set(h,p))),t.forEach(((h,p)=>c.set(h,new yF(p,a.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=fh();let i=new ln(((a,c)=>a-c)),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const c of a)c.keys().forEach((u=>{const h=t.get(u);if(h===null)return;let p=r.get(u)||Wr.empty();p=c.applyToLocalView(h,p),r.set(u,p);const g=(i.get(c.batchId)||ct()).add(u);i=i.insert(c.batchId,g)}))})).next((()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,p=u.value,g=oA();p.forEach((_=>{if(!s.has(_)){const v=fA(t.get(_),r.get(_));v!==null&&g.set(_,v),s=s.add(_)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Z.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(a){return xe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):d2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Z.resolve(Ts());let c=ou,u=s;return a.next((h=>Z.forEach(h,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(p)?Z.resolve():this.remoteDocumentCache.getEntry(e,p).next((_=>{u=u.insert(p,_)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,u,h,ct()))).next((p=>({batchId:c,changes:sA(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((r=>{let i=Xd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=Xd();return this.indexManager.getCollectionParents(e,s).next((c=>Z.forEach(c,(u=>{const h=(function(g,_){return new ho(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,_)=>{a=a.insert(g,_)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((a=>{s.forEach(((u,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,Gt.newInvalidDocument(p)))}));let c=Xd();return a.forEach(((u,h)=>{const p=s.get(u);p!==void 0&&mh(p.mutation,h,Wr.empty(),Pt.now()),Ef(t,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:_n(i.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:w2(i.bundledQuery),readTime:_n(i.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.overlays=new ln(xe.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ts();return Z.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=Ts(),s=t.length+1,a=new xe(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ln(((h,p)=>h-p));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Ts(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Ts(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return Z.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new _2(t,r));let s=this.qr.get(t);s===void 0&&(s=ct(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.Qr=new Nt(jn.$r),this.Ur=new Nt(jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new jn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new jn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new xe(new _t([])),r=new jn(t,e),i=new jn(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xe(new _t([])),r=new jn(t,e),i=new jn(t,e+1);let s=ct();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new jn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xe.comparator(e.key,t.key)||at(e.Yr,t.Yr)}static Kr(e,t){return at(e.Yr,t.Yr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(jn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new p2(s,t,r,i);this.mutationQueue.push(a);for(const c of i)this.Zr=this.Zr.add(new jn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ra:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jn(t,0),i=new jn(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const c=this.Xr(a.Yr);s.push(c)})),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(at);return t.forEach((i=>{const s=new jn(i,0),a=new jn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(c=>{r=r.add(c.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;xe.isDocumentKey(s)||(s=s.child(""));const a=new jn(new xe(s),0);let c=new Nt(at);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.Yr)),!0)}),a),Z.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){He(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(t.mutations,(i=>{const s=new jn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new jn(t,0),i=this.Zr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.ri=e,this.docs=(function(){return new ln(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=Hr();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Hr();const a=t.path,c=new xe(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||n2(TP(p),r)<=0||(i.has(p.key)||Ef(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Z.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ve(9500)}ii(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new bF(this)}getSize(e){return Z.resolve(this.size)}}class bF extends jA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.persistence=e,this.si=new fo((t=>Pl(t)),vf),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new I2,this.targetCount=0,this.ai=Dl.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Dl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((a,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Z.waitFor(s).next((()=>i))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),Z.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t){this.ui={},this.overlays={},this.ci=new jr(0),this.li=!1,this.li=!0,this.hi=new EF,this.referenceDelegate=e(this),this.Pi=new SF(this),this.indexManager=new cF,this.remoteDocumentCache=(function(i){return new IF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new DA(t),this.Ii=new vF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new TF(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const i=new CF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class CF extends bP{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.Ri=new I2,this.Vi=null}static mi(e){return new r_(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const i=xe.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,Je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class sg{constructor(e,t){this.persistence=e,this.pi=new fo((r=>pr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=UA(this,t)}static mi(e,t){return new sg(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Z.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Z.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,t).next((c=>{c||(r++,s.removeEntry(a,Je.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kp(e.data.value)),t}br(e,t,r){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.serializer=e}k(e,t,r,i){const s=new qg("createOrUpgrade",t);r<1&&i>=1&&((function(u){u.createObjectStore(yf)})(e),(function(u){u.createObjectStore(Oh,{keyPath:W7}),u.createObjectStore(Ki,{keyPath:ob,autoIncrement:!0}).createIndex(ml,ab,{unique:!0}),u.createObjectStore(au)})(e),Yb(e),(function(u){u.createObjectStore(sl)})(e));let a=Z.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(cu),u.deleteObjectStore(lu),u.deleteObjectStore(wl)})(e),Yb(e)),a=a.next((()=>(function(u){const h=u.store(wl),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Je.min().toTimestamp(),targetCount:0};return h.put(Xp,p)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(u,h){return h.store(Ki).J().next((g=>{u.deleteObjectStore(Ki),u.createObjectStore(Ki,{keyPath:ob,autoIncrement:!0}).createIndex(ml,ab,{unique:!0});const _=h.store(Ki),v=g.map((I=>_.put(I)));return Z.waitFor(v)}))})(e,s)))),a=a.next((()=>{(function(u){u.createObjectStore(uu,{keyPath:X7})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(u){u.createObjectStore(Fh)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(u){u.createObjectStore($g,{keyPath:Z7})})(e),(function(u){u.createObjectStore(Kg,{keyPath:eO})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(u){const h=u.createObjectStore(Qg,{keyPath:aO});h.createIndex(fv,lO,{unique:!1}),h.createIndex(DP,cO,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(u){const h=u.createObjectStore(Jp,{keyPath:G7});h.createIndex(Pp,q7),h.createIndex(AP,$7)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(sl)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(u){u.createObjectStore(s2,{keyPath:tO,autoIncrement:!0}).createIndex(hv,nO,{unique:!1}),u.createObjectStore(uh,{keyPath:rO}).createIndex(RP,iO,{unique:!1}),u.createObjectStore(dh,{keyPath:sO}).createIndex(NP,oO,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{t.objectStore(uh).clear()})).next((()=>{t.objectStore(dh).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(o2,{keyPath:uO})})(e)}))),r<18&&i>=18&&YS()&&(a=a.next((()=>{t.objectStore(uh).clear()})).next((()=>{t.objectStore(dh).clear()}))),a}wi(e){let t=0;return e.store(sl).ee(((r,i)=>{t+=ig(i)})).next((()=>{const r={byteSize:t};return e.store(Fh).put(dv,r)}))}yi(e){const t=e.store(Oh),r=e.store(Ki);return t.J().next((i=>Z.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,ra],[s.userId,s.lastAcknowledgedBatchId]);return r.J(ml,a).next((c=>Z.forEach(c,(u=>{He(u.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const h=cl(this.serializer,u);return MA(e,s.userId,h).next((()=>{}))}))))}))))}Si(e){const t=e.store(cu),r=e.store(sl);return e.store(wl).get(Xp).next((i=>{const s=[];return r.ee(((a,c)=>{const u=new _t(a),h=(function(g){return[0,pr(g)]})(u);s.push(t.get(h).next((p=>p?Z.resolve():(g=>t.put({targetId:0,path:pr(g),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>Z.waitFor(s)))}))}bi(e,t){e.createObjectStore(Mh,{keyPath:J7});const r=t.store(Mh),i=new T2,s=a=>{if(i.add(a)){const c=a.lastSegment(),u=a.popLast();return r.put({collectionId:c,parent:pr(u)})}};return t.store(sl).ee({X:!0},((a,c)=>{const u=new _t(a);return s(u.popLast())})).next((()=>t.store(au).ee({X:!0},(([a,c,u],h)=>{const p=Es(c);return s(p.popLast())}))))}Di(e){const t=e.store(lu);return t.ee(((r,i)=>{const s=eh(i),a=xA(this.serializer,s);return t.put(a)}))}Ci(e,t){const r=t.store(sl),i=[];return r.ee(((s,a)=>{const c=t.store(Jp),u=(function(g){return g.document?new xe(_t.fromString(g.document.name).popFirst(5)):g.noDocument?xe.fromSegments(g.noDocument.path):g.unknownDocument?xe.fromSegments(g.unknownDocument.path):Ve(36783)})(a).path.toArray(),h={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(c.put(h))})).next((()=>Z.waitFor(i)))}Fi(e,t){const r=t.store(Ki),i=WA(this.serializer),s=new b2(r_.mi,this.serializer.yt);return r.J().next((a=>{const c=new Map;return a.forEach((u=>{let h=c.get(u.userId)??ct();cl(this.serializer,u).keys().forEach((p=>h=h.add(p))),c.set(u.userId,h)})),Z.forEach(c,((u,h)=>{const p=new Hn(h),g=t_.wt(this.serializer,p),_=s.getIndexManager(p),v=n_.wt(p,this.serializer,_,s.referenceDelegate);return new HA(i,v,g,_).recalculateAndSaveOverlaysForDocumentKeys(new mv(t,jr.ce),u).next()}))}))}}function Yb(n){n.createObjectStore(cu,{keyPath:Q7}).createIndex(i2,Y7,{unique:!0}),n.createObjectStore(lu,{keyPath:"targetId"}).createIndex(kP,K7,{unique:!0}),n.createObjectStore(wl)}const Ho="IndexedDbPersistence",R1=18e5,N1=5e3,D1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",GA="main";class S2{constructor(e,t,r,i,s,a,c,u,h,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=s,this.window=a,this.document=c,this.xi=h,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=_=>Promise.resolve(),!S2.v())throw new we(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pF(this,i),this.$i=t+GA,this.serializer=new DA(u),this.Ui=new Is(this.$i,this.Ni,new PF(this.serializer)),this.hi=new rF,this.Pi=new dF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WA(this.serializer),this.Ii=new nF,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&gn(Ho,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(oe.FAILED_PRECONDITION,D1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new jr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>dp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Aa(e))return Te(Ho,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Te(Ho,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return jd(e).get(Dc).next((t=>Z.resolve(this.es(t))))}ts(e){return dp(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,R1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Ln(t,uu);return r.J().next((i=>{const s=this.ss(i,R1),a=i.filter((c=>s.indexOf(c)===-1));return Z.forEach(a,(c=>r.delete(c.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Z.resolve(!0):jd(e).get(Dc).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,N1)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new we(oe.FAILED_PRECONDITION,D1);return!1}}return!(!this.networkEnabled||!this.inForeground)||dp(e).J().next((r=>this.ss(r,N1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||a&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&Te(Ho,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[yf,uu],(e=>{const t=new mv(e,jr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>dp(e).J().next((t=>this.ss(t,R1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return n_.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uF(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return t_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){Te(Ho,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=(function(u){return u===18?fO:u===17?FP:u===16?hO:u===15?a2:u===14?OP:u===13?LP:u===12?dO:u===11?xP:void Ve(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(c=>(a=new mv(c,this.ci?this.ci.next():jr.ce),t==="readwrite-primary"?this.Hi(a).next((u=>!!u||this.Yi(a))).next((u=>{if(!u)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new we(oe.FAILED_PRECONDITION,IP);return r(a)})).next((u=>this.Xi(a).next((()=>u)))):this.Is(a).next((()=>r(a)))))).then((c=>(a.raiseOnCommittedEvent(),c)))}Is(e){return jd(e).get(Dc).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,N1)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new we(oe.FAILED_PRECONDITION,D1)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jd(e).put(Dc,t)}static v(){return Is.v()}Zi(e){const t=jd(e);return t.get(Dc).next((r=>this.es(r)?(Te(Ho,"Releasing primary lease."),t.delete(Dc)):Z.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(gn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;QS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const r=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return Te(Ho,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gn(Ho,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jd(n){return Ln(n,yf)}function dp(n){return Ln(n,uu)}function C2(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=ct(),i=ct();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new P2(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QS()?8:SP(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new AF;return this.Ss(e,t,a).next((c=>{if(s.result=c,this.Vs)return this.bs(e,t,a,c.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Bc()<=ft.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Bc()<=ft.DEBUG&&Te("QueryEngine","Query:",zc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Bc()<=ft.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):Z.resolve())}ys(e,t){if(wb(t))return Z.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=tg(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=ct(...s);return this.ps.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.Ds(t,c);return this.Cs(t,h,a,u.readTime)?this.ys(e,tg(t,null,"F")):this.vs(e,h,t,u)}))))})))))}ws(e,t,r,i){return wb(t)||i.isEqual(Je.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(t,s);return this.Cs(t,a,r,i)?Z.resolve(null):(Bc()<=ft.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zc(t)),this.vs(e,a,t,EP(i,ou)).next((c=>c)))}))}Ds(e,t){let r=new Nt(rA(e));return t.forEach(((i,s)=>{Ef(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Bc()<=ft.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",zc(t)),this.ps.getDocumentsMatchingQuery(e,t,di.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="LocalStore",kF=3e8;class RF{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ln(at),this.xs=new fo((s=>Pl(s)),vf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function $A(n,e,t,r){return new RF(n,e,t,r)}async function KA(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],c=[];let u=ct();for(const h of i){a.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:c})))}))}))}function NF(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,p){const g=h.batch,_=g.keys();let v=Z.resolve();return _.forEach((I=>{v=v.next((()=>p.getEntry(u,I))).next((T=>{const b=h.docVersions.get(I);He(b!==null,48541),T.version.compareTo(b)<0&&(g.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),p.addEntry(T)))}))})),v.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ct();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function QA(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function DF(n,e){const t=Oe(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((p,g)=>{const _=i.get(g);if(!_)return;c.push(t.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>t.Pi.addMatchingKeys(s,p.addedDocuments,g))));let v=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(dn.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(g,v),(function(T,b,C){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=kF?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(_,v,p)&&c.push(t.Pi.updateTargetData(s,v))}));let u=Hr(),h=ct();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(YA(s,a,e.documentUpdates).next((p=>{u=p.ks,h=p.qs}))),!r.isEqual(Je.min())){const p=t.Pi.getLastRemoteSnapshotVersion(s).next((g=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return Z.waitFor(c).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,u,h))).next((()=>u))})).then((s=>(t.Ms=i,s)))}function YA(n,e,t){let r=ct(),i=ct();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let a=Hr();return t.forEach(((c,u)=>{const h=s.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Je.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):Te(A2,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:a,qs:i}}))}function xF(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ra),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _u(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,Z.resolve(i)):t.Pi.allocateTargetId(r).next((a=>(i=new Qs(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function yu(n,e,t){const r=Oe(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Aa(a))throw a;Te(A2,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function og(n,e,t){const r=Oe(n);let i=Je.min(),s=ct();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,h,p){const g=Oe(u),_=g.xs.get(p);return _!==void 0?Z.resolve(g.Ms.get(_)):g.Pi.getTargetData(h,p)})(r,a,Sr(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,c.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,t?i:Je.min(),t?s:ct()))).next((c=>(ZA(r,nA(e),c),{documents:c,Qs:s})))))}function JA(n,e){const t=Oe(n),r=Oe(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function XA(n,e){const t=Oe(n),r=t.Os.get(e)||Je.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.Ns.getAllFromCollectionGroup(i,e,EP(r,ou),Number.MAX_SAFE_INTEGER))).then((i=>(ZA(t,e,i),i)))}function ZA(n,e,t){let r=n.Os.get(e)||Je.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}async function LF(n,e,t,r){const i=Oe(n);let s=ct(),a=Hr();for(const h of t){const p=e.$s(h.metadata.name);h.document&&(s=s.add(p));const g=e.Us(h);g.setReadTime(e.Ks(h.metadata.readTime)),a=a.insert(p,g)}const c=i.Ns.newChangeBuffer({trackRemovals:!0}),u=await _u(i,(function(p){return Sr(Vu(_t.fromString(`__bundle__/docs/${p}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(h=>YA(h,c,a).next((p=>(c.apply(h),p))).next((p=>i.Pi.removeMatchingKeysForTargetId(h,u.targetId).next((()=>i.Pi.addMatchingKeys(h,s,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p.ks,p.qs))).next((()=>p.ks))))))}async function OF(n,e,t=ct()){const r=await _u(n,Sr(w2(e.bundledQuery))),i=Oe(n);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=_n(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const c=r.withResumeToken(dn.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(c.targetId,c),i.Pi.updateTargetData(s,c).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,t,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="firestore_clients";function Jb(n,e){return`${ek}_${n}_${e}`}const tk="firestore_mutations";function Xb(n,e,t){let r=`${tk}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const nk="firestore_targets";function x1(n,e){return`${nk}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="SharedClientState";class ag{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new we(i.error.code,i.error.message))),a?new ag(e,t,i.state,s):(gn(ps,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ph{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new we(r.error.code,r.error.message))),s?new ph(e,r.state,i):(gn(ps,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=h2();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=CP(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new lg(e,s):(gn(ps,`Failed to parse client data for instance '${e}': ${t}`),null)}}class k2{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new k2(t.clientId,t.onlineState):(gn(ps,`Failed to parse online state: ${e}`),null)}}class Rv{constructor(){this.activeTargetIds=h2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L1{constructor(e,t,r,i,s){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new ln(at),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=Jb(this.persistenceKey,this.Js),this.no=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Rv),this.ro=new RegExp(`^${ek}_${a}_([^_]*)$`),this.io=new RegExp(`^${tk}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${nk}_${a}_(\\d+)$`),this.oo=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this._o=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(Jb(this.persistenceKey,r));if(i){const s=lg.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(x1(this.persistenceKey,e));if(i){const s=ph.Ws(e,i);s&&(r=s.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(x1(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Te(ps,"READ",e,t),t}setItem(e,t){Te(ps,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){Te(ps,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(Te(ps,"EVENT",t.key,t.newValue),t.key===this.eo)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(s){let a=jr.ce;if(s!=null)try{const c=JSON.parse(s);He(typeof c=="number",30636,{So:s}),a=c}catch(c){gn(ps,"Failed to read sequence number from WebStorage",c)}return a})(t.newValue);r!==jr.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new ag(this.currentUser,e,t,r),s=Xb(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const t=Xb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=x1(this.persistenceKey,e),s=new ph(e,t,r);this.setItem(i,s.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return lg.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ag.Ws(new Hn(s),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return ph.Ws(i,t)}uo(e){return k2.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);Te(ps,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],c=[];return s.forEach((u=>{i.has(u)||a.push(u)})),i.forEach((u=>{s.has(u)||c.push(u)})),this.syncEngine.Fo(a,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=h2();return e.forEach(((r,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class rk{constructor(){this.Mo=new Rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="ConnectivityMonitor";class e4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(Zb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(Zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp=null;function Nv(){return hp===null?hp=(function(){return 268435456+Math.round(2147483648*Math.random())})():hp++,"0x"+hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="RestConnection",MF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===gv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const a=Nv(),c=this.zo(e,t.toUriEncodedString());Te(O1,`Sending RPC '${e}' ${a}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:h}=new URL(c),p=Sa(h);return this.Jo(e,c,u,r,p).then((g=>(Te(O1,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw As(O1,`RPC '${e}' ${a} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,t,r,i,s,a){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=MF[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="WebChannelConnection";class zF extends VF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const a=Nv();return new Promise(((c,u)=>{const h=new uP;h.setWithCredentials(!0),h.listenOnce(dP.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case bp.NO_ERROR:const g=h.getResponseJson();Te(dr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),c(g);break;case bp.TIMEOUT:Te(dr,`RPC '${e}' ${a} timed out`),u(new we(oe.DEADLINE_EXCEEDED,"Request time out"));break;case bp.HTTP_ERROR:const _=h.getStatus();if(Te(dr,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const I=v==null?void 0:v.error;if(I&&I.status&&I.message){const T=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(D)>=0?D:oe.UNKNOWN})(I.status);u(new we(T,I.message))}else u(new we(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new we(oe.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(dr,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(i);Te(dr,`RPC '${e}' ${a} sending request:`,i),h.send(t,"POST",p,r,15)}))}T_(e,t,r){const i=Nv(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=mP(),c=fP(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const p=s.join("");Te(dr,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=a.createWebChannel(p,u);this.I_(g);let _=!1,v=!1;const I=new BF({Yo:b=>{v?Te(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(Te(dr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),Te(dr,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Zo:()=>g.close()}),T=(b,C,D)=>{b.listen(C,(F=>{try{D(F)}catch(U){setTimeout((()=>{throw U}),0)}}))};return T(g,Jd.EventType.OPEN,(()=>{v||(Te(dr,`RPC '${e}' stream ${i} transport opened.`),I.o_())})),T(g,Jd.EventType.CLOSE,(()=>{v||(v=!0,Te(dr,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(g))})),T(g,Jd.EventType.ERROR,(b=>{v||(v=!0,As(dr,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),I.a_(new we(oe.UNAVAILABLE,"The operation could not be completed")))})),T(g,Jd.EventType.MESSAGE,(b=>{var C;if(!v){const D=b.data[0];He(!!D,16349);const F=D,U=(F==null?void 0:F.error)||((C=F[0])==null?void 0:C.error);if(U){Te(dr,`RPC '${e}' stream ${i} received error:`,U);const $=U.status;let J=(function(L){const M=In[L];if(M!==void 0)return gA(M)})($),x=U.message;J===void 0&&(J=oe.INTERNAL,x="Unknown error status: "+$+" with message "+U.message),v=!0,I.a_(new we(J,x)),g.close()}else Te(dr,`RPC '${e}' stream ${i} received:`,D),I.u_(D)}})),T(c,hP.STAT_EVENT,(b=>{b.stat===lv.PROXY?Te(dr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===lv.NOPROXY&&Te(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return typeof window<"u"?window:null}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(n){return new GO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="PersistentStream";class sk{constructor(e,t,r,i,s,a,c,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(gn(t.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(t4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Te(t4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UF extends sk{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=KO(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Je.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Je.min():a.readTime?_n(a.readTime):Je.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Sv(this.serializer),t.addTarget=(function(s,a){let c;const u=a.target;if(c=Zp(u)?{documents:CA(s,u)}:{query:PA(s,u).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=wA(s,a.resumeToken);const h=Iv(s,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(Je.min())>0){c.readTime=gu(s,a.snapshotVersion.toTimestamp());const h=Iv(s,a.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=YO(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Sv(this.serializer),t.removeTarget=e,this.q_(t)}}class jF extends sk{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=QO(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Sv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Wh(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{}class HF extends WF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,bv(t,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(oe.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Ho(e,bv(t,r),i,a,c,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(oe.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gn(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="RemoteStore";class qF{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Ra(this)&&(Te(xl,"Restarting streams for network reachability change."),await(async function(u){const h=Oe(u);h.Ea.add(4),await Uu(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Cf(h)})(this))}))})),this.Ra=new GF(r,i)}}async function Cf(n){if(Ra(n))for(const e of n.da)await e(!0)}async function Uu(n){for(const e of n.da)await e(!1)}function i_(n,e){const t=Oe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),x2(t)?D2(t):Wu(t).O_()&&N2(t,e))}function vu(n,e){const t=Oe(n),r=Wu(t);t.Ia.delete(e),r.O_()&&ok(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ra(t)&&t.Ra.set("Unknown"))}function N2(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wu(n).Y_(e)}function ok(n,e){n.Va.Ue(e),Wu(n).Z_(e)}function D2(n){n.Va=new UO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Wu(n).start(),n.Ra.ua()}function x2(n){return Ra(n)&&!Wu(n).x_()&&n.Ia.size>0}function Ra(n){return Oe(n).Ea.size===0}function ak(n){n.Va=void 0}async function $F(n){n.Ra.set("Online")}async function KF(n){n.Ia.forEach(((e,t)=>{N2(n,e)}))}async function QF(n,e){ak(n),x2(n)?(n.Ra.ha(e),D2(n)):n.Ra.set("Unknown")}async function YF(n,e,t){if(n.Ra.set("Online"),e instanceof vA&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.Ia.delete(c),i.Va.removeTarget(c))})(n,e)}catch(r){Te(xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cg(n,r)}else if(e instanceof Dp?n.Va.Ze(e):e instanceof yA?n.Va.st(e):n.Va.tt(e),!t.isEqual(Je.min()))try{const r=await QA(n.localStore);t.compareTo(r)>=0&&await(function(s,a){const c=s.Va.Tt(a);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(u.resumeToken,a))}})),c.targetMismatches.forEach(((u,h)=>{const p=s.Ia.get(u);if(!p)return;s.Ia.set(u,p.withResumeToken(dn.EMPTY_BYTE_STRING,p.snapshotVersion)),ok(s,u);const g=new Qs(p.target,u,h,p.sequenceNumber);N2(s,g)})),s.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Te(xl,"Failed to raise snapshot:",r),await cg(n,r)}}async function cg(n,e,t){if(!Aa(e))throw e;n.Ea.add(1),await Uu(n),n.Ra.set("Offline"),t||(t=()=>QA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(xl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Cf(n)}))}function lk(n,e){return e().catch((t=>cg(n,t,e)))}async function ju(n){const e=Oe(n),t=ga(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ra;for(;JF(e);)try{const i=await xF(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,XF(e,i)}catch(i){await cg(e,i)}ck(e)&&uk(e)}function JF(n){return Ra(n)&&n.Ta.length<10}function XF(n,e){n.Ta.push(e);const t=ga(n);t.O_()&&t.X_&&t.ea(e.mutations)}function ck(n){return Ra(n)&&!ga(n).x_()&&n.Ta.length>0}function uk(n){ga(n).start()}async function ZF(n){ga(n).ra()}async function eM(n){const e=ga(n);for(const t of n.Ta)e.ea(t.mutations)}async function tM(n,e,t){const r=n.Ta.shift(),i=g2.from(r,e,t);await lk(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await ju(n)}async function nM(n,e){e&&ga(n).X_&&await(async function(r,i){if((function(a){return pA(a)&&a!==oe.ABORTED})(i.code)){const s=r.Ta.shift();ga(r).B_(),await lk(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await ju(r)}})(n,e),ck(n)&&uk(n)}async function n4(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),Te(xl,"RemoteStore received new credentials");const r=Ra(t);t.Ea.add(3),await Uu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Cf(t)}async function Dv(n,e){const t=Oe(n);e?(t.Ea.delete(2),await Cf(t)):e||(t.Ea.add(2),await Uu(t),t.Ra.set("Unknown"))}function Wu(n){return n.ma||(n.ma=(function(t,r,i){const s=Oe(t);return s.sa(),new UF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:$F.bind(null,n),t_:KF.bind(null,n),r_:QF.bind(null,n),H_:YF.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),x2(n)?D2(n):n.Ra.set("Unknown")):(await n.ma.stop(),ak(n))}))),n.ma}function ga(n){return n.fa||(n.fa=(function(t,r,i){const s=Oe(t);return s.sa(),new jF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZF.bind(null,n),r_:nM.bind(null,n),ta:eM.bind(null,n),na:tM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ju(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(xl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,c=new L2(e,t,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hu(n,e){if(gn("AsyncQueue",`${e}: ${n}`),Aa(n))return new we(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{static emptySet(e){return new Xc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||xe.comparator(t.key,r.key):(t,r)=>xe.comparator(t.key,r.key),this.keyedMap=Xd(),this.sortedSet=new ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.ga=new ln(xe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class wu{constructor(e,t,r,i,s,a,c,u,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach((c=>{a.push({type:0,doc:c})})),new wu(e,t,Xc.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iM{constructor(){this.queries=i4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Oe(t),s=i.queries;i.queries=i4(),s.forEach(((a,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new we(oe.ABORTED,"Firestore shutting down"))}}function i4(){return new fo((n=>tA(n)),wf)}async function O2(n,e){const t=Oe(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new rM,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const c=Hu(a,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&M2(t)}async function F2(n,e){const t=Oe(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function sM(n,e){const t=Oe(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const c of a.Sa)c.Fa(i)&&(r=!0);a.wa=i}}r&&M2(t)}function oM(n,e,t){const r=Oe(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function M2(n){n.Ca.forEach((e=>{e.next()}))}var xv,s4;(s4=xv||(xv={})).Ma="default",s4.Cache="cache";class V2{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.serializer=e}$s(e){return bs(this.serializer,e)}Us(e){return e.metadata.exists?SA(this.serializer,e.document,!1):Gt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return _n(e)}}class lM{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=dk(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=_t.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new o4(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const c=(t.get(a)||ct()).add(s);t.set(a,c)}}return t}async ja(e){const t=await LF(e,new o4(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await OF(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function dk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.key=e}}class fk{constructor(e){this.key=e}}class mk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=rA(e),this.tu=new Xc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new r4,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const _=i.get(p),v=Ef(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),T=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;_&&v?_.data.isEqual(v.data)?I!==T&&(r.track({type:3,doc:v}),b=!0):this.su(_,v)||(r.track({type:2,doc:v}),b=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(c=!0)):!_&&v?(r.track({type:0,doc:v}),b=!0):_&&!v&&(r.track({type:1,doc:_}),b=!0,(u||h)&&(c=!0)),b&&(v?(a=a.add(v),s=T?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:c,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,g)=>(function(v,I){const T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:b})}};return T(v)-T(I)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const c=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new wu(this.query,e.tu,s,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new fk(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new hk(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ct();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Na="SyncEngine";class cM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uM{constructor(e){this.key=e,this.hu=!1}}class dM{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new fo((c=>tA(c)),wf),this.Iu=new Map,this.Eu=new Set,this.du=new ln(xe.comparator),this.Au=new Map,this.Ru=new I2,this.Vu={},this.mu=new Map,this.fu=Dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hM(n,e,t=!0){const r=s_(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await pk(r,e,t,!0),i}async function fM(n,e){const t=s_(n);await pk(t,e,!0,!1)}async function pk(n,e,t,r){const i=await _u(n.localStore,Sr(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let c;return r&&(c=await B2(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&i_(n.remoteStore,i),c}async function B2(n,e,t,r,i){n.pu=(g,_,v)=>(async function(T,b,C,D){let F=b.view.ru(C);F.Cs&&(F=await og(T.localStore,b.query,!1).then((({documents:x})=>b.view.ru(x,F))));const U=D&&D.targetChanges.get(b.targetId),$=D&&D.targetMismatches.get(b.targetId)!=null,J=b.view.applyChanges(F,T.isPrimaryClient,U,$);return Lv(T,b.targetId,J.au),J.snapshot})(n,g,_,v);const s=await og(n.localStore,e,!0),a=new mk(e,s.Qs),c=a.ru(s.documents),u=bf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(c,n.isPrimaryClient,u);Lv(n,t,h.au);const p=new cM(e,t,a);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function mM(n,e,t){const r=Oe(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!wf(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vu(r.remoteStore,i.targetId),Eu(r,i.targetId)})).catch(Pa)):(Eu(r,i.targetId),await yu(r.localStore,i.targetId,!0))}async function pM(n,e){const t=Oe(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vu(t.remoteStore,r.targetId))}async function gM(n,e,t){const r=W2(n);try{const i=await(function(a,c){const u=Oe(a),h=Pt.now(),p=c.reduce(((v,I)=>v.add(I.key)),ct());let g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let I=Hr(),T=ct();return u.Ns.getEntries(v,p).next((b=>{I=b,I.forEach(((C,D)=>{D.isValidDocument()||(T=T.add(C))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,I))).next((b=>{g=b;const C=[];for(const D of c){const F=VO(D,g.get(D.key).overlayedDocument);F!=null&&C.push(new mo(D.key,F,qP(F.value.mapValue),Jt.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,C,c)})).next((b=>{_=b;const C=b.applyToLocalDocumentSet(g,T);return u.documentOverlayCache.saveOverlays(v,b.batchId,C)}))})).then((()=>({batchId:_.batchId,changes:sA(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,c,u){let h=a.Vu[a.currentUser.toKey()];h||(h=new ln(at)),h=h.insert(c,u),a.Vu[a.currentUser.toKey()]=h})(r,i.batchId,t),await po(r,i.changes),await ju(r.remoteStore)}catch(i){const s=Hu(i,"Failed to persist write");t.reject(s)}}async function gk(n,e){const t=Oe(n);try{const r=await DF(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=t.Au.get(s);a&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?He(a.hu,14607):i.removedDocuments.size>0&&(He(a.hu,42227),a.hu=!1))})),await po(t,r,e)}catch(r){await Pa(r)}}function a4(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,a)=>{const c=a.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(a,c){const u=Oe(a);u.onlineState=c;let h=!1;u.queries.forEach(((p,g)=>{for(const _ of g.Sa)_.va(c)&&(h=!0)})),h&&M2(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _M(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new ln(xe.comparator);a=a.insert(s,Gt.newNoDocument(s,Je.min()));const c=ct().add(s),u=new If(Je.min(),new Map,new ln(at),a,c);await gk(r,u),r.du=r.du.remove(s),r.Au.delete(e),j2(r)}else await yu(r.localStore,e,!1).then((()=>Eu(r,e,t))).catch(Pa)}async function yM(n,e){const t=Oe(n),r=e.batch.batchId;try{const i=await NF(t.localStore,e);U2(t,r,null),z2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await po(t,i)}catch(i){await Pa(i)}}async function vM(n,e,t){const r=Oe(n);try{const i=await(function(a,c){const u=Oe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,c).next((g=>(He(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);U2(r,e,t),z2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await po(r,i)}catch(i){await Pa(i)}}async function wM(n,e){const t=Oe(n);Ra(t.remoteStore)||Te(Na,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const c=Oe(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(u=>c.mutationQueue.getHighestUnacknowledgedBatchId(u)))})(t.localStore);if(r===ra)return void e.resolve();const i=t.mu.get(r)||[];i.push(e),t.mu.set(r,i)}catch(r){const i=Hu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function z2(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function U2(n,e,t){const r=Oe(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Eu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||_k(n,r)}))}function _k(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(vu(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),j2(n))}function Lv(n,e,t){for(const r of t)r instanceof hk?(n.Ru.addReference(r.key,e),EM(n,r)):r instanceof fk?(Te(Na,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||_k(n,r.key)):Ve(19791,{wu:r})}function EM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Te(Na,"New document in limbo: "+t),n.Eu.add(r),j2(n))}function j2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new xe(_t.fromString(e)),r=n.fu.next();n.Au.set(r,new uM(t)),n.du=n.du.insert(t,r),i_(n.remoteStore,new Qs(Sr(Vu(t.path)),r,"TargetPurposeLimboResolution",jr.ce))}}async function po(n,e,t){const r=Oe(n),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{a.push(r.pu(u,e,t).then((h=>{var p;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=P2.As(u.targetId,h);s.push(g)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(u,h){const p=Oe(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Z.forEach(h,(_=>Z.forEach(_.Es,(v=>p.persistence.referenceDelegate.addReference(g,_.targetId,v))).next((()=>Z.forEach(_.ds,(v=>p.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))))))}catch(g){if(!Aa(g))throw g;Te(A2,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const v=p.Ms.get(_),I=v.snapshotVersion,T=v.withLastLimboFreeSnapshotVersion(I);p.Ms=p.Ms.insert(_,T)}}})(r.localStore,s))}async function TM(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){Te(Na,"User change. New user:",e.toKey());const r=await KA(t.localStore,e);t.currentUser=e,(function(s,a){s.mu.forEach((c=>{c.forEach((u=>{u.reject(new we(oe.CANCELLED,a))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await po(t,r.Ls)}}function IM(n,e){const t=Oe(n),r=t.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let i=ct();const s=t.Iu.get(e);if(!s)return i;for(const a of s){const c=t.Tu.get(a);i=i.unionWith(c.view.nu)}return i}}async function bM(n,e){const t=Oe(n),r=await og(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&Lv(t,e.targetId,i.au),i}async function SM(n,e){const t=Oe(n);return XA(t.localStore,e).then((r=>po(t,r)))}async function CM(n,e,t,r){const i=Oe(n),s=await(function(c,u){const h=Oe(c),p=Oe(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",(g=>p.er(g,u).next((_=>_?h.localDocuments.getDocuments(g,_):Z.resolve(null)))))})(i.localStore,e);s!==null?(t==="pending"?await ju(i.remoteStore):t==="acknowledged"||t==="rejected"?(U2(i,e,r||null),z2(i,e),(function(c,u){Oe(Oe(c).mutationQueue).ir(u)})(i.localStore,e)):Ve(6720,"Unknown batchState",{Su:t}),await po(i,s)):Te(Na,"Cannot apply mutation batch with id: "+e)}async function PM(n,e){const t=Oe(n);if(s_(t),W2(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await l4(t,r.toArray());t.gu=!0,await Dv(t.remoteStore,!0);for(const s of i)i_(t.remoteStore,s)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach(((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(Eu(t,a),yu(t.localStore,a,!0)))),vu(t.remoteStore,a)})),await i,await l4(t,r),(function(a){const c=Oe(a);c.Au.forEach(((u,h)=>{vu(c.remoteStore,h)})),c.Ru.Jr(),c.Au=new Map,c.du=new ln(xe.comparator)})(t),t.gu=!1,await Dv(t.remoteStore,!1)}}async function l4(n,e,t){const r=Oe(n),i=[],s=[];for(const a of e){let c;const u=r.Iu.get(a);if(u&&u.length!==0){c=await _u(r.localStore,Sr(u[0]));for(const h of u){const p=r.Tu.get(h),g=await bM(r,p);g.snapshot&&s.push(g.snapshot)}}else{const h=await JA(r.localStore,a);c=await _u(r.localStore,h),await B2(r,yk(h),a,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function yk(n){return eA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AM(n){return(function(t){return Oe(Oe(t).persistence).Ts()})(Oe(n).localStore)}async function kM(n,e,t,r){const i=Oe(n);if(i.gu)return void Te(Na,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=await XA(i.localStore,nA(s[0])),c=If.createSynthesizedRemoteEventForCurrentChange(e,t==="current",dn.EMPTY_BYTE_STRING);await po(i,a,c);break}case"rejected":await yu(i.localStore,e,!0),Eu(i,e,r);break;default:Ve(64155,t)}}async function RM(n,e,t){const r=s_(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Te(Na,"Adding an already active target "+i);continue}const s=await JA(r.localStore,i),a=await _u(r.localStore,s);await B2(r,yk(s),a.targetId,!1,a.resumeToken),i_(r.remoteStore,a)}for(const i of t)r.Iu.has(i)&&await yu(r.localStore,i,!1).then((()=>{vu(r.remoteStore,i),Eu(r,i)})).catch(Pa)}}function s_(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_M.bind(null,e),e.Pu.H_=sM.bind(null,e.eventManager),e.Pu.yu=oM.bind(null,e.eventManager),e}function W2(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vM.bind(null,e),e}function NM(n,e,t){const r=Oe(n);(async function(s,a,c){try{const u=await a.getMetadata();if(await(function(v,I){const T=Oe(v),b=_n(I.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",(C=>T.Ii.getBundleMetadata(C,I.id))).then((C=>!!C&&C.createTime.compareTo(b)>=0))})(s.localStore,u))return await a.close(),c._completeWith((function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}})(u)),Promise.resolve(new Set);c._updateProgress(dk(u));const h=new lM(u,a.serializer);let p=await a.bu();for(;p;){const _=await h.Ga(p);_&&c._updateProgress(_),p=await a.bu()}const g=await h.ja(s.localStore);return await po(s,g.Ha,void 0),await(function(v,I){const T=Oe(v);return T.persistence.runTransaction("Save bundle","readwrite",(b=>T.Ii.saveBundleMetadata(b,I)))})(s.localStore,u),c._completeWith(g.progress),Promise.resolve(g.Ja)}catch(u){return As(Na,`Loading bundle failed with ${u}`),c._failWith(u),Promise.resolve(new Set)}})(r,e,t).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return $A(this.persistence,new qA,e.initialUser,this.serializer)}Cu(e){return new b2(r_.mi,this.serializer)}Du(e){return new rk}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class DM extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){He(this.persistence.referenceDelegate instanceof sg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zA(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new b2((r=>sg.mi(r,t)),this.serializer)}}class vk extends Hh{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await W2(this.xu.syncEngine),await ju(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return $A(this.persistence,new qA,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new zA(r,e.asyncQueue,t)}Mu(e,t){const r=new U7(t,this.persistence);return new z7(e.asyncQueue,r)}Cu(e){const t=C2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new S2(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ik(),Lp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new rk}}class xM extends vk{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof L1&&(this.sharedClientState.syncEngine={Co:CM.bind(null,t),vo:kM.bind(null,t),Fo:RM.bind(null,t),Ts:AM.bind(null,t),Do:SM.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await PM(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=ik();if(!L1.v(t))throw new we(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=C2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new L1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Gh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,this.syncEngine),await Dv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iM})()}createDatastore(e){const t=Sf(e.databaseInfo.databaseId),r=(function(s){return new zF(s)})(e.databaseInfo);return(function(s,a,c,u){return new HF(s,a,c,u)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,a,c){return new qF(r,i,s,a,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>a4(this.syncEngine,t,0)),(function(){return e4.v()?new e4:new FF})())}createSyncEngine(e,t){return(function(i,s,a,c,u,h,p){const g=new dM(i,s,a,c,u,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=Oe(i);Te(xl,"RemoteStore shutting down."),s.Ea.add(5),await Uu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Gh.provider={build:()=>new Gh};function c4(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new rr,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const i=await this.$u(r);return new aM(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,s){const a=Oe(i),c={documents:s.map((g=>jh(a.serializer,g)))},u=await a.Ho("BatchGetDocuments",a.serializer.databaseId,_t.emptyPath(),c,s.length),h=new Map;u.forEach((g=>{const _=$O(a.serializer,g);h.set(_.key.toString(),_)}));const p=[];return s.forEach((g=>{const _=h.get(g.toString());He(!!_,55234,{key:g}),p.push(_)})),p})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new zu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const i=xe.fromPath(r);this.mutations.push(new m2(i,this.precondition(i)))})),await(async function(r,i){const s=Oe(r),a={writes:i.map((c=>Wh(s.serializer,c)))};await s.Go("Commit",s.serializer.databaseId,_t.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ve(50498,{Gu:e.constructor.name});t=Je.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new we(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Je.min())?Jt.exists(!1):Jt.updateTime(t):Jt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Je.min()))throw new we(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jt.updateTime(t)}return Jt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new R2(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new OM(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!_f(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!pA(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class MM{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=e2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{Te(_a,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Te(_a,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Hu(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function F1(n,e){n.asyncQueue.verifyOperationInProgress(),Te(_a,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await KA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function u4(n,e){n.asyncQueue.verifyOperationInProgress();const t=await H2(n);Te(_a,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>n4(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>n4(e.remoteStore,i))),n._onlineComponents=e}async function H2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(_a,"Using user provided OfflineComponentProvider");try{await F1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;As("Error using user provided cache. Falling back to memory cache: "+t),await F1(n,new Hh)}}else Te(_a,"Using default OfflineComponentProvider"),await F1(n,new DM(void 0));return n._offlineComponents}async function a_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(_a,"Using user provided OnlineComponentProvider"),await u4(n,n._uninitializedComponentsProvider._online)):(Te(_a,"Using default OnlineComponentProvider"),await u4(n,new Gh))),n._onlineComponents}function wk(n){return H2(n).then((e=>e.persistence))}function G2(n){return H2(n).then((e=>e.localStore))}function Ek(n){return a_(n).then((e=>e.remoteStore))}function q2(n){return a_(n).then((e=>e.syncEngine))}function VM(n){return a_(n).then((e=>e.datastore))}async function Tu(n){const e=await a_(n),t=e.eventManager;return t.onListen=hM.bind(null,e.syncEngine),t.onUnlisten=mM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pM.bind(null,e.syncEngine),t}function BM(n){return n.asyncQueue.enqueue((async()=>{const e=await wk(n),t=await Ek(n);return e.setNetworkEnabled(!0),(function(i){const s=Oe(i);return s.Ea.delete(0),Cf(s)})(t)}))}function zM(n){return n.asyncQueue.enqueue((async()=>{const e=await wk(n),t=await Ek(n);return e.setNetworkEnabled(!1),(async function(i){const s=Oe(i);s.Ea.add(0),await Uu(s),s.Ra.set("Offline")})(t)}))}function UM(n,e){const t=new rr;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const c=await(function(h,p){const g=Oe(h);return g.persistence.runTransaction("read document","readonly",(_=>g.localDocuments.getDocument(_,p)))})(i,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new we(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const u=Hu(c,`Failed to get document '${s} from cache`);a.reject(u)}})(await G2(n),e,t))),t.promise}function Tk(n,e,t={}){const r=new rr;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,c,u,h){const p=new o_({next:_=>{p.Nu(),a.enqueueAndForget((()=>F2(s,g)));const v=_.docs.has(c);!v&&_.fromCache?h.reject(new we(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&u&&u.source==="server"?h.reject(new we(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new V2(Vu(c.path),p,{includeMetadataChanges:!0,qa:!0});return O2(s,g)})(await Tu(n),n.asyncQueue,e,t,r))),r.promise}function jM(n,e){const t=new rr;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const c=await og(i,s,!0),u=new mk(s,c.Qs),h=u.ru(c.documents),p=u.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const u=Hu(c,`Failed to execute query '${s} against cache`);a.reject(u)}})(await G2(n),e,t))),t.promise}function Ik(n,e,t={}){const r=new rr;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,c,u,h){const p=new o_({next:_=>{p.Nu(),a.enqueueAndForget((()=>F2(s,g))),_.fromCache&&u.source==="server"?h.reject(new we(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new V2(c,p,{includeMetadataChanges:!0,qa:!0});return O2(s,g)})(await Tu(n),n.asyncQueue,e,t,r))),r.promise}function WM(n,e){const t=new o_(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,s){Oe(i).Ca.add(s),s.next()})(await Tu(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,s){Oe(i).Ca.delete(s)})(await Tu(n),t)))}}function HM(n,e,t,r){const i=(function(a,c){let u;return u=typeof a=="string"?_A().encode(a):a,(function(p,g){return new LM(p,g)})((function(p,g){if(p instanceof Uint8Array)return c4(p,g);if(p instanceof ArrayBuffer)return c4(new Uint8Array(p),g);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(u),c)})(t,Sf(e));n.asyncQueue.enqueueAndForget((async()=>{NM(await q2(n),i,r)}))}function GM(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const s=Oe(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Ii.getNamedQuery(a,i)))})(await G2(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firestore.googleapis.com",h4=!0;class f4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sk,this.ssl=h4}else this.host=e.host,this.ssl=e.ssl??h4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hF)throw new we(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new A7;switch(r.type){case"firstParty":return new D7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=d4.get(t);r&&(Te("ComponentProvider","Removing Datastore"),d4.delete(t),r.terminate())})(this),Promise.resolve()}}function qM(n,e,t,r={}){var h;n=Ct(n,Pf);const i=Sa(e),s=n._getSettings(),a={...s,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;i&&(b0(`https://${c}`),S0("Firestore",!0)),s.host!==Sk&&s.host!==c&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:c,ssl:i,emulatorOptions:r};if(!to(u,a)&&(n._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Hn.MOCK_USER;else{p=GS(r.mockUserToken,(h=n._app)==null?void 0:h.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new we(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Hn(_)}n._authCredentials=new k7(new gP(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr=class Ck{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ck(this.firestore,e,this._query)}},Ut=class th{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new th(this.firestore,e,this._key)}toJSON(){return{type:th._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(gf(t,th._jsonSchema))return new th(e,r||null,new xe(_t.fromString(t.referencePath)))}};Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Sn("string",Ut._jsonSchemaVersion),referencePath:Sn("string")};let sa=class Pk extends Pr{constructor(e,t,r){super(e,t,Vu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new xe(e))}withConverter(e){return new Pk(this.firestore,e,this._path)}};function Ak(n,e,...t){if(n=je(n),t2("collection","path",e),n instanceof Pf){const r=_t.fromString(e,...t);return tb(r),new sa(n,null,r)}{if(!(n instanceof Ut||n instanceof sa))throw new we(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return tb(r),new sa(n.firestore,null,r)}}function $M(n,e){if(n=Ct(n,Pf),t2("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new we(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pr(n,null,(function(r){return new ho(_t.emptyPath(),r)})(e))}function ug(n,e,...t){if(n=je(n),arguments.length===1&&(e=e2.newId()),t2("doc","path",e),n instanceof Pf){const r=_t.fromString(e,...t);return eb(r),new Ut(n,null,new xe(r))}{if(!(n instanceof Ut||n instanceof sa))throw new we(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return eb(r),new Ut(n.firestore,n instanceof sa?n.converter:null,new xe(r))}}function kk(n,e){return n=je(n),e=je(e),(n instanceof Ut||n instanceof sa)&&(e instanceof Ut||e instanceof sa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Rk(n,e){return n=je(n),e=je(e),n instanceof Pr&&e instanceof Pr&&n.firestore===e.firestore&&wf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="AsyncQueue";class p4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R2(this,"async_queue_retry"),this._c=()=>{const r=Lp();r&&Te(m4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Aa(e))throw e;Te(m4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gn("INTERNAL UNHANDLED ERROR: ",g4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=L2.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ve(47125,{Pc:g4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function g4(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class KM{constructor(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=-1;let yn=class extends Pf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new p4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p4(e),this._firestoreClient=void 0,await e}}};function _r(n){if(n._terminated)throw new we(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Nk(n),n._firestoreClient}function Nk(n){var r,i,s;const e=n._freezeSettings(),t=(function(c,u,h,p){return new gO(c,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bk(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new MM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(n._componentsProvider))}function YM(n,e){As("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return Dk(n,Gh.provider,{build:r=>new vk(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function JM(n){As("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();Dk(n,Gh.provider,{build:t=>new xM(t,e.cacheSizeBytes)})}function Dk(n,e,t){if((n=Ct(n,yn))._firestoreClient||n._terminated)throw new we(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new we(oe.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},Nk(n)}function XM(n){if(n._initialized&&!n._terminated)throw new we(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new rr;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Is.v())return Promise.resolve();const i=r+GA;await Is.delete(i)})(C2(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function ZM(n){return(function(t){const r=new rr;return t.asyncQueue.enqueueAndForget((async()=>wM(await q2(t),r))),r.promise})(_r(n=Ct(n,yn)))}function eV(n){return BM(_r(n=Ct(n,yn)))}function tV(n){return zM(_r(n=Ct(n,yn)))}function nV(n,e){const t=_r(n=Ct(n,yn)),r=new KM;return HM(t,n._databaseId,e,r),r}function rV(n,e){return GM(_r(n=Ct(n,yn)),e).then((t=>t?new Pr(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(dn.fromBase64String(e))}catch(t){throw new we(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gf(e,mr._jsonSchema))return mr.fromBase64String(e.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:Sn("string",mr._jsonSchemaVersion),bytes:Sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(gf(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Sn("string",Ji._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gf(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ss(e.vectorValues);throw new we(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Sn("string",Ss._jsonSchemaVersion),vectorValues:Sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=/^__.*__$/;class sV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class xk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:n})}}class l_{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new l_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lk(this.Ac)&&iV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sf(e)}Cc(e,t,r,i=!1){return new l_({Ac:e,methodName:t,Dc:r,path:Yt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jl(n){const e=n._freezeSettings(),t=Sf(n._databaseId);return new oV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function c_(n,e,t,r,i,s={}){const a=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);Z2("Data must be an object, but it was:",a,r);const c=Mk(r,a);let u,h;if(s.merge)u=new Wr(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const _=Fv(e,g,t);if(!a.contains(_))throw new we(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Bk(p,_)||p.push(_)}u=new Wr(p),h=a.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=a.fieldTransforms;return new sV(new nr(c),u,h)}class Af extends Ul{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Af}}function Ok(n,e,t){return new l_({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $2 extends Ul{_toFieldTransform(e){return new Tf(e.path,new mu)}isEqual(e){return e instanceof $2}}class K2 extends Ul{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Ok(this,e,!0),r=this.vc.map((s=>Wl(s,t))),i=new Al(r);return new Tf(e.path,i)}isEqual(e){return e instanceof K2&&to(this.vc,e.vc)}}class Q2 extends Ul{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Ok(this,e,!0),r=this.vc.map((s=>Wl(s,t))),i=new kl(r);return new Tf(e.path,i)}isEqual(e){return e instanceof Q2&&to(this.vc,e.vc)}}class Y2 extends Ul{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new pu(e.serializer,lA(e.serializer,this.Fc));return new Tf(e.path,t)}isEqual(e){return e instanceof Y2&&this.Fc===e.Fc}}function J2(n,e,t,r){const i=n.Cc(1,e,t);Z2("Data must be an object, but it was:",i,r);const s=[],a=nr.empty();ka(r,((u,h)=>{const p=ew(e,u,t);h=je(h);const g=i.yc(p);if(h instanceof Af)s.push(p);else{const _=Wl(h,g);_!=null&&(s.push(p),a.set(p,_))}}));const c=new Wr(s);return new xk(a,c,i.fieldTransforms)}function X2(n,e,t,r,i,s){const a=n.Cc(1,e,t),c=[Fv(e,r,t)],u=[i];if(s.length%2!=0)throw new we(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)c.push(Fv(e,s[_])),u.push(s[_+1]);const h=[],p=nr.empty();for(let _=c.length-1;_>=0;--_)if(!Bk(h,c[_])){const v=c[_];let I=u[_];I=je(I);const T=a.yc(v);if(I instanceof Af)h.push(v);else{const b=Wl(I,T);b!=null&&(h.push(v),p.set(v,b))}}const g=new Wr(h);return new xk(p,g,a.fieldTransforms)}function Fk(n,e,t,r=!1){return Wl(t,n.Cc(r?4:3,e))}function Wl(n,e){if(Vk(n=je(n)))return Z2("Unsupported field value:",e,n),Mk(n,e);if(n instanceof Ul)return(function(r,i){if(!Lk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const c of r){let u=Wl(c,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:gu(i.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gu(i.serializer,s)}}if(r instanceof Ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mr)return{bytesValue:wA(i.serializer,r._byteString)};if(r instanceof Ut){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:v2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ss)return(function(a,c){return{mapValue:{fields:{[l2]:{stringValue:c2},[du]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return f2(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Gg(r)}`)})(n,e)}function Mk(n,e){const t={};return MP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(n,((r,i)=>{const s=Wl(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function Vk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Ji||n instanceof mr||n instanceof Ut||n instanceof Ul||n instanceof Ss)}function Z2(n,e,t){if(!Vk(t)||!vP(t)){const r=Gg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Fv(n,e,t){if((e=je(e))instanceof ya)return e._internalPath;if(typeof e=="string")return ew(n,e);throw dg("Field path arguments must be of type string or ",n,!1,void 0,t)}const aV=new RegExp("[~\\*/\\[\\]]");function ew(n,e,t){if(e.search(aV)>=0)throw dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ya(...e.split("."))._internalPath}catch{throw dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dg(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new we(oe.INVALID_ARGUMENT,c+n+u)}function Bk(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(u_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lV extends qh{data(){return super.data()}}function u_(n,e){return typeof e=="string"?ew(n,e):e instanceof ya?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tw{}let kf=class extends tw{};function Go(n,e,...t){let r=[];e instanceof tw&&r.push(e),r=r.concat(t),(function(s){const a=s.filter((u=>u instanceof nw)).length,c=s.filter((u=>u instanceof d_)).length;if(a>1||a>0&&c>0)throw new we(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class d_ extends kf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new d_(e,t,r)}_apply(e){const t=this._parse(e);return qk(e._query,t),new Pr(e.firestore,e.converter,Tv(e._query,t))}_parse(e){const t=jl(e.firestore);return(function(s,a,c,u,h,p,g){let _;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new we(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){y4(g,p);const I=[];for(const T of g)I.push(_4(u,s,T));_={arrayValue:{values:I}}}else _=_4(u,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||y4(g,p),_=Fk(c,a,g,p==="in"||p==="not-in");return yt.create(h,p,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cV(n,e,t){const r=e,i=u_("where",n);return d_._create(i,r,t)}class nw extends tw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nw(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Rt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let a=i;const c=s.getFlattenedFilters();for(const u of c)qk(a,u),a=Tv(a,u)})(e._query,t),new Pr(e.firestore,e.converter,Tv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rw extends kf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rw(e,t)}_apply(e){const t=(function(i,s,a){if(i.startAt!==null)throw new we(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uh(s,a)})(e._query,this._field,this._direction);return new Pr(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new ho(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function uV(n,e="asc"){const t=e,r=u_("orderBy",n);return rw._create(r,t)}class h_ extends kf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new h_(e,t,r)}_apply(e){return new Pr(e.firestore,e.converter,tg(e._query,this._limit,this._limitType))}}function dV(n){return wP("limit",n),h_._create("limit",n,"F")}function hV(n){return wP("limitToLast",n),h_._create("limitToLast",n,"L")}let Uk=class jk extends kf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jk(e,t,r)}_apply(e){const t=Gk(e,this.type,this._docOrFields,this._inclusive);return new Pr(e.firestore,e.converter,(function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,t))}};function fV(...n){return Uk._create("startAt",n,!0)}function mV(...n){return Uk._create("startAfter",n,!1)}let Wk=class Hk extends kf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Hk(e,t,r)}_apply(e){const t=Gk(e,this.type,this._docOrFields,this._inclusive);return new Pr(e.firestore,e.converter,(function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,t))}};function pV(...n){return Wk._create("endBefore",n,!1)}function gV(...n){return Wk._create("endAt",n,!0)}function Gk(n,e,t,r){if(t[0]=je(t[0]),t[0]instanceof qh)return(function(s,a,c,u,h){if(!u)throw new we(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const g of Jc(s))if(g.field.isKeyField())p.push(Cl(a,u.key));else{const _=u.data.field(g.field);if(Yg(_))throw new we(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const v=g.field.canonicalString();throw new we(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}p.push(_)}return new pa(p,h)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=jl(n.firestore);return(function(a,c,u,h,p,g){const _=a.explicitOrderBy;if(p.length>_.length)throw new we(oe.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let I=0;I<p.length;I++){const T=p[I];if(_[I].field.isKeyField()){if(typeof T!="string")throw new we(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof T}`);if(!d2(a)&&T.indexOf("/")!==-1)throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${T}' contains a slash.`);const b=a.path.child(_t.fromString(T));if(!xe.isDocumentKey(b))throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const C=new xe(b);v.push(Cl(c,C))}else{const b=Fk(u,h,T);v.push(b)}}return new pa(v,g)})(n._query,n.firestore._databaseId,i,e,t,r)}}function _4(n,e,t){if(typeof(t=je(t))=="string"){if(t==="")throw new we(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d2(e)&&t.indexOf("/")!==-1)throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_t.fromString(t));if(!xe.isDocumentKey(r))throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cl(n,new xe(r))}if(t instanceof Ut)return Cl(n,t._key);throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gg(t)}.`)}function y4(n,e){if(!Array.isArray(n)||n.length===0)throw new we(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qk(n,e){const t=(function(i,s){for(const a of i)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new we(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class iw{convertValue(e,t="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ka(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){var r,i,s;const t=(s=(i=(r=e.fields)==null?void 0:r[du].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>Qt(a.doubleValue)));return new Ss(t)}convertGeoPoint(e){return new Ji(Qt(e.latitude),Qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vh(e));default:return null}}convertTimestamp(e){const t=so(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_t.fromString(e);He(NA(r),9688,{name:e});const i=new ha(r.get(1),r.get(3)),s=new xe(r.popFirst(5));return i.isEqual(t)||gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class _V extends iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}class pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ai=class $k extends qh{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(u_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$k._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ai._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ai._jsonSchema={type:Sn("string",Ai._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};let gh=class extends Ai{data(e={}){return super.data(e)}},Xi=class Kk{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new gh(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((c=>{const u=new gh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const u=new gh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:yV(c.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kk._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=e2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function yV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:n})}}function Qk(n,e){return n instanceof Ai&&e instanceof Ai?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xi&&e instanceof Xi&&n._firestore===e._firestore&&Rk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n){n=Ct(n,Ut);const e=Ct(n.firestore,yn);return Tk(_r(e),n._key).then((t=>sw(e,n,t)))}Xi._jsonSchemaVersion="firestore/querySnapshot/1.0",Xi._jsonSchema={type:Sn("string",Xi._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class Hl extends iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function wV(n){n=Ct(n,Ut);const e=Ct(n.firestore,yn),t=_r(e),r=new Hl(e);return UM(t,n._key).then((i=>new Ai(e,r,n._key,i,new pl(i!==null&&i.hasLocalMutations,!0),n.converter)))}function EV(n){n=Ct(n,Ut);const e=Ct(n.firestore,yn);return Tk(_r(e),n._key,{source:"server"}).then((t=>sw(e,n,t)))}function TV(n){n=Ct(n,Pr);const e=Ct(n.firestore,yn),t=_r(e),r=new Hl(e);return zk(n._query),Ik(t,n._query).then((i=>new Xi(e,r,n,i)))}function IV(n){n=Ct(n,Pr);const e=Ct(n.firestore,yn),t=_r(e),r=new Hl(e);return jM(t,n._query).then((i=>new Xi(e,r,n,i)))}function bV(n){n=Ct(n,Pr);const e=Ct(n.firestore,yn),t=_r(e),r=new Hl(e);return Ik(t,n._query,{source:"server"}).then((i=>new Xi(e,r,n,i)))}function v4(n,e,t){n=Ct(n,Ut);const r=Ct(n.firestore,yn),i=f_(n.converter,e,t);return Rf(r,[c_(jl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Jt.none())])}function w4(n,e,t,...r){n=Ct(n,Ut);const i=Ct(n.firestore,yn),s=jl(i);let a;return a=typeof(e=je(e))=="string"||e instanceof ya?X2(s,"updateDoc",n._key,e,t,r):J2(s,"updateDoc",n._key,e),Rf(i,[a.toMutation(n._key,Jt.exists(!0))])}function SV(n){return Rf(Ct(n.firestore,yn),[new zu(n._key,Jt.none())])}function CV(n,e){const t=Ct(n.firestore,yn),r=ug(n),i=f_(n.converter,e);return Rf(t,[c_(jl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Jt.exists(!1))]).then((()=>r))}function Yk(n,...e){var u,h,p;n=je(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ov(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Ov(e[r])){const g=e[r];e[r]=(u=g.next)==null?void 0:u.bind(g),e[r+1]=(h=g.error)==null?void 0:h.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let s,a,c;if(n instanceof Ut)a=Ct(n.firestore,yn),c=Vu(n._key.path),s={next:g=>{e[r]&&e[r](sw(a,n,g))},error:e[r+1],complete:e[r+2]};else{const g=Ct(n,Pr);a=Ct(g.firestore,yn),c=g._query;const _=new Hl(a);s={next:v=>{e[r]&&e[r](new Xi(a,_,g,v))},error:e[r+1],complete:e[r+2]},zk(n._query)}return(function(_,v,I,T){const b=new o_(T),C=new V2(v,b,I);return _.asyncQueue.enqueueAndForget((async()=>O2(await Tu(_),C))),()=>{b.Nu(),_.asyncQueue.enqueueAndForget((async()=>F2(await Tu(_),C)))}})(_r(a),c,i,s)}function PV(n,e){return WM(_r(n=Ct(n,yn)),Ov(e)?e:{next:e})}function Rf(n,e){return(function(r,i){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>gM(await q2(r),i,s))),s.promise})(_r(n),e)}function sw(n,e,t){const r=t.docs.get(e._key),i=new Hl(n);return new Ai(n,i,e._key,r,new pl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kV=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jl(e)}set(e,t,r){this._verifyNotCommitted();const i=Yo(e,this._firestore),s=f_(i.converter,t,r),a=c_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Jt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Yo(e,this._firestore);let a;return a=typeof(t=je(t))=="string"||t instanceof ya?X2(this._dataReader,"WriteBatch.update",s._key,t,r,i):J2(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Jt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yo(e,this._firestore);return this._mutations=this._mutations.concat(new zu(t._key,Jt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Yo(n,e){if((n=je(n)).firestore!==e)throw new we(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jl(e)}get(e){const t=Yo(e,this._firestore),r=new _V(this._firestore);return this._transaction.lookup([t._key]).then((i=>{if(!i||i.length!==1)return Ve(24041);const s=i[0];if(s.isFoundDocument())return new qh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new qh(this._firestore,r,t._key,null,t.converter);throw Ve(18433,{doc:s})}))}set(e,t,r){const i=Yo(e,this._firestore),s=f_(i.converter,t,r),a=c_(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,t,r,...i){const s=Yo(e,this._firestore);let a;return a=typeof(t=je(t))=="string"||t instanceof ya?X2(this._dataReader,"Transaction.update",s._key,t,r,i):J2(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=Yo(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NV=class extends RV{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yo(e,this._firestore),r=new Hl(this._firestore);return super.get(e).then((i=>new Ai(this._firestore,r,t._key,i._document,new pl(!1,!1),t.converter)))}};function DV(n,e,t){n=Ct(n,yn);const r={...AV,...t};return(function(s){if(s.maxAttempts<1)throw new we(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,c){const u=new rr;return s.asyncQueue.enqueueAndForget((async()=>{const h=await VM(s);new FM(s.asyncQueue,h,c,a,u).ju()})),u.promise})(_r(n),(i=>e(new NV(n,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){return new Af("deleteField")}function LV(){return new $2("serverTimestamp")}function OV(...n){return new K2("arrayUnion",n)}function FV(...n){return new Q2("arrayRemove",n)}function MV(n){return new Y2("increment",n)}(function(e,t=!0){(function(i){Mu=i})(lo),ro(new $r("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),c=new yn(new R7(r.getProvider("auth-internal")),new x7(a,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(h.options.projectId,p)})(a,i),a);return s={useFetchStreams:t,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),ci(YI,JI,e),ci(YI,JI,"esm2020")})();const VV="@firebase/firestore-compat",BV="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new we("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(){if(typeof Uint8Array>"u")throw new we("unimplemented","Uint8Arrays are not available in this environment.")}function T4(){if(!mO())throw new we("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Jk=class Mv{constructor(e){this._delegate=e}static fromBase64String(e){return T4(),new Mv(mr.fromBase64String(e))}static fromUint8Array(e){return E4(),new Mv(mr.fromUint8Array(e))}toBase64(){return T4(),this._delegate.toBase64()}toUint8Array(){return E4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n){return zV(n,["next","error","complete"])}function zV(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{enableIndexedDbPersistence(e,t){return YM(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return JM(e._delegate)}clearIndexedDbPersistence(e){return XM(e._delegate)}}class Xk{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ha||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&As("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){qM(this._delegate,e,t,r)}enableNetwork(){return eV(this._delegate)}disableNetwork(){return tV(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,yP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return ZM(this._delegate)}onSnapshotsInSync(e){return PV(this._delegate,e)}get app(){if(!this._appCompat)throw new we("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iu(this,Ak(this._delegate,e))}catch(t){throw Tr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Si(this,ug(this._delegate,e))}catch(t){throw Tr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qh(this,$M(this._delegate,e))}catch(t){throw Tr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return DV(this._delegate,t=>e(new Zk(this,t)))}batch(){return _r(this._delegate),new e6(new kV(this._delegate,e=>Rf(this._delegate,e)))}loadBundle(e){return nV(this._delegate,e)}namedQuery(e){return rV(this._delegate,e).then(t=>t?new Qh(this,t):null)}}class m_ extends iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jk(new mr(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Si.forKey(t,this.firestore,null)}}function jV(n){C7(n)}class Zk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new m_(e)}get(e){const t=gl(e);return this._delegate.get(t).then(r=>new $h(this._firestore,new Ai(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=gl(e);return r?(ow("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=gl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=gl(e);return this._delegate.delete(t),this}}class e6{constructor(e){this._delegate=e}set(e,t,r){const i=gl(e);return r?(ow("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=gl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=gl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ll{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new gh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ll.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Ll(e,new m_(e),t),i.set(t,s)),s}}Ll.INSTANCES=new WeakMap;class Si{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new m_(e)}static forPath(e,t,r){if(e.length%2!==0)throw new we("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Si(t,new Ut(t._delegate,r,new xe(e)))}static forKey(e,t,r){return new Si(t,new Ut(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Iu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iu(this.firestore,Ak(this._delegate,e))}catch(t){throw Tr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=je(e),e instanceof Ut?kk(this._delegate,e):!1}set(e,t){t=ow("DocumentReference.set",t);try{return t?v4(this._delegate,e,t):v4(this._delegate,e)}catch(r){throw Tr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?w4(this._delegate,e):w4(this._delegate,e,t,...r)}catch(i){throw Tr(i,"updateDoc()","DocumentReference.update()")}}delete(){return SV(this._delegate)}onSnapshot(...e){const t=t6(e),r=n6(e,i=>new $h(this.firestore,new Ai(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Yk(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=wV(this._delegate):(e==null?void 0:e.source)==="server"?t=EV(this._delegate):t=vV(this._delegate),t.then(r=>new $h(this.firestore,new Ai(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Si(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Tr(n,e,t){return n.message=n.message.replace(e,t),n}function t6(n){for(const e of n)if(typeof e=="object"&&!Vv(e))return e;return{}}function n6(n,e){var r,i;let t;return Vv(n[0])?t=n[0]:Vv(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:s=>{t.next&&t.next(e(s))},error:(r=t.error)==null?void 0:r.bind(t),complete:(i=t.complete)==null?void 0:i.bind(t)}}class $h{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Si(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qk(this._delegate,e._delegate)}}class Kh extends $h{data(e){const t=this._delegate.data(e);return this._delegate._converter||P7(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}let Qh=class fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new m_(e)}where(e,t,r){try{return new fs(this.firestore,Go(this._delegate,cV(e,t,r)))}catch(i){throw Tr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fs(this.firestore,Go(this._delegate,uV(e,t)))}catch(r){throw Tr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fs(this.firestore,Go(this._delegate,dV(e)))}catch(t){throw Tr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fs(this.firestore,Go(this._delegate,hV(e)))}catch(t){throw Tr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fs(this.firestore,Go(this._delegate,fV(...e)))}catch(t){throw Tr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fs(this.firestore,Go(this._delegate,mV(...e)))}catch(t){throw Tr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fs(this.firestore,Go(this._delegate,pV(...e)))}catch(t){throw Tr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fs(this.firestore,Go(this._delegate,gV(...e)))}catch(t){throw Tr(t,"endAt()","Query.endAt()")}}isEqual(e){return Rk(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=IV(this._delegate):(e==null?void 0:e.source)==="server"?t=bV(this._delegate):t=TV(this._delegate),t.then(r=>new Bv(this.firestore,new Xi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=t6(e),r=n6(e,i=>new Bv(this.firestore,new Xi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Yk(this._delegate,t,r)}withConverter(e){return new fs(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class WV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Bv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qh(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new WV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Kh(this._firestore,r))})}isEqual(e){return Qk(this._delegate,e._delegate)}}class Iu extends Qh{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Si(this.firestore,e):null}doc(e){try{return e===void 0?new Si(this.firestore,ug(this._delegate)):new Si(this.firestore,ug(this._delegate,e))}catch(t){throw Tr(t,"doc()","CollectionReference.doc()")}}add(e){return CV(this._delegate,e).then(t=>new Si(this.firestore,t))}isEqual(e){return kk(this._delegate,e._delegate)}withConverter(e){return new Iu(this.firestore,e?this._delegate.withConverter(Ll.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function gl(n){return Ct(n,Ut)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(...e){this._delegate=new ya(...e)}static documentId(){return new aw(Yt.keyField().canonicalString())}isEqual(e){return e=je(e),e instanceof ya?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static serverTimestamp(){const e=LV();return e._methodName="FieldValue.serverTimestamp",new hl(e)}static delete(){const e=xV();return e._methodName="FieldValue.delete",new hl(e)}static arrayUnion(...e){const t=OV(...e);return t._methodName="FieldValue.arrayUnion",new hl(t)}static arrayRemove(...e){const t=FV(...e);return t._methodName="FieldValue.arrayRemove",new hl(t)}static increment(e){const t=MV(e);return t._methodName="FieldValue.increment",new hl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={Firestore:Xk,GeoPoint:Ji,Timestamp:Pt,Blob:Jk,Transaction:Zk,WriteBatch:e6,DocumentReference:Si,DocumentSnapshot:$h,Query:Qh,QueryDocumentSnapshot:Kh,QuerySnapshot:Bv,CollectionReference:Iu,FieldPath:aw,FieldValue:hl,setLogLevel:jV,CACHE_SIZE_UNLIMITED:QM};function GV(n,e){n.INTERNAL.registerComponent(new $r("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...HV}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(n){GV(n,(e,t)=>new Xk(e,t,new UV)),n.registerVersion(VV,BV)}qV(Dn);var I4={};const b4="@firebase/database",S4="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r6="";function i6(n){r6=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ch(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return ui(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $V(e)}}catch{}return new KV},_l=s6("localStorage"),zv=s6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new xu("@firebase/database"),o6=(function(){let n=1;return function(){return n++}})(),a6=function(n){const e=iD(n),t=new tD;t.update(e);const r=t.digest();return E0.encodeByteArray(r)},Nf=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Nf.apply(null,r):typeof r=="object"?e+=Nn(r):e+=r,e+=" "}return e};let El=null,C4=!0;const l6=function(n,e){ke(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Zc.logLevel=ft.VERBOSE,El=Zc.log.bind(Zc),e&&zv.set("logging_enabled",!0)):typeof n=="function"?El=n:(El=null,zv.remove("logging_enabled"))},qn=function(...n){if(C4===!0&&(C4=!1,El===null&&zv.get("logging_enabled")===!0&&l6(!0)),El){const e=Nf.apply(null,n);El(e)}},Df=function(n){return function(...e){qn(n,...e)}},Uv=function(...n){const e="FIREBASE INTERNAL ERROR: "+Nf(...n);Zc.error(e)},Rs=function(...n){const e=`FIREBASE FATAL ERROR: ${Nf(...n)}`;throw Zc.error(e),new Error(e)},gr=function(...n){const e="FIREBASE WARNING: "+Nf(...n);Zc.warn(e)},QV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},p_=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},YV=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},va="[MIN_NAME]",ao="[MAX_NAME]",Gl=function(n,e){if(n===e)return 0;if(n===va||e===ao)return-1;if(e===va||n===ao)return 1;{const t=P4(n),r=P4(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},JV=function(n,e){return n===e?0:n<e?-1:1},Wd=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Nn(e))},lw=function(n){if(typeof n!="object"||n===null)return Nn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Nn(e[r]),t+=":",t+=lw(n[e[r]]);return t+="}",t},c6=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const u6=function(n){ke(!p_(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,a,c,u;n===0?(s=0,a=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=c+r,a=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(s=0,a=Math.round(n/Math.pow(2,1-r-t))));const h=[];for(u=t;u;u-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const p=h.join("");let g="";for(u=0;u<64;u+=8){let _=parseInt(p.substr(u,8),2).toString(16);_.length===1&&(_="0"+_),g=g+_}return g.toLowerCase()},XV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function eB(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}const tB=new RegExp("^-?(0*)\\d{1,10}$"),nB=-2147483648,rB=2147483647,P4=function(n){if(tB.test(n)){const e=Number(n);if(e>=nB&&e<=rB)return e}return null},Gu=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw gr("Exception was thrown by user callback.",t),e},Math.floor(0))}},iB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_h=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,qt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)==null||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gr(e)}}class eu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}eu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="5",d6="v",h6="s",f6="r",m6="f",p6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g6="ls",_6="p",jv="ac",y6="websocket",v6="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,t,r,i,s=!1,a="",c=!1,u=!1,h=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_l.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_l.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function aB(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function E6(n,e,t){ke(typeof e=="string","typeof type must == string"),ke(typeof t=="object","typeof params must == object");let r;if(e===y6)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===v6)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);aB(n)&&(t.ns=n.namespace);const i=[];return Kn(t,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.counters_={}}incrementCounter(e,t=1){ui(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return MN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1={},V1={};function uw(n){const e=n.toString();return M1[e]||(M1[e]=new lB),M1[e]}function cB(n,e){const t=n.toString();return V1[t]||(V1[t]=e()),V1[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Gu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="start",dB="close",hB="pLPCommand",fB="pRTLPCB",T6="id",I6="pw",b6="ser",mB="cb",pB="seg",gB="ts",_B="d",yB="dframe",S6=1870,C6=30,vB=S6-C6,wB=25e3,EB=3e4;class Jo{constructor(e,t,r,i,s,a,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Df(e),this.stats_=uw(t),this.urlFn=u=>(this.appCheckToken&&(u[jv]=this.appCheckToken),E6(t,v6,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(EB)),YV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dw((...s)=>{const[a,c,u,h,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===A4)this.id=c,this.password=u;else if(a===dB)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[A4]="t",r[b6]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[mB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[d6]=cw,this.transportSessionId&&(r[h6]=this.transportSessionId),this.lastSessionId&&(r[g6]=this.lastSessionId),this.applicationId&&(r[_6]=this.applicationId),this.appCheckToken&&(r[jv]=this.appCheckToken),typeof location<"u"&&location.hostname&&p6.test(location.hostname)&&(r[f6]=m6);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jo.forceAllow_=!0}static forceDisallow(){Jo.forceDisallow_=!0}static isAvailable(){return Jo.forceAllow_?!0:!Jo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!XV()&&!ZV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Nn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=HS(t),i=c6(r,vB);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[yB]="t",r[T6]=e,r[I6]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Nn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class dw{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o6(),window[hB+this.uniqueCallbackIdentifier]=e,window[fB+this.uniqueCallbackIdentifier]=t,this.myIFrame=dw.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){qn("frame writing exception"),c.stack&&qn(c.stack),qn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[T6]=this.myID,e[I6]=this.myPW,e[b6]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+C6+r.length<=S6;){const a=this.pendingSegs.shift();r=r+"&"+pB+i+"="+a.seg+"&"+gB+i+"="+a.ts+"&"+_B+i+"="+a.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(wB)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{qn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=16384,IB=45e3;let hg=null;typeof MozWebSocket<"u"?hg=MozWebSocket:typeof WebSocket<"u"&&(hg=WebSocket);class Ii{constructor(e,t,r,i,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Df(this.connId),this.stats_=uw(t),this.connURL=Ii.connectionURL_(t,a,c,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){const a={};return a[d6]=cw,typeof location<"u"&&location.hostname&&p6.test(location.hostname)&&(a[f6]=m6),t&&(a[h6]=t),r&&(a[g6]=r),i&&(a[jv]=i),s&&(a[_6]=s),E6(e,y6,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_l.set("previous_websocket_failure",!0);try{let r;KN(),this.mySock=new hg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&hg!==null&&!Ii.forceDisallow_}static previouslyFailed(){return _l.isInMemoryStorage||_l.get("previous_websocket_failure")===!0}markConnectionHealthy(){_l.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=Ch(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Nn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=c6(t,TB);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(IB))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ii.responsesRequiredToBeHealthy=2;Ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{static get ALL_TRANSPORTS(){return[Jo,Ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Ii&&Ii.isAvailable();let r=t&&!Ii.previouslyFailed();if(e.webSocketOnly&&(t||gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ii];else{const i=this.transports_=[];for(const s of bu.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);bu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=6e4,SB=5e3,CB=10*1024,PB=100*1024,B1="t",k4="d",AB="s",R4="r",kB="e",N4="o",D4="a",x4="n",L4="p",RB="h";class NB{constructor(e,t,r,i,s,a,c,u,h,p){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Df("c:"+this.id+":"),this.transportManager_=new bu(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=_h(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>PB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>CB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(B1 in e){const t=e[B1];t===D4?this.upgradeIfSecondaryHealthy_():t===R4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===N4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Wd("t",e),r=Wd("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:L4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:D4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:x4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Wd("t",e),r=Wd("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Wd(B1,e);if(k4 in e){const r=e[k4];if(t===RB){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===x4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===AB?this.onConnectionShutdown_(r):t===R4?this.onReset_(r):t===kB?Uv("Server Error: "+r):t===N4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Uv("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),cw!==r&&gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),_h(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_h(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(SB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:L4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends A6{static getInstance(){return new fg}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!C0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=32,F4=768;class At{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function St(){return new At("")}function ut(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function wa(n){return n.pieces_.length-n.pieceNum_}function Lt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new At(n.pieces_,e)}function hw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function DB(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Yh(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function k6(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new At(e,0)}function Xt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof At)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new At(t,0)}function dt(n){return n.pieceNum_>=n.pieces_.length}function Ir(n,e){const t=ut(n),r=ut(e);if(t===null)return e;if(t===r)return Ir(Lt(n),Lt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function xB(n,e){const t=Yh(n,0),r=Yh(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=Gl(t[i],r[i]);if(s!==0)return s}return t.length===r.length?0:t.length<r.length?-1:1}function fw(n,e){if(wa(n)!==wa(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ci(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(wa(n)>wa(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class LB{constructor(e,t){this.errorPrefix_=t,this.parts_=Yh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xg(this.parts_[r]);R6(this)}}function OB(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=xg(e),R6(n)}function FB(n){const e=n.parts_.pop();n.byteLength_-=xg(e),n.parts_.length>0&&(n.byteLength_-=1)}function R6(n){if(n.byteLength_>F4)throw new Error(n.errorPrefix_+"has a key path longer than "+F4+" bytes ("+n.byteLength_+").");if(n.parts_.length>O4)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+O4+") or object contains a cycle "+ol(n))}function ol(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends A6{static getInstance(){return new mw}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=1e3,MB=300*1e3,M4=30*1e3,VB=1.3,BB=3e4,zB="server_kill",V4=3;class Zs extends P6{constructor(e,t,r,i,s,a,c,u){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=Zs.nextPersistentConnectionId_++,this.log_=Df("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hd,this.maxReconnectDelay_=MB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(Nn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new Ur,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,c=>{const u=c.d,h=c.s;Zs.warnOnListenWarnings_(u,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,u))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&ui(e,"w")){const r=Tl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||eD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=M4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=ZN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const a={p:t,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nn(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Uv("Unrecognized action received from server: "+Nn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>BB&&(this.reconnectDelay_=Hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VB)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Zs.nextConnectionId_++,s=this.lastSessionId;let a=!1,c=null;const u=function(){c?c.close():(a=!0,r())},h=function(g){ke(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(g)};this.realtime_={close:u,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,_]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?qn("getToken() completed but was canceled"):(qn("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=_&&_.token,c=new NB(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,v=>{gr(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(zB)},s))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&gr(g),u())}}}interrupt(e){qn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zp(this.interruptReasons_)&&(this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>lw(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new At(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){qn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=V4&&(this.reconnectDelay_=M4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){qn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=V4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+r6.replace(/\./g,"-")]=1,C0()?e["framework.cordova"]=1:Dg()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fg.getInstance().currentlyOnline();return zp(this.interruptReasons_)&&e}}Zs.nextPersistentConnectionId_=0;Zs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new mt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new mt(va,e),i=new mt(va,t);return this.compare(r,i)!==0}minPost(){return mt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp;class N6 extends g_{static get __EMPTY_NODE(){return fp}static set __EMPTY_NODE(e){fp=e}compare(e,t){return Gl(e.name,t.name)}isDefinedOn(e){throw Du("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return mt.MIN}maxPost(){return new mt(ao,fp)}makePost(e,t){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new mt(e,fp)}toString(){return".key"}}const Cs=new N6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?r(e.key,t):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Gn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Gn.RED,this.left=i??Gr.EMPTY_NODE,this.right=s??Gr.EMPTY_NODE}copy(e,t,r,i,s){return new Gn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return Gr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Gn.RED=!0;Gn.BLACK=!1;class UB{copy(e,t,r,i,s){return this}insert(e,t,r){return new Gn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Gr{constructor(e,t=Gr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Gr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Gn.BLACK,null,null))}remove(e){return new Gr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gn.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new mp(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new mp(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new mp(this.root_,null,this.comparator_,!0,e)}}Gr.EMPTY_NODE=new UB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(n,e){return Gl(n.name,e.name)}function pw(n,e){return Gl(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wv;function WB(n){Wv=n}const D6=function(n){return typeof n=="number"?"number:"+u6(n):"string:"+n},x6=function(n){if(n.isLeafNode()){const e=n.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ui(e,".sv"),"Priority must be a string or number.")}else ke(n===Wv||n.isEmpty(),"priority of unexpected type.");ke(n===Wv||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B4;class Un{static set __childrenNodeConstructor(e){B4=e}static get __childrenNodeConstructor(){return B4}constructor(e,t=Un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),x6(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return dt(e)?this:ut(e)===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=ut(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||wa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Un.__childrenNodeConstructor.EMPTY_NODE.updateChild(Lt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+D6(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=u6(this.value_):e+=this.value_,this.lazyHash_=a6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Un.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Un.VALUE_TYPE_ORDER.indexOf(t),s=Un.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+t),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L6,O6;function HB(n){L6=n}function GB(n){O6=n}class qB extends g_{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?Gl(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return mt.MIN}maxPost(){return new mt(ao,new Un("[PRIORITY-POST]",O6))}makePost(e,t){const r=L6(e);return new mt(t,new Un("[PRIORITY-POST]",r))}toString(){return".priority"}}const zt=new qB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=Math.log(2);class KB{constructor(e){const t=s=>parseInt(Math.log(s)/$B,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mg=function(n,e,t,r){n.sort(e);const i=function(u,h){const p=h-u;let g,_;if(p===0)return null;if(p===1)return g=n[u],_=t?t(g):g,new Gn(_,g.node,Gn.BLACK,null,null);{const v=parseInt(p/2,10)+u,I=i(u,v),T=i(v+1,h);return g=n[v],_=t?t(g):g,new Gn(_,g.node,Gn.BLACK,I,T)}},s=function(u){let h=null,p=null,g=n.length;const _=function(I,T){const b=g-I,C=g;g-=I;const D=i(b+1,C),F=n[b],U=t?t(F):F;v(new Gn(U,F.node,T,null,D))},v=function(I){h?(h.left=I,h=I):(p=I,h=I)};for(let I=0;I<u.count;++I){const T=u.nextBitIsOne(),b=Math.pow(2,u.count-(I+1));T?_(b,Gn.BLACK):(_(b,Gn.BLACK),_(b,Gn.RED))}return p},a=new KB(n.length),c=s(a);return new Gr(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z1;const Vc={};class Ys{static get Default(){return ke(Vc&&zt,"ChildrenNode.ts has not been loaded"),z1=z1||new Ys({".priority":Vc},{".priority":zt}),z1}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Tl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Gr?t:null}hasIndex(e){return ui(this.indexSet_,e.toString())}addIndex(e,t){ke(e!==Cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(mt.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let c;i?c=mg(r,e.getCompare()):c=Vc;const u=e.toString(),h={...this.indexSet_};h[u]=e;const p={...this.indexes_};return p[u]=c,new Ys(p,h)}addToIndexes(e,t){const r=Up(this.indexes_,(i,s)=>{const a=Tl(this.indexSet_,s);if(ke(a,"Missing index implementation for "+s),i===Vc)if(a.isDefinedOn(e.node)){const c=[],u=t.getIterator(mt.Wrap);let h=u.getNext();for(;h;)h.name!==e.name&&c.push(h),h=u.getNext();return c.push(e),mg(c,a.getCompare())}else return Vc;else{const c=t.get(e.name);let u=i;return c&&(u=u.remove(new mt(e.name,c))),u.insert(e,e.node)}});return new Ys(r,this.indexSet_)}removeFromIndexes(e,t){const r=Up(this.indexes_,i=>{if(i===Vc)return i;{const s=t.get(e.name);return s?i.remove(new mt(e.name,s)):i}});return new Ys(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;class it{static get EMPTY_NODE(){return Gd||(Gd=new it(new Gr(pw),null,Ys.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&x6(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gd}updatePriority(e){return this.children_.isEmpty()?this:new it(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Gd:t}}getChild(e){const t=ut(e);return t===null?this:this.getImmediateChild(t).getChild(Lt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ke(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new mt(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Gd:this.priorityNode_;return new it(i,a,s)}}updateChild(e,t){const r=ut(e);if(r===null)return t;{ke(ut(e)!==".priority"||wa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Lt(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(zt,(a,c)=>{t[a]=c.val(e),r++,s&&it.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const c in t)a[c]=t[c];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+D6(this.getPriority().val())+":"),this.forEachChild(zt,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":a6(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new mt(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new mt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new mt(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,mt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,mt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xf?-1:0}withIndex(e){if(e===Cs||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new it(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Cs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(zt),i=t.getIterator(zt);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Cs?null:this.indexMap_.get(e.toString())}}it.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class QB extends it{constructor(){super(new Gr(pw),it.EMPTY_NODE,Ys.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return it.EMPTY_NODE}isEmpty(){return!1}}const xf=new QB;Object.defineProperties(mt,{MIN:{value:new mt(va,it.EMPTY_NODE)},MAX:{value:new mt(ao,xf)}});N6.__EMPTY_NODE=it.EMPTY_NODE;Un.__childrenNodeConstructor=it;WB(xf);GB(xf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=!0;function sn(n,e=null){if(n===null)return it.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Un(t,sn(e))}if(!(n instanceof Array)&&YB){const t=[];let r=!1;if(Kn(n,(a,c)=>{if(a.substring(0,1)!=="."){const u=sn(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),t.push(new mt(a,u)))}}),t.length===0)return it.EMPTY_NODE;const s=mg(t,jB,a=>a.name,pw);if(r){const a=mg(t,zt.getCompare());return new it(s,sn(e),new Ys({".priority":a},{".priority":zt}))}else return new it(s,sn(e),Ys.Default)}else{let t=it.EMPTY_NODE;return Kn(n,(r,i)=>{if(ui(n,r)&&r.substring(0,1)!=="."){const s=sn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(sn(e))}}HB(sn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends g_{constructor(e){super(),this.indexPath_=e,ke(!dt(e)&&ut(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?Gl(e.name,t.name):s}makePost(e,t){const r=sn(e),i=it.EMPTY_NODE.updateChild(this.indexPath_,r);return new mt(t,i)}maxPost(){const e=it.EMPTY_NODE.updateChild(this.indexPath_,xf);return new mt(ao,e)}toString(){return Yh(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB extends g_{compare(e,t){const r=e.node.compareTo(t.node);return r===0?Gl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return mt.MIN}maxPost(){return mt.MAX}makePost(e,t){const r=sn(e);return new mt(t,r)}toString(){return".value"}}const _w=new JB;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n){return{type:"value",snapshotNode:n}}function Su(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Jh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Xh(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function XB(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.index_=e}updateChild(e,t,r,i,s,a){ke(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(t)?a.trackChildChange(Jh(t,c)):ke(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Su(t,r)):a.trackChildChange(Xh(t,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(zt,(i,s)=>{t.hasChild(i)||r.trackChildChange(Jh(i,s))}),t.isLeafNode()||t.forEachChild(zt,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Xh(i,s,a))}else r.trackChildChange(Su(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?it.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.indexedFilter_=new yw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zh.getStartPost_(e),this.endPost_=Zh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,a){return this.matches(new mt(t,r))||(r=it.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,a)}updateFullNode(e,t,r){t.isLeafNode()&&(t=it.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(it.EMPTY_NODE);const s=this;return t.forEachChild(zt,(a,c)=>{s.matches(new mt(a,c))||(i=i.updateImmediateChild(a,it.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,a){return this.rangedFilter_.matches(new mt(t,r))||(r=it.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,a):this.fullLimitUpdateChild_(e,t,r,s,a)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=it.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=it.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(it.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const c=s.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:i=i.updateImmediateChild(c.name,it.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let a;if(this.reverse_){const g=this.index_.getCompare();a=(_,v)=>g(v,_)}else a=this.index_.getCompare();const c=e;ke(c.numChildren()===this.limit_,"");const u=new mt(t,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(c.hasChild(t)){const g=c.getImmediateChild(t);let _=i.getChildAfterChild(this.index_,h,this.reverse_);for(;_!=null&&(_.name===t||c.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const v=_==null?1:a(_,u);if(p&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(Xh(t,r,g)),c.updateImmediateChild(t,r);{s!=null&&s.trackChildChange(Jh(t,g));const T=c.updateImmediateChild(t,it.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(s!=null&&s.trackChildChange(Su(_.name,_.node)),T.updateImmediateChild(_.name,_.node)):T}}else return r.isEmpty()?e:p&&a(h,u)>=0?(s!=null&&(s.trackChildChange(Jh(h.name,h.node)),s.trackChildChange(Su(t,r))),c.updateImmediateChild(t,r).updateImmediateChild(h.name,it.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:va}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ao}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zt}copy(){const e=new __;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ez(n){return n.loadsAllData()?new yw(n.getIndex()):n.hasLimit()?new ZB(n):new Zh(n)}function tz(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}function nz(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}function Hv(n,e,t){const r=n.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function rz(n,e,t){let r;return n.index_===Cs||t?r=Hv(n,e,t):r=Hv(n,e,ao),r.startAfterSet_=!0,r}function Gv(n,e,t){const r=n.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function iz(n,e,t){let r;return n.index_===Cs||t?r=Gv(n,e,t):r=Gv(n,e,va),r.endBeforeSet_=!0,r}function y_(n,e){const t=n.copy();return t.index_=e,t}function z4(n){const e={};if(n.isDefault())return e;let t;if(n.index_===zt?t="$priority":n.index_===_w?t="$value":n.index_===Cs?t="$key":(ke(n.index_ instanceof gw,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Nn(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Nn(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Nn(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Nn(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Nn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function U4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==zt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends P6{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Df("p:rest:"),this.listens_={}}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=pg.getListenId_(e,r),c={};this.listens_[a]=c;const u=z4(e._queryParams);this.restRequest_(s+".json",u,(h,p)=>{let g=p;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(s,g,!1,r),Tl(this.listens_,a)===c){let _;h?h===401?_="permission_denied":_="rest_error:"+h:_="ok",i(_,null)}})}unlisten(e,t){const r=pg.getListenId_(e,t);delete this.listens_[r]}get(e){const t=z4(e._queryParams),r=e._path.toString(),i=new Ur;return this.restRequest_(r+".json",t,(s,a)=>{let c=a;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bl(t);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=Ch(c.responseText)}catch{gr("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&gr("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.rootNode_=it.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(){return{value:null,children:new Map}}function qu(n,e,t){if(dt(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=ut(e);n.children.has(r)||n.children.set(r,gg());const i=n.children.get(r);e=Lt(e),qu(i,e,t)}}function qv(n,e){if(dt(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(zt,(r,i)=>{qu(n,new At(r),i)}),qv(n,e)}}else if(n.children.size>0){const t=ut(e);return e=Lt(e),n.children.has(t)&&qv(n.children.get(t),e)&&n.children.delete(t),n.children.size===0}else return!0}function $v(n,e,t){n.value!==null?t(e,n.value):oz(n,(r,i)=>{const s=new At(e.toString()+"/"+r);$v(i,s,t)})}function oz(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&Kn(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=10*1e3,lz=30*1e3,cz=300*1e3;class uz{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new az(e);const r=j4+(lz-j4)*Math.random();_h(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Kn(e,(i,s)=>{s>0&&ui(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),_h(this.reportStats_.bind(this),Math.floor(Math.random()*2*cz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yi||(Yi={}));function vw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ww(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ew(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Yi.ACK_USER_WRITE,this.source=vw()}operationForChild(e){if(dt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new At(e));return new _g(St(),t,this.revert)}}else return ke(ut(this.path)===e,"operationForChild called for unrelated child."),new _g(Lt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.source=e,this.path=t,this.type=Yi.LISTEN_COMPLETE}operationForChild(e){return dt(this.path)?new ef(this.source,St()):new ef(this.source,Lt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Yi.OVERWRITE}operationForChild(e){return dt(this.path)?new Ol(this.source,St(),this.snap.getImmediateChild(e)):new Ol(this.source,Lt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Yi.MERGE}operationForChild(e){if(dt(this.path)){const t=this.children.subtree(new At(e));return t.isEmpty()?null:t.value?new Ol(this.source,St(),t.value):new Cu(this.source,St(),t)}else return ke(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cu(this.source,Lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(dt(e))return this.isFullyInitialized()&&!this.filtered_;const t=ut(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function hz(n,e,t,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(XB(a.childName,a.snapshotNode))}),qd(n,i,"child_removed",e,r,t),qd(n,i,"child_added",e,r,t),qd(n,i,"child_moved",s,r,t),qd(n,i,"child_changed",e,r,t),qd(n,i,"value",e,r,t),i}function qd(n,e,t,r,i,s){const a=r.filter(c=>c.type===t);a.sort((c,u)=>mz(n,c,u)),a.forEach(c=>{const u=fz(n,c,s);i.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(u,n.query_))})})}function fz(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function mz(n,e,t){if(e.childName==null||t.childName==null)throw Du("Should only compare child_ events.");const r=new mt(e.childName,e.snapshotNode),i=new mt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(n,e){return{eventCache:n,serverCache:e}}function yh(n,e,t,r){return v_(new Ea(e,t,r),n.serverCache)}function M6(n,e,t,r){return v_(n.eventCache,new Ea(e,t,r))}function yg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Fl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U1;const pz=()=>(U1||(U1=new Gr(JV)),U1);class Vt{static fromObject(e){let t=new Vt(null);return Kn(e,(r,i)=>{t=t.set(new At(r),i)}),t}constructor(e,t=pz()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:St(),value:this.value};if(dt(e))return null;{const r=ut(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Lt(e),t);return s!=null?{path:Xt(new At(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(dt(e))return this;{const t=ut(e),r=this.children.get(t);return r!==null?r.subtree(Lt(e)):new Vt(null)}}set(e,t){if(dt(e))return new Vt(t,this.children);{const r=ut(e),s=(this.children.get(r)||new Vt(null)).set(Lt(e),t),a=this.children.insert(r,s);return new Vt(this.value,a)}}remove(e){if(dt(e))return this.children.isEmpty()?new Vt(null):new Vt(null,this.children);{const t=ut(e),r=this.children.get(t);if(r){const i=r.remove(Lt(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new Vt(null):new Vt(this.value,s)}else return this}}get(e){if(dt(e))return this.value;{const t=ut(e),r=this.children.get(t);return r?r.get(Lt(e)):null}}setTree(e,t){if(dt(e))return t;{const r=ut(e),s=(this.children.get(r)||new Vt(null)).setTree(Lt(e),t);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new Vt(this.value,a)}}fold(e){return this.fold_(St(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Xt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,St(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(dt(e))return null;{const s=ut(e),a=this.children.get(s);return a?a.findOnPath_(Lt(e),Xt(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,St(),t)}foreachOnPath_(e,t,r){if(dt(e))return this;{this.value&&r(t,this.value);const i=ut(e),s=this.children.get(i);return s?s.foreachOnPath_(Lt(e),Xt(t,i),r):new Vt(null)}}foreach(e){this.foreach_(St(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Xt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.writeTree_=e}static empty(){return new Zi(new Vt(null))}}function vh(n,e,t){if(dt(e))return new Zi(new Vt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Ir(i,e);return s=s.updateChild(a,t),new Zi(n.writeTree_.set(i,s))}else{const i=new Vt(t),s=n.writeTree_.setTree(e,i);return new Zi(s)}}}function Kv(n,e,t){let r=n;return Kn(t,(i,s)=>{r=vh(r,Xt(e,i),s)}),r}function W4(n,e){if(dt(e))return Zi.empty();{const t=n.writeTree_.setTree(e,new Vt(null));return new Zi(t)}}function Qv(n,e){return ql(n,e)!=null}function ql(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ir(t.path,e)):null}function H4(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(zt,(r,i)=>{e.push(new mt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new mt(r,i.value))}),e}function oa(n,e){if(dt(e))return n;{const t=ql(n,e);return t!=null?new Zi(new Vt(t)):new Zi(n.writeTree_.subtree(e))}}function Yv(n){return n.writeTree_.isEmpty()}function Pu(n,e){return V6(St(),n.writeTree_,e)}function V6(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=V6(Xt(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Xt(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n,e){return j6(e,n)}function gz(n,e,t,r,i){ke(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=vh(n.visibleWrites,e,t)),n.lastWriteId=r}function _z(n,e,t,r){ke(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=Kv(n.visibleWrites,e,t),n.lastWriteId=r}function yz(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function vz(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ke(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,a=n.allWrites.length-1;for(;i&&a>=0;){const c=n.allWrites[a];c.visible&&(a>=t&&wz(c,r.path)?i=!1:Ci(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return Ez(n),!0;if(r.snap)n.visibleWrites=W4(n.visibleWrites,r.path);else{const c=r.children;Kn(c,u=>{n.visibleWrites=W4(n.visibleWrites,Xt(r.path,u))})}return!0}else return!1}function wz(n,e){if(n.snap)return Ci(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ci(Xt(n.path,t),e))return!0;return!1}function Ez(n){n.visibleWrites=B6(n.allWrites,Tz,St()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Tz(n){return n.visible}function B6(n,e,t){let r=Zi.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const a=s.path;let c;if(s.snap)Ci(t,a)?(c=Ir(t,a),r=vh(r,c,s.snap)):Ci(a,t)&&(c=Ir(a,t),r=vh(r,St(),s.snap.getChild(c)));else if(s.children){if(Ci(t,a))c=Ir(t,a),r=Kv(r,c,s.children);else if(Ci(a,t))if(c=Ir(a,t),dt(c))r=Kv(r,St(),s.children);else{const u=Tl(s.children,ut(c));if(u){const h=u.getChild(Lt(c));r=vh(r,St(),h)}}}else throw Du("WriteRecord should have .snap or .children")}}return r}function z6(n,e,t,r,i){if(!r&&!i){const s=ql(n.visibleWrites,e);if(s!=null)return s;{const a=oa(n.visibleWrites,e);if(Yv(a))return t;if(t==null&&!Qv(a,St()))return null;{const c=t||it.EMPTY_NODE;return Pu(a,c)}}}else{const s=oa(n.visibleWrites,e);if(!i&&Yv(s))return t;if(!i&&t==null&&!Qv(s,St()))return null;{const a=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(Ci(h.path,e)||Ci(e,h.path))},c=B6(n.allWrites,a,e),u=t||it.EMPTY_NODE;return Pu(c,u)}}}function Iz(n,e,t){let r=it.EMPTY_NODE;const i=ql(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(zt,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(t){const s=oa(n.visibleWrites,e);return t.forEachChild(zt,(a,c)=>{const u=Pu(oa(s,new At(a)),c);r=r.updateImmediateChild(a,u)}),H4(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=oa(n.visibleWrites,e);return H4(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function bz(n,e,t,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Xt(e,t);if(Qv(n.visibleWrites,s))return null;{const a=oa(n.visibleWrites,s);return Yv(a)?i.getChild(t):Pu(a,i.getChild(t))}}function Sz(n,e,t,r){const i=Xt(e,t),s=ql(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const a=oa(n.visibleWrites,i);return Pu(a,r.getNode().getImmediateChild(t))}else return null}function Cz(n,e){return ql(n.visibleWrites,e)}function Pz(n,e,t,r,i,s,a){let c;const u=oa(n.visibleWrites,e),h=ql(u,St());if(h!=null)c=h;else if(t!=null)c=Pu(u,t);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const p=[],g=a.getCompare(),_=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let v=_.getNext();for(;v&&p.length<i;)g(v,r)!==0&&p.push(v),v=_.getNext();return p}else return[]}function Az(){return{visibleWrites:Zi.empty(),allWrites:[],lastWriteId:-1}}function vg(n,e,t,r){return z6(n.writeTree,n.treePath,e,t,r)}function Tw(n,e){return Iz(n.writeTree,n.treePath,e)}function G4(n,e,t,r){return bz(n.writeTree,n.treePath,e,t,r)}function wg(n,e){return Cz(n.writeTree,Xt(n.treePath,e))}function kz(n,e,t,r,i,s){return Pz(n.writeTree,n.treePath,e,t,r,i,s)}function Iw(n,e,t){return Sz(n.writeTree,n.treePath,e,t)}function U6(n,e){return j6(Xt(n.treePath,e),n.writeTree)}function j6(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ke(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,Xh(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,Jh(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,Su(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,Xh(r,e.snapshotNode,i.oldSnap));else throw Du("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const W6=new Nz;class bw{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ea(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Iw(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fl(this.viewCache_),s=kz(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(n){return{filter:n}}function xz(n,e){ke(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Lz(n,e,t,r,i){const s=new Rz;let a,c;if(t.type===Yi.OVERWRITE){const h=t;h.source.fromUser?a=Jv(n,e,h.path,h.snap,r,i,s):(ke(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!dt(h.path),a=Eg(n,e,h.path,h.snap,r,i,c,s))}else if(t.type===Yi.MERGE){const h=t;h.source.fromUser?a=Fz(n,e,h.path,h.children,r,i,s):(ke(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),a=Xv(n,e,h.path,h.children,r,i,c,s))}else if(t.type===Yi.ACK_USER_WRITE){const h=t;h.revert?a=Bz(n,e,h.path,r,i,s):a=Mz(n,e,h.path,h.affectedTree,r,i,s)}else if(t.type===Yi.LISTEN_COMPLETE)a=Vz(n,e,t.path,r,s);else throw Du("Unknown operation type: "+t.type);const u=s.getChanges();return Oz(e,a,u),{viewCache:a,changes:u}}function Oz(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=yg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(F6(yg(e)))}}function H6(n,e,t,r,i,s){const a=e.eventCache;if(wg(r,t)!=null)return e;{let c,u;if(dt(t))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Fl(e),p=h instanceof it?h:it.EMPTY_NODE,g=Tw(r,p);c=n.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const h=vg(r,Fl(e));c=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=ut(t);if(h===".priority"){ke(wa(t)===1,"Can't have a priority with additional path components");const p=a.getNode();u=e.serverCache.getNode();const g=G4(r,t,p,u);g!=null?c=n.filter.updatePriority(p,g):c=a.getNode()}else{const p=Lt(t);let g;if(a.isCompleteForChild(h)){u=e.serverCache.getNode();const _=G4(r,t,a.getNode(),u);_!=null?g=a.getNode().getImmediateChild(h).updateChild(p,_):g=a.getNode().getImmediateChild(h)}else g=Iw(r,h,e.serverCache);g!=null?c=n.filter.updateChild(a.getNode(),h,g,p,i,s):c=a.getNode()}}return yh(e,c,a.isFullyInitialized()||dt(t),n.filter.filtersNodes())}}function Eg(n,e,t,r,i,s,a,c){const u=e.serverCache;let h;const p=a?n.filter:n.filter.getIndexedFilter();if(dt(t))h=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){const v=u.getNode().updateChild(t,r);h=p.updateFullNode(u.getNode(),v,null)}else{const v=ut(t);if(!u.isCompleteForPath(t)&&wa(t)>1)return e;const I=Lt(t),b=u.getNode().getImmediateChild(v).updateChild(I,r);v===".priority"?h=p.updatePriority(u.getNode(),b):h=p.updateChild(u.getNode(),v,b,I,W6,null)}const g=M6(e,h,u.isFullyInitialized()||dt(t),p.filtersNodes()),_=new bw(i,g,s);return H6(n,g,t,i,_,c)}function Jv(n,e,t,r,i,s,a){const c=e.eventCache;let u,h;const p=new bw(i,e,s);if(dt(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,a),u=yh(e,h,!0,n.filter.filtersNodes());else{const g=ut(t);if(g===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),r),u=yh(e,h,c.isFullyInitialized(),c.isFiltered());else{const _=Lt(t),v=c.getNode().getImmediateChild(g);let I;if(dt(_))I=r;else{const T=p.getCompleteChild(g);T!=null?hw(_)===".priority"&&T.getChild(k6(_)).isEmpty()?I=T:I=T.updateChild(_,r):I=it.EMPTY_NODE}if(v.equals(I))u=e;else{const T=n.filter.updateChild(c.getNode(),g,I,_,p,a);u=yh(e,T,c.isFullyInitialized(),n.filter.filtersNodes())}}}return u}function q4(n,e){return n.eventCache.isCompleteForChild(e)}function Fz(n,e,t,r,i,s,a){let c=e;return r.foreach((u,h)=>{const p=Xt(t,u);q4(e,ut(p))&&(c=Jv(n,c,p,h,i,s,a))}),r.foreach((u,h)=>{const p=Xt(t,u);q4(e,ut(p))||(c=Jv(n,c,p,h,i,s,a))}),c}function $4(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Xv(n,e,t,r,i,s,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,h;dt(t)?h=r:h=new Vt(null).setTree(t,r);const p=e.serverCache.getNode();return h.children.inorderTraversal((g,_)=>{if(p.hasChild(g)){const v=e.serverCache.getNode().getImmediateChild(g),I=$4(n,v,_);u=Eg(n,u,new At(g),I,i,s,a,c)}}),h.children.inorderTraversal((g,_)=>{const v=!e.serverCache.isCompleteForChild(g)&&_.value===null;if(!p.hasChild(g)&&!v){const I=e.serverCache.getNode().getImmediateChild(g),T=$4(n,I,_);u=Eg(n,u,new At(g),T,i,s,a,c)}}),u}function Mz(n,e,t,r,i,s,a){if(wg(i,t)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(dt(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return Eg(n,e,t,u.getNode().getChild(t),i,s,c,a);if(dt(t)){let h=new Vt(null);return u.getNode().forEachChild(Cs,(p,g)=>{h=h.set(new At(p),g)}),Xv(n,e,t,h,i,s,c,a)}else return e}else{let h=new Vt(null);return r.foreach((p,g)=>{const _=Xt(t,p);u.isCompleteForPath(_)&&(h=h.set(p,u.getNode().getChild(_)))}),Xv(n,e,t,h,i,s,c,a)}}function Vz(n,e,t,r,i){const s=e.serverCache,a=M6(e,s.getNode(),s.isFullyInitialized()||dt(t),s.isFiltered());return H6(n,a,t,r,W6,i)}function Bz(n,e,t,r,i,s){let a;if(wg(r,t)!=null)return e;{const c=new bw(r,e,i),u=e.eventCache.getNode();let h;if(dt(t)||ut(t)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=vg(r,Fl(e));else{const g=e.serverCache.getNode();ke(g instanceof it,"serverChildren would be complete if leaf node"),p=Tw(r,g)}p=p,h=n.filter.updateFullNode(u,p,s)}else{const p=ut(t);let g=Iw(r,p,e.serverCache);g==null&&e.serverCache.isCompleteForChild(p)&&(g=u.getImmediateChild(p)),g!=null?h=n.filter.updateChild(u,p,g,Lt(t),c,s):e.eventCache.getNode().hasChild(p)?h=n.filter.updateChild(u,p,it.EMPTY_NODE,Lt(t),c,s):h=u,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=vg(r,Fl(e)),a.isLeafNode()&&(h=n.filter.updateFullNode(h,a,s)))}return a=e.serverCache.isFullyInitialized()||wg(r,St())!=null,yh(e,h,a,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new yw(r.getIndex()),s=ez(r);this.processor_=Dz(s);const a=t.serverCache,c=t.eventCache,u=i.updateFullNode(it.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(it.EMPTY_NODE,c.getNode(),null),p=new Ea(u,a.isFullyInitialized(),i.filtersNodes()),g=new Ea(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=v_(g,p),this.eventGenerator_=new dz(this.query_)}get query(){return this.query_}}function Uz(n){return n.viewCache_.serverCache.getNode()}function jz(n){return yg(n.viewCache_)}function Wz(n,e){const t=Fl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!dt(e)&&!t.getImmediateChild(ut(e)).isEmpty())?t.getChild(e):null}function K4(n){return n.eventRegistrations_.length===0}function Hz(n,e){n.eventRegistrations_.push(e)}function Q4(n,e,t){const r=[];if(t){ke(e==null,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(t,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function Y4(n,e,t,r){e.type===Yi.MERGE&&e.source.queryId!==null&&(ke(Fl(n.viewCache_),"We should always have a full cache before handling merges"),ke(yg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=Lz(n.processor_,i,e,t,r);return xz(n.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,G6(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Gz(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(zt,(s,a)=>{r.push(Su(s,a))}),t.isFullyInitialized()&&r.push(F6(t.getNode())),G6(n,r,t.getNode(),e)}function G6(n,e,t,r){const i=r?[r]:n.eventRegistrations_;return hz(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg;class q6{constructor(){this.views=new Map}}function qz(n){ke(!Tg,"__referenceConstructor has already been defined"),Tg=n}function $z(){return ke(Tg,"Reference.ts has not been loaded"),Tg}function Kz(n){return n.views.size===0}function Sw(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),Y4(s,e,t,r)}else{let s=[];for(const a of n.views.values())s=s.concat(Y4(a,e,t,r));return s}}function $6(n,e,t,r,i){const s=e._queryIdentifier,a=n.views.get(s);if(!a){let c=vg(t,i?r:null),u=!1;c?u=!0:r instanceof it?(c=Tw(t,r),u=!1):(c=it.EMPTY_NODE,u=!1);const h=v_(new Ea(c,u,!1),new Ea(r,i,!1));return new zz(e,h)}return a}function Qz(n,e,t,r,i,s){const a=$6(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),Hz(a,t),Gz(a,t)}function Yz(n,e,t,r){const i=e._queryIdentifier,s=[];let a=[];const c=Ta(n);if(i==="default")for(const[u,h]of n.views.entries())a=a.concat(Q4(h,t,r)),K4(h)&&(n.views.delete(u),h.query._queryParams.loadsAllData()||s.push(h.query));else{const u=n.views.get(i);u&&(a=a.concat(Q4(u,t,r)),K4(u)&&(n.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!Ta(n)&&s.push(new($z())(e._repo,e._path)),{removed:s,events:a}}function K6(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function aa(n,e){let t=null;for(const r of n.views.values())t=t||Wz(r,e);return t}function Q6(n,e){if(e._queryParams.loadsAllData())return E_(n);{const r=e._queryIdentifier;return n.views.get(r)}}function Y6(n,e){return Q6(n,e)!=null}function Ta(n){return E_(n)!=null}function E_(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig;function Jz(n){ke(!Ig,"__referenceConstructor has already been defined"),Ig=n}function Xz(){return ke(Ig,"Reference.ts has not been loaded"),Ig}let Zz=1;class J4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vt(null),this.pendingWriteTree_=Az(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cw(n,e,t,r,i){return gz(n.pendingWriteTree_,e,t,r,i),i?$u(n,new Ol(vw(),e,t)):[]}function eU(n,e,t,r){_z(n.pendingWriteTree_,e,t,r);const i=Vt.fromObject(t);return $u(n,new Cu(vw(),e,i))}function Xo(n,e,t=!1){const r=yz(n.pendingWriteTree_,e);if(vz(n.pendingWriteTree_,e)){let s=new Vt(null);return r.snap!=null?s=s.set(St(),!0):Kn(r.children,a=>{s=s.set(new At(a),!0)}),$u(n,new _g(r.path,s,t))}else return[]}function Lf(n,e,t){return $u(n,new Ol(ww(),e,t))}function tU(n,e,t){const r=Vt.fromObject(t);return $u(n,new Cu(ww(),e,r))}function nU(n,e){return $u(n,new ef(ww(),e))}function rU(n,e,t){const r=Pw(n,t);if(r){const i=Aw(r),s=i.path,a=i.queryId,c=Ir(s,e),u=new ef(Ew(a),c);return kw(n,s,u)}else return[]}function bg(n,e,t,r,i=!1){const s=e._path,a=n.syncPointTree_.get(s);let c=[];if(a&&(e._queryIdentifier==="default"||Y6(a,e))){const u=Yz(a,e,t,r);Kz(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const h=u.removed;if(c=u.events,!i){const p=h.findIndex(_=>_._queryParams.loadsAllData())!==-1,g=n.syncPointTree_.findOnPath(s,(_,v)=>Ta(v));if(p&&!g){const _=n.syncPointTree_.subtree(s);if(!_.isEmpty()){const v=oU(_);for(let I=0;I<v.length;++I){const T=v[I],b=T.query,C=e3(n,T);n.listenProvider_.startListening(wh(b),tf(n,b),C.hashFn,C.onComplete)}}}!g&&h.length>0&&!r&&(p?n.listenProvider_.stopListening(wh(e),null):h.forEach(_=>{const v=n.queryToTagMap.get(I_(_));n.listenProvider_.stopListening(wh(_),v)}))}aU(n,h)}return c}function J6(n,e,t,r){const i=Pw(n,r);if(i!=null){const s=Aw(i),a=s.path,c=s.queryId,u=Ir(a,e),h=new Ol(Ew(c),u,t);return kw(n,a,h)}else return[]}function iU(n,e,t,r){const i=Pw(n,r);if(i){const s=Aw(i),a=s.path,c=s.queryId,u=Ir(a,e),h=Vt.fromObject(t),p=new Cu(Ew(c),u,h);return kw(n,a,p)}else return[]}function Zv(n,e,t,r=!1){const i=e._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(i,(_,v)=>{const I=Ir(_,i);s=s||aa(v,I),a=a||Ta(v)});let c=n.syncPointTree_.get(i);c?(a=a||Ta(c),s=s||aa(c,St())):(c=new q6,n.syncPointTree_=n.syncPointTree_.set(i,c));let u;s!=null?u=!0:(u=!1,s=it.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((v,I)=>{const T=aa(I,St());T&&(s=s.updateImmediateChild(v,T))}));const h=Y6(c,e);if(!h&&!e._queryParams.loadsAllData()){const _=I_(e);ke(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=lU();n.queryToTagMap.set(_,v),n.tagToQueryMap.set(v,_)}const p=w_(n.pendingWriteTree_,i);let g=Qz(c,e,t,p,s,u);if(!h&&!a&&!r){const _=Q6(c,e);g=g.concat(cU(n,e,_))}return g}function T_(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,c)=>{const u=Ir(a,e),h=aa(c,u);if(h)return h});return z6(i,e,s,t,!0)}function sU(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(h,p)=>{const g=Ir(h,t);r=r||aa(p,g)});let i=n.syncPointTree_.get(t);i?r=r||aa(i,St()):(i=new q6,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=r!=null,a=s?new Ea(r,!0,!1):null,c=w_(n.pendingWriteTree_,e._path),u=$6(i,e,c,s?a.getNode():it.EMPTY_NODE,s);return jz(u)}function $u(n,e){return X6(e,n.syncPointTree_,null,w_(n.pendingWriteTree_,St()))}function X6(n,e,t,r){if(dt(n.path))return Z6(n,e,t,r);{const i=e.get(St());t==null&&i!=null&&(t=aa(i,St()));let s=[];const a=ut(n.path),c=n.operationForChild(a),u=e.children.get(a);if(u&&c){const h=t?t.getImmediateChild(a):null,p=U6(r,a);s=s.concat(X6(c,u,h,p))}return i&&(s=s.concat(Sw(i,n,r,t))),s}}function Z6(n,e,t,r){const i=e.get(St());t==null&&i!=null&&(t=aa(i,St()));let s=[];return e.children.inorderTraversal((a,c)=>{const u=t?t.getImmediateChild(a):null,h=U6(r,a),p=n.operationForChild(a);p&&(s=s.concat(Z6(p,c,u,h)))}),i&&(s=s.concat(Sw(i,n,r,t))),s}function e3(n,e){const t=e.query,r=tf(n,t);return{hashFn:()=>(Uz(e)||it.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?rU(n,t._path,r):nU(n,t._path);{const s=eB(i,t);return bg(n,t,null,s)}}}}function tf(n,e){const t=I_(e);return n.queryToTagMap.get(t)}function I_(n){return n._path.toString()+"$"+n._queryIdentifier}function Pw(n,e){return n.tagToQueryMap.get(e)}function Aw(n){const e=n.indexOf("$");return ke(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new At(n.substr(0,e))}}function kw(n,e,t){const r=n.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=w_(n.pendingWriteTree_,e);return Sw(r,t,i,null)}function oU(n){return n.fold((e,t,r)=>{if(t&&Ta(t))return[E_(t)];{let i=[];return t&&(i=K6(t)),Kn(r,(s,a)=>{i=i.concat(a)}),i}})}function wh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Xz())(n._repo,n._path):n}function aU(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=I_(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}function lU(){return Zz++}function cU(n,e,t){const r=e._path,i=tf(n,e),s=e3(n,t),a=n.listenProvider_.startListening(wh(e),i,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(r);if(i)ke(!Ta(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((h,p,g)=>{if(!dt(h)&&p&&Ta(p))return[E_(p).query];{let _=[];return p&&(_=_.concat(K6(p).map(v=>v.query))),Kn(g,(v,I)=>{_=_.concat(I)}),_}});for(let h=0;h<u.length;++h){const p=u[h];n.listenProvider_.stopListening(wh(p),tf(n,p))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Rw(t)}node(){return this.node_}}class Nw{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Xt(this.path_,e);return new Nw(this.syncTree_,t)}node(){return T_(this.syncTree_,this.path_)}}const uU=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},X4=function(n,e,t){if(!n||typeof n!="object")return n;if(ke(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return dU(n[".sv"],e,t);if(typeof n[".sv"]=="object")return hU(n[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},dU=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ke(!1,"Unexpected server value: "+n)}},hU=function(n,e,t){n.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},t3=function(n,e,t,r){return xw(e,new Nw(t,n),r)},Dw=function(n,e,t){return xw(n,new Rw(e),t)};function xw(n,e,t){const r=n.getPriority().val(),i=X4(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,c=X4(a.getValue(),e,t);return c!==a.getValue()||i!==a.getPriority().val()?new Un(c,sn(i)):n}else{const a=n;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Un(i))),a.forEachChild(zt,(c,u)=>{const h=xw(u,e.getImmediateChild(c),t);h!==u&&(s=s.updateImmediateChild(c,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function b_(n,e){let t=e instanceof At?e:new At(e),r=n,i=ut(t);for(;i!==null;){const s=Tl(r.node.children,i)||{children:{},childCount:0};r=new Lw(i,r,s),t=Lt(t),i=ut(t)}return r}function $l(n){return n.node.value}function Ow(n,e){n.node.value=e,e0(n)}function n3(n){return n.node.childCount>0}function fU(n){return $l(n)===void 0&&!n3(n)}function S_(n,e){Kn(n.node.children,(t,r)=>{e(new Lw(t,n,r))})}function r3(n,e,t,r){t&&e(n),S_(n,i=>{r3(i,e,!0)})}function mU(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Of(n){return new At(n.parent===null?n.name:Of(n.parent)+"/"+n.name)}function e0(n){n.parent!==null&&pU(n.parent,n.name,n)}function pU(n,e,t){const r=fU(t),i=ui(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,e0(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,e0(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=/[\[\].#$\/\u0000-\u001F\u007F]/,_U=/[\[\].#$\u0000-\u001F\u007F]/,j1=10*1024*1024,C_=function(n){return typeof n=="string"&&n.length!==0&&!gU.test(n)},i3=function(n){return typeof n=="string"&&n.length!==0&&!_U.test(n)},yU=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),i3(n)},nf=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!p_(n)||n&&typeof n=="object"&&ui(n,".sv")},Ns=function(n,e,t,r){r&&e===void 0||Ff(qr(n,"value"),e,t)},Ff=function(n,e,t){const r=t instanceof At?new LB(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ol(r));if(typeof e=="function")throw new Error(n+"contains a function "+ol(r)+" with contents = "+e.toString());if(p_(e))throw new Error(n+"contains "+e.toString()+" "+ol(r));if(typeof e=="string"&&e.length>j1/3&&xg(e)>j1)throw new Error(n+"contains a string greater than "+j1+" utf8 bytes "+ol(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Kn(e,(a,c)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!C_(a)))throw new Error(n+" contains an invalid key ("+a+") "+ol(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OB(r,a),Ff(n,c,r),FB(r)}),i&&s)throw new Error(n+' contains ".value" child '+ol(r)+" in addition to actual children.")}},vU=function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Yh(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!C_(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(xB);let i=null;for(t=0;t<e.length;t++){if(r=e[t],i!==null&&Ci(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},s3=function(n,e,t,r){const i=qr(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Kn(e,(a,c)=>{const u=new At(a);if(Ff(i,c,Xt(t,u)),hw(u)===".priority"&&!nf(c))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),vU(i,s)},Fw=function(n,e,t){if(p_(e))throw new Error(qr(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nf(e))throw new Error(qr(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Mf=function(n,e,t,r){if(t!==void 0&&!C_(t))throw new Error(qr(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},rf=function(n,e,t,r){if(!i3(t))throw new Error(qr(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wU=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rf(n,e,t)},Pi=function(n,e){if(ut(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},o3=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!C_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!yU(t))throw new Error(qr(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function P_(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!fw(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function a3(n,e,t){P_(n,t),l3(n,r=>fw(r,e))}function hi(n,e,t){P_(n,t),l3(n,r=>Ci(r,e)||Ci(e,r))}function l3(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(TU(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function TU(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();El&&qn("event: "+t.toString()),Gu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="repo_interrupt",IU=25;class bU{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gg(),this.transactionQueueTree_=new Lw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SU(n,e,t){if(n.stats_=uw(n.repoInfo_),n.forceRestClient_||iB())n.server_=new pg(n.repoInfo_,(r,i,s,a)=>{Z4(n,r,i,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>eS(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Zs(n.repoInfo_,e,(r,i,s,a)=>{Z4(n,r,i,s,a)},r=>{eS(n,r)},r=>{CU(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=cB(n.repoInfo_,()=>new uz(n.stats_,n.server_)),n.infoData_=new sz,n.infoSyncTree_=new J4({startListening:(r,i,s,a)=>{let c=[];const u=n.infoData_.getNode(r._path);return u.isEmpty()||(c=Lf(n.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),Mw(n,"connected",!1),n.serverSyncTree_=new J4({startListening:(r,i,s,a)=>(n.server_.listen(r,s,i,(c,u)=>{const h=a(c,u);hi(n.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function u3(n){const t=n.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Vf(n){return uU({timestamp:u3(n)})}function Z4(n,e,t,r,i){n.dataUpdateCount++;const s=new At(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(i)if(r){const u=Up(t,h=>sn(h));a=iU(n.serverSyncTree_,s,u,i)}else{const u=sn(t);a=J6(n.serverSyncTree_,s,u,i)}else if(r){const u=Up(t,h=>sn(h));a=tU(n.serverSyncTree_,s,u)}else{const u=sn(t);a=Lf(n.serverSyncTree_,s,u)}let c=s;a.length>0&&(c=Au(n,s)),hi(n.eventQueue_,c,a)}function eS(n,e){Mw(n,"connected",e),e===!1&&kU(n)}function CU(n,e){Kn(e,(t,r)=>{Mw(n,t,r)})}function Mw(n,e,t){const r=new At("/.info/"+e),i=sn(t);n.infoData_.updateSnapshot(r,i);const s=Lf(n.infoSyncTree_,r,i);hi(n.eventQueue_,r,s)}function A_(n){return n.nextWriteId_++}function PU(n,e,t){const r=sU(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(i=>{const s=sn(i).withIndex(e._queryParams.getIndex());Zv(n.serverSyncTree_,e,t,!0);let a;if(e._queryParams.loadsAllData())a=Lf(n.serverSyncTree_,e._path,s);else{const c=tf(n.serverSyncTree_,e);a=J6(n.serverSyncTree_,e._path,s,c)}return hi(n.eventQueue_,e._path,a),bg(n.serverSyncTree_,e,t,null,!0),s},i=>(Ku(n,"get for query "+Nn(e)+" failed: "+i),Promise.reject(new Error(i))))}function Vw(n,e,t,r,i){Ku(n,"set",{path:e.toString(),value:t,priority:r});const s=Vf(n),a=sn(t,r),c=T_(n.serverSyncTree_,e),u=Dw(a,c,s),h=A_(n),p=Cw(n.serverSyncTree_,e,u,h,!0);P_(n.eventQueue_,p),n.server_.put(e.toString(),a.val(!0),(_,v)=>{const I=_==="ok";I||gr("set at "+e+" failed: "+_);const T=Xo(n.serverSyncTree_,h,!I);hi(n.eventQueue_,e,T),Ia(n,i,_,v)});const g=zw(n,e);Au(n,g),hi(n.eventQueue_,g,[])}function AU(n,e,t,r){Ku(n,"update",{path:e.toString(),value:t});let i=!0;const s=Vf(n),a={};if(Kn(t,(c,u)=>{i=!1,a[c]=t3(Xt(e,c),sn(u),n.serverSyncTree_,s)}),i)qn("update() called with empty data.  Don't do anything."),Ia(n,r,"ok",void 0);else{const c=A_(n),u=eU(n.serverSyncTree_,e,a,c);P_(n.eventQueue_,u),n.server_.merge(e.toString(),t,(h,p)=>{const g=h==="ok";g||gr("update at "+e+" failed: "+h);const _=Xo(n.serverSyncTree_,c,!g),v=_.length>0?Au(n,e):e;hi(n.eventQueue_,v,_),Ia(n,r,h,p)}),Kn(t,h=>{const p=zw(n,Xt(e,h));Au(n,p)}),hi(n.eventQueue_,e,[])}}function kU(n){Ku(n,"onDisconnectEvents");const e=Vf(n),t=gg();$v(n.onDisconnect_,St(),(i,s)=>{const a=t3(i,s,n.serverSyncTree_,e);qu(t,i,a)});let r=[];$v(t,St(),(i,s)=>{r=r.concat(Lf(n.serverSyncTree_,i,s));const a=zw(n,i);Au(n,a)}),n.onDisconnect_=gg(),hi(n.eventQueue_,St(),r)}function RU(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&qv(n.onDisconnect_,e),Ia(n,t,r,i)})}function tS(n,e,t,r){const i=sn(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&qu(n.onDisconnect_,e,i),Ia(n,r,s,a)})}function NU(n,e,t,r,i){const s=sn(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(a,c)=>{a==="ok"&&qu(n.onDisconnect_,e,s),Ia(n,i,a,c)})}function DU(n,e,t,r){if(zp(t)){qn("onDisconnect().update() called with empty data.  Don't do anything."),Ia(n,r,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{i==="ok"&&Kn(t,(a,c)=>{const u=sn(c);qu(n.onDisconnect_,Xt(e,a),u)}),Ia(n,r,i,s)})}function xU(n,e,t){let r;ut(e._path)===".info"?r=Zv(n.infoSyncTree_,e,t):r=Zv(n.serverSyncTree_,e,t),a3(n.eventQueue_,e._path,r)}function t0(n,e,t){let r;ut(e._path)===".info"?r=bg(n.infoSyncTree_,e,t):r=bg(n.serverSyncTree_,e,t),a3(n.eventQueue_,e._path,r)}function d3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(c3)}function LU(n){n.persistentConnection_&&n.persistentConnection_.resume(c3)}function Ku(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),qn(t,...e)}function Ia(n,e,t,r){e&&Gu(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function OU(n,e,t,r,i,s){Ku(n,"transaction on "+e);const a={path:e,update:t,onComplete:r,status:null,order:o6(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Bw(n,e,void 0);a.currentInputSnapshot=c;const u=a.update(c.val());if(u===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Ff("transaction failed: Data returned ",u,a.path),a.status=0;const h=b_(n.transactionQueueTree_,e),p=$l(h)||[];p.push(a),Ow(h,p);let g;typeof u=="object"&&u!==null&&ui(u,".priority")?(g=Tl(u,".priority"),ke(nf(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(T_(n.serverSyncTree_,e)||it.EMPTY_NODE).getPriority().val();const _=Vf(n),v=sn(u,g),I=Dw(v,c,_);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=I,a.currentWriteId=A_(n);const T=Cw(n.serverSyncTree_,e,I,a.currentWriteId,a.applyLocally);hi(n.eventQueue_,e,T),k_(n,n.transactionQueueTree_)}}function Bw(n,e,t){return T_(n.serverSyncTree_,e,t)||it.EMPTY_NODE}function k_(n,e=n.transactionQueueTree_){if(e||R_(n,e),$l(e)){const t=f3(n,e);ke(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&FU(n,Of(e),t)}else n3(e)&&S_(e,t=>{k_(n,t)})}function FU(n,e,t){const r=t.map(h=>h.currentWriteId),i=Bw(n,e,r);let s=i;const a=i.hash();for(let h=0;h<t.length;h++){const p=t[h];ke(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=Ir(e,p.path);s=s.updateChild(g,p.currentOutputSnapshotRaw)}const c=s.val(!0),u=e;n.server_.put(u.toString(),c,h=>{Ku(n,"transaction put response",{path:u.toString(),status:h});let p=[];if(h==="ok"){const g=[];for(let _=0;_<t.length;_++)t[_].status=2,p=p.concat(Xo(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&g.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();R_(n,b_(n.transactionQueueTree_,e)),k_(n,n.transactionQueueTree_),hi(n.eventQueue_,e,p);for(let _=0;_<g.length;_++)Gu(g[_])}else{if(h==="datastale")for(let g=0;g<t.length;g++)t[g].status===3?t[g].status=4:t[g].status=0;else{gr("transaction at "+u.toString()+" failed: "+h);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=h}Au(n,e)}},a)}function Au(n,e){const t=h3(n,e),r=Of(t),i=f3(n,t);return MU(n,i,r),r}function MU(n,e,t){if(e.length===0)return;const r=[];let i=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],h=Ir(t,u.path);let p=!1,g;if(ke(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,g=u.abortReason,i=i.concat(Xo(n.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=IU)p=!0,g="maxretry",i=i.concat(Xo(n.serverSyncTree_,u.currentWriteId,!0));else{const _=Bw(n,u.path,a);u.currentInputSnapshot=_;const v=e[c].update(_.val());if(v!==void 0){Ff("transaction failed: Data returned ",v,u.path);let I=sn(v);typeof v=="object"&&v!=null&&ui(v,".priority")||(I=I.updatePriority(_.getPriority()));const b=u.currentWriteId,C=Vf(n),D=Dw(I,_,C);u.currentOutputSnapshotRaw=I,u.currentOutputSnapshotResolved=D,u.currentWriteId=A_(n),a.splice(a.indexOf(b),1),i=i.concat(Cw(n.serverSyncTree_,u.path,D,u.currentWriteId,u.applyLocally)),i=i.concat(Xo(n.serverSyncTree_,b,!0))}else p=!0,g="nodata",i=i.concat(Xo(n.serverSyncTree_,u.currentWriteId,!0))}hi(n.eventQueue_,t,i),i=[],p&&(e[c].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(g==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(g),!1,null))))}R_(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)Gu(r[c]);k_(n,n.transactionQueueTree_)}function h3(n,e){let t,r=n.transactionQueueTree_;for(t=ut(e);t!==null&&$l(r)===void 0;)r=b_(r,t),e=Lt(e),t=ut(e);return r}function f3(n,e){const t=[];return m3(n,e,t),t.sort((r,i)=>r.order-i.order),t}function m3(n,e,t){const r=$l(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);S_(e,i=>{m3(n,i,t)})}function R_(n,e){const t=$l(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,Ow(e,t.length>0?t:void 0)}S_(e,r=>{R_(n,r)})}function zw(n,e){const t=Of(h3(n,e)),r=b_(n.transactionQueueTree_,e);return mU(r,i=>{W1(n,i)}),W1(n,r),r3(r,i=>{W1(n,i)}),t}function W1(n,e){const t=$l(e);if(t){const r=[];let i=[],s=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(ke(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):(ke(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),i=i.concat(Xo(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&r.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ow(e,void 0):t.length=s+1,hi(n.eventQueue_,Of(e),i);for(let a=0;a<r.length;a++)Gu(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function BU(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gr(`Invalid query segment '${t}' in query '${n}'`)}return e}const n0=function(n,e){const t=zU(n),r=t.namespace;t.domain==="firebase.com"&&Rs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Rs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||QV();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new w6(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new At(t.pathString)}},zU=function(n){let e="",t="",r="",i="",s="",a=!0,c="https",u=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(c=n.substring(0,h-1),n=n.substring(h+2));let p=n.indexOf("/");p===-1&&(p=n.length);let g=n.indexOf("?");g===-1&&(g=n.length),e=n.substring(0,Math.min(p,g)),p<g&&(i=VU(n.substring(p,g)));const _=BU(n.substring(Math.min(n.length,g)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",u=parseInt(e.substring(h+1),10)):h=e.length;const v=e.slice(0,h);if(v.toLowerCase()==="localhost")t="localhost";else if(v.split(".").length<=2)t=v;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),t=e.substring(I+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",UU=(function(){let n=0;const e=[];return function(t){const r=t===n;n=t;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=nS.charAt(t%64),t=Math.floor(t/64);ke(t===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=nS.charAt(e[i]);return ke(a.length===20,"nextPushId: Length should be 20."),a}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nn(this.snapshot.exportVal())}}class g3{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ke(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jU=class{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Ur;return RU(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Pi("OnDisconnect.remove",this._path);const e=new Ur;return tS(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Pi("OnDisconnect.set",this._path),Ns("OnDisconnect.set",e,this._path,!1);const t=new Ur;return tS(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Pi("OnDisconnect.setWithPriority",this._path),Ns("OnDisconnect.setWithPriority",e,this._path,!1),Fw("OnDisconnect.setWithPriority",t);const r=new Ur;return NU(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Pi("OnDisconnect.update",this._path),s3("OnDisconnect.update",e,this._path);const t=new Ur;return DU(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return dt(this._path)?null:hw(this._path)}get ref(){return new Di(this._repo,this._path)}get _queryIdentifier(){const e=U4(this._queryParams),t=lw(e);return t==="{}"?"default":t}get _queryObject(){return U4(this._queryParams)}isEqual(e){if(e=je(e),!(e instanceof Kr))return!1;const t=this._repo===e._repo,r=fw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+DB(this._path)}}function N_(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Da(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Cs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==va)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==ao)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(n.getIndex()===zt){if(e!=null&&!nf(e)||t!=null&&!nf(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ke(n.getIndex()instanceof gw||n.getIndex()===_w,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function D_(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Di extends Kr{constructor(e,t){super(e,t,new __,!1)}get parent(){const e=k6(this._path);return e===null?null:new Di(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let x_=class r0{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new At(e),r=Ml(this.ref,e);return new r0(this._node.getChild(t),r,zt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new r0(i,Ml(this.ref,r),zt)))}hasChild(e){const t=new At(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function _3(n,e){return n=je(n),n._checkNotDeleted("ref"),e!==void 0?Ml(n._root,e):n._root}function rS(n,e){n=je(n),n._checkNotDeleted("refFromURL");const t=n0(e,n._repo.repoInfo_.nodeAdmin);o3("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Rs("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),_3(n,t.path.toString())}function Ml(n,e){return n=je(n),ut(n._path)===null?wU("child","path",e):rf("child","path",e),new Di(n._repo,Xt(n._path,e))}function WU(n,e){n=je(n),Pi("push",n._path),Ns("push",e,n._path,!0);const t=u3(n._repo),r=UU(t),i=Ml(n,r),s=Ml(n,r);let a;return e!=null?a=jw(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function HU(n){return Pi("remove",n._path),jw(n,null)}function jw(n,e){n=je(n),Pi("set",n._path),Ns("set",e,n._path,!1);const t=new Ur;return Vw(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function GU(n,e){n=je(n),Pi("setPriority",n._path),Fw("setPriority",e);const t=new Ur;return Vw(n._repo,Xt(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}function qU(n,e,t){if(Pi("setWithPriority",n._path),Ns("setWithPriority",e,n._path,!1),Fw("setWithPriority",t),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new Ur;return Vw(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}function $U(n,e){s3("update",e,n._path);const t=new Ur;return AU(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function KU(n){n=je(n);const e=new Uw(()=>{}),t=new Bf(e);return PU(n._repo,n,t).then(r=>new x_(r,new Di(n._repo,n._path),n._queryParams.getIndex()))}class Bf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const r=t._queryParams.getIndex();return new p3("value",this,new x_(e.snapshotNode,new Di(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new g3(this,e,t):null}matches(e){return e instanceof Bf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class L_{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new g3(this,e,t):null}createEvent(e,t){ke(e.childName!=null,"Child events should have a childName.");const r=Ml(new Di(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new p3(e.type,this,new x_(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof L_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function zf(n,e,t,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=t,h=(p,g)=>{t0(n._repo,n,c),u(p,g)};h.userCallback=t.userCallback,h.context=t.context,t=h}const a=new Uw(t,s||void 0),c=e==="value"?new Bf(a):new L_(e,a);return xU(n._repo,n,c),()=>t0(n._repo,n,c)}function i0(n,e,t,r){return zf(n,"value",e,t,r)}function iS(n,e,t,r){return zf(n,"child_added",e,t,r)}function sS(n,e,t,r){return zf(n,"child_changed",e,t,r)}function oS(n,e,t,r){return zf(n,"child_moved",e,t,r)}function aS(n,e,t,r){return zf(n,"child_removed",e,t,r)}function lS(n,e,t){let r=null;const i=t?new Uw(t):null;e==="value"?r=new Bf(i):e&&(r=new L_(e,i)),t0(n._repo,n,r)}class ns{}class y3 extends ns{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Ns("endAt",this._value,e._path,!0);const t=Gv(e._queryParams,this._value,this._key);if(D_(t),Da(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(e._repo,e._path,t,e._orderByCalled)}}function QU(n,e){return Mf("endAt","key",e),new y3(n,e)}class YU extends ns{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){Ns("endBefore",this._value,e._path,!1);const t=iz(e._queryParams,this._value,this._key);if(D_(t),Da(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(e._repo,e._path,t,e._orderByCalled)}}function JU(n,e){return Mf("endBefore","key",e),new YU(n,e)}class v3 extends ns{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Ns("startAt",this._value,e._path,!0);const t=Hv(e._queryParams,this._value,this._key);if(D_(t),Da(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Kr(e._repo,e._path,t,e._orderByCalled)}}function XU(n=null,e){return Mf("startAt","key",e),new v3(n,e)}class ZU extends ns{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){Ns("startAfter",this._value,e._path,!1);const t=rz(e._queryParams,this._value,this._key);if(D_(t),Da(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Kr(e._repo,e._path,t,e._orderByCalled)}}function ej(n,e){return Mf("startAfter","key",e),new ZU(n,e)}class tj extends ns{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(e._repo,e._path,tz(e._queryParams,this._limit),e._orderByCalled)}}function nj(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tj(n)}class rj extends ns{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(e._repo,e._path,nz(e._queryParams,this._limit),e._orderByCalled)}}function ij(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rj(n)}class sj extends ns{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){N_(e,"orderByChild");const t=new At(this._path);if(dt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new gw(t),i=y_(e._queryParams,r);return Da(i),new Kr(e._repo,e._path,i,!0)}}function oj(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rf("orderByChild","path",n),new sj(n)}class aj extends ns{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){N_(e,"orderByKey");const t=y_(e._queryParams,Cs);return Da(t),new Kr(e._repo,e._path,t,!0)}}function lj(){return new aj}class cj extends ns{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){N_(e,"orderByPriority");const t=y_(e._queryParams,zt);return Da(t),new Kr(e._repo,e._path,t,!0)}}function uj(){return new cj}class dj extends ns{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){N_(e,"orderByValue");const t=y_(e._queryParams,_w);return Da(t),new Kr(e._repo,e._path,t,!0)}}function hj(){return new dj}class fj extends ns{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Ns("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new y3(this._value,this._key)._apply(new v3(this._value,this._key)._apply(e))}}function mj(n,e){return Mf("equalTo","key",e),new fj(n,e)}function $i(n,...e){let t=je(n);for(const r of e)t=r._apply(t);return t}qz(Di);Jz(Di);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="FIREBASE_DATABASE_EMULATOR_HOST",s0={};let gj=!1;function _j(n,e,t,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Sa(s);n.repoInfo_=new w6(e,a,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function w3(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||Rs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qn("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=n0(s,i),c=a.repoInfo,u,h;typeof process<"u"&&I4&&(h=I4[pj]),h?(u=!0,s=`http://${h}?ns=${c.namespace}`,a=n0(s,i),c=a.repoInfo):u=!a.repoInfo.secure;const p=i&&u?new eu(eu.OWNER):new oB(n.name,n.options,e);o3("Invalid Firebase Database URL",a),dt(a.path)||Rs("Database URL must point to the root of a Firebase Database (not including a child path).");const g=vj(c,n,p,new sB(n,t));return new wj(g,n)}function yj(n,e){const t=s0[e];(!t||t[n.key]!==n)&&Rs(`Database ${e}(${n.repoInfo_}) has already been deleted.`),d3(n),delete t[n.key]}function vj(n,e,t,r){let i=s0[e.name];i||(i={},s0[e.name]=i);let s=i[n.toURLString()];return s&&Rs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bU(n,gj,t,r),i[n.toURLString()]=s,s}let wj=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(SU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Di(this._repo,St())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rs("Cannot call "+e+" on a deleted database.")}};function E3(){bu.IS_TRANSPORT_INITIALIZED&&gr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ej(){E3(),Jo.forceDisallow()}function Tj(){E3(),Ii.forceDisallow(),Jo.forceAllow()}function Ij(n,e,t,r={}){n=je(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&to(r,s.repoInfo_.emulatorOptions))return;Rs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Rs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new eu(eu.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:GS(r.mockUserToken,n.app.options.projectId);a=new eu(c)}Sa(e)&&(b0(e),S0("Database",!0)),_j(s,i,r,a)}function bj(n){n=je(n),n._checkNotDeleted("goOffline"),d3(n._repo)}function Sj(n){n=je(n),n._checkNotDeleted("goOnline"),LU(n._repo)}function Cj(n,e){l6(n,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n){i6(lo),ro(new $r("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return w3(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),ci(b4,S4,n),ci(b4,S4,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj={".sv":"timestamp"};function kj(){return Aj}function Rj(n){return{".sv":{increment:n}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nj=class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Dj(n,e,t){if(n=je(n),Pi("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=(t==null?void 0:t.applyLocally)??!0,i=new Ur,s=(c,u,h)=>{let p=null;c?i.reject(c):(p=new x_(h,new Di(n._repo,n._path),zt),i.resolve(new Nj(u,p)))},a=i0(n,()=>{});return OU(n._repo,n._path,e,s,a,r),i.promise}Zs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Zs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Pj();const xj="@firebase/database-compat",Lj="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=new xu("@firebase/database-compat"),T3=function(n){const e="FIREBASE WARNING: "+n;Oj.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=function(n,e,t,r){if(t!==void 0&&typeof t!="boolean")throw new Error(qr(n,e)+"must be a boolean.")},Mj=function(n,e,t){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(qr(n,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this._delegate=e}cancel(e){st("OnDisconnect.cancel",0,1,arguments.length),Wn("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){st("OnDisconnect.remove",0,1,arguments.length),Wn("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){st("OnDisconnect.set",1,2,arguments.length),Wn("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){st("OnDisconnect.setWithPriority",2,3,arguments.length),Wn("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if(st("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,T3("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wn("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return st("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this._database=e,this._delegate=t}val(){return st("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return st("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return st("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return st("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return st("DataSnapshot.child",0,1,arguments.length),e=String(e),rf("DataSnapshot.child","path",e),new la(this._database,this._delegate.child(e))}hasChild(e){return st("DataSnapshot.hasChild",1,1,arguments.length),rf("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return st("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return st("DataSnapshot.forEach",1,1,arguments.length),Wn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new la(this._database,t)))}hasChildren(){return st("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return st("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return st("DataSnapshot.ref",0,0,arguments.length),new oi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class er{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var u;st("Query.on",2,4,arguments.length),Wn("Query.on","callback",t,!1);const s=er.getCancelAndContextArgs_("Query.on",r,i),a=(h,p)=>{t.call(s.context,new la(this.database,h),p)};a.userCallback=t,a.context=s.context;const c=(u=s.cancel)==null?void 0:u.bind(s.context);switch(e){case"value":return i0(this._delegate,a,c),t;case"child_added":return iS(this._delegate,a,c),t;case"child_removed":return aS(this._delegate,a,c),t;case"child_changed":return sS(this._delegate,a,c),t;case"child_moved":return oS(this._delegate,a,c),t;default:throw new Error(qr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if(st("Query.off",0,3,arguments.length),Mj("Query.off",e),Wn("Query.off","callback",t,!0),_I("Query.off","context",r),t){const i=()=>{};i.userCallback=t,i.context=r,lS(this._delegate,e,i)}else lS(this._delegate,e)}get(){return KU(this._delegate).then(e=>new la(this.database,e))}once(e,t,r,i){st("Query.once",1,4,arguments.length),Wn("Query.once","callback",t,!0);const s=er.getCancelAndContextArgs_("Query.once",r,i),a=new Ur,c=(h,p)=>{const g=new la(this.database,h);t&&t.call(s.context,g,p),a.resolve(g)};c.userCallback=t,c.context=s.context;const u=h=>{s.cancel&&s.cancel.call(s.context,h),a.reject(h)};switch(e){case"value":i0(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":iS(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":aS(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":sS(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":oS(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error(qr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return st("Query.limitToFirst",1,1,arguments.length),new er(this.database,$i(this._delegate,nj(e)))}limitToLast(e){return st("Query.limitToLast",1,1,arguments.length),new er(this.database,$i(this._delegate,ij(e)))}orderByChild(e){return st("Query.orderByChild",1,1,arguments.length),new er(this.database,$i(this._delegate,oj(e)))}orderByKey(){return st("Query.orderByKey",0,0,arguments.length),new er(this.database,$i(this._delegate,lj()))}orderByPriority(){return st("Query.orderByPriority",0,0,arguments.length),new er(this.database,$i(this._delegate,uj()))}orderByValue(){return st("Query.orderByValue",0,0,arguments.length),new er(this.database,$i(this._delegate,hj()))}startAt(e=null,t){return st("Query.startAt",0,2,arguments.length),new er(this.database,$i(this._delegate,XU(e,t)))}startAfter(e=null,t){return st("Query.startAfter",0,2,arguments.length),new er(this.database,$i(this._delegate,ej(e,t)))}endAt(e=null,t){return st("Query.endAt",0,2,arguments.length),new er(this.database,$i(this._delegate,QU(e,t)))}endBefore(e=null,t){return st("Query.endBefore",0,2,arguments.length),new er(this.database,$i(this._delegate,JU(e,t)))}equalTo(e,t){return st("Query.equalTo",1,2,arguments.length),new er(this.database,$i(this._delegate,mj(e,t)))}toString(){return st("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return st("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(st("Query.isEqual",1,1,arguments.length),!(e instanceof er)){const t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,Wn(e,"cancel",i.cancel,!0),i.context=r,_I(e,"context",i.context);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(qr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new oi(this.database,new Di(this._delegate._repo,this._delegate._path))}}class oi extends er{constructor(e,t){super(e,new Kr(t._repo,t._path,new __,!1)),this.database=e,this._delegate=t}getKey(){return st("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return st("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new oi(this.database,Ml(this._delegate,e))}getParent(){st("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new oi(this.database,e):null}getRoot(){return st("Reference.root",0,0,arguments.length),new oi(this.database,this._delegate.root)}set(e,t){st("Reference.set",1,2,arguments.length),Wn("Reference.set","onComplete",t,!0);const r=jw(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if(st("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,T3("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pi("Reference.update",this._delegate._path),Wn("Reference.update","onComplete",t,!0);const r=$U(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){st("Reference.setWithPriority",2,3,arguments.length),Wn("Reference.setWithPriority","onComplete",r,!0);const i=qU(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){st("Reference.remove",0,1,arguments.length),Wn("Reference.remove","onComplete",e,!0);const t=HU(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){st("Reference.transaction",1,3,arguments.length),Wn("Reference.transaction","transactionUpdate",e,!1),Wn("Reference.transaction","onComplete",t,!0),Fj("Reference.transaction","applyLocally",r);const i=Dj(this._delegate,e,{applyLocally:r}).then(s=>new Bj(s.committed,new la(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){st("Reference.setPriority",1,2,arguments.length),Wn("Reference.setPriority","onComplete",t,!0);const r=GU(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){st("Reference.push",0,2,arguments.length),Wn("Reference.push","onComplete",t,!0);const r=WU(this._delegate,e),i=r.then(a=>new oi(this.database,a));t&&i.then(()=>t(null),a=>t(a));const s=new oi(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Pi("Reference.onDisconnect",this._delegate._path),new Vj(new jU(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ej,forceLongPolling:Tj}}useEmulator(e,t,r={}){Ij(this._delegate,e,t,r)}ref(e){if(st("database.ref",0,1,arguments.length),e instanceof oi){const t=rS(this._delegate,e.toString());return new oi(this,t)}else{const t=_3(this._delegate,e);return new oi(this,t)}}refFromURL(e){st("database.refFromURL",1,1,arguments.length);const r=rS(this._delegate,e);return new oi(this,r)}goOffline(){return st("database.goOffline",0,0,arguments.length),bj(this._delegate)}goOnline(){return st("database.goOnline",0,0,arguments.length),Sj(this._delegate)}}sf.ServerValue={TIMESTAMP:kj(),increment:n=>Rj(n)};function zj({app:n,url:e,version:t,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){i6(t);const c=new P0("database-standalone"),u=new Y1("auth-internal",c);u.setComponent(new $r("auth-internal",()=>r,"PRIVATE"));let h;return i&&(h=new Y1("app-check-internal",c),h.setComponent(new $r("app-check-internal",()=>i,"PRIVATE"))),{instance:new sf(w3(n,u,h,e,a),n),namespace:s}}var Uj=Object.freeze({__proto__:null,initStandalone:zj});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=sf.ServerValue;function Wj(n){n.INTERNAL.registerComponent(new $r("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new sf(i,r)},"PUBLIC").setServiceProps({Reference:oi,Query:er,Database:sf,DataSnapshot:la,enableLogging:Cj,INTERNAL:Uj,ServerValue:jj}).setMultipleInstances(!0)),n.registerVersion(xj,Lj)}Wj(Dn);const Hj={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};Dn.apps.length||Dn.initializeApp(Hj);const tr=Dn.auth(),o0=Dn.firestore();Dn.database();const Gj="GitutOfflineDB",qj=11,Qu=()=>new Promise((n,e)=>{const t=indexedDB.open(Gj,qj);t.onerror=()=>e("Error opening IndexedDB."),t.onsuccess=()=>n(t.result),t.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs","cafeDocumentsData","favorites"].forEach(a=>{if(!i.objectStoreNames.contains(a)){let c={keyPath:"id"};a==="tagTitleLists"&&(c={keyPath:"tag"}),i.createObjectStore(a,c)}})}}),Cr=async(n,e)=>{const t=await Qu();return new Promise(r=>{const a=t.transaction(n,"readonly").objectStore(n).get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})},Bn=async n=>{const e=await Qu();return new Promise(t=>{const s=e.transaction(n,"readonly").objectStore(n).getAll();s.onsuccess=()=>t(s.result||[]),s.onerror=()=>t([])})},Bt=async(n,e)=>{const t=await Qu();return new Promise((r,i)=>{const c=t.transaction(n,"readwrite").objectStore(n).put(e);c.onsuccess=()=>r(),c.onerror=()=>i(c.error)})},zn=async(n,e)=>{if(!e||e.length===0)return;const t=await Qu();return new Promise((r,i)=>{const s=t.transaction(n,"readwrite"),a=s.objectStore(n);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),a.clear(),e.forEach(c=>{c&&c.id!==void 0?a.put(c):console.warn(`Item in store '${n}' is missing an 'id' and was skipped.`,c)})})},ba=async(n,e)=>{const t=await Qu();return new Promise((r,i)=>{const c=t.transaction(n,"readwrite").objectStore(n).delete(e);c.onsuccess=()=>r(),c.onerror=()=>i(c.error)})},$j=async()=>Bn("pendingCreditDeductions"),Kj=async()=>{const n=await Qu();return new Promise((e,t)=>{const s=n.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>t(s.error)})};function pp(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var H1={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var cS;function Qj(){return cS||(cS=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(r,i,s){function a(h,p){if(!i[h]){if(!r[h]){var g=typeof pp=="function"&&pp;if(!p&&g)return g(h,!0);if(c)return c(h,!0);var _=new Error("Cannot find module '"+h+"'");throw _.code="MODULE_NOT_FOUND",_}var v=i[h]={exports:{}};r[h][0].call(v.exports,function(I){var T=r[h][1][I];return a(T||I)},v,v.exports,t,r,i,s)}return i[h].exports}for(var c=typeof pp=="function"&&pp,u=0;u<s.length;u++)a(s[u]);return a})({1:[function(t,r,i){var s=t("./utils"),a=t("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var h,p,g,_,v,I,T,b=[],C=0,D=u.length,F=D,U=s.getTypeOf(u)!=="string";C<u.length;)F=D-C,g=U?(h=u[C++],p=C<D?u[C++]:0,C<D?u[C++]:0):(h=u.charCodeAt(C++),p=C<D?u.charCodeAt(C++):0,C<D?u.charCodeAt(C++):0),_=h>>2,v=(3&h)<<4|p>>4,I=1<F?(15&p)<<2|g>>6:64,T=2<F?63&g:64,b.push(c.charAt(_)+c.charAt(v)+c.charAt(I)+c.charAt(T));return b.join("")},i.decode=function(u){var h,p,g,_,v,I,T=0,b=0,C="data:";if(u.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var D,F=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&F--,u.charAt(u.length-2)===c.charAt(64)&&F--,F%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=a.uint8array?new Uint8Array(0|F):new Array(0|F);T<u.length;)h=c.indexOf(u.charAt(T++))<<2|(_=c.indexOf(u.charAt(T++)))>>4,p=(15&_)<<4|(v=c.indexOf(u.charAt(T++)))>>2,g=(3&v)<<6|(I=c.indexOf(u.charAt(T++))),D[b++]=h,v!==64&&(D[b++]=p),I!==64&&(D[b++]=g);return D}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),a=t("./stream/DataWorker"),c=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(p,g,_,v,I){this.compressedSize=p,this.uncompressedSize=g,this.crc32=_,this.compression=v,this.compressedContent=I}h.prototype={getContentWorker:function(){var p=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),g=this;return p.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(p,g,_){return p.pipe(new c).pipe(new u("uncompressedSize")).pipe(g.compressWorker(_)).pipe(new u("compressedSize")).withStreamInfo("compression",g)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),a=(function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u})();r.exports=function(c,u){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?(function(h,p,g,_){var v=a,I=_+g;h^=-1;for(var T=_;T<I;T++)h=h>>>8^v[255&(h^p[T])];return-1^h})(0|u,c,c.length,0):(function(h,p,g,_){var v=a,I=_+g;h^=-1;for(var T=_;T<I;T++)h=h>>>8^v[255&(h^p.charCodeAt(T))];return-1^h})(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),c=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";function p(g,_){u.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=_,this.meta={}}i.magic="\b\0",c.inherits(p,u),p.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,g.data),!1)},p.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(_){g.push({data:_,meta:g.meta})}},i.compressWorker=function(g){return new p("Deflate",g)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(v,I){var T,b="";for(T=0;T<I;T++)b+=String.fromCharCode(255&v),v>>>=8;return b}function a(v,I,T,b,C,D){var F,U,$=v.file,J=v.compression,x=D!==h.utf8encode,R=c.transformTo("string",D($.name)),L=c.transformTo("string",h.utf8encode($.name)),M=$.comment,W=c.transformTo("string",D(M)),k=c.transformTo("string",h.utf8encode(M)),O=L.length!==$.name.length,A=k.length!==M.length,ae="",ze="",ue="",de=$.dir,ie=$.date,he={crc32:0,compressedSize:0,uncompressedSize:0};I&&!T||(he.crc32=v.crc32,he.compressedSize=v.compressedSize,he.uncompressedSize=v.uncompressedSize);var B=0;I&&(B|=8),x||!O&&!A||(B|=2048);var H=0,ye=0;de&&(H|=16),C==="UNIX"?(ye=798,H|=(function(pe,Ke){var rt=pe;return pe||(rt=Ke?16893:33204),(65535&rt)<<16})($.unixPermissions,de)):(ye=20,H|=(function(pe){return 63&(pe||0)})($.dosPermissions)),F=ie.getUTCHours(),F<<=6,F|=ie.getUTCMinutes(),F<<=5,F|=ie.getUTCSeconds()/2,U=ie.getUTCFullYear()-1980,U<<=4,U|=ie.getUTCMonth()+1,U<<=5,U|=ie.getUTCDate(),O&&(ze=s(1,1)+s(p(R),4)+L,ae+="up"+s(ze.length,2)+ze),A&&(ue=s(1,1)+s(p(W),4)+k,ae+="uc"+s(ue.length,2)+ue);var ve="";return ve+=`
\0`,ve+=s(B,2),ve+=J.magic,ve+=s(F,2),ve+=s(U,2),ve+=s(he.crc32,4),ve+=s(he.compressedSize,4),ve+=s(he.uncompressedSize,4),ve+=s(R.length,2),ve+=s(ae.length,2),{fileRecord:g.LOCAL_FILE_HEADER+ve+R+ae,dirRecord:g.CENTRAL_FILE_HEADER+s(ye,2)+ve+s(W.length,2)+"\0\0\0\0"+s(H,4)+s(b,4)+R+ae+W}}var c=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),p=t("../crc32"),g=t("../signature");function _(v,I,T,b){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=T,this.encodeFileName=b,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(_,u),_.prototype.push=function(v){var I=v.meta.percent||0,T=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,u.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:T?(I+100*(T-b-1))/T:100}}))},_.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var I=this.streamFiles&&!v.file.dir;if(I){var T=a(v,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:T.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(v){this.accumulate=!1;var I=this.streamFiles&&!v.file.dir,T=a(v,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(T.dirRecord),I)this.push({data:(function(b){return g.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:T.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var v=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var T=this.bytesWritten-v,b=(function(C,D,F,U,$){var J=c.transformTo("string",$(U));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(C,2)+s(C,2)+s(D,4)+s(F,4)+s(J.length,2)+J})(this.dirRecords.length,T,v,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(v){this._sources.push(v);var I=this;return v.on("data",function(T){I.processChunk(T)}),v.on("end",function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()}),v.on("error",function(T){I.error(T)}),this},_.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(v){var I=this._sources;if(!u.prototype.error.call(this,v))return!1;for(var T=0;T<I.length;T++)try{I[T].error(v)}catch{}return!0},_.prototype.lock=function(){u.prototype.lock.call(this);for(var v=this._sources,I=0;I<v.length;I++)v[I].lock()},r.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(c,u,h){var p=new a(u.streamFiles,h,u.platform,u.encodeFileName),g=0;try{c.forEach(function(_,v){g++;var I=(function(D,F){var U=D||F,$=s[U];if(!$)throw new Error(U+" is not a valid compression method !");return $})(v.options.compression,u.compression),T=v.options.compressionOptions||u.compressionOptions||{},b=v.dir,C=v.date;v._compressWorker(I,T).withStreamInfo("file",{name:_,dir:b,date:C,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(p)}),p.entriesCount=g}catch(_){p.error(_)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var c in this)typeof this[c]!="function"&&(a[c]=this[c]);return a}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,c){return new s().loadAsync(a,c)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),a=t("./external"),c=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),p=t("./nodejsUtils");function g(_){return new a.Promise(function(v,I){var T=_.decompressed.getContentWorker().pipe(new h);T.on("error",function(b){I(b)}).on("end",function(){T.streamInfo.crc32!==_.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(_,v){var I=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),p.isNode&&p.isStream(_)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",_,!0,v.optimizedBinaryString,v.base64).then(function(T){var b=new u(v);return b.load(T),b}).then(function(T){var b=[a.Promise.resolve(T)],C=T.files;if(v.checkCRC32)for(var D=0;D<C.length;D++)b.push(g(C[D]));return a.Promise.all(b)}).then(function(T){for(var b=T.shift(),C=b.files,D=0;D<C.length;D++){var F=C[D],U=F.fileNameStr,$=s.resolve(F.fileNameStr);I.file($,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:v.createFolders}),F.dir||(I.file($).unsafeOriginalName=U)}return b.zipComment.length&&(I.comment=b.zipComment),I})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),a=t("../stream/GenericWorker");function c(u,h){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(c,a),c.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(p){h.push({data:p,meta:{percent:0}})}).on("error",function(p){h.isPaused?this.generatedError=p:h.error(p)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function a(c,u,h){s.call(this,u),this._helper=c;var p=this;c.on("data",function(g,_){p.push(g)||p._helper.pause(),h&&h(_)}).on("error",function(g){p.emit("error",g)}).on("end",function(){p.push(null)})}t("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s($,J,x){var R,L=c.getTypeOf(J),M=c.extend(x||{},p);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&($=C($)),M.createFolders&&(R=b($))&&D.call(this,R,!0);var W=L==="string"&&M.binary===!1&&M.base64===!1;x&&x.binary!==void 0||(M.binary=!W),(J instanceof g&&J.uncompressedSize===0||M.dir||!J||J.length===0)&&(M.base64=!1,M.binary=!0,J="",M.compression="STORE",L="string");var k=null;k=J instanceof g||J instanceof u?J:I.isNode&&I.isStream(J)?new T($,J):c.prepareContent($,J,M.binary,M.optimizedBinaryString,M.base64);var O=new _($,k,M);this.files[$]=O}var a=t("./utf8"),c=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),p=t("./defaults"),g=t("./compressedObject"),_=t("./zipObject"),v=t("./generate"),I=t("./nodejsUtils"),T=t("./nodejs/NodejsStreamInputAdapter"),b=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var J=$.lastIndexOf("/");return 0<J?$.substring(0,J):""},C=function($){return $.slice(-1)!=="/"&&($+="/"),$},D=function($,J){return J=J!==void 0?J:p.createFolders,$=C($),this.files[$]||s.call(this,$,null,{dir:!0,createFolders:J}),this.files[$]};function F($){return Object.prototype.toString.call($)==="[object RegExp]"}var U={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var J,x,R;for(J in this.files)R=this.files[J],(x=J.slice(this.root.length,J.length))&&J.slice(0,this.root.length)===this.root&&$(x,R)},filter:function($){var J=[];return this.forEach(function(x,R){$(x,R)&&J.push(R)}),J},file:function($,J,x){if(arguments.length!==1)return $=this.root+$,s.call(this,$,J,x),this;if(F($)){var R=$;return this.filter(function(M,W){return!W.dir&&R.test(M)})}var L=this.files[this.root+$];return L&&!L.dir?L:null},folder:function($){if(!$)return this;if(F($))return this.filter(function(L,M){return M.dir&&$.test(L)});var J=this.root+$,x=D.call(this,J),R=this.clone();return R.root=x.name,R},remove:function($){$=this.root+$;var J=this.files[$];if(J||($.slice(-1)!=="/"&&($+="/"),J=this.files[$]),J&&!J.dir)delete this.files[$];else for(var x=this.filter(function(L,M){return M.name.slice(0,$.length)===$}),R=0;R<x.length;R++)delete this.files[x[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var J,x={};try{if((x=c.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");c.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var R=x.comment||this.comment||"";J=v.generateWorker(this,x,R)}catch(L){(J=new u("error")).error(L)}return new h(J,x.type||"string",x.mimeType)},generateAsync:function($,J){return this.generateInternalStream($).accumulate(J)},generateNodeStream:function($,J){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(J)}};r.exports=U},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function a(c){s.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}t("../utils").inherits(a,s),a.prototype.byteAt=function(c){return this.data[this.zero+c]},a.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),h=c.charCodeAt(1),p=c.charCodeAt(2),g=c.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===u&&this.data[_+1]===h&&this.data[_+2]===p&&this.data[_+3]===g)return _-this.zero;return-1},a.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),h=c.charCodeAt(1),p=c.charCodeAt(2),g=c.charCodeAt(3),_=this.readData(4);return u===_[0]&&h===_[1]&&p===_[2]&&g===_[3]},a.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function a(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,h=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=c,h},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function a(c){s.call(this,c)}t("../utils").inherits(a,s),a.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function a(c){s.call(this,c)}t("../utils").inherits(a,s),a.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},a.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},a.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},a.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function a(c){s.call(this,c)}t("../utils").inherits(a,s),a.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),a=t("../support"),c=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),p=t("./Uint8ArrayReader");r.exports=function(g){var _=s.getTypeOf(g);return s.checkSupport(_),_!=="string"||a.uint8array?_==="nodebuffer"?new h(g):a.uint8array?new p(s.transformTo("uint8array",g)):new c(s.transformTo("array",g)):new u(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),a=t("../utils");function c(u){s.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(c,s),c.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),a=t("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(c,s),c.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),a=t("./GenericWorker");function c(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(c,a),c.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}a.prototype.processChunk.call(this,u)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),a=t("./GenericWorker");function c(u){a.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(p){h.dataIsReady=!0,h.data=p,h.max=p&&p.length||0,h.type=s.getTypeOf(p),h.isPaused||h._tickAndRepeat()},function(p){h.error(p)})}s.inherits(c,a),c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,c){return this._listeners[a].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,c){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,c)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var c=this;return a.on("data",function(u){c.processChunk(u)}),a.on("end",function(){c.end()}),a.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,c){return this.extraStreamInfo[a]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),a=t("./ConvertWorker"),c=t("./GenericWorker"),u=t("../base64"),h=t("../support"),p=t("../external"),g=null;if(h.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(I,T){return new p.Promise(function(b,C){var D=[],F=I._internalType,U=I._outputType,$=I._mimeType;I.on("data",function(J,x){D.push(J),T&&T(x)}).on("error",function(J){D=[],C(J)}).on("end",function(){try{var J=(function(x,R,L){switch(x){case"blob":return s.newBlob(s.transformTo("arraybuffer",R),L);case"base64":return u.encode(R);default:return s.transformTo(x,R)}})(U,(function(x,R){var L,M=0,W=null,k=0;for(L=0;L<R.length;L++)k+=R[L].length;switch(x){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(W=new Uint8Array(k),L=0;L<R.length;L++)W.set(R[L],M),M+=R[L].length;return W;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+x+"'")}})(F,D),$);b(J)}catch(x){C(x)}D=[]}).resume()})}function v(I,T,b){var C=T;switch(T){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=T,this._mimeType=b,s.checkSupport(C),this._worker=I.pipe(new a(C)),I.lock()}catch(D){this._worker=new c("error"),this._worker.error(D)}}v.prototype={accumulate:function(I){return _(this,I)},on:function(I,T){var b=this;return I==="data"?this._worker.on(I,function(C){T.call(b,C.data,C.meta)}):this._worker.on(I,function(){s.delay(T,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},I)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),a=t("./support"),c=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),p=0;p<256;p++)h[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;h[254]=h[254]=1;function g(){u.call(this,"utf-8 decode"),this.leftOver=null}function _(){u.call(this,"utf-8 encode")}i.utf8encode=function(v){return a.nodebuffer?c.newBufferFrom(v,"utf-8"):(function(I){var T,b,C,D,F,U=I.length,$=0;for(D=0;D<U;D++)(64512&(b=I.charCodeAt(D)))==55296&&D+1<U&&(64512&(C=I.charCodeAt(D+1)))==56320&&(b=65536+(b-55296<<10)+(C-56320),D++),$+=b<128?1:b<2048?2:b<65536?3:4;for(T=a.uint8array?new Uint8Array($):new Array($),D=F=0;F<$;D++)(64512&(b=I.charCodeAt(D)))==55296&&D+1<U&&(64512&(C=I.charCodeAt(D+1)))==56320&&(b=65536+(b-55296<<10)+(C-56320),D++),b<128?T[F++]=b:(b<2048?T[F++]=192|b>>>6:(b<65536?T[F++]=224|b>>>12:(T[F++]=240|b>>>18,T[F++]=128|b>>>12&63),T[F++]=128|b>>>6&63),T[F++]=128|63&b);return T})(v)},i.utf8decode=function(v){return a.nodebuffer?s.transformTo("nodebuffer",v).toString("utf-8"):(function(I){var T,b,C,D,F=I.length,U=new Array(2*F);for(T=b=0;T<F;)if((C=I[T++])<128)U[b++]=C;else if(4<(D=h[C]))U[b++]=65533,T+=D-1;else{for(C&=D===2?31:D===3?15:7;1<D&&T<F;)C=C<<6|63&I[T++],D--;1<D?U[b++]=65533:C<65536?U[b++]=C:(C-=65536,U[b++]=55296|C>>10&1023,U[b++]=56320|1023&C)}return U.length!==b&&(U.subarray?U=U.subarray(0,b):U.length=b),s.applyFromCharCode(U)})(v=s.transformTo(a.uint8array?"uint8array":"array",v))},s.inherits(g,u),g.prototype.processChunk=function(v){var I=s.transformTo(a.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var T=I;(I=new Uint8Array(T.length+this.leftOver.length)).set(this.leftOver,0),I.set(T,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var b=(function(D,F){var U;for((F=F||D.length)>D.length&&(F=D.length),U=F-1;0<=U&&(192&D[U])==128;)U--;return U<0||U===0?F:U+h[D[U]]>F?U:F})(I),C=I;b!==I.length&&(a.uint8array?(C=I.subarray(0,b),this.leftOver=I.subarray(b,I.length)):(C=I.slice(0,b),this.leftOver=I.slice(b,I.length))),this.push({data:i.utf8decode(C),meta:v.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,s.inherits(_,u),_.prototype.processChunk=function(v){this.push({data:i.utf8encode(v.data),meta:v.meta})},i.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),a=t("./base64"),c=t("./nodejsUtils"),u=t("./external");function h(T){return T}function p(T,b){for(var C=0;C<T.length;++C)b[C]=255&T.charCodeAt(C);return b}t("setimmediate"),i.newBlob=function(T,b){i.checkSupport("blob");try{return new Blob([T],{type:b})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(T),C.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(T,b,C){var D=[],F=0,U=T.length;if(U<=C)return String.fromCharCode.apply(null,T);for(;F<U;)b==="array"||b==="nodebuffer"?D.push(String.fromCharCode.apply(null,T.slice(F,Math.min(F+C,U)))):D.push(String.fromCharCode.apply(null,T.subarray(F,Math.min(F+C,U)))),F+=C;return D.join("")},stringifyByChar:function(T){for(var b="",C=0;C<T.length;C++)b+=String.fromCharCode(T[C]);return b},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function _(T){var b=65536,C=i.getTypeOf(T),D=!0;if(C==="uint8array"?D=g.applyCanBeUsed.uint8array:C==="nodebuffer"&&(D=g.applyCanBeUsed.nodebuffer),D)for(;1<b;)try{return g.stringifyByChunk(T,C,b)}catch{b=Math.floor(b/2)}return g.stringifyByChar(T)}function v(T,b){for(var C=0;C<T.length;C++)b[C]=T[C];return b}i.applyFromCharCode=_;var I={};I.string={string:h,array:function(T){return p(T,new Array(T.length))},arraybuffer:function(T){return I.string.uint8array(T).buffer},uint8array:function(T){return p(T,new Uint8Array(T.length))},nodebuffer:function(T){return p(T,c.allocBuffer(T.length))}},I.array={string:_,array:h,arraybuffer:function(T){return new Uint8Array(T).buffer},uint8array:function(T){return new Uint8Array(T)},nodebuffer:function(T){return c.newBufferFrom(T)}},I.arraybuffer={string:function(T){return _(new Uint8Array(T))},array:function(T){return v(new Uint8Array(T),new Array(T.byteLength))},arraybuffer:h,uint8array:function(T){return new Uint8Array(T)},nodebuffer:function(T){return c.newBufferFrom(new Uint8Array(T))}},I.uint8array={string:_,array:function(T){return v(T,new Array(T.length))},arraybuffer:function(T){return T.buffer},uint8array:h,nodebuffer:function(T){return c.newBufferFrom(T)}},I.nodebuffer={string:_,array:function(T){return v(T,new Array(T.length))},arraybuffer:function(T){return I.nodebuffer.uint8array(T).buffer},uint8array:function(T){return v(T,new Uint8Array(T.length))},nodebuffer:h},i.transformTo=function(T,b){if(b=b||"",!T)return b;i.checkSupport(T);var C=i.getTypeOf(b);return I[C][T](b)},i.resolve=function(T){for(var b=T.split("/"),C=[],D=0;D<b.length;D++){var F=b[D];F==="."||F===""&&D!==0&&D!==b.length-1||(F===".."?C.pop():C.push(F))}return C.join("/")},i.getTypeOf=function(T){return typeof T=="string"?"string":Object.prototype.toString.call(T)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(T)?"nodebuffer":s.uint8array&&T instanceof Uint8Array?"uint8array":s.arraybuffer&&T instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(T){if(!s[T.toLowerCase()])throw new Error(T+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(T){var b,C,D="";for(C=0;C<(T||"").length;C++)D+="\\x"+((b=T.charCodeAt(C))<16?"0":"")+b.toString(16).toUpperCase();return D},i.delay=function(T,b,C){setImmediate(function(){T.apply(C||null,b||[])})},i.inherits=function(T,b){function C(){}C.prototype=b.prototype,T.prototype=new C},i.extend=function(){var T,b,C={};for(T=0;T<arguments.length;T++)for(b in arguments[T])Object.prototype.hasOwnProperty.call(arguments[T],b)&&C[b]===void 0&&(C[b]=arguments[T][b]);return C},i.prepareContent=function(T,b,C,D,F){return u.Promise.resolve(b).then(function(U){return s.blob&&(U instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(U))!==-1)&&typeof FileReader<"u"?new u.Promise(function($,J){var x=new FileReader;x.onload=function(R){$(R.target.result)},x.onerror=function(R){J(R.target.error)},x.readAsArrayBuffer(U)}):U}).then(function(U){var $=i.getTypeOf(U);return $?($==="arraybuffer"?U=i.transformTo("uint8array",U):$==="string"&&(F?U=a.decode(U):C&&D!==!0&&(U=(function(J){return p(J,s.uint8array?new Uint8Array(J.length):new Array(J.length))})(U))),U):u.Promise.reject(new Error("Can't read the data of '"+T+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),a=t("./utils"),c=t("./signature"),u=t("./zipEntry"),h=t("./support");function p(g){this.files=[],this.loadOptions=g}p.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(_)+", expected "+a.pretty(g)+")")}},isSignature:function(g,_){var v=this.reader.index;this.reader.setIndex(g);var I=this.reader.readString(4)===_;return this.reader.setIndex(v),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),_=h.uint8array?"uint8array":"array",v=a.transformTo(_,g);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,_,v,I=this.zip64EndOfCentralSize-44;0<I;)g=this.reader.readInt(2),_=this.reader.readInt(4),v=this.reader.readData(_),this.zip64ExtensibleData[g]={id:g,length:_,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,_;for(g=0;g<this.files.length;g++)_=this.files[g],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(g=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var _=g;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var I=_-v;if(0<I)this.isSignature(_,c.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),a=t("./utils"),c=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),p=t("./compressions"),g=t("./support");function _(v,I){this.options=v,this.loadOptions=I}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var I,T;if(v.skip(22),this.fileNameLength=v.readInt(2),T=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(T),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((I=(function(b){for(var C in p)if(Object.prototype.hasOwnProperty.call(p,C)&&p[C].magic===b)return p[C];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,I,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var I=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(I),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var I,T,b,C=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<C;)I=v.readInt(2),T=v.readInt(2),b=v.readData(T),this.extraFields[I]={id:I,length:T,value:b};v.setIndex(C)},handleUTF8:function(){var v=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(I!==null)this.fileNameStr=I;else{var T=a.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(T)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var C=a.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var I=s(v.value);return I.readInt(1)!==1||u(this.fileName)!==I.readInt(4)?null:h.utf8decode(I.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var I=s(v.value);return I.readInt(1)!==1||u(this.fileComment)!==I.readInt(4)?null:h.utf8decode(I.readData(v.length-5))}return null}},r.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(I,T,b){this.name=I,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=T,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=t("./stream/StreamHelper"),c=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),p=t("./stream/GenericWorker");s.prototype={internalStream:function(I){var T=null,b="string";try{if(!I)throw new Error("No output type specified.");var C=(b=I.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),T=this._decompressWorker();var D=!this._dataBinary;D&&!C&&(T=T.pipe(new u.Utf8EncodeWorker)),!D&&C&&(T=T.pipe(new u.Utf8DecodeWorker))}catch(F){(T=new p("error")).error(F)}return new a(T,b,"")},async:function(I,T){return this.internalStream(I).accumulate(T)},nodeStream:function(I,T){return this.internalStream(I||"nodebuffer").toNodejsStream(T)},_compressWorker:function(I,T){if(this._data instanceof h&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(b,I,T)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof p?this._data:new c(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<g.length;v++)s.prototype[g[v]]=_;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var a,c,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var h=0,p=new u(I),g=s.document.createTextNode("");p.observe(g,{characterData:!0}),a=function(){g.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var T=s.document.createElement("script");T.onreadystatechange=function(){I(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},s.document.documentElement.appendChild(T)}:function(){setTimeout(I,0)};else{var _=new s.MessageChannel;_.port1.onmessage=I,a=function(){_.port2.postMessage(0)}}var v=[];function I(){var T,b;c=!0;for(var C=v.length;C;){for(b=v,v=[],T=-1;++T<C;)b[T]();C=v.length}c=!1}r.exports=function(T){v.push(T)!==1||c||a()}}).call(this,typeof np<"u"?np:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function a(){}var c={},u=["REJECTED"],h=["FULFILLED"],p=["PENDING"];function g(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,C!==a&&T(this,C)}function _(C,D,F){this.promise=C,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}function v(C,D,F){s(function(){var U;try{U=D(F)}catch($){return c.reject(C,$)}U===C?c.reject(C,new TypeError("Cannot resolve promise with itself")):c.resolve(C,U)})}function I(C){var D=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof D=="function")return function(){D.apply(C,arguments)}}function T(C,D){var F=!1;function U(x){F||(F=!0,c.reject(C,x))}function $(x){F||(F=!0,c.resolve(C,x))}var J=b(function(){D($,U)});J.status==="error"&&U(J.value)}function b(C,D){var F={};try{F.value=C(D),F.status="success"}catch(U){F.status="error",F.value=U}return F}(r.exports=g).prototype.finally=function(C){if(typeof C!="function")return this;var D=this.constructor;return this.then(function(F){return D.resolve(C()).then(function(){return F})},function(F){return D.resolve(C()).then(function(){throw F})})},g.prototype.catch=function(C){return this.then(null,C)},g.prototype.then=function(C,D){if(typeof C!="function"&&this.state===h||typeof D!="function"&&this.state===u)return this;var F=new this.constructor(a);return this.state!==p?v(F,this.state===h?C:D,this.outcome):this.queue.push(new _(F,C,D)),F},_.prototype.callFulfilled=function(C){c.resolve(this.promise,C)},_.prototype.otherCallFulfilled=function(C){v(this.promise,this.onFulfilled,C)},_.prototype.callRejected=function(C){c.reject(this.promise,C)},_.prototype.otherCallRejected=function(C){v(this.promise,this.onRejected,C)},c.resolve=function(C,D){var F=b(I,D);if(F.status==="error")return c.reject(C,F.value);var U=F.value;if(U)T(C,U);else{C.state=h,C.outcome=D;for(var $=-1,J=C.queue.length;++$<J;)C.queue[$].callFulfilled(D)}return C},c.reject=function(C,D){C.state=u,C.outcome=D;for(var F=-1,U=C.queue.length;++F<U;)C.queue[F].callRejected(D);return C},g.resolve=function(C){return C instanceof this?C:c.resolve(new this(a),C)},g.reject=function(C){var D=new this(a);return c.reject(D,C)},g.all=function(C){var D=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=C.length,U=!1;if(!F)return this.resolve([]);for(var $=new Array(F),J=0,x=-1,R=new this(a);++x<F;)L(C[x],x);return R;function L(M,W){D.resolve(M).then(function(k){$[W]=k,++J!==F||U||(U=!0,c.resolve(R,$))},function(k){U||(U=!0,c.reject(R,k))})}},g.race=function(C){var D=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=C.length,U=!1;if(!F)return this.resolve([]);for(var $=-1,J=new this(a);++$<F;)x=C[$],D.resolve(x).then(function(R){U||(U=!0,c.resolve(J,R))},function(R){U||(U=!0,c.reject(J,R))});var x;return J}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),a=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),p=Object.prototype.toString,g=0,_=-1,v=0,I=8;function T(C){if(!(this instanceof T))return new T(C);this.options=a.assign({level:_,method:I,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},C||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var F=s.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(F!==g)throw new Error(u[F]);if(D.header&&s.deflateSetHeader(this.strm,D.header),D.dictionary){var U;if(U=typeof D.dictionary=="string"?c.string2buf(D.dictionary):p.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(F=s.deflateSetDictionary(this.strm,U))!==g)throw new Error(u[F]);this._dict_set=!0}}function b(C,D){var F=new T(D);if(F.push(C,!0),F.err)throw F.msg||u[F.err];return F.result}T.prototype.push=function(C,D){var F,U,$=this.strm,J=this.options.chunkSize;if(this.ended)return!1;U=D===~~D?D:D===!0?4:0,typeof C=="string"?$.input=c.string2buf(C):p.call(C)==="[object ArrayBuffer]"?$.input=new Uint8Array(C):$.input=C,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new a.Buf8(J),$.next_out=0,$.avail_out=J),(F=s.deflate($,U))!==1&&F!==g)return this.onEnd(F),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||U!==4&&U!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(a.shrinkBuf($.output,$.next_out))):this.onData(a.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&F!==1);return U===4?(F=s.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===g):U!==2||(this.onEnd(g),!($.avail_out=0))},T.prototype.onData=function(C){this.chunks.push(C)},T.prototype.onEnd=function(C){C===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},i.Deflate=T,i.deflate=b,i.deflateRaw=function(C,D){return(D=D||{}).raw=!0,b(C,D)},i.gzip=function(C,D){return(D=D||{}).gzip=!0,b(C,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),a=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),p=t("./zlib/zstream"),g=t("./zlib/gzheader"),_=Object.prototype.toString;function v(T){if(!(this instanceof v))return new v(T);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},T||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||T&&T.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var C=s.inflateInit2(this.strm,b.windowBits);if(C!==u.Z_OK)throw new Error(h[C]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function I(T,b){var C=new v(b);if(C.push(T,!0),C.err)throw C.msg||h[C.err];return C.result}v.prototype.push=function(T,b){var C,D,F,U,$,J,x=this.strm,R=this.options.chunkSize,L=this.options.dictionary,M=!1;if(this.ended)return!1;D=b===~~b?b:b===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof T=="string"?x.input=c.binstring2buf(T):_.call(T)==="[object ArrayBuffer]"?x.input=new Uint8Array(T):x.input=T,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new a.Buf8(R),x.next_out=0,x.avail_out=R),(C=s.inflate(x,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&L&&(J=typeof L=="string"?c.string2buf(L):_.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,C=s.inflateSetDictionary(this.strm,J)),C===u.Z_BUF_ERROR&&M===!0&&(C=u.Z_OK,M=!1),C!==u.Z_STREAM_END&&C!==u.Z_OK)return this.onEnd(C),!(this.ended=!0);x.next_out&&(x.avail_out!==0&&C!==u.Z_STREAM_END&&(x.avail_in!==0||D!==u.Z_FINISH&&D!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(F=c.utf8border(x.output,x.next_out),U=x.next_out-F,$=c.buf2string(x.output,F),x.next_out=U,x.avail_out=R-U,U&&a.arraySet(x.output,x.output,F,U,0),this.onData($)):this.onData(a.shrinkBuf(x.output,x.next_out)))),x.avail_in===0&&x.avail_out===0&&(M=!0)}while((0<x.avail_in||x.avail_out===0)&&C!==u.Z_STREAM_END);return C===u.Z_STREAM_END&&(D=u.Z_FINISH),D===u.Z_FINISH?(C=s.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===u.Z_OK):D!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(x.avail_out=0))},v.prototype.onData=function(T){this.chunks.push(T)},v.prototype.onEnd=function(T){T===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},i.Inflate=v,i.inflate=I,i.inflateRaw=function(T,b){return(b=b||{}).raw=!0,I(T,b)},i.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var p=h.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var g in p)p.hasOwnProperty(g)&&(u[g]=p[g])}}return u},i.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var a={arraySet:function(u,h,p,g,_){if(h.subarray&&u.subarray)u.set(h.subarray(p,p+g),_);else for(var v=0;v<g;v++)u[_+v]=h[p+v]},flattenChunks:function(u){var h,p,g,_,v,I;for(h=g=0,p=u.length;h<p;h++)g+=u[h].length;for(I=new Uint8Array(g),h=_=0,p=u.length;h<p;h++)v=u[h],I.set(v,_),_+=v.length;return I}},c={arraySet:function(u,h,p,g,_){for(var v=0;v<g;v++)u[_+v]=h[p+v]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),a=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function p(g,_){if(_<65537&&(g.subarray&&c||!g.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(g,_));for(var v="",I=0;I<_;I++)v+=String.fromCharCode(g[I]);return v}u[254]=u[254]=1,i.string2buf=function(g){var _,v,I,T,b,C=g.length,D=0;for(T=0;T<C;T++)(64512&(v=g.charCodeAt(T)))==55296&&T+1<C&&(64512&(I=g.charCodeAt(T+1)))==56320&&(v=65536+(v-55296<<10)+(I-56320),T++),D+=v<128?1:v<2048?2:v<65536?3:4;for(_=new s.Buf8(D),T=b=0;b<D;T++)(64512&(v=g.charCodeAt(T)))==55296&&T+1<C&&(64512&(I=g.charCodeAt(T+1)))==56320&&(v=65536+(v-55296<<10)+(I-56320),T++),v<128?_[b++]=v:(v<2048?_[b++]=192|v>>>6:(v<65536?_[b++]=224|v>>>12:(_[b++]=240|v>>>18,_[b++]=128|v>>>12&63),_[b++]=128|v>>>6&63),_[b++]=128|63&v);return _},i.buf2binstring=function(g){return p(g,g.length)},i.binstring2buf=function(g){for(var _=new s.Buf8(g.length),v=0,I=_.length;v<I;v++)_[v]=g.charCodeAt(v);return _},i.buf2string=function(g,_){var v,I,T,b,C=_||g.length,D=new Array(2*C);for(v=I=0;v<C;)if((T=g[v++])<128)D[I++]=T;else if(4<(b=u[T]))D[I++]=65533,v+=b-1;else{for(T&=b===2?31:b===3?15:7;1<b&&v<C;)T=T<<6|63&g[v++],b--;1<b?D[I++]=65533:T<65536?D[I++]=T:(T-=65536,D[I++]=55296|T>>10&1023,D[I++]=56320|1023&T)}return p(D,I)},i.utf8border=function(g,_){var v;for((_=_||g.length)>g.length&&(_=g.length),v=_-1;0<=v&&(192&g[v])==128;)v--;return v<0||v===0?_:v+u[g[v]]>_?v:_}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,a,c,u){for(var h=65535&s|0,p=s>>>16&65535|0,g=0;c!==0;){for(c-=g=2e3<c?2e3:c;p=p+(h=h+a[u++]|0)|0,--g;);h%=65521,p%=65521}return h|p<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=(function(){for(var a,c=[],u=0;u<256;u++){a=u;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;c[u]=a}return c})();r.exports=function(a,c,u,h){var p=s,g=h+u;a^=-1;for(var _=h;_<g;_++)a=a>>>8^p[255&(a^c[_])];return-1^a}},{}],46:[function(t,r,i){var s,a=t("../utils/common"),c=t("./trees"),u=t("./adler32"),h=t("./crc32"),p=t("./messages"),g=0,_=4,v=0,I=-2,T=-1,b=4,C=2,D=8,F=9,U=286,$=30,J=19,x=2*U+1,R=15,L=3,M=258,W=M+L+1,k=42,O=113,A=1,ae=2,ze=3,ue=4;function de(P,fe){return P.msg=p[fe],fe}function ie(P){return(P<<1)-(4<P?9:0)}function he(P){for(var fe=P.length;0<=--fe;)P[fe]=0}function B(P){var fe=P.state,le=fe.pending;le>P.avail_out&&(le=P.avail_out),le!==0&&(a.arraySet(P.output,fe.pending_buf,fe.pending_out,le,P.next_out),P.next_out+=le,fe.pending_out+=le,P.total_out+=le,P.avail_out-=le,fe.pending-=le,fe.pending===0&&(fe.pending_out=0))}function H(P,fe){c._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,fe),P.block_start=P.strstart,B(P.strm)}function ye(P,fe){P.pending_buf[P.pending++]=fe}function ve(P,fe){P.pending_buf[P.pending++]=fe>>>8&255,P.pending_buf[P.pending++]=255&fe}function pe(P,fe){var le,G,j=P.max_chain_length,X=P.strstart,ge=P.prev_length,_e=P.nice_match,ne=P.strstart>P.w_size-W?P.strstart-(P.w_size-W):0,Ce=P.window,Fe=P.w_mask,me=P.prev,Pe=P.strstart+M,Le=Ce[X+ge-1],Ne=Ce[X+ge];P.prev_length>=P.good_match&&(j>>=2),_e>P.lookahead&&(_e=P.lookahead);do if(Ce[(le=fe)+ge]===Ne&&Ce[le+ge-1]===Le&&Ce[le]===Ce[X]&&Ce[++le]===Ce[X+1]){X+=2,le++;do;while(Ce[++X]===Ce[++le]&&Ce[++X]===Ce[++le]&&Ce[++X]===Ce[++le]&&Ce[++X]===Ce[++le]&&Ce[++X]===Ce[++le]&&Ce[++X]===Ce[++le]&&Ce[++X]===Ce[++le]&&Ce[++X]===Ce[++le]&&X<Pe);if(G=M-(Pe-X),X=Pe-M,ge<G){if(P.match_start=fe,_e<=(ge=G))break;Le=Ce[X+ge-1],Ne=Ce[X+ge]}}while((fe=me[fe&Fe])>ne&&--j!=0);return ge<=P.lookahead?ge:P.lookahead}function Ke(P){var fe,le,G,j,X,ge,_e,ne,Ce,Fe,me=P.w_size;do{if(j=P.window_size-P.lookahead-P.strstart,P.strstart>=me+(me-W)){for(a.arraySet(P.window,P.window,me,me,0),P.match_start-=me,P.strstart-=me,P.block_start-=me,fe=le=P.hash_size;G=P.head[--fe],P.head[fe]=me<=G?G-me:0,--le;);for(fe=le=me;G=P.prev[--fe],P.prev[fe]=me<=G?G-me:0,--le;);j+=me}if(P.strm.avail_in===0)break;if(ge=P.strm,_e=P.window,ne=P.strstart+P.lookahead,Ce=j,Fe=void 0,Fe=ge.avail_in,Ce<Fe&&(Fe=Ce),le=Fe===0?0:(ge.avail_in-=Fe,a.arraySet(_e,ge.input,ge.next_in,Fe,ne),ge.state.wrap===1?ge.adler=u(ge.adler,_e,Fe,ne):ge.state.wrap===2&&(ge.adler=h(ge.adler,_e,Fe,ne)),ge.next_in+=Fe,ge.total_in+=Fe,Fe),P.lookahead+=le,P.lookahead+P.insert>=L)for(X=P.strstart-P.insert,P.ins_h=P.window[X],P.ins_h=(P.ins_h<<P.hash_shift^P.window[X+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[X+L-1])&P.hash_mask,P.prev[X&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=X,X++,P.insert--,!(P.lookahead+P.insert<L)););}while(P.lookahead<W&&P.strm.avail_in!==0)}function rt(P,fe){for(var le,G;;){if(P.lookahead<W){if(Ke(P),P.lookahead<W&&fe===g)return A;if(P.lookahead===0)break}if(le=0,P.lookahead>=L&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+L-1])&P.hash_mask,le=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),le!==0&&P.strstart-le<=P.w_size-W&&(P.match_length=pe(P,le)),P.match_length>=L)if(G=c._tr_tally(P,P.strstart-P.match_start,P.match_length-L),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=L){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+L-1])&P.hash_mask,le=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else G=c._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(G&&(H(P,!1),P.strm.avail_out===0))return A}return P.insert=P.strstart<L-1?P.strstart:L-1,fe===_?(H(P,!0),P.strm.avail_out===0?ze:ue):P.last_lit&&(H(P,!1),P.strm.avail_out===0)?A:ae}function Me(P,fe){for(var le,G,j;;){if(P.lookahead<W){if(Ke(P),P.lookahead<W&&fe===g)return A;if(P.lookahead===0)break}if(le=0,P.lookahead>=L&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+L-1])&P.hash_mask,le=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=L-1,le!==0&&P.prev_length<P.max_lazy_match&&P.strstart-le<=P.w_size-W&&(P.match_length=pe(P,le),P.match_length<=5&&(P.strategy===1||P.match_length===L&&4096<P.strstart-P.match_start)&&(P.match_length=L-1)),P.prev_length>=L&&P.match_length<=P.prev_length){for(j=P.strstart+P.lookahead-L,G=c._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-L),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=j&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+L-1])&P.hash_mask,le=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=L-1,P.strstart++,G&&(H(P,!1),P.strm.avail_out===0))return A}else if(P.match_available){if((G=c._tr_tally(P,0,P.window[P.strstart-1]))&&H(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return A}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(G=c._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<L-1?P.strstart:L-1,fe===_?(H(P,!0),P.strm.avail_out===0?ze:ue):P.last_lit&&(H(P,!1),P.strm.avail_out===0)?A:ae}function Qe(P,fe,le,G,j){this.good_length=P,this.max_lazy=fe,this.nice_length=le,this.max_chain=G,this.func=j}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*x),this.dyn_dtree=new a.Buf16(2*(2*$+1)),this.bl_tree=new a.Buf16(2*(2*J+1)),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(R+1),this.heap=new a.Buf16(2*U+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*U+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Tt(P){var fe;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=C,(fe=P.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?k:O,P.adler=fe.wrap===2?0:1,fe.last_flush=g,c._tr_init(fe),v):de(P,I)}function vn(P){var fe=Tt(P);return fe===v&&(function(le){le.window_size=2*le.w_size,he(le.head),le.max_lazy_match=s[le.level].max_lazy,le.good_match=s[le.level].good_length,le.nice_match=s[le.level].nice_length,le.max_chain_length=s[le.level].max_chain,le.strstart=0,le.block_start=0,le.lookahead=0,le.insert=0,le.match_length=le.prev_length=L-1,le.match_available=0,le.ins_h=0})(P.state),fe}function cn(P,fe,le,G,j,X){if(!P)return I;var ge=1;if(fe===T&&(fe=6),G<0?(ge=0,G=-G):15<G&&(ge=2,G-=16),j<1||F<j||le!==D||G<8||15<G||fe<0||9<fe||X<0||b<X)return de(P,I);G===8&&(G=9);var _e=new lt;return(P.state=_e).strm=P,_e.wrap=ge,_e.gzhead=null,_e.w_bits=G,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=j+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+L-1)/L),_e.window=new a.Buf8(2*_e.w_size),_e.head=new a.Buf16(_e.hash_size),_e.prev=new a.Buf16(_e.w_size),_e.lit_bufsize=1<<j+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new a.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=fe,_e.strategy=X,_e.method=le,vn(P)}s=[new Qe(0,0,0,0,function(P,fe){var le=65535;for(le>P.pending_buf_size-5&&(le=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Ke(P),P.lookahead===0&&fe===g)return A;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var G=P.block_start+le;if((P.strstart===0||P.strstart>=G)&&(P.lookahead=P.strstart-G,P.strstart=G,H(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-W&&(H(P,!1),P.strm.avail_out===0))return A}return P.insert=0,fe===_?(H(P,!0),P.strm.avail_out===0?ze:ue):(P.strstart>P.block_start&&(H(P,!1),P.strm.avail_out),A)}),new Qe(4,4,8,4,rt),new Qe(4,5,16,8,rt),new Qe(4,6,32,32,rt),new Qe(4,4,16,16,Me),new Qe(8,16,32,32,Me),new Qe(8,16,128,128,Me),new Qe(8,32,128,256,Me),new Qe(32,128,258,1024,Me),new Qe(32,258,258,4096,Me)],i.deflateInit=function(P,fe){return cn(P,fe,D,15,8,0)},i.deflateInit2=cn,i.deflateReset=vn,i.deflateResetKeep=Tt,i.deflateSetHeader=function(P,fe){return P&&P.state?P.state.wrap!==2?I:(P.state.gzhead=fe,v):I},i.deflate=function(P,fe){var le,G,j,X;if(!P||!P.state||5<fe||fe<0)return P?de(P,I):I;if(G=P.state,!P.output||!P.input&&P.avail_in!==0||G.status===666&&fe!==_)return de(P,P.avail_out===0?-5:I);if(G.strm=P,le=G.last_flush,G.last_flush=fe,G.status===k)if(G.wrap===2)P.adler=0,ye(G,31),ye(G,139),ye(G,8),G.gzhead?(ye(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ye(G,255&G.gzhead.time),ye(G,G.gzhead.time>>8&255),ye(G,G.gzhead.time>>16&255),ye(G,G.gzhead.time>>24&255),ye(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ye(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ye(G,255&G.gzhead.extra.length),ye(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(P.adler=h(P.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ye(G,0),ye(G,0),ye(G,0),ye(G,0),ye(G,0),ye(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ye(G,3),G.status=O);else{var ge=D+(G.w_bits-8<<4)<<8;ge|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(ge|=32),ge+=31-ge%31,G.status=O,ve(G,ge),G.strstart!==0&&(ve(G,P.adler>>>16),ve(G,65535&P.adler)),P.adler=1}if(G.status===69)if(G.gzhead.extra){for(j=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>j&&(P.adler=h(P.adler,G.pending_buf,G.pending-j,j)),B(P),j=G.pending,G.pending!==G.pending_buf_size));)ye(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>j&&(P.adler=h(P.adler,G.pending_buf,G.pending-j,j)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){j=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>j&&(P.adler=h(P.adler,G.pending_buf,G.pending-j,j)),B(P),j=G.pending,G.pending===G.pending_buf_size)){X=1;break}X=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ye(G,X)}while(X!==0);G.gzhead.hcrc&&G.pending>j&&(P.adler=h(P.adler,G.pending_buf,G.pending-j,j)),X===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){j=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>j&&(P.adler=h(P.adler,G.pending_buf,G.pending-j,j)),B(P),j=G.pending,G.pending===G.pending_buf_size)){X=1;break}X=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ye(G,X)}while(X!==0);G.gzhead.hcrc&&G.pending>j&&(P.adler=h(P.adler,G.pending_buf,G.pending-j,j)),X===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&B(P),G.pending+2<=G.pending_buf_size&&(ye(G,255&P.adler),ye(G,P.adler>>8&255),P.adler=0,G.status=O)):G.status=O),G.pending!==0){if(B(P),P.avail_out===0)return G.last_flush=-1,v}else if(P.avail_in===0&&ie(fe)<=ie(le)&&fe!==_)return de(P,-5);if(G.status===666&&P.avail_in!==0)return de(P,-5);if(P.avail_in!==0||G.lookahead!==0||fe!==g&&G.status!==666){var _e=G.strategy===2?(function(ne,Ce){for(var Fe;;){if(ne.lookahead===0&&(Ke(ne),ne.lookahead===0)){if(Ce===g)return A;break}if(ne.match_length=0,Fe=c._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,Fe&&(H(ne,!1),ne.strm.avail_out===0))return A}return ne.insert=0,Ce===_?(H(ne,!0),ne.strm.avail_out===0?ze:ue):ne.last_lit&&(H(ne,!1),ne.strm.avail_out===0)?A:ae})(G,fe):G.strategy===3?(function(ne,Ce){for(var Fe,me,Pe,Le,Ne=ne.window;;){if(ne.lookahead<=M){if(Ke(ne),ne.lookahead<=M&&Ce===g)return A;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=L&&0<ne.strstart&&(me=Ne[Pe=ne.strstart-1])===Ne[++Pe]&&me===Ne[++Pe]&&me===Ne[++Pe]){Le=ne.strstart+M;do;while(me===Ne[++Pe]&&me===Ne[++Pe]&&me===Ne[++Pe]&&me===Ne[++Pe]&&me===Ne[++Pe]&&me===Ne[++Pe]&&me===Ne[++Pe]&&me===Ne[++Pe]&&Pe<Le);ne.match_length=M-(Le-Pe),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=L?(Fe=c._tr_tally(ne,1,ne.match_length-L),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(Fe=c._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),Fe&&(H(ne,!1),ne.strm.avail_out===0))return A}return ne.insert=0,Ce===_?(H(ne,!0),ne.strm.avail_out===0?ze:ue):ne.last_lit&&(H(ne,!1),ne.strm.avail_out===0)?A:ae})(G,fe):s[G.level].func(G,fe);if(_e!==ze&&_e!==ue||(G.status=666),_e===A||_e===ze)return P.avail_out===0&&(G.last_flush=-1),v;if(_e===ae&&(fe===1?c._tr_align(G):fe!==5&&(c._tr_stored_block(G,0,0,!1),fe===3&&(he(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),B(P),P.avail_out===0))return G.last_flush=-1,v}return fe!==_?v:G.wrap<=0?1:(G.wrap===2?(ye(G,255&P.adler),ye(G,P.adler>>8&255),ye(G,P.adler>>16&255),ye(G,P.adler>>24&255),ye(G,255&P.total_in),ye(G,P.total_in>>8&255),ye(G,P.total_in>>16&255),ye(G,P.total_in>>24&255)):(ve(G,P.adler>>>16),ve(G,65535&P.adler)),B(P),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?v:1)},i.deflateEnd=function(P){var fe;return P&&P.state?(fe=P.state.status)!==k&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==O&&fe!==666?de(P,I):(P.state=null,fe===O?de(P,-3):v):I},i.deflateSetDictionary=function(P,fe){var le,G,j,X,ge,_e,ne,Ce,Fe=fe.length;if(!P||!P.state||(X=(le=P.state).wrap)===2||X===1&&le.status!==k||le.lookahead)return I;for(X===1&&(P.adler=u(P.adler,fe,Fe,0)),le.wrap=0,Fe>=le.w_size&&(X===0&&(he(le.head),le.strstart=0,le.block_start=0,le.insert=0),Ce=new a.Buf8(le.w_size),a.arraySet(Ce,fe,Fe-le.w_size,le.w_size,0),fe=Ce,Fe=le.w_size),ge=P.avail_in,_e=P.next_in,ne=P.input,P.avail_in=Fe,P.next_in=0,P.input=fe,Ke(le);le.lookahead>=L;){for(G=le.strstart,j=le.lookahead-(L-1);le.ins_h=(le.ins_h<<le.hash_shift^le.window[G+L-1])&le.hash_mask,le.prev[G&le.w_mask]=le.head[le.ins_h],le.head[le.ins_h]=G,G++,--j;);le.strstart=G,le.lookahead=L-1,Ke(le)}return le.strstart+=le.lookahead,le.block_start=le.strstart,le.insert=le.lookahead,le.lookahead=0,le.match_length=le.prev_length=L-1,le.match_available=0,P.next_in=_e,P.input=ne,P.avail_in=ge,le.wrap=X,v},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,a){var c,u,h,p,g,_,v,I,T,b,C,D,F,U,$,J,x,R,L,M,W,k,O,A,ae;c=s.state,u=s.next_in,A=s.input,h=u+(s.avail_in-5),p=s.next_out,ae=s.output,g=p-(a-s.avail_out),_=p+(s.avail_out-257),v=c.dmax,I=c.wsize,T=c.whave,b=c.wnext,C=c.window,D=c.hold,F=c.bits,U=c.lencode,$=c.distcode,J=(1<<c.lenbits)-1,x=(1<<c.distbits)-1;e:do{F<15&&(D+=A[u++]<<F,F+=8,D+=A[u++]<<F,F+=8),R=U[D&J];t:for(;;){if(D>>>=L=R>>>24,F-=L,(L=R>>>16&255)===0)ae[p++]=65535&R;else{if(!(16&L)){if((64&L)==0){R=U[(65535&R)+(D&(1<<L)-1)];continue t}if(32&L){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}M=65535&R,(L&=15)&&(F<L&&(D+=A[u++]<<F,F+=8),M+=D&(1<<L)-1,D>>>=L,F-=L),F<15&&(D+=A[u++]<<F,F+=8,D+=A[u++]<<F,F+=8),R=$[D&x];n:for(;;){if(D>>>=L=R>>>24,F-=L,!(16&(L=R>>>16&255))){if((64&L)==0){R=$[(65535&R)+(D&(1<<L)-1)];continue n}s.msg="invalid distance code",c.mode=30;break e}if(W=65535&R,F<(L&=15)&&(D+=A[u++]<<F,(F+=8)<L&&(D+=A[u++]<<F,F+=8)),v<(W+=D&(1<<L)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(D>>>=L,F-=L,(L=p-g)<W){if(T<(L=W-L)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(O=C,(k=0)===b){if(k+=I-L,L<M){for(M-=L;ae[p++]=C[k++],--L;);k=p-W,O=ae}}else if(b<L){if(k+=I+b-L,(L-=b)<M){for(M-=L;ae[p++]=C[k++],--L;);if(k=0,b<M){for(M-=L=b;ae[p++]=C[k++],--L;);k=p-W,O=ae}}}else if(k+=b-L,L<M){for(M-=L;ae[p++]=C[k++],--L;);k=p-W,O=ae}for(;2<M;)ae[p++]=O[k++],ae[p++]=O[k++],ae[p++]=O[k++],M-=3;M&&(ae[p++]=O[k++],1<M&&(ae[p++]=O[k++]))}else{for(k=p-W;ae[p++]=ae[k++],ae[p++]=ae[k++],ae[p++]=ae[k++],2<(M-=3););M&&(ae[p++]=ae[k++],1<M&&(ae[p++]=ae[k++]))}break}}break}}while(u<h&&p<_);u-=M=F>>3,D&=(1<<(F-=M<<3))-1,s.next_in=u,s.next_out=p,s.avail_in=u<h?h-u+5:5-(u-h),s.avail_out=p<_?_-p+257:257-(p-_),c.hold=D,c.bits=F}},{}],49:[function(t,r,i){var s=t("../utils/common"),a=t("./adler32"),c=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),p=1,g=2,_=0,v=-2,I=1,T=852,b=592;function C(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(k){var O;return k&&k.state?(O=k.state,k.total_in=k.total_out=O.total=0,k.msg="",O.wrap&&(k.adler=1&O.wrap),O.mode=I,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new s.Buf32(T),O.distcode=O.distdyn=new s.Buf32(b),O.sane=1,O.back=-1,_):v}function U(k){var O;return k&&k.state?((O=k.state).wsize=0,O.whave=0,O.wnext=0,F(k)):v}function $(k,O){var A,ae;return k&&k.state?(ae=k.state,O<0?(A=0,O=-O):(A=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?v:(ae.window!==null&&ae.wbits!==O&&(ae.window=null),ae.wrap=A,ae.wbits=O,U(k))):v}function J(k,O){var A,ae;return k?(ae=new D,(k.state=ae).window=null,(A=$(k,O))!==_&&(k.state=null),A):v}var x,R,L=!0;function M(k){if(L){var O;for(x=new s.Buf32(512),R=new s.Buf32(32),O=0;O<144;)k.lens[O++]=8;for(;O<256;)k.lens[O++]=9;for(;O<280;)k.lens[O++]=7;for(;O<288;)k.lens[O++]=8;for(h(p,k.lens,0,288,x,0,k.work,{bits:9}),O=0;O<32;)k.lens[O++]=5;h(g,k.lens,0,32,R,0,k.work,{bits:5}),L=!1}k.lencode=x,k.lenbits=9,k.distcode=R,k.distbits=5}function W(k,O,A,ae){var ze,ue=k.state;return ue.window===null&&(ue.wsize=1<<ue.wbits,ue.wnext=0,ue.whave=0,ue.window=new s.Buf8(ue.wsize)),ae>=ue.wsize?(s.arraySet(ue.window,O,A-ue.wsize,ue.wsize,0),ue.wnext=0,ue.whave=ue.wsize):(ae<(ze=ue.wsize-ue.wnext)&&(ze=ae),s.arraySet(ue.window,O,A-ae,ze,ue.wnext),(ae-=ze)?(s.arraySet(ue.window,O,A-ae,ae,0),ue.wnext=ae,ue.whave=ue.wsize):(ue.wnext+=ze,ue.wnext===ue.wsize&&(ue.wnext=0),ue.whave<ue.wsize&&(ue.whave+=ze))),0}i.inflateReset=U,i.inflateReset2=$,i.inflateResetKeep=F,i.inflateInit=function(k){return J(k,15)},i.inflateInit2=J,i.inflate=function(k,O){var A,ae,ze,ue,de,ie,he,B,H,ye,ve,pe,Ke,rt,Me,Qe,lt,Tt,vn,cn,P,fe,le,G,j=0,X=new s.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return v;(A=k.state).mode===12&&(A.mode=13),de=k.next_out,ze=k.output,he=k.avail_out,ue=k.next_in,ae=k.input,ie=k.avail_in,B=A.hold,H=A.bits,ye=ie,ve=he,fe=_;e:for(;;)switch(A.mode){case I:if(A.wrap===0){A.mode=13;break}for(;H<16;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if(2&A.wrap&&B===35615){X[A.check=0]=255&B,X[1]=B>>>8&255,A.check=c(A.check,X,2,0),H=B=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&B)<<8)+(B>>8))%31){k.msg="incorrect header check",A.mode=30;break}if((15&B)!=8){k.msg="unknown compression method",A.mode=30;break}if(H-=4,P=8+(15&(B>>>=4)),A.wbits===0)A.wbits=P;else if(P>A.wbits){k.msg="invalid window size",A.mode=30;break}A.dmax=1<<P,k.adler=A.check=1,A.mode=512&B?10:12,H=B=0;break;case 2:for(;H<16;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if(A.flags=B,(255&A.flags)!=8){k.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){k.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=B>>8&1),512&A.flags&&(X[0]=255&B,X[1]=B>>>8&255,A.check=c(A.check,X,2,0)),H=B=0,A.mode=3;case 3:for(;H<32;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}A.head&&(A.head.time=B),512&A.flags&&(X[0]=255&B,X[1]=B>>>8&255,X[2]=B>>>16&255,X[3]=B>>>24&255,A.check=c(A.check,X,4,0)),H=B=0,A.mode=4;case 4:for(;H<16;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}A.head&&(A.head.xflags=255&B,A.head.os=B>>8),512&A.flags&&(X[0]=255&B,X[1]=B>>>8&255,A.check=c(A.check,X,2,0)),H=B=0,A.mode=5;case 5:if(1024&A.flags){for(;H<16;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}A.length=B,A.head&&(A.head.extra_len=B),512&A.flags&&(X[0]=255&B,X[1]=B>>>8&255,A.check=c(A.check,X,2,0)),H=B=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(ie<(pe=A.length)&&(pe=ie),pe&&(A.head&&(P=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),s.arraySet(A.head.extra,ae,ue,pe,P)),512&A.flags&&(A.check=c(A.check,ae,pe,ue)),ie-=pe,ue+=pe,A.length-=pe),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(ie===0)break e;for(pe=0;P=ae[ue+pe++],A.head&&P&&A.length<65536&&(A.head.name+=String.fromCharCode(P)),P&&pe<ie;);if(512&A.flags&&(A.check=c(A.check,ae,pe,ue)),ie-=pe,ue+=pe,P)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(ie===0)break e;for(pe=0;P=ae[ue+pe++],A.head&&P&&A.length<65536&&(A.head.comment+=String.fromCharCode(P)),P&&pe<ie;);if(512&A.flags&&(A.check=c(A.check,ae,pe,ue)),ie-=pe,ue+=pe,P)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;H<16;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if(B!==(65535&A.check)){k.msg="header crc mismatch",A.mode=30;break}H=B=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),k.adler=A.check=0,A.mode=12;break;case 10:for(;H<32;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}k.adler=A.check=C(B),H=B=0,A.mode=11;case 11:if(A.havedict===0)return k.next_out=de,k.avail_out=he,k.next_in=ue,k.avail_in=ie,A.hold=B,A.bits=H,2;k.adler=A.check=1,A.mode=12;case 12:if(O===5||O===6)break e;case 13:if(A.last){B>>>=7&H,H-=7&H,A.mode=27;break}for(;H<3;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}switch(A.last=1&B,H-=1,3&(B>>>=1)){case 0:A.mode=14;break;case 1:if(M(A),A.mode=20,O!==6)break;B>>>=2,H-=2;break e;case 2:A.mode=17;break;case 3:k.msg="invalid block type",A.mode=30}B>>>=2,H-=2;break;case 14:for(B>>>=7&H,H-=7&H;H<32;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if((65535&B)!=(B>>>16^65535)){k.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&B,H=B=0,A.mode=15,O===6)break e;case 15:A.mode=16;case 16:if(pe=A.length){if(ie<pe&&(pe=ie),he<pe&&(pe=he),pe===0)break e;s.arraySet(ze,ae,ue,pe,de),ie-=pe,ue+=pe,he-=pe,de+=pe,A.length-=pe;break}A.mode=12;break;case 17:for(;H<14;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if(A.nlen=257+(31&B),B>>>=5,H-=5,A.ndist=1+(31&B),B>>>=5,H-=5,A.ncode=4+(15&B),B>>>=4,H-=4,286<A.nlen||30<A.ndist){k.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;H<3;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}A.lens[ge[A.have++]]=7&B,B>>>=3,H-=3}for(;A.have<19;)A.lens[ge[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,le={bits:A.lenbits},fe=h(0,A.lens,0,19,A.lencode,0,A.work,le),A.lenbits=le.bits,fe){k.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;Qe=(j=A.lencode[B&(1<<A.lenbits)-1])>>>16&255,lt=65535&j,!((Me=j>>>24)<=H);){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if(lt<16)B>>>=Me,H-=Me,A.lens[A.have++]=lt;else{if(lt===16){for(G=Me+2;H<G;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if(B>>>=Me,H-=Me,A.have===0){k.msg="invalid bit length repeat",A.mode=30;break}P=A.lens[A.have-1],pe=3+(3&B),B>>>=2,H-=2}else if(lt===17){for(G=Me+3;H<G;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}H-=Me,P=0,pe=3+(7&(B>>>=Me)),B>>>=3,H-=3}else{for(G=Me+7;H<G;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}H-=Me,P=0,pe=11+(127&(B>>>=Me)),B>>>=7,H-=7}if(A.have+pe>A.nlen+A.ndist){k.msg="invalid bit length repeat",A.mode=30;break}for(;pe--;)A.lens[A.have++]=P}}if(A.mode===30)break;if(A.lens[256]===0){k.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,le={bits:A.lenbits},fe=h(p,A.lens,0,A.nlen,A.lencode,0,A.work,le),A.lenbits=le.bits,fe){k.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,le={bits:A.distbits},fe=h(g,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,le),A.distbits=le.bits,fe){k.msg="invalid distances set",A.mode=30;break}if(A.mode=20,O===6)break e;case 20:A.mode=21;case 21:if(6<=ie&&258<=he){k.next_out=de,k.avail_out=he,k.next_in=ue,k.avail_in=ie,A.hold=B,A.bits=H,u(k,ve),de=k.next_out,ze=k.output,he=k.avail_out,ue=k.next_in,ae=k.input,ie=k.avail_in,B=A.hold,H=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;Qe=(j=A.lencode[B&(1<<A.lenbits)-1])>>>16&255,lt=65535&j,!((Me=j>>>24)<=H);){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if(Qe&&(240&Qe)==0){for(Tt=Me,vn=Qe,cn=lt;Qe=(j=A.lencode[cn+((B&(1<<Tt+vn)-1)>>Tt)])>>>16&255,lt=65535&j,!(Tt+(Me=j>>>24)<=H);){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}B>>>=Tt,H-=Tt,A.back+=Tt}if(B>>>=Me,H-=Me,A.back+=Me,A.length=lt,Qe===0){A.mode=26;break}if(32&Qe){A.back=-1,A.mode=12;break}if(64&Qe){k.msg="invalid literal/length code",A.mode=30;break}A.extra=15&Qe,A.mode=22;case 22:if(A.extra){for(G=A.extra;H<G;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}A.length+=B&(1<<A.extra)-1,B>>>=A.extra,H-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;Qe=(j=A.distcode[B&(1<<A.distbits)-1])>>>16&255,lt=65535&j,!((Me=j>>>24)<=H);){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if((240&Qe)==0){for(Tt=Me,vn=Qe,cn=lt;Qe=(j=A.distcode[cn+((B&(1<<Tt+vn)-1)>>Tt)])>>>16&255,lt=65535&j,!(Tt+(Me=j>>>24)<=H);){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}B>>>=Tt,H-=Tt,A.back+=Tt}if(B>>>=Me,H-=Me,A.back+=Me,64&Qe){k.msg="invalid distance code",A.mode=30;break}A.offset=lt,A.extra=15&Qe,A.mode=24;case 24:if(A.extra){for(G=A.extra;H<G;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}A.offset+=B&(1<<A.extra)-1,B>>>=A.extra,H-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){k.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(he===0)break e;if(pe=ve-he,A.offset>pe){if((pe=A.offset-pe)>A.whave&&A.sane){k.msg="invalid distance too far back",A.mode=30;break}Ke=pe>A.wnext?(pe-=A.wnext,A.wsize-pe):A.wnext-pe,pe>A.length&&(pe=A.length),rt=A.window}else rt=ze,Ke=de-A.offset,pe=A.length;for(he<pe&&(pe=he),he-=pe,A.length-=pe;ze[de++]=rt[Ke++],--pe;);A.length===0&&(A.mode=21);break;case 26:if(he===0)break e;ze[de++]=A.length,he--,A.mode=21;break;case 27:if(A.wrap){for(;H<32;){if(ie===0)break e;ie--,B|=ae[ue++]<<H,H+=8}if(ve-=he,k.total_out+=ve,A.total+=ve,ve&&(k.adler=A.check=A.flags?c(A.check,ze,ve,de-ve):a(A.check,ze,ve,de-ve)),ve=he,(A.flags?B:C(B))!==A.check){k.msg="incorrect data check",A.mode=30;break}H=B=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;H<32;){if(ie===0)break e;ie--,B+=ae[ue++]<<H,H+=8}if(B!==(4294967295&A.total)){k.msg="incorrect length check",A.mode=30;break}H=B=0}A.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return v}return k.next_out=de,k.avail_out=he,k.next_in=ue,k.avail_in=ie,A.hold=B,A.bits=H,(A.wsize||ve!==k.avail_out&&A.mode<30&&(A.mode<27||O!==4))&&W(k,k.output,k.next_out,ve-k.avail_out)?(A.mode=31,-4):(ye-=k.avail_in,ve-=k.avail_out,k.total_in+=ye,k.total_out+=ve,A.total+=ve,A.wrap&&ve&&(k.adler=A.check=A.flags?c(A.check,ze,ve,k.next_out-ve):a(A.check,ze,ve,k.next_out-ve)),k.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(ye==0&&ve===0||O===4)&&fe===_&&(fe=-5),fe)},i.inflateEnd=function(k){if(!k||!k.state)return v;var O=k.state;return O.window&&(O.window=null),k.state=null,_},i.inflateGetHeader=function(k,O){var A;return k&&k.state?(2&(A=k.state).wrap)==0?v:((A.head=O).done=!1,_):v},i.inflateSetDictionary=function(k,O){var A,ae=O.length;return k&&k.state?(A=k.state).wrap!==0&&A.mode!==11?v:A.mode===11&&a(1,O,ae,0)!==A.check?-3:W(k,O,ae,ae)?(A.mode=31,-4):(A.havedict=1,_):v},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,g,_,v,I,T,b,C){var D,F,U,$,J,x,R,L,M,W=C.bits,k=0,O=0,A=0,ae=0,ze=0,ue=0,de=0,ie=0,he=0,B=0,H=null,ye=0,ve=new s.Buf16(16),pe=new s.Buf16(16),Ke=null,rt=0;for(k=0;k<=15;k++)ve[k]=0;for(O=0;O<v;O++)ve[g[_+O]]++;for(ze=W,ae=15;1<=ae&&ve[ae]===0;ae--);if(ae<ze&&(ze=ae),ae===0)return I[T++]=20971520,I[T++]=20971520,C.bits=1,0;for(A=1;A<ae&&ve[A]===0;A++);for(ze<A&&(ze=A),k=ie=1;k<=15;k++)if(ie<<=1,(ie-=ve[k])<0)return-1;if(0<ie&&(p===0||ae!==1))return-1;for(pe[1]=0,k=1;k<15;k++)pe[k+1]=pe[k]+ve[k];for(O=0;O<v;O++)g[_+O]!==0&&(b[pe[g[_+O]]++]=O);if(x=p===0?(H=Ke=b,19):p===1?(H=a,ye-=257,Ke=c,rt-=257,256):(H=u,Ke=h,-1),k=A,J=T,de=O=B=0,U=-1,$=(he=1<<(ue=ze))-1,p===1&&852<he||p===2&&592<he)return 1;for(;;){for(R=k-de,M=b[O]<x?(L=0,b[O]):b[O]>x?(L=Ke[rt+b[O]],H[ye+b[O]]):(L=96,0),D=1<<k-de,A=F=1<<ue;I[J+(B>>de)+(F-=D)]=R<<24|L<<16|M|0,F!==0;);for(D=1<<k-1;B&D;)D>>=1;if(D!==0?(B&=D-1,B+=D):B=0,O++,--ve[k]==0){if(k===ae)break;k=g[_+b[O]]}if(ze<k&&(B&$)!==U){for(de===0&&(de=ze),J+=A,ie=1<<(ue=k-de);ue+de<ae&&!((ie-=ve[ue+de])<=0);)ue++,ie<<=1;if(he+=1<<ue,p===1&&852<he||p===2&&592<he)return 1;I[U=B&$]=ze<<24|ue<<16|J-T|0}}return B!==0&&(I[J+B]=k-de<<24|64<<16|0),C.bits=ze,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),a=0,c=1;function u(j){for(var X=j.length;0<=--X;)j[X]=0}var h=0,p=29,g=256,_=g+1+p,v=30,I=19,T=2*_+1,b=15,C=16,D=7,F=256,U=16,$=17,J=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(_+2));u(W);var k=new Array(2*v);u(k);var O=new Array(512);u(O);var A=new Array(256);u(A);var ae=new Array(p);u(ae);var ze,ue,de,ie=new Array(v);function he(j,X,ge,_e,ne){this.static_tree=j,this.extra_bits=X,this.extra_base=ge,this.elems=_e,this.max_length=ne,this.has_stree=j&&j.length}function B(j,X){this.dyn_tree=j,this.max_code=0,this.stat_desc=X}function H(j){return j<256?O[j]:O[256+(j>>>7)]}function ye(j,X){j.pending_buf[j.pending++]=255&X,j.pending_buf[j.pending++]=X>>>8&255}function ve(j,X,ge){j.bi_valid>C-ge?(j.bi_buf|=X<<j.bi_valid&65535,ye(j,j.bi_buf),j.bi_buf=X>>C-j.bi_valid,j.bi_valid+=ge-C):(j.bi_buf|=X<<j.bi_valid&65535,j.bi_valid+=ge)}function pe(j,X,ge){ve(j,ge[2*X],ge[2*X+1])}function Ke(j,X){for(var ge=0;ge|=1&j,j>>>=1,ge<<=1,0<--X;);return ge>>>1}function rt(j,X,ge){var _e,ne,Ce=new Array(b+1),Fe=0;for(_e=1;_e<=b;_e++)Ce[_e]=Fe=Fe+ge[_e-1]<<1;for(ne=0;ne<=X;ne++){var me=j[2*ne+1];me!==0&&(j[2*ne]=Ke(Ce[me]++,me))}}function Me(j){var X;for(X=0;X<_;X++)j.dyn_ltree[2*X]=0;for(X=0;X<v;X++)j.dyn_dtree[2*X]=0;for(X=0;X<I;X++)j.bl_tree[2*X]=0;j.dyn_ltree[2*F]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function Qe(j){8<j.bi_valid?ye(j,j.bi_buf):0<j.bi_valid&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function lt(j,X,ge,_e){var ne=2*X,Ce=2*ge;return j[ne]<j[Ce]||j[ne]===j[Ce]&&_e[X]<=_e[ge]}function Tt(j,X,ge){for(var _e=j.heap[ge],ne=ge<<1;ne<=j.heap_len&&(ne<j.heap_len&&lt(X,j.heap[ne+1],j.heap[ne],j.depth)&&ne++,!lt(X,_e,j.heap[ne],j.depth));)j.heap[ge]=j.heap[ne],ge=ne,ne<<=1;j.heap[ge]=_e}function vn(j,X,ge){var _e,ne,Ce,Fe,me=0;if(j.last_lit!==0)for(;_e=j.pending_buf[j.d_buf+2*me]<<8|j.pending_buf[j.d_buf+2*me+1],ne=j.pending_buf[j.l_buf+me],me++,_e===0?pe(j,ne,X):(pe(j,(Ce=A[ne])+g+1,X),(Fe=x[Ce])!==0&&ve(j,ne-=ae[Ce],Fe),pe(j,Ce=H(--_e),ge),(Fe=R[Ce])!==0&&ve(j,_e-=ie[Ce],Fe)),me<j.last_lit;);pe(j,F,X)}function cn(j,X){var ge,_e,ne,Ce=X.dyn_tree,Fe=X.stat_desc.static_tree,me=X.stat_desc.has_stree,Pe=X.stat_desc.elems,Le=-1;for(j.heap_len=0,j.heap_max=T,ge=0;ge<Pe;ge++)Ce[2*ge]!==0?(j.heap[++j.heap_len]=Le=ge,j.depth[ge]=0):Ce[2*ge+1]=0;for(;j.heap_len<2;)Ce[2*(ne=j.heap[++j.heap_len]=Le<2?++Le:0)]=1,j.depth[ne]=0,j.opt_len--,me&&(j.static_len-=Fe[2*ne+1]);for(X.max_code=Le,ge=j.heap_len>>1;1<=ge;ge--)Tt(j,Ce,ge);for(ne=Pe;ge=j.heap[1],j.heap[1]=j.heap[j.heap_len--],Tt(j,Ce,1),_e=j.heap[1],j.heap[--j.heap_max]=ge,j.heap[--j.heap_max]=_e,Ce[2*ne]=Ce[2*ge]+Ce[2*_e],j.depth[ne]=(j.depth[ge]>=j.depth[_e]?j.depth[ge]:j.depth[_e])+1,Ce[2*ge+1]=Ce[2*_e+1]=ne,j.heap[1]=ne++,Tt(j,Ce,1),2<=j.heap_len;);j.heap[--j.heap_max]=j.heap[1],(function(Ne,Ze){var Ot,Dt,en,pt,Qn,Cn,jt=Ze.dyn_tree,fi=Ze.max_code,Qr=Ze.stat_desc.static_tree,sr=Ze.stat_desc.has_stree,wn=Ze.stat_desc.extra_bits,nt=Ze.stat_desc.extra_base,gt=Ze.stat_desc.max_length,or=0;for(pt=0;pt<=b;pt++)Ne.bl_count[pt]=0;for(jt[2*Ne.heap[Ne.heap_max]+1]=0,Ot=Ne.heap_max+1;Ot<T;Ot++)gt<(pt=jt[2*jt[2*(Dt=Ne.heap[Ot])+1]+1]+1)&&(pt=gt,or++),jt[2*Dt+1]=pt,fi<Dt||(Ne.bl_count[pt]++,Qn=0,nt<=Dt&&(Qn=wn[Dt-nt]),Cn=jt[2*Dt],Ne.opt_len+=Cn*(pt+Qn),sr&&(Ne.static_len+=Cn*(Qr[2*Dt+1]+Qn)));if(or!==0){do{for(pt=gt-1;Ne.bl_count[pt]===0;)pt--;Ne.bl_count[pt]--,Ne.bl_count[pt+1]+=2,Ne.bl_count[gt]--,or-=2}while(0<or);for(pt=gt;pt!==0;pt--)for(Dt=Ne.bl_count[pt];Dt!==0;)fi<(en=Ne.heap[--Ot])||(jt[2*en+1]!==pt&&(Ne.opt_len+=(pt-jt[2*en+1])*jt[2*en],jt[2*en+1]=pt),Dt--)}})(j,X),rt(Ce,Le,j.bl_count)}function P(j,X,ge){var _e,ne,Ce=-1,Fe=X[1],me=0,Pe=7,Le=4;for(Fe===0&&(Pe=138,Le=3),X[2*(ge+1)+1]=65535,_e=0;_e<=ge;_e++)ne=Fe,Fe=X[2*(_e+1)+1],++me<Pe&&ne===Fe||(me<Le?j.bl_tree[2*ne]+=me:ne!==0?(ne!==Ce&&j.bl_tree[2*ne]++,j.bl_tree[2*U]++):me<=10?j.bl_tree[2*$]++:j.bl_tree[2*J]++,Ce=ne,Le=(me=0)===Fe?(Pe=138,3):ne===Fe?(Pe=6,3):(Pe=7,4))}function fe(j,X,ge){var _e,ne,Ce=-1,Fe=X[1],me=0,Pe=7,Le=4;for(Fe===0&&(Pe=138,Le=3),_e=0;_e<=ge;_e++)if(ne=Fe,Fe=X[2*(_e+1)+1],!(++me<Pe&&ne===Fe)){if(me<Le)for(;pe(j,ne,j.bl_tree),--me!=0;);else ne!==0?(ne!==Ce&&(pe(j,ne,j.bl_tree),me--),pe(j,U,j.bl_tree),ve(j,me-3,2)):me<=10?(pe(j,$,j.bl_tree),ve(j,me-3,3)):(pe(j,J,j.bl_tree),ve(j,me-11,7));Ce=ne,Le=(me=0)===Fe?(Pe=138,3):ne===Fe?(Pe=6,3):(Pe=7,4)}}u(ie);var le=!1;function G(j,X,ge,_e){ve(j,(h<<1)+(_e?1:0),3),(function(ne,Ce,Fe,me){Qe(ne),ye(ne,Fe),ye(ne,~Fe),s.arraySet(ne.pending_buf,ne.window,Ce,Fe,ne.pending),ne.pending+=Fe})(j,X,ge)}i._tr_init=function(j){le||((function(){var X,ge,_e,ne,Ce,Fe=new Array(b+1);for(ne=_e=0;ne<p-1;ne++)for(ae[ne]=_e,X=0;X<1<<x[ne];X++)A[_e++]=ne;for(A[_e-1]=ne,ne=Ce=0;ne<16;ne++)for(ie[ne]=Ce,X=0;X<1<<R[ne];X++)O[Ce++]=ne;for(Ce>>=7;ne<v;ne++)for(ie[ne]=Ce<<7,X=0;X<1<<R[ne]-7;X++)O[256+Ce++]=ne;for(ge=0;ge<=b;ge++)Fe[ge]=0;for(X=0;X<=143;)W[2*X+1]=8,X++,Fe[8]++;for(;X<=255;)W[2*X+1]=9,X++,Fe[9]++;for(;X<=279;)W[2*X+1]=7,X++,Fe[7]++;for(;X<=287;)W[2*X+1]=8,X++,Fe[8]++;for(rt(W,_+1,Fe),X=0;X<v;X++)k[2*X+1]=5,k[2*X]=Ke(X,5);ze=new he(W,x,g+1,_,b),ue=new he(k,R,0,v,b),de=new he(new Array(0),L,0,I,D)})(),le=!0),j.l_desc=new B(j.dyn_ltree,ze),j.d_desc=new B(j.dyn_dtree,ue),j.bl_desc=new B(j.bl_tree,de),j.bi_buf=0,j.bi_valid=0,Me(j)},i._tr_stored_block=G,i._tr_flush_block=function(j,X,ge,_e){var ne,Ce,Fe=0;0<j.level?(j.strm.data_type===2&&(j.strm.data_type=(function(me){var Pe,Le=4093624447;for(Pe=0;Pe<=31;Pe++,Le>>>=1)if(1&Le&&me.dyn_ltree[2*Pe]!==0)return a;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return c;for(Pe=32;Pe<g;Pe++)if(me.dyn_ltree[2*Pe]!==0)return c;return a})(j)),cn(j,j.l_desc),cn(j,j.d_desc),Fe=(function(me){var Pe;for(P(me,me.dyn_ltree,me.l_desc.max_code),P(me,me.dyn_dtree,me.d_desc.max_code),cn(me,me.bl_desc),Pe=I-1;3<=Pe&&me.bl_tree[2*M[Pe]+1]===0;Pe--);return me.opt_len+=3*(Pe+1)+5+5+4,Pe})(j),ne=j.opt_len+3+7>>>3,(Ce=j.static_len+3+7>>>3)<=ne&&(ne=Ce)):ne=Ce=ge+5,ge+4<=ne&&X!==-1?G(j,X,ge,_e):j.strategy===4||Ce===ne?(ve(j,2+(_e?1:0),3),vn(j,W,k)):(ve(j,4+(_e?1:0),3),(function(me,Pe,Le,Ne){var Ze;for(ve(me,Pe-257,5),ve(me,Le-1,5),ve(me,Ne-4,4),Ze=0;Ze<Ne;Ze++)ve(me,me.bl_tree[2*M[Ze]+1],3);fe(me,me.dyn_ltree,Pe-1),fe(me,me.dyn_dtree,Le-1)})(j,j.l_desc.max_code+1,j.d_desc.max_code+1,Fe+1),vn(j,j.dyn_ltree,j.dyn_dtree)),Me(j),_e&&Qe(j)},i._tr_tally=function(j,X,ge){return j.pending_buf[j.d_buf+2*j.last_lit]=X>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&X,j.pending_buf[j.l_buf+j.last_lit]=255&ge,j.last_lit++,X===0?j.dyn_ltree[2*ge]++:(j.matches++,X--,j.dyn_ltree[2*(A[ge]+g+1)]++,j.dyn_dtree[2*H(X)]++),j.last_lit===j.lit_bufsize-1},i._tr_align=function(j){ve(j,2,3),pe(j,F,W),(function(X){X.bi_valid===16?(ye(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):8<=X.bi_valid&&(X.pending_buf[X.pending++]=255&X.bi_buf,X.bi_buf>>=8,X.bi_valid-=8)})(j)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(a,c){if(!a.setImmediate){var u,h,p,g,_=1,v={},I=!1,T=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,u={}.toString.call(a.process)==="[object process]"?function(U){process.nextTick(function(){D(U)})}:(function(){if(a.postMessage&&!a.importScripts){var U=!0,$=a.onmessage;return a.onmessage=function(){U=!1},a.postMessage("","*"),a.onmessage=$,U}})()?(g="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",F,!1):a.attachEvent("onmessage",F),function(U){a.postMessage(g+U,"*")}):a.MessageChannel?((p=new MessageChannel).port1.onmessage=function(U){D(U.data)},function(U){p.port2.postMessage(U)}):T&&"onreadystatechange"in T.createElement("script")?(h=T.documentElement,function(U){var $=T.createElement("script");$.onreadystatechange=function(){D(U),$.onreadystatechange=null,h.removeChild($),$=null},h.appendChild($)}):function(U){setTimeout(D,0,U)},b.setImmediate=function(U){typeof U!="function"&&(U=new Function(""+U));for(var $=new Array(arguments.length-1),J=0;J<$.length;J++)$[J]=arguments[J+1];var x={callback:U,args:$};return v[_]=x,u(_),_++},b.clearImmediate=C}function C(U){delete v[U]}function D(U){if(I)setTimeout(D,0,U);else{var $=v[U];if($){I=!0;try{(function(J){var x=J.callback,R=J.args;switch(R.length){case 0:x();break;case 1:x(R[0]);break;case 2:x(R[0],R[1]);break;case 3:x(R[0],R[1],R[2]);break;default:x.apply(c,R)}})($)}finally{C(U),I=!1}}}}function F(U){U.source===a&&typeof U.data=="string"&&U.data.indexOf(g)===0&&D(+U.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof np<"u"?np:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(H1)),H1.exports}var Yj=Qj();const Jj=d0(Yj),Xj={header:{search:"",login:"  ",dashboard:" ",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:"  ."},blog:{title:" Gitut",subtitle:"           ."},share:{title:":",copied:" !",copyDetails:" "},blogPostCard:{readMore:" "},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},app:{error:{title:"  ",message:"   .       .",insufficientBalance:"     ."}},dashboard:{home:{title:" ",subtitle:"       ."},stats:{pendingJobs:" ",availableDocs:" ",currentBalance:" "},links:{viewAllJobs:"  ",createDoc:" ",topUpNow:"  ",manageBalance:" "},idCard:{title:"   ",subtitle:"       .",button:"  "},numericIdModal:{yourIdIs:"    :",instruction:"       .",idUnavailable:"     .",print:"",close:""},sections:{docsTitle:" ",sitesTitle:" "},sites:{openLink:"  ",fillFormFor:"  : {url}"},error:{fatalError:" ",cafeDataNotFound:"        .",retryLogin:"       ."}},cafeCard:{owner:":",address:":",checkingStatus:"   ...",online:"",offline:" ",chooseThisCafe:"  ",viewDetails:"  ",startChat:" ",distanceUnit:""},profilePage:{backToSearch:" ",managedBy:":",checkingStatus:" ...",online:"",offline:" ",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"   .            .",searchPlaceholder:"   ...",searchLabel:"    ",noMatch:"    .",step2Title:"2.  ",continueToForm:"   ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:"         .",startChat:" ",chatWith:"  {name}"},confirmationPage:{title:"   !",subtitle:"   .        .",orderCodeLabel:"   :",note:":         .",backToHome:" "},formPage:{title:" ",submittingTo:"   ",online:"",offline:" ",scanId:" ",scanIdTitle:"   ",micPermissionErrorTitle:"   ",micPermissionErrorMessage:"         .    .",stepCounter:" {current}  {total}",navigationHint:'  ""  ""   .',answerPlaceholder:" ... : {placeholder}",toggleMic:"/ ",optionsHint:"  (  ):",previous:"",next:"",review:"",formCompleteTitle:" !",formCompleteMessage:"      .",profilePicture:" ",backToEdit:" ",submitFinal:"  ",submitting:" ...",errorTitle:"  ",errorMessage:"      .     .",backToSearch:"  ",error:{noDocument:"   .",loadFailed:"   .",unexpected:"   .",notFound:"  ",wordTemplateFailed:"   Word."},fillDataFor:"  :",fillFieldsBelow:"      .",importantNote:" ",noteContent:"           .",selectOption:"--  --",createDocument:" "},adPage:{preparing:"  ...",autoDisplay:"    :",downloadBlank:"  ",fillDownload:"/",downloadPdf:"  PDF",downloadWord:"  Word",adLabel:":",optionsTitle:" ",stepFormatTitle:" :   ",stepFormatDesc:"      .",preparingLink:"  ...",pleaseWait:"     :",linkReady:" !",downloadNow:" ",goTo:"  {name}",internalPage:" ",hadithTitle:" ",prayerReminderTitle:" ",hadithIntro:"      :",prayerHadithContent:'"        ."',prayerHadithSource:"     ",istighfarContent:'"                  "'},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"    ",subtitle2:"      ."},step1:{title:"1.   ",placeholder:"     ...",voiceSearchTitle:" "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:":   ({count})",nextStepButtonDisabledTitle:"      ",emptyState:"     ."},alert:{selectFillable:"       ."}},blogPost:{publishedOn:" :",by:":",relatedArticles:"   ",backToList:"  ",relatedPostsSidebar:"  ",notFoundTitle:"404 -   ",notFoundMessage:"         .",backToBlog:" "},searchForm:{searchByName:" ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"  (PDF)",siteServices:" "},serviceDetailPage:{serviceNotFound:"  ",backToList:"  ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"  ...",noPreview:"     .",openInNewWindow:"     ",instructions:"  ",voiceExample:"  ():",requiredInfo:"  ():",findCafeTitle:"     ",searchNearest:"    ",locating:"  ...",resultsTitle:" ({count})",allCafesTitle:"      ({count})",noResults:"       ."},login:{title:"  ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:"",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"   ."},reset:{title:"   ",emailLabel:" ",sendButton:"   ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:" "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:" / ",daira:" / ",commune:" / ",state:" / ",city:"",street:" ()",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:":   ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"  ",errors:{allowedDomains:"   Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"     6   .",signupFailed:"        .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"  "}},pendingJobsPage:{title:" ",listTitle:" ",visitorFallback:"",noJobs:"   .",status:{pending:"",completed:"",cancelled:""},detailsTitle:" ",customerLabel:"",rawDataTitle:"  ",reviewedTextLabel:"    ",processing:"    ...",actions:{extractEdit:" ",extractOpen:" ",extractPrint:" "},requestedDocsTitle:" ",unknownDoc:"  ",customerInfoTitle:" ",customerImageAlt:" ",confirmButton:{generating:"  ...",default:"    "},selectJobTitle:"   ",selectJobSubtitle:"       .",alerts:{confirmSuccess:"  .    {count} () .",completeFail:"   ."},errors:{noData:"   (  ) .",unexpected:"   ."}},multiPersonJobPage:{title:"  ",step1Subtitle:" 1:       .",labels:{documents:":",noDocsSelected:"    "},section:{addPerson:"  "},placeholders:{fullName:"  ...",searchService:"    ...",workInProgress:"(     )"},buttons:{confirmAdd:" ",cancel:"",addPerson:" ",startFilling:"    {count} ",backToSetup:"  "},advanced:{summary:"  ( )",addManually:"  ()",enterNamePlaceholder:"  ",addPersonButton:" ",deleteButton:""},headers:{personCounter:" {index}/{total}: {name}",personData:" {name}"},alerts:{enterNameAndDoc:"        .",textAnalysisFailed:"  .",enterPersonName:"   .",extensionFill:"   {siteName}    {personName}  ."}},generateDocumentPage:{title:"  ",step1:" 1:       .",createTitle:": {docName}",cost:": ",changeDocType:"  ",previewTitle:" ",fillDataTitle:" ",saveClientData:"    ",buttons:{open:"",print:""},selectPlaceholder:"--  --",alerts:{uploadFailed:"  .",insufficientBalance:"  .    {cost} {currency}   {balance} {currency}.",generateFailed:"  .     .",successDeducted:"    {cost} {currency}  .  : {balance} {currency}.",syncFailed:":       .   ."}},fillSitePage:{title:"  : {name}",cost:": ",back:"",uploadJsonLabel:"  JSON  ",uploadJsonHint:"          .",jsonError:{invalid:"   .     JSON   .",read:"    ."},submitError:{missingData:":         ."},saveClient:"/   ",submitButton:"     ",successMessage:"  {cost} {currency}  .       .    .",notFound:{title:"        ",message:"         .",backButton:"   "},jsonStep1:{title:" 1:    JSON   .",subtitle:"        ."},loadedTemplate:" : {name}"},staticDocViewer:{error:{missingData:"   .        ."},success:{unlocked:"  {cost} {currency}  ."},notFound:{title:"    "},backToDashboard:"   ",print:"",download:"",locked:{title:" ",description:"    ",balance:" ."},unlockButton:" "},excelStudioPage:{title:"  ",subtitle:"        Excel    .",buttons:{chooseFile:" ",createNew:"   ",reset:" ",download:"",cancel:"",create:"",applyAi:"  ",processing:" ..."},modal:{title:"   ",fileName:" ",rows:" ",cols:" "},howToUse:{title:" :",step1:"** :**      .",step2:"**  :**         (: '  1 ').",step3:"** :**       ''   ."},prompts:{placeholder:"      ..."},errors:{noSelection:"         .",noCommand:"    .",unexpected:"     .",micError:"   :",fileEmpty:"    .",readError:"    Excel: ",corruptFile:"    Excel.      ."}},documentStudioPage:{title:" ",subtitle:'     .        " ".',buttons:{aiCreate:"  ",upload:" ",template:"  ",back:"  ",preview:"",savePublish:"  ",saving:" ...",goToManual:"    "},aiCreator:{title:"  ",desc:"     .",label:"   ",placeholder:":          ...",generating:" ...",previewTitle:"",editVoice:"  ",editStudio:"  "},cards:{aiDesc:"       .",uploadDesc:"  DOCX, PDF,  HTML   .",templateDesc:"      ."},table:{title:" ",name:" ",desc:"",actions:"",edit:"",delete:"",empty:"    .      ."},editor:{docNameLabel:"  ( )",modes:{visual:"  /",advanced:"  (GrapesJS)"},textFormatting:" ",fontSize:" ",color:"",alignment:""},modals:{cameraTitle:" ",templateTitle:"  "}},settings:{title:" ",success:"   !",loading:"   ...",error:{save:"    .",uploadImage:"  .    .",noCafe:"       .",geolocation:"    ",geolocationSupport:"     ."},unpublishedAlert:{title:"   !",message:'   "  "    " "       .'},sections:{visibility:"  ",basicInfo:"   ",location:" ",publicProfile:"  ",automation:" ",ai:" Gemini API"},fields:{isProfilePublished:"    ",isProfileHidden:"   ",visibilityHint:"              .        .",name:"  ",owner:"  ",phone:" ",mainImage:"  ",uploadingImage:"  ...",state:" / ",city:"",street:" ",addressFixed:"      .",googleMapsUrl:"    ",googleMapsPlaceholder:"https://maps.app.goo.gl/...",autoLocate:"  ",locating:"... ",googleMapsHint:"    Google Maps       .",coverImageUrl:"  ",coverImagePlaceholder:"https://example.com/cover.jpg",description:" ( )",descriptionHint:"           .",facebook:" ",instagram:" ",twitter:" ",formFillMode:"    ",modeAi:"   ()",modeJson:"   JSON ( )",automationHint:"  :    .   JSON:        .",speechToTextLanguage:"    ",speechToTextHint:"            .",adminKeyNote:"  Gemini API:",adminKeyMessage:"             .       API  .",apiKeyLabel:" Gemini API  ",apiKeyPlaceholder:"  Gemini API   ",noKeyWarning:":       API       .",keyHint:"         .       ."},buttons:{viewPublicProfile:"  ",saveChanges:" ",saving:" ..."}},dashboardLayout:{unpublishedGate:{title:"   !",message:"   Gitut.                 .",button:"     "}},cafeChatPage:{title:" ",conversations:"",support:" ",you:": ",noMessages:"  ",visitor:"",chatWithSupport:"   ",chatWithVisitor:"   {id}",selectConversation:"  ",adminOffline:"   ",contactAdminEmail:"       : {email}",online:"",offline:" ",filterOnline:" "},billing:{title:" ",currentBalance:" ",balanceDescription:"        .",pendingRequestTitle:"     ",pendingRequestMessage:'      <strong class="font-mono">{amount} {currency}</strong>  {date}.         .',topUpTitle:" ",step1Title:" 1:        .",customAmountLabel:"   ",customAmountPlaceholder:"  (  {min} {currency})",minAmountError:"    {min} {currency}.",step2Title:" 2:  ",paymentInstructionDzd:'     <strong class="font-mono">{amount} </strong>   .',recipientName:" :",ccpLabel:"CCP / BaridiMob:",step3Title:" 3:   ",proofInstruction:"     .              .",fileSelected:" : {fileName}",chooseFile:" ",step4Title:" 4:  ",confirmInstruction:"        .          .",uploading:"  ...",confirmButton:"     ",step2PaypalTitle:" 2:   PayPal",paypalInstruction:'     <strong class="font-mono">${amount} USD</strong>    PayPal.',payWithPaypal:"  PayPal",paypalNote:"     .       .",historyTitle:"  ",tableInvoiceId:" ",tableDate:"",tableAmount:"",tableStatus:"",statusPaid:"",statusPending:"  ",noHistory:"    .",errorLoad:"    .",errorMinAmount:"    {min} {currency}.",errorNoProof:"      .",uploadingProof:"   ...",errorSubmit:"    .    ."}},Zj={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout",allCountries:"All Countries",allCountriesSearch:"All Countries (Global Search)",selectCafeCountry:"Select Cafe Country"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},blog:{title:"Gitut Blog",subtitle:"Follow our latest news, updates, and helpful tips for cafe owners and document service seekers."},share:{title:"Share:",copied:"Copied!",copyDetails:"Copy details"},blogPostCard:{readMore:"Read more"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},app:{error:{title:"Application Error",message:"Could not load essential data. There might be a problem connecting to the server.",insufficientBalance:"Your balance is insufficient to complete this operation."}},dashboard:{home:{title:"Dashboard",subtitle:"Welcome, here you can manage all your daily operations."},stats:{pendingJobs:"Pending Requests",availableDocs:"Available Documents",currentBalance:"Current Balance"},links:{viewAllJobs:"View All Requests",createDoc:"Create Document",topUpNow:"Top Up Now",manageBalance:"Manage Balance"},idCard:{title:"Your Cafe ID",subtitle:"Show this number to customers to receive orders directly.",button:"View & Print ID"},numericIdModal:{yourIdIs:"Your Cafe ID is:",instruction:"Provide this number to customers to receive orders directly.",idUnavailable:"ID unavailable for this cafe.",print:"Print",close:"Close"},sections:{docsTitle:"Available Documents",sitesTitle:"Available Sites"},sites:{openLink:"Open Direct Link",fillFormFor:"Fill form for: {url}"},error:{fatalError:"Fatal Error",cafeDataNotFound:"Could not find cafe data associated with your account.",retryLogin:"Please try logging out and logging back in."}},cafeCard:{owner:"Owner:",address:"Address:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",chooseThisCafe:"Choose this Cafe",viewDetails:"View Details & Services",startChat:"Start Chat",distanceUnit:"km"},profilePage:{backToSearch:"Back to Search",managedBy:"Managed by:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",address:"Address:",description:"Description:",viewOnMap:"View on Map",step1Title:"1. Select Required Documents",step1Subtitle:"Select the documents you need. You can search for a document and add it to the list, or choose directly from the list below.",searchPlaceholder:"Search for a document to add...",searchLabel:"Search for a document to add to your list",noMatch:"No documents match your search.",step2Title:"2. Send Your Request",continueToForm:"Continue to Fill Form ({count})",similarCafes:"Similar Cafes",cafeNotFoundTitle:"Cafe Not Found",cafeNotFoundMessage:"Sorry, we couldn't find the page you're looking for.",startChat:"Start Chat",chatWith:"Chat with {name}"},confirmationPage:{title:"Your Request Has Been Sent Successfully!",subtitle:"Your information has been sent to the cafe. Please go there and provide the following code to receive your documents.",orderCodeLabel:"Your order code is:",note:"Note: Keep this code, you will need it to confirm your order with the cafe owner.",backToHome:"Back to Homepage"},formPage:{title:"Fill Out the Form",submittingTo:"You are submitting a request to",online:"Online",offline:"Offline",scanId:"Scan ID",scanIdTitle:"Scan ID card with camera",micPermissionErrorTitle:"Microphone Access Denied",micPermissionErrorMessage:"Please enable microphone access in your browser settings to use the voice input feature. You can still complete the form manually.",stepCounter:"Step {current} of {total}",navigationHint:'You can say "Next" or "Previous" to navigate between fields.',answerPlaceholder:"Answer here... e.g., {placeholder}",toggleMic:"Toggle Microphone",optionsHint:"Available options (say the number to select):",previous:"Previous",next:"Next",review:"Review",formCompleteTitle:"Form Complete!",formCompleteMessage:"Please review the data carefully before final submission.",profilePicture:"Profile Picture",backToEdit:"Back to Edit",submitFinal:"Submit Final Request",submitting:"Submitting...",errorTitle:"Request Error",errorMessage:"No documents or services were selected. Please go back and select documents first.",backToSearch:"Back to Search Page",error:{noDocument:"No document specified.",loadFailed:"Failed to load document data.",unexpected:"An unexpected error occurred.",notFound:"Document Not Found",wordTemplateFailed:"Failed to load Word template."},fillDataFor:"Fill Data For:",fillFieldsBelow:"Fill in the fields below to create your document.",importantNote:"Important Note",noteContent:"Buttons to preview, download, or fill this document are at the bottom of this page.",selectOption:"-- Select --",createDocument:"Create Document"},adPage:{preparing:"Preparing your document...",autoDisplay:"Your document will be displayed automatically in:",downloadBlank:"Download Blank Copy",fillDownload:"Fill/Download",downloadPdf:"Download as PDF",downloadWord:"Download as Word",adLabel:"Advertisement:",optionsTitle:"Document Options",stepFormatTitle:"Last Step: Choose Download Format",stepFormatDesc:"Choose the format you want to download the document in.",preparingLink:"Preparing link...",pleaseWait:"Please wait, link will be ready in:",linkReady:"Link Ready!",downloadNow:"Download Now",goTo:"Go to {name}",internalPage:"Internal Page",hadithTitle:"Hadith",prayerReminderTitle:"Prayer Reminder",hadithIntro:"The Prophet (peace be upon him) said:",prayerHadithContent:'"The covenant between us and them is prayer, so whoever abandons it has disbelieved."',prayerHadithSource:"Narrated by Ahmad, Abu Dawood, An-Nasa'i, At-Tirmidhi (Hasan Sahih), Ibn Majah, Ibn Hibban, Al-Hakim",istighfarContent:'"Whoever keeps to asking for forgiveness (Istighfar), Allah will make a way out for him from every difficulty, a relief from every anxiety, and provide for him from where he does not expect."'},findPage:{hero:{title1:"Get Your Documents Done with Ease",subtitle1:"Find an internet cafe nearby, send your request remotely, and pick up your ready documents.",title2:"Find a nearby internet cafe",subtitle2:"Send your request remotely and pick up your ready documents."},step1:{title:"1. Search for a Document",placeholder:"Birth certificate, CV, Request...",voiceSearchTitle:"Voice Search"},selectedDocs:{title:"Selected Documents",viewFile:"View File",removeTitle:"Remove",nextStepButton:"Next: Choose Cafe ({count})",nextStepButtonDisabledTitle:"Please select at least one document",emptyState:"No documents selected yet."},alert:{selectFillable:"Please select at least one fillable document."}},blogPost:{publishedOn:"Published on:",by:"By:",relatedArticles:"Other articles you might like",backToList:"Back to all articles",relatedPostsSidebar:"Related Posts",notFoundTitle:"404 - Post Not Found",notFoundMessage:"Sorry, we couldn't find the post you're looking for.",backToBlog:"Back to Blog"},searchForm:{searchByName:"Search by name...",search:"Search"},servicesListPage:{title:"Services List",fillableDocs:"Fillable Documents",staticDocs:"Printable Documents (PDF)",siteServices:"Website Services"},serviceDetailPage:{serviceNotFound:"Service Not Found",backToList:"Back to Services List",preview:"Document Preview",previousDesign:"Previous Design",nextDesign:"Next Design",loadingPreview:"Loading preview...",noPreview:"No preview is available for this document.",openInNewWindow:"Open in new window or download",instructions:"Instructions for This Design",voiceExample:"How to Record (Example):",requiredInfo:"Required information (spoken):",findCafeTitle:"Find a cafe that provides this service",searchNearest:"Search for cafes nearest to me",locating:"Locating...",resultsTitle:"Results ({count})",allCafesTitle:"Internet cafes providing this service ({count})",noResults:"No cafes match your search for all required services."},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},pendingJobsPage:{title:"Pending Jobs",listTitle:"Requests List",visitorFallback:"Visitor",noJobs:"No requests currently.",status:{pending:"Pending",completed:"Completed",cancelled:"Cancelled"},detailsTitle:"Request Details",customerLabel:"Customer",rawDataTitle:"Initial Customer Data",reviewedTextLabel:"Text Reviewed by Customer",processing:"Analyzing data and extracting information...",actions:{extractEdit:"Extract & Edit",extractOpen:"Extract & Open",extractPrint:"Extract & Print"},requestedDocsTitle:"Requested Documents",unknownDoc:"Unknown Document",customerInfoTitle:"Customer Information",customerImageAlt:"Customer Image",confirmButton:{generating:"Preparing for print...",default:"Confirm Receipt & Open Docs"},selectJobTitle:"Select a request to view details",selectJobSubtitle:"Click on a request from the list on the left.",alerts:{confirmSuccess:"Request confirmed. Opening {count} document(s) for printing.",completeFail:"Failed to complete request."},errors:{noData:"No data available to process.",unexpected:"An unexpected error occurred."}},multiPersonJobPage:{title:"Multi-Person Job",step1Subtitle:"Step 1: Set up the people and documents required for each.",labels:{documents:"Documents:",noDocsSelected:"No document selected"},section:{addPerson:"Add New Person"},placeholders:{fullName:"Full Name...",searchService:"Search for document or site...",workInProgress:"(Data entry interface not yet completed)"},buttons:{confirmAdd:"Confirm Add",cancel:"Cancel",addPerson:"Add Person",startFilling:"Start data entry for {count} people",backToSetup:"Back to Setup"},advanced:{summary:"Advanced Settings (Old Interface)",addManually:"Add People (Manually)",enterNamePlaceholder:"Enter person's name",addPersonButton:"Add Person",deleteButton:"Delete"},headers:{personCounter:"Person {index}/{total}: {name}",personData:"Data for {name}"},alerts:{enterNameAndDoc:"Please enter the person's name and select at least one document.",textAnalysisFailed:"Text analysis failed.",enterPersonName:"Please enter the person's name.",extensionFill:"Opening {siteName} to fill data for {personName} using the extension."}},generateDocumentPage:{title:"Create New Document",step1:"Step 1: Select the type of document you want to create for the client.",createTitle:"Create: {docName}",cost:"Cost: ",changeDocType:"Change Document Type",previewTitle:"Document Preview",fillDataTitle:"Fill Data",saveClientData:"Save client data for future use",buttons:{open:"Open",print:"Print"},selectPlaceholder:"-- Select --",alerts:{uploadFailed:"Failed to upload image.",insufficientBalance:"Insufficient balance. This operation costs {cost} {currency} and your current balance is {balance} {currency}.",generateFailed:"Failed to generate document. No credit deducted.",successDeducted:"Document generated and {cost} {currency} deducted from your balance. New balance: {balance} {currency}.",syncFailed:"Warning: Document generated but balance synchronization failed. Please contact support."}},fillSitePage:{title:"Fill form for: {name}",cost:"Cost: ",back:"Back",uploadJsonLabel:"Upload site JSON file",uploadJsonHint:"You can get this file from the platform admin or create it yourself.",jsonError:{invalid:"Failed to read file. Ensure it is a valid JSON file with the required structure.",read:"Error reading file."},submitError:{missingData:"Error: Current user or site settings not found."},saveClient:"Save/Update this client's data",submitButton:"Send data to extension and open site",successMessage:"{cost} {currency} deducted from your balance. The site will now open in a new window. The extension will autofill it.",notFound:{title:"Site not found or is not a template",message:"Sorry, we couldn't find the page you're looking for.",backButton:"Back to Dashboard"},jsonStep1:{title:"Step 1: Please upload the JSON file for this site.",subtitle:"This file defines the form structure precisely to ensure correct filling."},loadedTemplate:"Loaded: {name}"},staticDocViewer:{error:{missingData:"Cannot complete operation. User or site settings not found."},success:{unlocked:"Deducted {cost} {currency} from your balance."},notFound:{title:"Document Not Found"},backToDashboard:"Back to Dashboard",print:"Print",download:"Download",locked:{title:"Document Locked",description:"Viewing and printing this document will cost",balance:"from your balance."},unlockButton:"Unlock Document"},excelStudioPage:{title:"Smart Excel Studio",subtitle:"Start by creating a new spreadsheet or upload an existing Excel file to edit with AI.",buttons:{chooseFile:"Choose File",createNew:"Create New Spreadsheet",reset:"Reset",download:"Download",cancel:"Cancel",create:"Create",applyAi:"Apply with AI",processing:"Processing..."},modal:{title:"Create New Spreadsheet",fileName:"File Name",rows:"Rows",cols:"Columns"},howToUse:{title:"How to use:",step1:"**Manual Editing:** Double click on any cell.",step2:"**Direct Voice Commands:** Enable microphone above, select cells, then speak (e.g., 'Color cell 1 yellow').",step3:"**Complex Commands:** Write command below and click 'Apply' for AI processing."},prompts:{placeholder:"Write your complex command here for AI processing..."},errors:{noSelection:"Please select cells, rows, or columns to apply the command.",noCommand:"Please write a command for the AI.",unexpected:"An unexpected error occurred during processing.",micError:"Command microphone error:",fileEmpty:"File is empty or invalid.",readError:"Failed to read Excel file: ",corruptFile:"Failed to read Excel file. Ensure the file is not corrupted."}},documentStudioPage:{title:"Document Studio",subtitle:"Here you can manage your custom documents. These documents will only be visible to you on the 'Create Document' page.",buttons:{aiCreate:"Create with AI",upload:"Upload File",template:"Choose from Template",back:"Back to List",preview:"Preview",savePublish:"Save & Publish Document",saving:"Saving...",goToManual:"Go to Manual Document Management"},aiCreator:{title:"Create New Document",desc:"Write a detailed description of the document you want.",label:"Document Name or Description",placeholder:"e.g., Simple CV with profile photo, contact info and work experience...",generating:"Generating...",previewTitle:"Preview",editVoice:"Preview & Voice Edit",editStudio:"Edit in Studio"},cards:{aiDesc:"Write a description and let AI create it for you.",uploadDesc:"Upload a DOCX, PDF, or HTML file to convert into a template.",templateDesc:"Start from a ready-made template and customize it."},table:{title:"Your Custom Documents",name:"Document Name",desc:"Description",actions:"Actions",edit:"Edit",delete:"Delete",empty:"You have no custom documents. Click one of the options above to start."},editor:{docNameLabel:"Document Name (Visible to customers)",modes:{visual:"Visual/Voice Editor Mode",advanced:"Advanced Editor (GrapesJS)"},textFormatting:"Text Formatting",fontSize:"Font Size",color:"Color",alignment:"Alignment"},modals:{cameraTitle:"Capture Photo",templateTitle:"Pick a template to start"}},settings:{title:"Cafe Settings",success:"Changes saved successfully!",loading:"Loading cafe data...",error:{save:"Error saving settings.",uploadImage:"Failed to upload image. Please try again.",noCafe:"Cannot upload image before loading cafe data.",geolocation:"Error getting location",geolocationSupport:"Browser does not support geolocation."},unpublishedAlert:{title:"Profile Not Published!",message:"Enable the 'Profile Published' option below and click 'Save Changes' to make your cafe visible to customers and start receiving orders."},sections:{visibility:"Visibility Status",basicInfo:"Basic Info & Cafe Image",location:"Address & Location",publicProfile:"Public Profile",automation:"Automation Settings",ai:"Gemini API Settings"},fields:{isProfilePublished:"My profile is published and visible to visitors",isProfileHidden:"My profile is currently hidden",visibilityHint:"When enabled, your cafe will appear in search results and customers can send orders to you. You must enable this to start using the platform fully.",name:"Cafe Business Name",owner:"Owner's Full Name",phone:"Phone Number",mainImage:"Main Cafe Image",uploadingImage:"Uploading image...",state:"State / Province",city:"City",street:"Street Address",addressFixed:"State, District, and City are currently not editable.",googleMapsUrl:"Google Maps Link",googleMapsPlaceholder:"https://maps.app.goo.gl/...",autoLocate:"Auto Locate",locating:"...Locating",googleMapsHint:"Copy the share link from Google Maps, or use the button to auto-locate.",coverImageUrl:"Cover Image URL",coverImagePlaceholder:"https://example.com/cover.jpg",description:"Description (Visible to visitors)",descriptionHint:"Write a brief description of your services, opening hours, or any welcome message to attract customers.",facebook:"Facebook Link",instagram:"Instagram Link",twitter:"Twitter Link",formFillMode:"External Site Form Filling Mode",modeAi:"AI Filling (Experimental)",modeJson:"JSON File Filling (Recommended)",automationHint:"AI Filling: Uses a simple field list. JSON Filling: Uses a predefined site structure for full accuracy.",speechToTextLanguage:"Speech-to-Text Language",speechToTextHint:"This language will be used in Document Studio when using the microphone to replace selected text.",adminKeyNote:"Note about Gemini API:",adminKeyMessage:"All AI services are now centrally provided by the platform admin for better security and performance. You no longer need to enter your own API key.",apiKeyLabel:"Your Gemini API Key",apiKeyPlaceholder:"Enter your Gemini API key here",noKeyWarning:"Note: Since you haven't added an API key, AI features will be disabled in your account.",keyHint:"This key will be used for all AI features in your account. Ensure it is valid and has necessary permissions."},buttons:{viewPublicProfile:"View My Public Page",saveChanges:"Save Changes",saving:"Saving..."}},dashboardLayout:{unpublishedGate:{title:"One Last Step!",message:"Welcome to Gitut. To make your cafe visible to customers in search results and start receiving orders, you must first publish your profile.",button:"Go to Settings to Publish Profile"}},cafeChatPage:{title:"Chat Center",conversations:"Conversations",support:"Technical Support",you:"You: ",noMessages:"No messages",visitor:"Visitor",chatWithSupport:"Chat with Support",chatWithVisitor:"Chat with Visitor {id}",selectConversation:"Select a conversation to view",adminOffline:"Admin is currently offline",contactAdminEmail:"Admin unavailable, please contact via email: {email}",online:"Online",offline:"Offline",filterOnline:"Online Only"},billing:{title:"Balance & Billing",currentBalance:"Current Balance",balanceDescription:"You can use this balance to generate documents and fill site forms.",pendingRequestTitle:"You have a pending top-up request",pendingRequestMessage:'We have received your request to top up <strong class="font-mono">{amount} {currency}</strong> on {date}. The balance will be added to your account upon payment confirmation.',topUpTitle:"Top Up Balance",step1Title:"Step 1: Choose a package or enter a custom amount.",customAmountLabel:"Or enter a custom amount",customAmountPlaceholder:"Enter amount (Minimum {min} {currency})",minAmountError:"The minimum amount is {min} {currency}.",step2Title:"Step 2: How to Pay",paymentInstructionDzd:'To top up your balance, please transfer <strong class="font-mono">{amount} DZD</strong> to the following account.',recipientName:"Recipient Name:",ccpLabel:"CCP / BaridiMob:",step3Title:"Step 3: Attach Payment Proof",proofInstruction:"Verification requires proof of payment. Please upload a photo of the receipt or a screenshot from BaridiMob to complete the request.",fileSelected:"Selected: {fileName}",chooseFile:"Choose File",step4Title:"Step 4: Confirm Payment",confirmInstruction:"After completing the payment, click the button below to notify us. We will review your request and add the balance to your account shortly.",uploading:"Uploading and sending...",confirmButton:"I have paid, send review request",step2PaypalTitle:"Step 2: Pay with PayPal",paypalInstruction:'Click the button below to pay <strong class="font-mono">${amount} USD</strong> securely with PayPal.',payWithPaypal:"Pay with PayPal",paypalNote:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation.",historyTitle:"Top-up History",tableInvoiceId:"Invoice #",tableDate:"Date",tableAmount:"Amount",tableStatus:"Status",statusPaid:"Paid",statusPending:"Pending Confirmation",noHistory:"No payment history to display.",errorLoad:"Failed to load billing data.",errorMinAmount:"The minimum top-up amount is {min} {currency}.",errorNoProof:"Please upload proof of payment to complete the request.",uploadingProof:"Uploading proof image...",errorSubmit:"An error occurred while sending the request. Please try again."}},eW={header:{search:"Rechercher",login:"Connexion Propritaire",dashboard:"Tableau de bord",logout:"Dconnexion",allCountries:"Tous les pays",allCountriesSearch:"Tous les pays (Recherche globale)",selectCafeCountry:"Slectionner le pays du caf"},footer:{blog:"Blog",services:"Liste des services",rightsReserved:"Tous droits rservs."},blog:{title:"Blog Gitut",subtitle:"Suivez nos dernires actualits, mises  jour et conseils utiles pour les propritaires de cafs et les demandeurs de services documentaires."},share:{title:"Partager :",copied:"Copi !",copyDetails:"Copier les dtails"},blogPostCard:{readMore:"Lire la suite"},relatedServices:{title:"Services connexes"},relatedPosts:{title:"Articles connexes"},relatedPages:{title:"Autres pages"},app:{error:{title:"Erreur d'application",message:"Impossible de charger les donnes essentielles. Il peut y avoir un problme de connexion au serveur."}},cafeCard:{owner:"Propritaire :",address:"Adresse :",checkingStatus:"Vrification du statut...",online:"En ligne",offline:"Hors ligne",chooseThisCafe:"Choisir ce caf",viewDetails:"Voir dtails et services",startChat:"Dmarrer la discussion",distanceUnit:"km"},profilePage:{backToSearch:"Retour  la recherche",managedBy:"Gr par :",checkingStatus:"Vrification du statut...",online:"En ligne",offline:"Hors ligne",address:"Adresse :",description:"Description :",viewOnMap:"Voir sur la carte",step1Title:"1. Slectionner les documents requis",step1Subtitle:"Slectionnez les documents dont vous avez besoin. Vous pouvez rechercher un document et l'ajouter  la liste, ou choisir directement dans la liste ci-dessous.",searchPlaceholder:"Rechercher un document  ajouter...",searchLabel:"Rechercher un document  ajouter  votre liste",noMatch:"Aucun document ne correspond  votre recherche.",step2Title:"2. Envoyer votre demande",continueToForm:"Continuer pour remplir le formulaire ({count})",similarCafes:"Cafs similaires",cafeNotFoundTitle:"Caf non trouv",cafeNotFoundMessage:"Dsol, nous n'avons pas trouv la page que vous recherchez.",startChat:"Dmarrer la discussion",chatWith:"Discuter avec {name}"},confirmationPage:{title:"Votre demande a t envoye avec succs !",subtitle:"Vos informations ont t envoyes au caf. Veuillez vous y rendre et fournir le code suivant pour recevoir vos documents.",orderCodeLabel:"Votre code de commande est :",note:"Remarque : Conservez ce code, vous en aurez besoin pour confirmer votre commande auprs du propritaire du caf.",backToHome:"Retour  l'accueil"},formPage:{title:"Remplir le formulaire",submittingTo:"Vous envoyez une demande  :",online:"En ligne",offline:"Hors ligne",scanId:"Scanner ID",scanIdTitle:"Scanner la carte d'identit avec la camra",micPermissionErrorTitle:"Accs au microphone refus",micPermissionErrorMessage:"Veuillez activer l'accs au microphone dans les paramtres de votre navigateur pour utiliser la fonction de saisie vocale. Vous pouvez toujours remplir le formulaire manuellement.",stepCounter:"tape {current} sur {total}",navigationHint:'Vous pouvez dire "Suivant" ou "Prcdent" pour naviguer entre les champs.',answerPlaceholder:"Rpondez ici... ex : {placeholder}",toggleMic:"Activer/Dsactiver le micro",optionsHint:"Options disponibles (dites le numro pour slectionner) :",previous:"Prcdent",next:"Suivant",review:"Rviser",formCompleteTitle:"Formulaire termin !",formCompleteMessage:"Veuillez vrifier attentivement les donnes avant la soumission finale.",profilePicture:"Photo de profil",backToEdit:"Retour  l'dition",submitFinal:"Soumettre la demande finale",submitting:"Envoi en cours...",errorTitle:"Erreur de demande",errorMessage:"Aucun document ou service n'a t slectionn. Veuillez revenir en arrire et slectionner des documents d'abord.",backToSearch:"Retour  la page de recherche",error:{noDocument:"Aucun document spcifi.",loadFailed:"chec du chargement des donnes du document.",unexpected:"Une erreur inattendue s'est produite.",notFound:"Document non trouv",wordTemplateFailed:"chec du chargement du modle Word."},fillDataFor:"Remplir les donnes pour :",fillFieldsBelow:"Remplissez les champs ci-dessous pour crer votre document.",importantNote:"Note Importante",noteContent:"Les boutons pour prvisualiser, tlcharger ou remplir ce document se trouvent au bas de cette page.",selectOption:"-- Slectionner --",createDocument:"Crer le document"},adPage:{preparing:"Prparation de votre document...",autoDisplay:"Votre document s'affichera automatiquement dans :",downloadBlank:"Tlcharger une copie vierge",fillDownload:"Remplir/Tlcharger",downloadPdf:"Tlcharger en PDF",downloadWord:"Tlcharger en Word",adLabel:"Publicit :",optionsTitle:"Options du document",stepFormatTitle:"Dernire tape : Choisir le format",stepFormatDesc:"Choisissez le format dans lequel vous souhaitez tlcharger le document.",preparingLink:"Prparation du lien...",pleaseWait:"Veuillez patienter, le lien sera prt dans :",linkReady:"Le lien est prt !",downloadNow:"Tlcharger maintenant",goTo:"Aller  {name}",internalPage:"Page interne",hadithTitle:"Hadith",prayerReminderTitle:"Rappel de prire",hadithIntro:"Le Prophte (paix et bndictions sur lui) a dit :",prayerHadithContent:`"Le pacte qu'il y a entre nous et eux, c'est la prire ; et celui qui la dlaisse aura certes mcru."`,prayerHadithSource:"Rapport par Ahmad, Abu Daoud, An-Nasa'i, At-Tirmidhi",istighfarContent:`"Celui qui s'attache  la demande de pardon, Allah lui amnage une issue de chaque gne, une dlivrance de chaque souci et lui accorde sa subsistance d'o il ne s'attendait pas."`},findPage:{hero:{title1:"Obtenez vos documents facilement",subtitle1:"Trouvez un cybercaf  proximit, envoyez votre demande  distance et rcuprez vos documents prts.",title2:"Trouvez un cybercaf  proximit",subtitle2:"Envoyez votre demande  distance et rcuprez vos documents prts."},step1:{title:"1. Rechercher un document",placeholder:"Acte de naissance, CV...",voiceSearchTitle:"Recherche vocale"},selectedDocs:{title:"Documents slectionns",viewFile:"Voir le fichier",removeTitle:"Retirer",nextStepButton:"Suivant : Choisir le caf ({count})",nextStepButtonDisabledTitle:"Veuillez slectionner au moins un document",emptyState:"Aucun document slectionn pour le moment."},alert:{selectFillable:"Veuillez slectionner au moins un document remplissable."}},blogPost:{publishedOn:"Publi le :",by:"Par :",relatedArticles:"Autres articles susceptibles de vous plaire",backToList:"Retour  tous les articles",relatedPostsSidebar:"Articles connexes",notFoundTitle:"404 - Article non trouv",notFoundMessage:"Dsol, nous n'avons pas trouv l'article que vous cherchez.",backToBlog:"Retour au blog"},searchForm:{searchByName:"Rechercher par nom...",search:"Rechercher"},servicesListPage:{title:"Liste des services",fillableDocs:"Documents remplissables",staticDocs:"Documents imprimables (PDF)",siteServices:"Services de site web"},serviceDetailPage:{serviceNotFound:"Service non trouv",backToList:"Retour  la liste des services",preview:"Aperu du document",previousDesign:"Design prcdent",nextDesign:"Design suivant",loadingPreview:"Chargement de l'aperu...",noPreview:"Aucun aperu n'est disponible pour ce document.",openInNewWindow:"Ouvrir dans une nouvelle fentre ou tlcharger",instructions:"Instructions pour ce design",voiceExample:"Comment enregistrer (Exemple) :",requiredInfo:"Informations requises (vocal) :",findCafeTitle:"Trouver un caf qui fournit ce service",searchNearest:"Rechercher les cafs les plus proches de moi",locating:"Localisation...",resultsTitle:"Rsultats ({count})",allCafesTitle:"Cafs internet fournissant ce service ({count})",noResults:"Aucun caf ne correspond  votre recherche pour tous les services requis."},login:{title:"Connexion Propritaire de Caf",emailLabel:"Email",passwordLabel:"Mot de passe",forgotPassword:"Mot de passe oubli ?",loginButton:"Connexion",loggingInButton:"Connexion en cours...",noAccount:"Pas de compte ?",createAccount:"Crer un nouveau compte",error:{fillAllFields:"Veuillez remplir tous les champs.",verifyEmail:"Veuillez vrifier votre email pour activer votre compte.",wrongCredentials:"L'email ou le mot de passe est incorrect.",enterEmail:"Veuillez entrer votre adresse email."},reset:{title:"Rinitialiser le mot de passe",emailLabel:"Email enregistr",sendButton:"Envoyer le lien de rinitialisation",sendingButton:"Envoi en cours...",successMessage:"Un lien de rinitialisation du mot de passe a t envoy. Veuillez vrifier votre bote de rception.",errorMessage:"chec de l'envoi de l'email. Veuillez ressayer.",backToLogin:"Retour  la connexion"}},signup:{title:"Crer un nouveau compte",accountInfo:"Informations du compte",email:"Email",password:"Mot de passe",passwordPlaceholder:"Au moins 6 caractres",confirmPassword:"Confirmer le mot de passe",cafeInfo:"Informations du caf",cafeName:"Nom commercial du caf",cafeNamePlaceholder:"ex : Le Coin Confort",ownerName:"Nom complet du propritaire",ownerNamePlaceholder:"ex : Jean Dupont",country:"Pays",wilaya:"tat/Province",daira:"District",commune:"Ville/Municipalit",state:"tat / Province",city:"Ville",street:"Adresse",loading:"Chargement...",selectWilaya:"Slectionner l'tat",selectDaira:"Slectionner le district",selectCommune:"Slectionner la ville",statePlaceholder:"ex : le-de-France, Lyon",cityPlaceholder:"ex : Paris, Marseille",streetPlaceholder:"ex : 123 Rue de la Libert",createButton:"Crer compte & caf",creatingButton:"Cration...",haveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",errors:{allowedDomains:"Veuillez utiliser un email Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Veuillez remplir tous les champs.",passwordsMismatch:"Les mots de passe ne correspondent pas.",passwordLength:"Le mot de passe doit contenir au moins 6 caractres.",signupFailed:"Cet email est dj utilis ou une erreur d'inscription s'est produite. Veuillez ressayer."},success:{title:"Compte cr avec succs !",message:"Nous avons envoy un lien de vrification  votre email",instruction:"Veuillez cliquer sur le lien pour activer votre compte avant de vous connecter.",loginButton:"Aller  la page de connexion"}},formFields:{profilePicture:"Photo de profil",fullName:"Nom complet",firstName:"Prnom",lastName:"Nom de famille",firstNameFr:"Prnom (Franais)",lastNameFr:"Nom (Franais)",birthdaydate:"Date de naissance",birthdayplace:"Lieu de naissance",address:"Adresse",phone:"Tlphone",email:"Email",jobTitle:"Profession",nationalId:"Numro d'identification nationale",birthCertificateNumber:"Numro d'acte de naissance",socialSecurityNumber:"Numro de scurit sociale",nationality:"Nationalit",maritalStatus:"tat civil",maritalStatusOptions:{married:"Mari(e)",single:"Clibataire",divorced:"Divorc(e)"},motherFirstName:"Prnom de la mre",motherLastName:"Nom de jeune fille de la mre",motherDob:"Date de naissance de la mre",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre",fatherLastName:"Nom du pre",fatherDob:"Date de naissance du pre",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Wilaya/tat de rsidence",residenceDaira:"Dara/District de rsidence",residenceCommune:"Commune/Ville de rsidence",residenceStreet:"Rue de rsidence",birthWilaya:"Wilaya de naissance",birthDaira:"Dara de naissance",birthCommune:"Commune de naissance",bloodType:"Groupe sanguin",gender:"Sexe",genderOptions:{male:"Homme",female:"Femme"},height:"Taille (cm)",eyeColor:"Couleur des yeux",distinguishingMarks:"Signes distinctifs",employerName:"Nom de l'employeur",employerAddress:"Adresse de l'employeur",educationLevel:"Niveau d'ducation",educationLevelOptions:{primary:"Primaire",middle:"Moyen/Collge",high:"Lyce",university:"Universit",postgraduate:"tudes suprieures"},universityName:"Nom de l'universit",graduationDate:"Date d'obtention du diplme",fieldOfStudy:"Domaine d'tudes",higherInstituteName:"Nom de l'institut suprieur",vocationalTrainingCenterName:"Nom du centre de formation professionnelle",schoolName:"Nom de l'cole",highSchoolName:"Nom du lyce",middleSchoolName:"Nom du collge",universityCity:"Ville universitaire",passportNumber:"Numro de passeport",passportIssueDate:"Date de dlivrance du passeport",passportExpiryDate:"Date d'expiration du passeport",passportIssuePlace:"Lieu de dlivrance du passeport",drivingLicenseNumber:"Numro de permis de conduire",drivingLicenseCategory:"Catgorie de permis",drivingLicenseIssueDate:"Date de dlivrance du permis",numberOfChildren:"Nombre d'enfants",numberOfSons:"Nombre de fils",numberOfDaughters:"Nombre de filles",numberOfSiblings:"Nombre de frres et surs",numberOfBrothers:"Nombre de frres",numberOfSisters:"Nombre de surs",spouseFullName:"Nom complet du conjoint",spouseDob:"Date de naissance du conjoint",spouseJob:"Profession du conjoint",militaryStatus:"Situation militaire",ToTheGovernorOftheStateOf:"Au Wali/Gouverneur de l'tat de",submissionDaira:"Au Chef de Dara de",ToTheMayorOf:"Au Maire de la commune de",employerWilaya:"Wilaya de l'employeur",employerDaira:"Dara de l'employeur",employerCommune:"Commune de l'employeur",criminalRecordNumber:"Numro du casier judiciaire",criminalRecordIssueDate:"Date de dlivrance du casier",criminalRecordIssuePlace:"Lieu de dlivrance du casier",commercialRegistryNumber:"Numro du registre de commerce",taxIdNumber:"Numro d'identification fiscale (NIF)",casnosNumber:"Numro CASNOS/Scurit Sociale",vehicleRegistrationCardNumber:"Numro de carte grise",vehicleType:"Type de vhicule",vehicleBrand:"Marque du vhicule",vehicleModel:"Modle du vhicule",vehicleFirstRegistrationDate:"Date de premire mise en circulation",bankName:"Nom de la banque",bankAccountNumber:"Numro de compte bancaire (RIB)",bankAgencyName:"Nom de l'agence bancaire",bankAgencyCode:"Code de l'agence bancaire",bankNameTo:"Nom de la banque destinataire",bankWilayaTo:"Wilaya de la banque destinataire",bankCountryTo:"Pays de la banque destinataire",bankStreetTo:"Rue de la banque destinataire",bankNameFrom:"Nom de la banque mettrice",bankWilayaFrom:"Wilaya de la banque mettrice",bankCountryFrom:"Pays de la banque mettrice",bankStreetFrom:"Rue de la banque mettrice",amountReceived:"Montant reu",amountSent:"Montant envoy",employmentContractType:"Type de contrat de travail",employmentStartDate:"Date de dbut d'emploi",employeeIdNumber:"Numro d'employ",professionalGrade:"Grade professionnel",nationalIdIssueDate:"Date de dlivrance de la CNI",nationalIdExpiryDate:"Date d'expiration de la CNI",drivingLicenseExpiryDate:"Date d'expiration du permis",familyBookNumber:"Numro du livret de famille",marriageDate:"Date de mariage",marriagePlace:"Lieu de mariage",rentalContractNumber:"Numro de contrat de location",landlordName:"Nom du propritaire",propertyAddress:"Adresse de la proprit",attendingPhysicianName:"Nom du mdecin traitant",disabilityType:"Type de handicap",disabilityPercentage:"Pourcentage de handicap (%)",deceasedParentFullName:"Nom complet du parent dcd",deceasedParentDod:"Date de dcs du parent",deceasedParentPod:"Lieu de dcs du parent",deathCertificateNumber:"Numro d'acte de dcs",survivingParentFullName:"Nom complet du parent survivant",survivingParentJobTitle:"Profession du parent survivant",hospitalName:"Nom de l'hpital",motherFullName:"Nom complet de la mre",motherAge:"ge de la mre",fatherFullName:"Nom complet du pre",fatherAge:"ge du pre",spousePob:"Lieu de naissance du conjoint",spouseAge:"ge du conjoint",sonName:"Nom du fils",sonPob:"Lieu de naissance du fils",sonAge:"ge du fils",daughterName:"Nom de la fille",daughterPob:"Lieu de naissance de la fille",daughterAge:"ge de la fille",paternalGrandfatherName:"Grand-pre paternel",paternalGrandfatherPob:"Lieu de naissance",paternalGrandfatherAge:"ge",paternalGrandmotherName:"Grand-mre paternelle",paternalGrandmotherPob:"Lieu de naissance",paternalGrandmotherAge:"ge",maternalGrandfatherName:"Grand-pre maternel",maternalGrandfatherPob:"Lieu de naissance",maternalGrandfatherAge:"ge",maternalGrandmotherName:"Grand-mre maternelle",maternalGrandmotherPob:"Lieu de naissance",maternalGrandmotherAge:"ge"}},tW={header:{search:"Suche",login:"Inhaber-Login",dashboard:"Dashboard",logout:"Abmelden",allCountries:"Alle Lnder",allCountriesSearch:"Alle Lnder (Globale Suche)",selectCafeCountry:"Caf-Land auswhlen"},footer:{blog:"Blog",services:"Dienstleistungsliste",rightsReserved:"Alle Rechte vorbehalten."},blog:{title:"Gitut Blog",subtitle:"Verfolgen Sie unsere neuesten Nachrichten, Updates und hilfreichen Tipps fr Cafbesitzer und Dokumentendienstsuchende."},share:{title:"Teilen:",copied:"Kopiert!",copyDetails:"Details kopieren"},blogPostCard:{readMore:"Weiterlesen"},relatedServices:{title:"Verwandte Dienste"},relatedPosts:{title:"Verwandte Beitrge"},relatedPages:{title:"Andere Seiten"},app:{error:{title:"Anwendungsfehler",message:"Wichtige Daten konnten nicht geladen werden. Es besteht mglicherweise ein Problem mit der Verbindung zum Server."}},cafeCard:{owner:"Inhaber:",address:"Adresse:",checkingStatus:"Status wird geprft...",online:"Online",offline:"Offline",chooseThisCafe:"Dieses Caf whlen",viewDetails:"Details & Dienste anzeigen",startChat:"Chat starten",distanceUnit:"km"},profilePage:{backToSearch:"Zurck zur Suche",managedBy:"Verwaltet von:",checkingStatus:"Status wird geprft...",online:"Online",offline:"Offline",address:"Adresse:",description:"Beschreibung:",viewOnMap:"Auf Karte anzeigen",step1Title:"1. Bentigte Dokumente auswhlen",step1Subtitle:"Whlen Sie die Dokumente aus, die Sie bentigen. Sie knnen nach einem Dokument suchen und es der Liste hinzufgen oder direkt aus der Liste unten auswhlen.",searchPlaceholder:"Nach Dokument suchen...",searchLabel:"Suchen Sie nach einem Dokument, um es Ihrer Liste hinzuzufgen",noMatch:"Keine Dokumente entsprechen Ihrer Suche.",step2Title:"2. Anfrage senden",continueToForm:"Weiter zum Ausfllen des Formulars ({count})",similarCafes:"hnliche Cafs",cafeNotFoundTitle:"Caf nicht gefunden",cafeNotFoundMessage:"Entschuldigung, wir konnten die Seite nicht finden, nach der Sie suchen.",startChat:"Chat starten",chatWith:"Chatten mit {name}"},confirmationPage:{title:"Ihre Anfrage wurde erfolgreich gesendet!",subtitle:"Ihre Informationen wurden an das Caf gesendet. Bitte gehen Sie dorthin und geben Sie den folgenden Code an, um Ihre Dokumente zu erhalten.",orderCodeLabel:"Ihr Bestellcode lautet:",note:"Hinweis: Bewahren Sie diesen Code auf, Sie bentigen ihn, um Ihre Bestellung beim Cafbesitzer zu besttigen.",backToHome:"Zurck zur Startseite"},formPage:{title:"Formular ausfllen",submittingTo:"Sie senden eine Anfrage an",online:"Online",offline:"Offline",scanId:"ID scannen",scanIdTitle:"Personalausweis mit Kamera scannen",micPermissionErrorTitle:"Mikrofonzugriff verweigert",micPermissionErrorMessage:"Bitte aktivieren Sie den Mikrofonzugriff in Ihren Browsereinstellungen, um die Spracheingabefunktion zu nutzen. Sie knnen das Formular weiterhin manuell ausfllen.",stepCounter:"Schritt {current} von {total}",navigationHint:'Sie knnen "Weiter" oder "Zurck" sagen, um zwischen den Feldern zu navigieren.',answerPlaceholder:"Antworten Sie hier... z.B., {placeholder}",toggleMic:"Mikrofon umschalten",optionsHint:"Verfgbare Optionen (sagen Sie die Nummer zum Auswhlen):",previous:"Zurck",next:"Weiter",review:"berprfen",formCompleteTitle:"Formular vollstndig!",formCompleteMessage:"Bitte berprfen Sie die Daten sorgfltig vor der endgltigen bermittlung.",profilePicture:"Profilbild",backToEdit:"Zurck zum Bearbeiten",submitFinal:"Endgltige Anfrage senden",submitting:"Wird gesendet...",errorTitle:"Anfragefehler",errorMessage:"Es wurden keine Dokumente oder Dienste ausgewhlt. Bitte gehen Sie zurck und whlen Sie zuerst Dokumente aus.",backToSearch:"Zurck zur Suchseite",error:{noDocument:"Kein Dokument angegeben.",loadFailed:"Laden der Dokumentdaten fehlgeschlagen.",unexpected:"Ein unerwarteter Fehler ist aufgetreten.",notFound:"Dokument nicht gefunden",wordTemplateFailed:"Laden der Word-Vorlage fehlgeschlagen."},fillDataFor:"Daten ausfllen fr:",fillFieldsBelow:"Fllen Sie die folgenden Felder aus, um Ihr Dokument zu erstellen.",importantNote:"Wichtiger Hinweis",noteContent:"Schaltflchen zum Vorschauen, Herunterladen oder Ausfllen dieses Dokuments befinden sich unten auf dieser Seite.",selectOption:"-- Auswhlen --",createDocument:"Dokument erstellen"},adPage:{preparing:"Ihr Dokument wird vorbereitet...",autoDisplay:"Ihr Dokument wird automatisch angezeigt in:",downloadBlank:"Leere Kopie herunterladen",fillDownload:"Ausfllen/Herunterladen",downloadPdf:"Als PDF herunterladen",downloadWord:"Als Word herunterladen",adLabel:"Werbung:",optionsTitle:"Dokumentoptionen",stepFormatTitle:"Letzter Schritt: Download-Format whlen",stepFormatDesc:"Whlen Sie das Format, in dem Sie das Dokument herunterladen mchten.",preparingLink:"Link wird vorbereitet...",pleaseWait:"Bitte warten, Link ist in Krze bereit:",linkReady:"Link bereit!",downloadNow:"Jetzt herunterladen",goTo:"Gehe zu {name}",internalPage:"Interne Seite",hadithTitle:"Hadith",prayerReminderTitle:"Gebetserinnerung",hadithIntro:"Der Prophet (Friede sei mit ihm) sagte:",prayerHadithContent:'"Der Bund zwischen uns und ihnen ist das Gebet; wer es unterlsst, hat den Unglauben begangen."',prayerHadithSource:"berliefert von Ahmad, Abu Dawud, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Wer beharrlich um Vergebung bittet (Istighfar), dem schafft Allah einen Ausweg aus jeder Not, eine Erleichterung von jeder Sorge und versorgt ihn, von wo er es nicht erwartet."'},findPage:{hero:{title1:"Erledigen Sie Ihre Dokumente mit Leichtigkeit",subtitle1:"Finden Sie ein Internetcaf in Ihrer Nhe, senden Sie Ihre Anfrage aus der Ferne und holen Sie Ihre fertigen Dokumente ab.",title2:"Finden Sie ein Internetcaf in der Nhe",subtitle2:"Senden Sie Ihre Anfrage aus der Ferne und holen Sie Ihre fertigen Dokumente ab."},step1:{title:"1. Nach einem Dokument suchen",placeholder:"Geburtsurkunde, Lebenslauf...",voiceSearchTitle:"Sprachsuche"},selectedDocs:{title:"Ausgewhlte Dokumente",viewFile:"Datei anzeigen",removeTitle:"Entfernen",nextStepButton:"Weiter: Caf whlen ({count})",nextStepButtonDisabledTitle:"Bitte whlen Sie mindestens ein Dokument aus",emptyState:"Noch keine Dokumente ausgewhlt."},alert:{selectFillable:"Bitte whlen Sie mindestens ein ausfllbares Dokument aus."}},blogPost:{publishedOn:"Verffentlicht am:",by:"Von:",relatedArticles:"Andere Artikel, die Ihnen gefallen knnten",backToList:"Zurck zu allen Artikeln",relatedPostsSidebar:"Verwandte Beitrge",notFoundTitle:"404 - Beitrag nicht gefunden",notFoundMessage:"Entschuldigung, wir konnten den gesuchten Beitrag nicht finden.",backToBlog:"Zurck zum Blog"},searchForm:{searchByName:"Nach Namen suchen...",search:"Suchen"},servicesListPage:{title:"Dienstleistungsliste",fillableDocs:"Ausfllbare Dokumente",staticDocs:"Druckbare Dokumente (PDF)",siteServices:"Website-Dienste"},serviceDetailPage:{serviceNotFound:"Dienst nicht gefunden",backToList:"Zurck zur Dienstleistungsliste",preview:"Dokumentenvorschau",previousDesign:"Vorheriges Design",nextDesign:"Nchstes Design",loadingPreview:"Vorschau wird geladen...",noPreview:"Fr dieses Dokument ist keine Vorschau verfgbar.",openInNewWindow:"In neuem Fenster ffnen oder herunterladen",instructions:"Anweisungen fr dieses Design",voiceExample:"Wie man aufnimmt (Beispiel):",requiredInfo:"Erforderliche Informationen (gesprochen):",findCafeTitle:"Finden Sie ein Caf, das diesen Dienst anbietet",searchNearest:"Suche nach Cafs in meiner Nhe",locating:"Standortbestimmung...",resultsTitle:"Ergebnisse ({count})",allCafesTitle:"Internetcafs, die diesen Dienst anbieten ({count})",noResults:"Keine Cafs entsprechen Ihrer Suche fr alle erforderlichen Dienste."},login:{title:"Caf-Inhaber Login",emailLabel:"E-Mail",passwordLabel:"Passwort",forgotPassword:"Passwort vergessen?",loginButton:"Anmelden",loggingInButton:"Anmeldung...",noAccount:"Kein Konto?",createAccount:"Neues Konto erstellen",error:{fillAllFields:"Bitte fllen Sie alle Felder aus.",verifyEmail:"Bitte berprfen Sie Ihre E-Mail, um Ihr Konto zu aktivieren.",wrongCredentials:"Die E-Mail oder das Passwort ist falsch.",enterEmail:"Bitte geben Sie Ihre E-Mail-Adresse ein."},reset:{title:"Passwort zurcksetzen",emailLabel:"Registrierte E-Mail",sendButton:"Link zum Zurcksetzen senden",sendingButton:"Wird gesendet...",successMessage:"Ein Link zum Zurcksetzen des Passworts wurde gesendet. Bitte berprfen Sie Ihren Posteingang.",errorMessage:"E-Mail konnte nicht gesendet werden. Bitte versuchen Sie es erneut.",backToLogin:"Zurck zum Login"}},signup:{title:"Neues Konto erstellen",accountInfo:"Kontoinformationen",email:"E-Mail",password:"Passwort",passwordPlaceholder:"Mindestens 6 Zeichen",confirmPassword:"Passwort besttigen",cafeInfo:"Caf-Informationen",cafeName:"Geschftsname des Cafs",cafeNamePlaceholder:"z.B. Die gemtliche Ecke",ownerName:"Vollstndiger Name des Inhabers",ownerNamePlaceholder:"z.B. Max Mustermann",country:"Land",wilaya:"Staat/Provinz",daira:"Bezirk",commune:"Stadt/Gemeinde",state:"Staat / Provinz",city:"Stadt",street:"Adresse",loading:"Laden...",selectWilaya:"Staat auswhlen",selectDaira:"Bezirk auswhlen",selectCommune:"Stadt auswhlen",statePlaceholder:"z.B. Bayern, Berlin",cityPlaceholder:"z.B. Mnchen, Hamburg",streetPlaceholder:"z.B. Hauptstrae 123",createButton:"Konto & Caf erstellen",creatingButton:"Erstelle...",haveAccount:"Haben Sie bereits ein Konto?",loginHere:"Hier anmelden",errors:{allowedDomains:"Bitte verwenden Sie eine Gmail- oder Microsoft-E-Mail (Outlook, Hotmail, Live).",fillAllFields:"Bitte fllen Sie alle Felder aus.",passwordsMismatch:"Passwrter stimmen nicht berein.",passwordLength:"Das Passwort muss mindestens 6 Zeichen lang sein.",signupFailed:"Diese E-Mail wird bereits verwendet oder es ist ein Registrierungsfehler aufgetreten. Bitte versuchen Sie es erneut."},success:{title:"Konto erfolgreich erstellt!",message:"Wir haben einen Besttigungslink an Ihre E-Mail gesendet",instruction:"Bitte klicken Sie auf den Link, um Ihr Konto zu aktivieren, bevor Sie sich anmelden.",loginButton:"Zur Anmeldeseite gehen"}},formFields:{profilePicture:"Profilbild",fullName:"Vollstndiger Name",firstName:"Vorname",lastName:"Nachname",firstNameFr:"Vorname (Lat.)",lastNameFr:"Nachname (Lat.)",birthdaydate:"Geburtsdatum",birthdayplace:"Geburtsort",address:"Adresse",phone:"Telefonnummer",email:"E-Mail",jobTitle:"Berufsbezeichnung",nationalId:"Ausweisnummer",birthCertificateNumber:"Geburtsurkundennummer",socialSecurityNumber:"Sozialversicherungsnummer",nationality:"Nationalitt",maritalStatus:"Familienstand",maritalStatusOptions:{married:"Verheiratet",single:"Ledig",divorced:"Geschieden"},motherFirstName:"Vorname der Mutter",motherLastName:"Mdchenname der Mutter",motherDob:"Geburtsdatum der Mutter",motherPob:"Geburtsort der Mutter",fatherFirstName:"Vorname des Vaters",fatherLastName:"Nachname des Vaters",fatherDob:"Geburtsdatum des Vaters",fatherPob:"Geburtsort des Vaters",residenceWilaya:"Wohnstaat/Provinz",residenceDaira:"Wohnbezirk",residenceCommune:"Wohnort",residenceStreet:"Strae",birthWilaya:"Geburtsstaat",birthDaira:"Geburtsbezirk",birthCommune:"Geburtsort",bloodType:"Blutgruppe",gender:"Geschlecht",genderOptions:{male:"Mnnlich",female:"Weiblich"},height:"Gre (cm)",eyeColor:"Augenfarbe",distinguishingMarks:"Besondere Merkmale",employerName:"Arbeitgeber",employerAddress:"Arbeitgeberadresse",educationLevel:"Bildungsgrad",educationLevelOptions:{primary:"Grundschule",middle:"Mittelschule",high:"Gymnasium/Oberschule",university:"Universitt",postgraduate:"Postgraduiert"},universityName:"Universitt",graduationDate:"Abschlussdatum",fieldOfStudy:"Studienfach",higherInstituteName:"Institutsname",vocationalTrainingCenterName:"Ausbildungszentrum",schoolName:"Schulname",highSchoolName:"Name der Oberschule",middleSchoolName:"Name der Mittelschule",universityCity:"Universittsstadt",passportNumber:"Reisepassnummer",passportIssueDate:"Ausstellungsdatum",passportExpiryDate:"Ablaufdatum",passportIssuePlace:"Ausstellungsort",drivingLicenseNumber:"Fhrerscheinnummer",drivingLicenseCategory:"Fhrerscheinklasse",drivingLicenseIssueDate:"Ausstellungsdatum",numberOfChildren:"Anzahl der Kinder",numberOfSons:"Anzahl der Shne",numberOfDaughters:"Anzahl der Tchter",numberOfSiblings:"Anzahl der Geschwister",numberOfBrothers:"Anzahl der Brder",numberOfSisters:"Anzahl der Schwestern",spouseFullName:"Name des Ehepartners",spouseDob:"Geburtsdatum (Partner)",spouseJob:"Beruf des Partners",militaryStatus:"Militrstatus",ToTheGovernorOftheStateOf:"An den Gouverneur von",submissionDaira:"An den Bezirkschef von",ToTheMayorOf:"An den Brgermeister von",employerWilaya:"Arbeitsstaat",employerDaira:"Arbeitsbezirk",employerCommune:"Arbeitsort",criminalRecordNumber:"Fhrungszeugnis Nr.",criminalRecordIssueDate:"Ausstellungsdatum",criminalRecordIssuePlace:"Ausstellungsort",commercialRegistryNumber:"Handelsregisternummer",taxIdNumber:"Steuernummer",casnosNumber:"Versicherungsnummer",vehicleRegistrationCardNumber:"Zulassungsnummer",vehicleType:"Fahrzeugtyp",vehicleBrand:"Marke",vehicleModel:"Modell",vehicleFirstRegistrationDate:"Erstzulassung",bankName:"Bankname",bankAccountNumber:"Kontonummer",bankAgencyName:"Filiale",bankAgencyCode:"Filialcode",bankNameTo:"An Bank",bankWilayaTo:"An Bundesland",bankCountryTo:"An Land",bankStreetTo:"An Adresse",bankNameFrom:"Von Bank",bankWilayaFrom:"Von Bundesland",bankCountryFrom:"Von Land",bankStreetFrom:"Von Adresse",amountReceived:"Erhaltener Betrag",amountSent:"Gesendeter Betrag",employmentContractType:"Vertragsart",employmentStartDate:"Arbeitsbeginn",employeeIdNumber:"Mitarbeiter-ID",professionalGrade:"Berufsgrad",nationalIdIssueDate:"Ausweis-Ausstellungsdatum",nationalIdExpiryDate:"Ausweis-Ablaufdatum",drivingLicenseExpiryDate:"Fhrerschein-Ablaufdatum",familyBookNumber:"Familienbuchnummer",marriageDate:"Hochzeitsdatum",marriagePlace:"Hochzeitsort",rentalContractNumber:"Mietvertragsnummer",landlordName:"Vermietername",propertyAddress:"Objektadresse",attendingPhysicianName:"Arztname",disabilityType:"Art der Behinderung",disabilityPercentage:"Grad der Behinderung (%)",deceasedParentFullName:"Name des verstorbenen Elternteils",deceasedParentDod:"Sterbedatum",deceasedParentPod:"Sterbeort",deathCertificateNumber:"Sterbeurkundennummer",survivingParentFullName:"Name des hinterbliebenen Elternteils",survivingParentJobTitle:"Beruf",hospitalName:"Krankenhaus",motherFullName:"Vollstndiger Name der Mutter",motherAge:"Alter der Mutter",fatherFullName:"Vollstndiger Name des Vaters",fatherAge:"Alter des Vaters",spousePob:"Geburtsort des Partners",spouseAge:"Alter des Partners",sonName:"Name des Sohnes",sonPob:"Geburtsort des Sohnes",sonAge:"Alter des Sohnes",daughterName:"Name der Tochter",daughterPob:"Geburtsort der Tochter",daughterAge:"Alter der Tochter",paternalGrandfatherName:"Grovater (vterl.)",paternalGrandfatherPob:"Geburtsort",paternalGrandfatherAge:"Alter",paternalGrandmotherName:"Gromutter (vterl.)",paternalGrandmotherPob:"Geburtsort",paternalGrandmotherAge:"Alter",maternalGrandfatherName:"Grovater (mtterl.)",maternalGrandfatherPob:"Geburtsort",maternalGrandfatherAge:"Alter",maternalGrandmotherName:"Gromutter (mtterl.)",maternalGrandmotherPob:"Geburtsort",maternalGrandmotherAge:"Alter"}},nW={header:{search:"Buscar",login:"Acceso Propietario",dashboard:"Panel",logout:"Cerrar sesin",allCountries:"Todos los pases",allCountriesSearch:"Todos los pases (Bsqueda global)",selectCafeCountry:"Seleccionar pas del caf"},footer:{blog:"Blog",services:"Lista de servicios",rightsReserved:"Todos los derechos reservados."},blog:{title:"Blog de Gitut",subtitle:"Sigue nuestras ltimas noticias, actualizaciones y consejos tiles para propietarios de cafs y buscadores de servicios de documentos."},share:{title:"Compartir:",copied:"Copiado!",copyDetails:"Copiar detalles"},blogPostCard:{readMore:"Leer ms"},relatedServices:{title:"Servicios relacionados"},relatedPosts:{title:"Artculos relacionados"},relatedPages:{title:"Otras pginas"},app:{error:{title:"Error de aplicacin",message:"No se pudieron cargar los datos esenciales. Puede haber un problema de conexin con el servidor."}},cafeCard:{owner:"Propietario:",address:"Direccin:",checkingStatus:"Comprobando estado...",online:"En lnea",offline:"Desconectado",chooseThisCafe:"Elegir este caf",viewDetails:"Ver detalles y servicios",startChat:"Iniciar chat",distanceUnit:"km"},profilePage:{backToSearch:"Volver a la bsqueda",managedBy:"Gestionado por:",checkingStatus:"Comprobando estado...",online:"En lnea",offline:"Desconectado",address:"Direccin:",description:"Descripcin:",viewOnMap:"Ver en el mapa",step1Title:"1. Seleccionar documentos requeridos",step1Subtitle:"Seleccione los documentos que necesita. Puede buscar un documento y aadirlo a la lista, o elegir directamente de la lista a continuacin.",searchPlaceholder:"Buscar un documento para aadir...",searchLabel:"Busque un documento para aadir a su lista",noMatch:"Ningn documento coincide con su bsqueda.",step2Title:"2. Enviar su solicitud",continueToForm:"Continuar para llenar el formulario ({count})",similarCafes:"Cafs similares",cafeNotFoundTitle:"Caf no encontrado",cafeNotFoundMessage:"Lo sentimos, no pudimos encontrar la pgina que busca.",startChat:"Iniciar chat",chatWith:"Chatear con {name}"},confirmationPage:{title:"Su solicitud ha sido enviada con xito!",subtitle:"Su informacin ha sido enviada al caf. Por favor vaya all y proporcione el siguiente cdigo para recibir sus documentos.",orderCodeLabel:"Su cdigo de pedido es:",note:"Nota: Guarde este cdigo, lo necesitar para confirmar su pedido con el propietario del caf.",backToHome:"Volver a la pgina de inicio"},formPage:{title:"Llenar el formulario",submittingTo:"Est enviando una solicitud a:",online:"En lnea",offline:"Desconectado",scanId:"Escanear ID",scanIdTitle:"Escanear tarjeta de identidad con cmara",micPermissionErrorTitle:"Acceso al micrfono denegado",micPermissionErrorMessage:"Por favor habilite el acceso al micrfono en la configuracin de su navegador para usar la funcin de entrada de voz. Todava puede completar el formulario manualmente.",stepCounter:"Paso {current} de {total}",navigationHint:'Puede decir "Siguiente" o "Anterior" para navegar entre los campos.',answerPlaceholder:"Responda aqu... p.ej., {placeholder}",toggleMic:"Alternar micrfono",optionsHint:"Opciones disponibles (diga el nmero para seleccionar):",previous:"Anterior",next:"Siguiente",review:"Revisar",formCompleteTitle:"Formulario completo!",formCompleteMessage:"Por favor revise los datos cuidadosamente antes del envo final.",profilePicture:"Foto de perfil",backToEdit:"Volver a editar",submitFinal:"Enviar solicitud final",submitting:"Enviando...",errorTitle:"Error de solicitud",errorMessage:"No se seleccionaron documentos o servicios. Por favor regrese y seleccione documentos primero.",backToSearch:"Volver a la pgina de bsqueda",error:{noDocument:"Ningn documento especificado.",loadFailed:"Error al cargar datos del documento.",unexpected:"Ocurri un error inesperado.",notFound:"Documento no encontrado",wordTemplateFailed:"Error al cargar la plantilla de Word."},fillDataFor:"Llenar datos para:",fillFieldsBelow:"Complete los campos a continuacin para crear su documento.",importantNote:"Nota Importante",noteContent:"Los botones para previsualizar, descargar o llenar este documento estn en la parte inferior de esta pgina.",selectOption:"-- Seleccionar --",createDocument:"Crear documento"},adPage:{preparing:"Preparando su documento...",autoDisplay:"Su documento se mostrar automticamente en:",downloadBlank:"Descargar copia en blanco",fillDownload:"Rellenar/Descargar",downloadPdf:"Descargar como PDF",downloadWord:"Descargar como Word",adLabel:"Publicidad:",optionsTitle:"Opciones del documento",stepFormatTitle:"ltimo paso: Elija el formato de descarga",stepFormatDesc:"Elija el formato en el que desea descargar el documento.",preparingLink:"Preparando enlace...",pleaseWait:"Por favor espere, el enlace estar listo en:",linkReady:"Enlace listo!",downloadNow:"Descargar ahora",goTo:"Ir a {name}",internalPage:"Pgina interna",hadithTitle:"Hadiz",prayerReminderTitle:"Recordatorio de Oracin",hadithIntro:"El Profeta (la paz sea con l) dijo:",prayerHadithContent:'"El pacto entre nosotros y ellos es la oracin, as que quien la abandona ha descredo."',prayerHadithSource:"Narrado por Ahmad, Abu Dawud, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Quien se aferra a pedir perdn (Istighfar), Allah le abrir una salida de cada dificultad, un alivio de cada ansiedad y le proveer desde donde no lo espera."'},findPage:{hero:{title1:"Realice sus documentos con facilidad",subtitle1:"Encuentre un caf de internet cercano, enve su solicitud de forma remota y recoja sus documentos listos.",title2:"Encuentre un caf de internet cercano",subtitle2:"Enve su solicitud de forma remota y recoja sus documentos listos."},step1:{title:"1. Buscar un documento",placeholder:"Certificado de nacimiento, CV...",voiceSearchTitle:"Bsqueda por voz"},selectedDocs:{title:"Documentos seleccionados",viewFile:"Ver archivo",removeTitle:"Eliminar",nextStepButton:"Siguiente: Elegir caf ({count})",nextStepButtonDisabledTitle:"Por favor seleccione al menos un documento",emptyState:"An no se han seleccionado documentos."},alert:{selectFillable:"Por favor seleccione al menos un documento rellenable."}},blogPost:{publishedOn:"Publicado el:",by:"Por:",relatedArticles:"Otros artculos que le podran gustar",backToList:"Volver a todos los artculos",relatedPostsSidebar:"Artculos relacionados",notFoundTitle:"404 - Artculo no encontrado",notFoundMessage:"Lo sentimos, no pudimos encontrar el artculo que busca.",backToBlog:"Volver al blog"},searchForm:{searchByName:"Buscar por nombre...",search:"Buscar"},servicesListPage:{title:"Lista de servicios",fillableDocs:"Documentos rellenables",staticDocs:"Documentos imprimables (PDF)",siteServices:"Servicios del sitio web"},serviceDetailPage:{serviceNotFound:"Servicio no encontrado",backToList:"Volver a la lista de servicios",preview:"Vista previa del documento",previousDesign:"Diseo anterior",nextDesign:"Diseo siguiente",loadingPreview:"Cargando vista previa...",noPreview:"No hay vista previa disponible para este documento.",openInNewWindow:"Abrir en nueva ventana o descargar",instructions:"Instrucciones para este diseo",voiceExample:"Cmo grabar (Ejemplo):",requiredInfo:"Informacin requerida (hablada):",findCafeTitle:"Encuentre un caf que ofrezca este servicio",searchNearest:"Buscar cafs ms cercanos a m",locating:"Localizando...",resultsTitle:"Resultados ({count})",allCafesTitle:"Cafs de internet que ofrecen este servicio ({count})",noResults:"Ningn caf coincide con su bsqueda para todos los servicios requeridos."},login:{title:"Acceso Propietario de Caf",emailLabel:"Correo electrnico",passwordLabel:"Contrasea",forgotPassword:"Olvid su contrasea?",loginButton:"Iniciar sesin",loggingInButton:"Iniciando sesin...",noAccount:"No tiene una cuenta?",createAccount:"Crear una nueva cuenta",error:{fillAllFields:"Por favor complete todos los campos.",verifyEmail:"Por favor verifique su correo electrnico para activar su cuenta.",wrongCredentials:"El correo electrnico o la contrasea son incorrectos.",enterEmail:"Por favor ingrese su direccin de correo electrnico."},reset:{title:"Restablecer contrasea",emailLabel:"Correo electrnico registrado",sendButton:"Enviar enlace de restablecimiento",sendingButton:"Enviando...",successMessage:"Se ha enviado un enlace para restablecer la contrasea. Por favor revise su bandeja de entrada.",errorMessage:"Error al enviar el correo electrnico. Por favor intntelo de nuevo.",backToLogin:"Volver al inicio de sesin"}},signup:{title:"Crear una nueva cuenta",accountInfo:"Informacin de la cuenta",email:"Correo electrnico",password:"Contrasea",passwordPlaceholder:"Al menos 6 caracteres",confirmPassword:"Confirmar contrasea",cafeInfo:"Informacin del caf",cafeName:"Nombre comercial del caf",cafeNamePlaceholder:"p.ej., El Rincn Acogedor",ownerName:"Nombre completo del propietario",ownerNamePlaceholder:"p.ej., Juan Prez",country:"Pas",wilaya:"Estado/Provincia",daira:"Distrito",commune:"Ciudad/Municipio",state:"Estado / Province",city:"Ciudad",street:"Direccin",loading:"Cargando...",selectWilaya:"Seleccionar Estado",selectDaira:"Seleccionar Distrito",selectCommune:"Seleccionar Ciudad",statePlaceholder:"p.ej., Madrid, Buenos Aires",cityPlaceholder:"p.ej., Barcelona, Crdoba",streetPlaceholder:"p.ej., Calle Mayor 123",createButton:"Crear cuenta y caf",creatingButton:"Creando...",haveAccount:"Ya tiene una cuenta?",loginHere:"Inicie sesin aqu",errors:{allowedDomains:"Por favor use un correo de Gmail o Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Por favor complete todos los campos.",passwordsMismatch:"Las contraseas no coinciden.",passwordLength:"La contrasea debe tener al menos 6 caracteres.",signupFailed:"Este correo electrnico ya est en uso o ocurri un error de registro. Por favor intntelo de nuevo."},success:{title:"Cuenta creada con xito!",message:"Hemos enviado un enlace de verificacin a su correo electrnico",instruction:"Por favor haga clic en el enlace para activar su cuenta antes de iniciar sesin.",loginButton:"Ir a la pgina de inicio de sesin"}},formFields:{profilePicture:"Foto de perfil",fullName:"Nombre completo",firstName:"Nombre",lastName:"Apellido",firstNameFr:"Nombre (Lat.)",lastNameFr:"Apellido (Lat.)",birthdaydate:"Fecha de nacimiento",birthdayplace:"Lugar de nacimiento",address:"Direccin",phone:"Telfono",email:"Correo electrnico",jobTitle:"Profesin",nationalId:"Nmero de identificacin nacional",birthCertificateNumber:"Nmero de certificado de nacimiento",socialSecurityNumber:"Nmero de seguridad social",nationality:"Nacionalidad",maritalStatus:"Estado civil",maritalStatusOptions:{married:"Casado/a",single:"Soltero/a",divorced:"Divorciado/a"},motherFirstName:"Nombre de la madre",motherLastName:"Apellido de la madre",motherDob:"Fecha nac. madre",motherPob:"Lugar nac. madre",fatherFirstName:"Nombre del padre",fatherLastName:"Apellido del padre",fatherDob:"Fecha nac. padre",fatherPob:"Lugar nac. padre",residenceWilaya:"Estado/Provincia de residencia",residenceDaira:"Distrito de residencia",residenceCommune:"Ciudad de residencia",residenceStreet:"Calle de residencia",birthWilaya:"Estado de nacimiento",birthDaira:"Distrito de nacimiento",birthCommune:"Ciudad de nacimiento",bloodType:"Tipo de sangre",gender:"Gnero",genderOptions:{male:"Masculino",female:"Femenino"},height:"Altura (cm)",eyeColor:"Color de ojos",distinguishingMarks:"Marcas distintivas",employerName:"Nombre del empleador",employerAddress:"Direccin del empleador",educationLevel:"Nivel educativo",educationLevelOptions:{primary:"Primaria",middle:"Secundaria",high:"Bachillerato",university:"Universidad",postgraduate:"Posgrado"},universityName:"Nombre de la universidad",graduationDate:"Fecha de graduacin",fieldOfStudy:"Campo de estudio",higherInstituteName:"Nombre del instituto",vocationalTrainingCenterName:"Centro de formacin",schoolName:"Nombre de la escuela",highSchoolName:"Nombre del instituto",middleSchoolName:"Nombre de la secundaria",universityCity:"Ciudad universitaria",passportNumber:"Nmero de pasaporte",passportIssueDate:"Fecha de emisin pasaporte",passportExpiryDate:"Fecha de vencimiento pasaporte",passportIssuePlace:"Lugar de emisin pasaporte",drivingLicenseNumber:"Nmero de licencia de conducir",drivingLicenseCategory:"Categora de licencia",drivingLicenseIssueDate:"Fecha de emisin licencia",numberOfChildren:"Nmero de hijos",numberOfSons:"Nmero de hijos varones",numberOfDaughters:"Nmero de hijas",numberOfSiblings:"Nmero de hermanos",numberOfBrothers:"Nmero de hermanos varones",numberOfSisters:"Nmero de hermanas",spouseFullName:"Nombre completo del cnyuge",spouseDob:"Fecha nacimiento cnyuge",spouseJob:"Trabajo del cnyuge",militaryStatus:"Estado militar",ToTheGovernorOftheStateOf:"Al Gobernador de",submissionDaira:"Al Jefe de Distrito de",ToTheMayorOf:"Al Alcalde de",employerWilaya:"Estado del empleador",employerDaira:"Distrito del empleador",employerCommune:"Ciudad del empleador",criminalRecordNumber:"Nmero de antecedentes penales",criminalRecordIssueDate:"Fecha emisin antecedentes",criminalRecordIssuePlace:"Lugar emisin antecedentes",commercialRegistryNumber:"Nmero registro comercial",taxIdNumber:"NIF/RFC",casnosNumber:"Nmero de seguro",vehicleRegistrationCardNumber:"Nmero matrcula vehculo",vehicleType:"Tipo de vehculo",vehicleBrand:"Marca de vehculo",vehicleModel:"Modelo de vehculo",vehicleFirstRegistrationDate:"Fecha primera matriculacin",bankName:"Nombre del banco",bankAccountNumber:"Nmero de cuenta bancaria",bankAgencyName:"Nombre de agencia",bankAgencyCode:"Cdigo de agencia",bankNameTo:"Banco destinatario",bankWilayaTo:"Estado banco destinatario",bankCountryTo:"Pas destinatario",bankStreetTo:"Direccin banco dest.",bankNameFrom:"Banco remitente",bankWilayaFrom:"Estado banco remitente",bankCountryFrom:"Pas remitente",bankStreetFrom:"Direccin banco remitente",amountReceived:"Cantidad recibida",amountSent:"Cantidad enviada",employmentContractType:"Tipo de contrato",employmentStartDate:"Fecha inicio empleo",employeeIdNumber:"ID de empleado",professionalGrade:"Grado profesional",nationalIdIssueDate:"Fecha emisin ID",nationalIdExpiryDate:"Fecha vencimiento ID",drivingLicenseExpiryDate:"Vencimiento licencia",familyBookNumber:"Nmero libro de familia",marriageDate:"Fecha de matrimonio",marriagePlace:"Lugar de matrimonio",rentalContractNumber:"Nmero contrato alquiler",landlordName:"Nombre del arrendador",propertyAddress:"Direccin propiedad",attendingPhysicianName:"Nombre mdico",disabilityType:"Tipo de discapacidad",disabilityPercentage:"Porcentaje discapacidad",deceasedParentFullName:"Nombre padre fallecido",deceasedParentDod:"Fecha fallecimiento",deceasedParentPod:"Lugar fallecimiento",deathCertificateNumber:"Nmero certificado defuncin",survivingParentFullName:"Nombre padre sobreviviente",survivingParentJobTitle:"Trabajo padre sobreviviente",hospitalName:"Nombre hospital",motherFullName:"Nombre completo madre",motherAge:"Edad madre",fatherFullName:"Nombre completo padre",fatherAge:"Edad padre",spousePob:"Lugar nacimiento cnyuge",spouseAge:"Edad cnyuge",sonName:"Nombre hijo",sonPob:"Lugar nacimiento hijo",sonAge:"Edad hijo",daughterName:"Nombre hija",daughterPob:"Lugar nacimiento hija",daughterAge:"Edad hija",paternalGrandfatherName:"Abuelo paterno",paternalGrandfatherPob:"Lugar nacimiento",paternalGrandfatherAge:"Edad",paternalGrandmotherName:"Abuela paterna",paternalGrandmotherPob:"Lugar nacimiento",paternalGrandmotherAge:"Edad",maternalGrandfatherName:"Abuelo materno",maternalGrandfatherPob:"Lugar nacimiento",maternalGrandfatherAge:"Edad",maternalGrandmotherName:"Abuela materna",maternalGrandmotherPob:"Lugar nacimiento",maternalGrandmotherAge:"Edad"}},rW={header:{search:"Ara",login:"Kafe Sahibi Girii",dashboard:"Panel",logout:"k Yap",allCountries:"Tm lkeler",allCountriesSearch:"Tm lkeler (Kresel Arama)",selectCafeCountry:"Kafe lkesini Se"},footer:{blog:"Blog",services:"Hizmet Listesi",rightsReserved:"Tm haklar sakldr."},blog:{title:"Gitut Blog",subtitle:"Kafe sahipleri ve belge hizmeti arayanlar iin en son haberlerimizi, gncellemelerimizi ve yararl ipularmz takip edin."},share:{title:"Payla:",copied:"Kopyaland!",copyDetails:"Detaylar kopyala"},blogPostCard:{readMore:"Daha fazla oku"},relatedServices:{title:"lgili Hizmetler"},relatedPosts:{title:"lgili Yazlar"},relatedPages:{title:"Dier Sayfalar"},app:{error:{title:"Uygulama Hatas",message:"Temel veriler yklenemedi. Sunucuya balanrken bir sorun olabilir."}},cafeCard:{owner:"Sahibi:",address:"Adres:",checkingStatus:"Durum kontrol ediliyor...",online:"evrimii",offline:"evrimd",chooseThisCafe:"Bu Kafeyi Se",viewDetails:"Detaylar ve Hizmetleri Grntle",startChat:"Sohbet Balat",distanceUnit:"km"},profilePage:{backToSearch:"Aramaya Dn",managedBy:"Yneten:",checkingStatus:"Durum kontrol ediliyor...",online:"evrimii",offline:"evrimd",address:"Adres:",description:"Aklama:",viewOnMap:"Haritada Grntle",step1Title:"1. Gerekli Belgeleri Sein",step1Subtitle:"htiyacnz olan belgeleri sein. Bir belge arayp listeye ekleyebilir veya dorudan aadaki listeden seebilirsiniz.",searchPlaceholder:"Eklemek iin bir belge arayn...",searchLabel:"Listenize eklemek iin bir belge arayn",noMatch:"Aramanzla eleen belge yok.",step2Title:"2. steinizi Gnderin",continueToForm:"Formu Doldurmaya Devam Et ({count})",similarCafes:"Benzer Kafeler",cafeNotFoundTitle:"Kafe Bulunamad",cafeNotFoundMessage:"zgnz, aradnz sayfay bulamadk.",startChat:"Sohbet Balat",chatWith:"{name} ile sohbet et"},confirmationPage:{title:"steiniz Baaryla Gnderildi!",subtitle:"Bilgileriniz kafeye gnderildi. Ltfen oraya gidin ve belgelerinizi almak iin aadaki kodu salayn.",orderCodeLabel:"Sipari kodunuz:",note:"Not: Bu kodu saklayn, sipariinizi kafe sahibiyle onaylamak iin buna ihtiyacnz olacak.",backToHome:"Anasayfaya Dn"},formPage:{title:"Formu Doldur",submittingTo:"uraya bir istek gnderiyorsunuz:",online:"evrimii",offline:"evrimd",scanId:"Kimlii Tara",scanIdTitle:"Kamera ile kimlik kartn tara",micPermissionErrorTitle:"Mikrofon Eriimi Reddedildi",micPermissionErrorMessage:"Sesli giri zelliini kullanmak iin ltfen tarayc ayarlarnzda mikrofon eriimini etkinletirin. Formu yine de manuel olarak doldurabilirsiniz.",stepCounter:"Adm {current} / {total}",navigationHint:'Alanlar arasnda gezinmek iin "Sonraki" veya "nceki" diyebilirsiniz.',answerPlaceholder:"Buraya cevap verin... rn., {placeholder}",toggleMic:"Mikrofonu A/Kapat",optionsHint:"Mevcut seenekler (semek iin numaray syleyin):",previous:"nceki",next:"Sonraki",review:"ncele",formCompleteTitle:"Form Tamamland!",formCompleteMessage:"Ltfen son gnderimden nce verileri dikkatlice inceleyin.",profilePicture:"Profil Resmi",backToEdit:"Dzenlemeye Dn",submitFinal:"Son stei Gnder",submitting:"Gnderiliyor...",errorTitle:"stek Hatas",errorMessage:"Hibir belge veya hizmet seilmedi. Ltfen geri dnn ve nce belgeleri sein.",backToSearch:"Arama Sayfasna Dn",error:{noDocument:"Belge belirtilmedi.",loadFailed:"Belge verileri yklenemedi.",unexpected:"Beklenmeyen bir hata olutu.",notFound:"Belge Bulunamad",wordTemplateFailed:"Word ablonu yklenemedi."},fillDataFor:"Verileri Doldur:",fillFieldsBelow:"Belgenizi oluturmak iin aadaki alanlar doldurun.",importantNote:"nemli Not",noteContent:"Bu belgeyi nizleme, indirme veya doldurma dmeleri bu sayfann altndadr.",selectOption:"-- Se --",createDocument:"Belge Olutur"},adPage:{preparing:"Belgeniz hazrlanyor...",autoDisplay:"Belgeniz u sre iinde otomatik olarak grntlenecek:",downloadBlank:"Bo Kopyay ndir",fillDownload:"Doldur/ndir",downloadPdf:"PDF Olarak ndir",downloadWord:"Word Olarak ndir",adLabel:"Reklam:",optionsTitle:"Belge Seenekleri",stepFormatTitle:"Son Adm: ndirme Formatn Sein",stepFormatDesc:"Belgeyi indirmek istediiniz format sein.",preparingLink:"Balant hazrlanyor...",pleaseWait:"Ltfen bekleyin, balant hazr olacak:",linkReady:"Balant Hazr!",downloadNow:"imdi ndir",goTo:"{name} sayfasna git",internalPage:"Dahili Sayfa",hadithTitle:"Hadis",prayerReminderTitle:"Namaz Hatrlatmas",hadithIntro:"Peygamber (s.a.v.) yle buyurdu:",prayerHadithContent:'"Bizimle onlar arasndaki ahit namazdr, kim onu terk ederse kfir olmutur."',prayerHadithSource:"Ahmed, Ebu Davud, Nesai, Tirmizi tarafndan rivayet edilmitir",istighfarContent:'"Kim istifara devam ederse, Allah ona her darlktan bir k, her zntden bir kurtulu ihsan eder ve onu ummad yerden rzklandrr."'},findPage:{hero:{title1:"Belgelerinizi Kolayca Tamamlayn",subtitle1:"Yaknnzda bir internet kafe bulun, isteinizi uzaktan gnderin ve hazr belgelerinizi aln.",title2:"Yaknnzda bir internet kafe bulun",subtitle2:"steinizi uzaktan gnderin ve hazr belgelerinizi aln."},step1:{title:"1. Bir Belge Arayn",placeholder:"Doum belgesi, CV...",voiceSearchTitle:"Sesli Arama"},selectedDocs:{title:"Seilen Belgeler",viewFile:"Dosyay Grntle",removeTitle:"Kaldr",nextStepButton:"Sonraki: Kafe Se ({count})",nextStepButtonDisabledTitle:"Ltfen en az bir belge sein",emptyState:"Henz belge seilmedi."},alert:{selectFillable:"Ltfen en az bir doldurulabilir belge sein."}},blogPost:{publishedOn:"Yaynlanma tarihi:",by:"Yazan:",relatedArticles:"Beenebileceiniz dier makaleler",backToList:"Tm makalelere dn",relatedPostsSidebar:"lgili Yazlar",notFoundTitle:"404 - Yaz Bulunamad",notFoundMessage:"zgnz, aradnz yazy bulamadk.",backToBlog:"Bloga Dn"},searchForm:{searchByName:"sme gre ara...",search:"Ara"},servicesListPage:{title:"Hizmet Listesi",fillableDocs:"Doldurulabilir Belgeler",staticDocs:"Yazdrlabilir Belgeler (PDF)",siteServices:"Web Sitesi Hizmetleri"},serviceDetailPage:{serviceNotFound:"Hizmet Bulunamad",backToList:"Hizmet Listesine Dn",preview:"Belge nizleme",previousDesign:"nceki Tasarm",nextDesign:"Sonraki Tasarm",loadingPreview:"nizleme ykleniyor...",noPreview:"Bu belge iin nizleme mevcut deil.",openInNewWindow:"Yeni pencerede a veya indir",instructions:"Bu Tasarm in Talimatlar",voiceExample:"Nasl Kaydedilir (rnek):",requiredInfo:"Gerekli bilgiler (szl):",findCafeTitle:"Bu hizmeti salayan bir kafe bulun",searchNearest:"Bana en yakn kafeleri ara",locating:"Konum belirleniyor...",resultsTitle:"Sonular ({count})",allCafesTitle:"Bu hizmeti salayan internet kafeler ({count})",noResults:"Gerekli tm hizmetler iin aramanzla eleen kafe yok."},login:{title:"Kafe Sahibi Girii",emailLabel:"E-posta",passwordLabel:"ifre",forgotPassword:"ifrenizi mi unuttunuz?",loginButton:"Giri Yap",loggingInButton:"Giri yaplyor...",noAccount:"Hesabnz yok mu?",createAccount:"Yeni bir hesap olutur",error:{fillAllFields:"Ltfen tm alanlar doldurun.",verifyEmail:"Hesabnz etkinletirmek iin ltfen e-postanz kontrol edin.",wrongCredentials:"E-posta veya ifre yanl.",enterEmail:"Ltfen e-posta adresinizi girin."},reset:{title:"ifreyi Sfrla",emailLabel:"Kaytl E-posta",sendButton:"Sfrlama Balants Gnder",sendingButton:"Gnderiliyor...",successMessage:"Bir ifre sfrlama balants gnderildi. Ltfen gelen kutunuzu kontrol edin.",errorMessage:"E-posta gnderilemedi. Ltfen tekrar deneyin.",backToLogin:"Girie Dn"}},signup:{title:"Yeni Bir Hesap Olutur",accountInfo:"Hesap Bilgileri",email:"E-posta",password:"ifre",passwordPlaceholder:"En az 6 karakter",confirmPassword:"ifreyi Onayla",cafeInfo:"Kafe Bilgileri",cafeName:"Kafenin Ticari Ad",cafeNamePlaceholder:"rn., Rahat Ke",ownerName:"Sahibinin Tam Ad",ownerNamePlaceholder:"rn., Ahmet Ylmaz",country:"lke",wilaya:"Eyalet/l",daira:"le",commune:"ehir/Belediye",state:"Eyalet / l",city:"ehir",street:"Sokak Adresi",loading:"Ykleniyor...",selectWilaya:"l Sein",selectDaira:"le Sein",selectCommune:"ehir Sein",statePlaceholder:"rn., stanbul, Ankara",cityPlaceholder:"rn., Kadky, ankaya",streetPlaceholder:"rn., Cumhuriyet Cad. No: 123",createButton:"Hesap ve Kafe Olutur",creatingButton:"Oluturuluyor...",haveAccount:"Zaten bir hesabnz var m?",loginHere:"Buradan giri yapn",errors:{allowedDomains:"Ltfen bir Gmail veya Microsoft e-postas (Outlook, Hotmail, Live) kullann.",fillAllFields:"Ltfen tm alanlar doldurun.",passwordsMismatch:"ifreler elemiyor.",passwordLength:"ifre en az 6 karakter olmaldr.",signupFailed:"Bu e-posta zaten kullanmda veya bir kayt hatas olutu. Ltfen tekrar deneyin."},success:{title:"Hesap Baaryla Oluturuldu!",message:"E-postanza bir dorulama balants gnderdik",instruction:"Ltfen giri yapmadan nce hesabnz etkinletirmek iin balantya tklayn.",loginButton:"Giri Sayfasna Git"}},formFields:{profilePicture:"Profil Resmi",fullName:"Tam Ad",firstName:"Ad",lastName:"Soyad",firstNameFr:"Ad (Latince)",lastNameFr:"Soyad (Latince)",birthdaydate:"Doum Tarihi",birthdayplace:"Doum Yeri",address:"Adres",phone:"Telefon Numaras",email:"E-posta",jobTitle:"Meslek",nationalId:"Kimlik Numaras",birthCertificateNumber:"Doum Belgesi Numaras",socialSecurityNumber:"Sosyal Gvenlik Numaras",nationality:"Uyruk",maritalStatus:"Medeni Durum",maritalStatusOptions:{married:"Evli",single:"Bekar",divorced:"Boanm"},motherFirstName:"Anne Ad",motherLastName:"Anne Soyad",motherDob:"Anne Doum Tarihi",motherPob:"Anne Doum Yeri",fatherFirstName:"Baba Ad",fatherLastName:"Baba Soyad",fatherDob:"Baba Doum Tarihi",fatherPob:"Baba Doum Yeri",residenceWilaya:"kamet li",residenceDaira:"kamet lesi",residenceCommune:"kamet Semti",residenceStreet:"kamet Soka",birthWilaya:"Doum li",birthDaira:"Doum lesi",birthCommune:"Doum Semti",bloodType:"Kan Grubu",gender:"Cinsiyet",genderOptions:{male:"Erkek",female:"Kadn"},height:"Boy (cm)",eyeColor:"Gz Rengi",distinguishingMarks:"Ayrt Edici zellikler",employerName:"veren Ad",employerAddress:"veren Adresi",educationLevel:"Eitim Seviyesi",educationLevelOptions:{primary:"lkokul",middle:"Ortaokul",high:"Lise",university:"niversite",postgraduate:"Lisansst"},universityName:"niversite Ad",graduationDate:"Mezuniyet Tarihi",fieldOfStudy:"alma Alan",higherInstituteName:"Enstit Ad",vocationalTrainingCenterName:"Eitim Merkezi Ad",schoolName:"Okul Ad",highSchoolName:"Lise Ad",middleSchoolName:"Ortaokul Ad",universityCity:"niversite ehri",passportNumber:"Pasaport Numaras",passportIssueDate:"Pasaport Verili Tarihi",passportExpiryDate:"Pasaport Biti Tarihi",passportIssuePlace:"Pasaport Verili Yeri",drivingLicenseNumber:"Ehliyet Numaras",drivingLicenseCategory:"Ehliyet Snf",drivingLicenseIssueDate:"Ehliyet Verili Tarihi",numberOfChildren:"ocuk Says",numberOfSons:"Erkek ocuk Says",numberOfDaughters:"Kz ocuk Says",numberOfSiblings:"Karde Says",numberOfBrothers:"Erkek Karde Says",numberOfSisters:"Kz Karde Says",spouseFullName:"Ein Tam Ad",spouseDob:"Ein Doum Tarihi",spouseJob:"Ein Meslei",militaryStatus:"Askerlik Durumu",ToTheGovernorOftheStateOf:"Valiliine",submissionDaira:"Kaymakamlna",ToTheMayorOf:"Belediye Bakanlna",employerWilaya:"veren li",employerDaira:"veren lesi",employerCommune:"veren Semti",criminalRecordNumber:"Sabka Kayd No",criminalRecordIssueDate:"Verili Tarihi",criminalRecordIssuePlace:"Verili Yeri",commercialRegistryNumber:"Ticari Sicil No",taxIdNumber:"Vergi No",casnosNumber:"Sigorta No",vehicleRegistrationCardNumber:"Ara Tescil No",vehicleType:"Ara Tipi",vehicleBrand:"Ara Markas",vehicleModel:"Ara Modeli",vehicleFirstRegistrationDate:"lk Tescil Tarihi",bankName:"Banka Ad",bankAccountNumber:"Hesap Numaras",bankAgencyName:"ube Ad",bankAgencyCode:"ube Kodu",bankNameTo:"Alc Banka",bankWilayaTo:"Alc li",bankCountryTo:"Alc lke",bankStreetTo:"Alc Adresi",bankNameFrom:"Gnderen Banka",bankWilayaFrom:"Gnderen li",bankCountryFrom:"Gnderen lke",bankStreetFrom:"Gnderen Adresi",amountReceived:"Alnan Tutar",amountSent:"Gnderilen Tutar",employmentContractType:"Szleme Tipi",employmentStartDate:"e Balama Tarihi",employeeIdNumber:"Personel ID",professionalGrade:"Mesleki Derece",nationalIdIssueDate:"Kimlik Verili Tarihi",nationalIdExpiryDate:"Kimlik Biti Tarihi",drivingLicenseExpiryDate:"Ehliyet Biti Tarihi",familyBookNumber:"Aile Czdan No",marriageDate:"Evlilik Tarihi",marriagePlace:"Evlilik Yeri",rentalContractNumber:"Kira Szlemesi No",landlordName:"Ev Sahibi Ad",propertyAddress:"Mlk Adresi",attendingPhysicianName:"Doktor Ad",disabilityType:"Engel Tr",disabilityPercentage:"Engel Oran (%)",deceasedParentFullName:"Vefat Eden Ebeveyn Ad",deceasedParentDod:"Vefat Tarihi",deceasedParentPod:"Vefat Yeri",deathCertificateNumber:"lm Belgesi No",survivingParentFullName:"Hayattaki Ebeveyn Ad",survivingParentJobTitle:"Hayattaki Ebeveyn Meslei",hospitalName:"Hastane Ad",motherFullName:"Annenin Tam Ad",motherAge:"Annenin Ya",fatherFullName:"Babann Tam Ad",fatherAge:"Babann Ya",spousePob:"E Doum Yeri",spouseAge:"E Ya",sonName:"Oul Ad",sonPob:"Oul Doum Yeri",sonAge:"Oul Ya",daughterName:"Kz Ad",daughterPob:"Kz Doum Yeri",daughterAge:"Kz Ya",paternalGrandfatherName:"Baba Dede",paternalGrandfatherPob:"Doum Yeri",paternalGrandfatherAge:"Ya",paternalGrandmotherName:"Babaanne",paternalGrandmotherPob:"Doum Yeri",paternalGrandmotherAge:"Ya",maternalGrandfatherName:"Anne Dede",maternalGrandfatherPob:"Doum Yeri",maternalGrandfatherAge:"Ya",maternalGrandmotherName:"Anneanne",maternalGrandmotherPob:"Doum Yeri",maternalGrandmotherAge:"Ya"}},iW={header:{search:"",login:"",dashboard:"",logout:"",allCountries:"",allCountriesSearch:"",selectCafeCountry:""},footer:{blog:"",services:"",rightsReserved:""},blog:{title:"Gitut",subtitle:""},share:{title:":",copied:"",copyDetails:""},blogPostCard:{readMore:""},relatedServices:{title:""},relatedPosts:{title:""},relatedPages:{title:""},app:{error:{title:"",message:""}},cafeCard:{owner:":",address:":",checkingStatus:"...",online:"",offline:"",chooseThisCafe:"",viewDetails:"",startChat:"",distanceUnit:"km"},profilePage:{backToSearch:"",managedBy:":",checkingStatus:"...",online:"",offline:"",address:":",description:":",viewOnMap:"",step1Title:"1. ",step1Subtitle:"",searchPlaceholder:"...",searchLabel:"",noMatch:"",step2Title:"2. ",continueToForm:" ({count})",similarCafes:"",cafeNotFoundTitle:"",cafeNotFoundMessage:"",startChat:"",chatWith:"{name}"},confirmationPage:{title:"",subtitle:"",orderCodeLabel:":",note:"",backToHome:""},formPage:{title:"",submittingTo:":",online:"",offline:"",scanId:"ID",scanIdTitle:"",micPermissionErrorTitle:"",micPermissionErrorMessage:"",stepCounter:" {current} / {total}",navigationHint:"",answerPlaceholder:"... : {placeholder}",toggleMic:"",optionsHint:":",previous:"",next:"",review:"",formCompleteTitle:"",formCompleteMessage:"",profilePicture:"",backToEdit:"",submitFinal:"",submitting:"...",errorTitle:"",errorMessage:"",backToSearch:"",error:{noDocument:"",loadFailed:"",unexpected:"",notFound:"",wordTemplateFailed:"Word"},fillDataFor:":",fillFieldsBelow:"",importantNote:"",noteContent:"",selectOption:"--  --",createDocument:""},adPage:{preparing:"...",autoDisplay:":",downloadBlank:"",fillDownload:"/",downloadPdf:"PDF",downloadWord:"Word",adLabel:":",optionsTitle:"",stepFormatTitle:": ",stepFormatDesc:"",preparingLink:"...",pleaseWait:":",linkReady:"",downloadNow:"",goTo:"{name}",internalPage:"",hadithTitle:" ()",prayerReminderTitle:"",hadithIntro:":",prayerHadithContent:"",prayerHadithSource:"",istighfarContent:""},findPage:{hero:{title1:"",subtitle1:"",title2:"",subtitle2:""},step1:{title:"1. ",placeholder:"...",voiceSearchTitle:""},selectedDocs:{title:"",viewFile:"",removeTitle:"",nextStepButton:":  ({count})",nextStepButtonDisabledTitle:"1",emptyState:""},alert:{selectFillable:"1"}},blogPost:{publishedOn:":",by:":",relatedArticles:"",backToList:"",relatedPostsSidebar:"",notFoundTitle:"404 - ",notFoundMessage:"",backToBlog:""},searchForm:{searchByName:"...",search:""},servicesListPage:{title:"",fillableDocs:"",staticDocs:" (PDF)",siteServices:""},serviceDetailPage:{serviceNotFound:"",backToList:"",preview:"",previousDesign:"",nextDesign:"",loadingPreview:"...",noPreview:"",openInNewWindow:"",instructions:"",voiceExample:":",requiredInfo:":",findCafeTitle:"",searchNearest:"",locating:"...",resultsTitle:" ({count})",allCafesTitle:" ({count})",noResults:""},login:{title:"",emailLabel:"",passwordLabel:"",forgotPassword:"",loginButton:"",loggingInButton:"...",noAccount:"",createAccount:"",error:{fillAllFields:"",verifyEmail:"",wrongCredentials:"",enterEmail:""},reset:{title:"",emailLabel:"",sendButton:"",sendingButton:"...",successMessage:"",errorMessage:"",backToLogin:""}},signup:{title:"",accountInfo:"",email:"",password:"",passwordPlaceholder:"6",confirmPassword:"",cafeInfo:"",cafeName:"",cafeNamePlaceholder:": ",ownerName:"",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"",commune:"",state:" / ",city:"",street:"",loading:"...",selectWilaya:"",selectDaira:"",selectCommune:"",statePlaceholder:": ",cityPlaceholder:": ",streetPlaceholder:": 1-2-3 ",createButton:"",creatingButton:"...",haveAccount:"",loginHere:"",errors:{allowedDomains:"GmailMicrosoftOutlook, Hotmail, Live",fillAllFields:"",passwordsMismatch:"",passwordLength:"6",signupFailed:""},success:{title:"",message:"",instruction:"",loginButton:""}},formFields:{profilePicture:"",fullName:" ()",firstName:"",lastName:"",firstNameFr:" ()",lastNameFr:" ()",birthdaydate:"",birthdayplace:"",address:"",phone:"",email:"",jobTitle:"",nationalId:"",birthCertificateNumber:"",socialSecurityNumber:"",nationality:"",maritalStatus:"",maritalStatusOptions:{married:"",single:"",divorced:""},motherFirstName:"",motherLastName:" ()",motherDob:"",motherPob:"",fatherFirstName:"",fatherLastName:"",fatherDob:"",fatherPob:"",residenceWilaya:"",residenceDaira:"/",residenceCommune:"",residenceStreet:"/",birthWilaya:"",birthDaira:"",birthCommune:"",bloodType:"",gender:"",genderOptions:{male:"",female:""},height:" (cm)",eyeColor:"",distinguishingMarks:"",employerName:"",employerAddress:"",educationLevel:"",educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:""},universityName:"",graduationDate:"",fieldOfStudy:"",higherInstituteName:"",vocationalTrainingCenterName:"",schoolName:"",highSchoolName:"",middleSchoolName:"",universityCity:"",passportNumber:"",passportIssueDate:"",passportExpiryDate:"",passportIssuePlace:"",drivingLicenseNumber:"",drivingLicenseCategory:"",drivingLicenseIssueDate:"",numberOfChildren:"",numberOfSons:"",numberOfDaughters:"",numberOfSiblings:"",numberOfBrothers:"",numberOfSisters:"",spouseFullName:"",spouseDob:"",spouseJob:"",militaryStatus:"",ToTheGovernorOftheStateOf:"",submissionDaira:"",ToTheMayorOf:"",employerWilaya:"",employerDaira:"",employerCommune:"",criminalRecordNumber:"",criminalRecordIssuePlace:"",commercialRegistryNumber:"",taxIdNumber:"",casnosNumber:"",vehicleRegistrationCardNumber:"",vehicleType:"",vehicleBrand:"",vehicleModel:"",vehicleFirstRegistrationDate:"",bankName:"",bankAccountNumber:"",bankAgencyName:"",bankAgencyCode:"",bankNameTo:"",bankWilayaTo:"",bankCountryTo:"",bankStreetTo:"",bankNameFrom:"",bankWilayaFrom:"",bankCountryFrom:"",bankStreetFrom:"",amountReceived:"",amountSent:"",employmentContractType:"",employmentStartDate:"",employeeIdNumber:"ID",professionalGrade:"",nationalIdIssueDate:"",nationalIdExpiryDate:"",drivingLicenseExpiryDate:"",familyBookNumber:"",marriageDate:"",marriagePlace:"",rentalContractNumber:"",landlordName:"",propertyAddress:"",attendingPhysicianName:"",disabilityType:"",disabilityPercentage:"(%)",deceasedParentFullName:"",deceasedParentDod:"",deceasedParentPod:"",deathCertificateNumber:"",survivingParentFullName:"",survivingParentJobTitle:"",hospitalName:"",motherFullName:"",motherAge:"",fatherFullName:"",fatherAge:"",spousePob:"",spouseAge:"",sonName:"",sonPob:"",sonAge:"",daughterName:"",daughterPob:"",daughterAge:"",paternalGrandfatherName:"",paternalGrandfatherPob:"",paternalGrandfatherAge:"",paternalGrandmotherName:"",paternalGrandmotherPob:"",paternalGrandmotherAge:"",maternalGrandfatherName:"",maternalGrandfatherPob:"",maternalGrandfatherAge:"",maternalGrandmotherName:"",maternalGrandmotherPob:"",maternalGrandmotherAge:""}},sW={header:{search:"Cari",login:"Login Pemilik Kafe",dashboard:"Dasbor",logout:"Keluar",allCountries:"Semua Negara",allCountriesSearch:"Semua Negara (Pencarian Global)",selectCafeCountry:"Pilih Negara Kafe"},footer:{blog:"Blog",services:"Daftar Layanan",rightsReserved:"Hak cipta dilindungi undang-undang."},blog:{title:"Blog Gitut",subtitle:"Ikuti berita terbaru, pembaruan, dan tips bermanfaat kami untuk pemilik kafe dan pencari layanan dokumen."},share:{title:"Bagikan:",copied:"Disalin!",copyDetails:"Salin detail"},blogPostCard:{readMore:"Baca selengkapnya"},relatedServices:{title:"Layanan Terkait"},relatedPosts:{title:"Artikel Terkait"},relatedPages:{title:"Halaman Lain"},app:{error:{title:"Kesalahan Aplikasi",message:"Tidak dapat memuat data penting. Mungkin ada masalah koneksi ke server."}},cafeCard:{owner:"Pemilik:",address:"Alamat:",checkingStatus:"Memeriksa status...",online:"Online",offline:"Offline",chooseThisCafe:"Pilih Kafe Ini",viewDetails:"Lihat Detail & Layanan",startChat:"Mulai Obrolan",distanceUnit:"km"},profilePage:{backToSearch:"Kembali ke Pencarian",managedBy:"Dikelola oleh:",checkingStatus:"Memeriksa status...",online:"Online",offline:"Offline",address:"Alamat:",description:"Deskripsi:",viewOnMap:"Lihat di Peta",step1Title:"1. Pilih Dokumen yang Diperlukan",step1Subtitle:"Pilih dokumen yang Anda butuhkan. Anda dapat mencari dokumen dan menambahkannya ke daftar, atau memilih langsung dari daftar di bawah.",searchPlaceholder:"Cari dokumen untuk ditambahkan...",searchLabel:"Cari dokumen untuk ditambahkan ke daftar Anda",noMatch:"Tidak ada dokumen yang cocok dengan pencarian Anda.",step2Title:"2. Kirim Permintaan Anda",continueToForm:"Lanjutkan Mengisi Formulir ({count})",similarCafes:"Kafe Serupa",cafeNotFoundTitle:"Kafe Tidak Ditemukan",cafeNotFoundMessage:"Maaf, kami tidak dapat menemukan halaman yang Anda cari.",startChat:"Mulai Obrolan",chatWith:"Mengobrol dengan {name}"},confirmationPage:{title:"Permintaan Anda Berhasil Dikirim!",subtitle:"Informasi Anda telah dikirim ke kafe. Silakan pergi ke sana dan berikan kode berikut untuk menerima dokumen Anda.",orderCodeLabel:"Kode pesanan Anda adalah:",note:"Catatan: Simpan kode ini, Anda akan membutuhkannya untuk mengonfirmasi pesanan Anda dengan pemilik kafe.",backToHome:"Kembali ke Beranda"},formPage:{title:"Isi Formulir",submittingTo:"Anda mengirim permintaan ke:",online:"Online",offline:"Offline",scanId:"Pindai ID",scanIdTitle:"Pindai kartu identitas dengan kamera",micPermissionErrorTitle:"Akses Mikrofon Ditolak",micPermissionErrorMessage:"Harap aktifkan akses mikrofon di pengaturan browser Anda untuk menggunakan fitur input suara. Anda masih dapat mengisi formulir secara manual.",stepCounter:"Langkah {current} dari {total}",navigationHint:'Anda dapat mengatakan "Berikutnya" atau "Sebelumnya" untuk berpindah antar kolom.',answerPlaceholder:"Jawab di sini... cth., {placeholder}",toggleMic:"Beralih Mikrofon",optionsHint:"Pilihan tersedia (sebutkan nomor untuk memilih):",previous:"Sebelumnya",next:"Berikutnya",review:"Tinjau",formCompleteTitle:"Formulir Selesai!",formCompleteMessage:"Harap tinjau data dengan cermat sebelum pengiriman akhir.",profilePicture:"Foto Profil",backToEdit:"Kembali Mengedit",submitFinal:"Kirim Permintaan Akhir",submitting:"Mengirim...",errorTitle:"Kesalahan Permintaan",errorMessage:"Tidak ada dokumen atau layanan yang dipilih. Silakan kembali dan pilih dokumen terlebih dahulu.",backToSearch:"Kembali ke Halaman Pencarian",error:{noDocument:"Tidak ada dokumen yang ditentukan.",loadFailed:"Gagal memuat data dokumen.",unexpected:"Terjadi kesalahan tak terduga.",notFound:"Dokumen Tidak Ditemukan",wordTemplateFailed:"Gagal memuat templat Word."},fillDataFor:"Isi Data Untuk:",fillFieldsBelow:"Isi kolom di bawah ini untuk membuat dokumen Anda.",importantNote:"Catatan Penting",noteContent:"Tombol untuk pratinjau, unduh, atau isi dokumen ini ada di bagian bawah halaman ini.",selectOption:"-- Pilih --",createDocument:"Buat Dokumen"},adPage:{preparing:"Menyiapkan dokumen Anda...",autoDisplay:"Dokumen Anda akan ditampilkan secara otomatis dalam:",downloadBlank:"Unduh Salinan Kosong",fillDownload:"Isi/Unduh",downloadPdf:"Unduh sebagai PDF",downloadWord:"Unduh sebagai Word",adLabel:"Iklan:",optionsTitle:"Opsi Dokumen",stepFormatTitle:"Langkah Terakhir: Pilih Format Unduhan",stepFormatDesc:"Pilih format yang Anda inginkan untuk mengunduh dokumen.",preparingLink:"Menyiapkan tautan...",pleaseWait:"Harap tunggu, tautan akan siap dalam:",linkReady:"Tautan Siap!",downloadNow:"Unduh Sekarang",goTo:"Buka {name}",internalPage:"Halaman Internal",hadithTitle:"Hadits",prayerReminderTitle:"Pengingat Sholat",hadithIntro:"Nabi (damai besertanya) bersabda:",prayerHadithContent:'"Perjanjian antara kami dan mereka adalah sholat, jadi barangsiapa meninggalkannya maka dia telah kafir."',prayerHadithSource:"Diriwayatkan oleh Ahmad, Abu Dawood, An-Nasa'i, At-Tirmidhi",istighfarContent:'"Barangsiapa yang senantiasa memohon ampun (Istighfar), Allah akan menjadikan jalan keluar baginya dari setiap kesulitan, kelapangan dari setiap kecemasan, dan memberinya rezeki dari arah yang tidak disangka-sangka."'},findPage:{hero:{title1:"Selesaikan Dokumen Anda dengan Mudah",subtitle1:"Temukan warnet terdekat, kirim permintaan Anda dari jarak jauh, dan ambil dokumen Anda yang sudah jadi.",title2:"Cari warnet di sekitar",subtitle2:"Kirim permintaan Anda dari jarak jauh dan ambil dokumen Anda yang sudah jadi."},step1:{title:"1. Cari Dokumen",placeholder:"Akta kelahiran, CV...",voiceSearchTitle:"Pencarian Suara"},selectedDocs:{title:"Dokumen Terpilih",viewFile:"Lihat File",removeTitle:"Hapus",nextStepButton:"Lanjut: Pilih Kafe ({count})",nextStepButtonDisabledTitle:"Harap pilih setidaknya satu dokumen",emptyState:"Belum ada dokumen yang dipilih."},alert:{selectFillable:"Harap pilih setidaknya satu dokumen yang dapat diisi."}},blogPost:{publishedOn:"Diterbitkan pada:",by:"Oleh:",relatedArticles:"Artikel lain yang mungkin Anda sukai",backToList:"Kembali ke semua artikel",relatedPostsSidebar:"Artikel Terkait",notFoundTitle:"404 - Artikel Tidak Ditemukan",notFoundMessage:"Maaf, kami tidak dapat menemukan artikel yang Anda cari.",backToBlog:"Kembali ke Blog"},searchForm:{searchByName:"Cari berdasarkan nama...",search:"Cari"},servicesListPage:{title:"Daftar Layanan",fillableDocs:"Dokumen Dapat Diisi",staticDocs:"Dokumen Dapat Dicetak (PDF)",siteServices:"Layanan Situs Web"},serviceDetailPage:{serviceNotFound:"Layanan Tidak Ditemukan",backToList:"Kembali ke Daftar Layanan",preview:"Pratinjau Dokumen",previousDesign:"Desain Sebelumnya",nextDesign:"Desain Berikutnya",loadingPreview:"Memuat pratinjau...",noPreview:"Tidak ada pratinjau tersedia untuk dokumen ini.",openInNewWindow:"Buka di jendela baru atau unduh",instructions:"Instruksi untuk Desain Ini",voiceExample:"Cara Merekam (Contoh):",requiredInfo:"Informasi yang diperlukan (diucapkan):",findCafeTitle:"Temukan kafe yang menyediakan layanan ini",searchNearest:"Cari kafe terdekat saya",locating:"Mencari lokasi...",resultsTitle:"Hasil ({count})",allCafesTitle:"Kafe internet yang menyediakan layanan ini ({count})",noResults:"Tidak ada kafe yang cocok dengan pencarian Anda untuk semua layanan yang diperlukan."},login:{title:"Login Pemilik Kafe",emailLabel:"Email",passwordLabel:"Kata Sandi",forgotPassword:"Lupa kata sandi?",loginButton:"Masuk",loggingInButton:"Sedang masuk...",noAccount:"Belum punya akun?",createAccount:"Buat akun baru",error:{fillAllFields:"Harap isi semua bidang.",verifyEmail:"Harap periksa email Anda untuk mengaktifkan akun.",wrongCredentials:"Email atau kata sandi salah.",enterEmail:"Harap masukkan alamat email Anda."},reset:{title:"Atur Ulang Kata Sandi",emailLabel:"Email Terdaftar",sendButton:"Kirim Tautan Atur Ulang",sendingButton:"Mengirim...",successMessage:"Tautan atur ulang kata sandi telah dikirim. Silakan periksa kotak masuk Anda.",errorMessage:"Gagal mengirim email. Silakan coba lagi.",backToLogin:"Kembali ke Login"}},signup:{title:"Buat Akun Baru",accountInfo:"Informasi Akun",email:"Email",password:"Kata Sandi",passwordPlaceholder:"Minimal 6 karakter",confirmPassword:"Konfirmasi Kata Sandi",cafeInfo:"Informasi Kafe",cafeName:"Nama Bisnis Kafe",cafeNamePlaceholder:"cth., Warung Nyaman",ownerName:"Nama Lengkap Pemilik",ownerNamePlaceholder:"cth., Budi Santoso",country:"Negara",wilaya:"Provinsi",daira:"Kabupaten/Kota",commune:"Kecamatan",state:"Provinsi",city:"Kota",street:"Alamat Jalan",loading:"Memuat...",selectWilaya:"Pilih Provinsi",selectDaira:"Pilih Kabupaten/Kota",selectCommune:"Pilih Kecamatan",statePlaceholder:"cth., Jawa Barat, Bali",cityPlaceholder:"cth., Bandung, Denpasar",streetPlaceholder:"cth., Jl. Merdeka No. 123",createButton:"Buat Akun & Kafe",creatingButton:"Membuat...",haveAccount:"Sudah punya akun?",loginHere:"Masuk di sini",errors:{allowedDomains:"Harap gunakan email Gmail atau Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Harap isi semua bidang.",passwordsMismatch:"Kata sandi tidak cocok.",passwordLength:"Kata sandi harus minimal 6 karakter.",signupFailed:"Email ini sudah digunakan atau terjadi kesalahan pendaftaran. Silakan coba lagi."},success:{title:"Akun Berhasil Dibuat!",message:"Kami telah mengirimkan tautan verifikasi ke email Anda",instruction:"Silakan klik tautan tersebut untuk mengaktifkan akun Anda sebelum masuk.",loginButton:"Ke Halaman Login"}},formFields:{profilePicture:"Foto Profil",fullName:"Nama Lengkap",firstName:"Nama Depan",lastName:"Nama Belakang",firstNameFr:"Nama Depan (Latin)",lastNameFr:"Nama Belakang (Latin)",birthdaydate:"Tanggal Lahir",birthdayplace:"Tempat Lahir",address:"Alamat",phone:"Nomor Telepon",email:"Email",jobTitle:"Pekerjaan",nationalId:"Nomor KTP",birthCertificateNumber:"Nomor Akta Kelahiran",socialSecurityNumber:"Nomor Jaminan Sosial",nationality:"Kewarganegaraan",maritalStatus:"Status Pernikahan",maritalStatusOptions:{married:"Menikah",single:"Lajang",divorced:"Cerai"},motherFirstName:"Nama Depan Ibu",motherLastName:"Nama Belakang Ibu",motherDob:"Tanggal Lahir Ibu",motherPob:"Tempat Lahir Ibu",fatherFirstName:"Nama Depan Ayah",fatherLastName:"Nama Belakang Ayah",fatherDob:"Tanggal Lahir Ayah",fatherPob:"Tempat Lahir Ayah",residenceWilaya:"Provinsi Tempat Tinggal",residenceDaira:"Kabupaten Tempat Tinggal",residenceCommune:"Kota Tempat Tinggal",residenceStreet:"Jalan Tempat Tinggal",birthWilaya:"Provinsi Kelahiran",birthDaira:"Kabupaten Kelahiran",birthCommune:"Kota Kelahiran",bloodType:"Golongan Darah",gender:"Jenis Kelamin",genderOptions:{male:"Laki-laki",female:"Perempuan"},height:"Tinggi (cm)",eyeColor:"Warna Mata",distinguishingMarks:"Tanda Khusus",employerName:"Nama Pemberi Kerja",employerAddress:"Alamat Pemberi Kerja",educationLevel:"Tingkat Pendidikan",educationLevelOptions:{primary:"SD",middle:"SMP",high:"SMA",university:"Universitas",postgraduate:"Pascasarjana"},universityName:"Nama Universitas",graduationDate:"Tanggal Lulus",fieldOfStudy:"Bidang Studi",higherInstituteName:"Nama Institut",vocationalTrainingCenterName:"Nama Pusat Pelatihan",schoolName:"Nama Sekolah",highSchoolName:"Nama SMA",middleSchoolName:"Nama SMP",universityCity:"Kota Universitas",passportNumber:"Nomor Paspor",passportIssueDate:"Tanggal Penerbitan Paspor",passportExpiryDate:"Tanggal Kedaluwarsa Paspor",passportIssuePlace:"Tempat Penerbitan Paspor",drivingLicenseNumber:"Nomor SIM",drivingLicenseCategory:"Kategori SIM",drivingLicenseIssueDate:"Tanggal Penerbitan SIM",numberOfChildren:"Jumlah Anak",numberOfSons:"Jumlah Putra",numberOfDaughters:"Jumlah Putri",numberOfSiblings:"Jumlah Saudara Kandung",numberOfBrothers:"Jumlah Saudara Laki-laki",numberOfSisters:"Jumlah Saudara Perempuan",spouseFullName:"Nama Lengkap Pasangan",spouseDob:"Tanggal Lahir Pasangan",spouseJob:"Pekerjaan Pasangan",militaryStatus:"Status Militer",ToTheGovernorOftheStateOf:"Kepada Gubernur",submissionDaira:"Kepada Kepala Distrik",ToTheMayorOf:"Kepada Walikota",employerWilaya:"Provinsi Pemberi Kerja",employerDaira:"Kabupaten Pemberi Kerja",employerCommune:"Kota Pemberi Kerja",criminalRecordNumber:"Nomor Catatan Kriminal",criminalRecordIssueDate:"Tanggal Penerbitan",criminalRecordIssuePlace:"Tempat Penerbitan",commercialRegistryNumber:"Nomor Registrasi Komersial",taxIdNumber:"NPWP",casnosNumber:"Nomor Asuransi",vehicleRegistrationCardNumber:"Nomor Registrasi Kendaraan",vehicleType:"Tipe Kendaraan",vehicleBrand:"Merek Kendaraan",vehicleModel:"Model Kendaraan",vehicleFirstRegistrationDate:"Tanggal Registrasi Pertama",bankName:"Nama Bank",bankAccountNumber:"Nomor Rekening",bankAgencyName:"Nama Cabang",bankAgencyCode:"Kode Cabang",bankNameTo:"Bank Penerima",bankWilayaTo:"Provinsi Bank Penerima",bankCountryTo:"Negara Penerima",bankStreetTo:"Alamat Bank Penerima",bankNameFrom:"Bank Pengirim",bankWilayaFrom:"Provinsi Bank Pengirim",bankCountryFrom:"Negara Pengirim",bankStreetFrom:"Alamat Bank Pengirim",amountReceived:"Jumlah Diterima",amountSent:"Jumlah Dikirim",employmentContractType:"Tipe Kontrak",employmentStartDate:"Tanggal Mulai",employeeIdNumber:"ID Karyawan",professionalGrade:"Tingkat Profesional",nationalIdIssueDate:"Tanggal Penerbitan KTP",nationalIdExpiryDate:"Tanggal Kedaluwarsa KTP",drivingLicenseExpiryDate:"Tanggal Kedaluwarsa SIM",familyBookNumber:"Nomor Kartu Keluarga",marriageDate:"Tanggal Pernikahan",marriagePlace:"Tempat Pernikahan",rentalContractNumber:"Nomor Kontrak Sewa",landlordName:"Nama Pemilik Sewa",propertyAddress:"Alamat Properti",attendingPhysicianName:"Nama Dokter",disabilityType:"Tipe Disabilitas",disabilityPercentage:"Persentase Disabilitas",deceasedParentFullName:"Nama Orang Tua Meninggal",deceasedParentDod:"Tanggal Meninggal",deceasedParentPod:"Tempat Meninggal",deathCertificateNumber:"Nomor Akta Kematian",survivingParentFullName:"Nama Orang Tua Hidup",survivingParentJobTitle:"Pekerjaan Orang Tua Hidup",hospitalName:"Nama Rumah Sakit",motherFullName:"Nama Lengkap Ibu",motherAge:"Usia Ibu",fatherFullName:"Nama Lengkap Ayah",fatherAge:"Usia Ayah",spousePob:"Tempat Lahir Pasangan",spouseAge:"Usia Pasangan",sonName:"Nama Putra",sonPob:"Tempat Lahir Putra",sonAge:"Usia Putra",daughterName:"Nama Putri",daughterPob:"Tempat Lahir Putri",daughterAge:"Usia Putri",paternalGrandfatherName:"Kakek dari Ayah",paternalGrandfatherPob:"Tempat Lahir",paternalGrandfatherAge:"Usia",paternalGrandmotherName:"Nenek dari Ayah",paternalGrandmotherPob:"Tempat Lahir",paternalGrandmotherAge:"Usia",maternalGrandfatherName:"Kakek dari Ibu",maternalGrandfatherPob:"Tempat Lahir",maternalGrandfatherAge:"Usia",maternalGrandmotherName:"Nenek dari Ibu",maternalGrandmotherPob:"Tempat Lahir",maternalGrandmotherAge:"Usia"}},oW={header:{search:"",login:"  ",dashboard:"",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:" "},blog:{title:"Gitut ",subtitle:"           ,       "},share:{title:" :",copied:"  !",copyDetails:"  "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:" ",message:"               "}},cafeCard:{owner:":",address:":",checkingStatus:"      ...",online:"",offline:"",chooseThisCafe:"   ",viewDetails:"   ",startChat:"  ",distanceUnit:""},profilePage:{backToSearch:"   ",managedBy:":",checkingStatus:"      ...",online:"",offline:"",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"                  ,          ",searchPlaceholder:"    ...",searchLabel:"       ",noMatch:"       ",step2Title:"2.   ",continueToForm:"      ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:" ,           ",startChat:"  ",chatWith:"{name}    "},confirmationPage:{title:"    !",subtitle:"                     ",orderCodeLabel:"   :",note:":     ,               ",backToHome:"   "},formPage:{title:" ",submittingTo:"    :",online:"",offline:"",scanId:"  ",scanIdTitle:"     ",micPermissionErrorTitle:"  ",micPermissionErrorMessage:"                          ",stepCounter:" {current} / {total}",navigationHint:'        ""  ""   ',answerPlaceholder:"  ...   , {placeholder}",toggleMic:"  ",optionsHint:"  (    ):",previous:"",next:"",review:" ",formCompleteTitle:"  !",formCompleteMessage:"         ",profilePicture:" ",backToEdit:"   ",submitFinal:"  ",submitting:"   ...",errorTitle:" ",errorMessage:"             ",backToSearch:"    ",error:{noDocument:"    ",loadFailed:"     ",unexpected:"   ",notFound:"  ",wordTemplateFailed:"     "},fillDataFor:"   :",fillFieldsBelow:"         ",importantNote:" ",noteContent:"   ,            ",selectOption:"--  --",createDocument:" "},adPage:{preparing:"      ...",autoDisplay:"       :",downloadBlank:"   ",fillDownload:"/ ",downloadPdf:"PDF     ",downloadWord:"Word     ",adLabel:":",optionsTitle:" ",stepFormatTitle:" :   ",stepFormatDesc:"         ",preparingLink:"     ...",pleaseWait:"  ,      :",linkReady:"  !",downloadNow:"  ",goTo:"{name}  ",internalPage:" ",hadithTitle:"",prayerReminderTitle:" ",hadithIntro:"  (  )  :",prayerHadithContent:'"       ,           "',prayerHadithSource:",  , -, - ( ),  ,  , -  ",istighfarContent:'"    ()    ,           ,      ,             "'},findPage:{hero:{title1:"    ",subtitle1:"     ,      ,      ",title2:"     ",subtitle2:"           "},step1:{title:"1.   ",placeholder:"  , ...",voiceSearchTitle:" "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:":   ({count})",nextStepButtonDisabledTitle:"      ",emptyState:"       "},alert:{selectFillable:"        "}},blogPost:{publishedOn:":",by:":",relatedArticles:"       ",backToList:"    ",relatedPostsSidebar:" ",notFoundTitle:"404 -   ",notFoundMessage:" ,           ",backToBlog:"   "},searchForm:{searchByName:"  ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"    (PDF)",siteServices:" "},serviceDetailPage:{serviceNotFound:"  ",backToList:"    ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"    ...",noPreview:"        ",openInNewWindow:"      ",instructions:"    ",voiceExample:"   ():",requiredInfo:"  ( ):",findCafeTitle:"      ",searchNearest:"   ",locating:"      ...",resultsTitle:" ({count})",allCafesTitle:"        ({count})",noResults:"              "},login:{title:"  ",emailLabel:"",passwordLabel:"",forgotPassword:"  ?",loginButton:"",loggingInButton:"   ...",noAccount:"  ?",createAccount:"  ",error:{fillAllFields:"   ",verifyEmail:"          ",wrongCredentials:"    ",enterEmail:"     "},reset:{title:"  ",emailLabel:" ",sendButton:"  ",sendingButton:"   ...",successMessage:"          ",errorMessage:"     :  ",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:"",password:"",passwordPlaceholder:"   6 ",confirmPassword:"   ",cafeInfo:" ",cafeName:"   ",cafeNamePlaceholder:":   ",ownerName:"   ",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"",commune:"/ ",state:" / ",city:"",street:"",loading:"   ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:": , ",cityPlaceholder:": ,  ",streetPlaceholder:": 123  ",createButton:"   ",creatingButton:"   ...",haveAccount:"       ?",loginHere:"  ",errors:{allowedDomains:"     (, , )   ",fillAllFields:"   ",passwordsMismatch:"   ",passwordLength:"    6    ",signupFailed:"             :  "},success:{title:"   !",message:"        ",instruction:"               ",loginButton:"   "}},formFields:{profilePicture:" ",fullName:" ",firstName:" ",lastName:"",firstNameFr:"  (/)",lastNameFr:" (/)",birthdaydate:" ",birthdayplace:" ",address:"",phone:" ",email:"",jobTitle:"  ",nationalId:"  ",birthCertificateNumber:"   ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",maritalStatusOptions:{married:"",single:"",divorced:""},motherFirstName:"   ",motherLastName:"  ",motherDob:"   ",motherPob:"   ",fatherFirstName:"   ",fatherLastName:"  ",fatherDob:"   ",fatherPob:"   ",residenceWilaya:" /",residenceDaira:" ",residenceCommune:" ",residenceStreet:" /",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",gender:"",genderOptions:{male:"",female:""},height:" ()",eyeColor:"  ",distinguishingMarks:" ",employerName:"  ",employerAddress:"  ",educationLevel:"  ",educationLevelOptions:{primary:"",middle:"",high:" ",university:"",postgraduate:""},universityName:"  ",graduationDate:"  ",fieldOfStudy:"  ",higherInstituteName:"   ",vocationalTrainingCenterName:"  ",schoolName:"  ",highSchoolName:"   ",middleSchoolName:"   ",universityCity:"  ",passportNumber:" ",passportIssueDate:"    ",passportExpiryDate:"  ",passportIssuePlace:"    ",drivingLicenseNumber:"  ",drivingLicenseCategory:" ",drivingLicenseIssueDate:"    ",numberOfChildren:"  ",numberOfSons:"  ",numberOfDaughters:"  ",numberOfSiblings:"-  ",numberOfBrothers:"  ",numberOfSisters:"  ",spouseFullName:"   ",spouseDob:"   ",spouseJob:"  ",militaryStatus:" ",ToTheGovernorOftheStateOf:" ",submissionDaira:"  ",ToTheMayorOf:" ",employerWilaya:" ",employerDaira:" ",employerCommune:" ",criminalRecordNumber:"  ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:" ",vehicleRegistrationCardNumber:"  ",vehicleType:"  ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"  ",bankName:"  ",bankAccountNumber:"  ",bankAgencyName:"   ",bankAgencyCode:" ",bankNameTo:" ",bankWilayaTo:"  ",bankCountryTo:" ",bankStreetTo:"  ",bankNameFrom:" ",bankWilayaFrom:"  ",bankCountryFrom:" ",bankStreetFrom:"  ",amountReceived:" ",amountSent:"  ",employmentContractType:"   ",employmentStartDate:"    ",employeeIdNumber:" ",professionalGrade:" ",nationalIdIssueDate:"    ",nationalIdExpiryDate:"  ",drivingLicenseExpiryDate:"  ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"   ",propertyAddress:"  ",attendingPhysicianName:"   ",disabilityType:"  ",disabilityPercentage:"  (%)",deceasedParentFullName:" -  ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"   ",survivingParentFullName:" -  ",survivingParentJobTitle:" -  ",hospitalName:"  ",motherFullName:"   ",motherAge:"  ",fatherFullName:"   ",fatherAge:"  ",spousePob:"   ",spouseAge:"  ",sonName:"  ",sonPob:"   ",sonAge:"  ",daughterName:"  ",daughterPob:"   ",daughterAge:"  ",paternalGrandfatherName:" (  )",paternalGrandfatherPob:" ",paternalGrandfatherAge:"",paternalGrandmotherName:" (  )",paternalGrandmotherPob:" ",paternalGrandmotherAge:"",maternalGrandfatherName:" (  )",maternalGrandfatherPob:" ",maternalGrandfatherAge:"",maternalGrandmotherName:" (  )",maternalGrandmotherPob:" ",maternalGrandmotherAge:""}},aW={header:{search:"",login:"",dashboard:"",logout:"",allCountries:"",allCountriesSearch:" ()",selectCafeCountry:""},footer:{blog:"",services:"",rightsReserved:""},blog:{title:" Gitut",subtitle:"  "},share:{title:":",copied:"!",copyDetails:""},blogPostCard:{readMore:""},relatedServices:{title:""},relatedPosts:{title:""},relatedPages:{title:""},app:{error:{title:"",message:" "}},cafeCard:{owner:":",address:":",checkingStatus:"...",online:"",offline:"",chooseThisCafe:"",viewDetails:"",startChat:"",distanceUnit:"."},profilePage:{backToSearch:"",managedBy:":",checkingStatus:"...",online:"",offline:"",address:":",description:":",viewOnMap:"",step1Title:"1. ",step1Subtitle:"  ",searchPlaceholder:"...",searchLabel:"",noMatch:"",step2Title:"2. ",continueToForm:" ({count})",similarCafes:"",cafeNotFoundTitle:"",cafeNotFoundMessage:" ",startChat:"",chatWith:" {name}"},confirmationPage:{title:"!",subtitle:" ",orderCodeLabel:":",note:":  ",backToHome:""},formPage:{title:"",submittingTo:"",online:"",offline:"",scanId:"",scanIdTitle:"",micPermissionErrorTitle:"",micPermissionErrorMessage:" ",stepCounter:" {current}  {total}",navigationHint:' ""  "" ',answerPlaceholder:"...  {placeholder}",toggleMic:"/ ",optionsHint:" ():",previous:"",next:"",review:"",formCompleteTitle:"!",formCompleteMessage:"",profilePicture:"",backToEdit:"",submitFinal:"",submitting:"...",errorTitle:"",errorMessage:" ",backToSearch:"",error:{noDocument:"",loadFailed:"",unexpected:"",notFound:"",wordTemplateFailed:" Word "},fillDataFor:":",fillFieldsBelow:"",importantNote:"",noteContent:"  ",selectOption:"--  --",createDocument:""},adPage:{preparing:"...",autoDisplay:":",downloadBlank:"",fillDownload:"/",downloadPdf:" PDF",downloadWord:" Word",adLabel:":",optionsTitle:"",stepFormatTitle:": ",stepFormatDesc:"",preparingLink:"...",pleaseWait:" :",linkReady:"!",downloadNow:"",goTo:" {name}",internalPage:""},login:{title:"",emailLabel:"",passwordLabel:"",forgotPassword:"?",loginButton:"",loggingInButton:"...",noAccount:"?",createAccount:"",error:{fillAllFields:"",verifyEmail:"",wrongCredentials:"",enterEmail:""},reset:{title:"",emailLabel:"",sendButton:"",sendingButton:"...",successMessage:" ",errorMessage:" ",backToLogin:""}},signup:{title:"",accountInfo:"",email:"",password:"",passwordPlaceholder:" 6 ",confirmPassword:"",cafeInfo:"",cafeName:"",cafeNamePlaceholder:" ",ownerName:"",ownerNamePlaceholder:"  ",country:"",wilaya:"/",daira:"/",commune:"/",state:"",city:"",street:"",loading:"...",selectWilaya:"",selectDaira:"",selectCommune:"",statePlaceholder:" , ",cityPlaceholder:" , ",streetPlaceholder:" 123 ",createButton:"",creatingButton:"...",haveAccount:"?",loginHere:"",errors:{allowedDomains:" Gmail  Microsoft (Outlook, Hotmail, Live)",fillAllFields:"",passwordsMismatch:"",passwordLength:" 6 ",signupFailed:" "},success:{title:"!",message:"",instruction:"",loginButton:""}}},lW={header:{search:"Tm kim",login:"Ch tim ng nhp",dashboard:"Bng iu khin",logout:"ng xut",allCountries:"Tt c cc nc",allCountriesSearch:"Tt c cc nc (Tm kim ton cu)",selectCafeCountry:"Chn quc gia qun"},footer:{blog:"Blog",services:"Danh sch dch v",rightsReserved:" ng k bn quyn."},blog:{title:"Blog Gitut",subtitle:"Theo di tin tc mi nht, cp nht v mo hu ch cho ch tim v ngi tm kim dch v ti liu."},share:{title:"Chia s:",copied:" sao chp!",copyDetails:"Sao chp chi tit"},blogPostCard:{readMore:"c thm"},relatedServices:{title:"Dch v lin quan"},relatedPosts:{title:"Bi vit lin quan"},relatedPages:{title:"Cc trang khc"},app:{error:{title:"Li ng dng",message:"Khng th ti d liu thit yu. C th c vn  kt ni vi my ch."}},cafeCard:{owner:"Ch s hu:",address:"a ch:",checkingStatus:"ang kim tra trng thi...",online:"Trc tuyn",offline:"Ngoi tuyn",chooseThisCafe:"Chn qun ny",viewDetails:"Xem chi tit & dch v",startChat:"Bt u tr chuyn",distanceUnit:"km"},profilePage:{backToSearch:"Quay li tm kim",managedBy:"Qun l bi:",checkingStatus:"ang kim tra trng thi...",online:"Trc tuyn",offline:"Ngoi tuyn",address:"a ch:",description:"M t:",viewOnMap:"Xem trn bn ",step1Title:"1. Chn ti liu cn thit",step1Subtitle:"Chn ti liu bn cn. Bn c th tm kim ti liu v thm vo danh sch, hoc chn trc tip t danh sch bn di.",searchPlaceholder:"Tm kim ti liu  thm...",searchLabel:"Tm kim ti liu  thm vo danh sch ca bn",noMatch:"Khng c ti liu no khp vi tm kim ca bn.",step2Title:"2. Gi yu cu ca bn",continueToForm:"Tip tc in biu mu ({count})",similarCafes:"Qun tng t",cafeNotFoundTitle:"Khng tm thy qun",cafeNotFoundMessage:"Xin li, chng ti khng th tm thy trang bn ang tm kim.",startChat:"Bt u tr chuyn",chatWith:"Tr chuyn vi {name}"},confirmationPage:{title:"Yu cu ca bn  c gi thnh cng!",subtitle:"Thng tin ca bn  c gi n qun. Vui lng n  v cung cp m sau  nhn ti liu ca bn.",orderCodeLabel:"M n hng ca bn l:",note:"Lu : Gi m ny, bn s cn n  xc nhn n hng vi ch qun.",backToHome:"Quay li trang ch"},formPage:{title:"in vo biu mu",submittingTo:"Bn ang gi yu cu n",online:"Trc tuyn",offline:"Ngoi tuyn",scanId:"Qut ID",scanIdTitle:"Qut th cn cc bng camera",micPermissionErrorTitle:"Quyn truy cp micr b t chi",micPermissionErrorMessage:"Vui lng bt quyn truy cp micr trong ci t trnh duyt  s dng tnh nng nhp liu bng ging ni. Bn vn c th in biu mu th cng.",stepCounter:"Bc {current} trn {total}",navigationHint:'Bn c th ni "Tip theo" hoc "Trc "  di chuyn gia cc trng.',answerPlaceholder:"Tr li ti y... v d: {placeholder}",toggleMic:"Bt/Tt Micr",optionsHint:"Cc ty chn c sn (ni s  chn):",previous:"Trc ",next:"Tip theo",review:"Xem li",formCompleteTitle:"Biu mu hon tt!",formCompleteMessage:"Vui lng xem li d liu cn thn trc khi gi ln cui.",profilePicture:"nh h s",backToEdit:"Quay li chnh sa",submitFinal:"Gi yu cu cui cng",submitting:"ang gi...",errorTitle:"Li yu cu",errorMessage:"Cha chn ti liu hoc dch v no. Vui lng quay li v chn ti liu trc.",backToSearch:"Quay li trang tm kim",error:{noDocument:"Khng c ti liu no c ch nh.",loadFailed:"Khng th ti d liu ti liu.",unexpected:" xy ra li khng mong mun.",notFound:"Khng tm thy ti liu",wordTemplateFailed:"Khng th ti mu Word."},fillDataFor:"in d liu cho:",fillFieldsBelow:"in vo cc trng bn di  to ti liu ca bn.",importantNote:"Lu  quan trng",noteContent:"Cc nt  xem trc, ti xung hoc in ti liu ny nm  cui trang ny.",selectOption:"-- Chn --",createDocument:"To ti liu"},adPage:{preparing:"ang chun b ti liu ca bn...",autoDisplay:"Ti liu ca bn s c hin th t ng trong:",downloadBlank:"Ti xung bn sao trng",fillDownload:"in/Ti xung",downloadPdf:"Ti xung di dng PDF",downloadWord:"Ti xung di dng Word",adLabel:"Qung co:",optionsTitle:"Ty chn ti liu",stepFormatTitle:"Bc cui: Chn nh dng ti xung",stepFormatDesc:"Chn nh dng bn mun ti xung ti liu.",preparingLink:"ang chun b lin kt...",pleaseWait:"Vui lng i, lin kt s sn sng trong:",linkReady:"Lin kt  sn sng!",downloadNow:"Ti xung ngay",goTo:"i n {name}",internalPage:"Trang ni b"},login:{title:"ng nhp Ch tim",emailLabel:"Email",passwordLabel:"Mt khu",forgotPassword:"Qun mt khu?",loginButton:"ng nhp",loggingInButton:"ang ng nhp...",noAccount:"Cha c ti khon?",createAccount:"To ti khon mi",error:{fillAllFields:"Vui lng in tt c cc trng.",verifyEmail:"Vui lng kim tra email  kch hot ti khon ca bn.",wrongCredentials:"Email hoc mt khu khng chnh xc.",enterEmail:"Vui lng nhp a ch email ca bn."},reset:{title:"t li mt khu",emailLabel:"Email  ng k",sendButton:"Gi lin kt t li",sendingButton:"ang gi...",successMessage:"Lin kt t li mt khu  c gi. Vui lng kim tra hp th n ca bn.",errorMessage:"Khng th gi email. Vui lng th li.",backToLogin:"Quay li ng nhp"}},signup:{title:"To ti khon mi",accountInfo:"Thng tin ti khon",email:"Email",password:"Mt khu",passwordPlaceholder:"t nht 6 k t",confirmPassword:"Xc nhn mt khu",cafeInfo:"Thng tin qun",cafeName:"Tn kinh doanh ca qun",cafeNamePlaceholder:"v d: Gc Th Gin",ownerName:"Tn y  ca ch s hu",ownerNamePlaceholder:"v d: Nguyn Vn A",country:"Quc gia",wilaya:"Tnh/Thnh ph",daira:"Qun/Huyn",commune:"Phng/X",state:"Tnh / Thnh ph",city:"Thnh ph",street:"a ch ng",loading:"ang ti...",selectWilaya:"Chn Tnh",selectDaira:"Chn Qun",selectCommune:"Chn Phng",statePlaceholder:"v d: H Ni, TP.HCM",cityPlaceholder:"v d: Hon Kim, Qun 1",streetPlaceholder:"v d: 123 ng L Li",createButton:"To ti khon & Qun",creatingButton:"ang to...",haveAccount:" c ti khon?",loginHere:"ng nhp ti y",errors:{allowedDomains:"Vui lng s dng email Gmail hoc Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Vui lng in tt c cc trng.",passwordsMismatch:"Mt khu khng khp.",passwordLength:"Mt khu phi c t nht 6 k t.",signupFailed:"Email ny  c s dng hoc xy ra li ng k. Vui lng th li."},success:{title:"To ti khon thnh cng!",message:"Chng ti  gi lin kt xc minh n email ca bn",instruction:"Vui lng nhp vo lin kt  kch hot ti khon trc khi ng nhp.",loginButton:"i n trang ng nhp"}}},cW={header:{search:"",login:"  ",dashboard:"",logout:"",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"    "},footer:{blog:"",services:" ",rightsReserved:"   ."},blog:{title:" Gitut",subtitle:"                ."},share:{title:":",copied:" !",copyDetails:" "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:" ",message:"     .          ."}},cafeCard:{owner:":",address:":",checkingStatus:"   ...",online:"",offline:"",chooseThisCafe:"  ",viewDetails:"   ",startChat:" ",distanceUnit:""},profilePage:{backToSearch:"  ",managedBy:" :",checkingStatus:"   ...",online:"",offline:"",address:":",description:":",viewOnMap:"  ",step1Title:".      ",step1Subtitle:"      .                 .",searchPlaceholder:"   ...",searchLabel:"      ",noMatch:"      .",step2Title:".     ",continueToForm:"     ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:"          .",startChat:" ",chatWith:"  {name}"},confirmationPage:{title:"     !",subtitle:"      .              .",orderCodeLabel:"  :",note:":                 .",backToHome:"  "},formPage:{title:"  ",submittingTo:"     :",online:"",offline:"",scanId:"  ",scanIdTitle:"    ",micPermissionErrorTitle:"    ",micPermissionErrorMessage:"                .          .",stepCounter:" {current}  {total}",navigationHint:'  ""  ""     .',answerPlaceholder:"  ...  {placeholder}",toggleMic:"  ",optionsHint:"  (    ):",previous:"",next:"",review:"",formCompleteTitle:"  !",formCompleteMessage:"          .",profilePicture:" ",backToEdit:"  ",submitFinal:"  ",submitting:"  ...",errorTitle:" ",errorMessage:"      .        .",backToSearch:"   ",error:{noDocument:"   .",loadFailed:"    .",unexpected:"     .",notFound:"  ",wordTemplateFailed:"  Word  ."},fillDataFor:"   :",fillFieldsBelow:"        .",importantNote:" ",noteContent:"             .",selectOption:"--   --",createDocument:" "},adPage:{preparing:"    ...",autoDisplay:"        :",downloadBlank:"  ",fillDownload:" /",downloadPdf:"   PDF",downloadWord:"   Word",adLabel:":",optionsTitle:" ",stepFormatTitle:" :   ",stepFormatDesc:"          .",preparingLink:"   ...",pleaseWait:"      :",linkReady:"  !",downloadNow:" ",goTo:"  {name}",internalPage:" ",hadithTitle:"",prayerReminderTitle:" ",hadithIntro:" () :",prayerHadithContent:'"                ."',prayerHadithSource:"      ",istighfarContent:'"                           ."'},login:{title:"  ",emailLabel:"",passwordLabel:" ",forgotPassword:"    ",loginButton:"",loggingInButton:"  ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"     .",verifyEmail:"        .",wrongCredentials:"     .",enterEmail:"      ."},reset:{title:"  ",emailLabel:"  ",sendButton:"  ",sendingButton:"  ...",successMessage:"     .       .",errorMessage:"   .    .",backToLogin:"  "}},signup:{title:"  ",accountInfo:" ",email:"",password:" ",passwordPlaceholder:"  ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:"/",daira:"/",commune:"/",state:"",city:"",street:" ",loading:"  ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:":  ",createButton:"   ",creatingButton:"  ...",haveAccount:"  ",loginHere:"  ",errors:{allowedDomains:"   Gmail  Microsoft (Outlook, Hotmail, Live)  .",fillAllFields:"     .",passwordsMismatch:"   .",passwordLength:"      .",signupFailed:"            .    ."},success:{title:"    !",message:"        ",instruction:"             .",loginButton:"   "}}},uW={header:{search:"Pesquisar",login:"Login do Proprietrio",dashboard:"Painel",logout:"Sair",allCountries:"Todos os Pases",allCountriesSearch:"Todos os Pases (Pesquisa Global)",selectCafeCountry:"Selecione o Pas do Caf"},footer:{blog:"Blog",services:"Lista de Servios",rightsReserved:"Todos os direitos reservados."},blog:{title:"Blog Gitut",subtitle:"Siga nossas ltimas notcias, atualizaes e dicas teis para proprietrios de cafs e buscadores de servios de documentos."},share:{title:"Compartilhar:",copied:"Copiado!",copyDetails:"Copiar detalhes"},blogPostCard:{readMore:"Ler mais"},relatedServices:{title:"Servios Relacionados"},relatedPosts:{title:"Posts Relacionados"},relatedPages:{title:"Outras Pginas"},app:{error:{title:"Erro de Aplicativo",message:"No foi possvel carregar dados essenciais. Pode haver um problema de conexo com o servidor."}},cafeCard:{owner:"Proprietrio:",address:"Endereo:",checkingStatus:"Verificando status...",online:"Online",offline:"Offline",chooseThisCafe:"Escolher este Caf",viewDetails:"Ver Detalhes e Servios",startChat:"Iniciar Chat",distanceUnit:"km"},profilePage:{backToSearch:"Voltar para Pesquisa",managedBy:"Gerenciado por:",checkingStatus:"Verificando status...",online:"Online",offline:"Offline",address:"Endereo:",description:"Descrio:",viewOnMap:"Ver no Mapa",step1Title:"1. Selecionar Documentos Necessrios",step1Subtitle:"Selecione os documentos que voc precisa. Voc pode pesquisar um documento e adicion-lo  lista, ou escolher diretamente da lista abaixo.",searchPlaceholder:"Pesquisar documento para adicionar...",searchLabel:"Pesquise um documento para adicionar  sua lista",noMatch:"Nenhum documento corresponde  sua pesquisa.",step2Title:"2. Enviar Sua Solicitao",continueToForm:"Continuar para Preencher Formulrio ({count})",similarCafes:"Cafs Semelhantes",cafeNotFoundTitle:"Caf No Encontrado",cafeNotFoundMessage:"Desculpe, no conseguimos encontrar a pgina que voc est procurando.",startChat:"Iniciar Chat",chatWith:"Conversar com {name}"},confirmationPage:{title:"Sua Solicitao Foi Enviada com Sucesso!",subtitle:"Suas informaes foram enviadas para o caf. Por favor, v at l e fornea o seguinte cdigo para receber seus documentos.",orderCodeLabel:"Seu cdigo de pedido :",note:"Nota: Guarde este cdigo, voc precisar dele para confirmar seu pedido com o proprietrio do caf.",backToHome:"Voltar para a Pgina Inicial"},formPage:{title:"Preencher o Formulrio",submittingTo:"Voc est enviando uma solicitao para",online:"Online",offline:"Offline",scanId:"Escanear ID",scanIdTitle:"Escanear carto de identidade com cmera",micPermissionErrorTitle:"Acesso ao Microfone Negado",micPermissionErrorMessage:"Por favor, ative o acesso ao microfone nas configuraes do seu navegador para usar o recurso de entrada de voz. Voc ainda pode preencher o formulrio manualmente.",stepCounter:"Passo {current} de {total}",navigationHint:'Voc pode dizer "Prximo" ou "Anterior" para navegar entre os campos.',answerPlaceholder:"Responda aqui... ex., {placeholder}",toggleMic:"Alternar Microfone",optionsHint:"Opes disponveis (diga o nmero para selecionar):",previous:"Anterior",next:"Prximo",review:"Revisar",formCompleteTitle:"Formulrio Completo!",formCompleteMessage:"Por favor, revise os dados cuidadosamente antes do envio final.",profilePicture:"Foto de Perfil",backToEdit:"Voltar para Editar",submitFinal:"Enviar Solicitao Final",submitting:"Enviando...",errorTitle:"Erro na Solicitao",errorMessage:"Nenhum documento ou servio foi selecionado. Por favor, volte e selecione documentos primeiro.",backToSearch:"Voltar para Pgina de Pesquisa",error:{noDocument:"Nenhum documento especificado.",loadFailed:"Falha ao carregar dados do documento.",unexpected:"Ocorreu um erro inesperado.",notFound:"Documento No Encontrado",wordTemplateFailed:"Falha ao carregar modelo do Word."},fillDataFor:"Preencher Dados Para:",fillFieldsBelow:"Preencha os campos abaixo para criar seu documento.",importantNote:"Nota Importante",noteContent:"Botes para visualizar, baixar ou preencher este documento esto na parte inferior desta pgina.",selectOption:"-- Selecionar --",createDocument:"Criar Documento"},adPage:{preparing:"Preparando seu documento...",autoDisplay:"Seu documento ser exibido automaticamente em:",downloadBlank:"Baixar Cpia em Branco",fillDownload:"Preencher/Baixar",downloadPdf:"Baixar como PDF",downloadWord:"Baixar como Word",adLabel:"Anncio:",optionsTitle:"Opes do Documento",stepFormatTitle:"ltimo Passo: Escolha o Formato de Download",stepFormatDesc:"Escolha o formato em que deseja baixar o documento.",preparingLink:"Preparando link...",pleaseWait:"Por favor aguarde, o link estar pronto em:",linkReady:"Link Pronto!",downloadNow:"Baixar Agora",goTo:"Ir para {name}",internalPage:"Pgina Interna"},login:{title:"Login do Proprietrio do Caf",emailLabel:"Email",passwordLabel:"Senha",forgotPassword:"Esqueceu a senha?",loginButton:"Entrar",loggingInButton:"Entrando...",noAccount:"No tem uma conta?",createAccount:"Criar uma nova conta",error:{fillAllFields:"Por favor, preencha todos os campos.",verifyEmail:"Por favor, verifique seu email para ativar sua conta.",wrongCredentials:"O email ou a senha esto incorretos.",enterEmail:"Por favor, insira seu endereo de email."},reset:{title:"Redefinir Senha",emailLabel:"Email Registrado",sendButton:"Enviar Link de Redefinio",sendingButton:"Enviando...",successMessage:"Um link de redefinio de senha foi enviado. Por favor, verifique sua caixa de entrada.",errorMessage:"Falha ao enviar email. Por favor, tente novamente.",backToLogin:"Voltar ao Login"}},signup:{title:"Criar uma Nova Conta",accountInfo:"Informaes da Conta",email:"Email",password:"Senha",passwordPlaceholder:"Pelo menos 6 caracteres",confirmPassword:"Confirmar Senha",cafeInfo:"Informaes do Caf",cafeName:"Nome Comercial do Caf",cafeNamePlaceholder:"ex., Cantinho Aconchegante",ownerName:"Nome Completo do Proprietrio",ownerNamePlaceholder:"ex., Joo Silva",country:"Pas",wilaya:"Estado/Provncia",daira:"Distrito/Regio",commune:"Municpio/Cidade",state:"Estado",city:"Cidade",street:"Endereo",loading:"Carregando...",selectWilaya:"Selecione o Estado",selectDaira:"Selecione o Distrito",selectCommune:"Selecione a Cidade",statePlaceholder:"ex., So Paulo, Rio de Janeiro",cityPlaceholder:"ex., Campinas, Niteri",streetPlaceholder:"ex., Av. Paulista 123",createButton:"Criar Conta e Caf",creatingButton:"Criando...",haveAccount:"J tem uma conta?",loginHere:"Entre aqui",errors:{allowedDomains:"Por favor, use um email Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Por favor, preencha todos os campos.",passwordsMismatch:"As senhas no coincidem.",passwordLength:"A senha deve ter pelo menos 6 caracteres.",signupFailed:"Este email j est em uso ou ocorreu um erro de registro. Por favor, tente novamente."},success:{title:"Conta Criada com Sucesso!",message:"Enviamos um link de verificao para o seu email",instruction:"Por favor, clique no link para ativar sua conta antes de fazer login.",loginButton:"Ir para a Pgina de Login"}}},dW={header:{search:"",login:"  ",dashboard:"",logout:"",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"   "},footer:{blog:"",services:" ",rightsReserved:" "},blog:{title:"Gitut ",subtitle:"         ,      "},share:{title:" :",copied:"  !",copyDetails:"  "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:" ",message:"          "}},cafeCard:{owner:":",address:":",checkingStatus:"   ...",online:"",offline:"",chooseThisCafe:"   ",viewDetails:"   ",startChat:"  ",distanceUnit:""},profilePage:{backToSearch:"  ",managedBy:":",checkingStatus:"   ...",online:"",offline:"",address:":",description:":",viewOnMap:" ",step1Title:".    ",step1Subtitle:"             ,        ",searchPlaceholder:"     ...",searchLabel:"        ",noMatch:"      ",step2Title:".   ",continueToForm:"    ({count})",similarCafes:" ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:",        ",startChat:"  ",chatWith:"{name}    "},confirmationPage:{title:"    !",subtitle:"                ",orderCodeLabel:"   :",note:":   ,          ",backToHome:"  "},formPage:{title:"  ",submittingTo:"  ",online:"",offline:"",scanId:" ",scanIdTitle:"     ",micPermissionErrorTitle:"  ",micPermissionErrorMessage:"                    ",stepCounter:" {total}  {current}",navigationHint:'     ""  ""  ',answerPlaceholder:"  ... , {placeholder}",toggleMic:"  ",optionsHint:"  (   ):",previous:"",next:"",review:"",formCompleteTitle:" !",formCompleteMessage:"         ",profilePicture:" ",backToEdit:"  ",submitFinal:"   ",submitting:"  ...",errorTitle:" ",errorMessage:"               ",backToSearch:"   ",error:{noDocument:"    ",loadFailed:"     ",unexpected:"   ",notFound:"  ",wordTemplateFailed:"     "},fillDataFor:"    :",fillFieldsBelow:"       ",importantNote:" ",noteContent:"  ,         ",selectOption:"--   --",createDocument:"  "},adPage:{preparing:"    ...",autoDisplay:"    :",downloadBlank:"   ",fillDownload:"/",downloadPdf:"PDF   ",downloadWord:"Word   ",adLabel:":",optionsTitle:" ",stepFormatTitle:" :    ",stepFormatDesc:"         ",preparingLink:"   ...",pleaseWait:"   ,   :",linkReady:" !",downloadNow:"  ",goTo:"{name}- ",internalPage:" "},login:{title:"  ",emailLabel:"",passwordLabel:"",forgotPassword:"  ?",loginButton:"",loggingInButton:" ...",noAccount:" ?",createAccount:"   ",error:{fillAllFields:"     ",verifyEmail:"         ",wrongCredentials:"   ",enterEmail:"     "},reset:{title:" ",emailLabel:" ",sendButton:"  ",sendingButton:" ...",successMessage:"           ",errorMessage:"        ",backToLogin:"  "}},signup:{title:"   ",accountInfo:" ",email:"",password:"",passwordPlaceholder:"  ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:",  ",ownerName:"  ",ownerNamePlaceholder:",  ",country:"",wilaya:"/",daira:"/",commune:"/",state:"",city:"",street:" ",loading:" ...",selectWilaya:"  ",selectDaira:"  ",selectCommune:"  ",statePlaceholder:", , ",cityPlaceholder:", , ",streetPlaceholder:",   ",createButton:"    ",creatingButton:" ...",haveAccount:"   ?",loginHere:"  ",errors:{allowedDomains:"   Gmail  Microsoft  (Outlook, Hotmail, Live)  ",fillAllFields:"     ",passwordsMismatch:"  ",passwordLength:"     ",signupFailed:"               "},success:{title:"   !",message:"      ",instruction:"           ",loginButton:"  "}}},hW={header:{search:" ",login:"   ",dashboard:" ",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"    "},footer:{blog:"",services:"  ",rightsReserved:"   "},blog:{title:"Gitut ",subtitle:"                      "},share:{title:" :",copied:"  !",copyDetails:"  "},blogPostCard:{readMore:" "},relatedServices:{title:" "},relatedPosts:{title:" "},relatedPages:{title:" "},app:{error:{title:"  ",message:"              "}},cafeCard:{owner:":",address:":",checkingStatus:"     ...",online:" ",offline:" ",chooseThisCafe:"    ",viewDetails:"   ",startChat:"  ",distanceUnit:""},profilePage:{backToSearch:"   ",managedBy:" :",checkingStatus:"     ...",online:" ",offline:" ",address:":",description:":",viewOnMap:"  ",step1Title:"1.    ",step1Subtitle:"                             ",searchPlaceholder:"      ...",searchLabel:"         ",noMatch:"        ",step2Title:"2.   ",continueToForm:"      ({count})",similarCafes:"  ",cafeNotFoundTitle:"  ",cafeNotFoundMessage:"             ",startChat:"  ",chatWith:"{name}    "},confirmationPage:{title:"         !",subtitle:"                        ",orderCodeLabel:"    :",note:":                      ",backToHome:"    "},formPage:{title:"  ",submittingTo:"    ",online:" ",offline:" ",scanId:"   ",scanIdTitle:"     ",micPermissionErrorTitle:"       ",micPermissionErrorMessage:"                                ",stepCounter:" {current}  {total}",navigationHint:'        ""  ""   ',answerPlaceholder:"  ...  {placeholder}",toggleMic:"  ",optionsHint:"  (     ):",previous:"",next:"",review:" ",formCompleteTitle:" !",formCompleteMessage:"           ",profilePicture:" ",backToEdit:"   ",submitFinal:"   ",submitting:"    ...",errorTitle:"  ",errorMessage:"                ",backToSearch:"     ",error:{noDocument:"    ",loadFailed:"      ",unexpected:"     ",notFound:"  ",wordTemplateFailed:"     "},fillDataFor:"   :",fillFieldsBelow:"           ",importantNote:" ",noteContent:"                ",selectOption:"--   --",createDocument:" "},adPage:{preparing:"       ...",autoDisplay:"        :",downloadBlank:"    ",fillDownload:" /  ",downloadPdf:"PDF      ",downloadWord:"Word      ",adLabel:":",optionsTitle:"  ",stepFormatTitle:" :      ",stepFormatDesc:"            ",preparingLink:"     ...",pleaseWait:"        :",linkReady:"  !",downloadNow:"   ",goTo:"{name}  ",internalPage:" "},login:{title:"   ",emailLabel:" ",passwordLabel:" ",forgotPassword:"   ",loginButton:" ",loggingInButton:"    ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"     ",verifyEmail:"             ",wrongCredentials:"      ",enterEmail:"       "},reset:{title:"    ",emailLabel:"  ",sendButton:"   ",sendingButton:"   ...",successMessage:"                 ",errorMessage:"         ",backToLogin:"    "}},signup:{title:"  ",accountInfo:"  ",email:" ",password:" ",passwordPlaceholder:"   6 ",confirmPassword:"    ",cafeInfo:"  ",cafeName:"   ",cafeNamePlaceholder:"   ",ownerName:"   ",ownerNamePlaceholder:"  ",country:"",wilaya:"/",daira:"",commune:"/",state:"",city:"",street:"  ",loading:"   ...",selectWilaya:"  ",selectDaira:"  ",selectCommune:"  ",statePlaceholder:"  ",cityPlaceholder:"  ",streetPlaceholder:" 123  ",createButton:"   ",creatingButton:"   ...",haveAccount:"   ",loginHere:"   ",errors:{allowedDomains:"  Gmail  Microsoft   (Outlook, Hotmail, Live)  ",fillAllFields:"     ",passwordsMismatch:"    ",passwordLength:"     6    ",signupFailed:"                   "},success:{title:"    !",message:"           ",instruction:"                 ",loginButton:"    "}}},fW=n=>{switch(n){case"us":case"ca":case"gb":case"ng":case"ph":case"za":case"tz":case"my":return"en";case"fr":case"cd":return"fr";case"de":return"de";case"es":case"mx":case"co":case"ar":return"es";case"tr":return"tr";case"jp":return"ja";case"id":return"id";case"in":return"hi";case"th":return"th";case"vn":return"vi";case"ir":return"fa";case"br":return"pt";case"pt":return"pt";case"bd":return"bn";case"pk":return"ur";default:return"ar"}},mW=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"tr",name:"Trke"},{code:"id",name:"Bahasa Indonesia"},{code:"hi",name:""},{code:"th",name:""},{code:"vi",name:"Ting Vit"},{code:"fa",name:""},{code:"bn",name:""},{code:"ur",name:""}],qc={ar:[{code:"dz",name:"",flag:"",phoneCode:"+213"},{code:"sa",name:"",flag:"",phoneCode:"+966"},{code:"ae",name:"",flag:"",phoneCode:"+971"},{code:"eg",name:"",flag:"",phoneCode:"+20"},{code:"ma",name:"",flag:"",phoneCode:"+212"},{code:"tn",name:"",flag:"",phoneCode:"+216"},{code:"iq",name:"",flag:"",phoneCode:"+964"},{code:"jo",name:"",flag:"",phoneCode:"+962"},{code:"kw",name:"",flag:"",phoneCode:"+965"},{code:"lb",name:"",flag:"",phoneCode:"+961"},{code:"ly",name:"",flag:"",phoneCode:"+218"},{code:"om",name:"",flag:"",phoneCode:"+968"},{code:"qa",name:"",flag:"",phoneCode:"+974"},{code:"sd",name:"",flag:"",phoneCode:"+249"},{code:"sy",name:"",flag:"",phoneCode:"+963"},{code:"ye",name:"",flag:"",phoneCode:"+967"},{code:"bh",name:"",flag:"",phoneCode:"+973"},{code:"km",name:" ",flag:"",phoneCode:"+269"},{code:"dj",name:"",flag:"",phoneCode:"+253"},{code:"mr",name:"",flag:"",phoneCode:"+222"},{code:"ps",name:"",flag:"",phoneCode:"+970"},{code:"so",name:"",flag:"",phoneCode:"+252"}],en:[{code:"dz",name:"Algeria",flag:"",phoneCode:"+213"},{code:"sa",name:"Saudi Arabia",flag:"",phoneCode:"+966"},{code:"ae",name:"UAE",flag:"",phoneCode:"+971"},{code:"eg",name:"Egypt",flag:"",phoneCode:"+20"},{code:"ma",name:"Morocco",flag:"",phoneCode:"+212"},{code:"tn",name:"Tunisia",flag:"",phoneCode:"+216"},{code:"iq",name:"Iraq",flag:"",phoneCode:"+964"},{code:"jo",name:"Jordan",flag:"",phoneCode:"+962"},{code:"kw",name:"Kuwait",flag:"",phoneCode:"+965"},{code:"lb",name:"Lebanon",flag:"",phoneCode:"+961"},{code:"ly",name:"Libya",flag:"",phoneCode:"+218"},{code:"om",name:"Oman",flag:"",phoneCode:"+968"},{code:"qa",name:"Qatar",flag:"",phoneCode:"+974"},{code:"sd",name:"Sudan",flag:"",phoneCode:"+249"},{code:"sy",name:"Syria",flag:"",phoneCode:"+963"},{code:"ye",name:"Yemen",flag:"",phoneCode:"+967"},{code:"bh",name:"Bahrain",flag:"",phoneCode:"+973"},{code:"km",name:"Comoros",flag:"",phoneCode:"+269"},{code:"dj",name:"Djibouti",flag:"",phoneCode:"+253"},{code:"mr",name:"Mauritania",flag:"",phoneCode:"+222"},{code:"ps",name:"Palestine",flag:"",phoneCode:"+970"},{code:"so",name:"Somalia",flag:"",phoneCode:"+252"},{code:"us",name:"United States",flag:"",phoneCode:"+1"},{code:"ca",name:"Canada",flag:"",phoneCode:"+1"},{code:"br",name:"Brazil",flag:"",phoneCode:"+55"},{code:"mx",name:"Mexico",flag:"",phoneCode:"+52"},{code:"co",name:"Colombia",flag:"",phoneCode:"+57"},{code:"ar",name:"Argentina",flag:"",phoneCode:"+54"},{code:"gb",name:"United Kingdom",flag:"",phoneCode:"+44"},{code:"fr",name:"France",flag:"",phoneCode:"+33"},{code:"de",name:"Germany",flag:"",phoneCode:"+49"},{code:"es",name:"Spain",flag:"",phoneCode:"+34"},{code:"pt",name:"Portugal",flag:"",phoneCode:"+351"},{code:"tr",name:"Turkey",flag:"",phoneCode:"+90"},{code:"jp",name:"Japan",flag:"",phoneCode:"+81"},{code:"ph",name:"Philippines",flag:"",phoneCode:"+63"},{code:"my",name:"Malaysia",flag:"",phoneCode:"+60"},{code:"vn",name:"Vietnam",flag:"",phoneCode:"+84"},{code:"id",name:"Indonesia",flag:"",phoneCode:"+62"},{code:"th",name:"Thailand",flag:"",phoneCode:"+66"},{code:"in",name:"India",flag:"",phoneCode:"+91"},{code:"ir",name:"Iran",flag:"",phoneCode:"+98"},{code:"bd",name:"Bangladesh",flag:"",phoneCode:"+880"},{code:"pk",name:"Pakistan",flag:"",phoneCode:"+92"},{code:"ng",name:"Nigeria",flag:"",phoneCode:"+234"},{code:"za",name:"South Africa",flag:"",phoneCode:"+27"},{code:"tz",name:"Tanzania",flag:"",phoneCode:"+255"},{code:"cd",name:"Congo (DRC)",flag:"",phoneCode:"+243"}],fr:[{code:"fr",name:"France",flag:"",phoneCode:"+33"},{code:"cd",name:"Congo (DRC)",flag:"",phoneCode:"+243"}],de:[{code:"de",name:"Germany",flag:"",phoneCode:"+49"}],es:[{code:"es",name:"Spain",flag:"",phoneCode:"+34"},{code:"mx",name:"Mexico",flag:"",phoneCode:"+52"},{code:"co",name:"Colombia",flag:"",phoneCode:"+57"},{code:"ar",name:"Argentina",flag:"",phoneCode:"+54"}],tr:[{code:"tr",name:"Turkey",flag:"",phoneCode:"+90"}],ja:[{code:"jp",name:"Japan",flag:"",phoneCode:"+81"}],id:[{code:"id",name:"Indonesia",flag:"",phoneCode:"+62"}],hi:[{code:"in",name:"India",flag:"",phoneCode:"+91"}],th:[{code:"th",name:"Thailand",flag:"",phoneCode:"+66"}],vi:[{code:"vn",name:"Vietnam",flag:"",phoneCode:"+84"}],fa:[{code:"ir",name:"Iran",flag:"",phoneCode:"+98"}],pt:[{code:"br",name:"Brazil",flag:"",phoneCode:"+55"},{code:"pt",name:"Portugal",flag:"",phoneCode:"+351"}],bn:[{code:"bd",name:"Bangladesh",flag:"",phoneCode:"+880"}],ur:[{code:"pk",name:"Pakistan",flag:"",phoneCode:"+92"}]},Sg={ar:Xj,en:Zj,fr:eW,de:tW,es:nW,tr:rW,ja:iW,id:sW,hi:oW,th:aW,vi:lW,fa:cW,pt:uW,bn:dW,ur:hW},uS=(n,e)=>e.split(".").reduce((t,r)=>t&&t[r],n),Lq=n=>e=>{const t=Sg[n],r=Sg.en;return uS(t,e)||uS(r,e)||e},Oq=[{code:"ar-SA",name:" ()"},{code:"ar-DZ",name:" ()"},{code:"ar-EG",name:" ()"},{code:"ar-AE",name:" ()"},{code:"ar-MA",name:" ()"},{code:"ar-TN",name:" ()"},{code:"ar-IQ",name:" ()"},{code:"ar-JO",name:" ()"},{code:"ar-KW",name:" ()"},{code:"ar-LB",name:" ()"},{code:"ar-QA",name:" ()"},{code:"ar-BH",name:" ()"},{code:"ar-OM",name:" ()"},{code:"en-US",name:"English (United States)"},{code:"en-GB",name:"English (United Kingdom)"},{code:"en-IN",name:"English (India)"},{code:"en-AU",name:"English (Australia)"},{code:"en-CA",name:"English (Canada)"},{code:"fr-FR",name:"Franais (France)"},{code:"fr-CA",name:"Franais (Canada)"},{code:"es-ES",name:"Espaol (Espaa)"},{code:"es-MX",name:"Espaol (Mxico)"},{code:"es-AR",name:"Espaol (Argentina)"},{code:"es-CO",name:"Espaol (Colombia)"},{code:"de-DE",name:"Deutsch (Deutschland)"},{code:"tr-TR",name:"Trke (Trkiye)"},{code:"ja-JP",name:" ()"},{code:"id-ID",name:"Bahasa Indonesia (Indonesia)"},{code:"hi-IN",name:" ()"},{code:"th-TH",name:" ()"},{code:"vi-VN",name:"Ting Vit (Vit Nam)"},{code:"fa-IR",name:" ()"},{code:"pt-BR",name:"Portugus (Brasil)"},{code:"pt-PT",name:"Portugus (Portugal)"},{code:"bn-BD",name:" ()"},{code:"ur-PK",name:" ()"}],pW=n=>{switch(n){case"dz":return"ar-DZ";case"sa":return"ar-SA";case"ae":return"ar-AE";case"eg":return"ar-EG";case"ma":return"ar-MA";case"tn":return"ar-TN";case"iq":return"ar-IQ";case"jo":return"ar-JO";case"kw":return"ar-KW";case"lb":return"ar-LB";case"qa":return"ar-QA";case"om":return"ar-OM";case"bh":return"ar-BH";case"sy":return"ar-SY";case"ye":return"ar-YE";case"ly":return"ar-LY";case"sd":return"ar-SD";case"us":return"en-US";case"gb":return"en-GB";case"ca":return"en-CA";case"au":return"en-AU";case"in":return"hi-IN";case"fr":return"fr-FR";case"de":return"de-DE";case"es":return"es-ES";case"mx":return"es-MX";case"co":return"es-CO";case"ar":return"es-AR";case"tr":return"tr-TR";case"jp":return"ja-JP";case"id":return"id-ID";case"th":return"th-TH";case"vn":return"vi-VN";case"ir":return"fa-IR";case"br":return"pt-BR";case"pt":return"pt-PT";case"bd":return"bn-BD";case"pk":return"ur-PK";default:return"ar-SA"}},bi="https://datas.gitut.com";async function $s(n,e,t){try{const r=await fetch(n);if(!r.ok){if(t!==void 0)return console.warn(`[Optional] Failed to fetch ${e} (Status: ${r.status}). Using default value.`),t;throw new Error(`Failed to fetch ${e} from ${n}. Status: ${r.status} ${r.statusText}`)}const i=await r.text();try{return JSON.parse(i)}catch{if(t!==void 0)return console.warn(`[Optional] Failed to parse JSON for ${e}. Using default value.`),t;const a=i.length>100?i.substring(0,100)+"...":i;throw new Error(`Failed to parse JSON for ${e} from ${n}. Content started with: "${a}"`)}}catch(r){if(t!==void 0)return console.warn(`Error fetching ${e}:`,r),t;throw r}}const Fq=async n=>{const t=`cafe_data_${n}`;try{const i=await Cr("cafeDocumentsData",t);if(i){const s=Date.now();if(s-i.timestamp<6048e5&&i.data&&i.data.length>0)return console.log(`Using cached cafe data for ${n} (Age: ${((s-i.timestamp)/36e5).toFixed(1)} hrs)`),i.data;console.log(`Cache expired for ${n}. Fetching fresh data.`)}}catch(i){console.warn("Failed to read from cache",i)}const r=`${bi}/data/json/cafe-data/${n}.json`;try{const i=await $s(r,`${n}.json`,[]),s={id:t,data:i,timestamp:Date.now()};return await Bt("cafeDocumentsData",s),i}catch(i){console.error(`Failed to fetch/cache data for ${n}:`,i);const s=await Cr("cafeDocumentsData",t);return s&&s.data?(console.warn("Returning expired cache due to network error."),s.data):[]}},gW=async()=>{const n=`${bi}/data/json/all-services-public.json`,e=await $s(n,"all-services-public.json",[]);return!Array.isArray(e)&&e.mainData&&Array.isArray(e.mainData)?e.mainData:Array.isArray(e)?e:[]},zr={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5,items:[]},ai:{apiKey:"",useAdminKey:!0}},_W=n=>n.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),yW="https://gitut.com/api/",vW="@@??YOUYOU@@??YOUYOU1936";function wW(){return new Promise((n,e)=>{if(tr.currentUser)return n(tr.currentUser);const t=tr.onAuthStateChanged(r=>{t(),r?n(r):e(new Error("User not authenticated for API call."))})})}async function qe(n,e){try{const r=await(await wW()).getIdToken(),i=await fetch(yW,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":vW},body:JSON.stringify({action:n,payload:e})});if(n==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let a;try{a=await i.json()}catch{a=null}throw new Error((a==null?void 0:a.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(t){throw console.error(`API Service Error (${n}):`,t),t}}const Mq=async n=>qe("uploadFilesToGitHub",n),Vq=async(n,e,t)=>{const r=new FileReader,s=await new Promise((c,u)=>{r.onload=()=>{const h=r.result;c(h.split(",")[1])},r.onerror=u,r.readAsDataURL(n)});let a=`documents/${t}.pdf`;return e!=="global"&&(a=`documents/${e}/${t}.pdf`),await qe("uploadPdfToGitHub",{content:s,path:a,message:`feat: Upload static document ${t}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),`https://datas.gitut.com/${a}`},EW=async n=>{const t=await(i=>new Promise((s,a)=>{const c=new FileReader;c.readAsDataURL(i),c.onload=()=>s(c.result.split(",")[1]),c.onerror=u=>a(u)}))(n);return(await qe("uploadFile",{fileData:t,fileName:n.name,fileType:n.type})).url},dS=async n=>{var F;const e=`${bi}/data/json/${n}-cafes-public.json`,t=`${bi}/data/json/${n}-all-services-public.json`,r=`${bi}/data/json/site-settings-public.json`,i=`${bi}/data/json/site-seo.json`,s=`${bi}/data/json/${n}-pages-public.json`,[a,c,u,h,p]=await Promise.all([$s(t,`${n}-all-services-public.json`,[]),$s(e,`${n}-cafes-public.json`,[]),$s(r,"site-settings-public.json",{}),$s(i,"site-seo.json",{}),$s(s,`${n}-pages-public.json`,[])]);let g=a;!Array.isArray(g)&&g.mainData&&Array.isArray(g.mainData)?g=g.mainData:Array.isArray(g)||(console.warn("Services data is not an array and has no mainData wrapper. Defaulting to empty array."),g=[]);let _=[];const v=g.filter(U=>U.serviceType==="doc"),I=g.filter(U=>U.serviceType==="static-doc"),T=g.filter(U=>U.serviceType==="site"),b=((F=u.ads)==null?void 0:F.items)||[],C={...zr,...u,seo:{...zr.seo,...h},payment:{...zr.payment,...u.payment||{}},pricing:{...zr.pricing,...u.pricing||{}},social:{...zr.social,...u.social||{}},ads:{...zr.ads,...u.ads||{}},ai:{...zr.ai,...u.ai||{}}},D=_.map(U=>({...U,createdAt:U.createdAt?Dn.firestore.Timestamp.fromDate(new Date(U.createdAt)):Dn.firestore.Timestamp.now(),publishedAt:U.publishedAt?Dn.firestore.Timestamp.fromDate(new Date(U.publishedAt)):void 0}));return{documents:v,staticDocuments:I,cafes:c,siteSettings:C,pages:p,blogPosts:D,sites:T,ads:b,services:g}},hS=async n=>{const e=`${bi}/data/json/${n}-locations.json`;return $s(e,`${n}-locations.json`,{wilayas:[],dairas:[],communes:[]})},a0=async()=>qe("getCollection",{collection:"cafes"}),Bq=async()=>qe("getCollection",{collection:"users"}),TW=async n=>qe("getDoc",{collection:"cafes",id:n}),zq=async n=>(await qe("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:n}],limit:1}))[0]||null,gp=async n=>qe("getDoc",{collection:"users",id:n}),Uq=async n=>(await qe("getCollection",{collection:"sites",where:[{field:"slug",op:"==",value:n}],limit:1}))[0]||null,jq=async()=>qe("getMonthlyRevenue",{}),IW=async(n,e)=>{const t=pW(e.countryCode),r={...e,speechToTextLanguage:t};return qe("createUserAndCafe",{uid:n.uid,email:n.email,emailVerified:n.emailVerified,cafeData:{...r,phone:e.phone}})},Wq=async(n,e)=>{await qe("updateDoc",{collection:"cafes",id:n,data:e})},Hq=async(n,e)=>qe("deductCredits",{userId:n.id,amount:e}),bW=async(n,e)=>qe("syncOfflineDeductions",{userId:n,deductions:e}),Gq=async(n,e)=>{await o0.collection("jobs").doc(n).update(e)},qq=async n=>qe("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:n}],orderBy:"date"}),$q=async()=>qe("getCollection",{collection:"payment_requests",orderBy:"date"}),Kq=async n=>qe("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:n}],orderBy:"date"}),Qq=async()=>qe("getCollection",{collection:"invoices",orderBy:"date"}),Yq=async(n,e,t,r,i)=>qe("addPaymentRequest",{userId:n,amount:e,currency:t,method:r,proofOfPaymentUrl:i}),Jq=async n=>qe("approvePaymentRequest",{requestId:n.id}),fS=async()=>qe("getDataVersion",{}),Xq=async()=>qe("incrementDataVersion",{}),of=async()=>qe("getDoc",{collection:"settings",id:"site"}),Zq=async n=>qe("updateDoc",{collection:"settings",id:"site",data:n}),mS=async()=>{const n=await qe("getDoc",{collection:"excel_commands",id:"main"});if(n&&typeof n.config=="string")try{return JSON.parse(n.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(n==null?void 0:n.config)||null},e$=async n=>qe("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(n,null,2)}}),Uf=n=>({getAll:()=>qe("getCollection",{collection:n}),get:e=>qe("getDoc",{collection:n,id:e}),create:async e=>await qe("createDoc",{collection:n,data:e}),update:async(e,t)=>{await qe("updateDoc",{collection:n,id:e,data:t})},delete:async e=>{await qe("deleteDoc",{collection:n,id:e})}}),l0={getAll:()=>qe("getCollection",{collection:"pages"}),create:async n=>{const e=await qe("createDoc",{collection:"pages",data:n});return await Bt("pages",e),e},update:async(n,e)=>{await qe("updateDoc",{collection:"pages",id:n,data:e});const t=await Cr("pages",n);t&&await Bt("pages",{...t,...e,id:n})},delete:async n=>{await qe("deleteDoc",{collection:"pages",id:n}),await ba("pages",n)},toggleStatus:async(n,e)=>{const t={enabled:!e};await qe("updateDoc",{collection:"pages",id:n,data:t});const r=await Cr("pages",n);r&&await Bt("pages",{...r,...t,id:n})}},I3={getAll:()=>qe("getCollection",{collection:"ads"}),get:n=>qe("getDoc",{collection:"ads",id:n}),create:async n=>{const e=await qe("createDoc",{collection:"ads",data:n});return await Bt("ads",e),e},update:async(n,e)=>{await qe("updateDoc",{collection:"ads",id:n,data:e});const t=await Cr("ads",n);t&&await Bt("ads",{...t,...e,id:n})},delete:async n=>{await qe("deleteDoc",{collection:"ads",id:n}),await ba("ads",n)},toggleStatus:async(n,e)=>{const t={enabled:!e};await qe("updateDoc",{collection:"ads",id:n,data:t});const r=await Cr("ads",n);r&&await Bt("ads",{...r,...t,id:n})}},b3={...Uf("blog"),create:async n=>{const e=await qe("createDoc",{collection:"blog",data:n});return await Bt("blogPosts",e),e},update:async(n,e)=>{await qe("updateDoc",{collection:"blog",id:n,data:e});const t=await Cr("blogPosts",n);t&&await Bt("blogPosts",{...t,...e,id:n})},delete:async n=>{await qe("deleteDoc",{collection:"blog",id:n}),await ba("blogPosts",n)},toggleStatus:async(n,e)=>{const t={enabled:!e};await qe("updateDoc",{collection:"blog",id:n,data:t});const r=await Cr("blogPosts",n);r&&await Bt("blogPosts",{...r,...t,id:n})}},pS=Uf("codes"),Cg=Uf("sites"),O_={getAll:()=>qe("getCollection",{collection:"staticDocuments"}),create:async n=>{const e=await qe("createDoc",{collection:"staticDocuments",data:n});return await Bt("staticDocuments",e),e},update:async(n,e)=>{await qe("updateDoc",{collection:"staticDocuments",id:n,data:e});const t=await Cr("staticDocuments",n);t&&await Bt("staticDocuments",{...t,...e,id:n})},delete:async n=>{await qe("deleteDoc",{collection:"staticDocuments",id:n}),await ba("staticDocuments",n)}},gS={getAll:()=>qe("getCollection",{collection:"voice_prompts"}),create:async n=>{const e=await EW(n),t=await qe("createDoc",{collection:"voice_prompts",data:{name:n.name,url:e,createdAt:new Date().toISOString()}});return await Bt("voice_prompts",t),t},delete:async(n,e)=>{await qe("deleteFile",{fileUrl:e}),await qe("deleteDoc",{collection:"voice_prompts",id:n}),await ba("voice_prompts",n)}},t$={getAll:async()=>{const n=await qe("getClients",{});return await zn("clients",n),n},create:async n=>{const e=await qe("createClient",{clientData:n});return await Bt("clients",e),e},update:async(n,e)=>{await qe("updateClient",{id:n,updates:e});const t=await Cr("clients",n);t&&await Bt("clients",{...t,...e,id:n})},delete:async n=>{await qe("deleteClient",{id:n}),await ba("clients",n)}},_S={...Uf("documents"),create:async n=>{const{id:e,...t}=n,r=await qe("createDocWithId",{collection:"documents",id:e,data:t});return await Bt("documents",r),await Bt("fullDocuments",r),r}},$o=()=>qe("getCollection",{collection:"documents"}),S3=Uf("baseTemplates"),yS=n=>n?n.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",n$=async n=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${n.prompt}</title><style>${n.sharedStyles}</style></head><body>${n.previewHtml}</body></html>`,t=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${n.prompt}</title><style>${n.sharedStyles}</style></head><body>${n.templateHtml}</body></html>`,r={name:n.prompt,description:n.description,tags:n.tags,requiredFields:n.requiredFields,complexFields:n.complexFields,slug:_W(n.prompt),previewTemplateHtml:yS(e),finalTemplateHtml:yS(t),previewTemplateUrl:"",finalTemplateUrl:""};if(n.docToEdit)await _S.update(n.docToEdit.id,r);else{const i=n.fileNameBase,s={...r,id:i,groupId:i};await _S.create(s)}},vS=async()=>{const n=await qe("getDoc",{collection:"document_commands",id:"main"});if(n&&typeof n.config=="string")try{return JSON.parse(n.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(n==null?void 0:n.config)||null},r$=async n=>qe("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(n,null,2)}}),i$=n=>{const e=/\[([a-zA-Z0-9_]+)\]/g,t=[...n.matchAll(e)];return[...new Set(t.map(i=>i[1]))]},wS=async(n,e,t=!1)=>{var i;let r;switch(n){case"cafes":return r=await a0(),r.filter(s=>s.isProfilePublished&&(!e||e==="global"||s.countryCode===e)).map(({id:s,numericId:a,name:c,owner:u,countryCode:h,address:p,description:g,imageUrl:_,coverImageUrl:v,googleMapsUrl:I,phone:T,socials:b,services:C})=>({id:s,numericId:a,name:c,owner:u,countryCode:h,address:p,description:g,imageUrl:_,coverImageUrl:v,googleMapsUrl:I,phone:T,socials:b,services:C}));case"global-services":{const s=qc.en.map(p=>p.code);let a=[];const c=s.map(p=>$s(`${bi}/data/json/${p}-all-services-public.json`,`${p}-services`,[]).catch(()=>(console.warn(`Could not fetch services for country: ${p}, skipping.`),[])));return(await Promise.all(c)).forEach(p=>{Array.isArray(p)&&(a=a.concat(p))}),Array.from(new Map(a.map(p=>[p.id,p])).values())}case"cafe-documents":return(await $o()).filter(u=>e==="global"?!u.countryCode||u.countryCode==="global":u.countryCode===e).map(u=>{const h=u.description?u.description.replace(/<[^>]+>/g,""):"",p=h.split(/\s+/),g=p.length>6?p.slice(0,6).join(" ")+"......":h;return{id:u.id,name:u.name,description:g,requiredFields:u.requiredFields,fieldCustomizations:u.fieldCustomizations,questions:u.questions,finalTemplateHtml:u.finalTemplateHtml,countryCode:u.countryCode,groupId:u.groupId,slug:u.slug}});case"cafe-sites":return(await Cg.getAll()).filter(c=>e==="global"?!c.countryCode||c.countryCode==="global":c.countryCode===e);case"services":{let[s,a,c]=await Promise.all([$o(),O_.getAll(),Cg.getAll()]);const u=[];return{mainData:[...s.map(g=>({...g,serviceType:"doc"})),...a.map(g=>({...g,serviceType:"static-doc"})),...c.map(g=>({...g,serviceType:"site"}))].filter(g=>e==="global"?!g.countryCode||g.countryCode==="global":g.countryCode===e).map(g=>{if(g.serviceType==="doc"){const{id:_,name:v,description:I,countryCode:T,slug:b,tags:C,previewTemplateHtml:D,finalTemplateHtml:F,requiredFields:U}=g,J=(F||"").replace(/\[.*?\]/g,"........"),x={id:_,name:v,description:I,previewTemplateHtml:J,finalTemplateHtml:F,requiredFields:U||[]};let R=`data/json/documents/${b||_}.json`;T&&T!=="global"&&(R=`data/json/documents/${T}/${b||_}.json`),u.push({path:R,data:x});const{previewTemplateHtml:L,finalTemplateHtml:M,requiredFields:W,complexFields:k,spokenFields:O,visitorExamplePrompt:A,cafeExamplePrompt:ae,previewTemplateUrl:ze,finalTemplateUrl:ue,cafeId:de,fieldCustomizations:ie,questions:he,...B}=g;return B}else if(g.serviceType==="static-doc"){const{id:_,name:v,description:I,countryCode:T,fileUrl:b,slug:C,tags:D,serviceType:F}=g;return{id:_,name:v,description:I,countryCode:T,fileUrl:b,slug:C,tags:D,serviceType:F}}else if(g.serviceType==="site"){const{id:_,name:v,url:I,type:T,description:b,countryCode:C,tags:D,slug:F,serviceType:U,templateFields:$,jsonTemplate:J}=g;return{id:_,name:v,url:I,type:T,description:b,countryCode:C,tags:D,slug:F,serviceType:U}}return g}),extraFiles:u}}case"blog":{let s=await b3.getAll();const a=_=>{if(!_)return;if(_ instanceof Dn.firestore.Timestamp)return _.toDate().toISOString();if(typeof _=="object"&&_!==null&&typeof _.seconds=="number")return new Date(_.seconds*1e3).toISOString();const v=new Date(_);return isNaN(v.getTime())?String(_):v.toISOString()},c=s.filter(_=>_.enabled).map(_=>({..._,createdAt:a(_.createdAt),publishedAt:a(_.publishedAt)})),u=new Set;c.forEach(_=>{(_.tags?_.tags.split(",").map(I=>I.trim().toLowerCase()).filter(Boolean):[]).forEach(I=>u.add(I))});const h=new Map;Array.from(u).forEach((_,v)=>{h.set(_,v+1)});const g={"tags-map-public.json":[Object.fromEntries(h)]};for(const _ of c){const v=_.tags?_.tags.split(",").map(T=>T.trim().toLowerCase()).filter(Boolean):[];if(v.length===0)continue;const I=Object.keys(_.content||{});for(const T of I){const{countryCode:b,...C}=_,D={...C,content:_.content[T]};for(const F of v){const U=h.get(F);if(U===void 0)continue;const $=`${T}-${U}-blog-posts-public.json`;g[$]||(g[$]=[]),g[$].push(D)}}}return g}case"pages":return(await l0.getAll()).filter(a=>a.enabled);case"settings":{const s=await of();if(!s)return{};const c=(await I3.getAll()).filter(v=>v.enabled),h=(await l0.getAll()).filter(v=>v.enabled).map(v=>({title:v.title,slug:v.slug,lang:v.lang||"ar"})),{payment:p,ai:g,..._}=s;return{..._,ads:{pdfInterstitialTimer:((i=_.ads)==null?void 0:i.pdfInterstitialTimer)||5,items:c},footerPages:h}}case"seo":{const s=await of();return(s==null?void 0:s.seo)||zr.seo}case"documents":return r=await $o(),r;case"documents-json":{const s=await $o();let a=s;return e&&e!=="global"?a=s.filter(u=>u.countryCode===e):e==="global"&&(a=s.filter(u=>!u.countryCode||u.countryCode==="global")),a.map(u=>{const h=`${u.slug||u.id}.json`;let p=`data/json/documents/${h}`;u.countryCode&&u.countryCode!=="global"&&(p=`data/json/documents/${u.countryCode}/${h}`);const _=(u.finalTemplateHtml||"").replace(/\[.*?\]/g,"........"),v={...u,previewTemplateHtml:_};return{path:p,content:JSON.stringify(v,null,2)}})}case"templates-paginated":{let s=await $o();const a=h=>{const{description:p,...g}=h;return g},c=20,u=Math.ceil(s.length/c);if(t){const h=[];for(let p=0;p<u;p++){const g=s.slice(p*c,(p+1)*c);h.push({fileName:`templates-part-${p+1}.json`,data:g.map(a)})}return h}for(let h=0;h<u;h++){const g=s.slice(h*c,(h+1)*c).map(a),_=new Blob([JSON.stringify(g)],{type:"application/json"}),v=URL.createObjectURL(_),I=document.createElement("a");I.href=v,I.download=`templates-part-${h+1}-of-${u}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(v),await new Promise(T=>setTimeout(T,300))}return{downloadInitiated:!0,chunks:u}}}};async function s$(n){const{saveAs:e}=await Xe(async()=>{const{saveAs:p}=await import("https://esm.sh/file-saver@2.0.5");return{saveAs:p}},[]),t=new Jj,r=t.folder("json"),i=t.folder("pdf");if(!r||!i)throw new Error("Failed to create folders in zip file.");const s=[{dataType:"cafes",countryCode:n,fileName:`${n}-cafes-public.json`},{dataType:"services",countryCode:n,fileName:`${n}-all-services-public.json`},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json"},{dataType:"pages",countryCode:n,fileName:`${n}-pages-public.json`},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json"},{dataType:"seo",countryCode:"global",fileName:"site-seo.json"},{dataType:"ads",countryCode:"global",fileName:"ads-public.json"}];for(const p of s){const g=await wS(p.dataType,p.countryCode);r.file(p.fileName,JSON.stringify(g))}const a=await wS("templates-paginated","global",!0);if(Array.isArray(a))for(const p of a)r.file(p.fileName,JSON.stringify(p.data));const u=(await O_.getAll()).filter(p=>!p.countryCode||p.countryCode===n);for(const p of u){const g=p.fileUrl.split("/").pop();if(g)try{const _=await fetch(`${bi}/data/pdf/${g}`);if(_.ok){const v=await _.blob();i.file(g,v)}else console.warn(`Could not fetch static PDF: ${bi}/data/pdf/${g}. Status: ${_.status}`)}catch(_){console.error(`Error fetching static PDF: ${bi}/data/pdf/${g}`,_)}}const h=await t.generateAsync({type:"blob"});e(h,`${n}-public-data.zip`)}const C3=z.createContext(void 0),SW=({children:n})=>{const[e,t]=z.useState(null),[r,i]=z.useState(!0),s=z.useCallback(async v=>{const I=await $j();if(I.length!==0)try{console.log(`Syncing ${I.length} offline transactions...`),await bW(v,I),await Kj(),console.log("Sync successful.");const T=await gp(v);if(T&&tr.currentUser){const b={...T,emailVerified:tr.currentUser.emailVerified};t(b),await Bt("userProfile",{...b,id:"currentUser"})}}catch(T){console.error("Failed to sync pending transactions. They will be retried later.",T)}},[]),a=z.useCallback(async()=>{const v=tr.currentUser;if(v)try{const I=await gp(v.uid);if(I){const T={...I,emailVerified:v.emailVerified};t(T),await Bt("userProfile",{...T,id:"currentUser"})}}catch(I){console.error("Failed to refetch user profile:",I)}},[]);z.useEffect(()=>{const v=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",v),()=>window.removeEventListener("online",v)},[e,s]),z.useEffect(()=>{i(!0);const v=tr.onAuthStateChanged(async I=>{if(I&&I.email==="mgkrol99@gmail.com"){e&&t(null),i(!1);return}if(I)try{const b=await gp(I.uid);if(b){const C={...b,emailVerified:I.emailVerified},D=o0.collection("users").doc(I.uid);!(await D.get()).exists&&b.cafeId&&I.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await D.set({cafeId:b.cafeId,email:I.email})),t(C),await Bt("userProfile",{...C,id:"currentUser"}),navigator.onLine&&await s(I.uid)}else console.error(`Inconsistent state: User ${I.uid} exists in Auth but not in D1 DB. Forcing logout.`),await tr.signOut()}catch(b){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",b);const C=await Cr("userProfile","currentUser");C&&C.id===I.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),t(C)):(console.error(`No valid profile found for ${I.uid} online or locally. Forcing logout.`),await tr.signOut())}finally{i(!1)}else t(null),await ba("userProfile","currentUser"),i(!1)});return()=>v()},[s]);const c=async v=>{if(e){const I={...e,credits:{...e.credits,amount:v}};t(I),await Bt("userProfile",{...I,id:"currentUser"})}},u=async(v,I)=>{try{const b=(await tr.signInWithEmailAndPassword(v,I)).user;if(!b)throw new Error("No Firebase user returned after sign-in.");const C=await gp(b.uid);if(!C)throw await tr.signOut(),new Error("User profile not found in database.");const D={...C,emailVerified:b.emailVerified};return t(D),await Bt("userProfile",{...D,id:"currentUser"}),D}catch(T){throw console.error("Firebase login error:",T),T}},h=async(v,I,T)=>{try{const b=await tr.createUserWithEmailAndPassword(v,I);if(b.user){await b.user.sendEmailVerification();const C=await IW(b.user,T);return C&&C.cafeId?await o0.collection("users").doc(b.user.uid).set({cafeId:C.cafeId,email:b.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await tr.signOut(),!0}return!1}catch(b){throw console.error("Signup error:",b),b}},p=async()=>{await tr.signOut(),t(null),await ba("userProfile","currentUser")},g=async v=>{await tr.sendPasswordResetEmail(v)},_=async()=>{if(tr.currentUser)await tr.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return K.jsx(C3.Provider,{value:{user:e,loading:r,login:u,signup:h,logout:p,sendPasswordReset:g,resendVerificationEmail:_,updateUserCredits:c,refetchUser:a},children:n})},Yu=()=>{const n=z.useContext(C3);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},Eh={},Op={},c0=new Set,CW=()=>{c0.forEach(n=>n())},PW=async n=>{if(!Op[n]){Op[n]="fetching";try{const e=await fetch(`https://datas.gitut.com/data/json/translate/${n}.json?t=${Date.now()}`);if(e.ok){const t=await e.json();Eh[n]=t}else Eh[n]={}}catch(e){console.warn(`Failed to fetch remote translations for ${n}`,e),Eh[n]={}}finally{Op[n]="done",CW()}}},G1=(n,e)=>{if(n)return e.split(".").reduce((t,r)=>t&&t[r],n)},F_=()=>{const n=Ar(),e=z.useMemo(()=>{const u=n.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return u?u[1]:null},[n.pathname]),t=e||"dz",r=z.useMemo(()=>fW(t),[t]),i=r==="ar"?"rtl":"ltr",[s,a]=z.useState(0);z.useEffect(()=>{document.documentElement.lang=r,document.documentElement.dir=i},[r,i]),z.useEffect(()=>{Op[t]||PW(t);const u=()=>a(h=>h+1);return c0.add(u),()=>{c0.delete(u)}},[t]);const c=z.useCallback((u,h)=>{let p;if(Eh[t]&&(p=G1(Eh[t],u)),!p){const g=Sg[r];p=G1(g,u)}if(!p){const g=Sg.en;p=G1(g,u)}return p||(p=u),h&&Object.keys(h).forEach(g=>{p=p.replace(new RegExp(`\\{${g}\\}`,"g"),String(h[g]))}),p},[r,t,s]);return{language:r,t:c,dir:i,countryCode:e}},AW=()=>{const{user:n,logout:e}=Yu(),t=Ag(),{t:r,countryCode:i,language:s}=F_(),[a,c]=z.useState("G"),[u,h]=z.useState(!1),[p,g]=z.useState(!1),[_,v]=z.useState(!1),I=z.useRef(null),T=i?`/${i}/`:"/",b=z.useMemo(()=>qc[s]||qc.en,[s]),C=z.useMemo(()=>{const x=new Set;return Object.values(qc).forEach(R=>R.forEach(L=>x.add(L.code))),Array.from(x)},[]),D=z.useMemo(()=>C.map(x=>b.find(R=>R.code===x)||qc.en.find(R=>R.code===x)||{name:x.toUpperCase(),code:x,phoneCode:"",flag:""}).sort((x,R)=>x.name.localeCompare(R.name,s)),[C,b,s]),F=z.useMemo(()=>i?D.find(x=>x.code===i):null,[i,D]);z.useEffect(()=>{let x,R;const L=setInterval(()=>{h(!0),R=setTimeout(()=>{c(M=>M==="G"?"@":"G")},250),x=setTimeout(()=>{h(!1)},500)},2500);return()=>{clearInterval(L),clearTimeout(x),clearTimeout(R)}},[]),z.useEffect(()=>{const x=R=>{I.current&&!I.current.contains(R.target)&&g(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const U=()=>{e(),t("/")},$=x=>{g(!1),t(x==="global"?"/":`/${x}/`)},J=x=>{i||(x.preventDefault(),v(!0))};return K.jsxs(K.Fragment,{children:[K.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:K.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[K.jsxs("div",{className:"flex items-center gap-4",children:[K.jsxs(al,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:K.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),K.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[K.jsx("span",{className:`char-flipper ${u?"swapping":""}`,children:a}),"itut"]})]}),K.jsxs("div",{className:"relative",ref:I,children:[K.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[F?K.jsxs(K.Fragment,{children:[K.jsx("span",{className:"text-xl",children:F.flag}),K.jsx("span",{className:"font-semibold text-gray-800",children:F.name})]}):K.jsxs(K.Fragment,{children:[K.jsx(fI,{className:"text-gray-600"}),K.jsx("span",{className:"font-semibold text-gray-800",children:r("header.allCountries")})]}),K.jsx(DN,{className:"text-gray-500 text-xs"})]}),p&&K.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:K.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[K.jsx("li",{children:K.jsxs("button",{onClick:()=>$("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[K.jsx(fI,{className:"text-gray-600"}),K.jsx("span",{children:r("header.allCountriesSearch")})]})}),D.map(x=>K.jsx("li",{children:K.jsxs("button",{onClick:()=>$(x.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[K.jsx("span",{className:"text-xl",children:x.flag}),K.jsx("span",{children:x.name})]})},x.code))]})})]})]}),K.jsx("nav",{className:"flex items-center gap-6",children:n?K.jsxs(K.Fragment,{children:[K.jsx(al,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),K.jsx("button",{onClick:U,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):K.jsxs(K.Fragment,{children:[K.jsx(al,{to:T,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),K.jsx(al,{to:`/${i||"dz"}/login/`,onClick:J,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),_&&K.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>v(!1),children:K.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:x=>x.stopPropagation(),children:[K.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:r("header.selectCafeCountry")}),K.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:D.map(x=>K.jsx("li",{children:K.jsxs(al,{to:`/${x.code}/login/`,onClick:()=>v(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[K.jsx("span",{className:"text-2xl",children:x.flag}),K.jsx("span",{className:"font-semibold",children:x.name})]})},x.code))})]})})]})},P3=z.createContext(void 0),kW=({children:n})=>{const[e,t]=z.useState(null),r=(s,a)=>{const c="mgkrol99@gmail.com";return s===c&&a==="@Youyou1936@"?(t({id:"admin-user",email:c,role:"admin"}),!0):!1},i=()=>{t(null)};return K.jsx(P3.Provider,{value:{admin:e,login:r,logout:i},children:n})},Ww=()=>{const n=z.useContext(P3);if(n===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return n},A3=z.createContext(void 0),RW=({children:n})=>{const{user:e,loading:t}=Yu(),{admin:r}=Ww(),i=Ar(),s=i.pathname.startsWith("/admin"),a=i.pathname.includes("/app"),[c,u]=z.useState([]),[h,p]=z.useState([]),[g,_]=z.useState([]),[v,I]=z.useState([]),[T,b]=z.useState([]),[C,D]=z.useState(null),[F,U]=z.useState([]),[$,J]=z.useState([]),[x,R]=z.useState([]),[L,M]=z.useState([]),[W,k]=z.useState([]),[O,A]=z.useState([]),[ae,ze]=z.useState([]),[ue,de]=z.useState([]),[ie,he]=z.useState([]),[B,H]=z.useState([]),[ye,ve]=z.useState(null),[pe,Ke]=z.useState(null),[rt,Me]=z.useState(!0),[Qe,lt]=z.useState(!0),[Tt,vn]=z.useState(!1),[cn,P]=z.useState(null),fe=me=>me?me.map(Pe=>{if(!Pe)return Pe;const Le=Ne=>{if(!Ne)return;if(Ne instanceof Dn.firestore.Timestamp)return Ne;if(typeof Ne=="object"&&Ne!==null&&typeof Ne.seconds=="number"&&typeof Ne.nanoseconds=="number")return new Dn.firestore.Timestamp(Ne.seconds,Ne.nanoseconds);const Ze=new Date(Ne);if(!isNaN(Ze.getTime()))return Dn.firestore.Timestamp.fromDate(Ze)};return{...Pe,createdAt:Le(Pe.createdAt)||Dn.firestore.Timestamp.now(),publishedAt:Le(Pe.publishedAt)}}):[],le=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[me,Pe,Le,Ne,Ze,Ot,Dt,en,pt,Qn,Cn,jt]=await Promise.all([Bn("cafes"),Bn("fullDocuments"),Bn("staticDocuments"),Bn("sites"),Bn("baseTemplates"),Cr("siteSettings","main"),Bn("codes"),Bn("pages"),Bn("blogPosts"),Bn("ads"),Bn("voice_prompts"),Cr("offlineMetadata","syncStatus")]);if(Pe.length>0||me.length>0)return p(Pe),u(Pe),_(Le),M(Ne),I(me),H(Ze),D(Ot),de(Dt),U(en),J(fe(pt)),R(Qn),he(Cn),console.log("Successfully loaded admin dashboard data from IndexedDB."),(jt==null?void 0:jt.version)||0}catch(me){console.error("Could not load admin dashboard data from IndexedDB:",me)}return 0},G=z.useCallback(async me=>{const[Pe,Le,Ne,Ze,Ot,Dt,en,pt,Qn,Cn,jt,fi,Qr]=await Promise.all([a0(),$o(),O_.getAll(),of(),l0.getAll(),b3.getAll(),I3.getAll(),Cg.getAll(),pS.getAll(),gS.getAll(),S3.getAll(),mS(),vS()]),sr=await fetch("https://datas.gitut.com/data/json/site-seo.json"),wn=sr.ok?await sr.json():{},nt=fe(Dt);u(Le),p(Le),_(Ne),I(Pe),de(Qn),he(Cn),H(jt),ve(fi),Ke(Qr),R(en);const gt={...zr,...Ze||{},seo:{...(Ze==null?void 0:Ze.seo)||{},...wn},payment:{...zr.payment,...(Ze==null?void 0:Ze.payment)||{}},pricing:{...zr.pricing,...(Ze==null?void 0:Ze.pricing)||{}},social:{...zr.social,...(Ze==null?void 0:Ze.social)||{}},ads:{...zr.ads,...(Ze==null?void 0:Ze.ads)||{}},ai:{...zr.ai,...(Ze==null?void 0:Ze.ai)||{}}};D(gt),U(Ot),J(nt),M(pt);const or=[...Le.map(Pn=>({...Pn,serviceType:"doc"})),...Ne.map(Pn=>({...Pn,serviceType:"static-doc"})),...pt.map(Pn=>({...Pn,serviceType:"site"}))];b(or),await Promise.all([zn("cafes",Pe),zn("fullDocuments",Le),zn("staticDocuments",Ne),zn("sites",pt),zn("baseTemplates",jt),zn("codes",Qn),zn("pages",Ot),zn("blogPosts",nt),zn("ads",en),zn("voice_prompts",Cn),Bt("siteSettings",{...gt,id:"main"}),Bt("offlineMetadata",{id:"syncStatus",version:me})])},[]),j=z.useCallback(async()=>{Me(!0);try{const{version:me}=await fS();await G(me)}catch(me){console.error("Failed to refetch admin data:",me)}finally{Me(!1)}},[G]),X=z.useCallback(async()=>{try{console.log("Refetching all cafes...");const me=await a0();I(me),await zn("cafes",me),console.log("Cafes refetched and cache updated.")}catch(me){console.error("Failed to refetch cafes:",me)}},[]);z.useEffect(()=>{const me=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Le,Ne,Ze,Ot,Dt,en,pt]=await Promise.all([Bn("cafes"),Bn("fullDocuments"),Bn("staticDocuments"),Bn("sites"),Bn("baseTemplates"),Cr("siteSettings","main"),Bn("codes")]);if(Ne.length>0)return I(Le),p(Ne),_(Ze),M(Ot),H(Dt),D(en),de(pt),u(Ne),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Le){console.error("Could not load user dashboard data from IndexedDB:",Le)}return!1};(async()=>{if(!t){if(s&&!r){Me(!1),lt(!1);return}if(Me(!0),P(null),s&&r){const Le=await le();Me(!1);try{const{version:Ne}=await fS();Ne>Le?(console.log(`New data version available. Local: ${Le}, Remote: ${Ne}. Syncing...`),await G(Ne),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(Ne){const Ze=Ne instanceof Error?Ne.message:String(Ne);console.error("Could not check for remote data updates. Running on cached data.",Ne),Le===0&&(Ze.includes("no such table: data_versions")?P("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):P(Ze))}}else if(!s){a&&e&&await me()&&Me(!1);try{const Le=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),Ne=Le?Le[1]:null,Ze=e?pS.getAll():Promise.resolve([]),Ot=e?gS.getAll():Promise.resolve([]),Dt=e?mS():Promise.resolve(null),en=e?vS():Promise.resolve(null),pt=e?of():Promise.resolve(null),Qn=e!=null&&e.cafeId?TW(e.cafeId):Promise.resolve(null);if(Ne){const sr=dS(Ne),wn=hS(Ne),[nt,gt,or,Pn,go,kr,_o,Rr]=await Promise.all([sr,wn,Ze,Ot,Dt,en,pt,Qn]);let rs=Array.isArray(nt.cafes)?nt.cafes:[];if(Rr){const Ds=rs.findIndex(Yr=>Yr.id===Rr.id);Ds>-1?rs[Ds]=Rr:rs.push(Rr)}u(Array.isArray(nt.documents)?nt.documents:[]),_(Array.isArray(nt.staticDocuments)?nt.staticDocuments:[]),I(rs);const tn=_o?{...nt.siteSettings,..._o,ads:nt.siteSettings.ads}:nt.siteSettings;D(tn),U(Array.isArray(nt.pages)?nt.pages:[]),J(Array.isArray(nt.blogPosts)?nt.blogPosts:[]),R(Array.isArray(nt.ads)?nt.ads:[]),M(Array.isArray(nt.sites)?nt.sites:[]),b(Array.isArray(nt.services)?nt.services:[]),k(Array.isArray(gt==null?void 0:gt.wilayas)?gt.wilayas:[]),A(Array.isArray(gt==null?void 0:gt.dairas)?gt.dairas:[]),ze(Array.isArray(gt==null?void 0:gt.communes)?gt.communes:[]),lt(!1)}else{lt(!0);const[sr,wn,nt]=await Promise.all([gW(),dS("dz"),hS("dz")]),gt=Array.isArray(sr)?sr:[];b(gt),I([]);const or=gt.filter(kr=>kr.serviceType==="doc"),Pn=gt.filter(kr=>kr.serviceType==="static-doc"),go=gt.filter(kr=>kr.serviceType==="site");u(or),_(Pn),M(go),D(wn.siteSettings),U(Array.isArray(wn.pages)?wn.pages:[]),J(Array.isArray(wn.blogPosts)?wn.blogPosts:[]),R(Array.isArray(wn.ads)?wn.ads:[]),k(Array.isArray(nt==null?void 0:nt.wilayas)?nt.wilayas:[]),A(Array.isArray(nt==null?void 0:nt.dairas)?nt.dairas:[]),ze(Array.isArray(nt==null?void 0:nt.communes)?nt.communes:[]),lt(!1)}const[Cn,jt,fi,Qr]=await Promise.all([Ze,Ot,Dt,en]);de(Array.isArray(Cn)?Cn:[]),e&&Array.isArray(Cn)&&await zn("codes",Cn),he(Array.isArray(jt)?jt:[]),ve(fi),Ke(Qr)}catch(Le){console.error("Failed to load application data:",Le),P(Le instanceof Error?Le.message:"An unknown error occurred.")}finally{Me(!1)}}}})()},[i.pathname,s,a,e,r,t,G]);const ge=z.useCallback(async()=>{if(h.length===0){vn(!0);try{const me=await Bn("fullDocuments");if(me.length>0)p(me);else{const Pe=await $o(),Le=Array.isArray(Pe)?Pe:[];p(Le),await zn("fullDocuments",Le)}}catch(me){console.error("Failed to load full documents:",me)}finally{vn(!1)}}},[h.length]),_e=z.useCallback(me=>{const Pe=fe([me])[0];J(Le=>[Pe,...Le].sort((Ne,Ze)=>{const Ot=(Ne.publishedAt||Ne.createdAt).toDate();return(Ze.publishedAt||Ze.createdAt).toDate().getTime()-Ot.getTime()}))},[]),ne=z.useCallback((me,Pe)=>{J(Le=>Le.map(Ne=>Ne.id===me?fe([{...Ne,...Pe}])[0]:Ne))},[]),Ce=z.useCallback(me=>{J(Pe=>Pe.filter(Le=>Le.id!==me))},[]),Fe={documents:c,fullDocuments:h,staticDocuments:g,cafes:v,services:T,siteSettings:C,pages:F,blogPosts:$,ads:x,sites:L,wilayas:W,dairas:O,communes:ae,codes:ue,voicePrompts:ie,baseTemplates:B,excelCommands:ye,documentCommands:pe,loading:rt,locationsLoading:Qe,loadingFullDocuments:Tt,error:cn,loadFullDocuments:ge,refetchAdminData:j,refetchCafes:X,addBlogPost:_e,updateBlogPost:ne,deleteBlogPost:Ce};return K.jsx(A3.Provider,{value:Fe,children:n})},M_=()=>{const n=z.useContext(A3);if(n===void 0)throw new Error("useData must be used within a DataProvider");return n},q1=({type:n,url:e})=>{const t={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(n){case"facebook":return K.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:K.jsx(kN,{...t})});case"twitter":return K.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:K.jsx(NN,{...t})});case"instagram":return K.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:K.jsx(RN,{...t})});default:return null}},NW=()=>{const{siteSettings:n,blogPosts:e,loading:t}=M_(),{t:r,language:i}=F_(),a=Ar().pathname.match(/^\/([a-z]{2})(?:\/|$)/),c=a?a[1]:"dz",u=z.useMemo(()=>e.some(T=>T.enabled&&T.content&&T.content[i]),[e,i]),h=z.useMemo(()=>{const T=i==="ar"?"/blog/":`/blog/${i}/`,b=mW.find(D=>D.code===i),C=i==="ar"?r("footer.blog"):`Blog (${(b==null?void 0:b.name)||i.toUpperCase()})`;return{path:T,linkText:C}},[i,r]);if(t||!n)return K.jsx("footer",{className:"bg-white border-t mt-auto",children:K.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const p=n.social&&n.social[c]||n.social&&n.social.default||{facebook:"",twitter:"",instagram:""},g=n.seo&&n.seo[c]||n.seo&&n.seo.default||{siteName:"Gitut"},_=p.facebook||p.twitter||p.instagram,I=(n.footerPages||[]).filter(T=>T.lang===i||!T.lang&&i==="ar");return K.jsx("footer",{className:"bg-white border-t mt-auto",children:K.jsx("div",{className:"container mx-auto px-4 py-8",children:K.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(I.length>0||u)&&K.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[u&&K.jsx("a",{href:`https://gitut.com${h.path}`,className:"hover:text-green-600 hover:underline",children:h.linkText}),K.jsx("a",{href:`https://gitut.com/${c}/services/`,className:"hover:text-green-600 hover:underline",children:r("footer.services")}),I.map(T=>K.jsx("a",{href:`https://gitut.com/${c}/page/${T.slug}/`,className:"hover:text-green-600 hover:underline",children:T.title},T.slug))]}),_&&K.jsxs("div",{className:"flex justify-center gap-6",children:[p.facebook&&K.jsx(q1,{type:"facebook",url:p.facebook}),p.twitter&&K.jsx(q1,{type:"twitter",url:p.twitter}),p.instagram&&K.jsx(q1,{type:"instagram",url:p.instagram})]}),K.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",g.siteName,". ",r("footer.rightsReserved")]})]})})})},hr=(n,e,t=!0)=>{const r=t?`meta[property='${n}']`:`meta[name='${n}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(t?"property":"name",n),document.head.appendChild(i)),i.setAttribute("content",e)},DW=()=>{const{siteSettings:n,loading:e}=M_(),{countryCode:t,language:r}=F_(),i=Ar(),s=i.pathname.startsWith("/admin"),a=/^\/[a-z]{2}\/app/.test(i.pathname),c="G-2BKKWGCXWX";return z.useEffect(()=>{if(document.getElementById("adsense-script"))return;const u=document.createElement("script");u.id="adsense-script",u.async=!0,u.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5971652204144737",u.crossOrigin="anonymous",document.head.appendChild(u)},[]),z.useEffect(()=>{if(e||!c||document.getElementById("gtag-script")||s||a)return;const u=document.createElement("script");u.id="gtag-script",u.src=`https://www.googletagmanager.com/gtag/js?id=${c}`,u.async=!0,document.head.appendChild(u),window.dataLayer=window.dataLayer||[];function h(...p){window.dataLayer.push(arguments)}window.gtag=h,h("js",new Date),h("config",c)},[e,c,s,a]),z.useEffect(()=>{!e&&c&&typeof window.gtag=="function"&&!s&&!a&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,c,s,a]),z.useEffect(()=>{var T,b;if(e||!n)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(C=>C.remove());const u=((T=n.seo)==null?void 0:T[t])||((b=n.seo)==null?void 0:b.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},h="https://blogger.googleusercontent.com/img/a/AVvXsEjIwicMdgBHGgVbeX1gPl9n9PhWFzZvLJ5hiGy923-34GGSM59Q5EwGmpmUibE3dexwLH6tk_Y_3QYLIUZC2YA9L3xhY4XVNVW1HCi1UoZhNv-RYbnOjtxMIXo014Yg4Eqv9bCQ5d6z4j4NnKoE7fpQvW7Dla3Y5QFk0N0I28kNCfnDBGWXq0Rx5VC7f58=s16000",p=i.pathname.match(/\/profile\/(\d+)/),g=i.pathname.match(/\/site\/([^/]+)/),_=i.pathname.match(/\/doc\/([^/]+)/),v=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!p&&!g&&!_&&!v){const C=`${u.siteName} ${u.titleSeparator} ${u.tagline}`,D=u.metaDescription;let F="en_US";switch(r){case"ar":F="ar_AR";break;case"fr":F="fr_FR";break;case"de":F="de_DE";break;case"es":F="es_ES";break;case"tr":F="tr_TR";break;case"ja":F="ja_JP";break}document.title=C,hr("description",D,!1),hr("og:title",C),hr("og:description",D),hr("og:site_name",u.siteName),hr("og:url",window.location.href),hr("og:image",h),hr("og:image:secure_url",h),hr("og:image:width","1200"),hr("og:image:height","630"),hr("og:type","website"),hr("og:locale",F),hr("twitter:card","summary_large_image",!1),hr("twitter:url",window.location.href,!1),hr("twitter:title",C,!1),hr("twitter:description",D,!1),hr("twitter:image",h,!1)}let I=document.querySelector("link[rel*='icon']");I||(I=document.createElement("link"),I.rel="icon",document.head.appendChild(I)),I.href="https://blogger.googleusercontent.com/img/a/AVvXsEjkGCrmp8eAGwzm3xT-8tifWeZwI6pwDti7gvpVxpW7aIMFfrxutIq8MaQVwWSonlisheakMWk_thkwsaiHUTGbGLsCkyIsER605MilN4jS184MEpAE_XOIl-L6qyNyVp9DKFv5mpOh8miC5A70cZeriTb45X94VYrmW1QhspDSXtSo2MJMuDECpGPTYpI"},[i.pathname,n,t,e,s,a,r]),null},xW=({children:n})=>{const{user:e,loading:t}=Yu(),{countryCode:r}=DS();return t?K.jsx("div",{className:"flex justify-center items-center h-screen",children:K.jsx(w0,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?K.jsx(Hc,{to:`/${r||"dz"}/login`,replace:!0}):n},LW=({children:n})=>{const{admin:e}=Ww();return e?n:K.jsx(Hc,{to:"/admin/login",replace:!0})},u0=new URL("/api/gun",window.location.origin);u0.protocol=u0.protocol==="https:"?"wss:":"ws:";const k3=u0.toString();console.log(`[Gun.js] Attempting to connect to peer: ${k3}`);const OW=[k3];let R3=null;typeof window<"u"&&window.Gun&&(R3=window.Gun({peers:OW}));const pn=R3,FW=1e4,$d=35e3,N3=z.createContext(void 0),_p=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,MW=({children:n})=>{const{user:e}=Yu(),{admin:t}=Ww(),{cafes:r}=M_(),[i,s]=z.useState(null),[a,c]=z.useState(!1),[u,h]=z.useState(new Set),p=z.useRef(new Map);z.useEffect(()=>{let T=localStorage.getItem("gitut_visitor_id");T||(T=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",T)),s(T)},[]),z.useEffect(()=>{if(!pn)return;const T=()=>{const C=Date.now();t?pn.get("presence").get("admin").put(C):e!=null&&e.cafeId&&pn.get("presence").get("cafes").get(e.cafeId).put(C)};T();const b=setInterval(T,FW);return()=>clearInterval(b)},[e==null?void 0:e.cafeId,t]),z.useEffect(()=>{if(pn){if(e!=null&&e.cafeId){const T=pn.get("presence").get("admin");let b=0;const C=F=>{b=typeof F=="number"?F:0,c(Date.now()-b<$d)};T.on(C);const D=setInterval(()=>{c(Date.now()-b<$d)},5e3);return()=>{T.off(),clearInterval(D)}}if(t){const T=pn.get("presence").get("cafes");T.map().on((C,D)=>{typeof C=="number"&&p.current.set(D,C)});const b=setInterval(()=>{const C=Date.now(),D=new Set;p.current.forEach((F,U)=>{C-F<$d&&D.add(U)}),h(D)},5e3);return()=>{T.off(),clearInterval(b)}}}},[e==null?void 0:e.cafeId,t]);const g=T=>{const[b,C]=z.useState(null);return z.useEffect(()=>{if(!T||!pn){C(null);return}const D=pn.get("presence").get("cafes").get(T);let F=0;const U=J=>{const x=typeof J=="number"?J:typeof J=="string"?parseInt(J,10):0;x>0&&(F=x,C(Date.now()-F<$d))};D.on(U);const $=setInterval(()=>{F>0&&C(Date.now()-F<$d)},5e3);return()=>{D.off(),clearInterval($)}},[T]),{isOnline:b}},_=T=>{const[b,C]=z.useState([]),D=z.useRef(new Set);z.useEffect(()=>{if(!T||!pn)return;D.current.clear(),C([]);const U=pn.get("chats").get(T),$=(J,x)=>{J&&typeof J=="object"&&J.text&&!D.current.has(x)&&(D.current.add(x),C(R=>R.some(L=>L.id===x)?R:[...R,{id:x,...J}].sort((L,M)=>L.timestamp-M.timestamp)))};return U.map().on($),()=>U.off()},[T]);const F=z.useCallback(U=>{if(!T||!i||!pn)return;const $={text:U,senderId:i,senderName:"Visitor",timestamp:Date.now()};pn.get("chats").get(T).get(_p()).put($)},[T,i]);return{messages:b,sendMessage:F}},v=()=>{const[T,b]=z.useState({unread:!1,messages:[]}),[C,D]=z.useState(new Map),F=e==null?void 0:e.cafeId,U=z.useMemo(()=>r.find(M=>M.id===F),[r,F]);z.useEffect(()=>{if(!F||!pn)return;const M=pn.get("chats").get(`support-${F}`);M.map().on((k,O)=>{if(k&&k.text){const A={id:O,...k};b(ae=>ae.messages.some(ue=>ue.id===O)?ae:{messages:[...ae.messages,A].sort((ue,de)=>ue.timestamp-de.timestamp),lastMessage:A,unread:A.senderId!==F&&!ae.messages.some(ue=>ue.id===O)})}});const W=pn.get("chats").get(F);return W.map().on((k,O)=>{if(k&&k.text){const A={id:O,...k},ae=A.senderId;if(ae===F)return;D(ze=>{const ue=new Map(ze),de=ue.get(ae)||{messages:[]};if(de.messages.some(he=>he.id===O))return ze;const ie=[...de.messages,A].sort((he,B)=>he.timestamp-B.timestamp);return ue.set(ae,{messages:ie,lastMessage:A,unread:!de.messages.some(he=>he.id===O)}),ue})}}),()=>{M.off(),W.off()}},[F]);const $=z.useCallback(M=>{if(!F)return;const W={text:M,senderId:F,senderName:(U==null?void 0:U.name)||"Cafe",timestamp:Date.now()};pn.get("chats").get(`support-${F}`).get(_p()).put(W)},[F,U]),J=z.useCallback((M,W)=>{if(!F)return;const k={text:W,senderId:F,senderName:(U==null?void 0:U.name)||"Cafe",timestamp:Date.now()};pn.get("chats").get(F).get(_p()).put(k)},[F,U]),x=z.useCallback(()=>b(M=>({...M,unread:!1})),[]),R=z.useCallback(M=>{D(W=>{const k=W.get(M);if(!k)return W;const O=new Map(W);return O.set(M,{...k,unread:!1}),O})},[]),L=(T.unread?1:0)+Array.from(C.values()).filter(M=>M.unread).length;return{adminConversation:T,visitorConversations:C,sendMessageToAdmin:$,sendMessageToVisitor:J,markAdminAsRead:x,markVisitorAsRead:R,totalUnreadCount:L,isAdminOnline:a}},I=()=>{const[T,b]=z.useState(new Map),[C,D]=z.useState(null),[F,U]=z.useState([]);z.useEffect(()=>{!t||!pn||r.forEach(R=>{const L=`support-${R.id}`;pn.get("chats").get(L).map().on((M,W)=>{if(M&&M.text){const k={id:W,...M};b(O=>{const A=new Map(O),ae=A.get(R.id);return(!ae||k.timestamp>ae.lastMessage.timestamp)&&A.set(R.id,{lastMessage:k,unread:k.senderId!=="admin"&&(!ae||k.timestamp>ae.lastMessage.timestamp),cafeName:R.name}),A}),C===R.id&&U(O=>O.some(A=>A.id===W)?O:[...O,k].sort((A,ae)=>A.timestamp-ae.timestamp))}})})},[t,r,C]);const $=R=>{D(R),U([]);const L=`support-${R}`;pn.get("chats").get(L).map().once((M,W)=>{M&&M.text&&U(k=>k.some(O=>O.id===W)?k:[...k,{id:W,...M}].sort((O,A)=>O.timestamp-A.timestamp))}),b(M=>{const W=new Map(M),k=W.get(R);return k&&W.set(R,{...k,unread:!1}),W})},J=R=>{if(!C)return;const L={text:R,senderId:"admin",senderName:"",timestamp:Date.now()};pn.get("chats").get(`support-${C}`).get(_p()).put(L)},x=Array.from(T.values()).filter(R=>R.unread).length;return{conversations:T,messages:F,currentConversationId:C,selectConversation:$,sendMessage:J,unreadConversationsCount:x,onlineCafeIds:u}};return K.jsx(N3.Provider,{value:{visitorId:i,usePresence:g,useVisitorChat:_,useCafeChatManager:v,useAdminChatManager:I},children:n})},o$=()=>{const n=z.useContext(N3);if(n===void 0)throw new Error("useRealtime must be used within a RealtimeProvider");return n},ES="1.0",VW="document-templates-v1",D3=z.createContext(void 0),BW=({children:n})=>{const[e,t]=z.useState(!0),[r,i]=z.useState(!1),[s,a]=z.useState(""),[c,u]=z.useState(null);z.useEffect(()=>{(async()=>{try{const g=await Cr("offlineMetadata","syncStatus");g&&g.version===ES?t(!0):t(!1)}catch(g){console.error("Could not check offline status, assuming not ready.",g),t(!1)}})()},[]);const h=z.useCallback(async()=>{i(!0),u(null),a(" ...");try{a("   ...");const[p,g,_,v,I]=await Promise.all([$o(),O_.getAll(),Cg.getAll(),S3.getAll(),of()]);a("     ..."),await Promise.all([zn("fullDocuments",p),zn("staticDocuments",g),zn("sites",_),zn("baseTemplates",v),Bt("siteSettings",{...I,id:"main"})]),a("   ...");const T=p.map(C=>C.finalTemplateUrl).filter(C=>!!C);await(await caches.open(VW)).addAll(T),a("  ..."),await Bt("offlineMetadata",{id:"syncStatus",version:ES,lastUpdated:new Date().toISOString()}),t(!0)}catch(p){console.error("Offline sync failed:",p);let g="     .";p instanceof Error&&(p.message.includes("404")?g="    ( 404).      .        .":p.message.toLowerCase().includes("failed to fetch")?g="  .     .":g=p.message),u(g)}finally{i(!1),a("")}},[]);return K.jsx(D3.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:c,startSync:h},children:n})},a$=()=>{const n=z.useContext(D3);if(n===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return n},TS=z.lazy(()=>Xe(()=>import("./FindPage-D2BXubKB.js"),[])),zW=z.lazy(()=>Xe(()=>import("./ProfilePage-BLm7zsOe.js"),__vite__mapDeps([0,1,2,3,4]))),UW=z.lazy(()=>Xe(()=>import("./FormPage-BDWNVfhL.js"),__vite__mapDeps([5,6]))),jW=z.lazy(()=>Xe(()=>import("./ConfirmationPage-D0sT77Ez.js"),[])),WW=z.lazy(()=>Xe(()=>import("./LoginPage-D5c-OlK4.js"),[])),HW=z.lazy(()=>Xe(()=>import("./SignupPage-BHxeAIRn.js"),[])),GW=z.lazy(()=>Xe(()=>import("./StaticPageViewer-CKnPYLOc.js"),__vite__mapDeps([7,4])));z.lazy(()=>Xe(()=>import("./BlogListPage-D9_w1MbD.js"),__vite__mapDeps([8,9])));z.lazy(()=>Xe(()=>import("./BlogPostPage-Dz6-ADXW.js"),__vite__mapDeps([10,4,1])));const qW=z.lazy(()=>Xe(()=>import("./ServiceDetailPage-Bm9sn29H.js"),__vite__mapDeps([11,6]))),$W=z.lazy(()=>Xe(()=>import("./AdInterstitialPage-DL-v7UKI.js"),__vite__mapDeps([12,1,2,13,6,14]))),KW=z.lazy(()=>Xe(()=>import("./CafeSearchPage-7IY7hs8C.js"),__vite__mapDeps([15,2]))),IS=z.lazy(()=>Xe(()=>import("./PublicFormPage-L6z6476-.js"),__vite__mapDeps([16,6,13,14,2,1,17,18])));z.lazy(()=>Xe(()=>import("./SiteDetailPage-BpCYRtSY.js"),__vite__mapDeps([19,9,4,1])));z.lazy(()=>Xe(()=>import("./DocumentDetailPage-BF5exTSo.js"),__vite__mapDeps([20,4,1])));const bS=z.lazy(()=>Xe(()=>import("./GoToSitePage-CujlWFiH.js"),__vite__mapDeps([21,1,2,18]))),x3=z.lazy(()=>Xe(()=>import("./NotFoundPage-BBdfMYue.js"),[])),QW=z.lazy(()=>Xe(()=>import("./DashboardLayout-CQ3e1gjv.js"),[])),YW=z.lazy(()=>Xe(()=>import("./DashboardHomePage-DjA3XpRV.js"),__vite__mapDeps([22,1]))),JW=z.lazy(()=>Xe(()=>import("./PendingJobsPage-amPCig-Q.js"),__vite__mapDeps([23,13,6,14,2]))),XW=z.lazy(()=>Xe(()=>import("./GenerateDocumentPage-DTVh6BGN.js"),__vite__mapDeps([24,13,6,14,2]))),ZW=z.lazy(()=>Xe(()=>import("./SettingsPage-BQMYhm4R.js"),__vite__mapDeps([25,17,2]))),eH=z.lazy(()=>Xe(()=>import("./MultiPersonJobPage-DmqyioF4.js"),__vite__mapDeps([26,6,13,14,2,17]))),tH=z.lazy(()=>Xe(()=>import("./BillingPage-Dm-hSvZ0.js"),[])),nH=z.lazy(()=>Xe(()=>import("./FillSitePage-C_zNREEJ.js"),__vite__mapDeps([27,6,28,14]))),rH=z.lazy(()=>Xe(()=>import("./ClientsPage-DfYWSlC7.js"),__vite__mapDeps([29,6,17,28,14,2]))),iH=z.lazy(()=>Xe(()=>import("./StaticDocViewerPage-DzmaGvGn.js"),__vite__mapDeps([30,2]))),sH=z.lazy(()=>Xe(()=>import("./ExcelStudioPage-DPYuibLI.js"),__vite__mapDeps([31,14]))),oH=z.lazy(()=>Xe(()=>import("./DocumentStudioPage-BuusGAhL.js"),__vite__mapDeps([32,14]))),aH=z.lazy(()=>Xe(()=>import("./CafeChatPage-C5sXpSAu.js"),__vite__mapDeps([33,3]))),lH=z.lazy(()=>Xe(()=>import("./AdminLoginPage-Dsu8jNFn.js"),[])),cH=z.lazy(()=>Xe(()=>import("./AdminDashboardLayout-BdPzFYn-.js"),[])),uH=z.lazy(()=>Xe(()=>import("./AdminDashboardHomePage-BsRw1re2.js"),[])),dH=z.lazy(()=>Xe(()=>import("./AdminUsersPage-CsoC96BD.js"),[])),hH=z.lazy(()=>Xe(()=>import("./AdminBillingPage-BRVwe9K-.js"),__vite__mapDeps([34,2]))),fH=z.lazy(()=>Xe(()=>import("./AdminSettingsPage-_e6vEjNR.js"),[])),mH=z.lazy(()=>Xe(()=>import("./AdminSeoPage-D2KriYQb.js"),[])),pH=z.lazy(()=>Xe(()=>import("./AdminPagesPage-2LrsdyLn.js"),__vite__mapDeps([35,14,36,37]))),gH=z.lazy(()=>Xe(()=>import("./AdminAdsPage-LR-IzXMv.js"),[])),_H=z.lazy(()=>Xe(()=>import("./AdminBlogPage-BAXbOrLU.js"),__vite__mapDeps([38,36,37]))),yH=z.lazy(()=>Xe(()=>import("./AdminDataPage-LEEJ2hHw.js"),__vite__mapDeps([39,40,41,42,43,37,44,45,46,6]))),vH=z.lazy(()=>Xe(()=>import("./AdminSitesPage-BDA_0a6B.js"),__vite__mapDeps([47,6,36]))),wH=z.lazy(()=>Xe(()=>import("./AdminDocumentsPage-Dfv6Wtn0.js"),__vite__mapDeps([48,36,14,37]))),EH=z.lazy(()=>Xe(()=>import("./AdminDocumentStudioPage-BvORpL7f.js"),[])),TH=z.lazy(()=>Xe(()=>import("./AdminBaseTemplatesPage-BKMHWv6H.js"),__vite__mapDeps([49,36,14]))),IH=z.lazy(()=>Xe(()=>import("./AdminExcelCommandsPage-QiImeIbf.js"),[])),bH=z.lazy(()=>Xe(()=>import("./AdminDocumentCommandsPage-B2PvsNRg.js"),[])),SH=z.lazy(()=>Xe(()=>import("./AdminChatPage-Dnavggc_.js"),__vite__mapDeps([50,3]))),CH=z.lazy(()=>Xe(()=>import("./AdminStaticDocsPage-bxyVXFoT.js"),__vite__mapDeps([51,36,14]))),PH=z.lazy(()=>Xe(()=>import("./AdminJsonFilesPage-CIwVgb8s.js"),__vite__mapDeps([40,41]))),AH=z.lazy(()=>Xe(()=>import("./AdminSitemapsPage-B1S7crBP.js"),[])),kH=z.lazy(()=>Xe(()=>import("./AdminStaticServicesPage-zUdCESFH.js"),__vite__mapDeps([43,37,41]))),RH=z.lazy(()=>Xe(()=>import("./AdminStaticBlogPage-DuazwX2V.js"),__vite__mapDeps([44,37,41]))),NH=z.lazy(()=>Xe(()=>import("./AdminStaticContentPage-5aqapmdd.js"),__vite__mapDeps([45,37,41]))),DH=z.lazy(()=>Xe(()=>import("./AdminCodesPage-BxC_WotJ.js"),__vite__mapDeps([46,6]))),xH=()=>K.jsx("div",{className:"flex-grow flex justify-center items-center py-20 min-h-[400px]",children:K.jsx(w0,{className:"animate-spin text-4xl text-green-600"})}),LH=()=>{const{pathname:n}=Ar();return z.useEffect(()=>{window.scrollTo(0,0)},[n]),null},OH=()=>{const{user:n,loading:e}=Yu(),t=z.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:n?{user:{email:n.email},credits:n.credits}:null};window.postMessage(r,"*")},[n,e]);return z.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&t()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[t]),z.useEffect(()=>{t()},[t]),null},FH=()=>{const{countryCode:n}=DS(),e=z.useMemo(()=>qc.en.map(t=>t.code),[]);return n&&/^[a-z]{2}$/.test(n)&&e.includes(n)?K.jsx(z5,{}):K.jsx(x3,{})},MH=()=>{const{user:n,loading:e}=Yu(),{error:t}=M_(),{t:r}=F_(),i=Ar(),s=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),a=s?s[1]:null;if(t)return K.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:K.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:K.jsxs("div",{className:"flex",children:[K.jsx("div",{className:"py-1",children:K.jsx(xN,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),K.jsxs("div",{children:[K.jsx("p",{className:"font-bold",children:r("app.error.title")}),K.jsx("p",{className:"text-sm",children:r("app.error.message")}),K.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:t}})]})]})})});if(e)return K.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:K.jsx(w0,{className:"animate-spin text-4xl text-green-600"})});const c=i.pathname.startsWith("/admin");if(n&&n.countryCode&&a&&n.countryCode!==a&&!c){const _=i.pathname.replace(`/${a}`,`/${n.countryCode}`);return K.jsx(Hc,{to:_,replace:!0})}const u=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(i.pathname),h=/^\/admin\/app\/document-studio/.test(i.pathname),g=u||h?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return K.jsx("main",{className:g,children:K.jsx(z.Suspense,{fallback:K.jsx(xH,{}),children:K.jsxs(j5,{children:[K.jsx(Ye,{path:"/",element:K.jsx(TS,{})}),K.jsx(Ye,{path:"/admin/login",element:K.jsx(lH,{})}),K.jsxs(Ye,{path:"/admin/app",element:K.jsx(LW,{children:K.jsx(cH,{})}),children:[K.jsx(Ye,{index:!0,element:K.jsx(uH,{})}),K.jsx(Ye,{path:"users",element:K.jsx(dH,{})}),K.jsx(Ye,{path:"billing",element:K.jsx(hH,{})}),K.jsx(Ye,{path:"settings",element:K.jsx(fH,{})}),K.jsx(Ye,{path:"seo",element:K.jsx(mH,{})}),K.jsx(Ye,{path:"pages",element:K.jsx(pH,{})}),K.jsx(Ye,{path:"ads",element:K.jsx(gH,{})}),K.jsx(Ye,{path:"blog",element:K.jsx(_H,{})}),K.jsx(Ye,{path:"data",element:K.jsx(yH,{})}),K.jsx(Ye,{path:"data/json",element:K.jsx(PH,{})}),K.jsx(Ye,{path:"data/sitemaps",element:K.jsx(AH,{})}),K.jsx(Ye,{path:"data/services",element:K.jsx(kH,{forcePublishAll:!1})}),K.jsx(Ye,{path:"data/blog",element:K.jsx(RH,{})}),K.jsx(Ye,{path:"data/content",element:K.jsx(NH,{})}),K.jsx(Ye,{path:"data/codes",element:K.jsx(DH,{})}),K.jsx(Ye,{path:"sites",element:K.jsx(vH,{})}),K.jsx(Ye,{path:"documents",element:K.jsx(wH,{})}),K.jsx(Ye,{path:"document-studio",element:K.jsx(EH,{})}),K.jsx(Ye,{path:"base-templates",element:K.jsx(TH,{})}),K.jsx(Ye,{path:"static-docs",element:K.jsx(CH,{})}),K.jsx(Ye,{path:"excel-commands",element:K.jsx(IH,{})}),K.jsx(Ye,{path:"document-commands",element:K.jsx(bH,{})}),K.jsx(Ye,{path:"chat",element:K.jsx(SH,{})})]}),K.jsx(Ye,{path:"/public-form/:docId",element:K.jsx(IS,{})}),K.jsx(Ye,{path:"/go-to-site/:siteId",element:K.jsx(bS,{})}),K.jsx(Ye,{path:"/login",element:K.jsx(Hc,{to:"/dz/login",replace:!0})}),K.jsx(Ye,{path:"/signup",element:K.jsx(Hc,{to:"/dz/signup",replace:!0})}),K.jsx(Ye,{path:"/app/*",element:K.jsx(Hc,{to:"/",replace:!0})}),K.jsxs(Ye,{path:"/:countryCode",element:K.jsx(FH,{}),children:[K.jsx(Ye,{index:!0,element:K.jsx(TS,{})}),K.jsx(Ye,{path:"profile/:numericId",element:K.jsx(zW,{})}),K.jsx(Ye,{path:"form",element:K.jsx(UW,{})}),K.jsx(Ye,{path:"public-form/:docId",element:K.jsx(IS,{})}),K.jsx(Ye,{path:"confirmation/:jobId",element:K.jsx(jW,{})}),K.jsx(Ye,{path:"page/:slug",element:K.jsx(GW,{})}),K.jsx(Ye,{path:"service/:type/:id",element:K.jsx(qW,{})}),K.jsx(Ye,{path:"view/:docId",element:K.jsx($W,{})}),K.jsx(Ye,{path:"go-to-site/:siteId",element:K.jsx(bS,{})}),K.jsx(Ye,{path:"find-cafe",element:K.jsx(KW,{})}),K.jsx(Ye,{path:"login",element:K.jsx(WW,{})}),K.jsx(Ye,{path:"signup",element:K.jsx(HW,{})}),K.jsxs(Ye,{path:"app",element:K.jsx(xW,{children:K.jsx(BW,{children:K.jsx(QW,{})})}),children:[K.jsx(Ye,{index:!0,element:K.jsx(YW,{})}),K.jsx(Ye,{path:"pending-jobs",element:K.jsx(JW,{})}),K.jsx(Ye,{path:"generate",element:K.jsx(XW,{})}),K.jsx(Ye,{path:"excel-studio",element:K.jsx(sH,{})}),K.jsx(Ye,{path:"document-studio",element:K.jsx(oH,{})}),K.jsx(Ye,{path:"settings",element:K.jsx(ZW,{})}),K.jsx(Ye,{path:"multi-person-job",element:K.jsx(eH,{})}),K.jsx(Ye,{path:"billing",element:K.jsx(tH,{})}),K.jsx(Ye,{path:"fill-site/:siteId",element:K.jsx(nH,{})}),K.jsx(Ye,{path:"clients",element:K.jsx(rH,{})}),K.jsx(Ye,{path:"view-pdf/:docId",element:K.jsx(iH,{})}),K.jsx(Ye,{path:"chat",element:K.jsx(aH,{})})]})]}),K.jsx(Ye,{path:"*",element:K.jsx(x3,{})})]})})})},VH=()=>K.jsx(SW,{children:K.jsx(kW,{children:K.jsx(hN,{children:K.jsx(RW,{children:K.jsxs(MW,{children:[K.jsx(DW,{}),K.jsx(LH,{}),K.jsx(OH,{}),K.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[K.jsx(AW,{}),K.jsx(MH,{}),K.jsx(NW,{})]})]})})})})}),L3=document.getElementById("root");if(!L3)throw new Error("Could not find root element to mount to");const BH=$R.createRoot(L3);BH.render(K.jsx(Zo.StrictMode,{children:K.jsx(VH,{})}));export{nG as $,sG as A,wG as B,qc as C,DG as D,EG as E,w0 as F,cq as G,JG as H,Uq as I,iG as J,lG as K,al as L,WH as M,GH as N,qH as O,SG as P,BG as Q,Zo as R,UH as S,GG as T,QH as U,$H as V,KH as W,fN as X,_G as Y,AG as Z,xN as _,Ag as a,Qj as a$,a$ as a0,z5 as a1,eG as a2,fG as a3,rG as a4,rq as a5,JH as a6,IG as a7,Fq as a8,FG as a9,ci as aA,lo as aB,Oq as aC,Wq as aD,gq as aE,OG as aF,qG as aG,HH as aH,Kq as aI,qq as aJ,EW as aK,Yq as aL,NG as aM,t$ as aN,hq as aO,tG as aP,VG as aQ,$G as aR,YG as aS,KG as aT,zG as aU,WG as aV,uq as aW,MG as aX,UG as aY,zH as aZ,np as a_,bG as aa,iq as ab,yq as ac,TW as ad,Bn as ae,o0 as af,XG as ag,ba as ah,Bt as ai,pq as aj,cG as ak,Gq as al,Hq as am,sq as an,i8 as ao,je as ap,rC as aq,vq as ar,Sa as as,b0 as at,S0 as au,GS as av,qt as aw,br as ax,ro as ay,$r as az,DS as b,eq as b0,i$ as b1,n$ as b2,aq as b3,_S as b4,LG as b5,mq as b6,aG as b7,fq as b8,TG as b9,Dn as bA,b3 as bB,vG as bC,nq as bD,mG as bE,ZH as bF,Jj as bG,s$ as bH,Xq as bI,pS as bJ,Cg as bK,xG as bL,yG as bM,XH as bN,ZG as bO,dG as bP,S3 as bQ,jH as bR,mS as bS,e$ as bT,vS as bU,r$ as bV,O_ as bW,Vq as bX,Ww as ba,tr as bb,PG as bc,oq as bd,_q as be,$q as bf,Bq as bg,jq as bh,pG as bi,Qq as bj,dq as bk,Jq as bl,zr as bm,Zq as bn,fW as bo,Mq as bp,Lq as bq,hG as br,uG as bs,l0 as bt,mW as bu,h0 as bv,HR as bw,d0 as bx,I3 as by,wS as bz,F_ as c,fI as d,RG as e,HG as f,DN as g,CG as h,YH as i,K as j,kG as k,lq as l,tq as m,Ar as n,Yu as o,o$ as p,QG as q,z as r,jG as s,kN as t,M_ as u,RN as v,NN as w,gG as x,zq as y,oG as z};
