(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dZ(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var UE={exports:{}},Og={},OE={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t8;function fZ(){if(t8)return fn;t8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(B,j,q){this.props=B,this.context=j,this.refs=g,this.updater=q||p}y.prototype.isReactComponent={},y.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function _(){}_.prototype=y.prototype;function x(B,j,q){this.props=B,this.context=j,this.refs=g,this.updater=q||p}var w=x.prototype=new _;w.constructor=x,v(w,y.prototype),w.isPureReactComponent=!0;var C=Array.isArray,D=Object.prototype.hasOwnProperty,R={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function N(B,j,q){var X,Q={},ee=null,ae=null;if(j!=null)for(X in j.ref!==void 0&&(ae=j.ref),j.key!==void 0&&(ee=""+j.key),j)D.call(j,X)&&!S.hasOwnProperty(X)&&(Q[X]=j[X]);var de=arguments.length-2;if(de===1)Q.children=q;else if(1<de){for(var fe=Array(de),Ne=0;Ne<de;Ne++)fe[Ne]=arguments[Ne+2];Q.children=fe}if(B&&B.defaultProps)for(X in de=B.defaultProps,de)Q[X]===void 0&&(Q[X]=de[X]);return{$$typeof:t,type:B,key:ee,ref:ae,props:Q,_owner:R.current}}function k(B,j){return{$$typeof:t,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function P(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(q){return j[q]})}var I=/\/+/g;function U(B,j){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):j.toString(36)}function O(B,j,q,X,Q){var ee=typeof B;(ee==="undefined"||ee==="boolean")&&(B=null);var ae=!1;if(B===null)ae=!0;else switch(ee){case"string":case"number":ae=!0;break;case"object":switch(B.$$typeof){case t:case e:ae=!0}}if(ae)return ae=B,Q=Q(ae),B=X===""?"."+U(ae,0):X,C(Q)?(q="",B!=null&&(q=B.replace(I,"$&/")+"/"),O(Q,j,q,"",function(Ne){return Ne})):Q!=null&&(F(Q)&&(Q=k(Q,q+(!Q.key||ae&&ae.key===Q.key?"":(""+Q.key).replace(I,"$&/")+"/")+B)),j.push(Q)),1;if(ae=0,X=X===""?".":X+":",C(B))for(var de=0;de<B.length;de++){ee=B[de];var fe=X+U(ee,de);ae+=O(ee,j,q,fe,Q)}else if(fe=h(B),typeof fe=="function")for(B=fe.call(B),de=0;!(ee=B.next()).done;)ee=ee.value,fe=X+U(ee,de++),ae+=O(ee,j,q,fe,Q);else if(ee==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ae}function G(B,j,q){if(B==null)return B;var X=[],Q=0;return O(B,X,"","",function(ee){return j.call(q,ee,Q++)}),X}function K(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(q){(B._status===0||B._status===-1)&&(B._status=1,B._result=q)},function(q){(B._status===0||B._status===-1)&&(B._status=2,B._result=q)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var J={current:null},te={transition:null},z={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:te,ReactCurrentOwner:R};function Y(){throw Error("act(...) is not supported in production builds of React.")}return fn.Children={map:G,forEach:function(B,j,q){G(B,function(){j.apply(this,arguments)},q)},count:function(B){var j=0;return G(B,function(){j++}),j},toArray:function(B){return G(B,function(j){return j})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},fn.Component=y,fn.Fragment=n,fn.Profiler=i,fn.PureComponent=x,fn.StrictMode=r,fn.Suspense=l,fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,fn.act=Y,fn.cloneElement=function(B,j,q){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var X=v({},B.props),Q=B.key,ee=B.ref,ae=B._owner;if(j!=null){if(j.ref!==void 0&&(ee=j.ref,ae=R.current),j.key!==void 0&&(Q=""+j.key),B.type&&B.type.defaultProps)var de=B.type.defaultProps;for(fe in j)D.call(j,fe)&&!S.hasOwnProperty(fe)&&(X[fe]=j[fe]===void 0&&de!==void 0?de[fe]:j[fe])}var fe=arguments.length-2;if(fe===1)X.children=q;else if(1<fe){de=Array(fe);for(var Ne=0;Ne<fe;Ne++)de[Ne]=arguments[Ne+2];X.children=de}return{$$typeof:t,type:B.type,key:Q,ref:ee,props:X,_owner:ae}},fn.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},fn.createElement=N,fn.createFactory=function(B){var j=N.bind(null,B);return j.type=B,j},fn.createRef=function(){return{current:null}},fn.forwardRef=function(B){return{$$typeof:o,render:B}},fn.isValidElement=F,fn.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:K}},fn.memo=function(B,j){return{$$typeof:c,type:B,compare:j===void 0?null:j}},fn.startTransition=function(B){var j=te.transition;te.transition={};try{B()}finally{te.transition=j}},fn.unstable_act=Y,fn.useCallback=function(B,j){return J.current.useCallback(B,j)},fn.useContext=function(B){return J.current.useContext(B)},fn.useDebugValue=function(){},fn.useDeferredValue=function(B){return J.current.useDeferredValue(B)},fn.useEffect=function(B,j){return J.current.useEffect(B,j)},fn.useId=function(){return J.current.useId()},fn.useImperativeHandle=function(B,j,q){return J.current.useImperativeHandle(B,j,q)},fn.useInsertionEffect=function(B,j){return J.current.useInsertionEffect(B,j)},fn.useLayoutEffect=function(B,j){return J.current.useLayoutEffect(B,j)},fn.useMemo=function(B,j){return J.current.useMemo(B,j)},fn.useReducer=function(B,j,q){return J.current.useReducer(B,j,q)},fn.useRef=function(B){return J.current.useRef(B)},fn.useState=function(B){return J.current.useState(B)},fn.useSyncExternalStore=function(B,j,q){return J.current.useSyncExternalStore(B,j,q)},fn.useTransition=function(){return J.current.useTransition()},fn.version="18.3.1",fn}var n8;function o_(){return n8||(n8=1,OE.exports=fZ()),OE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r8;function hZ(){if(r8)return Og;r8=1;var t=o_(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:o,key:h,ref:p,props:f,_owner:i.current}}return Og.Fragment=n,Og.jsx=a,Og.jsxs=a,Og}var i8;function pZ(){return i8||(i8=1,UE.exports=hZ()),UE.exports}var d=pZ(),W=o_();const xl=a_(W);var fx={},LE={exports:{}},Ks={},jE={exports:{}},BE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s8;function mZ(){return s8||(s8=1,(function(t){function e(te,z){var Y=te.length;te.push(z);e:for(;0<Y;){var B=Y-1>>>1,j=te[B];if(0<i(j,z))te[B]=z,te[Y]=j,Y=B;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var z=te[0],Y=te.pop();if(Y!==z){te[0]=Y;e:for(var B=0,j=te.length,q=j>>>1;B<q;){var X=2*(B+1)-1,Q=te[X],ee=X+1,ae=te[ee];if(0>i(Q,Y))ee<j&&0>i(ae,Q)?(te[B]=ae,te[ee]=Y,B=ee):(te[B]=Q,te[X]=Y,B=X);else if(ee<j&&0>i(ae,Y))te[B]=ae,te[ee]=Y,B=ee;else break e}}return z}function i(te,z){var Y=te.sortIndex-z.sortIndex;return Y!==0?Y:te.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(te){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=te)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(te){if(g=!1,w(te),!v)if(n(l)!==null)v=!0,K(D);else{var z=n(c);z!==null&&J(C,z.startTime-te)}}function D(te,z){v=!1,g&&(g=!1,_(N),N=-1),p=!0;var Y=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||te&&!P());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var j=B(f.expirationTime<=z);z=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var X=n(c);X!==null&&J(C,X.startTime-z),q=!1}return q}finally{f=null,h=Y,p=!1}}var R=!1,S=null,N=-1,k=5,F=-1;function P(){return!(t.unstable_now()-F<k)}function I(){if(S!==null){var te=t.unstable_now();F=te;var z=!0;try{z=S(!0,te)}finally{z?U():(R=!1,S=null)}}else R=!1}var U;if(typeof x=="function")U=function(){x(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,G=O.port2;O.port1.onmessage=I,U=function(){G.postMessage(null)}}else U=function(){y(I,0)};function K(te){S=te,R||(R=!0,U())}function J(te,z){N=y(function(){te(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,K(D))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Y=h;h=z;try{return te()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,z){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Y=h;h=te;try{return z()}finally{h=Y}},t.unstable_scheduleCallback=function(te,z,Y){var B=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?B+Y:B):Y=B,te){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Y+j,te={id:u++,callback:z,priorityLevel:te,startTime:Y,expirationTime:j,sortIndex:-1},Y>B?(te.sortIndex=Y,e(c,te),n(l)===null&&te===n(c)&&(g?(_(N),N=-1):g=!0,J(C,Y-B))):(te.sortIndex=j,e(l,te),v||p||(v=!0,K(D))),te},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(te){var z=h;return function(){var Y=h;h=z;try{return te.apply(this,arguments)}finally{h=Y}}}})(BE)),BE}var a8;function gZ(){return a8||(a8=1,jE.exports=mZ()),jE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o8;function yZ(){if(o8)return Ks;o8=1;var t=o_(),e=gZ();function n(m){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+m,A=1;A<arguments.length;A++)b+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(m,b){a(m,b),a(m+"Capture",b)}function a(m,b){for(i[m]=b,m=0;m<b.length;m++)r.add(b[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(m){return l.call(f,m)?!0:l.call(u,m)?!1:c.test(m)?f[m]=!0:(u[m]=!0,!1)}function p(m,b,A,L){if(A!==null&&A.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return L?!1:A!==null?!A.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function v(m,b,A,L){if(b===null||typeof b>"u"||p(m,b,A,L))return!0;if(L)return!1;if(A!==null)switch(A.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function g(m,b,A,L,H,ne,be){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=L,this.attributeNamespace=H,this.mustUseProperty=A,this.propertyName=m,this.type=b,this.sanitizeURL=ne,this.removeEmptyString=be}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){y[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var b=m[0];y[b]=new g(b,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){y[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){y[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){y[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){y[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){y[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){y[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){y[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function x(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var b=m.replace(_,x);y[b]=new g(b,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function w(m,b,A,L){var H=y.hasOwnProperty(b)?y[b]:null;(H!==null?H.type!==0:L||!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(v(b,A,H,L)&&(A=null),L||H===null?h(b)&&(A===null?m.removeAttribute(b):m.setAttribute(b,""+A)):H.mustUseProperty?m[H.propertyName]=A===null?H.type===3?!1:"":A:(b=H.attributeName,L=H.attributeNamespace,A===null?m.removeAttribute(b):(H=H.type,A=H===3||H===4&&A===!0?"":""+A,L?m.setAttributeNS(L,b,A):m.setAttribute(b,A))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),R=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),te=Symbol.iterator;function z(m){return m===null||typeof m!="object"?null:(m=te&&m[te]||m["@@iterator"],typeof m=="function"?m:null)}var Y=Object.assign,B;function j(m){if(B===void 0)try{throw Error()}catch(A){var b=A.stack.trim().match(/\n( *(at )?)/);B=b&&b[1]||""}return`
`+B+m}var q=!1;function X(m,b){if(!m||q)return"";q=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(Ze){var L=Ze}Reflect.construct(m,[],b)}else{try{b.call()}catch(Ze){L=Ze}m.call(b.prototype)}else{try{throw Error()}catch(Ze){L=Ze}m()}}catch(Ze){if(Ze&&L&&typeof Ze.stack=="string"){for(var H=Ze.stack.split(`
`),ne=L.stack.split(`
`),be=H.length-1,Pe=ne.length-1;1<=be&&0<=Pe&&H[be]!==ne[Pe];)Pe--;for(;1<=be&&0<=Pe;be--,Pe--)if(H[be]!==ne[Pe]){if(be!==1||Pe!==1)do if(be--,Pe--,0>Pe||H[be]!==ne[Pe]){var je=`
`+H[be].replace(" at new "," at ");return m.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",m.displayName)),je}while(1<=be&&0<=Pe);break}}}finally{q=!1,Error.prepareStackTrace=A}return(m=m?m.displayName||m.name:"")?j(m):""}function Q(m){switch(m.tag){case 5:return j(m.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return m=X(m.type,!1),m;case 11:return m=X(m.type.render,!1),m;case 1:return m=X(m.type,!0),m;default:return""}}function ee(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case S:return"Fragment";case R:return"Portal";case k:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case O:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case P:return(m.displayName||"Context")+".Consumer";case F:return(m._context.displayName||"Context")+".Provider";case I:var b=m.render;return m=m.displayName,m||(m=b.displayName||b.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case G:return b=m.displayName||null,b!==null?b:ee(m.type)||"Memo";case K:b=m._payload,m=m._init;try{return ee(m(b))}catch{}}return null}function ae(m){var b=m.type;switch(m.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=b.render,m=m.displayName||m.name||"",b.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(b);case 8:return b===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function de(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function fe(m){var b=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Ne(m){var b=fe(m)?"checked":"value",A=Object.getOwnPropertyDescriptor(m.constructor.prototype,b),L=""+m[b];if(!m.hasOwnProperty(b)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var H=A.get,ne=A.set;return Object.defineProperty(m,b,{configurable:!0,get:function(){return H.call(this)},set:function(be){L=""+be,ne.call(this,be)}}),Object.defineProperty(m,b,{enumerable:A.enumerable}),{getValue:function(){return L},setValue:function(be){L=""+be},stopTracking:function(){m._valueTracker=null,delete m[b]}}}}function Re(m){m._valueTracker||(m._valueTracker=Ne(m))}function me(m){if(!m)return!1;var b=m._valueTracker;if(!b)return!0;var A=b.getValue(),L="";return m&&(L=fe(m)?m.checked?"true":"false":m.value),m=L,m!==A?(b.setValue(m),!0):!1}function Le(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function V(m,b){var A=b.checked;return Y({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??m._wrapperState.initialChecked})}function ve(m,b){var A=b.defaultValue==null?"":b.defaultValue,L=b.checked!=null?b.checked:b.defaultChecked;A=de(b.value!=null?b.value:A),m._wrapperState={initialChecked:L,initialValue:A,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function we(m,b){b=b.checked,b!=null&&w(m,"checked",b,!1)}function oe(m,b){we(m,b);var A=de(b.value),L=b.type;if(A!=null)L==="number"?(A===0&&m.value===""||m.value!=A)&&(m.value=""+A):m.value!==""+A&&(m.value=""+A);else if(L==="submit"||L==="reset"){m.removeAttribute("value");return}b.hasOwnProperty("value")?le(m,b.type,A):b.hasOwnProperty("defaultValue")&&le(m,b.type,de(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(m.defaultChecked=!!b.defaultChecked)}function re(m,b,A){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var L=b.type;if(!(L!=="submit"&&L!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+m._wrapperState.initialValue,A||b===m.value||(m.value=b),m.defaultValue=b}A=m.name,A!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,A!==""&&(m.name=A)}function le(m,b,A){(b!=="number"||Le(m.ownerDocument)!==m)&&(A==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+A&&(m.defaultValue=""+A))}var he=Array.isArray;function _e(m,b,A,L){if(m=m.options,b){b={};for(var H=0;H<A.length;H++)b["$"+A[H]]=!0;for(A=0;A<m.length;A++)H=b.hasOwnProperty("$"+m[A].value),m[A].selected!==H&&(m[A].selected=H),H&&L&&(m[A].defaultSelected=!0)}else{for(A=""+de(A),b=null,H=0;H<m.length;H++){if(m[H].value===A){m[H].selected=!0,L&&(m[H].defaultSelected=!0);return}b!==null||m[H].disabled||(b=m[H])}b!==null&&(b.selected=!0)}}function ie(m,b){if(b.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},b,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function ce(m,b){var A=b.value;if(A==null){if(A=b.children,b=b.defaultValue,A!=null){if(b!=null)throw Error(n(92));if(he(A)){if(1<A.length)throw Error(n(93));A=A[0]}b=A}b==null&&(b=""),A=b}m._wrapperState={initialValue:de(A)}}function ye(m,b){var A=de(b.value),L=de(b.defaultValue);A!=null&&(A=""+A,A!==m.value&&(m.value=A),b.defaultValue==null&&m.defaultValue!==A&&(m.defaultValue=A)),L!=null&&(m.defaultValue=""+L)}function xe(m){var b=m.textContent;b===m._wrapperState.initialValue&&b!==""&&b!==null&&(m.value=b)}function ke(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(m,b){return m==null||m==="http://www.w3.org/1999/xhtml"?ke(b):m==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Ce,Me=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,A,L,H){MSApp.execUnsafeLocalFunction(function(){return m(b,A,L,H)})}:m})(function(m,b){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=b;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=Ce.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;b.firstChild;)m.appendChild(b.firstChild)}});function Oe(m,b){if(b){var A=m.firstChild;if(A&&A===m.lastChild&&A.nodeType===3){A.nodeValue=b;return}}m.textContent=b}var Ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","ms","Moz","O"];Object.keys(Ke).forEach(function(m){rt.forEach(function(b){b=b+m.charAt(0).toUpperCase()+m.substring(1),Ke[b]=Ke[m]})});function it(m,b,A){return b==null||typeof b=="boolean"||b===""?"":A||typeof b!="number"||b===0||Ke.hasOwnProperty(m)&&Ke[m]?(""+b).trim():b+"px"}function Ot(m,b){m=m.style;for(var A in b)if(b.hasOwnProperty(A)){var L=A.indexOf("--")===0,H=it(A,b[A],L);A==="float"&&(A="cssFloat"),L?m.setProperty(A,H):m[A]=H}}var xn=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ln(m,b){if(b){if(xn[m]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(n(60));if(typeof b.dangerouslySetInnerHTML!="object"||!("__html"in b.dangerouslySetInnerHTML))throw Error(n(61))}if(b.style!=null&&typeof b.style!="object")throw Error(n(62))}}function Ar(m,b){if(m.indexOf("-")===-1)return typeof b.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zn=null;function Bn(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Xn=null,Gt=null,Cn=null;function pe(m){if(m=wg(m)){if(typeof Xn!="function")throw Error(n(280));var b=m.stateNode;b&&(b=D1(b),Xn(m.stateNode,m.type,b))}}function Ee(m){Gt?Cn?Cn.push(m):Cn=[m]:Gt=m}function Fe(){if(Gt){var m=Gt,b=Cn;if(Cn=Gt=null,pe(m),b)for(m=0;m<b.length;m++)pe(b[m])}}function Je(m,b){return m(b)}function lt(){}var kt=!1;function on(m,b,A){if(kt)return m(b,A);kt=!0;try{return Je(m,b,A)}finally{kt=!1,(Gt!==null||Cn!==null)&&(lt(),Fe())}}function nn(m,b){var A=m.stateNode;if(A===null)return null;var L=D1(A);if(L===null)return null;A=L[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(m=m.type,L=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!L;break e;default:m=!1}if(m)return null;if(A&&typeof A!="function")throw Error(n(231,b,typeof A));return A}var nr=!1;if(o)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{nr=!1}function Kr(m,b,A,L,H,ne,be,Pe,je){var Ze=Array.prototype.slice.call(arguments,3);try{b.apply(A,Ze)}catch(ft){this.onError(ft)}}var Ye=!1,dt=null,ue=!1,Se=null,ge={onError:function(m){Ye=!0,dt=m}};function Te(m,b,A,L,H,ne,be,Pe,je){Ye=!1,dt=null,Kr.apply(ge,arguments)}function De(m,b,A,L,H,ne,be,Pe,je){if(Te.apply(this,arguments),Ye){if(Ye){var Ze=dt;Ye=!1,dt=null}else throw Error(n(198));ue||(ue=!0,Se=Ze)}}function Ie(m){var b=m,A=m;if(m.alternate)for(;b.return;)b=b.return;else{m=b;do b=m,(b.flags&4098)!==0&&(A=b.return),m=b.return;while(m)}return b.tag===3?A:null}function We(m){if(m.tag===13){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function Qe(m){if(Ie(m)!==m)throw Error(n(188))}function Be(m){var b=m.alternate;if(!b){if(b=Ie(m),b===null)throw Error(n(188));return b!==m?null:m}for(var A=m,L=b;;){var H=A.return;if(H===null)break;var ne=H.alternate;if(ne===null){if(L=H.return,L!==null){A=L;continue}break}if(H.child===ne.child){for(ne=H.child;ne;){if(ne===A)return Qe(H),m;if(ne===L)return Qe(H),b;ne=ne.sibling}throw Error(n(188))}if(A.return!==L.return)A=H,L=ne;else{for(var be=!1,Pe=H.child;Pe;){if(Pe===A){be=!0,A=H,L=ne;break}if(Pe===L){be=!0,L=H,A=ne;break}Pe=Pe.sibling}if(!be){for(Pe=ne.child;Pe;){if(Pe===A){be=!0,A=ne,L=H;break}if(Pe===L){be=!0,L=ne,A=H;break}Pe=Pe.sibling}if(!be)throw Error(n(189))}}if(A.alternate!==L)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?m:b}function qe(m){return m=Be(m),m!==null?$e(m):null}function $e(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var b=$e(m);if(b!==null)return b;m=m.sibling}return null}var ot=e.unstable_scheduleCallback,gt=e.unstable_cancelCallback,Et=e.unstable_shouldYield,yt=e.unstable_requestPaint,ht=e.unstable_now,Jt=e.unstable_getCurrentPriorityLevel,Fn=e.unstable_ImmediatePriority,Sn=e.unstable_UserBlockingPriority,Vn=e.unstable_NormalPriority,uo=e.unstable_LowPriority,zo=e.unstable_IdlePriority,da=null,Xr=null;function Pc(m){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(da,m,void 0,(m.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:s1,ag=Math.log,i1=Math.LN2;function s1(m){return m>>>=0,m===0?32:31-(ag(m)/i1|0)|0}var ph=64,mh=4194304;function Fc(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function hd(m,b){var A=m.pendingLanes;if(A===0)return 0;var L=0,H=m.suspendedLanes,ne=m.pingedLanes,be=A&268435455;if(be!==0){var Pe=be&~H;Pe!==0?L=Fc(Pe):(ne&=be,ne!==0&&(L=Fc(ne)))}else be=A&~H,be!==0?L=Fc(be):ne!==0&&(L=Fc(ne));if(L===0)return 0;if(b!==0&&b!==L&&(b&H)===0&&(H=L&-L,ne=b&-b,H>=ne||H===16&&(ne&4194240)!==0))return b;if((L&4)!==0&&(L|=A&16),b=m.entangledLanes,b!==0)for(m=m.entanglements,b&=L;0<b;)A=31-cr(b),H=1<<A,L|=m[A],b&=~H;return L}function fT(m,b){switch(m){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ml(m,b){for(var A=m.suspendedLanes,L=m.pingedLanes,H=m.expirationTimes,ne=m.pendingLanes;0<ne;){var be=31-cr(ne),Pe=1<<be,je=H[be];je===-1?((Pe&A)===0||(Pe&L)!==0)&&(H[be]=fT(Pe,b)):je<=b&&(m.expiredLanes|=Pe),ne&=~Pe}}function fa(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function pd(){var m=ph;return ph<<=1,(ph&4194240)===0&&(ph=64),m}function Mc(m){for(var b=[],A=0;31>A;A++)b.push(m);return b}function Uc(m,b,A){m.pendingLanes|=b,b!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,b=31-cr(b),m[b]=A}function er(m,b){var A=m.pendingLanes&~b;m.pendingLanes=b,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=b,m.mutableReadLanes&=b,m.entangledLanes&=b,b=m.entanglements;var L=m.eventTimes;for(m=m.expirationTimes;0<A;){var H=31-cr(A),ne=1<<H;b[H]=0,L[H]=-1,m[H]=-1,A&=~ne}}function Oc(m,b){var A=m.entangledLanes|=b;for(m=m.entanglements;A;){var L=31-cr(A),H=1<<L;H&b|m[L]&b&&(m[L]|=b),A&=~H}}var vn=0;function Lc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var a1,gh,o1,l1,c1,og=!1,Ho=[],Wi=null,fo=null,ho=null,jc=new Map,Ra=new Map,Go=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u1(m,b){switch(m){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":jc.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(b.pointerId)}}function Vs(m,b,A,L,H,ne){return m===null||m.nativeEvent!==ne?(m={blockedOn:b,domEventName:A,eventSystemFlags:L,nativeEvent:ne,targetContainers:[H]},b!==null&&(b=wg(b),b!==null&&gh(b)),m):(m.eventSystemFlags|=L,b=m.targetContainers,H!==null&&b.indexOf(H)===-1&&b.push(H),m)}function pT(m,b,A,L,H){switch(b){case"focusin":return Wi=Vs(Wi,m,b,A,L,H),!0;case"dragenter":return fo=Vs(fo,m,b,A,L,H),!0;case"mouseover":return ho=Vs(ho,m,b,A,L,H),!0;case"pointerover":var ne=H.pointerId;return jc.set(ne,Vs(jc.get(ne)||null,m,b,A,L,H)),!0;case"gotpointercapture":return ne=H.pointerId,Ra.set(ne,Vs(Ra.get(ne)||null,m,b,A,L,H)),!0}return!1}function d1(m){var b=xd(m.target);if(b!==null){var A=Ie(b);if(A!==null){if(b=A.tag,b===13){if(b=We(A),b!==null){m.blockedOn=b,c1(m.priority,function(){o1(A)});return}}else if(b===3&&A.stateNode.current.memoizedState.isDehydrated){m.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Ul(m){if(m.blockedOn!==null)return!1;for(var b=m.targetContainers;0<b.length;){var A=yh(m.domEventName,m.eventSystemFlags,b[0],m.nativeEvent);if(A===null){A=m.nativeEvent;var L=new A.constructor(A.type,A);Zn=L,A.target.dispatchEvent(L),Zn=null}else return b=wg(A),b!==null&&gh(b),m.blockedOn=A,!1;b.shift()}return!0}function md(m,b,A){Ul(m)&&A.delete(b)}function f1(){og=!1,Wi!==null&&Ul(Wi)&&(Wi=null),fo!==null&&Ul(fo)&&(fo=null),ho!==null&&Ul(ho)&&(ho=null),jc.forEach(md),Ra.forEach(md)}function po(m,b){m.blockedOn===b&&(m.blockedOn=null,og||(og=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,f1)))}function mo(m){function b(H){return po(H,m)}if(0<Ho.length){po(Ho[0],m);for(var A=1;A<Ho.length;A++){var L=Ho[A];L.blockedOn===m&&(L.blockedOn=null)}}for(Wi!==null&&po(Wi,m),fo!==null&&po(fo,m),ho!==null&&po(ho,m),jc.forEach(b),Ra.forEach(b),A=0;A<Go.length;A++)L=Go[A],L.blockedOn===m&&(L.blockedOn=null);for(;0<Go.length&&(A=Go[0],A.blockedOn===null);)d1(A),A.blockedOn===null&&Go.shift()}var Ol=C.ReactCurrentBatchConfig,Bc=!0;function xr(m,b,A,L){var H=vn,ne=Ol.transition;Ol.transition=null;try{vn=1,lg(m,b,A,L)}finally{vn=H,Ol.transition=ne}}function mT(m,b,A,L){var H=vn,ne=Ol.transition;Ol.transition=null;try{vn=4,lg(m,b,A,L)}finally{vn=H,Ol.transition=ne}}function lg(m,b,A,L){if(Bc){var H=yh(m,b,A,L);if(H===null)ST(m,b,L,gd,A),u1(m,L);else if(pT(H,m,b,A,L))L.stopPropagation();else if(u1(m,L),b&4&&-1<hT.indexOf(m)){for(;H!==null;){var ne=wg(H);if(ne!==null&&a1(ne),ne=yh(m,b,A,L),ne===null&&ST(m,b,L,gd,A),ne===H)break;H=ne}H!==null&&L.stopPropagation()}else ST(m,b,L,null,A)}}var gd=null;function yh(m,b,A,L){if(gd=null,m=Bn(L),m=xd(m),m!==null)if(b=Ie(m),b===null)m=null;else if(A=b.tag,A===13){if(m=We(b),m!==null)return m;m=null}else if(A===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;m=null}else b!==m&&(m=null);return gd=m,null}function cg(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Fn:return 1;case Sn:return 4;case Vn:case uo:return 16;case zo:return 536870912;default:return 16}default:return 16}}var ha=null,vh=null,Ws=null;function ug(){if(Ws)return Ws;var m,b=vh,A=b.length,L,H="value"in ha?ha.value:ha.textContent,ne=H.length;for(m=0;m<A&&b[m]===H[m];m++);var be=A-m;for(L=1;L<=be&&b[A-L]===H[ne-L];L++);return Ws=H.slice(m,1<L?1-L:void 0)}function xh(m){var b=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&b===13&&(m=13)):m=b,m===10&&(m=13),32<=m||m===13?m:0}function Ko(){return!0}function dg(){return!1}function qi(m){function b(A,L,H,ne,be){this._reactName=A,this._targetInst=H,this.type=L,this.nativeEvent=ne,this.target=be,this.currentTarget=null;for(var Pe in m)m.hasOwnProperty(Pe)&&(A=m[Pe],this[Pe]=A?A(ne):ne[Pe]);return this.isDefaultPrevented=(ne.defaultPrevented!=null?ne.defaultPrevented:ne.returnValue===!1)?Ko:dg,this.isPropagationStopped=dg,this}return Y(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),b}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bh=qi(go),Xo=Y({},go,{view:0,detail:0}),gT=qi(Xo),_h,Ll,Vc,yd=Y({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Vc&&(Vc&&m.type==="mousemove"?(_h=m.screenX-Vc.screenX,Ll=m.screenY-Vc.screenY):Ll=_h=0,Vc=m),_h)},movementY:function(m){return"movementY"in m?m.movementY:Ll}}),wh=qi(yd),fg=Y({},yd,{dataTransfer:0}),h1=qi(fg),Th=Y({},Xo,{relatedTarget:0}),Eh=qi(Th),p1=Y({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),jl=qi(p1),m1=Y({},go,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),g1=qi(m1),y1=Y({},go,{data:0}),hg=qi(y1),Ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ss={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x1(m){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(m):(m=v1[m])?!!b[m]:!1}function Jo(){return x1}var M=Y({},Xo,{key:function(m){if(m.key){var b=Ch[m.key]||m.key;if(b!=="Unidentified")return b}return m.type==="keypress"?(m=xh(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Ss[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(m){return m.type==="keypress"?xh(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?xh(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Z=qi(M),se=Y({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ae=qi(se),He=Y({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),tt=qi(He),wt=Y({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wn=qi(wt),hi=Y({},yd,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),bn=qi(hi),Si=[9,13,27,32],si=o&&"CompositionEvent"in window,Pa=null;o&&"documentMode"in document&&(Pa=document.documentMode);var pa=o&&"TextEvent"in window&&!Pa,vd=o&&(!si||Pa&&8<Pa&&11>=Pa),Sh=" ",X6=!1;function J6(m,b){switch(m){case"keyup":return Si.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y6(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Dh=!1;function lQ(m,b){switch(m){case"compositionend":return Y6(b);case"keypress":return b.which!==32?null:(X6=!0,Sh);case"textInput":return m=b.data,m===Sh&&X6?null:m;default:return null}}function cQ(m,b){if(Dh)return m==="compositionend"||!si&&J6(m,b)?(m=ug(),Ws=vh=ha=null,Dh=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return vd&&b.locale!=="ko"?null:b.data;default:return null}}var uQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q6(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b==="input"?!!uQ[m.type]:b==="textarea"}function Z6(m,b,A,L){Ee(L),b=E1(b,"onChange"),0<b.length&&(A=new bh("onChange","change",null,A,L),m.push({event:A,listeners:b}))}var pg=null,mg=null;function dQ(m){yR(m,0)}function b1(m){var b=Rh(m);if(me(b))return m}function fQ(m,b){if(m==="change")return b}var eR=!1;if(o){var yT;if(o){var vT="oninput"in document;if(!vT){var tR=document.createElement("div");tR.setAttribute("oninput","return;"),vT=typeof tR.oninput=="function"}yT=vT}else yT=!1;eR=yT&&(!document.documentMode||9<document.documentMode)}function nR(){pg&&(pg.detachEvent("onpropertychange",rR),mg=pg=null)}function rR(m){if(m.propertyName==="value"&&b1(mg)){var b=[];Z6(b,mg,m,Bn(m)),on(dQ,b)}}function hQ(m,b,A){m==="focusin"?(nR(),pg=b,mg=A,pg.attachEvent("onpropertychange",rR)):m==="focusout"&&nR()}function pQ(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return b1(mg)}function mQ(m,b){if(m==="click")return b1(b)}function gQ(m,b){if(m==="input"||m==="change")return b1(b)}function yQ(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var yo=typeof Object.is=="function"?Object.is:yQ;function gg(m,b){if(yo(m,b))return!0;if(typeof m!="object"||m===null||typeof b!="object"||b===null)return!1;var A=Object.keys(m),L=Object.keys(b);if(A.length!==L.length)return!1;for(L=0;L<A.length;L++){var H=A[L];if(!l.call(b,H)||!yo(m[H],b[H]))return!1}return!0}function iR(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function sR(m,b){var A=iR(m);m=0;for(var L;A;){if(A.nodeType===3){if(L=m+A.textContent.length,m<=b&&L>=b)return{node:A,offset:b-m};m=L}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=iR(A)}}function aR(m,b){return m&&b?m===b?!0:m&&m.nodeType===3?!1:b&&b.nodeType===3?aR(m,b.parentNode):"contains"in m?m.contains(b):m.compareDocumentPosition?!!(m.compareDocumentPosition(b)&16):!1:!1}function oR(){for(var m=window,b=Le();b instanceof m.HTMLIFrameElement;){try{var A=typeof b.contentWindow.location.href=="string"}catch{A=!1}if(A)m=b.contentWindow;else break;b=Le(m.document)}return b}function xT(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b&&(b==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||b==="textarea"||m.contentEditable==="true")}function vQ(m){var b=oR(),A=m.focusedElem,L=m.selectionRange;if(b!==A&&A&&A.ownerDocument&&aR(A.ownerDocument.documentElement,A)){if(L!==null&&xT(A)){if(b=L.start,m=L.end,m===void 0&&(m=b),"selectionStart"in A)A.selectionStart=b,A.selectionEnd=Math.min(m,A.value.length);else if(m=(b=A.ownerDocument||document)&&b.defaultView||window,m.getSelection){m=m.getSelection();var H=A.textContent.length,ne=Math.min(L.start,H);L=L.end===void 0?ne:Math.min(L.end,H),!m.extend&&ne>L&&(H=L,L=ne,ne=H),H=sR(A,ne);var be=sR(A,L);H&&be&&(m.rangeCount!==1||m.anchorNode!==H.node||m.anchorOffset!==H.offset||m.focusNode!==be.node||m.focusOffset!==be.offset)&&(b=b.createRange(),b.setStart(H.node,H.offset),m.removeAllRanges(),ne>L?(m.addRange(b),m.extend(be.node,be.offset)):(b.setEnd(be.node,be.offset),m.addRange(b)))}}for(b=[],m=A;m=m.parentNode;)m.nodeType===1&&b.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<b.length;A++)m=b[A],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var xQ=o&&"documentMode"in document&&11>=document.documentMode,Ah=null,bT=null,yg=null,_T=!1;function lR(m,b,A){var L=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;_T||Ah==null||Ah!==Le(L)||(L=Ah,"selectionStart"in L&&xT(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),yg&&gg(yg,L)||(yg=L,L=E1(bT,"onSelect"),0<L.length&&(b=new bh("onSelect","select",null,b,A),m.push({event:b,listeners:L}),b.target=Ah)))}function _1(m,b){var A={};return A[m.toLowerCase()]=b.toLowerCase(),A["Webkit"+m]="webkit"+b,A["Moz"+m]="moz"+b,A}var Nh={animationend:_1("Animation","AnimationEnd"),animationiteration:_1("Animation","AnimationIteration"),animationstart:_1("Animation","AnimationStart"),transitionend:_1("Transition","TransitionEnd")},wT={},cR={};o&&(cR=document.createElement("div").style,"AnimationEvent"in window||(delete Nh.animationend.animation,delete Nh.animationiteration.animation,delete Nh.animationstart.animation),"TransitionEvent"in window||delete Nh.transitionend.transition);function w1(m){if(wT[m])return wT[m];if(!Nh[m])return m;var b=Nh[m],A;for(A in b)if(b.hasOwnProperty(A)&&A in cR)return wT[m]=b[A];return m}var uR=w1("animationend"),dR=w1("animationiteration"),fR=w1("animationstart"),hR=w1("transitionend"),pR=new Map,mR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wc(m,b){pR.set(m,b),s(b,[m])}for(var TT=0;TT<mR.length;TT++){var ET=mR[TT],bQ=ET.toLowerCase(),_Q=ET[0].toUpperCase()+ET.slice(1);Wc(bQ,"on"+_Q)}Wc(uR,"onAnimationEnd"),Wc(dR,"onAnimationIteration"),Wc(fR,"onAnimationStart"),Wc("dblclick","onDoubleClick"),Wc("focusin","onFocus"),Wc("focusout","onBlur"),Wc(hR,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(vg));function gR(m,b,A){var L=m.type||"unknown-event";m.currentTarget=A,De(L,b,void 0,m),m.currentTarget=null}function yR(m,b){b=(b&4)!==0;for(var A=0;A<m.length;A++){var L=m[A],H=L.event;L=L.listeners;e:{var ne=void 0;if(b)for(var be=L.length-1;0<=be;be--){var Pe=L[be],je=Pe.instance,Ze=Pe.currentTarget;if(Pe=Pe.listener,je!==ne&&H.isPropagationStopped())break e;gR(H,Pe,Ze),ne=je}else for(be=0;be<L.length;be++){if(Pe=L[be],je=Pe.instance,Ze=Pe.currentTarget,Pe=Pe.listener,je!==ne&&H.isPropagationStopped())break e;gR(H,Pe,Ze),ne=je}}}if(ue)throw m=Se,ue=!1,Se=null,m}function ur(m,b){var A=b[RT];A===void 0&&(A=b[RT]=new Set);var L=m+"__bubble";A.has(L)||(vR(b,m,2,!1),A.add(L))}function CT(m,b,A){var L=0;b&&(L|=4),vR(A,m,L,b)}var T1="_reactListening"+Math.random().toString(36).slice(2);function xg(m){if(!m[T1]){m[T1]=!0,r.forEach(function(A){A!=="selectionchange"&&(wQ.has(A)||CT(A,!1,m),CT(A,!0,m))});var b=m.nodeType===9?m:m.ownerDocument;b===null||b[T1]||(b[T1]=!0,CT("selectionchange",!1,b))}}function vR(m,b,A,L){switch(cg(b)){case 1:var H=xr;break;case 4:H=mT;break;default:H=lg}A=H.bind(null,b,A,m),H=void 0,!nr||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(H=!0),L?H!==void 0?m.addEventListener(b,A,{capture:!0,passive:H}):m.addEventListener(b,A,!0):H!==void 0?m.addEventListener(b,A,{passive:H}):m.addEventListener(b,A,!1)}function ST(m,b,A,L,H){var ne=L;if((b&1)===0&&(b&2)===0&&L!==null)e:for(;;){if(L===null)return;var be=L.tag;if(be===3||be===4){var Pe=L.stateNode.containerInfo;if(Pe===H||Pe.nodeType===8&&Pe.parentNode===H)break;if(be===4)for(be=L.return;be!==null;){var je=be.tag;if((je===3||je===4)&&(je=be.stateNode.containerInfo,je===H||je.nodeType===8&&je.parentNode===H))return;be=be.return}for(;Pe!==null;){if(be=xd(Pe),be===null)return;if(je=be.tag,je===5||je===6){L=ne=be;continue e}Pe=Pe.parentNode}}L=L.return}on(function(){var Ze=ne,ft=Bn(A),mt=[];e:{var ct=pR.get(m);if(ct!==void 0){var At=bh,Pt=m;switch(m){case"keypress":if(xh(A)===0)break e;case"keydown":case"keyup":At=Z;break;case"focusin":Pt="focus",At=Eh;break;case"focusout":Pt="blur",At=Eh;break;case"beforeblur":case"afterblur":At=Eh;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=tt;break;case uR:case dR:case fR:At=jl;break;case hR:At=Wn;break;case"scroll":At=gT;break;case"wheel":At=bn;break;case"copy":case"cut":case"paste":At=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=Ae}var Ut=(b&4)!==0,Jr=!Ut&&m==="scroll",Ge=Ut?ct!==null?ct+"Capture":null:ct;Ut=[];for(var Ve=Ze,Xe;Ve!==null;){Xe=Ve;var xt=Xe.stateNode;if(Xe.tag===5&&xt!==null&&(Xe=xt,Ge!==null&&(xt=nn(Ve,Ge),xt!=null&&Ut.push(bg(Ve,xt,Xe)))),Jr)break;Ve=Ve.return}0<Ut.length&&(ct=new At(ct,Pt,null,A,ft),mt.push({event:ct,listeners:Ut}))}}if((b&7)===0){e:{if(ct=m==="mouseover"||m==="pointerover",At=m==="mouseout"||m==="pointerout",ct&&A!==Zn&&(Pt=A.relatedTarget||A.fromElement)&&(xd(Pt)||Pt[Bl]))break e;if((At||ct)&&(ct=ft.window===ft?ft:(ct=ft.ownerDocument)?ct.defaultView||ct.parentWindow:window,At?(Pt=A.relatedTarget||A.toElement,At=Ze,Pt=Pt?xd(Pt):null,Pt!==null&&(Jr=Ie(Pt),Pt!==Jr||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(At=null,Pt=Ze),At!==Pt)){if(Ut=wh,xt="onMouseLeave",Ge="onMouseEnter",Ve="mouse",(m==="pointerout"||m==="pointerover")&&(Ut=Ae,xt="onPointerLeave",Ge="onPointerEnter",Ve="pointer"),Jr=At==null?ct:Rh(At),Xe=Pt==null?ct:Rh(Pt),ct=new Ut(xt,Ve+"leave",At,A,ft),ct.target=Jr,ct.relatedTarget=Xe,xt=null,xd(ft)===Ze&&(Ut=new Ut(Ge,Ve+"enter",Pt,A,ft),Ut.target=Xe,Ut.relatedTarget=Jr,xt=Ut),Jr=xt,At&&Pt)t:{for(Ut=At,Ge=Pt,Ve=0,Xe=Ut;Xe;Xe=kh(Xe))Ve++;for(Xe=0,xt=Ge;xt;xt=kh(xt))Xe++;for(;0<Ve-Xe;)Ut=kh(Ut),Ve--;for(;0<Xe-Ve;)Ge=kh(Ge),Xe--;for(;Ve--;){if(Ut===Ge||Ge!==null&&Ut===Ge.alternate)break t;Ut=kh(Ut),Ge=kh(Ge)}Ut=null}else Ut=null;At!==null&&xR(mt,ct,At,Ut,!1),Pt!==null&&Jr!==null&&xR(mt,Jr,Pt,Ut,!0)}}e:{if(ct=Ze?Rh(Ze):window,At=ct.nodeName&&ct.nodeName.toLowerCase(),At==="select"||At==="input"&&ct.type==="file")var Lt=fQ;else if(Q6(ct))if(eR)Lt=gQ;else{Lt=pQ;var Vt=hQ}else(At=ct.nodeName)&&At.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(Lt=mQ);if(Lt&&(Lt=Lt(m,Ze))){Z6(mt,Lt,A,ft);break e}Vt&&Vt(m,ct,Ze),m==="focusout"&&(Vt=ct._wrapperState)&&Vt.controlled&&ct.type==="number"&&le(ct,"number",ct.value)}switch(Vt=Ze?Rh(Ze):window,m){case"focusin":(Q6(Vt)||Vt.contentEditable==="true")&&(Ah=Vt,bT=Ze,yg=null);break;case"focusout":yg=bT=Ah=null;break;case"mousedown":_T=!0;break;case"contextmenu":case"mouseup":case"dragend":_T=!1,lR(mt,A,ft);break;case"selectionchange":if(xQ)break;case"keydown":case"keyup":lR(mt,A,ft)}var Wt;if(si)e:{switch(m){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else Dh?J6(m,A)&&(Qt="onCompositionEnd"):m==="keydown"&&A.keyCode===229&&(Qt="onCompositionStart");Qt&&(vd&&A.locale!=="ko"&&(Dh||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&Dh&&(Wt=ug()):(ha=ft,vh="value"in ha?ha.value:ha.textContent,Dh=!0)),Vt=E1(Ze,Qt),0<Vt.length&&(Qt=new hg(Qt,m,null,A,ft),mt.push({event:Qt,listeners:Vt}),Wt?Qt.data=Wt:(Wt=Y6(A),Wt!==null&&(Qt.data=Wt)))),(Wt=pa?lQ(m,A):cQ(m,A))&&(Ze=E1(Ze,"onBeforeInput"),0<Ze.length&&(ft=new hg("onBeforeInput","beforeinput",null,A,ft),mt.push({event:ft,listeners:Ze}),ft.data=Wt))}yR(mt,b)})}function bg(m,b,A){return{instance:m,listener:b,currentTarget:A}}function E1(m,b){for(var A=b+"Capture",L=[];m!==null;){var H=m,ne=H.stateNode;H.tag===5&&ne!==null&&(H=ne,ne=nn(m,A),ne!=null&&L.unshift(bg(m,ne,H)),ne=nn(m,b),ne!=null&&L.push(bg(m,ne,H))),m=m.return}return L}function kh(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function xR(m,b,A,L,H){for(var ne=b._reactName,be=[];A!==null&&A!==L;){var Pe=A,je=Pe.alternate,Ze=Pe.stateNode;if(je!==null&&je===L)break;Pe.tag===5&&Ze!==null&&(Pe=Ze,H?(je=nn(A,ne),je!=null&&be.unshift(bg(A,je,Pe))):H||(je=nn(A,ne),je!=null&&be.push(bg(A,je,Pe)))),A=A.return}be.length!==0&&m.push({event:b,listeners:be})}var TQ=/\r\n?/g,EQ=/\u0000|\uFFFD/g;function bR(m){return(typeof m=="string"?m:""+m).replace(TQ,`
`).replace(EQ,"")}function C1(m,b,A){if(b=bR(b),bR(m)!==b&&A)throw Error(n(425))}function S1(){}var DT=null,AT=null;function NT(m,b){return m==="textarea"||m==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var kT=typeof setTimeout=="function"?setTimeout:void 0,CQ=typeof clearTimeout=="function"?clearTimeout:void 0,_R=typeof Promise=="function"?Promise:void 0,SQ=typeof queueMicrotask=="function"?queueMicrotask:typeof _R<"u"?function(m){return _R.resolve(null).then(m).catch(DQ)}:kT;function DQ(m){setTimeout(function(){throw m})}function IT(m,b){var A=b,L=0;do{var H=A.nextSibling;if(m.removeChild(A),H&&H.nodeType===8)if(A=H.data,A==="/$"){if(L===0){m.removeChild(H),mo(b);return}L--}else A!=="$"&&A!=="$?"&&A!=="$!"||L++;A=H}while(A);mo(b)}function qc(m){for(;m!=null;m=m.nextSibling){var b=m.nodeType;if(b===1||b===3)break;if(b===8){if(b=m.data,b==="$"||b==="$!"||b==="$?")break;if(b==="/$")return null}}return m}function wR(m){m=m.previousSibling;for(var b=0;m;){if(m.nodeType===8){var A=m.data;if(A==="$"||A==="$!"||A==="$?"){if(b===0)return m;b--}else A==="/$"&&b++}m=m.previousSibling}return null}var Ih=Math.random().toString(36).slice(2),Yo="__reactFiber$"+Ih,_g="__reactProps$"+Ih,Bl="__reactContainer$"+Ih,RT="__reactEvents$"+Ih,AQ="__reactListeners$"+Ih,NQ="__reactHandles$"+Ih;function xd(m){var b=m[Yo];if(b)return b;for(var A=m.parentNode;A;){if(b=A[Bl]||A[Yo]){if(A=b.alternate,b.child!==null||A!==null&&A.child!==null)for(m=wR(m);m!==null;){if(A=m[Yo])return A;m=wR(m)}return b}m=A,A=m.parentNode}return null}function wg(m){return m=m[Yo]||m[Bl],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Rh(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function D1(m){return m[_g]||null}var PT=[],Ph=-1;function $c(m){return{current:m}}function dr(m){0>Ph||(m.current=PT[Ph],PT[Ph]=null,Ph--)}function rr(m,b){Ph++,PT[Ph]=m.current,m.current=b}var zc={},es=$c(zc),qs=$c(!1),bd=zc;function Fh(m,b){var A=m.type.contextTypes;if(!A)return zc;var L=m.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===b)return L.__reactInternalMemoizedMaskedChildContext;var H={},ne;for(ne in A)H[ne]=b[ne];return L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=b,m.__reactInternalMemoizedMaskedChildContext=H),H}function $s(m){return m=m.childContextTypes,m!=null}function A1(){dr(qs),dr(es)}function TR(m,b,A){if(es.current!==zc)throw Error(n(168));rr(es,b),rr(qs,A)}function ER(m,b,A){var L=m.stateNode;if(b=b.childContextTypes,typeof L.getChildContext!="function")return A;L=L.getChildContext();for(var H in L)if(!(H in b))throw Error(n(108,ae(m)||"Unknown",H));return Y({},A,L)}function N1(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||zc,bd=es.current,rr(es,m),rr(qs,qs.current),!0}function CR(m,b,A){var L=m.stateNode;if(!L)throw Error(n(169));A?(m=ER(m,b,bd),L.__reactInternalMemoizedMergedChildContext=m,dr(qs),dr(es),rr(es,m)):dr(qs),rr(qs,A)}var Vl=null,k1=!1,FT=!1;function SR(m){Vl===null?Vl=[m]:Vl.push(m)}function kQ(m){k1=!0,SR(m)}function Hc(){if(!FT&&Vl!==null){FT=!0;var m=0,b=vn;try{var A=Vl;for(vn=1;m<A.length;m++){var L=A[m];do L=L(!0);while(L!==null)}Vl=null,k1=!1}catch(H){throw Vl!==null&&(Vl=Vl.slice(m+1)),ot(Fn,Hc),H}finally{vn=b,FT=!1}}return null}var Mh=[],Uh=0,I1=null,R1=0,Fa=[],Ma=0,_d=null,Wl=1,ql="";function wd(m,b){Mh[Uh++]=R1,Mh[Uh++]=I1,I1=m,R1=b}function DR(m,b,A){Fa[Ma++]=Wl,Fa[Ma++]=ql,Fa[Ma++]=_d,_d=m;var L=Wl;m=ql;var H=32-cr(L)-1;L&=~(1<<H),A+=1;var ne=32-cr(b)+H;if(30<ne){var be=H-H%5;ne=(L&(1<<be)-1).toString(32),L>>=be,H-=be,Wl=1<<32-cr(b)+H|A<<H|L,ql=ne+m}else Wl=1<<ne|A<<H|L,ql=m}function MT(m){m.return!==null&&(wd(m,1),DR(m,1,0))}function UT(m){for(;m===I1;)I1=Mh[--Uh],Mh[Uh]=null,R1=Mh[--Uh],Mh[Uh]=null;for(;m===_d;)_d=Fa[--Ma],Fa[Ma]=null,ql=Fa[--Ma],Fa[Ma]=null,Wl=Fa[--Ma],Fa[Ma]=null}var ma=null,ga=null,br=!1,vo=null;function AR(m,b){var A=ja(5,null,null,0);A.elementType="DELETED",A.stateNode=b,A.return=m,b=m.deletions,b===null?(m.deletions=[A],m.flags|=16):b.push(A)}function NR(m,b){switch(m.tag){case 5:var A=m.type;return b=b.nodeType!==1||A.toLowerCase()!==b.nodeName.toLowerCase()?null:b,b!==null?(m.stateNode=b,ma=m,ga=qc(b.firstChild),!0):!1;case 6:return b=m.pendingProps===""||b.nodeType!==3?null:b,b!==null?(m.stateNode=b,ma=m,ga=null,!0):!1;case 13:return b=b.nodeType!==8?null:b,b!==null?(A=_d!==null?{id:Wl,overflow:ql}:null,m.memoizedState={dehydrated:b,treeContext:A,retryLane:1073741824},A=ja(18,null,null,0),A.stateNode=b,A.return=m,m.child=A,ma=m,ga=null,!0):!1;default:return!1}}function OT(m){return(m.mode&1)!==0&&(m.flags&128)===0}function LT(m){if(br){var b=ga;if(b){var A=b;if(!NR(m,b)){if(OT(m))throw Error(n(418));b=qc(A.nextSibling);var L=ma;b&&NR(m,b)?AR(L,A):(m.flags=m.flags&-4097|2,br=!1,ma=m)}}else{if(OT(m))throw Error(n(418));m.flags=m.flags&-4097|2,br=!1,ma=m}}}function kR(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;ma=m}function P1(m){if(m!==ma)return!1;if(!br)return kR(m),br=!0,!1;var b;if((b=m.tag!==3)&&!(b=m.tag!==5)&&(b=m.type,b=b!=="head"&&b!=="body"&&!NT(m.type,m.memoizedProps)),b&&(b=ga)){if(OT(m))throw IR(),Error(n(418));for(;b;)AR(m,b),b=qc(b.nextSibling)}if(kR(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,b=0;m;){if(m.nodeType===8){var A=m.data;if(A==="/$"){if(b===0){ga=qc(m.nextSibling);break e}b--}else A!=="$"&&A!=="$!"&&A!=="$?"||b++}m=m.nextSibling}ga=null}}else ga=ma?qc(m.stateNode.nextSibling):null;return!0}function IR(){for(var m=ga;m;)m=qc(m.nextSibling)}function Oh(){ga=ma=null,br=!1}function jT(m){vo===null?vo=[m]:vo.push(m)}var IQ=C.ReactCurrentBatchConfig;function Tg(m,b,A){if(m=A.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var L=A.stateNode}if(!L)throw Error(n(147,m));var H=L,ne=""+m;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===ne?b.ref:(b=function(be){var Pe=H.refs;be===null?delete Pe[ne]:Pe[ne]=be},b._stringRef=ne,b)}if(typeof m!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,m))}return m}function F1(m,b){throw m=Object.prototype.toString.call(b),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":m))}function RR(m){var b=m._init;return b(m._payload)}function PR(m){function b(Ge,Ve){if(m){var Xe=Ge.deletions;Xe===null?(Ge.deletions=[Ve],Ge.flags|=16):Xe.push(Ve)}}function A(Ge,Ve){if(!m)return null;for(;Ve!==null;)b(Ge,Ve),Ve=Ve.sibling;return null}function L(Ge,Ve){for(Ge=new Map;Ve!==null;)Ve.key!==null?Ge.set(Ve.key,Ve):Ge.set(Ve.index,Ve),Ve=Ve.sibling;return Ge}function H(Ge,Ve){return Ge=eu(Ge,Ve),Ge.index=0,Ge.sibling=null,Ge}function ne(Ge,Ve,Xe){return Ge.index=Xe,m?(Xe=Ge.alternate,Xe!==null?(Xe=Xe.index,Xe<Ve?(Ge.flags|=2,Ve):Xe):(Ge.flags|=2,Ve)):(Ge.flags|=1048576,Ve)}function be(Ge){return m&&Ge.alternate===null&&(Ge.flags|=2),Ge}function Pe(Ge,Ve,Xe,xt){return Ve===null||Ve.tag!==6?(Ve=kE(Xe,Ge.mode,xt),Ve.return=Ge,Ve):(Ve=H(Ve,Xe),Ve.return=Ge,Ve)}function je(Ge,Ve,Xe,xt){var Lt=Xe.type;return Lt===S?ft(Ge,Ve,Xe.props.children,xt,Xe.key):Ve!==null&&(Ve.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===K&&RR(Lt)===Ve.type)?(xt=H(Ve,Xe.props),xt.ref=Tg(Ge,Ve,Xe),xt.return=Ge,xt):(xt=ix(Xe.type,Xe.key,Xe.props,null,Ge.mode,xt),xt.ref=Tg(Ge,Ve,Xe),xt.return=Ge,xt)}function Ze(Ge,Ve,Xe,xt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==Xe.containerInfo||Ve.stateNode.implementation!==Xe.implementation?(Ve=IE(Xe,Ge.mode,xt),Ve.return=Ge,Ve):(Ve=H(Ve,Xe.children||[]),Ve.return=Ge,Ve)}function ft(Ge,Ve,Xe,xt,Lt){return Ve===null||Ve.tag!==7?(Ve=kd(Xe,Ge.mode,xt,Lt),Ve.return=Ge,Ve):(Ve=H(Ve,Xe),Ve.return=Ge,Ve)}function mt(Ge,Ve,Xe){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return Ve=kE(""+Ve,Ge.mode,Xe),Ve.return=Ge,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case D:return Xe=ix(Ve.type,Ve.key,Ve.props,null,Ge.mode,Xe),Xe.ref=Tg(Ge,null,Ve),Xe.return=Ge,Xe;case R:return Ve=IE(Ve,Ge.mode,Xe),Ve.return=Ge,Ve;case K:var xt=Ve._init;return mt(Ge,xt(Ve._payload),Xe)}if(he(Ve)||z(Ve))return Ve=kd(Ve,Ge.mode,Xe,null),Ve.return=Ge,Ve;F1(Ge,Ve)}return null}function ct(Ge,Ve,Xe,xt){var Lt=Ve!==null?Ve.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return Lt!==null?null:Pe(Ge,Ve,""+Xe,xt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case D:return Xe.key===Lt?je(Ge,Ve,Xe,xt):null;case R:return Xe.key===Lt?Ze(Ge,Ve,Xe,xt):null;case K:return Lt=Xe._init,ct(Ge,Ve,Lt(Xe._payload),xt)}if(he(Xe)||z(Xe))return Lt!==null?null:ft(Ge,Ve,Xe,xt,null);F1(Ge,Xe)}return null}function At(Ge,Ve,Xe,xt,Lt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Ge=Ge.get(Xe)||null,Pe(Ve,Ge,""+xt,Lt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case D:return Ge=Ge.get(xt.key===null?Xe:xt.key)||null,je(Ve,Ge,xt,Lt);case R:return Ge=Ge.get(xt.key===null?Xe:xt.key)||null,Ze(Ve,Ge,xt,Lt);case K:var Vt=xt._init;return At(Ge,Ve,Xe,Vt(xt._payload),Lt)}if(he(xt)||z(xt))return Ge=Ge.get(Xe)||null,ft(Ve,Ge,xt,Lt,null);F1(Ve,xt)}return null}function Pt(Ge,Ve,Xe,xt){for(var Lt=null,Vt=null,Wt=Ve,Qt=Ve=0,Ni=null;Wt!==null&&Qt<Xe.length;Qt++){Wt.index>Qt?(Ni=Wt,Wt=null):Ni=Wt.sibling;var Dn=ct(Ge,Wt,Xe[Qt],xt);if(Dn===null){Wt===null&&(Wt=Ni);break}m&&Wt&&Dn.alternate===null&&b(Ge,Wt),Ve=ne(Dn,Ve,Qt),Vt===null?Lt=Dn:Vt.sibling=Dn,Vt=Dn,Wt=Ni}if(Qt===Xe.length)return A(Ge,Wt),br&&wd(Ge,Qt),Lt;if(Wt===null){for(;Qt<Xe.length;Qt++)Wt=mt(Ge,Xe[Qt],xt),Wt!==null&&(Ve=ne(Wt,Ve,Qt),Vt===null?Lt=Wt:Vt.sibling=Wt,Vt=Wt);return br&&wd(Ge,Qt),Lt}for(Wt=L(Ge,Wt);Qt<Xe.length;Qt++)Ni=At(Wt,Ge,Qt,Xe[Qt],xt),Ni!==null&&(m&&Ni.alternate!==null&&Wt.delete(Ni.key===null?Qt:Ni.key),Ve=ne(Ni,Ve,Qt),Vt===null?Lt=Ni:Vt.sibling=Ni,Vt=Ni);return m&&Wt.forEach(function(tu){return b(Ge,tu)}),br&&wd(Ge,Qt),Lt}function Ut(Ge,Ve,Xe,xt){var Lt=z(Xe);if(typeof Lt!="function")throw Error(n(150));if(Xe=Lt.call(Xe),Xe==null)throw Error(n(151));for(var Vt=Lt=null,Wt=Ve,Qt=Ve=0,Ni=null,Dn=Xe.next();Wt!==null&&!Dn.done;Qt++,Dn=Xe.next()){Wt.index>Qt?(Ni=Wt,Wt=null):Ni=Wt.sibling;var tu=ct(Ge,Wt,Dn.value,xt);if(tu===null){Wt===null&&(Wt=Ni);break}m&&Wt&&tu.alternate===null&&b(Ge,Wt),Ve=ne(tu,Ve,Qt),Vt===null?Lt=tu:Vt.sibling=tu,Vt=tu,Wt=Ni}if(Dn.done)return A(Ge,Wt),br&&wd(Ge,Qt),Lt;if(Wt===null){for(;!Dn.done;Qt++,Dn=Xe.next())Dn=mt(Ge,Dn.value,xt),Dn!==null&&(Ve=ne(Dn,Ve,Qt),Vt===null?Lt=Dn:Vt.sibling=Dn,Vt=Dn);return br&&wd(Ge,Qt),Lt}for(Wt=L(Ge,Wt);!Dn.done;Qt++,Dn=Xe.next())Dn=At(Wt,Ge,Qt,Dn.value,xt),Dn!==null&&(m&&Dn.alternate!==null&&Wt.delete(Dn.key===null?Qt:Dn.key),Ve=ne(Dn,Ve,Qt),Vt===null?Lt=Dn:Vt.sibling=Dn,Vt=Dn);return m&&Wt.forEach(function(uZ){return b(Ge,uZ)}),br&&wd(Ge,Qt),Lt}function Jr(Ge,Ve,Xe,xt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===S&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case D:e:{for(var Lt=Xe.key,Vt=Ve;Vt!==null;){if(Vt.key===Lt){if(Lt=Xe.type,Lt===S){if(Vt.tag===7){A(Ge,Vt.sibling),Ve=H(Vt,Xe.props.children),Ve.return=Ge,Ge=Ve;break e}}else if(Vt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===K&&RR(Lt)===Vt.type){A(Ge,Vt.sibling),Ve=H(Vt,Xe.props),Ve.ref=Tg(Ge,Vt,Xe),Ve.return=Ge,Ge=Ve;break e}A(Ge,Vt);break}else b(Ge,Vt);Vt=Vt.sibling}Xe.type===S?(Ve=kd(Xe.props.children,Ge.mode,xt,Xe.key),Ve.return=Ge,Ge=Ve):(xt=ix(Xe.type,Xe.key,Xe.props,null,Ge.mode,xt),xt.ref=Tg(Ge,Ve,Xe),xt.return=Ge,Ge=xt)}return be(Ge);case R:e:{for(Vt=Xe.key;Ve!==null;){if(Ve.key===Vt)if(Ve.tag===4&&Ve.stateNode.containerInfo===Xe.containerInfo&&Ve.stateNode.implementation===Xe.implementation){A(Ge,Ve.sibling),Ve=H(Ve,Xe.children||[]),Ve.return=Ge,Ge=Ve;break e}else{A(Ge,Ve);break}else b(Ge,Ve);Ve=Ve.sibling}Ve=IE(Xe,Ge.mode,xt),Ve.return=Ge,Ge=Ve}return be(Ge);case K:return Vt=Xe._init,Jr(Ge,Ve,Vt(Xe._payload),xt)}if(he(Xe))return Pt(Ge,Ve,Xe,xt);if(z(Xe))return Ut(Ge,Ve,Xe,xt);F1(Ge,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"?(Xe=""+Xe,Ve!==null&&Ve.tag===6?(A(Ge,Ve.sibling),Ve=H(Ve,Xe),Ve.return=Ge,Ge=Ve):(A(Ge,Ve),Ve=kE(Xe,Ge.mode,xt),Ve.return=Ge,Ge=Ve),be(Ge)):A(Ge,Ve)}return Jr}var Lh=PR(!0),FR=PR(!1),M1=$c(null),U1=null,jh=null,BT=null;function VT(){BT=jh=U1=null}function WT(m){var b=M1.current;dr(M1),m._currentValue=b}function qT(m,b,A){for(;m!==null;){var L=m.alternate;if((m.childLanes&b)!==b?(m.childLanes|=b,L!==null&&(L.childLanes|=b)):L!==null&&(L.childLanes&b)!==b&&(L.childLanes|=b),m===A)break;m=m.return}}function Bh(m,b){U1=m,BT=jh=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&b)!==0&&(zs=!0),m.firstContext=null)}function Ua(m){var b=m._currentValue;if(BT!==m)if(m={context:m,memoizedValue:b,next:null},jh===null){if(U1===null)throw Error(n(308));jh=m,U1.dependencies={lanes:0,firstContext:m}}else jh=jh.next=m;return b}var Td=null;function $T(m){Td===null?Td=[m]:Td.push(m)}function MR(m,b,A,L){var H=b.interleaved;return H===null?(A.next=A,$T(b)):(A.next=H.next,H.next=A),b.interleaved=A,$l(m,L)}function $l(m,b){m.lanes|=b;var A=m.alternate;for(A!==null&&(A.lanes|=b),A=m,m=m.return;m!==null;)m.childLanes|=b,A=m.alternate,A!==null&&(A.childLanes|=b),A=m,m=m.return;return A.tag===3?A.stateNode:null}var Gc=!1;function zT(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UR(m,b){m=m.updateQueue,b.updateQueue===m&&(b.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function zl(m,b){return{eventTime:m,lane:b,tag:0,payload:null,callback:null,next:null}}function Kc(m,b,A){var L=m.updateQueue;if(L===null)return null;if(L=L.shared,(wn&2)!==0){var H=L.pending;return H===null?b.next=b:(b.next=H.next,H.next=b),L.pending=b,$l(m,A)}return H=L.interleaved,H===null?(b.next=b,$T(L)):(b.next=H.next,H.next=b),L.interleaved=b,$l(m,A)}function O1(m,b,A){if(b=b.updateQueue,b!==null&&(b=b.shared,(A&4194240)!==0)){var L=b.lanes;L&=m.pendingLanes,A|=L,b.lanes=A,Oc(m,A)}}function OR(m,b){var A=m.updateQueue,L=m.alternate;if(L!==null&&(L=L.updateQueue,A===L)){var H=null,ne=null;if(A=A.firstBaseUpdate,A!==null){do{var be={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};ne===null?H=ne=be:ne=ne.next=be,A=A.next}while(A!==null);ne===null?H=ne=b:ne=ne.next=b}else H=ne=b;A={baseState:L.baseState,firstBaseUpdate:H,lastBaseUpdate:ne,shared:L.shared,effects:L.effects},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=b:m.next=b,A.lastBaseUpdate=b}function L1(m,b,A,L){var H=m.updateQueue;Gc=!1;var ne=H.firstBaseUpdate,be=H.lastBaseUpdate,Pe=H.shared.pending;if(Pe!==null){H.shared.pending=null;var je=Pe,Ze=je.next;je.next=null,be===null?ne=Ze:be.next=Ze,be=je;var ft=m.alternate;ft!==null&&(ft=ft.updateQueue,Pe=ft.lastBaseUpdate,Pe!==be&&(Pe===null?ft.firstBaseUpdate=Ze:Pe.next=Ze,ft.lastBaseUpdate=je))}if(ne!==null){var mt=H.baseState;be=0,ft=Ze=je=null,Pe=ne;do{var ct=Pe.lane,At=Pe.eventTime;if((L&ct)===ct){ft!==null&&(ft=ft.next={eventTime:At,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var Pt=m,Ut=Pe;switch(ct=b,At=A,Ut.tag){case 1:if(Pt=Ut.payload,typeof Pt=="function"){mt=Pt.call(At,mt,ct);break e}mt=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Ut.payload,ct=typeof Pt=="function"?Pt.call(At,mt,ct):Pt,ct==null)break e;mt=Y({},mt,ct);break e;case 2:Gc=!0}}Pe.callback!==null&&Pe.lane!==0&&(m.flags|=64,ct=H.effects,ct===null?H.effects=[Pe]:ct.push(Pe))}else At={eventTime:At,lane:ct,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},ft===null?(Ze=ft=At,je=mt):ft=ft.next=At,be|=ct;if(Pe=Pe.next,Pe===null){if(Pe=H.shared.pending,Pe===null)break;ct=Pe,Pe=ct.next,ct.next=null,H.lastBaseUpdate=ct,H.shared.pending=null}}while(!0);if(ft===null&&(je=mt),H.baseState=je,H.firstBaseUpdate=Ze,H.lastBaseUpdate=ft,b=H.shared.interleaved,b!==null){H=b;do be|=H.lane,H=H.next;while(H!==b)}else ne===null&&(H.shared.lanes=0);Sd|=be,m.lanes=be,m.memoizedState=mt}}function LR(m,b,A){if(m=b.effects,b.effects=null,m!==null)for(b=0;b<m.length;b++){var L=m[b],H=L.callback;if(H!==null){if(L.callback=null,L=A,typeof H!="function")throw Error(n(191,H));H.call(L)}}}var Eg={},Qo=$c(Eg),Cg=$c(Eg),Sg=$c(Eg);function Ed(m){if(m===Eg)throw Error(n(174));return m}function HT(m,b){switch(rr(Sg,b),rr(Cg,m),rr(Qo,Eg),m=b.nodeType,m){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Ue(null,"");break;default:m=m===8?b.parentNode:b,b=m.namespaceURI||null,m=m.tagName,b=Ue(b,m)}dr(Qo),rr(Qo,b)}function Vh(){dr(Qo),dr(Cg),dr(Sg)}function jR(m){Ed(Sg.current);var b=Ed(Qo.current),A=Ue(b,m.type);b!==A&&(rr(Cg,m),rr(Qo,A))}function GT(m){Cg.current===m&&(dr(Qo),dr(Cg))}var Nr=$c(0);function j1(m){for(var b=m;b!==null;){if(b.tag===13){var A=b.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var KT=[];function XT(){for(var m=0;m<KT.length;m++)KT[m]._workInProgressVersionPrimary=null;KT.length=0}var B1=C.ReactCurrentDispatcher,JT=C.ReactCurrentBatchConfig,Cd=0,kr=null,pi=null,Di=null,V1=!1,Dg=!1,Ag=0,RQ=0;function ts(){throw Error(n(321))}function YT(m,b){if(b===null)return!1;for(var A=0;A<b.length&&A<m.length;A++)if(!yo(m[A],b[A]))return!1;return!0}function QT(m,b,A,L,H,ne){if(Cd=ne,kr=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,B1.current=m===null||m.memoizedState===null?UQ:OQ,m=A(L,H),Dg){ne=0;do{if(Dg=!1,Ag=0,25<=ne)throw Error(n(301));ne+=1,Di=pi=null,b.updateQueue=null,B1.current=LQ,m=A(L,H)}while(Dg)}if(B1.current=$1,b=pi!==null&&pi.next!==null,Cd=0,Di=pi=kr=null,V1=!1,b)throw Error(n(300));return m}function ZT(){var m=Ag!==0;return Ag=0,m}function Zo(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Di===null?kr.memoizedState=Di=m:Di=Di.next=m,Di}function Oa(){if(pi===null){var m=kr.alternate;m=m!==null?m.memoizedState:null}else m=pi.next;var b=Di===null?kr.memoizedState:Di.next;if(b!==null)Di=b,pi=m;else{if(m===null)throw Error(n(310));pi=m,m={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Di===null?kr.memoizedState=Di=m:Di=Di.next=m}return Di}function Ng(m,b){return typeof b=="function"?b(m):b}function eE(m){var b=Oa(),A=b.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=pi,H=L.baseQueue,ne=A.pending;if(ne!==null){if(H!==null){var be=H.next;H.next=ne.next,ne.next=be}L.baseQueue=H=ne,A.pending=null}if(H!==null){ne=H.next,L=L.baseState;var Pe=be=null,je=null,Ze=ne;do{var ft=Ze.lane;if((Cd&ft)===ft)je!==null&&(je=je.next={lane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),L=Ze.hasEagerState?Ze.eagerState:m(L,Ze.action);else{var mt={lane:ft,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null};je===null?(Pe=je=mt,be=L):je=je.next=mt,kr.lanes|=ft,Sd|=ft}Ze=Ze.next}while(Ze!==null&&Ze!==ne);je===null?be=L:je.next=Pe,yo(L,b.memoizedState)||(zs=!0),b.memoizedState=L,b.baseState=be,b.baseQueue=je,A.lastRenderedState=L}if(m=A.interleaved,m!==null){H=m;do ne=H.lane,kr.lanes|=ne,Sd|=ne,H=H.next;while(H!==m)}else H===null&&(A.lanes=0);return[b.memoizedState,A.dispatch]}function tE(m){var b=Oa(),A=b.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=A.dispatch,H=A.pending,ne=b.memoizedState;if(H!==null){A.pending=null;var be=H=H.next;do ne=m(ne,be.action),be=be.next;while(be!==H);yo(ne,b.memoizedState)||(zs=!0),b.memoizedState=ne,b.baseQueue===null&&(b.baseState=ne),A.lastRenderedState=ne}return[ne,L]}function BR(){}function VR(m,b){var A=kr,L=Oa(),H=b(),ne=!yo(L.memoizedState,H);if(ne&&(L.memoizedState=H,zs=!0),L=L.queue,nE($R.bind(null,A,L,m),[m]),L.getSnapshot!==b||ne||Di!==null&&Di.memoizedState.tag&1){if(A.flags|=2048,kg(9,qR.bind(null,A,L,H,b),void 0,null),Ai===null)throw Error(n(349));(Cd&30)!==0||WR(A,b,H)}return H}function WR(m,b,A){m.flags|=16384,m={getSnapshot:b,value:A},b=kr.updateQueue,b===null?(b={lastEffect:null,stores:null},kr.updateQueue=b,b.stores=[m]):(A=b.stores,A===null?b.stores=[m]:A.push(m))}function qR(m,b,A,L){b.value=A,b.getSnapshot=L,zR(b)&&HR(m)}function $R(m,b,A){return A(function(){zR(b)&&HR(m)})}function zR(m){var b=m.getSnapshot;m=m.value;try{var A=b();return!yo(m,A)}catch{return!0}}function HR(m){var b=$l(m,1);b!==null&&wo(b,m,1,-1)}function GR(m){var b=Zo();return typeof m=="function"&&(m=m()),b.memoizedState=b.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:m},b.queue=m,m=m.dispatch=MQ.bind(null,kr,m),[b.memoizedState,m]}function kg(m,b,A,L){return m={tag:m,create:b,destroy:A,deps:L,next:null},b=kr.updateQueue,b===null?(b={lastEffect:null,stores:null},kr.updateQueue=b,b.lastEffect=m.next=m):(A=b.lastEffect,A===null?b.lastEffect=m.next=m:(L=A.next,A.next=m,m.next=L,b.lastEffect=m)),m}function KR(){return Oa().memoizedState}function W1(m,b,A,L){var H=Zo();kr.flags|=m,H.memoizedState=kg(1|b,A,void 0,L===void 0?null:L)}function q1(m,b,A,L){var H=Oa();L=L===void 0?null:L;var ne=void 0;if(pi!==null){var be=pi.memoizedState;if(ne=be.destroy,L!==null&&YT(L,be.deps)){H.memoizedState=kg(b,A,ne,L);return}}kr.flags|=m,H.memoizedState=kg(1|b,A,ne,L)}function XR(m,b){return W1(8390656,8,m,b)}function nE(m,b){return q1(2048,8,m,b)}function JR(m,b){return q1(4,2,m,b)}function YR(m,b){return q1(4,4,m,b)}function QR(m,b){if(typeof b=="function")return m=m(),b(m),function(){b(null)};if(b!=null)return m=m(),b.current=m,function(){b.current=null}}function ZR(m,b,A){return A=A!=null?A.concat([m]):null,q1(4,4,QR.bind(null,b,m),A)}function rE(){}function e5(m,b){var A=Oa();b=b===void 0?null:b;var L=A.memoizedState;return L!==null&&b!==null&&YT(b,L[1])?L[0]:(A.memoizedState=[m,b],m)}function t5(m,b){var A=Oa();b=b===void 0?null:b;var L=A.memoizedState;return L!==null&&b!==null&&YT(b,L[1])?L[0]:(m=m(),A.memoizedState=[m,b],m)}function n5(m,b,A){return(Cd&21)===0?(m.baseState&&(m.baseState=!1,zs=!0),m.memoizedState=A):(yo(A,b)||(A=pd(),kr.lanes|=A,Sd|=A,m.baseState=!0),b)}function PQ(m,b){var A=vn;vn=A!==0&&4>A?A:4,m(!0);var L=JT.transition;JT.transition={};try{m(!1),b()}finally{vn=A,JT.transition=L}}function r5(){return Oa().memoizedState}function FQ(m,b,A){var L=Qc(m);if(A={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null},i5(m))s5(b,A);else if(A=MR(m,b,A,L),A!==null){var H=As();wo(A,m,L,H),a5(A,b,L)}}function MQ(m,b,A){var L=Qc(m),H={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null};if(i5(m))s5(b,H);else{var ne=m.alternate;if(m.lanes===0&&(ne===null||ne.lanes===0)&&(ne=b.lastRenderedReducer,ne!==null))try{var be=b.lastRenderedState,Pe=ne(be,A);if(H.hasEagerState=!0,H.eagerState=Pe,yo(Pe,be)){var je=b.interleaved;je===null?(H.next=H,$T(b)):(H.next=je.next,je.next=H),b.interleaved=H;return}}catch{}finally{}A=MR(m,b,H,L),A!==null&&(H=As(),wo(A,m,L,H),a5(A,b,L))}}function i5(m){var b=m.alternate;return m===kr||b!==null&&b===kr}function s5(m,b){Dg=V1=!0;var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}function a5(m,b,A){if((A&4194240)!==0){var L=b.lanes;L&=m.pendingLanes,A|=L,b.lanes=A,Oc(m,A)}}var $1={readContext:Ua,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useInsertionEffect:ts,useLayoutEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useMutableSource:ts,useSyncExternalStore:ts,useId:ts,unstable_isNewReconciler:!1},UQ={readContext:Ua,useCallback:function(m,b){return Zo().memoizedState=[m,b===void 0?null:b],m},useContext:Ua,useEffect:XR,useImperativeHandle:function(m,b,A){return A=A!=null?A.concat([m]):null,W1(4194308,4,QR.bind(null,b,m),A)},useLayoutEffect:function(m,b){return W1(4194308,4,m,b)},useInsertionEffect:function(m,b){return W1(4,2,m,b)},useMemo:function(m,b){var A=Zo();return b=b===void 0?null:b,m=m(),A.memoizedState=[m,b],m},useReducer:function(m,b,A){var L=Zo();return b=A!==void 0?A(b):b,L.memoizedState=L.baseState=b,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:b},L.queue=m,m=m.dispatch=FQ.bind(null,kr,m),[L.memoizedState,m]},useRef:function(m){var b=Zo();return m={current:m},b.memoizedState=m},useState:GR,useDebugValue:rE,useDeferredValue:function(m){return Zo().memoizedState=m},useTransition:function(){var m=GR(!1),b=m[0];return m=PQ.bind(null,m[1]),Zo().memoizedState=m,[b,m]},useMutableSource:function(){},useSyncExternalStore:function(m,b,A){var L=kr,H=Zo();if(br){if(A===void 0)throw Error(n(407));A=A()}else{if(A=b(),Ai===null)throw Error(n(349));(Cd&30)!==0||WR(L,b,A)}H.memoizedState=A;var ne={value:A,getSnapshot:b};return H.queue=ne,XR($R.bind(null,L,ne,m),[m]),L.flags|=2048,kg(9,qR.bind(null,L,ne,A,b),void 0,null),A},useId:function(){var m=Zo(),b=Ai.identifierPrefix;if(br){var A=ql,L=Wl;A=(L&~(1<<32-cr(L)-1)).toString(32)+A,b=":"+b+"R"+A,A=Ag++,0<A&&(b+="H"+A.toString(32)),b+=":"}else A=RQ++,b=":"+b+"r"+A.toString(32)+":";return m.memoizedState=b},unstable_isNewReconciler:!1},OQ={readContext:Ua,useCallback:e5,useContext:Ua,useEffect:nE,useImperativeHandle:ZR,useInsertionEffect:JR,useLayoutEffect:YR,useMemo:t5,useReducer:eE,useRef:KR,useState:function(){return eE(Ng)},useDebugValue:rE,useDeferredValue:function(m){var b=Oa();return n5(b,pi.memoizedState,m)},useTransition:function(){var m=eE(Ng)[0],b=Oa().memoizedState;return[m,b]},useMutableSource:BR,useSyncExternalStore:VR,useId:r5,unstable_isNewReconciler:!1},LQ={readContext:Ua,useCallback:e5,useContext:Ua,useEffect:nE,useImperativeHandle:ZR,useInsertionEffect:JR,useLayoutEffect:YR,useMemo:t5,useReducer:tE,useRef:KR,useState:function(){return tE(Ng)},useDebugValue:rE,useDeferredValue:function(m){var b=Oa();return pi===null?b.memoizedState=m:n5(b,pi.memoizedState,m)},useTransition:function(){var m=tE(Ng)[0],b=Oa().memoizedState;return[m,b]},useMutableSource:BR,useSyncExternalStore:VR,useId:r5,unstable_isNewReconciler:!1};function xo(m,b){if(m&&m.defaultProps){b=Y({},b),m=m.defaultProps;for(var A in m)b[A]===void 0&&(b[A]=m[A]);return b}return b}function iE(m,b,A,L){b=m.memoizedState,A=A(L,b),A=A==null?b:Y({},b,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var z1={isMounted:function(m){return(m=m._reactInternals)?Ie(m)===m:!1},enqueueSetState:function(m,b,A){m=m._reactInternals;var L=As(),H=Qc(m),ne=zl(L,H);ne.payload=b,A!=null&&(ne.callback=A),b=Kc(m,ne,H),b!==null&&(wo(b,m,H,L),O1(b,m,H))},enqueueReplaceState:function(m,b,A){m=m._reactInternals;var L=As(),H=Qc(m),ne=zl(L,H);ne.tag=1,ne.payload=b,A!=null&&(ne.callback=A),b=Kc(m,ne,H),b!==null&&(wo(b,m,H,L),O1(b,m,H))},enqueueForceUpdate:function(m,b){m=m._reactInternals;var A=As(),L=Qc(m),H=zl(A,L);H.tag=2,b!=null&&(H.callback=b),b=Kc(m,H,L),b!==null&&(wo(b,m,L,A),O1(b,m,L))}};function o5(m,b,A,L,H,ne,be){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(L,ne,be):b.prototype&&b.prototype.isPureReactComponent?!gg(A,L)||!gg(H,ne):!0}function l5(m,b,A){var L=!1,H=zc,ne=b.contextType;return typeof ne=="object"&&ne!==null?ne=Ua(ne):(H=$s(b)?bd:es.current,L=b.contextTypes,ne=(L=L!=null)?Fh(m,H):zc),b=new b(A,ne),m.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=z1,m.stateNode=b,b._reactInternals=m,L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=H,m.__reactInternalMemoizedMaskedChildContext=ne),b}function c5(m,b,A,L){m=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(A,L),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(A,L),b.state!==m&&z1.enqueueReplaceState(b,b.state,null)}function sE(m,b,A,L){var H=m.stateNode;H.props=A,H.state=m.memoizedState,H.refs={},zT(m);var ne=b.contextType;typeof ne=="object"&&ne!==null?H.context=Ua(ne):(ne=$s(b)?bd:es.current,H.context=Fh(m,ne)),H.state=m.memoizedState,ne=b.getDerivedStateFromProps,typeof ne=="function"&&(iE(m,b,ne,A),H.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(b=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),b!==H.state&&z1.enqueueReplaceState(H,H.state,null),L1(m,A,H,L),H.state=m.memoizedState),typeof H.componentDidMount=="function"&&(m.flags|=4194308)}function Wh(m,b){try{var A="",L=b;do A+=Q(L),L=L.return;while(L);var H=A}catch(ne){H=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:m,source:b,stack:H,digest:null}}function aE(m,b,A){return{value:m,source:null,stack:A??null,digest:b??null}}function oE(m,b){try{console.error(b.value)}catch(A){setTimeout(function(){throw A})}}var jQ=typeof WeakMap=="function"?WeakMap:Map;function u5(m,b,A){A=zl(-1,A),A.tag=3,A.payload={element:null};var L=b.value;return A.callback=function(){Q1||(Q1=!0,wE=L),oE(m,b)},A}function d5(m,b,A){A=zl(-1,A),A.tag=3;var L=m.type.getDerivedStateFromError;if(typeof L=="function"){var H=b.value;A.payload=function(){return L(H)},A.callback=function(){oE(m,b)}}var ne=m.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(A.callback=function(){oE(m,b),typeof L!="function"&&(Jc===null?Jc=new Set([this]):Jc.add(this));var be=b.stack;this.componentDidCatch(b.value,{componentStack:be!==null?be:""})}),A}function f5(m,b,A){var L=m.pingCache;if(L===null){L=m.pingCache=new jQ;var H=new Set;L.set(b,H)}else H=L.get(b),H===void 0&&(H=new Set,L.set(b,H));H.has(A)||(H.add(A),m=ZQ.bind(null,m,b,A),b.then(m,m))}function h5(m){do{var b;if((b=m.tag===13)&&(b=m.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return m;m=m.return}while(m!==null);return null}function p5(m,b,A,L,H){return(m.mode&1)===0?(m===b?m.flags|=65536:(m.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(b=zl(-1,1),b.tag=2,Kc(A,b,1))),A.lanes|=1),m):(m.flags|=65536,m.lanes=H,m)}var BQ=C.ReactCurrentOwner,zs=!1;function Ds(m,b,A,L){b.child=m===null?FR(b,null,A,L):Lh(b,m.child,A,L)}function m5(m,b,A,L,H){A=A.render;var ne=b.ref;return Bh(b,H),L=QT(m,b,A,L,ne,H),A=ZT(),m!==null&&!zs?(b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~H,Hl(m,b,H)):(br&&A&&MT(b),b.flags|=1,Ds(m,b,L,H),b.child)}function g5(m,b,A,L,H){if(m===null){var ne=A.type;return typeof ne=="function"&&!NE(ne)&&ne.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(b.tag=15,b.type=ne,y5(m,b,ne,L,H)):(m=ix(A.type,null,L,b,b.mode,H),m.ref=b.ref,m.return=b,b.child=m)}if(ne=m.child,(m.lanes&H)===0){var be=ne.memoizedProps;if(A=A.compare,A=A!==null?A:gg,A(be,L)&&m.ref===b.ref)return Hl(m,b,H)}return b.flags|=1,m=eu(ne,L),m.ref=b.ref,m.return=b,b.child=m}function y5(m,b,A,L,H){if(m!==null){var ne=m.memoizedProps;if(gg(ne,L)&&m.ref===b.ref)if(zs=!1,b.pendingProps=L=ne,(m.lanes&H)!==0)(m.flags&131072)!==0&&(zs=!0);else return b.lanes=m.lanes,Hl(m,b,H)}return lE(m,b,A,L,H)}function v5(m,b,A){var L=b.pendingProps,H=L.children,ne=m!==null?m.memoizedState:null;if(L.mode==="hidden")if((b.mode&1)===0)b.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr($h,ya),ya|=A;else{if((A&1073741824)===0)return m=ne!==null?ne.baseLanes|A:A,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:m,cachePool:null,transitions:null},b.updateQueue=null,rr($h,ya),ya|=m,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=ne!==null?ne.baseLanes:A,rr($h,ya),ya|=L}else ne!==null?(L=ne.baseLanes|A,b.memoizedState=null):L=A,rr($h,ya),ya|=L;return Ds(m,b,H,A),b.child}function x5(m,b){var A=b.ref;(m===null&&A!==null||m!==null&&m.ref!==A)&&(b.flags|=512,b.flags|=2097152)}function lE(m,b,A,L,H){var ne=$s(A)?bd:es.current;return ne=Fh(b,ne),Bh(b,H),A=QT(m,b,A,L,ne,H),L=ZT(),m!==null&&!zs?(b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~H,Hl(m,b,H)):(br&&L&&MT(b),b.flags|=1,Ds(m,b,A,H),b.child)}function b5(m,b,A,L,H){if($s(A)){var ne=!0;N1(b)}else ne=!1;if(Bh(b,H),b.stateNode===null)G1(m,b),l5(b,A,L),sE(b,A,L,H),L=!0;else if(m===null){var be=b.stateNode,Pe=b.memoizedProps;be.props=Pe;var je=be.context,Ze=A.contextType;typeof Ze=="object"&&Ze!==null?Ze=Ua(Ze):(Ze=$s(A)?bd:es.current,Ze=Fh(b,Ze));var ft=A.getDerivedStateFromProps,mt=typeof ft=="function"||typeof be.getSnapshotBeforeUpdate=="function";mt||typeof be.UNSAFE_componentWillReceiveProps!="function"&&typeof be.componentWillReceiveProps!="function"||(Pe!==L||je!==Ze)&&c5(b,be,L,Ze),Gc=!1;var ct=b.memoizedState;be.state=ct,L1(b,L,be,H),je=b.memoizedState,Pe!==L||ct!==je||qs.current||Gc?(typeof ft=="function"&&(iE(b,A,ft,L),je=b.memoizedState),(Pe=Gc||o5(b,A,Pe,L,ct,je,Ze))?(mt||typeof be.UNSAFE_componentWillMount!="function"&&typeof be.componentWillMount!="function"||(typeof be.componentWillMount=="function"&&be.componentWillMount(),typeof be.UNSAFE_componentWillMount=="function"&&be.UNSAFE_componentWillMount()),typeof be.componentDidMount=="function"&&(b.flags|=4194308)):(typeof be.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=L,b.memoizedState=je),be.props=L,be.state=je,be.context=Ze,L=Pe):(typeof be.componentDidMount=="function"&&(b.flags|=4194308),L=!1)}else{be=b.stateNode,UR(m,b),Pe=b.memoizedProps,Ze=b.type===b.elementType?Pe:xo(b.type,Pe),be.props=Ze,mt=b.pendingProps,ct=be.context,je=A.contextType,typeof je=="object"&&je!==null?je=Ua(je):(je=$s(A)?bd:es.current,je=Fh(b,je));var At=A.getDerivedStateFromProps;(ft=typeof At=="function"||typeof be.getSnapshotBeforeUpdate=="function")||typeof be.UNSAFE_componentWillReceiveProps!="function"&&typeof be.componentWillReceiveProps!="function"||(Pe!==mt||ct!==je)&&c5(b,be,L,je),Gc=!1,ct=b.memoizedState,be.state=ct,L1(b,L,be,H);var Pt=b.memoizedState;Pe!==mt||ct!==Pt||qs.current||Gc?(typeof At=="function"&&(iE(b,A,At,L),Pt=b.memoizedState),(Ze=Gc||o5(b,A,Ze,L,ct,Pt,je)||!1)?(ft||typeof be.UNSAFE_componentWillUpdate!="function"&&typeof be.componentWillUpdate!="function"||(typeof be.componentWillUpdate=="function"&&be.componentWillUpdate(L,Pt,je),typeof be.UNSAFE_componentWillUpdate=="function"&&be.UNSAFE_componentWillUpdate(L,Pt,je)),typeof be.componentDidUpdate=="function"&&(b.flags|=4),typeof be.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof be.componentDidUpdate!="function"||Pe===m.memoizedProps&&ct===m.memoizedState||(b.flags|=4),typeof be.getSnapshotBeforeUpdate!="function"||Pe===m.memoizedProps&&ct===m.memoizedState||(b.flags|=1024),b.memoizedProps=L,b.memoizedState=Pt),be.props=L,be.state=Pt,be.context=je,L=Ze):(typeof be.componentDidUpdate!="function"||Pe===m.memoizedProps&&ct===m.memoizedState||(b.flags|=4),typeof be.getSnapshotBeforeUpdate!="function"||Pe===m.memoizedProps&&ct===m.memoizedState||(b.flags|=1024),L=!1)}return cE(m,b,A,L,ne,H)}function cE(m,b,A,L,H,ne){x5(m,b);var be=(b.flags&128)!==0;if(!L&&!be)return H&&CR(b,A,!1),Hl(m,b,ne);L=b.stateNode,BQ.current=b;var Pe=be&&typeof A.getDerivedStateFromError!="function"?null:L.render();return b.flags|=1,m!==null&&be?(b.child=Lh(b,m.child,null,ne),b.child=Lh(b,null,Pe,ne)):Ds(m,b,Pe,ne),b.memoizedState=L.state,H&&CR(b,A,!0),b.child}function _5(m){var b=m.stateNode;b.pendingContext?TR(m,b.pendingContext,b.pendingContext!==b.context):b.context&&TR(m,b.context,!1),HT(m,b.containerInfo)}function w5(m,b,A,L,H){return Oh(),jT(H),b.flags|=256,Ds(m,b,A,L),b.child}var uE={dehydrated:null,treeContext:null,retryLane:0};function dE(m){return{baseLanes:m,cachePool:null,transitions:null}}function T5(m,b,A){var L=b.pendingProps,H=Nr.current,ne=!1,be=(b.flags&128)!==0,Pe;if((Pe=be)||(Pe=m!==null&&m.memoizedState===null?!1:(H&2)!==0),Pe?(ne=!0,b.flags&=-129):(m===null||m.memoizedState!==null)&&(H|=1),rr(Nr,H&1),m===null)return LT(b),m=b.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((b.mode&1)===0?b.lanes=1:m.data==="$!"?b.lanes=8:b.lanes=1073741824,null):(be=L.children,m=L.fallback,ne?(L=b.mode,ne=b.child,be={mode:"hidden",children:be},(L&1)===0&&ne!==null?(ne.childLanes=0,ne.pendingProps=be):ne=sx(be,L,0,null),m=kd(m,L,A,null),ne.return=b,m.return=b,ne.sibling=m,b.child=ne,b.child.memoizedState=dE(A),b.memoizedState=uE,m):fE(b,be));if(H=m.memoizedState,H!==null&&(Pe=H.dehydrated,Pe!==null))return VQ(m,b,be,L,Pe,H,A);if(ne){ne=L.fallback,be=b.mode,H=m.child,Pe=H.sibling;var je={mode:"hidden",children:L.children};return(be&1)===0&&b.child!==H?(L=b.child,L.childLanes=0,L.pendingProps=je,b.deletions=null):(L=eu(H,je),L.subtreeFlags=H.subtreeFlags&14680064),Pe!==null?ne=eu(Pe,ne):(ne=kd(ne,be,A,null),ne.flags|=2),ne.return=b,L.return=b,L.sibling=ne,b.child=L,L=ne,ne=b.child,be=m.child.memoizedState,be=be===null?dE(A):{baseLanes:be.baseLanes|A,cachePool:null,transitions:be.transitions},ne.memoizedState=be,ne.childLanes=m.childLanes&~A,b.memoizedState=uE,L}return ne=m.child,m=ne.sibling,L=eu(ne,{mode:"visible",children:L.children}),(b.mode&1)===0&&(L.lanes=A),L.return=b,L.sibling=null,m!==null&&(A=b.deletions,A===null?(b.deletions=[m],b.flags|=16):A.push(m)),b.child=L,b.memoizedState=null,L}function fE(m,b){return b=sx({mode:"visible",children:b},m.mode,0,null),b.return=m,m.child=b}function H1(m,b,A,L){return L!==null&&jT(L),Lh(b,m.child,null,A),m=fE(b,b.pendingProps.children),m.flags|=2,b.memoizedState=null,m}function VQ(m,b,A,L,H,ne,be){if(A)return b.flags&256?(b.flags&=-257,L=aE(Error(n(422))),H1(m,b,be,L)):b.memoizedState!==null?(b.child=m.child,b.flags|=128,null):(ne=L.fallback,H=b.mode,L=sx({mode:"visible",children:L.children},H,0,null),ne=kd(ne,H,be,null),ne.flags|=2,L.return=b,ne.return=b,L.sibling=ne,b.child=L,(b.mode&1)!==0&&Lh(b,m.child,null,be),b.child.memoizedState=dE(be),b.memoizedState=uE,ne);if((b.mode&1)===0)return H1(m,b,be,null);if(H.data==="$!"){if(L=H.nextSibling&&H.nextSibling.dataset,L)var Pe=L.dgst;return L=Pe,ne=Error(n(419)),L=aE(ne,L,void 0),H1(m,b,be,L)}if(Pe=(be&m.childLanes)!==0,zs||Pe){if(L=Ai,L!==null){switch(be&-be){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(L.suspendedLanes|be))!==0?0:H,H!==0&&H!==ne.retryLane&&(ne.retryLane=H,$l(m,H),wo(L,m,H,-1))}return AE(),L=aE(Error(n(421))),H1(m,b,be,L)}return H.data==="$?"?(b.flags|=128,b.child=m.child,b=eZ.bind(null,m),H._reactRetry=b,null):(m=ne.treeContext,ga=qc(H.nextSibling),ma=b,br=!0,vo=null,m!==null&&(Fa[Ma++]=Wl,Fa[Ma++]=ql,Fa[Ma++]=_d,Wl=m.id,ql=m.overflow,_d=b),b=fE(b,L.children),b.flags|=4096,b)}function E5(m,b,A){m.lanes|=b;var L=m.alternate;L!==null&&(L.lanes|=b),qT(m.return,b,A)}function hE(m,b,A,L,H){var ne=m.memoizedState;ne===null?m.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:L,tail:A,tailMode:H}:(ne.isBackwards=b,ne.rendering=null,ne.renderingStartTime=0,ne.last=L,ne.tail=A,ne.tailMode=H)}function C5(m,b,A){var L=b.pendingProps,H=L.revealOrder,ne=L.tail;if(Ds(m,b,L.children,A),L=Nr.current,(L&2)!==0)L=L&1|2,b.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=b.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&E5(m,A,b);else if(m.tag===19)E5(m,A,b);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===b)break e;for(;m.sibling===null;){if(m.return===null||m.return===b)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}L&=1}if(rr(Nr,L),(b.mode&1)===0)b.memoizedState=null;else switch(H){case"forwards":for(A=b.child,H=null;A!==null;)m=A.alternate,m!==null&&j1(m)===null&&(H=A),A=A.sibling;A=H,A===null?(H=b.child,b.child=null):(H=A.sibling,A.sibling=null),hE(b,!1,H,A,ne);break;case"backwards":for(A=null,H=b.child,b.child=null;H!==null;){if(m=H.alternate,m!==null&&j1(m)===null){b.child=H;break}m=H.sibling,H.sibling=A,A=H,H=m}hE(b,!0,A,null,ne);break;case"together":hE(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function G1(m,b){(b.mode&1)===0&&m!==null&&(m.alternate=null,b.alternate=null,b.flags|=2)}function Hl(m,b,A){if(m!==null&&(b.dependencies=m.dependencies),Sd|=b.lanes,(A&b.childLanes)===0)return null;if(m!==null&&b.child!==m.child)throw Error(n(153));if(b.child!==null){for(m=b.child,A=eu(m,m.pendingProps),b.child=A,A.return=b;m.sibling!==null;)m=m.sibling,A=A.sibling=eu(m,m.pendingProps),A.return=b;A.sibling=null}return b.child}function WQ(m,b,A){switch(b.tag){case 3:_5(b),Oh();break;case 5:jR(b);break;case 1:$s(b.type)&&N1(b);break;case 4:HT(b,b.stateNode.containerInfo);break;case 10:var L=b.type._context,H=b.memoizedProps.value;rr(M1,L._currentValue),L._currentValue=H;break;case 13:if(L=b.memoizedState,L!==null)return L.dehydrated!==null?(rr(Nr,Nr.current&1),b.flags|=128,null):(A&b.child.childLanes)!==0?T5(m,b,A):(rr(Nr,Nr.current&1),m=Hl(m,b,A),m!==null?m.sibling:null);rr(Nr,Nr.current&1);break;case 19:if(L=(A&b.childLanes)!==0,(m.flags&128)!==0){if(L)return C5(m,b,A);b.flags|=128}if(H=b.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),rr(Nr,Nr.current),L)break;return null;case 22:case 23:return b.lanes=0,v5(m,b,A)}return Hl(m,b,A)}var S5,pE,D5,A5;S5=function(m,b){for(var A=b.child;A!==null;){if(A.tag===5||A.tag===6)m.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===b)break;for(;A.sibling===null;){if(A.return===null||A.return===b)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},pE=function(){},D5=function(m,b,A,L){var H=m.memoizedProps;if(H!==L){m=b.stateNode,Ed(Qo.current);var ne=null;switch(A){case"input":H=V(m,H),L=V(m,L),ne=[];break;case"select":H=Y({},H,{value:void 0}),L=Y({},L,{value:void 0}),ne=[];break;case"textarea":H=ie(m,H),L=ie(m,L),ne=[];break;default:typeof H.onClick!="function"&&typeof L.onClick=="function"&&(m.onclick=S1)}ln(A,L);var be;A=null;for(Ze in H)if(!L.hasOwnProperty(Ze)&&H.hasOwnProperty(Ze)&&H[Ze]!=null)if(Ze==="style"){var Pe=H[Ze];for(be in Pe)Pe.hasOwnProperty(be)&&(A||(A={}),A[be]="")}else Ze!=="dangerouslySetInnerHTML"&&Ze!=="children"&&Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&Ze!=="autoFocus"&&(i.hasOwnProperty(Ze)?ne||(ne=[]):(ne=ne||[]).push(Ze,null));for(Ze in L){var je=L[Ze];if(Pe=H!=null?H[Ze]:void 0,L.hasOwnProperty(Ze)&&je!==Pe&&(je!=null||Pe!=null))if(Ze==="style")if(Pe){for(be in Pe)!Pe.hasOwnProperty(be)||je&&je.hasOwnProperty(be)||(A||(A={}),A[be]="");for(be in je)je.hasOwnProperty(be)&&Pe[be]!==je[be]&&(A||(A={}),A[be]=je[be])}else A||(ne||(ne=[]),ne.push(Ze,A)),A=je;else Ze==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,Pe=Pe?Pe.__html:void 0,je!=null&&Pe!==je&&(ne=ne||[]).push(Ze,je)):Ze==="children"?typeof je!="string"&&typeof je!="number"||(ne=ne||[]).push(Ze,""+je):Ze!=="suppressContentEditableWarning"&&Ze!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ze)?(je!=null&&Ze==="onScroll"&&ur("scroll",m),ne||Pe===je||(ne=[])):(ne=ne||[]).push(Ze,je))}A&&(ne=ne||[]).push("style",A);var Ze=ne;(b.updateQueue=Ze)&&(b.flags|=4)}},A5=function(m,b,A,L){A!==L&&(b.flags|=4)};function Ig(m,b){if(!br)switch(m.tailMode){case"hidden":b=m.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var L=null;A!==null;)A.alternate!==null&&(L=A),A=A.sibling;L===null?b||m.tail===null?m.tail=null:m.tail.sibling=null:L.sibling=null}}function ns(m){var b=m.alternate!==null&&m.alternate.child===m.child,A=0,L=0;if(b)for(var H=m.child;H!==null;)A|=H.lanes|H.childLanes,L|=H.subtreeFlags&14680064,L|=H.flags&14680064,H.return=m,H=H.sibling;else for(H=m.child;H!==null;)A|=H.lanes|H.childLanes,L|=H.subtreeFlags,L|=H.flags,H.return=m,H=H.sibling;return m.subtreeFlags|=L,m.childLanes=A,b}function qQ(m,b,A){var L=b.pendingProps;switch(UT(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ns(b),null;case 1:return $s(b.type)&&A1(),ns(b),null;case 3:return L=b.stateNode,Vh(),dr(qs),dr(es),XT(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(m===null||m.child===null)&&(P1(b)?b.flags|=4:m===null||m.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,vo!==null&&(CE(vo),vo=null))),pE(m,b),ns(b),null;case 5:GT(b);var H=Ed(Sg.current);if(A=b.type,m!==null&&b.stateNode!=null)D5(m,b,A,L,H),m.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!L){if(b.stateNode===null)throw Error(n(166));return ns(b),null}if(m=Ed(Qo.current),P1(b)){L=b.stateNode,A=b.type;var ne=b.memoizedProps;switch(L[Yo]=b,L[_g]=ne,m=(b.mode&1)!==0,A){case"dialog":ur("cancel",L),ur("close",L);break;case"iframe":case"object":case"embed":ur("load",L);break;case"video":case"audio":for(H=0;H<vg.length;H++)ur(vg[H],L);break;case"source":ur("error",L);break;case"img":case"image":case"link":ur("error",L),ur("load",L);break;case"details":ur("toggle",L);break;case"input":ve(L,ne),ur("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!ne.multiple},ur("invalid",L);break;case"textarea":ce(L,ne),ur("invalid",L)}ln(A,ne),H=null;for(var be in ne)if(ne.hasOwnProperty(be)){var Pe=ne[be];be==="children"?typeof Pe=="string"?L.textContent!==Pe&&(ne.suppressHydrationWarning!==!0&&C1(L.textContent,Pe,m),H=["children",Pe]):typeof Pe=="number"&&L.textContent!==""+Pe&&(ne.suppressHydrationWarning!==!0&&C1(L.textContent,Pe,m),H=["children",""+Pe]):i.hasOwnProperty(be)&&Pe!=null&&be==="onScroll"&&ur("scroll",L)}switch(A){case"input":Re(L),re(L,ne,!0);break;case"textarea":Re(L),xe(L);break;case"select":case"option":break;default:typeof ne.onClick=="function"&&(L.onclick=S1)}L=H,b.updateQueue=L,L!==null&&(b.flags|=4)}else{be=H.nodeType===9?H:H.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=ke(A)),m==="http://www.w3.org/1999/xhtml"?A==="script"?(m=be.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof L.is=="string"?m=be.createElement(A,{is:L.is}):(m=be.createElement(A),A==="select"&&(be=m,L.multiple?be.multiple=!0:L.size&&(be.size=L.size))):m=be.createElementNS(m,A),m[Yo]=b,m[_g]=L,S5(m,b,!1,!1),b.stateNode=m;e:{switch(be=Ar(A,L),A){case"dialog":ur("cancel",m),ur("close",m),H=L;break;case"iframe":case"object":case"embed":ur("load",m),H=L;break;case"video":case"audio":for(H=0;H<vg.length;H++)ur(vg[H],m);H=L;break;case"source":ur("error",m),H=L;break;case"img":case"image":case"link":ur("error",m),ur("load",m),H=L;break;case"details":ur("toggle",m),H=L;break;case"input":ve(m,L),H=V(m,L),ur("invalid",m);break;case"option":H=L;break;case"select":m._wrapperState={wasMultiple:!!L.multiple},H=Y({},L,{value:void 0}),ur("invalid",m);break;case"textarea":ce(m,L),H=ie(m,L),ur("invalid",m);break;default:H=L}ln(A,H),Pe=H;for(ne in Pe)if(Pe.hasOwnProperty(ne)){var je=Pe[ne];ne==="style"?Ot(m,je):ne==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Me(m,je)):ne==="children"?typeof je=="string"?(A!=="textarea"||je!=="")&&Oe(m,je):typeof je=="number"&&Oe(m,""+je):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?je!=null&&ne==="onScroll"&&ur("scroll",m):je!=null&&w(m,ne,je,be))}switch(A){case"input":Re(m),re(m,L,!1);break;case"textarea":Re(m),xe(m);break;case"option":L.value!=null&&m.setAttribute("value",""+de(L.value));break;case"select":m.multiple=!!L.multiple,ne=L.value,ne!=null?_e(m,!!L.multiple,ne,!1):L.defaultValue!=null&&_e(m,!!L.multiple,L.defaultValue,!0);break;default:typeof H.onClick=="function"&&(m.onclick=S1)}switch(A){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(b.flags|=4)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return ns(b),null;case 6:if(m&&b.stateNode!=null)A5(m,b,m.memoizedProps,L);else{if(typeof L!="string"&&b.stateNode===null)throw Error(n(166));if(A=Ed(Sg.current),Ed(Qo.current),P1(b)){if(L=b.stateNode,A=b.memoizedProps,L[Yo]=b,(ne=L.nodeValue!==A)&&(m=ma,m!==null))switch(m.tag){case 3:C1(L.nodeValue,A,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&C1(L.nodeValue,A,(m.mode&1)!==0)}ne&&(b.flags|=4)}else L=(A.nodeType===9?A:A.ownerDocument).createTextNode(L),L[Yo]=b,b.stateNode=L}return ns(b),null;case 13:if(dr(Nr),L=b.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(br&&ga!==null&&(b.mode&1)!==0&&(b.flags&128)===0)IR(),Oh(),b.flags|=98560,ne=!1;else if(ne=P1(b),L!==null&&L.dehydrated!==null){if(m===null){if(!ne)throw Error(n(318));if(ne=b.memoizedState,ne=ne!==null?ne.dehydrated:null,!ne)throw Error(n(317));ne[Yo]=b}else Oh(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;ns(b),ne=!1}else vo!==null&&(CE(vo),vo=null),ne=!0;if(!ne)return b.flags&65536?b:null}return(b.flags&128)!==0?(b.lanes=A,b):(L=L!==null,L!==(m!==null&&m.memoizedState!==null)&&L&&(b.child.flags|=8192,(b.mode&1)!==0&&(m===null||(Nr.current&1)!==0?mi===0&&(mi=3):AE())),b.updateQueue!==null&&(b.flags|=4),ns(b),null);case 4:return Vh(),pE(m,b),m===null&&xg(b.stateNode.containerInfo),ns(b),null;case 10:return WT(b.type._context),ns(b),null;case 17:return $s(b.type)&&A1(),ns(b),null;case 19:if(dr(Nr),ne=b.memoizedState,ne===null)return ns(b),null;if(L=(b.flags&128)!==0,be=ne.rendering,be===null)if(L)Ig(ne,!1);else{if(mi!==0||m!==null&&(m.flags&128)!==0)for(m=b.child;m!==null;){if(be=j1(m),be!==null){for(b.flags|=128,Ig(ne,!1),L=be.updateQueue,L!==null&&(b.updateQueue=L,b.flags|=4),b.subtreeFlags=0,L=A,A=b.child;A!==null;)ne=A,m=L,ne.flags&=14680066,be=ne.alternate,be===null?(ne.childLanes=0,ne.lanes=m,ne.child=null,ne.subtreeFlags=0,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=be.childLanes,ne.lanes=be.lanes,ne.child=be.child,ne.subtreeFlags=0,ne.deletions=null,ne.memoizedProps=be.memoizedProps,ne.memoizedState=be.memoizedState,ne.updateQueue=be.updateQueue,ne.type=be.type,m=be.dependencies,ne.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A=A.sibling;return rr(Nr,Nr.current&1|2),b.child}m=m.sibling}ne.tail!==null&&ht()>zh&&(b.flags|=128,L=!0,Ig(ne,!1),b.lanes=4194304)}else{if(!L)if(m=j1(be),m!==null){if(b.flags|=128,L=!0,A=m.updateQueue,A!==null&&(b.updateQueue=A,b.flags|=4),Ig(ne,!0),ne.tail===null&&ne.tailMode==="hidden"&&!be.alternate&&!br)return ns(b),null}else 2*ht()-ne.renderingStartTime>zh&&A!==1073741824&&(b.flags|=128,L=!0,Ig(ne,!1),b.lanes=4194304);ne.isBackwards?(be.sibling=b.child,b.child=be):(A=ne.last,A!==null?A.sibling=be:b.child=be,ne.last=be)}return ne.tail!==null?(b=ne.tail,ne.rendering=b,ne.tail=b.sibling,ne.renderingStartTime=ht(),b.sibling=null,A=Nr.current,rr(Nr,L?A&1|2:A&1),b):(ns(b),null);case 22:case 23:return DE(),L=b.memoizedState!==null,m!==null&&m.memoizedState!==null!==L&&(b.flags|=8192),L&&(b.mode&1)!==0?(ya&1073741824)!==0&&(ns(b),b.subtreeFlags&6&&(b.flags|=8192)):ns(b),null;case 24:return null;case 25:return null}throw Error(n(156,b.tag))}function $Q(m,b){switch(UT(b),b.tag){case 1:return $s(b.type)&&A1(),m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 3:return Vh(),dr(qs),dr(es),XT(),m=b.flags,(m&65536)!==0&&(m&128)===0?(b.flags=m&-65537|128,b):null;case 5:return GT(b),null;case 13:if(dr(Nr),m=b.memoizedState,m!==null&&m.dehydrated!==null){if(b.alternate===null)throw Error(n(340));Oh()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 19:return dr(Nr),null;case 4:return Vh(),null;case 10:return WT(b.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var K1=!1,rs=!1,zQ=typeof WeakSet=="function"?WeakSet:Set,It=null;function qh(m,b){var A=m.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(L){Or(m,b,L)}else A.current=null}function mE(m,b,A){try{A()}catch(L){Or(m,b,L)}}var N5=!1;function HQ(m,b){if(DT=Bc,m=oR(),xT(m)){if("selectionStart"in m)var A={start:m.selectionStart,end:m.selectionEnd};else e:{A=(A=m.ownerDocument)&&A.defaultView||window;var L=A.getSelection&&A.getSelection();if(L&&L.rangeCount!==0){A=L.anchorNode;var H=L.anchorOffset,ne=L.focusNode;L=L.focusOffset;try{A.nodeType,ne.nodeType}catch{A=null;break e}var be=0,Pe=-1,je=-1,Ze=0,ft=0,mt=m,ct=null;t:for(;;){for(var At;mt!==A||H!==0&&mt.nodeType!==3||(Pe=be+H),mt!==ne||L!==0&&mt.nodeType!==3||(je=be+L),mt.nodeType===3&&(be+=mt.nodeValue.length),(At=mt.firstChild)!==null;)ct=mt,mt=At;for(;;){if(mt===m)break t;if(ct===A&&++Ze===H&&(Pe=be),ct===ne&&++ft===L&&(je=be),(At=mt.nextSibling)!==null)break;mt=ct,ct=mt.parentNode}mt=At}A=Pe===-1||je===-1?null:{start:Pe,end:je}}else A=null}A=A||{start:0,end:0}}else A=null;for(AT={focusedElem:m,selectionRange:A},Bc=!1,It=b;It!==null;)if(b=It,m=b.child,(b.subtreeFlags&1028)!==0&&m!==null)m.return=b,It=m;else for(;It!==null;){b=It;try{var Pt=b.alternate;if((b.flags&1024)!==0)switch(b.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Ut=Pt.memoizedProps,Jr=Pt.memoizedState,Ge=b.stateNode,Ve=Ge.getSnapshotBeforeUpdate(b.elementType===b.type?Ut:xo(b.type,Ut),Jr);Ge.__reactInternalSnapshotBeforeUpdate=Ve}break;case 3:var Xe=b.stateNode.containerInfo;Xe.nodeType===1?Xe.textContent="":Xe.nodeType===9&&Xe.documentElement&&Xe.removeChild(Xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xt){Or(b,b.return,xt)}if(m=b.sibling,m!==null){m.return=b.return,It=m;break}It=b.return}return Pt=N5,N5=!1,Pt}function Rg(m,b,A){var L=b.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var H=L=L.next;do{if((H.tag&m)===m){var ne=H.destroy;H.destroy=void 0,ne!==void 0&&mE(b,A,ne)}H=H.next}while(H!==L)}}function X1(m,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var A=b=b.next;do{if((A.tag&m)===m){var L=A.create;A.destroy=L()}A=A.next}while(A!==b)}}function gE(m){var b=m.ref;if(b!==null){var A=m.stateNode;switch(m.tag){case 5:m=A;break;default:m=A}typeof b=="function"?b(m):b.current=m}}function k5(m){var b=m.alternate;b!==null&&(m.alternate=null,k5(b)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(b=m.stateNode,b!==null&&(delete b[Yo],delete b[_g],delete b[RT],delete b[AQ],delete b[NQ])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function I5(m){return m.tag===5||m.tag===3||m.tag===4}function R5(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||I5(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function yE(m,b,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,b?A.nodeType===8?A.parentNode.insertBefore(m,b):A.insertBefore(m,b):(A.nodeType===8?(b=A.parentNode,b.insertBefore(m,A)):(b=A,b.appendChild(m)),A=A._reactRootContainer,A!=null||b.onclick!==null||(b.onclick=S1));else if(L!==4&&(m=m.child,m!==null))for(yE(m,b,A),m=m.sibling;m!==null;)yE(m,b,A),m=m.sibling}function vE(m,b,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,b?A.insertBefore(m,b):A.appendChild(m);else if(L!==4&&(m=m.child,m!==null))for(vE(m,b,A),m=m.sibling;m!==null;)vE(m,b,A),m=m.sibling}var $i=null,bo=!1;function Xc(m,b,A){for(A=A.child;A!==null;)P5(m,b,A),A=A.sibling}function P5(m,b,A){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(da,A)}catch{}switch(A.tag){case 5:rs||qh(A,b);case 6:var L=$i,H=bo;$i=null,Xc(m,b,A),$i=L,bo=H,$i!==null&&(bo?(m=$i,A=A.stateNode,m.nodeType===8?m.parentNode.removeChild(A):m.removeChild(A)):$i.removeChild(A.stateNode));break;case 18:$i!==null&&(bo?(m=$i,A=A.stateNode,m.nodeType===8?IT(m.parentNode,A):m.nodeType===1&&IT(m,A),mo(m)):IT($i,A.stateNode));break;case 4:L=$i,H=bo,$i=A.stateNode.containerInfo,bo=!0,Xc(m,b,A),$i=L,bo=H;break;case 0:case 11:case 14:case 15:if(!rs&&(L=A.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){H=L=L.next;do{var ne=H,be=ne.destroy;ne=ne.tag,be!==void 0&&((ne&2)!==0||(ne&4)!==0)&&mE(A,b,be),H=H.next}while(H!==L)}Xc(m,b,A);break;case 1:if(!rs&&(qh(A,b),L=A.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=A.memoizedProps,L.state=A.memoizedState,L.componentWillUnmount()}catch(Pe){Or(A,b,Pe)}Xc(m,b,A);break;case 21:Xc(m,b,A);break;case 22:A.mode&1?(rs=(L=rs)||A.memoizedState!==null,Xc(m,b,A),rs=L):Xc(m,b,A);break;default:Xc(m,b,A)}}function F5(m){var b=m.updateQueue;if(b!==null){m.updateQueue=null;var A=m.stateNode;A===null&&(A=m.stateNode=new zQ),b.forEach(function(L){var H=tZ.bind(null,m,L);A.has(L)||(A.add(L),L.then(H,H))})}}function _o(m,b){var A=b.deletions;if(A!==null)for(var L=0;L<A.length;L++){var H=A[L];try{var ne=m,be=b,Pe=be;e:for(;Pe!==null;){switch(Pe.tag){case 5:$i=Pe.stateNode,bo=!1;break e;case 3:$i=Pe.stateNode.containerInfo,bo=!0;break e;case 4:$i=Pe.stateNode.containerInfo,bo=!0;break e}Pe=Pe.return}if($i===null)throw Error(n(160));P5(ne,be,H),$i=null,bo=!1;var je=H.alternate;je!==null&&(je.return=null),H.return=null}catch(Ze){Or(H,b,Ze)}}if(b.subtreeFlags&12854)for(b=b.child;b!==null;)M5(b,m),b=b.sibling}function M5(m,b){var A=m.alternate,L=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(_o(b,m),el(m),L&4){try{Rg(3,m,m.return),X1(3,m)}catch(Ut){Or(m,m.return,Ut)}try{Rg(5,m,m.return)}catch(Ut){Or(m,m.return,Ut)}}break;case 1:_o(b,m),el(m),L&512&&A!==null&&qh(A,A.return);break;case 5:if(_o(b,m),el(m),L&512&&A!==null&&qh(A,A.return),m.flags&32){var H=m.stateNode;try{Oe(H,"")}catch(Ut){Or(m,m.return,Ut)}}if(L&4&&(H=m.stateNode,H!=null)){var ne=m.memoizedProps,be=A!==null?A.memoizedProps:ne,Pe=m.type,je=m.updateQueue;if(m.updateQueue=null,je!==null)try{Pe==="input"&&ne.type==="radio"&&ne.name!=null&&we(H,ne),Ar(Pe,be);var Ze=Ar(Pe,ne);for(be=0;be<je.length;be+=2){var ft=je[be],mt=je[be+1];ft==="style"?Ot(H,mt):ft==="dangerouslySetInnerHTML"?Me(H,mt):ft==="children"?Oe(H,mt):w(H,ft,mt,Ze)}switch(Pe){case"input":oe(H,ne);break;case"textarea":ye(H,ne);break;case"select":var ct=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!ne.multiple;var At=ne.value;At!=null?_e(H,!!ne.multiple,At,!1):ct!==!!ne.multiple&&(ne.defaultValue!=null?_e(H,!!ne.multiple,ne.defaultValue,!0):_e(H,!!ne.multiple,ne.multiple?[]:"",!1))}H[_g]=ne}catch(Ut){Or(m,m.return,Ut)}}break;case 6:if(_o(b,m),el(m),L&4){if(m.stateNode===null)throw Error(n(162));H=m.stateNode,ne=m.memoizedProps;try{H.nodeValue=ne}catch(Ut){Or(m,m.return,Ut)}}break;case 3:if(_o(b,m),el(m),L&4&&A!==null&&A.memoizedState.isDehydrated)try{mo(b.containerInfo)}catch(Ut){Or(m,m.return,Ut)}break;case 4:_o(b,m),el(m);break;case 13:_o(b,m),el(m),H=m.child,H.flags&8192&&(ne=H.memoizedState!==null,H.stateNode.isHidden=ne,!ne||H.alternate!==null&&H.alternate.memoizedState!==null||(_E=ht())),L&4&&F5(m);break;case 22:if(ft=A!==null&&A.memoizedState!==null,m.mode&1?(rs=(Ze=rs)||ft,_o(b,m),rs=Ze):_o(b,m),el(m),L&8192){if(Ze=m.memoizedState!==null,(m.stateNode.isHidden=Ze)&&!ft&&(m.mode&1)!==0)for(It=m,ft=m.child;ft!==null;){for(mt=It=ft;It!==null;){switch(ct=It,At=ct.child,ct.tag){case 0:case 11:case 14:case 15:Rg(4,ct,ct.return);break;case 1:qh(ct,ct.return);var Pt=ct.stateNode;if(typeof Pt.componentWillUnmount=="function"){L=ct,A=ct.return;try{b=L,Pt.props=b.memoizedProps,Pt.state=b.memoizedState,Pt.componentWillUnmount()}catch(Ut){Or(L,A,Ut)}}break;case 5:qh(ct,ct.return);break;case 22:if(ct.memoizedState!==null){L5(mt);continue}}At!==null?(At.return=ct,It=At):L5(mt)}ft=ft.sibling}e:for(ft=null,mt=m;;){if(mt.tag===5){if(ft===null){ft=mt;try{H=mt.stateNode,Ze?(ne=H.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none"):(Pe=mt.stateNode,je=mt.memoizedProps.style,be=je!=null&&je.hasOwnProperty("display")?je.display:null,Pe.style.display=it("display",be))}catch(Ut){Or(m,m.return,Ut)}}}else if(mt.tag===6){if(ft===null)try{mt.stateNode.nodeValue=Ze?"":mt.memoizedProps}catch(Ut){Or(m,m.return,Ut)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===m)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===m)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===m)break e;ft===mt&&(ft=null),mt=mt.return}ft===mt&&(ft=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:_o(b,m),el(m),L&4&&F5(m);break;case 21:break;default:_o(b,m),el(m)}}function el(m){var b=m.flags;if(b&2){try{e:{for(var A=m.return;A!==null;){if(I5(A)){var L=A;break e}A=A.return}throw Error(n(160))}switch(L.tag){case 5:var H=L.stateNode;L.flags&32&&(Oe(H,""),L.flags&=-33);var ne=R5(m);vE(m,ne,H);break;case 3:case 4:var be=L.stateNode.containerInfo,Pe=R5(m);yE(m,Pe,be);break;default:throw Error(n(161))}}catch(je){Or(m,m.return,je)}m.flags&=-3}b&4096&&(m.flags&=-4097)}function GQ(m,b,A){It=m,U5(m)}function U5(m,b,A){for(var L=(m.mode&1)!==0;It!==null;){var H=It,ne=H.child;if(H.tag===22&&L){var be=H.memoizedState!==null||K1;if(!be){var Pe=H.alternate,je=Pe!==null&&Pe.memoizedState!==null||rs;Pe=K1;var Ze=rs;if(K1=be,(rs=je)&&!Ze)for(It=H;It!==null;)be=It,je=be.child,be.tag===22&&be.memoizedState!==null?j5(H):je!==null?(je.return=be,It=je):j5(H);for(;ne!==null;)It=ne,U5(ne),ne=ne.sibling;It=H,K1=Pe,rs=Ze}O5(m)}else(H.subtreeFlags&8772)!==0&&ne!==null?(ne.return=H,It=ne):O5(m)}}function O5(m){for(;It!==null;){var b=It;if((b.flags&8772)!==0){var A=b.alternate;try{if((b.flags&8772)!==0)switch(b.tag){case 0:case 11:case 15:rs||X1(5,b);break;case 1:var L=b.stateNode;if(b.flags&4&&!rs)if(A===null)L.componentDidMount();else{var H=b.elementType===b.type?A.memoizedProps:xo(b.type,A.memoizedProps);L.componentDidUpdate(H,A.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var ne=b.updateQueue;ne!==null&&LR(b,ne,L);break;case 3:var be=b.updateQueue;if(be!==null){if(A=null,b.child!==null)switch(b.child.tag){case 5:A=b.child.stateNode;break;case 1:A=b.child.stateNode}LR(b,be,A)}break;case 5:var Pe=b.stateNode;if(A===null&&b.flags&4){A=Pe;var je=b.memoizedProps;switch(b.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&A.focus();break;case"img":je.src&&(A.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(b.memoizedState===null){var Ze=b.alternate;if(Ze!==null){var ft=Ze.memoizedState;if(ft!==null){var mt=ft.dehydrated;mt!==null&&mo(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rs||b.flags&512&&gE(b)}catch(ct){Or(b,b.return,ct)}}if(b===m){It=null;break}if(A=b.sibling,A!==null){A.return=b.return,It=A;break}It=b.return}}function L5(m){for(;It!==null;){var b=It;if(b===m){It=null;break}var A=b.sibling;if(A!==null){A.return=b.return,It=A;break}It=b.return}}function j5(m){for(;It!==null;){var b=It;try{switch(b.tag){case 0:case 11:case 15:var A=b.return;try{X1(4,b)}catch(je){Or(b,A,je)}break;case 1:var L=b.stateNode;if(typeof L.componentDidMount=="function"){var H=b.return;try{L.componentDidMount()}catch(je){Or(b,H,je)}}var ne=b.return;try{gE(b)}catch(je){Or(b,ne,je)}break;case 5:var be=b.return;try{gE(b)}catch(je){Or(b,be,je)}}}catch(je){Or(b,b.return,je)}if(b===m){It=null;break}var Pe=b.sibling;if(Pe!==null){Pe.return=b.return,It=Pe;break}It=b.return}}var KQ=Math.ceil,J1=C.ReactCurrentDispatcher,xE=C.ReactCurrentOwner,La=C.ReactCurrentBatchConfig,wn=0,Ai=null,ai=null,zi=0,ya=0,$h=$c(0),mi=0,Pg=null,Sd=0,Y1=0,bE=0,Fg=null,Hs=null,_E=0,zh=1/0,Gl=null,Q1=!1,wE=null,Jc=null,Z1=!1,Yc=null,ex=0,Mg=0,TE=null,tx=-1,nx=0;function As(){return(wn&6)!==0?ht():tx!==-1?tx:tx=ht()}function Qc(m){return(m.mode&1)===0?1:(wn&2)!==0&&zi!==0?zi&-zi:IQ.transition!==null?(nx===0&&(nx=pd()),nx):(m=vn,m!==0||(m=window.event,m=m===void 0?16:cg(m.type)),m)}function wo(m,b,A,L){if(50<Mg)throw Mg=0,TE=null,Error(n(185));Uc(m,A,L),((wn&2)===0||m!==Ai)&&(m===Ai&&((wn&2)===0&&(Y1|=A),mi===4&&Zc(m,zi)),Gs(m,L),A===1&&wn===0&&(b.mode&1)===0&&(zh=ht()+500,k1&&Hc()))}function Gs(m,b){var A=m.callbackNode;Ml(m,b);var L=hd(m,m===Ai?zi:0);if(L===0)A!==null&&gt(A),m.callbackNode=null,m.callbackPriority=0;else if(b=L&-L,m.callbackPriority!==b){if(A!=null&&gt(A),b===1)m.tag===0?kQ(V5.bind(null,m)):SR(V5.bind(null,m)),SQ(function(){(wn&6)===0&&Hc()}),A=null;else{switch(Lc(L)){case 1:A=Fn;break;case 4:A=Sn;break;case 16:A=Vn;break;case 536870912:A=zo;break;default:A=Vn}A=X5(A,B5.bind(null,m))}m.callbackPriority=b,m.callbackNode=A}}function B5(m,b){if(tx=-1,nx=0,(wn&6)!==0)throw Error(n(327));var A=m.callbackNode;if(Hh()&&m.callbackNode!==A)return null;var L=hd(m,m===Ai?zi:0);if(L===0)return null;if((L&30)!==0||(L&m.expiredLanes)!==0||b)b=rx(m,L);else{b=L;var H=wn;wn|=2;var ne=q5();(Ai!==m||zi!==b)&&(Gl=null,zh=ht()+500,Ad(m,b));do try{YQ();break}catch(Pe){W5(m,Pe)}while(!0);VT(),J1.current=ne,wn=H,ai!==null?b=0:(Ai=null,zi=0,b=mi)}if(b!==0){if(b===2&&(H=fa(m),H!==0&&(L=H,b=EE(m,H))),b===1)throw A=Pg,Ad(m,0),Zc(m,L),Gs(m,ht()),A;if(b===6)Zc(m,L);else{if(H=m.current.alternate,(L&30)===0&&!XQ(H)&&(b=rx(m,L),b===2&&(ne=fa(m),ne!==0&&(L=ne,b=EE(m,ne))),b===1))throw A=Pg,Ad(m,0),Zc(m,L),Gs(m,ht()),A;switch(m.finishedWork=H,m.finishedLanes=L,b){case 0:case 1:throw Error(n(345));case 2:Nd(m,Hs,Gl);break;case 3:if(Zc(m,L),(L&130023424)===L&&(b=_E+500-ht(),10<b)){if(hd(m,0)!==0)break;if(H=m.suspendedLanes,(H&L)!==L){As(),m.pingedLanes|=m.suspendedLanes&H;break}m.timeoutHandle=kT(Nd.bind(null,m,Hs,Gl),b);break}Nd(m,Hs,Gl);break;case 4:if(Zc(m,L),(L&4194240)===L)break;for(b=m.eventTimes,H=-1;0<L;){var be=31-cr(L);ne=1<<be,be=b[be],be>H&&(H=be),L&=~ne}if(L=H,L=ht()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*KQ(L/1960))-L,10<L){m.timeoutHandle=kT(Nd.bind(null,m,Hs,Gl),L);break}Nd(m,Hs,Gl);break;case 5:Nd(m,Hs,Gl);break;default:throw Error(n(329))}}}return Gs(m,ht()),m.callbackNode===A?B5.bind(null,m):null}function EE(m,b){var A=Fg;return m.current.memoizedState.isDehydrated&&(Ad(m,b).flags|=256),m=rx(m,b),m!==2&&(b=Hs,Hs=A,b!==null&&CE(b)),m}function CE(m){Hs===null?Hs=m:Hs.push.apply(Hs,m)}function XQ(m){for(var b=m;;){if(b.flags&16384){var A=b.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var L=0;L<A.length;L++){var H=A[L],ne=H.getSnapshot;H=H.value;try{if(!yo(ne(),H))return!1}catch{return!1}}}if(A=b.child,b.subtreeFlags&16384&&A!==null)A.return=b,b=A;else{if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Zc(m,b){for(b&=~bE,b&=~Y1,m.suspendedLanes|=b,m.pingedLanes&=~b,m=m.expirationTimes;0<b;){var A=31-cr(b),L=1<<A;m[A]=-1,b&=~L}}function V5(m){if((wn&6)!==0)throw Error(n(327));Hh();var b=hd(m,0);if((b&1)===0)return Gs(m,ht()),null;var A=rx(m,b);if(m.tag!==0&&A===2){var L=fa(m);L!==0&&(b=L,A=EE(m,L))}if(A===1)throw A=Pg,Ad(m,0),Zc(m,b),Gs(m,ht()),A;if(A===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=b,Nd(m,Hs,Gl),Gs(m,ht()),null}function SE(m,b){var A=wn;wn|=1;try{return m(b)}finally{wn=A,wn===0&&(zh=ht()+500,k1&&Hc())}}function Dd(m){Yc!==null&&Yc.tag===0&&(wn&6)===0&&Hh();var b=wn;wn|=1;var A=La.transition,L=vn;try{if(La.transition=null,vn=1,m)return m()}finally{vn=L,La.transition=A,wn=b,(wn&6)===0&&Hc()}}function DE(){ya=$h.current,dr($h)}function Ad(m,b){m.finishedWork=null,m.finishedLanes=0;var A=m.timeoutHandle;if(A!==-1&&(m.timeoutHandle=-1,CQ(A)),ai!==null)for(A=ai.return;A!==null;){var L=A;switch(UT(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&A1();break;case 3:Vh(),dr(qs),dr(es),XT();break;case 5:GT(L);break;case 4:Vh();break;case 13:dr(Nr);break;case 19:dr(Nr);break;case 10:WT(L.type._context);break;case 22:case 23:DE()}A=A.return}if(Ai=m,ai=m=eu(m.current,null),zi=ya=b,mi=0,Pg=null,bE=Y1=Sd=0,Hs=Fg=null,Td!==null){for(b=0;b<Td.length;b++)if(A=Td[b],L=A.interleaved,L!==null){A.interleaved=null;var H=L.next,ne=A.pending;if(ne!==null){var be=ne.next;ne.next=H,L.next=be}A.pending=L}Td=null}return m}function W5(m,b){do{var A=ai;try{if(VT(),B1.current=$1,V1){for(var L=kr.memoizedState;L!==null;){var H=L.queue;H!==null&&(H.pending=null),L=L.next}V1=!1}if(Cd=0,Di=pi=kr=null,Dg=!1,Ag=0,xE.current=null,A===null||A.return===null){mi=1,Pg=b,ai=null;break}e:{var ne=m,be=A.return,Pe=A,je=b;if(b=zi,Pe.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Ze=je,ft=Pe,mt=ft.tag;if((ft.mode&1)===0&&(mt===0||mt===11||mt===15)){var ct=ft.alternate;ct?(ft.updateQueue=ct.updateQueue,ft.memoizedState=ct.memoizedState,ft.lanes=ct.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var At=h5(be);if(At!==null){At.flags&=-257,p5(At,be,Pe,ne,b),At.mode&1&&f5(ne,Ze,b),b=At,je=Ze;var Pt=b.updateQueue;if(Pt===null){var Ut=new Set;Ut.add(je),b.updateQueue=Ut}else Pt.add(je);break e}else{if((b&1)===0){f5(ne,Ze,b),AE();break e}je=Error(n(426))}}else if(br&&Pe.mode&1){var Jr=h5(be);if(Jr!==null){(Jr.flags&65536)===0&&(Jr.flags|=256),p5(Jr,be,Pe,ne,b),jT(Wh(je,Pe));break e}}ne=je=Wh(je,Pe),mi!==4&&(mi=2),Fg===null?Fg=[ne]:Fg.push(ne),ne=be;do{switch(ne.tag){case 3:ne.flags|=65536,b&=-b,ne.lanes|=b;var Ge=u5(ne,je,b);OR(ne,Ge);break e;case 1:Pe=je;var Ve=ne.type,Xe=ne.stateNode;if((ne.flags&128)===0&&(typeof Ve.getDerivedStateFromError=="function"||Xe!==null&&typeof Xe.componentDidCatch=="function"&&(Jc===null||!Jc.has(Xe)))){ne.flags|=65536,b&=-b,ne.lanes|=b;var xt=d5(ne,Pe,b);OR(ne,xt);break e}}ne=ne.return}while(ne!==null)}z5(A)}catch(Lt){b=Lt,ai===A&&A!==null&&(ai=A=A.return);continue}break}while(!0)}function q5(){var m=J1.current;return J1.current=$1,m===null?$1:m}function AE(){(mi===0||mi===3||mi===2)&&(mi=4),Ai===null||(Sd&268435455)===0&&(Y1&268435455)===0||Zc(Ai,zi)}function rx(m,b){var A=wn;wn|=2;var L=q5();(Ai!==m||zi!==b)&&(Gl=null,Ad(m,b));do try{JQ();break}catch(H){W5(m,H)}while(!0);if(VT(),wn=A,J1.current=L,ai!==null)throw Error(n(261));return Ai=null,zi=0,mi}function JQ(){for(;ai!==null;)$5(ai)}function YQ(){for(;ai!==null&&!Et();)$5(ai)}function $5(m){var b=K5(m.alternate,m,ya);m.memoizedProps=m.pendingProps,b===null?z5(m):ai=b,xE.current=null}function z5(m){var b=m;do{var A=b.alternate;if(m=b.return,(b.flags&32768)===0){if(A=qQ(A,b,ya),A!==null){ai=A;return}}else{if(A=$Q(A,b),A!==null){A.flags&=32767,ai=A;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{mi=6,ai=null;return}}if(b=b.sibling,b!==null){ai=b;return}ai=b=m}while(b!==null);mi===0&&(mi=5)}function Nd(m,b,A){var L=vn,H=La.transition;try{La.transition=null,vn=1,QQ(m,b,A,L)}finally{La.transition=H,vn=L}return null}function QQ(m,b,A,L){do Hh();while(Yc!==null);if((wn&6)!==0)throw Error(n(327));A=m.finishedWork;var H=m.finishedLanes;if(A===null)return null;if(m.finishedWork=null,m.finishedLanes=0,A===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var ne=A.lanes|A.childLanes;if(er(m,ne),m===Ai&&(ai=Ai=null,zi=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||Z1||(Z1=!0,X5(Vn,function(){return Hh(),null})),ne=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||ne){ne=La.transition,La.transition=null;var be=vn;vn=1;var Pe=wn;wn|=4,xE.current=null,HQ(m,A),M5(A,m),vQ(AT),Bc=!!DT,AT=DT=null,m.current=A,GQ(A),yt(),wn=Pe,vn=be,La.transition=ne}else m.current=A;if(Z1&&(Z1=!1,Yc=m,ex=H),ne=m.pendingLanes,ne===0&&(Jc=null),Pc(A.stateNode),Gs(m,ht()),b!==null)for(L=m.onRecoverableError,A=0;A<b.length;A++)H=b[A],L(H.value,{componentStack:H.stack,digest:H.digest});if(Q1)throw Q1=!1,m=wE,wE=null,m;return(ex&1)!==0&&m.tag!==0&&Hh(),ne=m.pendingLanes,(ne&1)!==0?m===TE?Mg++:(Mg=0,TE=m):Mg=0,Hc(),null}function Hh(){if(Yc!==null){var m=Lc(ex),b=La.transition,A=vn;try{if(La.transition=null,vn=16>m?16:m,Yc===null)var L=!1;else{if(m=Yc,Yc=null,ex=0,(wn&6)!==0)throw Error(n(331));var H=wn;for(wn|=4,It=m.current;It!==null;){var ne=It,be=ne.child;if((It.flags&16)!==0){var Pe=ne.deletions;if(Pe!==null){for(var je=0;je<Pe.length;je++){var Ze=Pe[je];for(It=Ze;It!==null;){var ft=It;switch(ft.tag){case 0:case 11:case 15:Rg(8,ft,ne)}var mt=ft.child;if(mt!==null)mt.return=ft,It=mt;else for(;It!==null;){ft=It;var ct=ft.sibling,At=ft.return;if(k5(ft),ft===Ze){It=null;break}if(ct!==null){ct.return=At,It=ct;break}It=At}}}var Pt=ne.alternate;if(Pt!==null){var Ut=Pt.child;if(Ut!==null){Pt.child=null;do{var Jr=Ut.sibling;Ut.sibling=null,Ut=Jr}while(Ut!==null)}}It=ne}}if((ne.subtreeFlags&2064)!==0&&be!==null)be.return=ne,It=be;else e:for(;It!==null;){if(ne=It,(ne.flags&2048)!==0)switch(ne.tag){case 0:case 11:case 15:Rg(9,ne,ne.return)}var Ge=ne.sibling;if(Ge!==null){Ge.return=ne.return,It=Ge;break e}It=ne.return}}var Ve=m.current;for(It=Ve;It!==null;){be=It;var Xe=be.child;if((be.subtreeFlags&2064)!==0&&Xe!==null)Xe.return=be,It=Xe;else e:for(be=Ve;It!==null;){if(Pe=It,(Pe.flags&2048)!==0)try{switch(Pe.tag){case 0:case 11:case 15:X1(9,Pe)}}catch(Lt){Or(Pe,Pe.return,Lt)}if(Pe===be){It=null;break e}var xt=Pe.sibling;if(xt!==null){xt.return=Pe.return,It=xt;break e}It=Pe.return}}if(wn=H,Hc(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(da,m)}catch{}L=!0}return L}finally{vn=A,La.transition=b}}return!1}function H5(m,b,A){b=Wh(A,b),b=u5(m,b,1),m=Kc(m,b,1),b=As(),m!==null&&(Uc(m,1,b),Gs(m,b))}function Or(m,b,A){if(m.tag===3)H5(m,m,A);else for(;b!==null;){if(b.tag===3){H5(b,m,A);break}else if(b.tag===1){var L=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(Jc===null||!Jc.has(L))){m=Wh(A,m),m=d5(b,m,1),b=Kc(b,m,1),m=As(),b!==null&&(Uc(b,1,m),Gs(b,m));break}}b=b.return}}function ZQ(m,b,A){var L=m.pingCache;L!==null&&L.delete(b),b=As(),m.pingedLanes|=m.suspendedLanes&A,Ai===m&&(zi&A)===A&&(mi===4||mi===3&&(zi&130023424)===zi&&500>ht()-_E?Ad(m,0):bE|=A),Gs(m,b)}function G5(m,b){b===0&&((m.mode&1)===0?b=1:(b=mh,mh<<=1,(mh&130023424)===0&&(mh=4194304)));var A=As();m=$l(m,b),m!==null&&(Uc(m,b,A),Gs(m,A))}function eZ(m){var b=m.memoizedState,A=0;b!==null&&(A=b.retryLane),G5(m,A)}function tZ(m,b){var A=0;switch(m.tag){case 13:var L=m.stateNode,H=m.memoizedState;H!==null&&(A=H.retryLane);break;case 19:L=m.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(b),G5(m,A)}var K5;K5=function(m,b,A){if(m!==null)if(m.memoizedProps!==b.pendingProps||qs.current)zs=!0;else{if((m.lanes&A)===0&&(b.flags&128)===0)return zs=!1,WQ(m,b,A);zs=(m.flags&131072)!==0}else zs=!1,br&&(b.flags&1048576)!==0&&DR(b,R1,b.index);switch(b.lanes=0,b.tag){case 2:var L=b.type;G1(m,b),m=b.pendingProps;var H=Fh(b,es.current);Bh(b,A),H=QT(null,b,L,m,H,A);var ne=ZT();return b.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,$s(L)?(ne=!0,N1(b)):ne=!1,b.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,zT(b),H.updater=z1,b.stateNode=H,H._reactInternals=b,sE(b,L,m,A),b=cE(null,b,L,!0,ne,A)):(b.tag=0,br&&ne&&MT(b),Ds(null,b,H,A),b=b.child),b;case 16:L=b.elementType;e:{switch(G1(m,b),m=b.pendingProps,H=L._init,L=H(L._payload),b.type=L,H=b.tag=rZ(L),m=xo(L,m),H){case 0:b=lE(null,b,L,m,A);break e;case 1:b=b5(null,b,L,m,A);break e;case 11:b=m5(null,b,L,m,A);break e;case 14:b=g5(null,b,L,xo(L.type,m),A);break e}throw Error(n(306,L,""))}return b;case 0:return L=b.type,H=b.pendingProps,H=b.elementType===L?H:xo(L,H),lE(m,b,L,H,A);case 1:return L=b.type,H=b.pendingProps,H=b.elementType===L?H:xo(L,H),b5(m,b,L,H,A);case 3:e:{if(_5(b),m===null)throw Error(n(387));L=b.pendingProps,ne=b.memoizedState,H=ne.element,UR(m,b),L1(b,L,null,A);var be=b.memoizedState;if(L=be.element,ne.isDehydrated)if(ne={element:L,isDehydrated:!1,cache:be.cache,pendingSuspenseBoundaries:be.pendingSuspenseBoundaries,transitions:be.transitions},b.updateQueue.baseState=ne,b.memoizedState=ne,b.flags&256){H=Wh(Error(n(423)),b),b=w5(m,b,L,A,H);break e}else if(L!==H){H=Wh(Error(n(424)),b),b=w5(m,b,L,A,H);break e}else for(ga=qc(b.stateNode.containerInfo.firstChild),ma=b,br=!0,vo=null,A=FR(b,null,L,A),b.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Oh(),L===H){b=Hl(m,b,A);break e}Ds(m,b,L,A)}b=b.child}return b;case 5:return jR(b),m===null&&LT(b),L=b.type,H=b.pendingProps,ne=m!==null?m.memoizedProps:null,be=H.children,NT(L,H)?be=null:ne!==null&&NT(L,ne)&&(b.flags|=32),x5(m,b),Ds(m,b,be,A),b.child;case 6:return m===null&&LT(b),null;case 13:return T5(m,b,A);case 4:return HT(b,b.stateNode.containerInfo),L=b.pendingProps,m===null?b.child=Lh(b,null,L,A):Ds(m,b,L,A),b.child;case 11:return L=b.type,H=b.pendingProps,H=b.elementType===L?H:xo(L,H),m5(m,b,L,H,A);case 7:return Ds(m,b,b.pendingProps,A),b.child;case 8:return Ds(m,b,b.pendingProps.children,A),b.child;case 12:return Ds(m,b,b.pendingProps.children,A),b.child;case 10:e:{if(L=b.type._context,H=b.pendingProps,ne=b.memoizedProps,be=H.value,rr(M1,L._currentValue),L._currentValue=be,ne!==null)if(yo(ne.value,be)){if(ne.children===H.children&&!qs.current){b=Hl(m,b,A);break e}}else for(ne=b.child,ne!==null&&(ne.return=b);ne!==null;){var Pe=ne.dependencies;if(Pe!==null){be=ne.child;for(var je=Pe.firstContext;je!==null;){if(je.context===L){if(ne.tag===1){je=zl(-1,A&-A),je.tag=2;var Ze=ne.updateQueue;if(Ze!==null){Ze=Ze.shared;var ft=Ze.pending;ft===null?je.next=je:(je.next=ft.next,ft.next=je),Ze.pending=je}}ne.lanes|=A,je=ne.alternate,je!==null&&(je.lanes|=A),qT(ne.return,A,b),Pe.lanes|=A;break}je=je.next}}else if(ne.tag===10)be=ne.type===b.type?null:ne.child;else if(ne.tag===18){if(be=ne.return,be===null)throw Error(n(341));be.lanes|=A,Pe=be.alternate,Pe!==null&&(Pe.lanes|=A),qT(be,A,b),be=ne.sibling}else be=ne.child;if(be!==null)be.return=ne;else for(be=ne;be!==null;){if(be===b){be=null;break}if(ne=be.sibling,ne!==null){ne.return=be.return,be=ne;break}be=be.return}ne=be}Ds(m,b,H.children,A),b=b.child}return b;case 9:return H=b.type,L=b.pendingProps.children,Bh(b,A),H=Ua(H),L=L(H),b.flags|=1,Ds(m,b,L,A),b.child;case 14:return L=b.type,H=xo(L,b.pendingProps),H=xo(L.type,H),g5(m,b,L,H,A);case 15:return y5(m,b,b.type,b.pendingProps,A);case 17:return L=b.type,H=b.pendingProps,H=b.elementType===L?H:xo(L,H),G1(m,b),b.tag=1,$s(L)?(m=!0,N1(b)):m=!1,Bh(b,A),l5(b,L,H),sE(b,L,H,A),cE(null,b,L,!0,m,A);case 19:return C5(m,b,A);case 22:return v5(m,b,A)}throw Error(n(156,b.tag))};function X5(m,b){return ot(m,b)}function nZ(m,b,A,L){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(m,b,A,L){return new nZ(m,b,A,L)}function NE(m){return m=m.prototype,!(!m||!m.isReactComponent)}function rZ(m){if(typeof m=="function")return NE(m)?1:0;if(m!=null){if(m=m.$$typeof,m===I)return 11;if(m===G)return 14}return 2}function eu(m,b){var A=m.alternate;return A===null?(A=ja(m.tag,b,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=b,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&14680064,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,b=m.dependencies,A.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A}function ix(m,b,A,L,H,ne){var be=2;if(L=m,typeof m=="function")NE(m)&&(be=1);else if(typeof m=="string")be=5;else e:switch(m){case S:return kd(A.children,H,ne,b);case N:be=8,H|=8;break;case k:return m=ja(12,A,b,H|2),m.elementType=k,m.lanes=ne,m;case U:return m=ja(13,A,b,H),m.elementType=U,m.lanes=ne,m;case O:return m=ja(19,A,b,H),m.elementType=O,m.lanes=ne,m;case J:return sx(A,H,ne,b);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case F:be=10;break e;case P:be=9;break e;case I:be=11;break e;case G:be=14;break e;case K:be=16,L=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return b=ja(be,A,b,H),b.elementType=m,b.type=L,b.lanes=ne,b}function kd(m,b,A,L){return m=ja(7,m,L,b),m.lanes=A,m}function sx(m,b,A,L){return m=ja(22,m,L,b),m.elementType=J,m.lanes=A,m.stateNode={isHidden:!1},m}function kE(m,b,A){return m=ja(6,m,null,b),m.lanes=A,m}function IE(m,b,A){return b=ja(4,m.children!==null?m.children:[],m.key,b),b.lanes=A,b.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},b}function iZ(m,b,A,L,H){this.tag=b,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=L,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function RE(m,b,A,L,H,ne,be,Pe,je){return m=new iZ(m,b,A,Pe,je),b===1?(b=1,ne===!0&&(b|=8)):b=0,ne=ja(3,null,null,b),m.current=ne,ne.stateNode=m,ne.memoizedState={element:L,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},zT(ne),m}function sZ(m,b,A){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:L==null?null:""+L,children:m,containerInfo:b,implementation:A}}function J5(m){if(!m)return zc;m=m._reactInternals;e:{if(Ie(m)!==m||m.tag!==1)throw Error(n(170));var b=m;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if($s(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(n(171))}if(m.tag===1){var A=m.type;if($s(A))return ER(m,A,b)}return b}function Y5(m,b,A,L,H,ne,be,Pe,je){return m=RE(A,L,!0,m,H,ne,be,Pe,je),m.context=J5(null),A=m.current,L=As(),H=Qc(A),ne=zl(L,H),ne.callback=b??null,Kc(A,ne,H),m.current.lanes=H,Uc(m,H,L),Gs(m,L),m}function ax(m,b,A,L){var H=b.current,ne=As(),be=Qc(H);return A=J5(A),b.context===null?b.context=A:b.pendingContext=A,b=zl(ne,be),b.payload={element:m},L=L===void 0?null:L,L!==null&&(b.callback=L),m=Kc(H,b,be),m!==null&&(wo(m,H,be,ne),O1(m,H,be)),be}function ox(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function Q5(m,b){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<b?A:b}}function PE(m,b){Q5(m,b),(m=m.alternate)&&Q5(m,b)}function aZ(){return null}var Z5=typeof reportError=="function"?reportError:function(m){console.error(m)};function FE(m){this._internalRoot=m}lx.prototype.render=FE.prototype.render=function(m){var b=this._internalRoot;if(b===null)throw Error(n(409));ax(m,b,null,null)},lx.prototype.unmount=FE.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var b=m.containerInfo;Dd(function(){ax(null,m,null,null)}),b[Bl]=null}};function lx(m){this._internalRoot=m}lx.prototype.unstable_scheduleHydration=function(m){if(m){var b=l1();m={blockedOn:null,target:m,priority:b};for(var A=0;A<Go.length&&b!==0&&b<Go[A].priority;A++);Go.splice(A,0,m),A===0&&d1(m)}};function ME(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function cx(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function e8(){}function oZ(m,b,A,L,H){if(H){if(typeof L=="function"){var ne=L;L=function(){var Ze=ox(be);ne.call(Ze)}}var be=Y5(b,L,m,0,null,!1,!1,"",e8);return m._reactRootContainer=be,m[Bl]=be.current,xg(m.nodeType===8?m.parentNode:m),Dd(),be}for(;H=m.lastChild;)m.removeChild(H);if(typeof L=="function"){var Pe=L;L=function(){var Ze=ox(je);Pe.call(Ze)}}var je=RE(m,0,!1,null,null,!1,!1,"",e8);return m._reactRootContainer=je,m[Bl]=je.current,xg(m.nodeType===8?m.parentNode:m),Dd(function(){ax(b,je,A,L)}),je}function ux(m,b,A,L,H){var ne=A._reactRootContainer;if(ne){var be=ne;if(typeof H=="function"){var Pe=H;H=function(){var je=ox(be);Pe.call(je)}}ax(b,be,m,H)}else be=oZ(A,b,m,H,L);return ox(be)}a1=function(m){switch(m.tag){case 3:var b=m.stateNode;if(b.current.memoizedState.isDehydrated){var A=Fc(b.pendingLanes);A!==0&&(Oc(b,A|1),Gs(b,ht()),(wn&6)===0&&(zh=ht()+500,Hc()))}break;case 13:Dd(function(){var L=$l(m,1);if(L!==null){var H=As();wo(L,m,1,H)}}),PE(m,1)}},gh=function(m){if(m.tag===13){var b=$l(m,134217728);if(b!==null){var A=As();wo(b,m,134217728,A)}PE(m,134217728)}},o1=function(m){if(m.tag===13){var b=Qc(m),A=$l(m,b);if(A!==null){var L=As();wo(A,m,b,L)}PE(m,b)}},l1=function(){return vn},c1=function(m,b){var A=vn;try{return vn=m,b()}finally{vn=A}},Xn=function(m,b,A){switch(b){case"input":if(oe(m,A),b=A.name,A.type==="radio"&&b!=null){for(A=m;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<A.length;b++){var L=A[b];if(L!==m&&L.form===m.form){var H=D1(L);if(!H)throw Error(n(90));me(L),oe(L,H)}}}break;case"textarea":ye(m,A);break;case"select":b=A.value,b!=null&&_e(m,!!A.multiple,b,!1)}},Je=SE,lt=Dd;var lZ={usingClientEntryPoint:!1,Events:[wg,Rh,D1,Ee,Fe,SE]},Ug={findFiberByHostInstance:xd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cZ={bundleType:Ug.bundleType,version:Ug.version,rendererPackageName:Ug.rendererPackageName,rendererConfig:Ug.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=qe(m),m===null?null:m.stateNode},findFiberByHostInstance:Ug.findFiberByHostInstance||aZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dx.isDisabled&&dx.supportsFiber)try{da=dx.inject(cZ),Xr=dx}catch{}}return Ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lZ,Ks.createPortal=function(m,b){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ME(b))throw Error(n(200));return sZ(m,b,null,A)},Ks.createRoot=function(m,b){if(!ME(m))throw Error(n(299));var A=!1,L="",H=Z5;return b!=null&&(b.unstable_strictMode===!0&&(A=!0),b.identifierPrefix!==void 0&&(L=b.identifierPrefix),b.onRecoverableError!==void 0&&(H=b.onRecoverableError)),b=RE(m,1,!1,null,null,A,!1,L,H),m[Bl]=b.current,xg(m.nodeType===8?m.parentNode:m),new FE(b)},Ks.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var b=m._reactInternals;if(b===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=qe(b),m=m===null?null:m.stateNode,m},Ks.flushSync=function(m){return Dd(m)},Ks.hydrate=function(m,b,A){if(!cx(b))throw Error(n(200));return ux(null,m,b,!0,A)},Ks.hydrateRoot=function(m,b,A){if(!ME(m))throw Error(n(405));var L=A!=null&&A.hydratedSources||null,H=!1,ne="",be=Z5;if(A!=null&&(A.unstable_strictMode===!0&&(H=!0),A.identifierPrefix!==void 0&&(ne=A.identifierPrefix),A.onRecoverableError!==void 0&&(be=A.onRecoverableError)),b=Y5(b,null,m,1,A??null,H,!1,ne,be),m[Bl]=b.current,xg(m),L)for(m=0;m<L.length;m++)A=L[m],H=A._getVersion,H=H(A._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[A,H]:b.mutableSourceEagerHydrationData.push(A,H);return new lx(b)},Ks.render=function(m,b,A){if(!cx(b))throw Error(n(200));return ux(null,m,b,!1,A)},Ks.unmountComponentAtNode=function(m){if(!cx(m))throw Error(n(40));return m._reactRootContainer?(Dd(function(){ux(null,null,m,!1,function(){m._reactRootContainer=null,m[Bl]=null})}),!0):!1},Ks.unstable_batchedUpdates=SE,Ks.unstable_renderSubtreeIntoContainer=function(m,b,A,L){if(!cx(A))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return ux(m,b,A,!1,L)},Ks.version="18.3.1-next-f1338f8080-20240426",Ks}var l8;function CB(){if(l8)return LE.exports;l8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),LE.exports=yZ(),LE.exports}var c8;function vZ(){if(c8)return fx;c8=1;var t=CB();return fx.createRoot=t.createRoot,fx.hydrateRoot=t.hydrateRoot,fx}var xZ=vZ();const bZ=a_(xZ);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var u8="popstate";function _Z(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return E4("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ay(i)}return TZ(e,n,null,t)}function Cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function io(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wZ(){return Math.random().toString(36).substring(2,10)}function d8(t,e){return{usr:t.state,key:t.key,idx:e}}function E4(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cm(e):e,state:n,key:e&&e.key||r||wZ()}}function ay({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function TZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){o="POP";let y=u(),_=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:_})}function h(y,_){o="PUSH";let x=E4(g.location,y,_);c=u()+1;let w=d8(x,c),C=g.createHref(x);try{a.pushState(w,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}s&&l&&l({action:o,location:g.location,delta:1})}function p(y,_){o="REPLACE";let x=E4(g.location,y,_);c=u();let w=d8(x,c),C=g.createHref(x);a.replaceState(w,"",C),s&&l&&l({action:o,location:g.location,delta:0})}function v(y){return EZ(y)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(u8,f),l=y,()=>{i.removeEventListener(u8,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let _=v(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(y){return a.go(y)}};return g}function EZ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Cr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ay(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function SB(t,e,n="/"){return CZ(t,e,n,!1)}function CZ(t,e,n,r){let i=typeof e=="string"?Cm(e):e,s=dc(i.pathname||"/",n);if(s==null)return null;let a=DB(t);SZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=OZ(s);o=MZ(a[l],c,r)}return o}function DB(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Cr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=nc([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Cr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),DB(a.children,e,h,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:PZ(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of AB(a.path))s(a,o,!0,c)}),e}function AB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=AB(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function SZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DZ=/^:[\w-]+$/,AZ=3,NZ=2,kZ=1,IZ=10,RZ=-2,f8=t=>t==="*";function PZ(t,e){let n=t.split("/"),r=n.length;return n.some(f8)&&(r+=RZ),e&&(r+=NZ),n.filter(i=>!f8(i)).reduce((i,s)=>i+(DZ.test(s)?AZ:s===""?kZ:IZ),r)}function FZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function MZ(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=K2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=K2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:nc([s,f.pathname]),pathnameBase:VZ(nc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=nc([s,f.pathnameBase]))}return a}function K2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function UZ(t,e=!1,n=!0){io(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return io(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LZ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Cm(t):t;return{pathname:n?n.startsWith("/")?n:jZ(n,e):e,search:WZ(r),hash:qZ(i)}}function jZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function VE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vN(t){let e=BZ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xN(t,e,n,r=!1){let i;typeof t=="string"?i=Cm(t):(i={...t},Cr(!i.pathname||!i.pathname.includes("?"),VE("?","pathname","search",i)),Cr(!i.pathname||!i.pathname.includes("#"),VE("#","pathname","hash",i)),Cr(!i.search||!i.search.includes("#"),VE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=LZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var nc=t=>t.join("/").replace(/\/\/+/g,"/"),VZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $Z(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NB=["POST","PUT","PATCH","DELETE"];new Set(NB);var zZ=["GET",...NB];new Set(zZ);var Sm=W.createContext(null);Sm.displayName="DataRouter";var l_=W.createContext(null);l_.displayName="DataRouterState";W.createContext(!1);var kB=W.createContext({isTransitioning:!1});kB.displayName="ViewTransition";var HZ=W.createContext(new Map);HZ.displayName="Fetchers";var GZ=W.createContext(null);GZ.displayName="Await";var Wo=W.createContext(null);Wo.displayName="Navigation";var uv=W.createContext(null);uv.displayName="Location";var oo=W.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var bN=W.createContext(null);bN.displayName="RouteError";function KZ(t,{relative:e}={}){Cr(Dm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=W.useContext(Wo),{hash:i,pathname:s,search:a}=dv(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:nc([n,s])),r.createHref({pathname:o,search:a,hash:i})}function Dm(){return W.useContext(uv)!=null}function Sr(){return Cr(Dm(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(uv).location}var IB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RB(t){W.useContext(Wo).static||W.useLayoutEffect(t)}function Ti(){let{isDataRoute:t}=W.useContext(oo);return t?cee():XZ()}function XZ(){Cr(Dm(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(Sm),{basename:e,navigator:n}=W.useContext(Wo),{matches:r}=W.useContext(oo),{pathname:i}=Sr(),s=JSON.stringify(vN(r)),a=W.useRef(!1);return RB(()=>{a.current=!0}),W.useCallback((l,c={})=>{if(io(a.current,IB),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=xN(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:nc([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var JZ=W.createContext(null);function YZ(t){let e=W.useContext(oo).outlet;return e&&W.createElement(JZ.Provider,{value:t},e)}function oa(){let{matches:t}=W.useContext(oo),e=t[t.length-1];return e?e.params:{}}function dv(t,{relative:e}={}){let{matches:n}=W.useContext(oo),{pathname:r}=Sr(),i=JSON.stringify(vN(n));return W.useMemo(()=>xN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function QZ(t,e){return PB(t,e)}function PB(t,e,n,r,i){var x;Cr(Dm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=W.useContext(Wo),{matches:a}=W.useContext(oo),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";FB(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Sr(),p;if(e){let w=typeof e=="string"?Cm(e):e;Cr(u==="/"||((x=w.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let v=p.pathname||"/",g=v;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=SB(t,{pathname:g});io(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),io(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=ree(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:nc([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:nc([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r,i);return e&&_?W.createElement(uv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function ZZ(){let t=lee(),e=$Z(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:s},"ErrorBoundary")," or"," ",W.createElement("code",{style:s},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,a)}var eee=W.createElement(ZZ,null),tee=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?W.createElement(oo.Provider,{value:this.props.routeContext},W.createElement(bN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nee({routeContext:t,match:e,children:n}){let r=W.useContext(Sm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(oo.Provider,{value:t},n)}function ree(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Cr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,p=!1,v=null,g=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,v=u.route.errorElement||eee,o&&(l<0&&f===0?(FB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===f&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),_=()=>{let x;return h?x=v:p?x=g:u.route.Component?x=W.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,W.createElement(nee,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?W.createElement(tee,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):_()},null)}function _N(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iee(t){let e=W.useContext(Sm);return Cr(e,_N(t)),e}function see(t){let e=W.useContext(l_);return Cr(e,_N(t)),e}function aee(t){let e=W.useContext(oo);return Cr(e,_N(t)),e}function wN(t){let e=aee(t),n=e.matches[e.matches.length-1];return Cr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oee(){return wN("useRouteId")}function lee(){var r;let t=W.useContext(bN),e=see("useRouteError"),n=wN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function cee(){let{router:t}=iee("useNavigate"),e=wN("useNavigate"),n=W.useRef(!1);return RB(()=>{n.current=!0}),W.useCallback(async(i,s={})=>{io(n.current,IB),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var h8={};function FB(t,e,n){!e&&!h8[t]&&(h8[t]=!0,io(!1,n))}W.memo(uee);function uee({routes:t,future:e,state:n,unstable_onError:r}){return PB(t,void 0,n,r,e)}function xp({to:t,replace:e,state:n,relative:r}){Cr(Dm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=W.useContext(Wo);io(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=W.useContext(oo),{pathname:a}=Sr(),o=Ti(),l=xN(t,vN(s),a,r==="path"),c=JSON.stringify(l);return W.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function TN(t){return YZ(t.context)}function qt(t){Cr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dee({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Cr(!Dm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=W.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Cm(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=W.useMemo(()=>{let v=dc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:u,state:f,key:h},navigationType:r}},[a,l,c,u,f,h,r]);return io(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:W.createElement(Wo.Provider,{value:o},W.createElement(uv.Provider,{children:e,value:p}))}function fee({children:t,location:e}){return QZ(C4(t),e)}function C4(t,e=[]){let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let s=[...e,i];if(r.type===W.Fragment){n.push.apply(n,C4(r.props.children,s));return}Cr(r.type===qt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=C4(r.props.children,s)),n.push(a)}),n}var i2="get",s2="application/x-www-form-urlencoded";function c_(t){return t!=null&&typeof t.tagName=="string"}function hee(t){return c_(t)&&t.tagName.toLowerCase()==="button"}function pee(t){return c_(t)&&t.tagName.toLowerCase()==="form"}function mee(t){return c_(t)&&t.tagName.toLowerCase()==="input"}function gee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yee(t,e){return t.button===0&&(!e||e==="_self")&&!gee(t)}function S4(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function vee(t,e){let n=S4(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var hx=null;function xee(){if(hx===null)try{new FormData(document.createElement("form"),0),hx=!1}catch{hx=!0}return hx}var bee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function WE(t){return t!=null&&!bee.has(t)?(io(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${s2}"`),null):t}function _ee(t,e){let n,r,i,s,a;if(pee(t)){let o=t.getAttribute("action");r=o?dc(o,e):null,n=t.getAttribute("method")||i2,i=WE(t.getAttribute("enctype"))||s2,s=new FormData(t)}else if(hee(t)||mee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?dc(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||i2,i=WE(t.getAttribute("formenctype"))||WE(o.getAttribute("enctype"))||s2,s=new FormData(o,t),!xee()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(c_(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=i2,r=null,i=s2,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function EN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&dc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Tee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Eee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Cee(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Tee(s,n);return a.links?a.links():[]}return[]}));return Nee(r.flat(1).filter(Eee).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function p8(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function See(t,e,{includeHydrateFallback:n}={}){return Dee(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Dee(t){return[...new Set(t)]}function Aee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Nee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Aee(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function MB(){let t=W.useContext(Sm);return EN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kee(){let t=W.useContext(l_);return EN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var CN=W.createContext(void 0);CN.displayName="FrameworkContext";function UB(){let t=W.useContext(CN);return EN(t,"You must render this element inside a <HydratedRouter> element"),t}function Iee(t,e){let n=W.useContext(CN),[r,i]=W.useState(!1),[s,a]=W.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=W.useRef(null);W.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=_=>{_.forEach(x=>{a(x.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),W.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Lg(o,p),onBlur:Lg(l,v),onMouseEnter:Lg(c,p),onMouseLeave:Lg(u,v),onTouchStart:Lg(f,p)}]:[!1,h,{}]}function Lg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ree({page:t,...e}){let{router:n}=MB(),r=W.useMemo(()=>SB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?W.createElement(Fee,{page:t,matches:r,...e}):null}function Pee(t){let{manifest:e,routeModules:n}=UB(),[r,i]=W.useState([]);return W.useEffect(()=>{let s=!1;return Cee(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function Fee({page:t,matches:e,...n}){let r=Sr(),{manifest:i,routeModules:s}=UB(),{basename:a}=MB(),{loaderData:o,matches:l}=kee(),c=W.useMemo(()=>p8(t,e,l,i,r,"data"),[t,e,l,i,r]),u=W.useMemo(()=>p8(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=W.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(e.forEach(_=>{var w;let x=i.routes[_.route.id];!x||!x.hasLoader||(!c.some(C=>C.route.id===_.route.id)&&_.route.id in o&&((w=s[_.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?g=!0:v.add(_.route.id))}),v.size===0)return[];let y=wee(t,a,"data");return g&&v.size>0&&y.searchParams.set("_routes",e.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[a,o,r,i,c,e,t,s]),h=W.useMemo(()=>See(u,i),[u,i]),p=Pee(u);return W.createElement(W.Fragment,null,f.map(v=>W.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>W.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:g})=>W.createElement("link",{key:v,nonce:n.nonce,...g})))}function Mee(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OB&&(window.__reactRouterVersion="7.8.2")}catch{}function Uee({basename:t,children:e,window:n}){let r=W.useRef();r.current==null&&(r.current=_Z({window:n,v5Compat:!0}));let i=r.current,[s,a]=W.useState({action:i.action,location:i.location}),o=W.useCallback(l=>{W.startTransition(()=>a(l))},[a]);return W.useLayoutEffect(()=>i.listen(o),[i,o]),W.createElement(dee,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var LB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=W.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:v}=W.useContext(Wo),g=typeof c=="string"&&LB.test(c),y,_=!1;if(typeof c=="string"&&g&&(y=c,OB))try{let k=new URL(window.location.href),F=c.startsWith("//")?new URL(k.protocol+c):new URL(c),P=dc(F.pathname,v);F.origin===k.origin&&P!=null?c=P+F.search+F.hash:_=!0}catch{io(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=KZ(c,{relative:i}),[w,C,D]=Iee(r,h),R=jee(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function S(k){e&&e(k),k.defaultPrevented||R(k)}let N=W.createElement("a",{...h,...D,href:y||x,onClick:_||s?e:S,ref:Mee(p,C),target:l,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?W.createElement(W.Fragment,null,N,W.createElement(Ree,{page:x})):N});Zt.displayName="Link";var Yn=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let f=dv(a,{relative:c.relative}),h=Sr(),p=W.useContext(l_),{navigator:v,basename:g}=W.useContext(Wo),y=p!=null&&zee(f)&&o===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&g&&(w=dc(w,g)||w);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=x===_||!i&&x.startsWith(_)&&x.charAt(C)==="/",R=w!=null&&(w===_||!i&&w.startsWith(_)&&w.charAt(_.length)==="/"),S={isActive:D,isPending:R,isTransitioning:y},N=D?e:void 0,k;typeof r=="function"?k=r(S):k=[r,D?"active":null,R?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(S):s;return W.createElement(Zt,{...c,"aria-current":N,className:k,ref:u,style:F,to:a,viewTransition:o},typeof l=="function"?l(S):l)});Yn.displayName="NavLink";var Oee=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=i2,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let v=qee(),g=$ee(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&LB.test(o),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,D=(C==null?void 0:C.getAttribute("formmethod"))||a;v(C||w.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return W.createElement("form",{ref:p,method:y,action:g,onSubmit:r?l:x,...h,"data-discover":!_&&t==="render"?"true":void 0})});Oee.displayName="Form";function Lee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jB(t){let e=W.useContext(Sm);return Cr(e,Lee(t)),e}function jee(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Ti(),l=Sr(),c=dv(t,{relative:s});return W.useCallback(u=>{if(yee(u,e)){u.preventDefault();let f=n!==void 0?n:ay(l)===ay(c);o(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}function Bee(t){io(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=W.useRef(S4(t)),n=W.useRef(!1),r=Sr(),i=W.useMemo(()=>vee(r.search,n.current?null:e.current),[r.search]),s=Ti(),a=W.useCallback((o,l)=>{const c=S4(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var Vee=0,Wee=()=>`__${String(++Vee)}__`;function qee(){let{router:t}=jB("useSubmit"),{basename:e}=W.useContext(Wo),n=oee();return W.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=_ee(r,e);if(i.navigate===!1){let u=i.fetcherKey||Wee();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function $ee(t,{relative:e}={}){let{basename:n}=W.useContext(Wo),r=W.useContext(oo);Cr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...dv(t||".",{relative:e})},a=Sr();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:nc([n,s.pathname])),ay(s)}function zee(t,{relative:e}={}){let n=W.useContext(kB);Cr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jB("useViewTransitionState"),i=dv(t,{relative:e});if(!n.isTransitioning)return!1;let s=dc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=dc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return K2(i.pathname,a)!=null||K2(i.pathname,s)!=null}const Hee="modulepreload",Gee=function(t){return"/"+t},m8={},Kee=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(c=>{if(c=Gee(c),c in m8)return;m8[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Hee,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Xee=()=>{};var g8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt=function(t,e){if(!t)throw Am(e)},Am=function(t){return new Error("Firebase Database ("+BB.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jee=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},SN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new Yee;const h=s<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WB=function(t){const e=VB(t);return SN.encodeByteArray(e,!0)},X2=function(t){return WB(t).replace(/\./g,"")},oy=function(t){try{return SN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(t){return ly(void 0,t)}function ly(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Zee(n)||(t[n]=ly(t[n],e[n]));return t}function Zee(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=()=>DN().__FIREBASE_DEFAULTS__,tte=()=>{if(typeof process>"u"||typeof g8>"u")return;const t=g8.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oy(t[1]);return e&&JSON.parse(e)},u_=()=>{try{return Xee()||ete()||tte()||nte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rte=t=>{var e,n;return(n=(e=u_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ite=t=>{const e=rte(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AN=()=>{var t;return(t=u_())==null?void 0:t.config},ste=t=>{var e;return(e=u_())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[X2(JSON.stringify(n)),X2(JSON.stringify(a)),""].join(".")}const D0={};function ate(){const t={prod:[],emulator:[]};for(const e of Object.keys(D0))D0[e]?t.emulator.push(e):t.prod.push(e);return t}function ote(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let y8=!1;function f_(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||D0[t]===e||D0[t]||y8)return;D0[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=ate().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{y8=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=ote(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,g);const C=c();l(x,_),w.append(x,v,y,C),document.body.appendChild(w)}s?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function h_(){var e;const t=(e=u_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lte(){return typeof window<"u"||qB()}function qB(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function cte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $B(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zB(){const t=Fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ute(){return BB.NODE_ADMIN===!0}function HB(){return!h_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GB(){return!h_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function cy(){try{return typeof indexedDB=="object"}catch{return!1}}function dte(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fte,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$f.prototype.create)}}class $f{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?hte(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ys(i,o,r)}}function hte(t,e){return t.replace(pte,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pte=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t){return JSON.parse(t)}function yi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=uy(oy(s[0])||""),n=uy(oy(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},mte=function(t){const e=KB(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gte=function(t){const e=KB(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yf(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function J2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Y2(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(v8(s)&&v8(a)){if(!fc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function v8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function m0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=o^s&(a^o),u=1518500249):(c=s^a^o,u=1859775393):f<60?(c=s&a|o&(s|a),u=2400959708):(c=s^a^o,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function XB(t,e){const n=new vte(t,e);return n.subscribe.bind(n)}class vte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xte(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qE),i.error===void 0&&(i.error=qE),i.complete===void 0&&(i.complete=qE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function na(t,e){return`${t} failed: ${e} argument `}function Fi(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(na(t,e)+"must be a valid function.")}function x8(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(na(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,vt(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ys;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wte(e))try{this.getOrInitializeService({instanceIdentifier:Od})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Od){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Od){return this.instances.has(e)}getOptions(e=Od){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_te(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Od){return this.component?this.component.multipleInstances?e:Od:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _te(t){return t===Od?void 0:t}function wte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=[];var pn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pn||(pn={}));const JB={debug:pn.DEBUG,verbose:pn.VERBOSE,info:pn.INFO,warn:pn.WARN,error:pn.ERROR,silent:pn.SILENT},Tte=pn.INFO,Ete={[pn.DEBUG]:"log",[pn.VERBOSE]:"log",[pn.INFO]:"info",[pn.WARN]:"warn",[pn.ERROR]:"error"},Cte=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ete[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=Tte,this._logHandler=Cte,this._userLogHandler=null,RN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pn.DEBUG,...e),this._logHandler(this,pn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pn.VERBOSE,...e),this._logHandler(this,pn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pn.INFO,...e),this._logHandler(this,pn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pn.WARN,...e),this._logHandler(this,pn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pn.ERROR,...e),this._logHandler(this,pn.ERROR,...e)}}function Ste(t){RN.forEach(e=>{e.setLogLevel(t)})}function Dte(t,e){for(const n of RN){let r=null;e&&e.level&&(r=JB[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:pn[s].toLowerCase(),message:o,args:a,type:i.name})}}}const Ate=(t,e)=>e.some(n=>t instanceof n);let b8,_8;function Nte(){return b8||(b8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kte(){return _8||(_8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YB=new WeakMap,A4=new WeakMap,QB=new WeakMap,$E=new WeakMap,PN=new WeakMap;function Ite(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(xu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&YB.set(n,t)}).catch(()=>{}),PN.set(e,t),e}function Rte(t){if(A4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});A4.set(t,e)}let N4={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A4.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pte(t){N4=t(N4)}function Fte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zE(this),e,...n);return QB.set(r,e.sort?e.sort():[e]),xu(r)}:kte().includes(t)?function(...e){return t.apply(zE(this),e),xu(YB.get(this))}:function(...e){return xu(t.apply(zE(this),e))}}function Mte(t){return typeof t=="function"?Fte(t):(t instanceof IDBTransaction&&Rte(t),Ate(t,Nte())?new Proxy(t,N4):t)}function xu(t){if(t instanceof IDBRequest)return Ite(t);if($E.has(t))return $E.get(t);const e=Mte(t);return e!==t&&($E.set(t,e),PN.set(e,t)),e}const zE=t=>PN.get(t);function Ute(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=xu(a);return r&&a.addEventListener("upgradeneeded",l=>{r(xu(a.result),l.oldVersion,l.newVersion,xu(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Ote=["get","getKey","getAll","getAllKeys","count"],Lte=["put","add","delete","clear"],HE=new Map;function w8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(HE.get(e))return HE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ote.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return HE.set(e,s),s}Pte(t=>({...t,get:(e,n,r)=>w8(e,n)||t.get(e,n,r),has:(e,n)=>!!w8(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bte(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q2="@firebase/app",k4="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Nm("@firebase/app"),Vte="@firebase/app-compat",Wte="@firebase/analytics-compat",qte="@firebase/analytics",$te="@firebase/app-check-compat",zte="@firebase/app-check",Hte="@firebase/auth",Gte="@firebase/auth-compat",Kte="@firebase/database",Xte="@firebase/data-connect",Jte="@firebase/database-compat",Yte="@firebase/functions",Qte="@firebase/functions-compat",Zte="@firebase/installations",ene="@firebase/installations-compat",tne="@firebase/messaging",nne="@firebase/messaging-compat",rne="@firebase/performance",ine="@firebase/performance-compat",sne="@firebase/remote-config",ane="@firebase/remote-config-compat",one="@firebase/storage",lne="@firebase/storage-compat",cne="@firebase/firestore",une="@firebase/ai",dne="@firebase/firestore-compat",fne="firebase",hne="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]",pne={[Q2]:"fire-core",[Vte]:"fire-core-compat",[qte]:"fire-analytics",[Wte]:"fire-analytics-compat",[zte]:"fire-app-check",[$te]:"fire-app-check-compat",[Hte]:"fire-auth",[Gte]:"fire-auth-compat",[Kte]:"fire-rtdb",[Xte]:"fire-data-connect",[Jte]:"fire-rtdb-compat",[Yte]:"fire-fn",[Qte]:"fire-fn-compat",[Zte]:"fire-iid",[ene]:"fire-iid-compat",[tne]:"fire-fcm",[nne]:"fire-fcm-compat",[rne]:"fire-perf",[ine]:"fire-perf-compat",[sne]:"fire-rc",[ane]:"fire-rc-compat",[one]:"fire-gcs",[lne]:"fire-gcs-compat",[cne]:"fire-fst",[dne]:"fire-fst-compat",[une]:"fire-vertex","fire-js":"fire-js",[fne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,qp=new Map,$p=new Map;function dy(t,e){try{t.container.addComponent(e)}catch(n){hc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ZB(t,e){t.container.addOrOverwriteComponent(e)}function El(t){const e=t.name;if($p.has(e))return hc.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,t);for(const n of Nu.values())dy(n,t);for(const n of qp.values())dy(n,t);return!0}function FN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mne(t,e,n=Au){FN(t,e).clearInstance(n)}function MN(t){return t.options!==void 0}function eV(t){return MN(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function sr(t){return t==null?!1:t.settings!==void 0}function gne(){$p.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new $f("app","Firebase",yne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tV=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t,e){const n=oy(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class vne extends tV{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const o=e;super(o.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...n},this._serverConfig.authIdToken&&T8(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&T8(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Fs(Q2,k4,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ON(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Sa.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=hne;function UN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Au,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Sa.create("bad-app-name",{appName:String(i)});if(n||(n=AN()),!n)throw Sa.create("no-options");const s=Nu.get(i);if(s){if(fc(n,s.options)&&fc(r,s.config))return s;throw Sa.create("duplicate-app",{appName:i})}const a=new IN(i);for(const l of $p.values())a.addComponent(l);const o=new tV(n,r,a);return Nu.set(i,o),o}function xne(t,e={}){if(lte()&&!qB())throw Sa.create("invalid-server-app-environment");let n,r=e||{};if(t&&(MN(t)?n=t.options:eV(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=AN()),!n)throw Sa.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=u=>[...u].reduce((f,h)=>Math.imul(31,f)+h.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Sa.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),o=qp.get(a);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new IN(a);for(const u of $p.values())l.addComponent(u);const c=new vne(n,r,a,l);return qp.set(a,c),c}function nV(t=Au){const e=Nu.get(t);if(!e&&t===Au&&AN())return UN();if(!e)throw Sa.create("no-app",{appName:t});return e}function bne(){return Array.from(Nu.values())}async function ON(t){let e=!1;const n=t.name;Nu.has(n)?(e=!0,Nu.delete(n)):qp.has(n)&&t.decRefCount()<=0&&(qp.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Fs(t,e,n){let r=pne[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hc.warn(a.join(" "));return}El(new Ls(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function rV(t,e){if(t!==null&&typeof t!="function")throw Sa.create("invalid-log-argument");Dte(t,e)}function iV(t){Ste(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne="firebase-heartbeat-database",wne=1,fy="firebase-heartbeat-store";let GE=null;function sV(){return GE||(GE=Ute(_ne,wne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fy)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sa.create("idb-open",{originalErrorMessage:t.message})})),GE}async function Tne(t){try{const n=(await sV()).transaction(fy),r=await n.objectStore(fy).get(aV(t));return await n.done,r}catch(e){if(e instanceof ys)hc.warn(e.message);else{const n=Sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hc.warn(n.message)}}}async function E8(t,e){try{const r=(await sV()).transaction(fy,"readwrite");await r.objectStore(fy).put(e,aV(t)),await r.done}catch(n){if(n instanceof ys)hc.warn(n.message);else{const r=Sa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hc.warn(r.message)}}}function aV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=1024,Cne=30;class Sne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ane(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C8();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Cne){const a=Nne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C8(),{heartbeatsToSend:r,unsentEntries:i}=Dne(this._heartbeatsCache.heartbeats),s=X2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return hc.warn(n),""}}}function C8(){return new Date().toISOString().substring(0,10)}function Dne(t,e=Ene){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),S8(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),S8(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ane{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cy()?dte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S8(t){return X2(JSON.stringify({version:2,heartbeats:t})).length}function Nne(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(t){El(new Ls("platform-logger",e=>new jte(e),"PRIVATE")),El(new Ls("heartbeat",e=>new Sne(e),"PRIVATE")),Fs(Q2,k4,t),Fs(Q2,k4,"esm2020"),Fs("fire-js","")}kne("");const Ine=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ys,SDK_VERSION:Rl,_DEFAULT_ENTRY_NAME:Au,_addComponent:dy,_addOrOverwriteComponent:ZB,_apps:Nu,_clearComponents:gne,_components:$p,_getProvider:FN,_isFirebaseApp:MN,_isFirebaseServerApp:sr,_isFirebaseServerAppSettings:eV,_registerComponent:El,_removeServiceInstance:mne,_serverApps:qp,deleteApp:ON,getApp:nV,getApps:bne,initializeApp:UN,initializeServerApp:xne,onLog:rV,registerVersion:Fs,setLogLevel:iV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e,n){this._delegate=e,this.firebase=n,dy(e,new Ls("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ON(this._delegate)))}_getService(e,n=Au){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Au){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){dy(this._delegate,e)}_addOrOverwriteComponent(e){ZB(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pne={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},D8=new $f("app-compat","Firebase",Pne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fne(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Fs,setLogLevel:iV,onLog:rV,apps:null,SDK_VERSION:Rl,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:Ine}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(c){delete e[c]}function i(c){if(c=c||Au,!Da(e,c))throw D8.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const f=UN(c,u);if(Da(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function a(){return Object.keys(e).map(c=>e[c])}function o(c){const u=c.name,f=u.replace("-compat","");if(El(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw D8.create("invalid-app-argument",{appName:u});return p[f]()};c.serviceProps!==void 0&&ly(h,c.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){const t=Fne(Rne);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:oV,extendNamespace:e,createSubscribe:XB,ErrorFactory:$f,deepExtend:ly};function e(n){ly(t,n)}return t}const Mne=oV();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new Nm("@firebase/app-compat"),Une="@firebase/app-compat",One="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(t){Fs(Une,One,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=DN();if(t.firebase!==void 0){A8.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&A8.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Br=Mne;Lne();var jne="firebase",Bne="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br.registerVersion(jne,Bne,"app-compat");var N8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bu,lV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function k(){}k.prototype=N.prototype,S.D=N.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(F,P,I){for(var U=Array(arguments.length-2),O=2;O<arguments.length;O++)U[O-2]=arguments[O];return N.prototype[P].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,N,k){k||(k=0);var F=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)F[P]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(P=0;16>P;++P)F[P]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=S.g[0],k=S.g[1],P=S.g[2];var I=S.g[3],U=N+(I^k&(P^I))+F[0]+3614090360&4294967295;N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[1]+3905402710&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[2]+606105819&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[3]+3250441966&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[4]+4118548399&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[5]+1200080426&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[6]+2821735955&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[7]+4249261313&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[8]+1770035416&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[9]+2336552879&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[10]+4294925233&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[11]+2304563134&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(I^k&(P^I))+F[12]+1804603682&4294967295,N=k+(U<<7&4294967295|U>>>25),U=I+(P^N&(k^P))+F[13]+4254626195&4294967295,I=N+(U<<12&4294967295|U>>>20),U=P+(k^I&(N^k))+F[14]+2792965006&4294967295,P=I+(U<<17&4294967295|U>>>15),U=k+(N^P&(I^N))+F[15]+1236535329&4294967295,k=P+(U<<22&4294967295|U>>>10),U=N+(P^I&(k^P))+F[1]+4129170786&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[6]+3225465664&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[11]+643717713&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[0]+3921069994&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[5]+3593408605&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[10]+38016083&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[15]+3634488961&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[4]+3889429448&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[9]+568446438&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[14]+3275163606&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[3]+4107603335&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[8]+1163531501&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(P^I&(k^P))+F[13]+2850285829&4294967295,N=k+(U<<5&4294967295|U>>>27),U=I+(k^P&(N^k))+F[2]+4243563512&4294967295,I=N+(U<<9&4294967295|U>>>23),U=P+(N^k&(I^N))+F[7]+1735328473&4294967295,P=I+(U<<14&4294967295|U>>>18),U=k+(I^N&(P^I))+F[12]+2368359562&4294967295,k=P+(U<<20&4294967295|U>>>12),U=N+(k^P^I)+F[5]+4294588738&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[8]+2272392833&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[11]+1839030562&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[14]+4259657740&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[1]+2763975236&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[4]+1272893353&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[7]+4139469664&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[10]+3200236656&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[13]+681279174&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[0]+3936430074&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[3]+3572445317&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[6]+76029189&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(k^P^I)+F[9]+3654602809&4294967295,N=k+(U<<4&4294967295|U>>>28),U=I+(N^k^P)+F[12]+3873151461&4294967295,I=N+(U<<11&4294967295|U>>>21),U=P+(I^N^k)+F[15]+530742520&4294967295,P=I+(U<<16&4294967295|U>>>16),U=k+(P^I^N)+F[2]+3299628645&4294967295,k=P+(U<<23&4294967295|U>>>9),U=N+(P^(k|~I))+F[0]+4096336452&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[7]+1126891415&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[14]+2878612391&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[5]+4237533241&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[12]+1700485571&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[3]+2399980690&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[10]+4293915773&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[1]+2240044497&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[8]+1873313359&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[15]+4264355552&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[6]+2734768916&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[13]+1309151649&4294967295,k=P+(U<<21&4294967295|U>>>11),U=N+(P^(k|~I))+F[4]+4149444226&4294967295,N=k+(U<<6&4294967295|U>>>26),U=I+(k^(N|~P))+F[11]+3174756917&4294967295,I=N+(U<<10&4294967295|U>>>22),U=P+(N^(I|~k))+F[2]+718787259&4294967295,P=I+(U<<15&4294967295|U>>>17),U=k+(I^(P|~N))+F[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+I&4294967295}r.prototype.u=function(S,N){N===void 0&&(N=S.length);for(var k=N-this.blockSize,F=this.B,P=this.h,I=0;I<N;){if(P==0)for(;I<=k;)i(this,S,I),I+=this.blockSize;if(typeof S=="string"){for(;I<N;)if(F[P++]=S.charCodeAt(I++),P==this.blockSize){i(this,F),P=0;break}}else for(;I<N;)if(F[P++]=S[I++],P==this.blockSize){i(this,F),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;var k=8*this.o;for(N=S.length-8;N<S.length;++N)S[N]=k&255,k/=256;for(this.u(S),S=Array(16),N=k=0;4>N;++N)for(var F=0;32>F;F+=8)S[k++]=this.g[N]>>>F&255;return S};function s(S,N){var k=o;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=N(S)}function a(S,N){this.h=N;for(var k=[],F=!0,P=S.length-1;0<=P;P--){var I=S[P]|0;F&&I==N||(k[P]=I,F=!1)}this.g=k}var o={};function l(S){return-128<=S&&128>S?s(S,function(N){return new a([N|0],0>N?-1:0)}):new a([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return y(c(-S));for(var N=[],k=1,F=0;S>=k;F++)N[F]=S/k|0,k*=4294967296;return new a(N,0)}function u(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return y(u(S.substring(1),N));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(N,8)),F=f,P=0;P<S.length;P+=8){var I=Math.min(8,S.length-P),U=parseInt(S.substring(P,P+I),N);8>I?(I=c(Math.pow(N,I)),F=F.j(I).add(c(U))):(F=F.j(k),F=F.add(c(U)))}return F}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var S=0,N=1,k=0;k<this.g.length;k++){var F=this.i(k);S+=(0<=F?F:4294967296+F)*N,N*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(g(this))return"-"+y(this).toString(S);for(var N=c(Math.pow(S,6)),k=this,F="";;){var P=C(k,N).g;k=_(k,P.j(N));var I=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=P,v(k))return I+F;for(;6>I.length;)I="0"+I;F=I+F}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=_(this,S),g(S)?-1:v(S)?0:1};function y(S){for(var N=S.g.length,k=[],F=0;F<N;F++)k[F]=~S.g[F];return new a(k,~S.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(S){for(var N=Math.max(this.g.length,S.g.length),k=[],F=0,P=0;P<=N;P++){var I=F+(this.i(P)&65535)+(S.i(P)&65535),U=(I>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);F=U>>>16,I&=65535,U&=65535,k[P]=U<<16|I}return new a(k,k[k.length-1]&-2147483648?-1:0)};function _(S,N){return S.add(y(N))}t.j=function(S){if(v(this)||v(S))return f;if(g(this))return g(S)?y(this).j(y(S)):y(y(this).j(S));if(g(S))return y(this.j(y(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var N=this.g.length+S.g.length,k=[],F=0;F<2*N;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<S.g.length;P++){var I=this.i(F)>>>16,U=this.i(F)&65535,O=S.i(P)>>>16,G=S.i(P)&65535;k[2*F+2*P]+=U*G,x(k,2*F+2*P),k[2*F+2*P+1]+=I*G,x(k,2*F+2*P+1),k[2*F+2*P+1]+=U*O,x(k,2*F+2*P+1),k[2*F+2*P+2]+=I*O,x(k,2*F+2*P+2)}for(F=0;F<N;F++)k[F]=k[2*F+1]<<16|k[2*F];for(F=N;F<2*N;F++)k[F]=0;return new a(k,0)};function x(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function w(S,N){this.g=S,this.h=N}function C(S,N){if(v(N))throw Error("division by zero");if(v(S))return new w(f,f);if(g(S))return N=C(y(S),N),new w(y(N.g),y(N.h));if(g(N))return N=C(S,y(N)),new w(y(N.g),N.h);if(30<S.g.length){if(g(S)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var k=h,F=N;0>=F.l(S);)k=D(k),F=D(F);var P=R(k,1),I=R(F,1);for(F=R(F,2),k=R(k,2);!v(F);){var U=I.add(F);0>=U.l(S)&&(P=P.add(k),I=U),F=R(F,1),k=R(k,1)}return N=_(S,P.j(N)),new w(P,N)}for(P=f;0<=S.l(N);){for(k=Math.max(1,Math.floor(S.m()/N.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),I=c(k),U=I.j(N);g(U)||0<U.l(S);)k-=F,I=c(k),U=I.j(N);v(I)&&(I=h),P=P.add(I),S=_(S,U)}return new w(P,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var N=Math.max(this.g.length,S.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)&S.i(F);return new a(k,this.h&S.h)},t.or=function(S){for(var N=Math.max(this.g.length,S.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)|S.i(F);return new a(k,this.h|S.h)},t.xor=function(S){for(var N=Math.max(this.g.length,S.g.length),k=[],F=0;F<N;F++)k[F]=this.i(F)^S.i(F);return new a(k,this.h^S.h)};function D(S){for(var N=S.g.length+1,k=[],F=0;F<N;F++)k[F]=S.i(F)<<1|S.i(F-1)>>>31;return new a(k,S.h)}function R(S,N){var k=N>>5;N%=32;for(var F=S.g.length-k,P=[],I=0;I<F;I++)P[I]=0<N?S.i(I+k)>>>N|S.i(I+k+1)<<32-N:S.i(I+k);return new a(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,bu=a}).apply(typeof N8<"u"?N8:typeof self<"u"?self:typeof window<"u"?window:{});var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cV,g0,uV,a2,I4,dV,fV,hV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,Z,se){return M==Array.prototype||M==Object.prototype||(M[Z]=se.value),M};function n(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof px=="object"&&px];for(var Z=0;Z<M.length;++Z){var se=M[Z];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var r=n(this);function i(M,Z){if(Z)e:{var se=r;M=M.split(".");for(var Ae=0;Ae<M.length-1;Ae++){var He=M[Ae];if(!(He in se))break e;se=se[He]}M=M[M.length-1],Ae=se[M],Z=Z(Ae),Z!=Ae&&Z!=null&&e(se,M,{configurable:!0,writable:!0,value:Z})}}function s(M,Z){M instanceof String&&(M+="");var se=0,Ae=!1,He={next:function(){if(!Ae&&se<M.length){var tt=se++;return{value:Z(tt,M[tt]),done:!1}}return Ae=!0,{done:!0,value:void 0}}};return He[Symbol.iterator]=function(){return He},He}i("Array.prototype.values",function(M){return M||function(){return s(this,function(Z,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(M){var Z=typeof M;return Z=Z!="object"?Z:M?Array.isArray(M)?"array":Z:"null",Z=="array"||Z=="object"&&typeof M.length=="number"}function c(M){var Z=typeof M;return Z=="object"&&M!=null||Z=="function"}function u(M,Z,se){return M.call.apply(M.bind,arguments)}function f(M,Z,se){if(!M)throw Error();if(2<arguments.length){var Ae=Array.prototype.slice.call(arguments,2);return function(){var He=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(He,Ae),M.apply(Z,He)}}return function(){return M.apply(Z,arguments)}}function h(M,Z,se){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(M,Z){var se=Array.prototype.slice.call(arguments,1);return function(){var Ae=se.slice();return Ae.push.apply(Ae,arguments),M.apply(this,Ae)}}function v(M,Z){function se(){}se.prototype=Z.prototype,M.aa=Z.prototype,M.prototype=new se,M.prototype.constructor=M,M.Qb=function(Ae,He,tt){for(var wt=Array(arguments.length-2),Wn=2;Wn<arguments.length;Wn++)wt[Wn-2]=arguments[Wn];return Z.prototype[He].apply(Ae,wt)}}function g(M){const Z=M.length;if(0<Z){const se=Array(Z);for(let Ae=0;Ae<Z;Ae++)se[Ae]=M[Ae];return se}return[]}function y(M,Z){for(let se=1;se<arguments.length;se++){const Ae=arguments[se];if(l(Ae)){const He=M.length||0,tt=Ae.length||0;M.length=He+tt;for(let wt=0;wt<tt;wt++)M[He+wt]=Ae[wt]}else M.push(Ae)}}class _{constructor(Z,se){this.i=Z,this.j=se,this.h=0,this.g=null}get(){let Z;return 0<this.h?(this.h--,Z=this.g,this.g=Z.next,Z.next=null):Z=this.i(),Z}}function x(M){return/^[\s\xa0]*$/.test(M)}function w(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function C(M){return C[" "](M),M}C[" "]=function(){};var D=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(M,Z,se){for(const Ae in M)Z.call(se,M[Ae],Ae,M)}function S(M,Z){for(const se in M)Z.call(void 0,M[se],se,M)}function N(M){const Z={};for(const se in M)Z[se]=M[se];return Z}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(M,Z){let se,Ae;for(let He=1;He<arguments.length;He++){Ae=arguments[He];for(se in Ae)M[se]=Ae[se];for(let tt=0;tt<k.length;tt++)se=k[tt],Object.prototype.hasOwnProperty.call(Ae,se)&&(M[se]=Ae[se])}}function P(M){var Z=1;M=M.split(":");const se=[];for(;0<Z&&M.length;)se.push(M.shift()),Z--;return M.length&&se.push(M.join(":")),se}function I(M){o.setTimeout(()=>{throw M},0)}function U(){var M=z;let Z=null;return M.g&&(Z=M.g,M.g=M.g.next,M.g||(M.h=null),Z.next=null),Z}class O{constructor(){this.h=this.g=null}add(Z,se){const Ae=G.get();Ae.set(Z,se),this.h?this.h.next=Ae:this.g=Ae,this.h=Ae}}var G=new _(()=>new K,M=>M.reset());class K{constructor(){this.next=this.g=this.h=null}set(Z,se){this.h=Z,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let J,te=!1,z=new O,Y=()=>{const M=o.Promise.resolve(void 0);J=()=>{M.then(B)}};var B=()=>{for(var M;M=U();){try{M.h.call(M.g)}catch(se){I(se)}var Z=G;Z.j(M),100>Z.h&&(Z.h++,M.next=Z.g,Z.g=M)}te=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(M,Z){this.type=M,this.g=this.target=Z,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var X=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,Z=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const se=()=>{};o.addEventListener("test",se,Z),o.removeEventListener("test",se,Z)}catch{}return M})();function Q(M,Z){if(q.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var se=this.type=M.type,Ae=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=Z,Z=M.relatedTarget){if(D){e:{try{C(Z.nodeName);var He=!0;break e}catch{}He=!1}He||(Z=null)}}else se=="mouseover"?Z=M.fromElement:se=="mouseout"&&(Z=M.toElement);this.relatedTarget=Z,Ae?(this.clientX=Ae.clientX!==void 0?Ae.clientX:Ae.pageX,this.clientY=Ae.clientY!==void 0?Ae.clientY:Ae.pageY,this.screenX=Ae.screenX||0,this.screenY=Ae.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:ee[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&Q.aa.h.call(this)}}v(Q,q);var ee={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),de=0;function fe(M,Z,se,Ae,He){this.listener=M,this.proxy=null,this.src=Z,this.type=se,this.capture=!!Ae,this.ha=He,this.key=++de,this.da=this.fa=!1}function Ne(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function Re(M){this.src=M,this.g={},this.h=0}Re.prototype.add=function(M,Z,se,Ae,He){var tt=M.toString();M=this.g[tt],M||(M=this.g[tt]=[],this.h++);var wt=Le(M,Z,Ae,He);return-1<wt?(Z=M[wt],se||(Z.fa=!1)):(Z=new fe(Z,this.src,tt,!!Ae,He),Z.fa=se,M.push(Z)),Z};function me(M,Z){var se=Z.type;if(se in M.g){var Ae=M.g[se],He=Array.prototype.indexOf.call(Ae,Z,void 0),tt;(tt=0<=He)&&Array.prototype.splice.call(Ae,He,1),tt&&(Ne(Z),M.g[se].length==0&&(delete M.g[se],M.h--))}}function Le(M,Z,se,Ae){for(var He=0;He<M.length;++He){var tt=M[He];if(!tt.da&&tt.listener==Z&&tt.capture==!!se&&tt.ha==Ae)return He}return-1}var V="closure_lm_"+(1e6*Math.random()|0),ve={};function we(M,Z,se,Ae,He){if(Array.isArray(Z)){for(var tt=0;tt<Z.length;tt++)we(M,Z[tt],se,Ae,He);return null}return se=xe(se),M&&M[ae]?M.K(Z,se,c(Ae)?!!Ae.capture:!1,He):oe(M,Z,se,!1,Ae,He)}function oe(M,Z,se,Ae,He,tt){if(!Z)throw Error("Invalid event type");var wt=c(He)?!!He.capture:!!He,Wn=ce(M);if(Wn||(M[V]=Wn=new Re(M)),se=Wn.add(Z,se,Ae,wt,tt),se.proxy)return se;if(Ae=re(),se.proxy=Ae,Ae.src=M,Ae.listener=se,M.addEventListener)X||(He=wt),He===void 0&&(He=!1),M.addEventListener(Z.toString(),Ae,He);else if(M.attachEvent)M.attachEvent(_e(Z.toString()),Ae);else if(M.addListener&&M.removeListener)M.addListener(Ae);else throw Error("addEventListener and attachEvent are unavailable.");return se}function re(){function M(se){return Z.call(M.src,M.listener,se)}const Z=ie;return M}function le(M,Z,se,Ae,He){if(Array.isArray(Z))for(var tt=0;tt<Z.length;tt++)le(M,Z[tt],se,Ae,He);else Ae=c(Ae)?!!Ae.capture:!!Ae,se=xe(se),M&&M[ae]?(M=M.i,Z=String(Z).toString(),Z in M.g&&(tt=M.g[Z],se=Le(tt,se,Ae,He),-1<se&&(Ne(tt[se]),Array.prototype.splice.call(tt,se,1),tt.length==0&&(delete M.g[Z],M.h--)))):M&&(M=ce(M))&&(Z=M.g[Z.toString()],M=-1,Z&&(M=Le(Z,se,Ae,He)),(se=-1<M?Z[M]:null)&&he(se))}function he(M){if(typeof M!="number"&&M&&!M.da){var Z=M.src;if(Z&&Z[ae])me(Z.i,M);else{var se=M.type,Ae=M.proxy;Z.removeEventListener?Z.removeEventListener(se,Ae,M.capture):Z.detachEvent?Z.detachEvent(_e(se),Ae):Z.addListener&&Z.removeListener&&Z.removeListener(Ae),(se=ce(Z))?(me(se,M),se.h==0&&(se.src=null,Z[V]=null)):Ne(M)}}}function _e(M){return M in ve?ve[M]:ve[M]="on"+M}function ie(M,Z){if(M.da)M=!0;else{Z=new Q(Z,this);var se=M.listener,Ae=M.ha||M.src;M.fa&&he(M),M=se.call(Ae,Z)}return M}function ce(M){return M=M[V],M instanceof Re?M:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(M){return typeof M=="function"?M:(M[ye]||(M[ye]=function(Z){return M.handleEvent(Z)}),M[ye])}function ke(){j.call(this),this.i=new Re(this),this.M=this,this.F=null}v(ke,j),ke.prototype[ae]=!0,ke.prototype.removeEventListener=function(M,Z,se,Ae){le(this,M,Z,se,Ae)};function Ue(M,Z){var se,Ae=M.F;if(Ae)for(se=[];Ae;Ae=Ae.F)se.push(Ae);if(M=M.M,Ae=Z.type||Z,typeof Z=="string")Z=new q(Z,M);else if(Z instanceof q)Z.target=Z.target||M;else{var He=Z;Z=new q(Ae,M),F(Z,He)}if(He=!0,se)for(var tt=se.length-1;0<=tt;tt--){var wt=Z.g=se[tt];He=Ce(wt,Ae,!0,Z)&&He}if(wt=Z.g=M,He=Ce(wt,Ae,!0,Z)&&He,He=Ce(wt,Ae,!1,Z)&&He,se)for(tt=0;tt<se.length;tt++)wt=Z.g=se[tt],He=Ce(wt,Ae,!1,Z)&&He}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var M=this.i,Z;for(Z in M.g){for(var se=M.g[Z],Ae=0;Ae<se.length;Ae++)Ne(se[Ae]);delete M.g[Z],M.h--}}this.F=null},ke.prototype.K=function(M,Z,se,Ae){return this.i.add(String(M),Z,!1,se,Ae)},ke.prototype.L=function(M,Z,se,Ae){return this.i.add(String(M),Z,!0,se,Ae)};function Ce(M,Z,se,Ae){if(Z=M.i.g[String(Z)],!Z)return!0;Z=Z.concat();for(var He=!0,tt=0;tt<Z.length;++tt){var wt=Z[tt];if(wt&&!wt.da&&wt.capture==se){var Wn=wt.listener,hi=wt.ha||wt.src;wt.fa&&me(M.i,wt),He=Wn.call(hi,Ae)!==!1&&He}}return He&&!Ae.defaultPrevented}function Me(M,Z,se){if(typeof M=="function")se&&(M=h(M,se));else if(M&&typeof M.handleEvent=="function")M=h(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(Z)?-1:o.setTimeout(M,Z||0)}function Oe(M){M.g=Me(()=>{M.g=null,M.i&&(M.i=!1,Oe(M))},M.l);const Z=M.h;M.h=null,M.m.apply(null,Z)}class Ke extends j{constructor(Z,se){super(),this.m=Z,this.l=se,this.h=null,this.i=!1,this.g=null}j(Z){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(M){j.call(this),this.h=M,this.g={}}v(rt,j);var it=[];function Ot(M){R(M.g,function(Z,se){this.g.hasOwnProperty(se)&&he(Z)},M),M.g={}}rt.prototype.N=function(){rt.aa.N.call(this),Ot(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=o.JSON.stringify,ln=o.JSON.parse,Ar=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function Zn(){}Zn.prototype.h=null;function Bn(M){return M.h||(M.h=M.i())}function Xn(){}var Gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cn(){q.call(this,"d")}v(Cn,q);function pe(){q.call(this,"c")}v(pe,q);var Ee={},Fe=null;function Je(){return Fe=Fe||new ke}Ee.La="serverreachability";function lt(M){q.call(this,Ee.La,M)}v(lt,q);function kt(M){const Z=Je();Ue(Z,new lt(Z))}Ee.STAT_EVENT="statevent";function on(M,Z){q.call(this,Ee.STAT_EVENT,M),this.stat=Z}v(on,q);function nn(M){const Z=Je();Ue(Z,new on(Z,M))}Ee.Ma="timingevent";function nr(M,Z){q.call(this,Ee.Ma,M),this.size=Z}v(nr,q);function Pn(M,Z){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},Z)}function Kr(){this.g=!0}Kr.prototype.xa=function(){this.g=!1};function Ye(M,Z,se,Ae,He,tt){M.info(function(){if(M.g)if(tt)for(var wt="",Wn=tt.split("&"),hi=0;hi<Wn.length;hi++){var bn=Wn[hi].split("=");if(1<bn.length){var Si=bn[0];bn=bn[1];var si=Si.split("_");wt=2<=si.length&&si[1]=="type"?wt+(Si+"="+bn+"&"):wt+(Si+"=redacted&")}}else wt=null;else wt=tt;return"XMLHTTP REQ ("+Ae+") [attempt "+He+"]: "+Z+`
`+se+`
`+wt})}function dt(M,Z,se,Ae,He,tt,wt){M.info(function(){return"XMLHTTP RESP ("+Ae+") [ attempt "+He+"]: "+Z+`
`+se+`
`+tt+" "+wt})}function ue(M,Z,se,Ae){M.info(function(){return"XMLHTTP TEXT ("+Z+"): "+ge(M,se)+(Ae?" "+Ae:"")})}function Se(M,Z){M.info(function(){return"TIMEOUT: "+Z})}Kr.prototype.info=function(){};function ge(M,Z){if(!M.g)return Z;if(!Z)return null;try{var se=JSON.parse(Z);if(se){for(M=0;M<se.length;M++)if(Array.isArray(se[M])){var Ae=se[M];if(!(2>Ae.length)){var He=Ae[1];if(Array.isArray(He)&&!(1>He.length)){var tt=He[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var wt=1;wt<He.length;wt++)He[wt]=""}}}}return xn(se)}catch{return Z}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function We(){}v(We,Zn),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},Ie=new We;function Qe(M,Z,se,Ae){this.j=M,this.i=Z,this.l=se,this.R=Ae||1,this.U=new rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var qe={},$e={};function ot(M,Z,se){M.L=1,M.v=Oc(fa(Z)),M.m=se,M.P=!0,gt(M,null)}function gt(M,Z){M.F=Date.now(),ht(M),M.A=fa(M.v);var se=M.A,Ae=M.R;Array.isArray(Ae)||(Ae=[String(Ae)]),jc(se.i,"t",Ae),M.C=0,se=M.j.J,M.h=new Be,M.g=y1(M.j,se?Z:null,!M.m),0<M.O&&(M.M=new Ke(h(M.Y,M,M.g),M.O)),Z=M.U,se=M.g,Ae=M.ca;var He="readystatechange";Array.isArray(He)||(He&&(it[0]=He.toString()),He=it);for(var tt=0;tt<He.length;tt++){var wt=we(se,He[tt],Ae||Z.handleEvent,!1,Z.h||Z);if(!wt)break;Z.g[wt.key]=wt}Z=M.H?N(M.H):{},M.m?(M.u||(M.u="POST"),Z["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,Z)):(M.u="GET",M.g.ea(M.A,M.u,null,Z)),kt(),Ye(M.i,M.u,M.A,M.l,M.R,M.m)}Qe.prototype.ca=function(M){M=M.target;const Z=this.M;Z&&Ws(M)==3?Z.j():this.Y(M)},Qe.prototype.Y=function(M){try{if(M==this.g)e:{const si=Ws(this.g);var Z=this.g.Ba();const Pa=this.g.Z();if(!(3>si)&&(si!=3||this.g&&(this.h.h||this.g.oa()||ug(this.g)))){this.J||si!=4||Z==7||(Z==8||0>=Pa?kt(3):kt(2)),Fn(this);var se=this.g.Z();this.X=se;t:if(Et(this)){var Ae=ug(this.g);M="";var He=Ae.length,tt=Ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),Sn(this);var wt="";break t}this.h.i=new o.TextDecoder}for(Z=0;Z<He;Z++)this.h.h=!0,M+=this.h.i.decode(Ae[Z],{stream:!(tt&&Z==He-1)});Ae.length=0,this.h.g+=M,this.C=0,wt=this.h.g}else wt=this.g.oa();if(this.o=se==200,dt(this.i,this.u,this.A,this.l,this.R,si,se),this.o){if(this.T&&!this.K){t:{if(this.g){var Wn,hi=this.g;if((Wn=hi.g?hi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Wn)){var bn=Wn;break t}}bn=null}if(se=bn)ue(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uo(this,se);else{this.o=!1,this.s=3,nn(12),Vn(this),Sn(this);break e}}if(this.P){se=!0;let pa;for(;!this.J&&this.C<wt.length;)if(pa=yt(this,wt),pa==$e){si==4&&(this.s=4,nn(14),se=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(pa==qe){this.s=4,nn(15),ue(this.i,this.l,wt,"[Invalid Chunk]"),se=!1;break}else ue(this.i,this.l,pa,null),uo(this,pa);if(Et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),si!=4||wt.length!=0||this.h.h||(this.s=1,nn(16),se=!1),this.o=this.o&&se,!se)ue(this.i,this.l,wt,"[Invalid Chunked Response]"),Vn(this),Sn(this);else if(0<wt.length&&!this.W){this.W=!0;var Si=this.j;Si.g==this&&Si.ba&&!Si.M&&(Si.j.info("Great, no buffering proxy detected. Bytes received: "+wt.length),fg(Si),Si.M=!0,nn(11))}}else ue(this.i,this.l,wt,null),uo(this,wt);si==4&&Vn(this),this.o&&!this.J&&(si==4?Eh(this.j,this):(this.o=!1,ht(this)))}else xh(this.g),se==400&&0<wt.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),Vn(this),Sn(this)}}}catch{}finally{}};function Et(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function yt(M,Z){var se=M.C,Ae=Z.indexOf(`
`,se);return Ae==-1?$e:(se=Number(Z.substring(se,Ae)),isNaN(se)?qe:(Ae+=1,Ae+se>Z.length?$e:(Z=Z.slice(Ae,Ae+se),M.C=Ae+se,Z)))}Qe.prototype.cancel=function(){this.J=!0,Vn(this)};function ht(M){M.S=Date.now()+M.I,Jt(M,M.I)}function Jt(M,Z){if(M.B!=null)throw Error("WatchDog timer not null");M.B=Pn(h(M.ba,M),Z)}function Fn(M){M.B&&(o.clearTimeout(M.B),M.B=null)}Qe.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(Se(this.i,this.A),this.L!=2&&(kt(),nn(17)),Vn(this),this.s=2,Sn(this)):Jt(this,this.S-M)};function Sn(M){M.j.G==0||M.J||Eh(M.j,M)}function Vn(M){Fn(M);var Z=M.M;Z&&typeof Z.ma=="function"&&Z.ma(),M.M=null,Ot(M.U),M.g&&(Z=M.g,M.g=null,Z.abort(),Z.ma())}function uo(M,Z){try{var se=M.j;if(se.G!=0&&(se.g==M||cr(se.h,M))){if(!M.K&&cr(se.h,M)&&se.G==3){try{var Ae=se.Da.g.parse(Z)}catch{Ae=null}if(Array.isArray(Ae)&&Ae.length==3){var He=Ae;if(He[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<M.F)Th(se),go(se);else break e;wh(se),nn(18)}}else se.za=He[1],0<se.za-se.T&&37500>He[2]&&se.F&&se.v==0&&!se.C&&(se.C=Pn(h(se.Za,se),6e3));if(1>=Pc(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else jl(se,11)}else if((M.K||se.g==M)&&Th(se),!x(Z))for(He=se.Da.g.parse(Z),Z=0;Z<He.length;Z++){let bn=He[Z];if(se.T=bn[0],bn=bn[1],se.G==2)if(bn[0]=="c"){se.K=bn[1],se.ia=bn[2];const Si=bn[3];Si!=null&&(se.la=Si,se.j.info("VER="+se.la));const si=bn[4];si!=null&&(se.Aa=si,se.j.info("SVER="+se.Aa));const Pa=bn[5];Pa!=null&&typeof Pa=="number"&&0<Pa&&(Ae=1.5*Pa,se.L=Ae,se.j.info("backChannelRequestTimeoutMs_="+Ae)),Ae=se;const pa=M.g;if(pa){const vd=pa.g?pa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vd){var tt=Ae.h;tt.g||vd.indexOf("spdy")==-1&&vd.indexOf("quic")==-1&&vd.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(ag(tt,tt.h),tt.h=null))}if(Ae.D){const Sh=pa.g?pa.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&(Ae.ya=Sh,er(Ae.I,Ae.D,Sh))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-M.F,se.j.info("Handshake RTT: "+se.R+"ms")),Ae=se;var wt=M;if(Ae.qa=g1(Ae,Ae.J?Ae.ia:null,Ae.W),wt.K){i1(Ae.h,wt);var Wn=wt,hi=Ae.L;hi&&(Wn.I=hi),Wn.B&&(Fn(Wn),ht(Wn)),Ae.g=wt}else yd(Ae);0<se.i.length&&Xo(se)}else bn[0]!="stop"&&bn[0]!="close"||jl(se,7);else se.G==3&&(bn[0]=="stop"||bn[0]=="close"?bn[0]=="stop"?jl(se,7):qi(se):bn[0]!="noop"&&se.l&&se.l.ta(bn),se.v=0)}}kt(4)}catch{}}var zo=class{constructor(M,Z){this.g=M,this.map=Z}};function da(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xr(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Pc(M){return M.h?1:M.g?M.g.size:0}function cr(M,Z){return M.h?M.h==Z:M.g?M.g.has(Z):!1}function ag(M,Z){M.g?M.g.add(Z):M.h=Z}function i1(M,Z){M.h&&M.h==Z?M.h=null:M.g&&M.g.has(Z)&&M.g.delete(Z)}da.prototype.cancel=function(){if(this.i=s1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function s1(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let Z=M.i;for(const se of M.g.values())Z=Z.concat(se.D);return Z}return g(M.i)}function ph(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var Z=[],se=M.length,Ae=0;Ae<se;Ae++)Z.push(M[Ae]);return Z}Z=[],se=0;for(Ae in M)Z[se++]=M[Ae];return Z}function mh(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var Z=[];M=M.length;for(var se=0;se<M;se++)Z.push(se);return Z}Z=[],se=0;for(const Ae in M)Z[se++]=Ae;return Z}}}function Fc(M,Z){if(M.forEach&&typeof M.forEach=="function")M.forEach(Z,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,Z,void 0);else for(var se=mh(M),Ae=ph(M),He=Ae.length,tt=0;tt<He;tt++)Z.call(void 0,Ae[tt],se&&se[tt],M)}var hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fT(M,Z){if(M){M=M.split("&");for(var se=0;se<M.length;se++){var Ae=M[se].indexOf("="),He=null;if(0<=Ae){var tt=M[se].substring(0,Ae);He=M[se].substring(Ae+1)}else tt=M[se];Z(tt,He?decodeURIComponent(He.replace(/\+/g," ")):"")}}}function Ml(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof Ml){this.h=M.h,pd(this,M.j),this.o=M.o,this.g=M.g,Mc(this,M.s),this.l=M.l;var Z=M.i,se=new Ho;se.i=Z.i,Z.g&&(se.g=new Map(Z.g),se.h=Z.h),Uc(this,se),this.m=M.m}else M&&(Z=String(M).match(hd))?(this.h=!1,pd(this,Z[1]||"",!0),this.o=vn(Z[2]||""),this.g=vn(Z[3]||"",!0),Mc(this,Z[4]),this.l=vn(Z[5]||"",!0),Uc(this,Z[6]||"",!0),this.m=vn(Z[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}Ml.prototype.toString=function(){var M=[],Z=this.j;Z&&M.push(Lc(Z,gh,!0),":");var se=this.g;return(se||Z=="file")&&(M.push("//"),(Z=this.o)&&M.push(Lc(Z,gh,!0),"@"),M.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&M.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&M.push("/"),M.push(Lc(se,se.charAt(0)=="/"?l1:o1,!0))),(se=this.i.toString())&&M.push("?",se),(se=this.m)&&M.push("#",Lc(se,og)),M.join("")};function fa(M){return new Ml(M)}function pd(M,Z,se){M.j=se?vn(Z,!0):Z,M.j&&(M.j=M.j.replace(/:$/,""))}function Mc(M,Z){if(Z){if(Z=Number(Z),isNaN(Z)||0>Z)throw Error("Bad port number "+Z);M.s=Z}else M.s=null}function Uc(M,Z,se){Z instanceof Ho?(M.i=Z,Go(M.i,M.h)):(se||(Z=Lc(Z,c1)),M.i=new Ho(Z,M.h))}function er(M,Z,se){M.i.set(Z,se)}function Oc(M){return er(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function vn(M,Z){return M?Z?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Lc(M,Z,se){return typeof M=="string"?(M=encodeURI(M).replace(Z,a1),se&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function a1(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var gh=/[#\/\?@]/g,o1=/[#\?:]/g,l1=/[#\?]/g,c1=/[#\?@]/g,og=/#/g;function Ho(M,Z){this.h=this.g=null,this.i=M||null,this.j=!!Z}function Wi(M){M.g||(M.g=new Map,M.h=0,M.i&&fT(M.i,function(Z,se){M.add(decodeURIComponent(Z.replace(/\+/g," ")),se)}))}t=Ho.prototype,t.add=function(M,Z){Wi(this),this.i=null,M=Ra(this,M);var se=this.g.get(M);return se||this.g.set(M,se=[]),se.push(Z),this.h+=1,this};function fo(M,Z){Wi(M),Z=Ra(M,Z),M.g.has(Z)&&(M.i=null,M.h-=M.g.get(Z).length,M.g.delete(Z))}function ho(M,Z){return Wi(M),Z=Ra(M,Z),M.g.has(Z)}t.forEach=function(M,Z){Wi(this),this.g.forEach(function(se,Ae){se.forEach(function(He){M.call(Z,He,Ae,this)},this)},this)},t.na=function(){Wi(this);const M=Array.from(this.g.values()),Z=Array.from(this.g.keys()),se=[];for(let Ae=0;Ae<Z.length;Ae++){const He=M[Ae];for(let tt=0;tt<He.length;tt++)se.push(Z[Ae])}return se},t.V=function(M){Wi(this);let Z=[];if(typeof M=="string")ho(this,M)&&(Z=Z.concat(this.g.get(Ra(this,M))));else{M=Array.from(this.g.values());for(let se=0;se<M.length;se++)Z=Z.concat(M[se])}return Z},t.set=function(M,Z){return Wi(this),this.i=null,M=Ra(this,M),ho(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[Z]),this.h+=1,this},t.get=function(M,Z){return M?(M=this.V(M),0<M.length?String(M[0]):Z):Z};function jc(M,Z,se){fo(M,Z),0<se.length&&(M.i=null,M.g.set(Ra(M,Z),g(se)),M.h+=se.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],Z=Array.from(this.g.keys());for(var se=0;se<Z.length;se++){var Ae=Z[se];const tt=encodeURIComponent(String(Ae)),wt=this.V(Ae);for(Ae=0;Ae<wt.length;Ae++){var He=tt;wt[Ae]!==""&&(He+="="+encodeURIComponent(String(wt[Ae]))),M.push(He)}}return this.i=M.join("&")};function Ra(M,Z){return Z=String(Z),M.j&&(Z=Z.toLowerCase()),Z}function Go(M,Z){Z&&!M.j&&(Wi(M),M.i=null,M.g.forEach(function(se,Ae){var He=Ae.toLowerCase();Ae!=He&&(fo(this,Ae),jc(this,He,se))},M)),M.j=Z}function hT(M,Z){const se=new Kr;if(o.Image){const Ae=new Image;Ae.onload=p(Vs,se,"TestLoadImage: loaded",!0,Z,Ae),Ae.onerror=p(Vs,se,"TestLoadImage: error",!1,Z,Ae),Ae.onabort=p(Vs,se,"TestLoadImage: abort",!1,Z,Ae),Ae.ontimeout=p(Vs,se,"TestLoadImage: timeout",!1,Z,Ae),o.setTimeout(function(){Ae.ontimeout&&Ae.ontimeout()},1e4),Ae.src=M}else Z(!1)}function u1(M,Z){const se=new Kr,Ae=new AbortController,He=setTimeout(()=>{Ae.abort(),Vs(se,"TestPingServer: timeout",!1,Z)},1e4);fetch(M,{signal:Ae.signal}).then(tt=>{clearTimeout(He),tt.ok?Vs(se,"TestPingServer: ok",!0,Z):Vs(se,"TestPingServer: server error",!1,Z)}).catch(()=>{clearTimeout(He),Vs(se,"TestPingServer: error",!1,Z)})}function Vs(M,Z,se,Ae,He){try{He&&(He.onload=null,He.onerror=null,He.onabort=null,He.ontimeout=null),Ae(se)}catch{}}function pT(){this.g=new Ar}function d1(M,Z,se){const Ae=se||"";try{Fc(M,function(He,tt){let wt=He;c(He)&&(wt=xn(He)),Z.push(Ae+tt+"="+encodeURIComponent(wt))})}catch(He){throw Z.push(Ae+"type="+encodeURIComponent("_badmap")),He}}function Ul(M){this.l=M.Ub||null,this.j=M.eb||!1}v(Ul,Zn),Ul.prototype.g=function(){return new md(this.l,this.j)},Ul.prototype.i=(function(M){return function(){return M}})({});function md(M,Z){ke.call(this),this.D=M,this.o=Z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(md,ke),t=md.prototype,t.open=function(M,Z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=Z,this.readyState=1,mo(this)},t.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(Z.body=M),(this.D||o).fetch(new Request(this.A,Z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,mo(this)),this.g&&(this.readyState=3,mo(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;f1(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function f1(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}t.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var Z=M.value?M.value:new Uint8Array(0);(Z=this.v.decode(Z,{stream:!M.done}))&&(this.response=this.responseText+=Z)}M.done?po(this):mo(this),this.readyState==3&&f1(this)}},t.Ra=function(M){this.g&&(this.response=this.responseText=M,po(this))},t.Qa=function(M){this.g&&(this.response=M,po(this))},t.ga=function(){this.g&&po(this)};function po(M){M.readyState=4,M.l=null,M.j=null,M.v=null,mo(M)}t.setRequestHeader=function(M,Z){this.u.append(M,Z)},t.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],Z=this.h.entries();for(var se=Z.next();!se.done;)se=se.value,M.push(se[0]+": "+se[1]),se=Z.next();return M.join(`\r
`)};function mo(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Ol(M){let Z="";return R(M,function(se,Ae){Z+=Ae,Z+=":",Z+=se,Z+=`\r
`}),Z}function Bc(M,Z,se){e:{for(Ae in se){var Ae=!1;break e}Ae=!0}Ae||(se=Ol(se),typeof M=="string"?se!=null&&encodeURIComponent(String(se)):er(M,Z,se))}function xr(M){ke.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(xr,ke);var mT=/^https?$/i,lg=["POST","PUT"];t=xr.prototype,t.Ha=function(M){this.J=M},t.ea=function(M,Z,se,Ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);Z=Z?Z.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?Bn(this.o):Bn(Ie),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(Z,String(M),!0),this.B=!1}catch(tt){gd(this,tt);return}if(M=se||"",se=new Map(this.headers),Ae)if(Object.getPrototypeOf(Ae)===Object.prototype)for(var He in Ae)se.set(He,Ae[He]);else if(typeof Ae.keys=="function"&&typeof Ae.get=="function")for(const tt of Ae.keys())se.set(tt,Ae.get(tt));else throw Error("Unknown input type for opt_headers: "+String(Ae));Ae=Array.from(se.keys()).find(tt=>tt.toLowerCase()=="content-type"),He=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(lg,Z,void 0))||Ae||He||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,wt]of se)this.g.setRequestHeader(tt,wt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vh(this),this.u=!0,this.g.send(M),this.u=!1}catch(tt){gd(this,tt)}};function gd(M,Z){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=Z,M.m=5,yh(M),ha(M)}function yh(M){M.A||(M.A=!0,Ue(M,"complete"),Ue(M,"error"))}t.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,Ue(this,"complete"),Ue(this,"abort"),ha(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ha(this,!0)),xr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cg(this):this.bb())},t.bb=function(){cg(this)};function cg(M){if(M.h&&typeof a<"u"&&(!M.v[1]||Ws(M)!=4||M.Z()!=2)){if(M.u&&Ws(M)==4)Me(M.Ea,0,M);else if(Ue(M,"readystatechange"),Ws(M)==4){M.h=!1;try{const wt=M.Z();e:switch(wt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Z=!0;break e;default:Z=!1}var se;if(!(se=Z)){var Ae;if(Ae=wt===0){var He=String(M.D).match(hd)[1]||null;!He&&o.self&&o.self.location&&(He=o.self.location.protocol.slice(0,-1)),Ae=!mT.test(He?He.toLowerCase():"")}se=Ae}if(se)Ue(M,"complete"),Ue(M,"success");else{M.m=6;try{var tt=2<Ws(M)?M.g.statusText:""}catch{tt=""}M.l=tt+" ["+M.Z()+"]",yh(M)}}finally{ha(M)}}}}function ha(M,Z){if(M.g){vh(M);const se=M.g,Ae=M.v[0]?()=>{}:null;M.g=null,M.v=null,Z||Ue(M,"ready");try{se.onreadystatechange=Ae}catch{}}}function vh(M){M.I&&(o.clearTimeout(M.I),M.I=null)}t.isActive=function(){return!!this.g};function Ws(M){return M.g?M.g.readyState:0}t.Z=function(){try{return 2<Ws(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(M){if(this.g){var Z=this.g.responseText;return M&&Z.indexOf(M)==0&&(Z=Z.substring(M.length)),ln(Z)}};function ug(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(M){const Z={};M=(M.g&&2<=Ws(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ae=0;Ae<M.length;Ae++){if(x(M[Ae]))continue;var se=P(M[Ae]);const He=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const tt=Z[He]||[];Z[He]=tt,tt.push(se)}S(Z,function(Ae){return Ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(M,Z,se){return se&&se.internalChannelParams&&se.internalChannelParams[M]||Z}function dg(M){this.Aa=0,this.i=[],this.j=new Kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ko("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ko("baseRetryDelayMs",5e3,M),this.cb=Ko("retryDelaySeedMs",1e4,M),this.Wa=Ko("forwardChannelMaxRetries",2,M),this.wa=Ko("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new da(M&&M.concurrentRequestLimit),this.Da=new pT,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dg.prototype,t.la=8,t.G=1,t.connect=function(M,Z,se,Ae){nn(0),this.W=M,this.H=Z||{},se&&Ae!==void 0&&(this.H.OSID=se,this.H.OAID=Ae),this.F=this.X,this.I=g1(this,null,this.W),Xo(this)};function qi(M){if(bh(M),M.G==3){var Z=M.U++,se=fa(M.I);if(er(se,"SID",M.K),er(se,"RID",Z),er(se,"TYPE","terminate"),Ll(M,se),Z=new Qe(M,M.j,Z),Z.L=2,Z.v=Oc(fa(se)),se=!1,o.navigator&&o.navigator.sendBeacon)try{se=o.navigator.sendBeacon(Z.v.toString(),"")}catch{}!se&&o.Image&&(new Image().src=Z.v,se=!0),se||(Z.g=y1(Z.j,null),Z.g.ea(Z.v)),Z.F=Date.now(),ht(Z)}m1(M)}function go(M){M.g&&(fg(M),M.g.cancel(),M.g=null)}function bh(M){go(M),M.u&&(o.clearTimeout(M.u),M.u=null),Th(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function Xo(M){if(!Xr(M.h)&&!M.s){M.s=!0;var Z=M.Ga;J||Y(),te||(J(),te=!0),z.add(Z,M),M.B=0}}function gT(M,Z){return Pc(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=Z.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=Pn(h(M.Ga,M,Z),p1(M,M.B)),M.B++,!0)}t.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const He=new Qe(this,this.j,M);let tt=this.o;if(this.S&&(tt?(tt=N(tt),F(tt,this.S)):tt=this.S),this.m!==null||this.O||(He.H=tt,tt=null),this.P)e:{for(var Z=0,se=0;se<this.i.length;se++){t:{var Ae=this.i[se];if("__data__"in Ae.map&&(Ae=Ae.map.__data__,typeof Ae=="string")){Ae=Ae.length;break t}Ae=void 0}if(Ae===void 0)break;if(Z+=Ae,4096<Z){Z=se;break e}if(Z===4096||se===this.i.length-1){Z=se+1;break e}}Z=1e3}else Z=1e3;Z=Vc(this,He,Z),se=fa(this.I),er(se,"RID",M),er(se,"CVER",22),this.D&&er(se,"X-HTTP-Session-Id",this.D),Ll(this,se),tt&&(this.O?Z="headers="+encodeURIComponent(String(Ol(tt)))+"&"+Z:this.m&&Bc(se,this.m,tt)),ag(this.h,He),this.Ua&&er(se,"TYPE","init"),this.P?(er(se,"$req",Z),er(se,"SID","null"),He.T=!0,ot(He,se,null)):ot(He,se,Z),this.G=2}}else this.G==3&&(M?_h(this,M):this.i.length==0||Xr(this.h)||_h(this))};function _h(M,Z){var se;Z?se=Z.l:se=M.U++;const Ae=fa(M.I);er(Ae,"SID",M.K),er(Ae,"RID",se),er(Ae,"AID",M.T),Ll(M,Ae),M.m&&M.o&&Bc(Ae,M.m,M.o),se=new Qe(M,M.j,se,M.B+1),M.m===null&&(se.H=M.o),Z&&(M.i=Z.D.concat(M.i)),Z=Vc(M,se,1e3),se.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),ag(M.h,se),ot(se,Ae,Z)}function Ll(M,Z){M.H&&R(M.H,function(se,Ae){er(Z,Ae,se)}),M.l&&Fc({},function(se,Ae){er(Z,Ae,se)})}function Vc(M,Z,se){se=Math.min(M.i.length,se);var Ae=M.l?h(M.l.Na,M.l,M):null;e:{var He=M.i;let tt=-1;for(;;){const wt=["count="+se];tt==-1?0<se?(tt=He[0].g,wt.push("ofs="+tt)):tt=0:wt.push("ofs="+tt);let Wn=!0;for(let hi=0;hi<se;hi++){let bn=He[hi].g;const Si=He[hi].map;if(bn-=tt,0>bn)tt=Math.max(0,He[hi].g-100),Wn=!1;else try{d1(Si,wt,"req"+bn+"_")}catch{Ae&&Ae(Si)}}if(Wn){Ae=wt.join("&");break e}}}return M=M.i.splice(0,se),Z.D=M,Ae}function yd(M){if(!M.g&&!M.u){M.Y=1;var Z=M.Fa;J||Y(),te||(J(),te=!0),z.add(Z,M),M.v=0}}function wh(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=Pn(h(M.Fa,M),p1(M,M.v)),M.v++,!0)}t.Fa=function(){if(this.u=null,h1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=Pn(h(this.ab,this),M)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),go(this),h1(this))};function fg(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function h1(M){M.g=new Qe(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var Z=fa(M.qa);er(Z,"RID","rpc"),er(Z,"SID",M.K),er(Z,"AID",M.T),er(Z,"CI",M.F?"0":"1"),!M.F&&M.ja&&er(Z,"TO",M.ja),er(Z,"TYPE","xmlhttp"),Ll(M,Z),M.m&&M.o&&Bc(Z,M.m,M.o),M.L&&(M.g.I=M.L);var se=M.g;M=M.ia,se.L=1,se.v=Oc(fa(Z)),se.m=null,se.P=!0,gt(se,M)}t.Za=function(){this.C!=null&&(this.C=null,go(this),wh(this),nn(19))};function Th(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function Eh(M,Z){var se=null;if(M.g==Z){Th(M),fg(M),M.g=null;var Ae=2}else if(cr(M.h,Z))se=Z.D,i1(M.h,Z),Ae=1;else return;if(M.G!=0){if(Z.o)if(Ae==1){se=Z.m?Z.m.length:0,Z=Date.now()-Z.F;var He=M.B;Ae=Je(),Ue(Ae,new nr(Ae,se)),Xo(M)}else yd(M);else if(He=Z.s,He==3||He==0&&0<Z.X||!(Ae==1&&gT(M,Z)||Ae==2&&wh(M)))switch(se&&0<se.length&&(Z=M.h,Z.i=Z.i.concat(se)),He){case 1:jl(M,5);break;case 4:jl(M,10);break;case 3:jl(M,6);break;default:jl(M,2)}}}function p1(M,Z){let se=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(se*=2),se*Z}function jl(M,Z){if(M.j.info("Error code "+Z),Z==2){var se=h(M.fb,M),Ae=M.Xa;const He=!Ae;Ae=new Ml(Ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||pd(Ae,"https"),Oc(Ae),He?hT(Ae.toString(),se):u1(Ae.toString(),se)}else nn(2);M.G=0,M.l&&M.l.sa(Z),m1(M),bh(M)}t.fb=function(M){M?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function m1(M){if(M.G=0,M.ka=[],M.l){const Z=s1(M.h);(Z.length!=0||M.i.length!=0)&&(y(M.ka,Z),y(M.ka,M.i),M.h.i.length=0,g(M.i),M.i.length=0),M.l.ra()}}function g1(M,Z,se){var Ae=se instanceof Ml?fa(se):new Ml(se);if(Ae.g!="")Z&&(Ae.g=Z+"."+Ae.g),Mc(Ae,Ae.s);else{var He=o.location;Ae=He.protocol,Z=Z?Z+"."+He.hostname:He.hostname,He=+He.port;var tt=new Ml(null);Ae&&pd(tt,Ae),Z&&(tt.g=Z),He&&Mc(tt,He),se&&(tt.l=se),Ae=tt}return se=M.D,Z=M.ya,se&&Z&&er(Ae,se,Z),er(Ae,"VER",M.la),Ll(M,Ae),Ae}function y1(M,Z,se){if(Z&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return Z=M.Ca&&!M.pa?new xr(new Ul({eb:se})):new xr(M.pa),Z.Ha(M.J),Z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hg(){}t=hg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ch(){}Ch.prototype.g=function(M,Z){return new Ss(M,Z)};function Ss(M,Z){ke.call(this),this.g=new dg(Z),this.l=M,this.h=Z&&Z.messageUrlParams||null,M=Z&&Z.messageHeaders||null,Z&&Z.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=Z&&Z.initMessageHeaders||null,Z&&Z.messageContentType&&(M?M["X-WebChannel-Content-Type"]=Z.messageContentType:M={"X-WebChannel-Content-Type":Z.messageContentType}),Z&&Z.va&&(M?M["X-WebChannel-Client-Profile"]=Z.va:M={"X-WebChannel-Client-Profile":Z.va}),this.g.S=M,(M=Z&&Z.Sb)&&!x(M)&&(this.g.m=M),this.v=Z&&Z.supportsCrossDomainXhr||!1,this.u=Z&&Z.sendRawJson||!1,(Z=Z&&Z.httpSessionIdParam)&&!x(Z)&&(this.g.D=Z,M=this.h,M!==null&&Z in M&&(M=this.h,Z in M&&delete M[Z])),this.j=new Jo(this)}v(Ss,ke),Ss.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ss.prototype.close=function(){qi(this.g)},Ss.prototype.o=function(M){var Z=this.g;if(typeof M=="string"){var se={};se.__data__=M,M=se}else this.u&&(se={},se.__data__=xn(M),M=se);Z.i.push(new zo(Z.Ya++,M)),Z.G==3&&Xo(Z)},Ss.prototype.N=function(){this.g.l=null,delete this.j,qi(this.g),delete this.g,Ss.aa.N.call(this)};function v1(M){Cn.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var Z=M.__sm__;if(Z){e:{for(const se in Z){M=se;break e}M=void 0}(this.i=M)&&(M=this.i,Z=Z!==null&&M in Z?Z[M]:void 0),this.data=Z}else this.data=M}v(v1,Cn);function x1(){pe.call(this),this.status=1}v(x1,pe);function Jo(M){this.g=M}v(Jo,hg),Jo.prototype.ua=function(){Ue(this.g,"a")},Jo.prototype.ta=function(M){Ue(this.g,new v1(M))},Jo.prototype.sa=function(M){Ue(this.g,new x1)},Jo.prototype.ra=function(){Ue(this.g,"b")},Ch.prototype.createWebChannel=Ch.prototype.g,Ss.prototype.send=Ss.prototype.o,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,hV=function(){return new Ch},fV=function(){return Je()},dV=Ee,I4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,a2=Te,De.COMPLETE="complete",uV=De,Xn.EventType=Gt,Gt.OPEN="a",Gt.CLOSE="b",Gt.ERROR="c",Gt.MESSAGE="d",ke.prototype.listen=ke.prototype.K,g0=Xn,xr.prototype.listenOnce=xr.prototype.L,xr.prototype.getLastError=xr.prototype.Ka,xr.prototype.getLastErrorCode=xr.prototype.Ba,xr.prototype.getStatus=xr.prototype.Z,xr.prototype.getResponseJson=xr.prototype.Oa,xr.prototype.getResponseText=xr.prototype.oa,xr.prototype.send=xr.prototype.ea,xr.prototype.setWithCredentials=xr.prototype.Ha,cV=xr}).apply(typeof px<"u"?px:typeof self<"u"?self:typeof window<"u"?window:{});const k8="@firebase/firestore",I8="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Nm("@firebase/firestore");function cp(){return ku.logLevel}function Vne(t){ku.setLogLevel(t)}function ut(t,...e){if(ku.logLevel<=pn.DEBUG){const n=e.map(LN);ku.debug(`Firestore (${km}): ${t}`,...n)}}function Qr(t,...e){if(ku.logLevel<=pn.ERROR){const n=e.map(LN);ku.error(`Firestore (${km}): ${t}`,...n)}}function Cl(t,...e){if(ku.logLevel<=pn.WARN){const n=e.map(LN);ku.warn(`Firestore (${km}): ${t}`,...n)}}function LN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pV(t,r,n)}function pV(t,e,n){let r=`FIRESTORE (${km}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qr(r),new Error(r)}function Mt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||pV(e,i,r)}function Wne(t,e){t||Dt(57014,e)}function St(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mi.UNAUTHENTICATED)))}shutdown(){}}class $ne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zne{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qi,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qi)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt(typeof r.accessToken=="string",31837,{l:r}),new mV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new Mi(e)}}class Hne{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gne{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Hne(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Mi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kne{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Mt(this.o===void 0,3512);const r=s=>{s.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ut("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R8(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R8(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Xne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function en(t,e){return t<e?-1:t>e?1:0}function R4(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return KE(i)===KE(s)?en(i,s):KE(i)?1:-1}return en(t.length,e.length)}const Jne=55296,Yne=57343;function KE(t){const e=t.charCodeAt(0);return e>=Jne&&e<=Yne}function zp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function gV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="__name__";class al{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Dt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof al?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=al.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return en(e.length,n.length)}static compareSegments(e,n){const r=al.isNumericId(e),i=al.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?al.extractNumericId(e).compare(al.extractNumericId(n)):R4(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bu.fromString(e.substring(4,e.length-2))}}class gn extends al{construct(e,n,r){return new gn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new gn(n)}static emptyPath(){return new gn([])}}const Qne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends al{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return Qne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P8}static keyField(){return new wr([P8])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new st(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new st(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new st(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new st(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(gn.fromString(e))}static fromName(e){return new Tt(gn.fromString(e).popFirst(5))}static empty(){return new Tt(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new gn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e,n){if(!n)throw new st(et.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yV(t,e,n,r){if(e===!0&&r===!0)throw new st(et.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F8(t){if(!Tt.isDocumentKey(t))throw new st(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M8(t){if(Tt.isDocumentKey(t))throw new st(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function g_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dt(12329,{type:typeof t})}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g_(t);throw new st(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function xV(t,e){if(e<=0)throw new st(et.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){const n={typeString:t};return e&&(n.value=e),n}function fv(t,e){if(!vV(t))throw new st(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new st(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=-62135596800,O8=1e6;class On{static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*O8);return new On(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U8)throw new st(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O8}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:On._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fv(e,On._jsonSchema))return new On(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}On._jsonSchemaVersion="firestore/timestamp/1.0",On._jsonSchema={type:fi("string",On._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(e){return new jt(e)}static min(){return new jt(new On(0,0))}static max(){return new jt(new On(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;class Z2{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function P4(t){return t.fields.find((e=>e.kind===2))}function Ld(t){return t.fields.filter((e=>e.kind!==2))}Z2.UNKNOWN_ID=-1;class o2{constructor(e,n){this.fieldPath=e,this.kind=n}}class hy{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new hy(0,Aa.min())}}function bV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(r===1e9?new On(n+1,0):new On(n,r));return new Aa(i,Tt.empty(),e)}function _V(t){return new Aa(t.readTime,t.key,Hp)}class Aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Aa(jt.min(),Tt.empty(),Hp)}static max(){return new Aa(jt.max(),Tt.empty(),Hp)}}function VN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Tt.comparator(t.documentKey,e.documentKey),n!==0?n:en(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t){if(t.code!==et.FAILED_PRECONDITION||t.message!==wV)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ze(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ze?n:ze.resolve(n)}catch(n){return ze.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.reject(n)}static resolve(e){return new ze(((n,r)=>{n(e)}))}static reject(e){return new ze(((n,r)=>{r(e)}))}static waitFor(e){return new ze(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(l=>r(l)))})),a=!0,s===i&&n()}))}static or(e){let n=ze.resolve(!1);for(const r of e)n=n.next((i=>i?ze.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ze(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next((u=>{a[c]=u,++o,o===s&&r(a)}),(u=>i(u)))}}))}static doWhile(e,n){return new ze(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="SimpleDb";class y_{static open(e,n,r,i){try{return new y_(n,e.transaction(i,r))}catch(s){throw new A0(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Qi,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new A0(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=WN(r.target.error);this.S.reject(new A0(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ut(va,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ere(n)}}class bl{static delete(e){return ut(va,"Removing database:",e),Vd(DN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!cy())return!1;if(bl.F())return!0;const e=Fr(),n=bl.M(e),r=0<n&&n<10,i=EV(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,bl.M(Fr())===12.2&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ut(va,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new A0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new st(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new st(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new A0(e,a))},i.onupgradeneeded=s=>{ut(va,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{ut(va,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=y_.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next((c=>(o.C(),c))).catch((c=>(o.abort(c),ze.reject(c)))).toPromise();return l.catch((()=>{})),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(ut(va,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function EV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Zne{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Vd(this.U.delete())}}class A0 extends st{constructor(e,n){super(et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ju(t){return t.name==="IndexedDbTransactionError"}class ere{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ut(va,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ut(va,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vd(r)}add(e){return ut(va,"ADD",this.store.name,e,e),Vd(this.store.add(e))}get(e){return Vd(this.store.get(e)).next((n=>(n===void 0&&(n=null),ut(va,"GET",this.store.name,e,n),n)))}delete(e){return ut(va,"DELETE",this.store.name,e),Vd(this.store.delete(e))}count(){return ut(va,"COUNT",this.store.name),Vd(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ze(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,l)=>{a.push(l)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ze(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){ut(va,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new ze(((r,i)=>{n.onerror=s=>{const a=WN(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new ze(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new Zne(o),c=n(o.primaryKey,o.value,l);if(c instanceof ze){const u=c.catch((f=>(l.done(),ze.reject(f))));r.push(u)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}})).next((()=>ze.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Vd(t){return new ze(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=WN(r.target.error);n(i)}}))}let L8=!1;function WN(t){const e=bl.M(Fr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return L8||(L8=!0,setTimeout((()=>{throw r}),0)),r}}return t}const N0="IndexBackfiller";class tre{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ut(N0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ut(N0,`Documents written: ${n}`)}catch(n){Ju(n)?ut(N0,"Ignoring IndexedDB error during index backfill: ",n):await Xu(n)}await this.re(6e4)}))}}class nre{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return ze.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return ut(N0,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(ut(N0,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=_V(s);VN(a,r)>0&&(r=a)})),new Aa(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qs.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function hv(t){return t==null}function py(t){return t===0&&1/t==-1/0}function CV(t){return typeof t=="number"&&Number.isInteger(t)&&!py(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="";function vs(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=j8(e)),e=rre(t.get(n),e);return j8(e)}function rre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case eb:n+="";break;default:n+=s}}return n}function j8(t){return t+eb+""}function hl(t){const e=t.length;if(Mt(e>=2,64408,{path:t}),e===2)return Mt(t.charAt(0)===eb&&t.charAt(1)==="",56145,{path:t}),gn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(eb,s);switch((a<0||a>n)&&Dt(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Dt(61167,{path:t})}s=a+2}return new gn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="remoteDocuments",pv="owner",Gh="owner",my="mutationQueues",ire="userId",No="mutations",B8="batchId",Gd="userMutationsIndex",V8=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){return[t,vs(e)]}function SV(t,e,n){return[t,vs(e),n]}const sre={},Gp="documentMutations",tb="remoteDocumentsV14",are=["prefixPath","collectionGroup","readTime","documentId"],c2="documentKeyIndex",ore=["prefixPath","collectionGroup","documentId"],DV="collectionGroupIndex",lre=["collectionGroup","readTime","prefixPath","documentId"],gy="remoteDocumentGlobal",F4="remoteDocumentGlobalKey",Kp="targets",AV="queryTargetsIndex",cre=["canonicalId","targetId"],Xp="targetDocuments",ure=["targetId","path"],qN="documentTargetsIndex",dre=["path","targetId"],nb="targetGlobalKey",sf="targetGlobal",yy="collectionParents",fre=["collectionId","parent"],Jp="clientMetadata",hre="clientId",v_="bundles",pre="bundleId",x_="namedQueries",mre="name",$N="indexConfiguration",gre="indexId",M4="collectionGroupIndex",yre="collectionGroup",k0="indexState",vre=["indexId","uid"],NV="sequenceNumberIndex",xre=["uid","sequenceNumber"],I0="indexEntries",bre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kV="documentKeyIndex",_re=["indexId","uid","orderedDocumentKey"],b_="documentOverlays",wre=["userId","collectionPath","documentId"],U4="collectionPathOverlayIndex",Tre=["userId","collectionPath","largestBatchId"],IV="collectionGroupOverlayIndex",Ere=["userId","collectionGroup","largestBatchId"],zN="globals",Cre="name",RV=[my,No,Gp,jd,Kp,pv,sf,Xp,Jp,gy,yy,v_,x_],Sre=[...RV,b_],PV=[my,No,Gp,tb,Kp,pv,sf,Xp,Jp,gy,yy,v_,x_,b_],FV=PV,HN=[...FV,$N,k0,I0],Dre=HN,MV=[...HN,zN],Are=MV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4 extends TV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Ei(t,e){const n=St(t);return bl.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr=class L4{constructor(e,n){this.comparator=e,this.root=n||wu.EMPTY}insert(e,n){return new L4(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wu.BLACK,null,null))}remove(e){return new L4(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wu.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mx(this.root,e,this.comparator,!1)}getReverseIterator(){return new mx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mx(this.root,e,this.comparator,!0)}},mx=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wu=class Jl{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Jl.RED,this.left=i??Jl.EMPTY,this.right=s??Jl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Jl(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jl.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Dt(27949);return e+(this.isRed()?0:1)}};wu.EMPTY=null,wu.RED=!0,wu.BLACK=!1;wu.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new wu(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q8(this.data.getIterator())}getIteratorFrom(e){return new q8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kn(this.comparator);return n.data=e,n}}class q8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new Zs([])}unionWith(e){let n=new Kn(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OV("Invalid base64 string: "+s):s}})(e);return new Wr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Wr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const kre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(Mt(!!t,39018),typeof t=="string"){let e=0;const n=kre.exec(t);if(Mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_r(t.seconds),nanos:_r(t.nanos)}}function _r(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mc(t){return typeof t=="string"?Wr.fromBase64String(t):Wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="server_timestamp",jV="__type__",BV="__previous_value__",VV="__local_write_time__";function __(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jV])==null?void 0:r.stringValue)===LV}function w_(t){const e=t.mapValue.fields[BV];return __(e)?w_(e):e}function vy(t){const e=pc(t.mapValue.fields[VV].timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const j4="(default)";class Iu{constructor(e,n){this.projectId=e,this.database=n||j4}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===j4}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="__type__",WV="__max__",du={mapValue:{fields:{__type__:{stringValue:WV}}}},KN="__vector__",Yp="value",u2={nullValue:"NULL_VALUE"};function Ru(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:qV(t)?9007199254740991:T_(t)?10:11:Dt(28295,{value:t})}function Sl(t,e){if(t===e)return!0;const n=Ru(t);if(n!==Ru(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vy(t).isEqual(vy(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=pc(i.timestampValue),o=pc(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return mc(i.bytesValue).isEqual(mc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return _r(i.geoPointValue.latitude)===_r(s.geoPointValue.latitude)&&_r(i.geoPointValue.longitude)===_r(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return _r(i.integerValue)===_r(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=_r(i.doubleValue),o=_r(s.doubleValue);return a===o?py(a)===py(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return zp(t.arrayValue.values||[],e.arrayValue.values||[],Sl);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(W8(a)!==W8(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Sl(a[l],o[l])))return!1;return!0})(t,e);default:return Dt(52216,{left:t})}}function xy(t,e){return(t.values||[]).find((n=>Sl(n,e)))!==void 0}function Pu(t,e){if(t===e)return 0;const n=Ru(t),r=Ru(e);if(n!==r)return en(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return en(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=_r(s.integerValue||s.doubleValue),l=_r(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return $8(t.timestampValue,e.timestampValue);case 4:return $8(vy(t),vy(e));case 5:return R4(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=mc(s),l=mc(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=en(o[c],l[c]);if(u!==0)return u}return en(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=en(_r(s.latitude),_r(a.latitude));return o!==0?o:en(_r(s.longitude),_r(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return z8(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var h,p,v,g;const o=s.fields||{},l=a.fields||{},c=(h=o[Yp])==null?void 0:h.arrayValue,u=(p=l[Yp])==null?void 0:p.arrayValue,f=en(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:z8(c,u)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===du.mapValue&&a===du.mapValue)return 0;if(s===du.mapValue)return 1;if(a===du.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=R4(l[f],u[f]);if(h!==0)return h;const p=Pu(o[l[f]],c[u[f]]);if(p!==0)return p}return en(l.length,u.length)})(t.mapValue,e.mapValue);default:throw Dt(23264,{he:n})}}function $8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return en(t,e);const n=pc(t),r=pc(e),i=en(n.seconds,r.seconds);return i!==0?i:en(n.nanos,r.nanos)}function z8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Pu(n[i],r[i]);if(s)return s}return en(n.length,r.length)}function Qp(t){return B4(t)}function B4(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=pc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return mc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Tt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=B4(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${B4(n.fields[a])}`;return i+"}"})(t.mapValue):Dt(61005,{value:t})}function d2(t){switch(Ru(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=w_(t);return e?16+d2(e):16;case 5:return 2*t.stringValue.length;case 6:return mc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+d2(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Yu(r.fields,((s,a)=>{i+=s.length+d2(a)})),i})(t.mapValue);default:throw Dt(13486,{value:t})}}function vf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function V4(t){return!!t&&"integerValue"in t}function by(t){return!!t&&"arrayValue"in t}function H8(t){return!!t&&"nullValue"in t}function G8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function f2(t){return!!t&&"mapValue"in t}function T_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GN])==null?void 0:r.stringValue)===KN}function R0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Yu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=R0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=R0(t.arrayValue.values[n]);return e}return{...t}}function qV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WV}const $V={mapValue:{fields:{[GN]:{stringValue:KN},[Yp]:{arrayValue:{}}}}};function Rre(t){return"nullValue"in t?u2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?vf(Iu.empty(),Tt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?T_(t)?$V:{mapValue:{}}:Dt(35942,{value:t})}function Pre(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?vf(Iu.empty(),Tt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?$V:"mapValue"in t?T_(t)?{mapValue:{}}:du:Dt(61959,{value:t})}function K8(t,e){const n=Pu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function X8(t,e){const n=Pu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.value=e}static empty(){return new Ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!f2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=R0(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=R0(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());f2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];f2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yu(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ji(R0(this.value))}}function zV(t){const e=[];return Yu(t.fields,((n,r)=>{const i=new wr([n]);if(f2(r)){const s=zV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Zs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new pr(e,0,jt.min(),jt.min(),jt.min(),Ji.empty(),0)}static newFoundDocument(e,n,r,i){return new pr(e,1,n,jt.min(),r,i,0)}static newNoDocument(e,n){return new pr(e,2,n,jt.min(),jt.min(),Ji.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,jt.min(),jt.min(),Ji.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.position=e,this.inclusive=n}}function J8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Tt.comparator(Tt.fromName(a.referenceValue),n.key):r=Pu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{}class yn extends HV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mre(e,n,r):n==="array-contains"?new Lre(e,r):n==="in"?new QV(e,r):n==="not-in"?new jre(e,r):n==="array-contains-any"?new Bre(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ure(e,r):new Ore(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pu(n,this.value)):n!==null&&Ru(this.value)===Ru(n)&&this.matchesComparison(Pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends HV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return Zp(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zp(t){return t.op==="and"}function W4(t){return t.op==="or"}function XN(t){return GV(t)&&Zp(t)}function GV(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function q4(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+Qp(t.value);if(XN(t))return t.filters.map((e=>q4(e))).join(",");{const e=t.filters.map((n=>q4(n))).join(",");return`${t.op}(${e})`}}function KV(t,e){return t instanceof yn?(function(r,i){return i instanceof yn&&r.op===i.op&&r.field.isEqual(i.field)&&Sl(r.value,i.value)})(t,e):t instanceof Hn?(function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&KV(a,i.filters[o])),!0):!1})(t,e):void Dt(19439)}function XV(t,e){const n=t.filters.concat(e);return Hn.create(n,t.op)}function JV(t){return t instanceof yn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qp(n.value)}`})(t):t instanceof Hn?(function(n){return n.op.toString()+" {"+n.getFilters().map(JV).join(" ,")+"}"})(t):"Filter"}class Mre extends yn{constructor(e,n,r){super(e,n,r),this.key=Tt.fromName(r.referenceValue)}matches(e){const n=Tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ure extends yn{constructor(e,n){super(e,"in",n),this.keys=YV("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ore extends yn{constructor(e,n){super(e,"not-in",n),this.keys=YV("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YV(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Tt.fromName(r.referenceValue)))}class Lre extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return by(n)&&xy(n.arrayValue,this.value)}}class QV extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xy(this.value.arrayValue,n)}}class jre extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(xy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xy(this.value.arrayValue,n)}}class Bre extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!by(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>xy(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function $4(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Vre(t,e,n,r,i,s,a)}function xf(t){const e=St(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>q4(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),hv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qp(r))).join(",")),e.Te=n}return e.Te}function mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y8(t.startAt,e.startAt)&&Y8(t.endAt,e.endAt)}function rb(t){return Tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ib(t,e){return t.filters.filter((n=>n instanceof yn&&n.field.isEqual(e)))}function Q8(t,e,n){let r=u2,i=!0;for(const s of ib(t,e)){let a=u2,o=!0;switch(s.op){case"<":case"<=":a=Rre(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=u2}K8({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];K8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function Z8(t,e,n){let r=du,i=!0;for(const s of ib(t,e)){let a=du,o=!0;switch(s.op){case">=":case">":a=Pre(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=du}X8({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];X8({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZV(t,e,n,r,i,s,a,o){return new wc(t,e,n,r,i,s,a,o)}function Im(t){return new wc(t)}function eP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JN(t){return t.collectionGroup!==null}function Cp(t){const e=St(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Kn(wr.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new _y(s,r))})),n.has(wr.keyField().canonicalString())||e.Ie.push(new _y(wr.keyField(),r))}return e.Ie}function Ms(t){const e=St(t);return e.Ee||(e.Ee=Wre(e,Cp(t))),e.Ee}function Wre(t,e){if(t.limitType==="F")return $4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new _y(i.field,s)}));const n=t.endAt?new Fu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fu(t.startAt.position,t.startAt.inclusive):null;return $4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function z4(t,e){const n=t.filters.concat([e]);return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sb(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gv(t,e){return mv(Ms(t),Ms(e))&&t.limitType===e.limitType}function eW(t){return`${xf(Ms(t))}|lt:${t.limitType}`}function up(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>JV(i))).join(", ")}]`),hv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Qp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Qp(i))).join(",")),`Target(${r})`})(Ms(t))}; limitType=${t.limitType})`}function yv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Tt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Cp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,l){const c=J8(a,o,l);return a.inclusive?c<=0:c<0})(r.startAt,Cp(r),i)||r.endAt&&!(function(a,o,l){const c=J8(a,o,l);return a.inclusive?c>=0:c>0})(r.endAt,Cp(r),i))})(t,e)}function tW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nW(t){return(e,n)=>{let r=!1;for(const i of Cp(t)){const s=qre(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qre(t,e,n){const r=t.field.isKeyField()?Tt.comparator(e.key,n.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Pu(l,c):Dt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yu(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return UV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $re=new Mr(Tt.comparator);function ea(){return $re}const rW=new Mr(Tt.comparator);function y0(...t){let e=rW;for(const n of t)e=e.insert(n.key,n);return e}function iW(t){let e=rW;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function pl(){return P0()}function sW(){return P0()}function P0(){return new Tc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zre=new Mr(Tt.comparator),Hre=new Kn(Tt.comparator);function rn(...t){let e=Hre;for(const n of t)e=e.add(n);return e}const Gre=new Kn(en);function YN(){return Gre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:py(e)?"-0":e}}function aW(t){return{integerValue:""+t}}function oW(t,e){return CV(e)?aW(e):QN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this._=void 0}}function Kre(t,e,n){return t instanceof em?(function(i,s){const a={fields:{[jV]:{stringValue:LV},[VV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&__(s)&&(s=w_(s)),s&&(a.fields[BV]=s),{mapValue:a}})(n,e):t instanceof bf?cW(t,e):t instanceof _f?uW(t,e):(function(i,s){const a=lW(i,s),o=tP(a)+tP(i.Ae);return V4(a)&&V4(i.Ae)?aW(o):QN(i.serializer,o)})(t,e)}function Xre(t,e,n){return t instanceof bf?cW(t,e):t instanceof _f?uW(t,e):n}function lW(t,e){return t instanceof tm?(function(r){return V4(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class em extends E_{}class bf extends E_{constructor(e){super(),this.elements=e}}function cW(t,e){const n=dW(e);for(const r of t.elements)n.some((i=>Sl(i,r)))||n.push(r);return{arrayValue:{values:n}}}class _f extends E_{constructor(e){super(),this.elements=e}}function uW(t,e){let n=dW(e);for(const r of t.elements)n=n.filter((i=>!Sl(i,r)));return{arrayValue:{values:n}}}class tm extends E_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tP(t){return _r(t.integerValue||t.doubleValue)}function dW(t){return by(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.field=e,this.transform=n}}function Jre(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof bf&&i instanceof bf||r instanceof _f&&i instanceof _f?zp(r.elements,i.elements,Sl):r instanceof tm&&i instanceof tm?Sl(r.Ae,i.Ae):r instanceof em&&i instanceof em})(t.transform,e.transform)}class Yre{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function h2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class C_{}function fW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pm(t.key,Tr.none()):new Rm(t.key,t.data,Tr.none());{const n=t.data,r=Ji.empty();let i=new Kn(wr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ec(t.key,r,new Zs(i.toArray()),Tr.none())}}function Qre(t,e,n){t instanceof Rm?(function(i,s,a){const o=i.value.clone(),l=rP(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Ec?(function(i,s,a){if(!h2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=rP(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(hW(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function F0(t,e,n,r){return t instanceof Rm?(function(s,a,o,l){if(!h2(s.precondition,a))return o;const c=s.value.clone(),u=iP(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ec?(function(s,a,o,l){if(!h2(s.precondition,a))return o;const c=iP(s.fieldTransforms,l,a),u=a.data;return u.setAll(hW(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(s,a,o){return h2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function Zre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lW(r.transform,i||null);s!=null&&(n===null&&(n=Ji.empty()),n.set(r.field,s))}return n||null}function nP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zp(r,i,((s,a)=>Jre(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rm extends C_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ec extends C_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hW(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rP(t,e,n){const r=new Map;Mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,Xre(a,o,n[i]))}return r}function iP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Kre(s,a,e))}return r}class Pm extends C_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZN extends C_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=F0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=F0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sW();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=fW(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(jt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rn())}isEqual(e){return this.batchId===e.batchId&&zp(this.mutations,e.mutations,((n,r)=>nP(n,r)))&&zp(this.baseMutations,e.baseMutations,((n,r)=>nP(n,r)))}}class t3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return zre})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new t3(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,_n;function pW(t){switch(t){case et.OK:return Dt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Dt(15467,{code:t})}}function mW(t){if(t===void 0)return Qr("GRPC error has no .code"),et.UNKNOWN;switch(t){case li.OK:return et.OK;case li.CANCELLED:return et.CANCELLED;case li.UNKNOWN:return et.UNKNOWN;case li.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case li.INTERNAL:return et.INTERNAL;case li.UNAVAILABLE:return et.UNAVAILABLE;case li.UNAUTHENTICATED:return et.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case li.NOT_FOUND:return et.NOT_FOUND;case li.ALREADY_EXISTS:return et.ALREADY_EXISTS;case li.PERMISSION_DENIED:return et.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case li.ABORTED:return et.ABORTED;case li.OUT_OF_RANGE:return et.OUT_OF_RANGE;case li.UNIMPLEMENTED:return et.UNIMPLEMENTED;case li.DATA_LOSS:return et.DATA_LOSS;default:return Dt(39323,{code:t})}}(_n=li||(li={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie=new bu([4294967295,4294967295],0);function sP(t){const e=gW().encode(t),n=new lV;return n.update(e),new Uint8Array(n.digest())}function aP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bu([n,r],0),new bu([i,s],0)]}class r3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new v0(`Invalid padding: ${n}`);if(r<0)throw new v0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new v0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new v0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(bu.fromNumber(r)));return i.compare(tie)===1&&(i=new bu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sP(e),[r,i]=aP(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new r3(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=sP(e),[r,i]=aP(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class v0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xv(jt.min(),i,new Mr(en),ea(),rn())}}class bv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bv(r,n,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class yW{constructor(e,n){this.targetId=e,this.Ce=n}}class vW{constructor(e,n,r=Wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oP{constructor(){this.ve=0,this.Fe=lP(),this.Me=Wr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rn(),n=rn(),r=rn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dt(38017,{changeType:s})}})),new bv(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nie{constructor(e){this.Ge=e,this.ze=new Map,this.je=ea(),this.Je=gx(),this.He=gx(),this.Ye=new Mr(en)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Dt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(rb(s))if(r===0){const a=new Tt(s.path);this.et(n,a,pr.newNoDocument(a,jt.min()))}else Mt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=mc(r).toUint8Array()}catch(l){if(l instanceof OV)return Cl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new r3(a,i,s)}catch(l){return Cl(l instanceof v0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&rb(o.target)){const l=new Tt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,pr.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=rn();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new xv(e,n,this.Ye,this.je,r);return this.je=ea(),this.Je=gx(),this.He=gx(),this.Ye=new Mr(en),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kn(en),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kn(en),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gx(){return new Mr(Tt.comparator)}function lP(){return new Mr(Tt.comparator)}const rie={asc:"ASCENDING",desc:"DESCENDING"},iie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sie={and:"AND",or:"OR"};class aie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H4(t,e){return t.useProto3Json||hv(e)?e:{value:e}}function nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oie(t,e){return nm(t,e.toTimestamp())}function Zr(t){return Mt(!!t,49232),jt.fromTimestamp((function(n){const r=pc(n);return new On(r.seconds,r.nanos)})(t))}function i3(t,e){return G4(t,e).canonicalString()}function G4(t,e){const n=(function(i){return new gn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function bW(t){const e=gn.fromString(t);return Mt(kW(e),10190,{key:e.toString()}),e}function wy(t,e){return i3(t.databaseId,e.path)}function _l(t,e){const n=bW(e);if(n.get(1)!==t.databaseId.projectId)throw new st(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new st(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Tt(TW(n))}function _W(t,e){return i3(t.databaseId,e)}function wW(t){const e=bW(t);return e.length===4?gn.emptyPath():TW(e)}function K4(t){return new gn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TW(t){return Mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cP(t,e,n){return{name:wy(t,e),fields:n.value.mapValue.fields}}function EW(t,e,n){const r=_l(t,e.name),i=Zr(e.updateTime),s=e.createTime?Zr(e.createTime):jt.min(),a=new Ji({mapValue:{fields:e.fields}}),o=pr.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function lie(t,e){return"found"in e?(function(r,i){Mt(!!i.found,43571),i.found.name,i.found.updateTime;const s=_l(r,i.found.name),a=Zr(i.found.updateTime),o=i.found.createTime?Zr(i.found.createTime):jt.min(),l=new Ji({mapValue:{fields:i.found.fields}});return pr.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(r,i){Mt(!!i.missing,3894),Mt(!!i.readTime,22933);const s=_l(r,i.missing),a=Zr(i.readTime);return pr.newNoDocument(s,a)})(t,e):Dt(7234,{result:e})}function cie(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Dt(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(Mt(u===void 0||typeof u=="string",58123),Wr.fromBase64String(u||"")):(Mt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Wr.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?et.UNKNOWN:mW(c.code);return new st(u,c.message||"")})(a);n=new vW(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_l(t,r.document.name),s=Zr(r.document.updateTime),a=r.document.createTime?Zr(r.document.createTime):jt.min(),o=new Ji({mapValue:{fields:r.document.fields}}),l=pr.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new p2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_l(t,r.document),s=r.readTime?Zr(r.readTime):jt.min(),a=pr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new p2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_l(t,r.document),s=r.removedTargetIds||[];n=new p2([],s,i,null)}else{if(!("filter"in e))return Dt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new eie(i,s),o=r.targetId;n=new yW(o,a)}}return n}function Ty(t,e){let n;if(e instanceof Rm)n={update:cP(t,e.key,e.value)};else if(e instanceof Pm)n={delete:wy(t,e.key)};else if(e instanceof Ec)n={update:cP(t,e.key,e.data),updateMask:mie(e.fieldMask)};else{if(!(e instanceof ZN))return Dt(16599,{Vt:e.type});n={verify:wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof em)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _f)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tm)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Dt(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:oie(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Dt(27497)})(t,e.precondition)),n}function X4(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Tr.updateTime(Zr(s.updateTime)):s.exists!==void 0?Tr.exists(s.exists):Tr.none()})(e.currentDocument):Tr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)Mt(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new em;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new bf(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new _f(u)}else"increment"in o?l=new tm(a,o.increment):Dt(16584,{proto:o});const c=wr.fromServerFormat(o.fieldPath);return new vv(c,l)})(t,i))):[];if(e.update){e.update.name;const i=_l(t,e.update.name),s=new Ji({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new Zs(c.map((u=>wr.fromServerFormat(u))))})(e.updateMask);return new Ec(i,s,a,n,r)}return new Rm(i,s,n,r)}if(e.delete){const i=_l(t,e.delete);return new Pm(i,n)}if(e.verify){const i=_l(t,e.verify);return new ZN(i,n)}return Dt(1463,{proto:e})}function uie(t,e){return t&&t.length>0?(Mt(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Zr(i.updateTime):Zr(s);return a.isEqual(jt.min())&&(a=Zr(s)),new Yre(a,i.transformResults||[])})(n,e)))):[]}function CW(t,e){return{documents:[_W(t,e.path)]}}function SW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_W(t,i);const s=(function(c){if(c.length!==0)return NW(Hn.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(h){return{field:dp(h.field),direction:fie(h.dir)}})(u)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=H4(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function DW(t){let e=wW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Mt(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=(function(f){const h=AW(f);return h instanceof Hn&&XN(h)?h.getFilters():[h]})(n.where));let a=[];n.orderBy&&(a=(function(f){return f.map((h=>(function(v){return new _y(fp(v.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(h)))})(n.orderBy));let o=null;n.limit&&(o=(function(f){let h;return h=typeof f=="object"?f.value:f,hv(h)?null:h})(n.limit));let l=null;n.startAt&&(l=(function(f){const h=!!f.before,p=f.values||[];return new Fu(p,h)})(n.startAt));let c=null;return n.endAt&&(c=(function(f){const h=!f.before,p=f.values||[];return new Fu(p,h)})(n.endAt)),ZV(e,i,a,s,o,"F",l,c)}function die(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AW(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fp(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fp(n.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fp(n.unaryFilter.field);return yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fp(n.unaryFilter.field);return yn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return yn.create(fp(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Hn.create(n.compositeFilter.filters.map((r=>AW(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(n.compositeFilter.op))})(t):Dt(30097,{filter:t})}function fie(t){return rie[t]}function hie(t){return iie[t]}function pie(t){return sie[t]}function dp(t){return{fieldPath:t.canonicalString()}}function fp(t){return wr.fromServerFormat(t.fieldPath)}function NW(t){return t instanceof yn?(function(n){if(n.op==="=="){if(G8(n.value))return{unaryFilter:{field:dp(n.field),op:"IS_NAN"}};if(H8(n.value))return{unaryFilter:{field:dp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G8(n.value))return{unaryFilter:{field:dp(n.field),op:"IS_NOT_NAN"}};if(H8(n.value))return{unaryFilter:{field:dp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dp(n.field),op:hie(n.op),value:n.value}}})(t):t instanceof Hn?(function(n){const r=n.getFilters().map((i=>NW(i)));return r.length===1?r[0]:{compositeFilter:{op:pie(n.op),filters:r}}})(t):Dt(54877,{filter:t})}function mie(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,r,i,s=jt.min(),a=jt.min(),o=Wr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.yt=e}}function gie(t,e){let n;if(e.document)n=EW(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Tt.fromSegments(e.noDocument.path),i=Tf(e.noDocument.readTime);n=pr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt(56709);{const r=Tt.fromSegments(e.unknownDocument.path),i=Tf(e.unknownDocument.version);n=pr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new On(i[0],i[1]);return jt.fromTimestamp(s)})(e.readTime)),n}function uP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ab(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:wy(s,a.key),fields:a.data.value.mapValue.fields,updateTime:nm(s,a.version.toTimestamp()),createTime:nm(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wf(e.version)};else{if(!e.isUnknownDocument())return Dt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:wf(e.version)}}return r}function ab(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function wf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tf(t){const e=new On(t.seconds,t.nanoseconds);return jt.fromTimestamp(e)}function Wd(t,e){const n=(e.baseMutations||[]).map((s=>X4(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>X4(t.yt,s))),i=On.fromMillis(e.localWriteTimeMs);return new e3(e.batchId,i,n,r)}function x0(t){const e=Tf(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Tf(t.lastLimboFreeSnapshotVersion):jt.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return Mt(a===1,1966,{count:a}),Ms(Im(wW(s.documents[0])))})(t.query):(function(s){return Ms(DW(s))})(t.query),new Yl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Wr.fromBase64String(t.resumeToken))}function RW(t,e){const n=wf(e.snapshotVersion),r=wf(e.lastLimboFreeSnapshotVersion);let i;i=rb(e.target)?CW(t.yt,e.target):SW(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xf(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function s3(t){const e=DW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sb(e,e.limit,"L"):e}function XE(t,e){return new n3(e.largestBatchId,X4(t.yt,e.overlayMutation))}function dP(t,e){const n=e.path.lastSegment();return[t,vs(e.path.popLast()),n]}function fP(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:wf(r.readTime),documentKey:vs(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{getBundleMetadata(e,n){return hP(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Tf(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return hP(e).put((function(i){return{bundleId:i.id,createTime:wf(Zr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return pP(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:s3(s.bundledQuery),readTime:Tf(s.readTime)}})(r)}))}saveNamedQuery(e,n){return pP(e).put((function(i){return{name:i.name,readTime:wf(Zr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function hP(t){return Ei(t,v_)}function pP(t){return Ei(t,x_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new S_(e,r)}getOverlay(e,n){return jg(e).get(dP(this.userId,n)).next((r=>r?XE(this.serializer,r):null))}getOverlays(e,n){const r=pl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new n3(n,a);i.push(this.St(e,o))})),ze.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(vs(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(jg(e).Z(U4,o))})),ze.waitFor(s)}getOverlaysForCollection(e,n,r){const i=pl(),s=vs(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return jg(e).J(U4,a).next((o=>{for(const l of o){const c=XE(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=pl();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return jg(e).ee({index:IV,range:o},((l,c,u)=>{const f=XE(this.serializer,c);s.size()<i||f.largestBatchId===a?(s.set(f.getKey(),f),a=f.largestBatchId):u.done()})).next((()=>s))}St(e,n){return jg(e).put((function(i,s,a){const[o,l,c]=dP(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Ty(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function jg(t){return Ei(t,b_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{bt(e){return Ei(e,zN)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Wr.fromUint8Array(r):Wr.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(_r(e.integerValue));else if("doubleValue"in e){const r=_r(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),py(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=pc(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(mc(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?qV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):T_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Dt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,o;const r=e.fields||{};this.Ft(n,53);const i=Yp,s=((o=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(_r(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Tt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}qd.Kt=new qd;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=255;function xie(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function mP(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=xie(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class bie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=mP(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=mP(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Xh),this.sn(255)}_n(){this.an(Xh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Xh?(this.sn(Xh),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Xh?(this.an(Xh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class _ie{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class wie{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Bg{constructor(){this.cn=new bie,this.ln=new _ie(this.cn),this.hn=new wie(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new $d(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:m2(this.En),directionalValue:m2(this.dn),orderedDocumentKey:m2(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function nu(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=gP(t.En,e.En),n!==0?n:(n=gP(t.dn,e.dn),n!==0?n:Tt.comparator(t.In,e.In)))}function gP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function m2(t){return GB()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function yP(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class vP{constructor(e){this.mn=new Kn(((n,r)=>wr.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Mt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=P4(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ld(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.bn(this.fn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Kn(wr.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new o2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new o2(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new o2(r.field,r.dir==="asc"?0:1)));return new Z2(Z2.UNKNOWN_ID,this.collectionId,n,hy.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t){var n,r;if(Mt(t instanceof yn||t instanceof Hn,20012),t instanceof yn){if(t instanceof QV){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>yn.create(t.field,"==",s))))||[];return Hn.create(i,"or")}return t}const e=t.filters.map((i=>PW(i)));return Hn.create(e,t.op)}function Tie(t){if(t.getFilters().length===0)return[];const e=Q4(PW(t));return Mt(FW(e),7391),J4(e)||Y4(e)?[e]:e.getFilters()}function J4(t){return t instanceof yn}function Y4(t){return t instanceof Hn&&XN(t)}function FW(t){return J4(t)||Y4(t)||(function(n){if(n instanceof Hn&&W4(n)){for(const r of n.getFilters())if(!J4(r)&&!Y4(r))return!1;return!0}return!1})(t)}function Q4(t){if(Mt(t instanceof yn||t instanceof Hn,34018),t instanceof yn)return t;if(t.filters.length===1)return Q4(t.filters[0]);const e=t.filters.map((r=>Q4(r)));let n=Hn.create(e,t.op);return n=ob(n),FW(n)?n:(Mt(n instanceof Hn,64498),Mt(Zp(n),40251),Mt(n.filters.length>1,57927),n.filters.reduce(((r,i)=>a3(r,i))))}function a3(t,e){let n;return Mt(t instanceof yn||t instanceof Hn,38388),Mt(e instanceof yn||e instanceof Hn,25473),n=t instanceof yn?e instanceof yn?(function(i,s){return Hn.create([i,s],"and")})(t,e):xP(t,e):e instanceof yn?xP(e,t):(function(i,s){if(Mt(i.filters.length>0&&s.filters.length>0,48005),Zp(i)&&Zp(s))return XV(i,s.getFilters());const a=W4(i)?i:s,o=W4(i)?s:i,l=a.filters.map((c=>a3(c,o)));return Hn.create(l,"or")})(t,e),ob(n)}function xP(t,e){if(Zp(e))return XV(e,t.getFilters());{const n=e.filters.map((r=>a3(t,r)));return Hn.create(n,"or")}}function ob(t){if(Mt(t instanceof yn||t instanceof Hn,11850),t instanceof yn)return t;const e=t.getFilters();if(e.length===1)return ob(e[0]);if(GV(t))return t;const n=e.map((i=>ob(i))),r=[];return n.forEach((i=>{i instanceof yn?r.push(i):i instanceof Hn&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Hn.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(){this.Cn=new o3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ze.resolve()}getCollectionParents(e,n){return ze.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ze.resolve()}deleteFieldIndex(e,n){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,n){return ze.resolve()}getDocumentsMatchingTarget(e,n){return ze.resolve(null)}getIndexType(e,n){return ze.resolve(0)}getFieldIndexes(e,n){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,n){return ze.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return ze.resolve(Aa.min())}updateCollectionGroup(e,n,r){return ze.resolve()}updateIndexEntries(e,n){return ze.resolve()}}class o3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kn(gn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(gn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="IndexedDbIndexManager",yx=new Uint8Array(0);class Cie{constructor(e,n){this.databaseId=n,this.vn=new o3,this.Fn=new Tc((r=>xf(r)),((r,i)=>mv(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:vs(i)};return _P(e).put(s)}return ze.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[gV(n),""],!1,!0);return _P(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(hl(a.parent))}return r}))}addFieldIndex(e,n){const r=Vg(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Yh(e);return s.next((o=>{a.put(fP(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Vg(e),i=Yh(e),s=Jh(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Vg(e),r=Jh(e),i=Yh(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return ze.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new vP(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Jh(e);let i=!0;const s=new Map;return ze.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=rn();const o=[];return ze.forEach(s,((l,c)=>{ut(bP,`Using index ${(function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map((C=>`${C.fieldPath}:${C.kind}`)).join(",")}`})(l)} to execute ${xf(n)}`);const u=(function(w,C){const D=P4(C);if(D===void 0)return null;for(const R of ib(w,D.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null})(c,l),f=(function(w,C){const D=new Map;for(const R of Ld(C))for(const S of ib(w,R.fieldPath))switch(S.op){case"==":case"in":D.set(R.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return D.set(R.fieldPath.canonicalString(),S.value),Array.from(D.values())}return null})(c,l),h=(function(w,C){const D=[];let R=!0;for(const S of Ld(C)){const N=S.kind===0?Q8(w,S.fieldPath,w.startAt):Z8(w,S.fieldPath,w.startAt);D.push(N.value),R&&(R=N.inclusive)}return new Fu(D,R)})(c,l),p=(function(w,C){const D=[];let R=!0;for(const S of Ld(C)){const N=S.kind===0?Z8(w,S.fieldPath,w.endAt):Q8(w,S.fieldPath,w.endAt);D.push(N.value),R&&(R=N.inclusive)}return new Fu(D,R)})(c,l),v=this.On(l,c,h),g=this.On(l,c,p),y=this.Nn(l,c,f),_=this.Bn(l.indexId,u,v,h.inclusive,g,p.inclusive,y);return ze.forEach(_,(x=>r.Y(x,n.limit).next((w=>{w.forEach((C=>{const D=Tt.fromSegments(C.documentKey);a.has(D)||(a=a.add(D),o.push(D))}))}))))})).next((()=>o))}return ze.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Tie(Hn.create(e.filters,"and")).map((r=>$4(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let f=0;f<l;++f){const h=n?this.Ln(n[f/c]):yx,p=this.kn(e,h,r[f%c],i),v=this.qn(e,h,s[f%c],a),g=o.map((y=>this.kn(e,h,y,!0)));u.push(...this.createRange(p,v,g))}return u}kn(e,n,r,i){const s=new $d(e,Tt.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new $d(e,Tt.empty(),n,r);return i?s.An():s}xn(e,n){const r=new vP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return ze.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(l){let c=new Kn(wr.comparator),u=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Bg;for(const i of Ld(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);qd.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new Bg;return qd.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Bg;return qd.Kt.Dt(vf(this.databaseId,n),r.Pn((function(s){const a=Ld(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Bg);let s=0;for(const a of Ld(e)){const o=r[s++];for(const l of i)if(this.Un(n,a.fieldPath)&&by(o))i=this.Kn(i,a,o);else{const c=l.Pn(a.kind);qd.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new Bg;l.seed(o.un()),qd.Kt.Dt(a,l.Pn(n.kind)),s.push(l)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof yn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Vg(e),i=Yh(e);return(n?r.J(M4,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return ze.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(u,f){const h=f?new hy(f.sequenceNumber,new Aa(Tf(f.readTime),new Tt(hl(f.documentKey)),f.largestBatchId)):hy.empty(),p=u.fields.map((([v,g])=>new o2(wr.fromServerFormat(v),g)));return new Z2(u.indexId,u.collectionGroup,p,h)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:en(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Vg(e),s=Yh(e);return this.Gn(e).next((a=>i.J(M4,IDBKeyRange.bound(n,n)).next((o=>ze.forEach(o,(l=>s.put(fP(l.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return ze.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?ze.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),ze.forEach(o,(l=>this.zn(e,i,l).next((c=>{const u=this.jn(s,l);return c.isEqual(u)?ze.resolve():this.Jn(e,s,l,c,u)})))))))}))}Hn(e,n,r,i){return Jh(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Jh(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Jh(e);let s=new Kn(nu);return i.ee({index:kV,range:IDBKeyRange.only([r.indexId,this.uid,m2(this.$n(r,n))])},((a,o)=>{s=s.add(new $d(r.indexId,n,yP(o.arrayValue),yP(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Kn(nu);const i=this.Qn(n,e);if(i==null)return r;const s=P4(n);if(s!=null){const a=e.data.field(s.fieldPath);if(by(a))for(const o of a.arrayValue.values||[])r=r.add(new $d(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new $d(n.indexId,e.key,yx,i));return r}Jn(e,n,r,i,s){ut(bP,"Updating index entries for document '%s'",n.key);const a=[];return(function(l,c,u,f,h){const p=l.getIterator(),v=c.getIterator();let g=Kh(p),y=Kh(v);for(;g||y;){let _=!1,x=!1;if(g&&y){const w=u(g,y);w<0?x=!0:w>0&&(_=!0)}else g!=null?x=!0:_=!0;_?(f(y),y=Kh(v)):x?(h(g),g=Kh(p)):(g=Kh(p),y=Kh(v))}})(i,s,nu,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),ze.waitFor(a)}Gn(e){let n=1;return Yh(e).ee({index:NV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>nu(a,o))).filter(((a,o,l)=>!o||nu(a,l[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=nu(a,e),l=nu(a,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(a),i.push(a.An());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,yx,Tt.empty()),l=i[a+1].Vn(this.uid,yx,Tt.empty());s.push(IDBKeyRange.bound(o,l))}return s}Zn(e,n){return nu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(wP)}getMinOffset(e,n){return ze.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Dt(44426))))).next(wP)}}function _P(t){return Ei(t,yy)}function Jh(t){return Ei(t,I0)}function Vg(t){return Ei(t,$N)}function Yh(t){return Ei(t,k0)}function wP(t){Mt(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;VN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Aa(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MW=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t,e,n){const r=t.store(No),i=t.store(Gp),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:a},((u,f,h)=>(o++,h.delete())));s.push(l.next((()=>{Mt(o===1,47070,{batchId:n.batchId})})));const c=[];for(const u of n.mutations){const f=SV(e,u.key.path,n.batchId);s.push(i.delete(f)),c.push(u.key)}return ze.waitFor(s).next((()=>c))}function lb(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(MW,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class D_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Mt(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new D_(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ru(e).ee({index:Gd,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=hp(e),a=ru(e);return a.add({}).next((o=>{Mt(typeof o=="number",49019);const l=new e3(o,n,r,i),c=(function(p,v,g){const y=g.baseMutations.map((x=>Ty(p.yt,x))),_=g.mutations.map((x=>Ty(p.yt,x)));return{userId:v,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:_}})(this.serializer,this.userId,l),u=[];let f=new Kn(((h,p)=>en(h.canonicalString(),p.canonicalString())));for(const h of i){const p=SV(this.userId,h.key.path,o);f=f.add(h.key.path.popLast()),u.push(a.put(c)),u.push(s.put(p,sre))}return f.forEach((h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))})),e.addOnCommittedListener((()=>{this.Xn[o]=l.keys()})),ze.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,n){return ru(e).get(n).next((r=>r?(Mt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Wd(this.serializer,r)):null))}er(e,n){return this.Xn[n]?ze.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ru(e).ee({index:Gd,range:i},((a,o,l)=>{o.userId===this.userId&&(Mt(o.batchId>=r,47524,{tr:r}),s=Wd(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=_u;return ru(e).ee({index:Gd,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,_u],[this.userId,Number.POSITIVE_INFINITY]);return ru(e).J(Gd,n).next((r=>r.map((i=>Wd(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=l2(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return hp(e).ee({range:i},((a,o,l)=>{const[c,u,f]=a,h=hl(u);if(c===this.userId&&n.path.isEqual(h))return ru(e).get(f).next((p=>{if(!p)throw Dt(61480,{nr:a,batchId:f});Mt(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),s.push(Wd(this.serializer,p))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(en);const i=[];return n.forEach((s=>{const a=l2(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=hp(e).ee({range:o},((c,u,f)=>{const[h,p,v]=c,g=hl(p);h===this.userId&&s.path.isEqual(g)?r=r.add(v):f.done()}));i.push(l)})),ze.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=l2(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Kn(en);return hp(e).ee({range:a},((l,c,u)=>{const[f,h,p]=l,v=hl(h);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(o=o.add(p)):u.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(ru(e).get(s).next((a=>{if(a===null)throw Dt(35274,{batchId:s});Mt(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(Wd(this.serializer,a))})))})),ze.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return UW(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),ze.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ze.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return hp(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const l=hl(s[1]);i.push(l)}else o.done()})).next((()=>{Mt(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return OW(e,this.userId,n)}_r(e){return LW(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:_u,lastStreamToken:""}))}}function OW(t,e,n){const r=l2(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return hp(t).ee({range:s,X:!0},((o,l,c)=>{const[u,f,h]=o;u===e&&f===i&&(a=!0),c.done()})).next((()=>a))}function ru(t){return Ei(t,No)}function hp(t){return Ei(t,Gp)}function LW(t){return Ei(t,my)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ef(0)}static cr(){return new Ef(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Ef(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>jt.fromTimestamp(new On(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Qh(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Mt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Qh(e).ee(((a,o)=>{const l=x0(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>ze.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Qh(e).ee(((r,i)=>{const s=x0(i);n(s)}))}lr(e){return EP(e).get(nb).next((n=>(Mt(n!==null,2888),n)))}hr(e,n){return EP(e).put(nb,n)}Pr(e,n){return Qh(e).put(RW(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=xf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Qh(e).ee({range:i,index:AV},((a,o,l)=>{const c=x0(o);mv(n,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=cu(e);return n.forEach((a=>{const o=vs(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),ze.waitFor(i)}removeMatchingKeys(e,n,r){const i=cu(e);return ze.forEach(n,(s=>{const a=vs(s.path);return ze.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=cu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=cu(e);let s=rn();return i.ee({range:r,X:!0},((a,o,l)=>{const c=hl(a[1]),u=new Tt(c);s=s.add(u)})).next((()=>s))}containsKey(e,n){const r=vs(n.path),i=IDBKeyRange.bound([r],[gV(r)],!1,!0);let s=0;return cu(e).ee({index:qN,X:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}At(e,n){return Qh(e).get(n).next((r=>r?x0(r):null))}}function Qh(t){return Ei(t,Kp)}function EP(t){return Ei(t,sf)}function cu(t){return Ei(t,Xp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="LruGarbageCollector",Die=1048576;function SP([t,e],[n,r]){const i=en(t,n);return i===0?en(e,r):i}class Aie{constructor(e){this.Ir=e,this.buffer=new Kn(SP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(CP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ju(n)?ut(CP,"Ignoring IndexedDB error during garbage collection: ",n):await Xu(n)}await this.Vr(3e5)}))}}class Nie{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ze.resolve(Qs.ce);const r=new Aie(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(TP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,o=Date.now(),this.removeTargets(e,r,n)))).next((f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(c=Date.now(),cp()<=pn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function BW(t,e){return new Nie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e,n){this.db=e,this.garbageCollector=BW(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return vx(e,r)}removeReference(e,n,r){return vx(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return vx(e,n)}br(e,n){return(function(i,s){let a=!1;return LW(i).te((o=>OW(i,o,s).next((l=>(l&&(a=!0),ze.resolve(!l)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const l=this.br(e,a).next((c=>{if(!c)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,jt.min()),cu(e).delete((function(f){return[0,vs(f.path)]})(a)))))}));i.push(l)}})).next((()=>ze.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return vx(e,n)}Sr(e,n){const r=cu(e);let i,s=Qs.ce;return r.ee({index:qN},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==Qs.ce&&n(new Tt(hl(i)),s),s=c,i=l):s=Qs.ce})).next((()=>{s!==Qs.ce&&n(new Tt(hl(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vx(t,e){return cu(t).put((function(r,i){return{targetId:0,path:vs(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(){this.changes=new Tc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ze.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Id(e).put(r)}removeEntry(e,n,r){return Id(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],ab(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=pr.newInvalidDocument(n);return Id(e).ee({index:c2,range:IDBKeyRange.only(Wg(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:pr.newInvalidDocument(n)};return Id(e).ee({index:c2,range:IDBKeyRange.only(Wg(n))},((i,s)=>{r={document:this.Cr(n,s),size:lb(s)}})).next((()=>r))}getEntries(e,n){let r=ea();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=ea(),i=new Mr(Tt.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,lb(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return ze.resolve();let i=new Kn(NP);n.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(Wg(i.first()),Wg(i.last())),a=i.getIterator();let o=a.getNext();return Id(e).ee({index:c2,range:s},((l,c,u)=>{const f=Tt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&NP(o,f)<0;)r(o,null),o=a.getNext();o&&o.isEqual(f)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?u.j(Wg(o)):u.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),ab(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Id(e).J(IDBKeyRange.bound(o,l,!0)).next((c=>{s==null||s.incrementDocumentReadCount(c.length);let u=ea();for(const f of c){const h=this.Cr(Tt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(yv(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u}))}getAllFromCollectionGroup(e,n,r,i){let s=ea();const a=AP(n,r),o=AP(n,Aa.max());return Id(e).ee({index:DV,range:IDBKeyRange.bound(a,o,!0)},((l,c,u)=>{const f=this.Cr(Tt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&u.done()})).next((()=>s))}newChangeBuffer(e){return new Rie(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return DP(e).get(F4).next((n=>(Mt(!!n,20021),n)))}Dr(e,n){return DP(e).put(F4,n)}Cr(e,n){if(n){const r=gie(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(jt.min())))return r}return pr.newInvalidDocument(e)}}function WW(t){return new Iie(t)}class Rie extends VW{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Tc((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Kn(((s,a)=>en(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=uP(this.Nr.serializer,a);i=i.add(s.path.popLast());const c=lb(l);r+=c-o.size,n.push(this.Nr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=uP(this.Nr.serializer,a.convertToNoDocument(jt.min()));n.push(this.Nr.addEntry(e,s,l))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),ze.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function DP(t){return Ei(t,gy)}function Id(t){return Ei(t,tb)}function Wg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function AP(t,e){const n=e.documentKey.path.toArray();return[t,ab(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function NP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=en(n[s],r[s]),i)return i;return i=en(n.length,r.length),i||(i=en(n[n.length-2],r[r.length-2]),i||en(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&F0(r.mutation,i,Zs.empty(),On.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rn()){const i=pl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=y0();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=pl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=ea();const a=P0(),o=(function(){return P0()})();return n.forEach(((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ec)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),F0(u.mutation,c,u.mutation.getFieldMask(),On.now())):a.set(c.key,Zs.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),n.forEach(((c,u)=>o.set(c,new Pie(u,a.get(c)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=P0();let i=new Mr(((a,o)=>a-o)),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Zs.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||rn()).add(l);i=i.insert(o.batchId,f)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=sW();u.forEach((h=>{if(!s.has(h)){const p=fW(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ze.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Tt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ze.resolve(pl());let o=Hp,l=s;return a.next((c=>ze.forEach(c,((u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?ze.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{l=l.insert(u,h)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,rn()))).next((u=>({batchId:o,changes:iW(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Tt(n)).next((r=>{let i=y0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=y0();return this.indexManager.getCollectionParents(e,s).next((o=>ze.forEach(o,(l=>{const c=(function(f,h){return new wc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((u=>{u.forEach(((f,h)=>{a=a.insert(f,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,pr.newInvalidDocument(u)))}));let o=y0();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&F0(u.mutation,c,Zs.empty(),On.now()),yv(n,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ze.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Zr(i.createTime)}})(n)),ze.resolve()}getNamedQuery(e,n){return ze.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:s3(i.bundledQuery),readTime:Zr(i.readTime)}})(n)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(){this.overlays=new Mr(Tt.comparator),this.qr=new Map}getOverlay(e,n){return ze.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pl();return ze.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ze.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ze.resolve()}getOverlaysForCollection(e,n,r){const i=pl(),s=n.length+1,a=new Tt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Mr(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=pl(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=pl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=i)););return ze.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new n3(n,r));let s=this.qr.get(n);s===void 0&&(s=rn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.Qr=new Kn(Ri.$r),this.Ur=new Kn(Ri.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ri(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ri(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Tt(new gn([])),r=new Ri(n,e),i=new Ri(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Tt(new gn([])),r=new Ri(n,e),i=new Ri(n,e+1);let s=rn();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new Ri(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ri{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Tt.comparator(e.key,n.key)||en(e.Yr,n.Yr)}static Kr(e,n){return en(e.Yr,n.Yr)||Tt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kn(Ri.$r)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new e3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Ri(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ze.resolve(a)}lookupMutationBatch(e,n){return ze.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ze.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?_u:this.tr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ri(n,0),i=new Ri(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(en);return n.forEach((i=>{const s=new Ri(i,0),a=new Ri(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),ze.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Tt.isDocumentKey(s)||(s=s.child(""));const a=new Ri(new Tt(s),0);let o=new Kn(en);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)}),a),ze.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ze.forEach(n.mutations,(i=>{const s=new Ri(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ri(n,0),i=this.Zr.firstAfterOrEqual(r);return ze.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie{constructor(e){this.ri=e,this.docs=(function(){return new Mr(Tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ze.resolve(r?r.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let r=ea();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pr.newInvalidDocument(i))})),ze.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ea();const a=n.path,o=new Tt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||VN(_V(u),r)<=0||(i.has(u.key)||yv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ze.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Dt(9500)}ii(e,n){return ze.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new jie(this)}getSize(e){return ze.resolve(this.size)}}class jie extends VW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ze.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(e){this.persistence=e,this.si=new Tc((n=>xf(n)),mv),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new l3,this.targetCount=0,this.ai=Ef.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ze.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ef(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ze.resolve()}updateTargetData(e,n){return this.Pr(n),ze.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ze.waitFor(s).next((()=>i))}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ze.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ze.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ze.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ze.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ze.resolve(r)}containsKey(e,n){return ze.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qs(0),this.li=!1,this.li=!0,this.hi=new Uie,this.referenceDelegate=e(this),this.Pi=new Bie(this),this.indexManager=new Eie,this.remoteDocumentCache=(function(i){return new Lie(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IW(n),this.Ii=new Fie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Oie(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ut("MemoryPersistence","Starting transaction:",e);const i=new Vie(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ze.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Vie extends TV{constructor(e){super(),this.currentSequenceNumber=e}}class A_{constructor(e){this.persistence=e,this.Ri=new l3,this.Vi=null}static mi(e){return new A_(e)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ze.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ze.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.fi,(r=>{const i=Tt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,jt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ze.or([()=>ze.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cb{constructor(e,n){this.persistence=e,this.pi=new Tc((r=>vs(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=BW(this,n)}static mi(e,n){return new cb(e,n)}Ei(){}di(e){return ze.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ze.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ze.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,jt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=d2(e.data.value)),n}br(e,n,r){return ze.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ze.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e){this.serializer=e}k(e,n,r,i){const s=new y_("createOrUpgrade",n);r<1&&i>=1&&((function(l){l.createObjectStore(pv)})(e),(function(l){l.createObjectStore(my,{keyPath:ire}),l.createObjectStore(No,{keyPath:B8,autoIncrement:!0}).createIndex(Gd,V8,{unique:!0}),l.createObjectStore(Gp)})(e),kP(e),(function(l){l.createObjectStore(jd)})(e));let a=ze.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore(Xp),l.deleteObjectStore(Kp),l.deleteObjectStore(sf)})(e),kP(e)),a=a.next((()=>(function(l){const c=l.store(sf),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jt.min().toTimestamp(),targetCount:0};return c.put(nb,u)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(l,c){return c.store(No).J().next((f=>{l.deleteObjectStore(No),l.createObjectStore(No,{keyPath:B8,autoIncrement:!0}).createIndex(Gd,V8,{unique:!0});const h=c.store(No),p=f.map((v=>h.put(v)));return ze.waitFor(p)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore(Jp,{keyPath:hre})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore(gy)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore(v_,{keyPath:pre})})(e),(function(l){l.createObjectStore(x_,{keyPath:mre})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore(b_,{keyPath:wre});c.createIndex(U4,Tre,{unique:!1}),c.createIndex(IV,Ere,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore(tb,{keyPath:are});c.createIndex(c2,ore),c.createIndex(DV,lre)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(jd)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore($N,{keyPath:gre,autoIncrement:!0}).createIndex(M4,yre,{unique:!1}),l.createObjectStore(k0,{keyPath:vre}).createIndex(NV,xre,{unique:!1}),l.createObjectStore(I0,{keyPath:bre}).createIndex(kV,_re,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(k0).clear()})).next((()=>{n.objectStore(I0).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore(zN,{keyPath:Cre})})(e)}))),r<18&&i>=18&&GB()&&(a=a.next((()=>{n.objectStore(k0).clear()})).next((()=>{n.objectStore(I0).clear()}))),a}wi(e){let n=0;return e.store(jd).ee(((r,i)=>{n+=lb(i)})).next((()=>{const r={byteSize:n};return e.store(gy).put(F4,r)}))}yi(e){const n=e.store(my),r=e.store(No);return n.J().next((i=>ze.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,_u],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Gd,a).next((o=>ze.forEach(o,(l=>{Mt(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=Wd(this.serializer,l);return UW(e,s.userId,c).next((()=>{}))}))))}))))}Si(e){const n=e.store(Xp),r=e.store(jd);return e.store(sf).get(nb).next((i=>{const s=[];return r.ee(((a,o)=>{const l=new gn(a),c=(function(f){return[0,vs(f)]})(l);s.push(n.get(c).next((u=>u?ze.resolve():(f=>n.put({targetId:0,path:vs(f),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>ze.waitFor(s)))}))}bi(e,n){e.createObjectStore(yy,{keyPath:fre});const r=n.store(yy),i=new o3,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:vs(l)})}};return n.store(jd).ee({X:!0},((a,o)=>{const l=new gn(a);return s(l.popLast())})).next((()=>n.store(Gp).ee({X:!0},(([a,o,l],c)=>{const u=hl(o);return s(u.popLast())}))))}Di(e){const n=e.store(Kp);return n.ee(((r,i)=>{const s=x0(i),a=RW(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(jd),i=[];return r.ee(((s,a)=>{const o=n.store(tb),l=(function(f){return f.document?new Tt(gn.fromString(f.document.name).popFirst(5)):f.noDocument?Tt.fromSegments(f.noDocument.path):f.unknownDocument?Tt.fromSegments(f.unknownDocument.path):Dt(36783)})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>ze.waitFor(i)))}Fi(e,n){const r=n.store(No),i=WW(this.serializer),s=new c3(A_.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((l=>{let c=o.get(l.userId)??rn();Wd(this.serializer,l).keys().forEach((u=>c=c.add(u))),o.set(l.userId,c)})),ze.forEach(o,((l,c)=>{const u=new Mi(c),f=S_.wt(this.serializer,u),h=s.getIndexManager(u),p=D_.wt(u,this.serializer,h,s.referenceDelegate);return new qW(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new O4(n,Qs.ce),l).next()}))}))}}function kP(t){t.createObjectStore(Xp,{keyPath:ure}).createIndex(qN,dre,{unique:!0}),t.createObjectStore(Kp,{keyPath:"targetId"}).createIndex(AV,cre,{unique:!0}),t.createObjectStore(sf)}const iu="IndexedDbPersistence",JE=18e5,YE=5e3,QE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$W="main";class u3{constructor(e,n,r,i,s,a,o,l,c,u,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=c,this.Oi=u,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!u3.v())throw new st(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kie(this,i),this.$i=n+$W,this.serializer=new IW(l),this.Ui=new bl(this.$i,this.Ni,new Wie(this.serializer)),this.hi=new vie,this.Pi=new Sie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WW(this.serializer),this.Ii=new yie,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&Qr(iu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(et.FAILED_PRECONDITION,QE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Qs(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>xx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Ju(e))return ut(iu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut(iu,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return qg(e).get(Gh).next((n=>ze.resolve(this.es(n))))}ts(e){return xx(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,JE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Ei(n,Jp);return r.J().next((i=>{const s=this.ss(i,JE),a=i.filter((o=>s.indexOf(o)===-1));return ze.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ze.resolve(!0):qg(e).get(Gh).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,YE)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new st(et.FAILED_PRECONDITION,QE);return!1}}return!(!this.networkEnabled||!this.inForeground)||xx(e).J().next((r=>this.ss(r,YE).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ut(iu,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[pv,Jp],(e=>{const n=new O4(e,Qs.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>xx(e).J().next((n=>this.ss(n,JE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return D_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Cie(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return S_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ut(iu,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(l){return l===18?Are:l===17?MV:l===16?Dre:l===15?HN:l===14?FV:l===13?PV:l===12?Sre:l===11?RV:void Dt(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new O4(o,this.ci?this.ci.next():Qs.ce),n==="readwrite-primary"?this.Hi(a).next((l=>!!l||this.Yi(a))).next((l=>{if(!l)throw Qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new st(et.FAILED_PRECONDITION,wV);return r(a)})).next((l=>this.Xi(a).next((()=>l)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return qg(e).get(Gh).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,YE)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new st(et.FAILED_PRECONDITION,QE)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qg(e).put(Gh,n)}static v(){return bl.v()}Zi(e){const n=qg(e);return n.get(Gh).next((r=>this.es(r)?(ut(iu,"Releasing primary lease."),n.delete(Gh)):ze.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Qr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;HB()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return ut(iu,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qr(iu,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Qr("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qg(t){return Ei(t,pv)}function xx(t){return Ei(t,Jp)}function d3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=rn(),i=rn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f3(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HB()?8:EV(Fr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new qie;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(cp()<=pn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",up(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ze.resolve()):(cp()<=pn.DEBUG&&ut("QueryEngine","Query:",up(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(cp()<=pn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",up(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):ze.resolve())}ys(e,n){if(eP(n))return ze.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=sb(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=rn(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,sb(n,null,"F")):this.vs(e,c,n,l)}))))})))))}ws(e,n,r,i){return eP(n)||i.isEqual(jt.min())?ze.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ze.resolve(null):(cp()<=pn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),up(n)),this.vs(e,a,n,bV(i,Hp)).next((o=>o)))}))}Ds(e,n){let r=new Kn(nW(e));return n.forEach(((i,s)=>{yv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return cp()<=pn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",up(n)),this.ps.getDocumentsMatchingQuery(e,n,Aa.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="LocalStore",$ie=3e8;class zie{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Mr(en),this.xs=new Tc((s=>xf(s)),mv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function HW(t,e,n,r){return new zie(t,e,n,r)}async function GW(t,e){const n=St(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let l=rn();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function Hie(t,e){const n=St(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const f=c.batch,h=f.keys();let p=ze.resolve();return h.forEach((v=>{p=p.next((()=>u.getEntry(l,v))).next((g=>{const y=c.docVersions.get(v);Mt(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))}))})),p.next((()=>o.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let l=rn();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function KW(t){const e=St(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Gie(t,e){const n=St(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(s,u.addedDocuments,f))));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Wr.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),(function(g,y,_){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=$ie?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(h,p,u)&&o.push(n.Pi.updateTargetData(s,p))}));let l=ea(),c=rn();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(XW(s,a,e.documentUpdates).next((u=>{l=u.ks,c=u.qs}))),!r.isEqual(jt.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next((f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(u)}return ze.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function XW(t,e,n){let r=rn(),i=rn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=ea();return n.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(jt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ut(h3,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function Kie(t,e){const n=St(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_u),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function rm(t,e){const n=St(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ze.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Yl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function im(t,e,n){const r=St(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Ju(a))throw a;ut(h3,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function ub(t,e,n){const r=St(t);let i=jt.min(),s=rn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const f=St(l),h=f.xs.get(u);return h!==void 0?ze.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)})(r,a,Ms(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:jt.min(),n?s:rn()))).next((o=>(QW(r,tW(e),o),{documents:o,Qs:s})))))}function JW(t,e){const n=St(t),r=St(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function YW(t,e){const n=St(t),r=n.Os.get(e)||jt.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,bV(r,Hp),Number.MAX_SAFE_INTEGER))).then((i=>(QW(n,e,i),i)))}function QW(t,e,n){let r=t.Os.get(e)||jt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}async function Xie(t,e,n,r){const i=St(t);let s=rn(),a=ea();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(s=s.add(u));const f=e.Us(c);f.setReadTime(e.Ks(c.metadata.readTime)),a=a.insert(u,f)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await rm(i,(function(u){return Ms(Im(gn.fromString(`__bundle__/docs/${u}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>XW(c,o,a).next((u=>(o.apply(c),u))).next((u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Pi.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs))).next((()=>u.ks))))))}async function Jie(t,e,n=rn()){const r=await rm(t,Ms(s3(e.bundledQuery))),i=St(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Zr(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const o=r.withResumeToken(Wr.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(s,o).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW="firestore_clients";function IP(t,e){return`${ZW}_${t}_${e}`}const eq="firestore_mutations";function RP(t,e,n){let r=`${eq}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const tq="firestore_targets";function ZE(t,e){return`${tq}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="SharedClientState";class db{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new st(i.error.code,i.error.message))),a?new db(e,n,i.state,s):(Qr(ol,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class M0{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new st(r.error.code,r.error.message))),s?new M0(e,r.state,i):(Qr(ol,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fb{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=YN();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=CV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new fb(e,s):(Qr(ol,`Failed to parse client data for instance '${e}': ${n}`),null)}}class p3{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new p3(n.clientId,n.onlineState):(Qr(ol,`Failed to parse online state: ${e}`),null)}}class Z4{constructor(){this.activeTargetIds=YN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eC{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Mr(en),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=IP(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Z4),this.ro=new RegExp(`^${ZW}_${a}_([^_]*)$`),this.io=new RegExp(`^${eq}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${tq}_${a}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(IP(this.persistenceKey,r));if(i){const s=fb.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ZE(this.persistenceKey,e));if(i){const s=M0.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ZE(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ut(ol,"READ",e,n),n}setItem(e,n){ut(ol,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ut(ol,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ut(ol,"EVENT",n.key,n.newValue),n.key===this.eo)return void Qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let a=Qs.ce;if(s!=null)try{const o=JSON.parse(s);Mt(typeof o=="number",30636,{So:s}),a=o}catch(o){Qr(ol,"Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==Qs.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new db(this.currentUser,e,n,r),s=RP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=RP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=ZE(this.persistenceKey,e),s=new M0(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return fb.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return db.Ws(new Mi(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return M0.Ws(i,n)}uo(e){return p3.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ut(ol,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.Fo(a,o).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=YN();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class nq{constructor(){this.Mo=new Z4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Z4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="ConnectivityMonitor";class FP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(PP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(PP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bx=null;function eA(){return bx===null?bx=(function(){return 268435456+Math.round(2147483648*Math.random())})():bx++,"0x"+bx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="RestConnection",Qie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zie{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===j4?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=eA(),o=this.zo(e,n.toUriEncodedString());ut(tC,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=Il(c);return this.Jo(e,o,l,r,u).then((f=>(ut(tC,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw Cl(tC,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+km})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Qie[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="WebChannelConnection";class tse extends Zie{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=eA();return new Promise(((o,l)=>{const c=new cV;c.setWithCredentials(!0),c.listenOnce(uV.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case a2.NO_ERROR:const f=c.getResponseJson();ut(is,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case a2.TIMEOUT:ut(is,`RPC '${e}' ${a} timed out`),l(new st(et.DEADLINE_EXCEEDED,"Request time out"));break;case a2.HTTP_ERROR:const h=c.getStatus();if(ut(is,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=(function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(x)>=0?x:et.UNKNOWN})(v.status);l(new st(g,v.message))}else l(new st(et.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new st(et.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ut(is,`RPC '${e}' ${a} completed.`)}}));const u=JSON.stringify(i);ut(is,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)}))}T_(e,n,r){const i=eA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hV(),o=fV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ut(is,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);this.I_(f);let h=!1,p=!1;const v=new ese({Yo:y=>{p?ut(is,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ut(is,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ut(is,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,_,x)=>{y.listen(_,(w=>{try{x(w)}catch(C){setTimeout((()=>{throw C}),0)}}))};return g(f,g0.EventType.OPEN,(()=>{p||(ut(is,`RPC '${e}' stream ${i} transport opened.`),v.o_())})),g(f,g0.EventType.CLOSE,(()=>{p||(p=!0,ut(is,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))})),g(f,g0.EventType.ERROR,(y=>{p||(p=!0,Cl(is,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new st(et.UNAVAILABLE,"The operation could not be completed")))})),g(f,g0.EventType.MESSAGE,(y=>{var _;if(!p){const x=y.data[0];Mt(!!x,16349);const w=x,C=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(C){ut(is,`RPC '${e}' stream ${i} received error:`,C);const D=C.status;let R=(function(k){const F=li[k];if(F!==void 0)return mW(F)})(D),S=C.message;R===void 0&&(R=et.INTERNAL,S="Unknown error status: "+D+" with message "+C.message),p=!0,v.a_(new st(R,S)),f.close()}else ut(is,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}})),g(o,dV.STAT_EVENT,(y=>{y.stat===I4.PROXY?ut(is,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===I4.NOPROXY&&ut(is,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(){return typeof window<"u"?window:null}function g2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){return new aie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="PersistentStream";class iq{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new st(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(MP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ut(MP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nse extends iq{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cie(this.serializer,e),r=(function(s){if(!("targetChange"in s))return jt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?jt.min():a.readTime?Zr(a.readTime):jt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=K4(this.serializer),n.addTarget=(function(s,a){let o;const l=a.target;if(o=rb(l)?{documents:CW(s,l)}:{query:SW(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=xW(s,a.resumeToken);const c=H4(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(jt.min())>0){o.readTime=nm(s,a.snapshotVersion.toTimestamp());const c=H4(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=die(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=K4(this.serializer),n.removeTarget=e,this.q_(n)}}class rse extends iq{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uie(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=K4(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ty(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{}class sse extends ise{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new st(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,G4(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new st(et.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,G4(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new st(et.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ase{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="RemoteStore";class ose{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Qu(this)&&(ut(Cf,"Restarting streams for network reachability change."),await(async function(l){const c=St(l);c.Ea.add(4),await Fm(c),c.Ra.set("Unknown"),c.Ea.delete(4),await wv(c)})(this))}))})),this.Ra=new ase(r,i)}}async function wv(t){if(Qu(t))for(const e of t.da)await e(!0)}async function Fm(t){for(const e of t.da)await e(!1)}function N_(t,e){const n=St(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),v3(n)?y3(n):Um(n).O_()&&g3(n,e))}function sm(t,e){const n=St(t),r=Um(n);n.Ia.delete(e),r.O_()&&sq(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qu(n)&&n.Ra.set("Unknown"))}function g3(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Um(t).Y_(e)}function sq(t,e){t.Va.Ue(e),Um(t).Z_(e)}function y3(t){t.Va=new nie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Um(t).start(),t.Ra.ua()}function v3(t){return Qu(t)&&!Um(t).x_()&&t.Ia.size>0}function Qu(t){return St(t).Ea.size===0}function aq(t){t.Va=void 0}async function lse(t){t.Ra.set("Online")}async function cse(t){t.Ia.forEach(((e,n)=>{g3(t,e)}))}async function use(t,e){aq(t),v3(t)?(t.Ra.ha(e),y3(t)):t.Ra.set("Unknown")}async function dse(t,e,n){if(t.Ra.set("Online"),e instanceof vW&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){ut(Cf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hb(t,r)}else if(e instanceof p2?t.Va.Ze(e):e instanceof yW?t.Va.st(e):t.Va.tt(e),!n.isEqual(jt.min()))try{const r=await KW(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Wr.EMPTY_BYTE_STRING,u.snapshotVersion)),sq(s,l);const f=new Yl(u.target,l,c,u.sequenceNumber);g3(s,f)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){ut(Cf,"Failed to raise snapshot:",r),await hb(t,r)}}async function hb(t,e,n){if(!Ju(e))throw e;t.Ea.add(1),await Fm(t),t.Ra.set("Offline"),n||(n=()=>KW(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ut(Cf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wv(t)}))}function oq(t,e){return e().catch((n=>hb(t,n,e)))}async function Mm(t){const e=St(t),n=Mu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_u;for(;fse(e);)try{const i=await Kie(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,hse(e,i)}catch(i){await hb(e,i)}lq(e)&&cq(e)}function fse(t){return Qu(t)&&t.Ta.length<10}function hse(t,e){t.Ta.push(e);const n=Mu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function lq(t){return Qu(t)&&!Mu(t).x_()&&t.Ta.length>0}function cq(t){Mu(t).start()}async function pse(t){Mu(t).ra()}async function mse(t){const e=Mu(t);for(const n of t.Ta)e.ea(n.mutations)}async function gse(t,e,n){const r=t.Ta.shift(),i=t3.from(r,e,n);await oq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Mm(t)}async function yse(t,e){e&&Mu(t).X_&&await(async function(r,i){if((function(a){return pW(a)&&a!==et.ABORTED})(i.code)){const s=r.Ta.shift();Mu(r).B_(),await oq(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Mm(r)}})(t,e),lq(t)&&cq(t)}async function UP(t,e){const n=St(t);n.asyncQueue.verifyOperationInProgress(),ut(Cf,"RemoteStore received new credentials");const r=Qu(n);n.Ea.add(3),await Fm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wv(n)}async function tA(t,e){const n=St(t);e?(n.Ea.delete(2),await wv(n)):e||(n.Ea.add(2),await Fm(n),n.Ra.set("Unknown"))}function Um(t){return t.ma||(t.ma=(function(n,r,i){const s=St(n);return s.sa(),new nse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:lse.bind(null,t),t_:cse.bind(null,t),r_:use.bind(null,t),H_:dse.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),v3(t)?y3(t):t.Ra.set("Unknown")):(await t.ma.stop(),aq(t))}))),t.ma}function Mu(t){return t.fa||(t.fa=(function(n,r,i){const s=St(n);return s.sa(),new rse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pse.bind(null,t),r_:yse.bind(null,t),ta:mse.bind(null,t),na:gse.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Mm(t)):(await t.fa.stop(),t.Ta.length>0&&(ut(Cf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new x3(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),Ju(t))return new st(et.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{static emptySet(e){return new Sp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Tt.comparator(n.key,r.key):(n,r)=>Tt.comparator(n.key,r.key),this.keyedMap=y0(),this.sortedSet=new Mr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.ga=new Mr(Tt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Dt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class am{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new am(e,n,Sp.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xse{constructor(){this.queries=LP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=St(n),s=i.queries;i.queries=LP(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(r)}))})(this,new st(et.ABORTED,"Firestore shutting down"))}}function LP(){return new Tc((t=>eW(t)),gv)}async function b3(t,e){const n=St(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new vse,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Om(a,`Initialization of query '${up(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&w3(n)}async function _3(t,e){const n=St(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bse(t,e){const n=St(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&w3(n)}function _se(t,e,n){const r=St(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function w3(t){t.Ca.forEach((e=>{e.next()}))}var nA,jP;(jP=nA||(nA={})).Ma="default",jP.Cache="cache";class T3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new am(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=am.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.serializer=e}$s(e){return _l(this.serializer,e)}Us(e){return e.metadata.exists?EW(this.serializer,e.document,!1):pr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Zr(e)}}class Tse{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=uq(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=gn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new BP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||rn()).add(s);n.set(a,o)}}return n}async ja(e){const n=await Xie(e,new BP(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Jie(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function uq(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.key=e}}class fq{constructor(e){this.key=e}}class hq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rn(),this.mutatedKeys=rn(),this.eu=nW(e),this.tu=new Sp(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new OP,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const h=i.get(u),p=yv(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(a=a.add(p),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((u,f)=>(function(p,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:y})}};return g(p)-g(v)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new am(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new fq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new dq(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=rn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return am.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zu="SyncEngine";class Ese{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Cse{constructor(e){this.key=e,this.hu=!1}}class Sse{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Tc((o=>eW(o)),gv),this.Iu=new Map,this.Eu=new Set,this.du=new Mr(Tt.comparator),this.Au=new Map,this.Ru=new l3,this.Vu={},this.mu=new Map,this.fu=Ef.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Dse(t,e,n=!0){const r=k_(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await pq(r,e,n,!0),i}async function Ase(t,e){const n=k_(t);await pq(n,e,!0,!1)}async function pq(t,e,n,r){const i=await rm(t.localStore,Ms(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await E3(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&N_(t.remoteStore,i),o}async function E3(t,e,n,r,i){t.pu=(f,h,p)=>(async function(g,y,_,x){let w=y.view.ru(_);w.Cs&&(w=await ub(g.localStore,y.query,!1).then((({documents:S})=>y.view.ru(S,w))));const C=x&&x.targetChanges.get(y.targetId),D=x&&x.targetMismatches.get(y.targetId)!=null,R=y.view.applyChanges(w,g.isPrimaryClient,C,D);return rA(g,y.targetId,R.au),R.snapshot})(t,f,h,p);const s=await ub(t.localStore,e,!0),a=new hq(e,s.Qs),o=a.ru(s.documents),l=bv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);rA(t,n,c.au);const u=new Ese(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Nse(t,e,n){const r=St(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!gv(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await im(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sm(r.remoteStore,i.targetId),om(r,i.targetId)})).catch(Xu)):(om(r,i.targetId),await im(r.localStore,i.targetId,!0))}async function kse(t,e){const n=St(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sm(n.remoteStore,r.targetId))}async function Ise(t,e,n){const r=A3(t);try{const i=await(function(a,o){const l=St(a),c=On.now(),u=o.reduce(((p,v)=>p.add(v.key)),rn());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let v=ea(),g=rn();return l.Ns.getEntries(p,u).next((y=>{v=y,v.forEach(((_,x)=>{x.isValidDocument()||(g=g.add(_))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,v))).next((y=>{f=y;const _=[];for(const x of o){const w=Zre(x,f.get(x.key).overlayedDocument);w!=null&&_.push(new Ec(x.key,w,zV(w.value.mapValue),Tr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,o)})).next((y=>{h=y;const _=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)}))})).then((()=>({batchId:h.batchId,changes:iW(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Mr(en)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c})(r,i.batchId,n),await Cc(r,i.changes),await Mm(r.remoteStore)}catch(i){const s=Om(i,"Failed to persist write");n.reject(s)}}async function mq(t,e){const n=St(t);try{const r=await Gie(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Mt(a.hu,14607):i.removedDocuments.size>0&&(Mt(a.hu,42227),a.hu=!1))})),await Cc(n,r,e)}catch(r){await Xu(r)}}function VP(t,e,n){const r=St(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=St(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)})),c&&w3(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Rse(t,e,n){const r=St(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Mr(Tt.comparator);a=a.insert(s,pr.newNoDocument(s,jt.min()));const o=rn().add(s),l=new xv(jt.min(),new Map,new Mr(en),a,o);await mq(r,l),r.du=r.du.remove(s),r.Au.delete(e),D3(r)}else await im(r.localStore,e,!1).then((()=>om(r,e,n))).catch(Xu)}async function Pse(t,e){const n=St(t),r=e.batch.batchId;try{const i=await Hie(n.localStore,e);S3(n,r,null),C3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(n,i)}catch(i){await Xu(i)}}async function Fse(t,e,n){const r=St(t);try{const i=await(function(a,o){const l=St(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((f=>(Mt(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(r.localStore,e);S3(r,e,n),C3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cc(r,i)}catch(i){await Xu(i)}}async function Mse(t,e){const n=St(t);Qu(n.remoteStore)||ut(Zu,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=St(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(n.localStore);if(r===_u)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Om(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function C3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function S3(t,e,n){const r=St(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||gq(t,r)}))}function gq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),D3(t))}function rA(t,e,n){for(const r of n)r instanceof dq?(t.Ru.addReference(r.key,e),Use(t,r)):r instanceof fq?(ut(Zu,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||gq(t,r.key)):Dt(19791,{wu:r})}function Use(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ut(Zu,"New document in limbo: "+n),t.Eu.add(r),D3(t))}function D3(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Tt(gn.fromString(e)),r=t.fu.next();t.Au.set(r,new Cse(n)),t.du=t.du.insert(n,r),N_(t.remoteStore,new Yl(Ms(Im(n.path)),r,"TargetPurposeLimboResolution",Qs.ce))}}async function Cc(t,e,n){const r=St(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,l)=>{a.push(r.pu(l,e,n).then((c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=f3.As(l.targetId,c);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(l,c){const u=St(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>ze.forEach(c,(h=>ze.forEach(h.Es,(p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p))).next((()=>ze.forEach(h.ds,(p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))))))}catch(f){if(!Ju(f))throw f;ut(h3,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ms.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(h,g)}}})(r.localStore,s))}async function Ose(t,e){const n=St(t);if(!n.currentUser.isEqual(e)){ut(Zu,"User change. New user:",e.toKey());const r=await GW(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new st(et.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(n,r.Ls)}}function Lse(t,e){const n=St(t),r=n.Au.get(e);if(r&&r.hu)return rn().add(r.key);{let i=rn();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function jse(t,e){const n=St(t),r=await ub(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&rA(n,e.targetId,i.au),i}async function Bse(t,e){const n=St(t);return YW(n.localStore,e).then((r=>Cc(n,r)))}async function Vse(t,e,n,r){const i=St(t),s=await(function(o,l){const c=St(o),u=St(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(f=>u.er(f,l).next((h=>h?c.localDocuments.getDocuments(f,h):ze.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Mm(i.remoteStore):n==="acknowledged"||n==="rejected"?(S3(i,e,r||null),C3(i,e),(function(o,l){St(St(o).mutationQueue).ir(l)})(i.localStore,e)):Dt(6720,"Unknown batchState",{Su:n}),await Cc(i,s)):ut(Zu,"Cannot apply mutation batch with id: "+e)}async function Wse(t,e){const n=St(t);if(k_(n),A3(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await WP(n,r.toArray());n.gu=!0,await tA(n.remoteStore,!0);for(const s of i)N_(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(om(n,a),im(n.localStore,a,!0)))),sm(n.remoteStore,a)})),await i,await WP(n,r),(function(a){const o=St(a);o.Au.forEach(((l,c)=>{sm(o.remoteStore,c)})),o.Ru.Jr(),o.Au=new Map,o.du=new Mr(Tt.comparator)})(n),n.gu=!1,await tA(n.remoteStore,!1)}}async function WP(t,e,n){const r=St(t),i=[],s=[];for(const a of e){let o;const l=r.Iu.get(a);if(l&&l.length!==0){o=await rm(r.localStore,Ms(l[0]));for(const c of l){const u=r.Tu.get(c),f=await jse(r,u);f.snapshot&&s.push(f.snapshot)}}else{const c=await JW(r.localStore,a);o=await rm(r.localStore,c),await E3(r,yq(c),a,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(s),i}function yq(t){return ZV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qse(t){return(function(n){return St(St(n).persistence).Ts()})(St(t).localStore)}async function $se(t,e,n,r){const i=St(t);if(i.gu)return void ut(Zu,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await YW(i.localStore,tW(s[0])),o=xv.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Wr.EMPTY_BYTE_STRING);await Cc(i,a,o);break}case"rejected":await im(i.localStore,e,!0),om(i,e,r);break;default:Dt(64155,n)}}async function zse(t,e,n){const r=k_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ut(Zu,"Adding an already active target "+i);continue}const s=await JW(r.localStore,i),a=await rm(r.localStore,s);await E3(r,yq(s),a.targetId,!1,a.resumeToken),N_(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await im(r.localStore,i,!1).then((()=>{sm(r.remoteStore,i),om(r,i)})).catch(Xu)}}function k_(t){const e=St(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rse.bind(null,e),e.Pu.H_=bse.bind(null,e.eventManager),e.Pu.yu=_se.bind(null,e.eventManager),e}function A3(t){const e=St(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fse.bind(null,e),e}function Hse(t,e,n){const r=St(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(p,v){const g=St(p),y=Zr(v.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",(_=>g.Ii.getBundleMetadata(_,v.id))).then((_=>!!_&&_.createTime.compareTo(y)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(uq(l));const c=new Tse(l,a.serializer);let u=await a.bu();for(;u;){const h=await c.Ga(u);h&&o._updateProgress(h),u=await a.bu()}const f=await c.ja(s.localStore);return await Cc(s,f.Ha,void 0),await(function(p,v){const g=St(p);return g.persistence.runTransaction("Save bundle","readwrite",(y=>g.Ii.saveBundleMetadata(y,v)))})(s.localStore,l),o._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return Cl(Zu,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Ey{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_v(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HW(this.persistence,new zW,e.initialUser,this.serializer)}Cu(e){return new c3(A_.mi,this.serializer)}Du(e){return new nq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ey.provider={build:()=>new Ey};class Gse extends Ey{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Mt(this.persistence.referenceDelegate instanceof cb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new c3((r=>cb.mi(r,n)),this.serializer)}}class vq extends Ey{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await A3(this.xu.syncEngine),await Mm(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return HW(this.persistence,new zW,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new jW(r,e.asyncQueue,n)}Mu(e,n){const r=new nre(n,this.persistence);return new tre(e.asyncQueue,r)}Cu(e){const n=d3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new u3(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,rq(),g2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new nq}}class Kse extends vq{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof eC&&(this.sharedClientState.syncEngine={Co:Vse.bind(null,n),vo:$se.bind(null,n),Fo:zse.bind(null,n),Ts:qse.bind(null,n),Do:Bse.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await Wse(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=rq();if(!eC.v(n))throw new st(et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=d3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eC(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ose.bind(null,this.syncEngine),await tA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xse})()}createDatastore(e){const n=_v(e.databaseInfo.databaseId),r=(function(s){return new tse(s)})(e.databaseInfo);return(function(s,a,o,l){return new sse(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new ose(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>VP(this.syncEngine,n,0)),(function(){return FP.v()?new FP:new Yie})())}createSyncEngine(e,n){return(function(i,s,a,o,l,c,u){const f=new Sse(i,s,a,o,l,c);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=St(i);ut(Cf,"RemoteStore shutting down."),s.Ea.add(5),await Fm(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Cy.provider={build:()=>new Cy};function qP(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Qi,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new wse(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new st(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=St(i),o={documents:s.map((f=>wy(a.serializer,f)))},l=await a.Ho("BatchGetDocuments",a.serializer.databaseId,gn.emptyPath(),o,s.length),c=new Map;l.forEach((f=>{const h=lie(a.serializer,f);c.set(h.key.toString(),h)}));const u=[];return s.forEach((f=>{const h=c.get(f.toString());Mt(!!h,55234,{key:f}),u.push(h)})),u})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Tt.fromPath(r);this.mutations.push(new ZN(i,this.precondition(i)))})),await(async function(r,i){const s=St(r),a={writes:i.map((o=>Ty(s.serializer,o)))};await s.Go("Commit",s.serializer.databaseId,gn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Dt(50498,{Gu:e.constructor.name});n=jt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new st(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(jt.min())?Tr.exists(!1):Tr.updateTime(n):Tr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(jt.min()))throw new st(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tr.updateTime(n)}return Tr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new m3(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Jse(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!hv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!pW(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="FirestoreClient";class Qse{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mi.UNAUTHENTICATED,this.clientId=jN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{ut(Uu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(ut(Uu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Om(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nC(t,e){t.asyncQueue.verifyOperationInProgress(),ut(Uu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await GW(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $P(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N3(t);ut(Uu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>UP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>UP(e.remoteStore,i))),t._onlineComponents=e}async function N3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut(Uu,"Using user provided OfflineComponentProvider");try{await nC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await nC(t,new Ey)}}else ut(Uu,"Using default OfflineComponentProvider"),await nC(t,new Gse(void 0));return t._offlineComponents}async function R_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut(Uu,"Using user provided OnlineComponentProvider"),await $P(t,t._uninitializedComponentsProvider._online)):(ut(Uu,"Using default OnlineComponentProvider"),await $P(t,new Cy))),t._onlineComponents}function xq(t){return N3(t).then((e=>e.persistence))}function k3(t){return N3(t).then((e=>e.localStore))}function bq(t){return R_(t).then((e=>e.remoteStore))}function I3(t){return R_(t).then((e=>e.syncEngine))}function Zse(t){return R_(t).then((e=>e.datastore))}async function lm(t){const e=await R_(t),n=e.eventManager;return n.onListen=Dse.bind(null,e.syncEngine),n.onUnlisten=Nse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ase.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kse.bind(null,e.syncEngine),n}function eae(t){return t.asyncQueue.enqueue((async()=>{const e=await xq(t),n=await bq(t);return e.setNetworkEnabled(!0),(function(i){const s=St(i);return s.Ea.delete(0),wv(s)})(n)}))}function tae(t){return t.asyncQueue.enqueue((async()=>{const e=await xq(t),n=await bq(t);return e.setNetworkEnabled(!1),(async function(i){const s=St(i);s.Ea.add(0),await Fm(s),s.Ra.set("Offline")})(n)}))}function nae(t,e){const n=new Qi;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,u){const f=St(c);return f.persistence.runTransaction("read document","readonly",(h=>f.localDocuments.getDocument(h,u)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new st(et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Om(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await k3(t),e,n))),n.promise}function _q(t,e,n={}){const r=new Qi;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new I_({next:h=>{u.Nu(),a.enqueueAndForget((()=>_3(s,f)));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new st(et.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new st(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new T3(Im(o.path),u,{includeMetadataChanges:!0,qa:!0});return b3(s,f)})(await lm(t),t.asyncQueue,e,n,r))),r.promise}function rae(t,e){const n=new Qi;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await ub(i,s,!0),l=new hq(s,o.Qs),c=l.ru(o.documents),u=l.applyChanges(c,!1);a.resolve(u.snapshot)}catch(o){const l=Om(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await k3(t),e,n))),n.promise}function wq(t,e,n={}){const r=new Qi;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new I_({next:h=>{u.Nu(),a.enqueueAndForget((()=>_3(s,f))),h.fromCache&&l.source==="server"?c.reject(new st(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new T3(o,u,{includeMetadataChanges:!0,qa:!0});return b3(s,f)})(await lm(t),t.asyncQueue,e,n,r))),r.promise}function iae(t,e){const n=new I_(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){St(i).Ca.add(s),s.next()})(await lm(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){St(i).Ca.delete(s)})(await lm(t),n)))}}function sae(t,e,n,r){const i=(function(a,o){let l;return l=typeof a=="string"?gW().encode(a):a,(function(u,f){return new Xse(u,f)})((function(u,f){if(u instanceof Uint8Array)return qP(u,f);if(u instanceof ArrayBuffer)return qP(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(n,_v(e));t.asyncQueue.enqueueAndForget((async()=>{Hse(await I3(t),i,r)}))}function aae(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=St(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Ii.getNamedQuery(a,i)))})(await k3(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="firestore.googleapis.com",HP=!0;class GP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eq,this.ssl=HP}else this.host=e.host,this.ssl=e.ssl??HP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Die)throw new st(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qne;switch(r.type){case"firstParty":return new Gne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zP.get(n);r&&(ut("ComponentProvider","Removing Datastore"),zP.delete(n),r.terminate())})(this),Promise.resolve()}}function oae(t,e,n,r={}){var c;t=In(t,Tv);const i=Il(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(d_(`https://${o}`),f_("Firestore",!0)),s.host!==Eq&&s.host!==o&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!fc(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Mi.MOCK_USER;else{u=NN(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new st(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Mi(h)}t._authCredentials=new $ne(new mV(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js=class Cq{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cq(this.firestore,e,this._query)}},or=class b0{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new b0(this.firestore,e,this._key)}toJSON(){return{type:b0._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fv(n,b0._jsonSchema))return new b0(e,r||null,new Tt(gn.fromString(n.referencePath)))}};or._jsonSchemaVersion="firestore/documentReference/1.0",or._jsonSchema={type:fi("string",or._jsonSchemaVersion),referencePath:fi("string")};let Tu=class Sq extends js{constructor(e,n,r){super(e,n,Im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Tt(e))}withConverter(e){return new Sq(this.firestore,e,this._path)}};function Dq(t,e,...n){if(t=Nt(t),BN("collection","path",e),t instanceof Tv){const r=gn.fromString(e,...n);return M8(r),new Tu(t,null,r)}{if(!(t instanceof or||t instanceof Tu))throw new st(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gn.fromString(e,...n));return M8(r),new Tu(t.firestore,null,r)}}function lae(t,e){if(t=In(t,Tv),BN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new js(t,null,(function(r){return new wc(gn.emptyPath(),r)})(e))}function pb(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=jN.newId()),BN("doc","path",e),t instanceof Tv){const r=gn.fromString(e,...n);return F8(r),new or(t,null,new Tt(r))}{if(!(t instanceof or||t instanceof Tu))throw new st(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gn.fromString(e,...n));return F8(r),new or(t.firestore,t instanceof Tu?t.converter:null,new Tt(r))}}function Aq(t,e){return t=Nt(t),e=Nt(e),(t instanceof or||t instanceof Tu)&&(e instanceof or||e instanceof Tu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Nq(t,e){return t=Nt(t),e=Nt(e),t instanceof js&&e instanceof js&&t.firestore===e.firestore&&gv(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="AsyncQueue";class XP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m3(this,"async_queue_retry"),this._c=()=>{const r=g2();r&&ut(KP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=g2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=g2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ju(e))throw e;ut(KP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",JP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=x3.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Dt(47125,{Pc:JP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function JP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class cae{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uae=-1;let ni=class extends Tv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XP(e),this._firestoreClient=void 0,await e}}};function Ts(t){if(t._terminated)throw new st(et.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kq(t),t._firestoreClient}function kq(t){var r,i,s;const e=t._freezeSettings(),n=(function(o,l,c,u){return new Ire(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Tq(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Qse(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}function dae(t,e){Cl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Iq(t,Cy.provider,{build:r=>new vq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function fae(t){Cl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Iq(t,Cy.provider,{build:n=>new Kse(n,e.cacheSizeBytes)})}function Iq(t,e,n){if((t=In(t,ni))._firestoreClient||t._terminated)throw new st(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new st(et.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},kq(t)}function hae(t){if(t._initialized&&!t._terminated)throw new st(et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qi;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!bl.v())return Promise.resolve();const i=r+$W;await bl.delete(i)})(d3(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function pae(t){return(function(n){const r=new Qi;return n.asyncQueue.enqueueAndForget((async()=>Mse(await I3(n),r))),r.promise})(Ts(t=In(t,ni)))}function mae(t){return eae(Ts(t=In(t,ni)))}function gae(t){return tae(Ts(t=In(t,ni)))}function yae(t,e){const n=Ts(t=In(t,ni)),r=new cae;return sae(n,t._databaseId,e,r),r}function vae(t,e){return aae(Ts(t=In(t,ni)),e).then((n=>n?new js(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hs(Wr.fromBase64String(e))}catch(n){throw new st(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hs(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fv(e,hs._jsonSchema))return hs.fromBase64String(e.bytes)}}hs._jsonSchemaVersion="firestore/bytes/1.0",hs._jsonSchema={type:fi("string",hs._jsonSchemaVersion),bytes:fi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new st(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mo._jsonSchemaVersion}}static fromJSON(e){if(fv(e,Mo._jsonSchema))return new Mo(e.latitude,e.longitude)}}Mo._jsonSchemaVersion="firestore/geoPoint/1.0",Mo._jsonSchema={type:fi("string",Mo._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fv(e,wl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new wl(e.vectorValues);throw new st(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wl._jsonSchemaVersion="firestore/vectorValue/1.0",wl._jsonSchema={type:fi("string",wl._jsonSchemaVersion),vectorValues:fi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae=/^__.*__$/;class bae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ec(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rm(e,this.data,n,this.fieldTransforms)}}class Rq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ec(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:t})}}class P_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new P_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Pq(this.Ac)&&xae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _ae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_v(e)}Cc(e,n,r,i=!1){return new P_({Ac:e,methodName:n,Dc:r,path:wr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(t){const e=t._freezeSettings(),n=_v(t._databaseId);return new _ae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F_(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);L3("Data must be an object, but it was:",a,r);const o=Uq(r,a);let l,c;if(s.merge)l=new Zs(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=sA(e,f,n);if(!a.contains(h))throw new st(et.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Lq(u,h)||u.push(h)}l=new Zs(u),c=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,c=a.fieldTransforms;return new bae(new Ji(o),l,c)}class Ev extends Hf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ev}}function Fq(t,e,n){return new P_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class R3 extends Hf{_toFieldTransform(e){return new vv(e.path,new em)}isEqual(e){return e instanceof R3}}class P3 extends Hf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Fq(this,e,!0),r=this.vc.map((s=>Kf(s,n))),i=new bf(r);return new vv(e.path,i)}isEqual(e){return e instanceof P3&&fc(this.vc,e.vc)}}class F3 extends Hf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Fq(this,e,!0),r=this.vc.map((s=>Kf(s,n))),i=new _f(r);return new vv(e.path,i)}isEqual(e){return e instanceof F3&&fc(this.vc,e.vc)}}class M3 extends Hf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new tm(e.serializer,oW(e.serializer,this.Fc));return new vv(e.path,n)}isEqual(e){return e instanceof M3&&this.Fc===e.Fc}}function U3(t,e,n,r){const i=t.Cc(1,e,n);L3("Data must be an object, but it was:",i,r);const s=[],a=Ji.empty();Yu(r,((l,c)=>{const u=j3(e,l,n);c=Nt(c);const f=i.yc(u);if(c instanceof Ev)s.push(u);else{const h=Kf(c,f);h!=null&&(s.push(u),a.set(u,h))}}));const o=new Zs(s);return new Rq(a,o,i.fieldTransforms)}function O3(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[sA(e,r,n)],l=[i];if(s.length%2!=0)throw new st(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(sA(e,s[h])),l.push(s[h+1]);const c=[],u=Ji.empty();for(let h=o.length-1;h>=0;--h)if(!Lq(c,o[h])){const p=o[h];let v=l[h];v=Nt(v);const g=a.yc(p);if(v instanceof Ev)c.push(p);else{const y=Kf(v,g);y!=null&&(c.push(p),u.set(p,y))}}const f=new Zs(c);return new Rq(u,f,a.fieldTransforms)}function Mq(t,e,n,r=!1){return Kf(n,t.Cc(r?4:3,e))}function Kf(t,e){if(Oq(t=Nt(t)))return L3("Unsupported field value:",e,t),Uq(t,e);if(t instanceof Hf)return(function(r,i){if(!Pq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let l=Kf(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=On.fromDate(r);return{timestampValue:nm(i.serializer,s)}}if(r instanceof On){const s=new On(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nm(i.serializer,s)}}if(r instanceof Mo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hs)return{bytesValue:xW(i.serializer,r._byteString)};if(r instanceof or){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:i3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wl)return(function(a,o){return{mapValue:{fields:{[GN]:{stringValue:KN},[Yp]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return QN(o.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${g_(r)}`)})(t,e)}function Uq(t,e){const n={};return UV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yu(t,((r,i)=>{const s=Kf(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Oq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof On||t instanceof Mo||t instanceof hs||t instanceof or||t instanceof Hf||t instanceof wl)}function L3(t,e,n){if(!Oq(n)||!vV(n)){const r=g_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function sA(t,e,n){if((e=Nt(e))instanceof Ou)return e._internalPath;if(typeof e=="string")return j3(t,e);throw mb("Field path arguments must be of type string or ",t,!1,void 0,n)}const wae=new RegExp("[~\\*/\\[\\]]");function j3(t,e,n){if(e.search(wae)>=0)throw mb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ou(...e.split("."))._internalPath}catch{throw mb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new st(et.INVALID_ARGUMENT,o+t+l)}function Lq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(M_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Tae extends Sy{data(){return super.data()}}function M_(t,e){return typeof e=="string"?j3(t,e):e instanceof Ou?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new st(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B3{}let Cv=class extends B3{};function su(t,e,...n){let r=[];e instanceof B3&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((l=>l instanceof V3)).length,o=s.filter((l=>l instanceof U_)).length;if(a>1||a>0&&o>0)throw new st(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class U_ extends Cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new U_(e,n,r)}_apply(e){const n=this._parse(e);return zq(e._query,n),new js(e.firestore,e.converter,z4(e._query,n))}_parse(e){const n=Gf(e.firestore);return(function(s,a,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new st(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){QP(f,u);const v=[];for(const g of f)v.push(YP(l,s,g));h={arrayValue:{values:v}}}else h=YP(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||QP(f,u),h=Mq(o,a,f,u==="in"||u==="not-in");return yn.create(c,u,h)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Eae(t,e,n){const r=e,i=M_("where",t);return U_._create(i,r,n)}class V3 extends B3{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V3(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)zq(a,l),a=z4(a,l)})(e._query,n),new js(e.firestore,e.converter,z4(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W3 extends Cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new W3(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new st(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new st(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _y(s,a)})(e._query,this._field,this._direction);return new js(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new wc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Cae(t,e="asc"){const n=e,r=M_("orderBy",t);return W3._create(r,n)}class O_ extends Cv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new O_(e,n,r)}_apply(e){return new js(e.firestore,e.converter,sb(e._query,this._limit,this._limitType))}}function Sae(t){return xV("limit",t),O_._create("limit",t,"F")}function Dae(t){return xV("limitToLast",t),O_._create("limitToLast",t,"L")}let Bq=class Vq extends Cv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Vq(e,n,r)}_apply(e){const n=$q(e,this.type,this._docOrFields,this._inclusive);return new js(e.firestore,e.converter,(function(i,s){return new wc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}};function Aae(...t){return Bq._create("startAt",t,!0)}function Nae(...t){return Bq._create("startAfter",t,!1)}let Wq=class qq extends Cv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new qq(e,n,r)}_apply(e){const n=$q(e,this.type,this._docOrFields,this._inclusive);return new js(e.firestore,e.converter,(function(i,s){return new wc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}};function kae(...t){return Wq._create("endBefore",t,!1)}function Iae(...t){return Wq._create("endAt",t,!0)}function $q(t,e,n,r){if(n[0]=Nt(n[0]),n[0]instanceof Sy)return(function(s,a,o,l,c){if(!l)throw new st(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const f of Cp(s))if(f.field.isKeyField())u.push(vf(a,l.key));else{const h=l.data.field(f.field);if(__(h))throw new st(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new st(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Fu(u,c)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Gf(t.firestore);return(function(a,o,l,c,u,f){const h=a.explicitOrderBy;if(u.length>h.length)throw new st(et.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const g=u[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new st(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!JN(a)&&g.indexOf("/")!==-1)throw new st(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const y=a.path.child(gn.fromString(g));if(!Tt.isDocumentKey(y))throw new st(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const _=new Tt(y);p.push(vf(o,_))}else{const y=Mq(l,c,g);p.push(y)}}return new Fu(p,f)})(t._query,t.firestore._databaseId,i,e,n,r)}}function YP(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new st(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JN(e)&&n.indexOf("/")!==-1)throw new st(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gn.fromString(n));if(!Tt.isDocumentKey(r))throw new st(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vf(t,new Tt(r))}if(n instanceof or)return vf(t,n._key);throw new st(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g_(n)}.`)}function QP(t,e){if(!Array.isArray(t)||t.length===0)throw new st(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zq(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new st(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q3{convertValue(e,n="none"){switch(Ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yu(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Yp].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>_r(a.doubleValue)));return new wl(n)}convertGeoPoint(e){return new Mo(_r(e.latitude),_r(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=w_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vy(e));default:return null}}convertTimestamp(e){const n=pc(e);return new On(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gn.fromString(e);Mt(kW(r),9688,{name:e});const i=new Iu(r.get(1),r.get(3)),s=new Tt(r.popFirst(5));return i.isEqual(n)||Qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Rae extends q3{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,n)}}class Kd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let eo=class Hq extends Sy{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new U0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(M_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hq._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:fi("string",eo._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};let U0=class extends eo{data(e={}){return super.data(e)}},Uo=class Gq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new U0(this._firestore,this._userDataWriter,r.key,r,new Kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new U0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new U0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Pae(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gq._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Pae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:t})}}function Kq(t,e){return t instanceof eo&&e instanceof eo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Uo&&e instanceof Uo&&t._firestore===e._firestore&&Nq(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fae(t){t=In(t,or);const e=In(t.firestore,ni);return _q(Ts(e),t._key).then((n=>$3(e,t,n)))}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:fi("string",Uo._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class Xf extends q3{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,n)}}function Mae(t){t=In(t,or);const e=In(t.firestore,ni),n=Ts(e),r=new Xf(e);return nae(n,t._key).then((i=>new eo(e,r,t._key,i,new Kd(i!==null&&i.hasLocalMutations,!0),t.converter)))}function Uae(t){t=In(t,or);const e=In(t.firestore,ni);return _q(Ts(e),t._key,{source:"server"}).then((n=>$3(e,t,n)))}function Oae(t){t=In(t,js);const e=In(t.firestore,ni),n=Ts(e),r=new Xf(e);return jq(t._query),wq(n,t._query).then((i=>new Uo(e,r,t,i)))}function Lae(t){t=In(t,js);const e=In(t.firestore,ni),n=Ts(e),r=new Xf(e);return rae(n,t._query).then((i=>new Uo(e,r,t,i)))}function jae(t){t=In(t,js);const e=In(t.firestore,ni),n=Ts(e),r=new Xf(e);return wq(n,t._query,{source:"server"}).then((i=>new Uo(e,r,t,i)))}function ZP(t,e,n){t=In(t,or);const r=In(t.firestore,ni),i=L_(t.converter,e,n);return Sv(r,[F_(Gf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Tr.none())])}function eF(t,e,n,...r){t=In(t,or);const i=In(t.firestore,ni),s=Gf(i);let a;return a=typeof(e=Nt(e))=="string"||e instanceof Ou?O3(s,"updateDoc",t._key,e,n,r):U3(s,"updateDoc",t._key,e),Sv(i,[a.toMutation(t._key,Tr.exists(!0))])}function Bae(t){return Sv(In(t.firestore,ni),[new Pm(t._key,Tr.none())])}function Vae(t,e){const n=In(t.firestore,ni),r=pb(t),i=L_(t.converter,e);return Sv(n,[F_(Gf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then((()=>r))}function Xq(t,...e){var l,c,u;t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||iA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iA(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(u=f.complete)==null?void 0:u.bind(f)}let s,a,o;if(t instanceof or)a=In(t.firestore,ni),o=Im(t._key.path),s={next:f=>{e[r]&&e[r]($3(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=In(t,js);a=In(f.firestore,ni),o=f._query;const h=new Xf(a);s={next:p=>{e[r]&&e[r](new Uo(a,h,f,p))},error:e[r+1],complete:e[r+2]},jq(t._query)}return(function(h,p,v,g){const y=new I_(g),_=new T3(p,y,v);return h.asyncQueue.enqueueAndForget((async()=>b3(await lm(h),_))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>_3(await lm(h),_)))}})(Ts(a),o,i,s)}function Wae(t,e){return iae(Ts(t=In(t,ni)),iA(e)?e:{next:e})}function Sv(t,e){return(function(r,i){const s=new Qi;return r.asyncQueue.enqueueAndForget((async()=>Ise(await I3(r),i,s))),s.promise})(Ts(t),e)}function $3(t,e,n){const r=n.docs.get(e._key),i=new Xf(t);return new eo(t,i,e._key,r,new Kd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qae={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $ae=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gf(e)}set(e,n,r){this._verifyNotCommitted();const i=fu(e,this._firestore),s=L_(i.converter,n,r),a=F_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Tr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=fu(e,this._firestore);let a;return a=typeof(n=Nt(n))=="string"||n instanceof Ou?O3(this._dataReader,"WriteBatch.update",s._key,n,r,i):U3(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fu(e,this._firestore);return this._mutations=this._mutations.concat(new Pm(n._key,Tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function fu(t,e){if((t=Nt(t)).firestore!==e)throw new st(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gf(e)}get(e){const n=fu(e,this._firestore),r=new Rae(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Dt(24041);const s=i[0];if(s.isFoundDocument())return new Sy(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Sy(this._firestore,r,n._key,null,n.converter);throw Dt(18433,{doc:s})}))}set(e,n,r){const i=fu(e,this._firestore),s=L_(i.converter,n,r),a=F_(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=fu(e,this._firestore);let a;return a=typeof(n=Nt(n))=="string"||n instanceof Ou?O3(this._dataReader,"Transaction.update",s._key,n,r,i):U3(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=fu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hae=class extends zae{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=fu(e,this._firestore),r=new Xf(this._firestore);return super.get(e).then((i=>new eo(this._firestore,r,n._key,i._document,new Kd(!1,!1),n.converter)))}};function Gae(t,e,n){t=In(t,ni);const r={...qae,...n};return(function(s){if(s.maxAttempts<1)throw new st(et.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,o){const l=new Qi;return s.asyncQueue.enqueueAndForget((async()=>{const c=await Zse(s);new Yse(s.asyncQueue,c,o,a,l).ju()})),l.promise})(Ts(t),(i=>e(new Hae(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(){return new Ev("deleteField")}function Xae(){return new R3("serverTimestamp")}function Jae(...t){return new P3("arrayUnion",t)}function Yae(...t){return new F3("arrayRemove",t)}function Qae(t){return new M3("increment",t)}(function(e,n=!0){(function(i){km=i})(Rl),El(new Ls("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ni(new zne(r.getProvider("auth-internal")),new Kne(a,r.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new st(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(c.options.projectId,u)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Fs(k8,I8,e),Fs(k8,I8,"esm2020")})();const Zae="@firebase/firestore-compat",eoe="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new st("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(){if(typeof Uint8Array>"u")throw new st("unimplemented","Uint8Arrays are not available in this environment.")}function nF(){if(!Nre())throw new st("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Jq=class aA{constructor(e){this._delegate=e}static fromBase64String(e){return nF(),new aA(hs.fromBase64String(e))}static fromUint8Array(e){return tF(),new aA(hs.fromUint8Array(e))}toBase64(){return nF(),this._delegate.toBase64()}toUint8Array(){return tF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){return toe(t,["next","error","complete"])}function toe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{enableIndexedDbPersistence(e,n){return dae(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return fae(e._delegate)}clearIndexedDbPersistence(e){return hae(e._delegate)}}class Yq{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Iu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Cl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){oae(this._delegate,e,n,r)}enableNetwork(){return mae(this._delegate)}disableNetwork(){return gae(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,yV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return pae(this._delegate)}onSnapshotsInSync(e){return Wae(this._delegate,e)}get app(){if(!this._appCompat)throw new st("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cm(this,Dq(this._delegate,e))}catch(n){throw ks(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,pb(this._delegate,e))}catch(n){throw ks(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ny(this,lae(this._delegate,e))}catch(n){throw ks(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Gae(this._delegate,n=>e(new Qq(this,n)))}batch(){return Ts(this._delegate),new Zq(new $ae(this._delegate,e=>Sv(this._delegate,e)))}loadBundle(e){return yae(this._delegate,e)}namedQuery(e){return vae(this._delegate,e).then(n=>n?new Ny(this,n):null)}}class j_ extends q3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jq(new hs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(n,this.firestore,null)}}function roe(t){Vne(t)}class Qq{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new j_(e)}get(e){const n=Xd(e);return this._delegate.get(n).then(r=>new Dy(this._firestore,new eo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Xd(e);return r?(z3("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Xd(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Xd(e);return this._delegate.delete(n),this}}class Zq{constructor(e){this._delegate=e}set(e,n,r){const i=Xd(e);return r?(z3("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Xd(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Xd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Sf{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new U0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ay(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Sf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Sf(e,new j_(e),n),i.set(n,s)),s}}Sf.INSTANCES=new WeakMap;class Ya{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new j_(e)}static forPath(e,n,r){if(e.length%2!==0)throw new st("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(n,new or(n._delegate,r,new Tt(e)))}static forKey(e,n,r){return new Ya(n,new or(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new cm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cm(this.firestore,Dq(this._delegate,e))}catch(n){throw ks(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Nt(e),e instanceof or?Aq(this._delegate,e):!1}set(e,n){n=z3("DocumentReference.set",n);try{return n?ZP(this._delegate,e,n):ZP(this._delegate,e)}catch(r){throw ks(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?eF(this._delegate,e):eF(this._delegate,e,n,...r)}catch(i){throw ks(i,"updateDoc()","DocumentReference.update()")}}delete(){return Bae(this._delegate)}onSnapshot(...e){const n=e$(e),r=t$(e,i=>new Dy(this.firestore,new eo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Xq(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Mae(this._delegate):(e==null?void 0:e.source)==="server"?n=Uae(this._delegate):n=Fae(this._delegate),n.then(r=>new Dy(this.firestore,new eo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,e?this._delegate.withConverter(Sf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ks(t,e,n){return t.message=t.message.replace(e,n),t}function e$(t){for(const e of t)if(typeof e=="object"&&!oA(e))return e;return{}}function t$(t,e){var r,i;let n;return oA(t[0])?n=t[0]:oA(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Dy{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Kq(this._delegate,e._delegate)}}class Ay extends Dy{data(e){const n=this._delegate.data(e);return this._delegate._converter||Wne(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}let Ny=class rl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new j_(e)}where(e,n,r){try{return new rl(this.firestore,su(this._delegate,Eae(e,n,r)))}catch(i){throw ks(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new rl(this.firestore,su(this._delegate,Cae(e,n)))}catch(r){throw ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rl(this.firestore,su(this._delegate,Sae(e)))}catch(n){throw ks(n,"limit()","Query.limit()")}}limitToLast(e){try{return new rl(this.firestore,su(this._delegate,Dae(e)))}catch(n){throw ks(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rl(this.firestore,su(this._delegate,Aae(...e)))}catch(n){throw ks(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rl(this.firestore,su(this._delegate,Nae(...e)))}catch(n){throw ks(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rl(this.firestore,su(this._delegate,kae(...e)))}catch(n){throw ks(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rl(this.firestore,su(this._delegate,Iae(...e)))}catch(n){throw ks(n,"endAt()","Query.endAt()")}}isEqual(e){return Nq(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Lae(this._delegate):(e==null?void 0:e.source)==="server"?n=jae(this._delegate):n=Oae(this._delegate),n.then(r=>new lA(this.firestore,new Uo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=e$(e),r=t$(e,i=>new lA(this.firestore,new Uo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Xq(this._delegate,n,r)}withConverter(e){return new rl(this.firestore,e?this._delegate.withConverter(Sf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class ioe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ay(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ny(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ay(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new ioe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Ay(this._firestore,r))})}isEqual(e){return Kq(this._delegate,e._delegate)}}class cm extends Ny{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return e===void 0?new Ya(this.firestore,pb(this._delegate)):new Ya(this.firestore,pb(this._delegate,e))}catch(n){throw ks(n,"doc()","CollectionReference.doc()")}}add(e){return Vae(this._delegate,e).then(n=>new Ya(this.firestore,n))}isEqual(e){return Aq(this._delegate,e._delegate)}withConverter(e){return new cm(this.firestore,e?this._delegate.withConverter(Sf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xd(t){return In(t,or)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(...e){this._delegate=new Ou(...e)}static documentId(){return new H3(wr.keyField().canonicalString())}isEqual(e){return e=Nt(e),e instanceof Ou?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{static serverTimestamp(){const e=Xae();return e._methodName="FieldValue.serverTimestamp",new zd(e)}static delete(){const e=Kae();return e._methodName="FieldValue.delete",new zd(e)}static arrayUnion(...e){const n=Jae(...e);return n._methodName="FieldValue.arrayUnion",new zd(n)}static arrayRemove(...e){const n=Yae(...e);return n._methodName="FieldValue.arrayRemove",new zd(n)}static increment(e){const n=Qae(e);return n._methodName="FieldValue.increment",new zd(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const soe={Firestore:Yq,GeoPoint:Mo,Timestamp:On,Blob:Jq,Transaction:Qq,WriteBatch:Zq,DocumentReference:Ya,DocumentSnapshot:Dy,Query:Ny,QueryDocumentSnapshot:Ay,QuerySnapshot:lA,CollectionReference:cm,FieldPath:H3,FieldValue:zd,setLogLevel:roe,CACHE_SIZE_UNLIMITED:uae};function aoe(t,e){t.INTERNAL.registerComponent(new Ls("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...soe}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t){aoe(t,(e,n)=>new Yq(e,n,new noe)),t.registerVersion(Zae,eoe)}ooe(Br);const $g={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Zh={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function loe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function n$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const coe=loe,uoe=n$,r$=new $f("auth","Firebase",n$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Nm("@firebase/auth");function doe(t,...e){gb.logLevel<=pn.WARN&&gb.warn(`Auth (${Rl}): ${t}`,...e)}function y2(t,...e){gb.logLevel<=pn.ERROR&&gb.error(`Auth (${Rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw K3(t,...e)}function bi(t,...e){return K3(t,...e)}function G3(t,e,n){const r={...uoe(),[e]:n};return new $f("auth","Firebase",r).create(e,{appName:t.name})}function Bi(t){return G3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zi(t,"argument-error"),G3(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return r$.create(t,...e)}function pt(t,e,...n){if(!t)throw K3(e,...n)}function ml(t){const e="INTERNAL ASSERTION FAILED: "+t;throw y2(e),new Error(e)}function Bo(t,e){t||ml(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function X3(){return rF()==="http:"||rF()==="https:"}function rF(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function foe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X3()||$B()||"connection"in navigator)?navigator.onLine:!0}function hoe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bo(n>e,"Short delay should be less than long delay!"),this.isMobile=kN()||p_()}get(){return foe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t,e){Bo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ml("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ml("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ml("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const moe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],goe=new Dv(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hr(t,e,n,r,i={}){return s$(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=zf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return cte()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(c.credentials="include"),i$.fetch()(await a$(t,t.config.apiHost,n,o),c)})}async function s$(t,e,n){t._canInitEmulator=!1;const r={...poe,...e};try{const i=new voe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw _0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw _0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw _0(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw G3(t,u,c);Zi(t,u)}}catch(i){if(i instanceof ys)throw i;Zi(t,"network-request-failed",{message:String(i)})}}async function Sc(t,e,n,r,i={}){const s=await Hr(t,e,n,r,i);return"mfaPendingCredential"in s&&Zi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function a$(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?J3(t.config,i):`${t.config.apiScheme}://${i}`;return moe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function yoe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class voe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),goe.get())})}}function _0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){return t!==void 0&&t.getResponse!==void 0}function sF(t){return t!==void 0&&t.enterprise!==void 0}class o${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yoe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xoe(t){return(await Hr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function l$(t,e){return Hr(t,"GET","/v2/recaptchaConfig",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function boe(t,e){return Hr(t,"POST","/v1/accounts:delete",e)}async function _oe(t,e){return Hr(t,"POST","/v1/accounts:update",e)}async function yb(t,e){return Hr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function woe(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=B_(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:O0(rC(i.auth_time)),issuedAtTime:O0(rC(i.iat)),expirationTime:O0(rC(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rC(t){return Number(t)*1e3}function B_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return y2("JWT malformed, contained fewer than 3 sections"),null;try{const i=oy(n);return i?JSON.parse(i):(y2("Failed to decode base64 JWT payload"),null)}catch(i){return y2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aF(t){const e=B_(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&Toe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Toe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eoe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=O0(this.lastLoginAt),this.creationTime=O0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var f;const e=t.auth,n=await t.getIdToken(),r=await gc(t,yb(e,{idToken:n}));pt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?c$(i.providerUserInfo):[],a=Soe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new cA(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Coe(t){const e=Nt(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Soe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function c$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Doe(t,e){const n=await s$(t,{},async()=>{const r=zf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await a$(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(l.credentials="include"),i$.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aoe(t,e){return Hr(t,"POST","/v2/accounts:revokeToken",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const n=aF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Doe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Dp;return r&&(pt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(pt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(pt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dp,this.toJSON())}_performRefresh(){return ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Io{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Eoe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await gc(this,this.stsTokenManager.getToken(this.auth,e));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return woe(this,e)}reload(){return Coe(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Io({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await gc(this,boe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:g}=n;pt(f&&g,e,"internal-error");const y=Dp.fromJSON(this.name,g);pt(typeof f=="string",e,"internal-error"),au(r,e.name),au(i,e.name),pt(typeof h=="boolean",e,"internal-error"),pt(typeof p=="boolean",e,"internal-error"),au(s,e.name),au(a,e.name),au(o,e.name),au(l,e.name),au(c,e.name),au(u,e.name);const _=new Io({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(_.providerData=v.map(x=>({...x}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dp;i.updateFromServerResponse(n);const s=new Io({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Iy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?c$(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Dp;o.updateFromIdToken(r);const l=new Io({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new Map;function Ea(t){Bo(t instanceof Function,"Expected a class definition");let e=oF.get(t);return e?(Bo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u$.type="NONE";const um=u$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){return`firebase:${t}:${e}:${n}`}class Ap{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=af(this.userKey,i.apiKey,s),this.fullPersistenceKey=af("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yb(this.auth,{idToken:e}).catch(()=>{});return n?Io._fromGetAccountInfoResponse(this.auth,n,e):null}return Io._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ap(Ea(um),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ea(um);const a=af(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let f;if(typeof u=="string"){const h=await yb(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Io._fromGetAccountInfoResponse(e,h,u)}else f=Io._fromJSON(e,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ap(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Ap(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m$(e))return"Blackberry";if(g$(e))return"Webos";if(f$(e))return"Safari";if((e.includes("chrome/")||h$(e))&&!e.includes("edge/"))return"Chrome";if(Av(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function d$(t=Fr()){return/firefox\//i.test(t)}function f$(t=Fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h$(t=Fr()){return/crios\//i.test(t)}function p$(t=Fr()){return/iemobile/i.test(t)}function Av(t=Fr()){return/android/i.test(t)}function m$(t=Fr()){return/blackberry/i.test(t)}function g$(t=Fr()){return/webos/i.test(t)}function Nv(t=Fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Noe(t=Fr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function koe(t=Fr()){var e;return Nv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Ioe(){return zB()&&document.documentMode===10}function y$(t=Fr()){return Nv(t)||Av(t)||g$(t)||m$(t)||/windows phone/i.test(t)||p$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t,e=[]){let n;switch(t){case"Browser":n=lF(Fr());break;case"Worker":n=`${lF(Fr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Poe(t,e={}){return Hr(t,"GET","/v2/passwordPolicy",zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe=6;class Moe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Foe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cF(this),this.idTokenSubscription=new cF(this),this.beforeStateQueue=new Roe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ea(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ap.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yb(this,{idToken:e}),r=await Io._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(sr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hoe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Bi(this));const n=e?Nt(e):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Poe(this),n=new Moe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $f("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ea(e)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Ap.create(this,[Ea(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&doe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ur(t){return Nt(t)}class cF{constructor(e){this.auth=e,this.observer=null,this.addObserver=XB(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ooe(t){kv=t}function Y3(t){return kv.loadJS(t)}function Loe(){return kv.recaptchaV2Script}function joe(){return kv.recaptchaEnterpriseScript}function Boe(){return kv.gapiScript}function x$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Voe=500,Woe=6e4,_x=1e12;class qoe{constructor(e){this.auth=e,this.counter=_x,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Hoe(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||_x;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||_x;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||_x;return(r=this._widgets.get(n))==null||r.execute(),""}}class $oe{constructor(){this.enterprise=new zoe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zoe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Hoe{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;pt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Goe(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Woe)},Voe))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Goe(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const Koe="recaptcha-enterprise",L0="NO_RECAPTCHA";class b${constructor(e){this.type=Koe,this.auth=Ur(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{l$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new o$(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;sF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(L0)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $oe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&sF(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=joe();l.length!==0&&(l+=o),Y3(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function zg(t,e,n,r=!1,i=!1){const s=new b$(t);let a;if(i)a=L0;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Eu(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await zg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await zg(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await zg(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await zg(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await zg(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function Xoe(t){const e=Ur(t),n=await l$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new o$(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new b$(e).verify()}function Joe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ea);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Yoe(t,e,n){const r=Ur(t);pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=_$(e),{host:a,port:o}=Qoe(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(fc(c,r.config.emulator)&&fc(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Il(a)?(d_(`${s}//${a}${l}`),f_("Auth",!0)):i||Zoe()}function _$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qoe(t){const e=_$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uF(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:uF(a)}}}function uF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zoe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ml("not implemented")}_getIdTokenResponse(e){return ml("not implemented")}_linkToIdToken(e,n){return ml("not implemented")}_getReauthenticationResolver(e){return ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e){return Hr(t,"POST","/v1/accounts:resetPassword",zr(t,e))}async function ele(t,e){return Hr(t,"POST","/v1/accounts:update",e)}async function tle(t,e){return Hr(t,"POST","/v1/accounts:signUp",e)}async function nle(t,e){return Hr(t,"POST","/v1/accounts:update",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rle(t,e){return Sc(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))}async function V_(t,e){return Hr(t,"POST","/v1/accounts:sendOobCode",zr(t,e))}async function ile(t,e){return V_(t,e)}async function sle(t,e){return V_(t,e)}async function ale(t,e){return V_(t,e)}async function ole(t,e){return V_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lle(t,e){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}async function cle(t,e){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends jm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ry(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ry(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eu(e,n,"signInWithPassword",rle,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return lle(e,{email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eu(e,r,"signUpPassword",tle,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cle(e,{idToken:n,email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e){return Sc(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule="http://localhost";class Dl extends jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Dl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:ule,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){return Hr(t,"POST","/v1/accounts:sendVerificationCode",zr(t,e))}async function dle(t,e){return Sc(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,e))}async function fle(t,e){const n=await Sc(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,e));if(n.temporaryProof)throw _0(t,"account-exists-with-different-credential",n);return n}const hle={USER_NOT_FOUND:"user-not-found"};async function ple(t,e){const n={...e,operation:"REAUTH"};return Sc(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,n),hle)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends jm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new of({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new of({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return dle(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return fle(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return ple(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new of({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gle(t){const e=bp(m0(t)).link,n=e?bp(m0(e)).deep_link_id:null,r=bp(m0(t)).deep_link_id;return(r?bp(m0(r)).link:null)||r||n||e||t}class W_{constructor(e){const n=bp(m0(e)),r=n.apiKey??null,i=n.oobCode??null,s=mle(n.mode??null);pt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gle(e);try{return new W_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.providerId=ed.PROVIDER_ID}static credential(e,n){return Ry._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=W_.parseLink(n);return pt(r,"argument-error"),Ry._fromEmailAndCode(e,r.code,r.tenantId)}}ed.PROVIDER_ID="password";ed.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ed.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends Dc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Np extends Bm{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return pt("providerId"in n&&"signInMethod"in n,"argument-error"),Dl._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return pt(e.idToken||e.accessToken,"argument-error"),Dl._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Np.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Np.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!n&&!s||!o)return null;try{return new Np(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Bm{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ll.credential(e.oauthAccessToken)}catch{return null}}}ll.FACEBOOK_SIGN_IN_METHOD="facebook.com";ll.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Bm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dl._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cl.credential(n,r)}catch{return null}}}cl.GOOGLE_SIGN_IN_METHOD="google.com";cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Bm{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ul.credential(e.oauthAccessToken)}catch{return null}}}ul.GITHUB_SIGN_IN_METHOD="github.com";ul.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle="http://localhost";class dm extends jm{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new dm(r,s)}static _create(e,n){return new dm(e,n)}buildRequest(){return{requestUri:yle,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle="saml.";class vb extends Dc{constructor(e){pt(e.startsWith(vle),"argument-error"),super(e)}static credentialFromResult(e){return vb.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return vb.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=dm.fromJSON(e);return pt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return dm._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Bm{constructor(){super("twitter.com")}static credential(e,n){return Dl._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dl.credential(n,r)}catch{return null}}}dl.TWITTER_SIGN_IN_METHOD="twitter.com";dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e){return Sc(t,"POST","/v1/accounts:signUp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Io._fromIdTokenResponse(e,r,i),a=fF(r);return new so({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fF(r);return new so({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xle(t){var i;if(sr(t.app))return Promise.reject(Bi(t));const e=Ur(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new so({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await T$(e,{returnSecureToken:!0}),r=await so._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends ys{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xb(e,n,r,i)}}function E$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xb._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ble(t,e){const n=Nt(t);await q_(!0,n,e);const{providerUserInfo:r}=await _oe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=C$(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Q3(t,e,n=!1){const r=await gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return so._forOperation(t,"link",r)}async function q_(t,e,n){await Iy(e);const r=C$(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";pt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(Bi(r));const i="reauthenticate";try{const s=await gc(t,E$(r,i,e,t),n);pt(s.idToken,r,"internal-error");const a=B_(s.idToken);pt(a,r,"internal-error");const{sub:o}=a;return pt(t.uid===o,r,"user-mismatch"),so._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e,n=!1){if(sr(t.app))return Promise.reject(Bi(t));const r="signIn",i=await E$(t,r,e),s=await so._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $_(t,e){return D$(Ur(t),e)}async function A$(t,e){const n=Nt(t);return await q_(!1,n,e.providerId),Q3(n,e)}async function N$(t,e){return S$(Nt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _le(t,e){return Sc(t,"POST","/v1/accounts:signInWithCustomToken",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wle(t,e){if(sr(t.app))return Promise.reject(Bi(t));const n=Ur(t),r=await _le(n,{token:e,returnSecureToken:!0}),i=await so._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Z3._fromServerResponse(e,n):"totpInfo"in n?ek._fromServerResponse(e,n):Zi(e,"internal-error")}}class Z3 extends Iv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Z3(n)}}class ek extends Iv{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new ek(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e,n){var r;pt(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),pt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),pt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(pt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(t){const e=Ur(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tle(t,e,n){const r=Ur(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&z_(r,i,n),await Eu(r,i,"getOobCode",sle,"EMAIL_PASSWORD_PROVIDER")}async function Ele(t,e,n){await w$(Nt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tk(t),r})}async function Cle(t,e){await nle(Nt(t),{oobCode:e})}async function k$(t,e){const n=Nt(t),r=await w$(n,{oobCode:e}),i=r.requestType;switch(pt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pt(r.mfaInfo,n,"internal-error");default:pt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Iv._fromServerResponse(Ur(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Sle(t,e){const{data:n}=await k$(Nt(t),e);return n.email}async function Dle(t,e,n){if(sr(t.app))return Promise.reject(Bi(t));const r=Ur(t),a=await Eu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T$,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&tk(t),l}),o=await so._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Ale(t,e,n){return sr(t.app)?Promise.reject(Bi(t)):$_(Nt(t),ed.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nle(t,e,n){const r=Ur(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){pt(o.handleCodeInApp,r,"argument-error"),o&&z_(r,a,o)}s(i,n),await Eu(r,i,"getOobCode",ale,"EMAIL_PASSWORD_PROVIDER")}function kle(t,e){const n=W_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Ile(t,e,n){if(sr(t.app))return Promise.reject(Bi(t));const r=Nt(t),i=ed.credentialWithLink(e,n||ky());return pt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rle(t,e){return Hr(t,"POST","/v1/accounts:createAuthUri",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ple(t,e){const n=X3()?ky():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Rle(Nt(t),r);return i||[]}async function Fle(t,e){const n=Nt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&z_(n.auth,i,e);const{email:s}=await ile(n.auth,i);s!==t.email&&await t.reload()}async function Mle(t,e,n){const r=Nt(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&z_(r.auth,s,n);const{email:a}=await ole(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ule(t,e){return Hr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ole(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Nt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await gc(r,Ule(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Lle(t,e){const n=Nt(t);return sr(n.auth.app)?Promise.reject(Bi(n.auth)):I$(n,e,null)}function jle(t,e){return I$(Nt(t),null,e)}async function I$(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await gc(t,ele(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ble(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(s=(i=B_(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new kp(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Vle(r,n);case"github.com":return new Wle(r,n);case"google.com":return new qle(r,n);case"twitter.com":return new $le(r,n,t.screenName||null);case"custom":case"anonymous":return new kp(r,null);default:return new kp(r,e,n)}}class kp{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class R$ extends kp{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Vle extends kp{constructor(e,n){super(e,"facebook.com",n)}}class Wle extends R${constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class qle extends kp{constructor(e,n){super(e,"google.com",n)}}class $le extends R${constructor(e,n,r){super(e,"twitter.com",n,r)}}function zle(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Ble(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Jd("enroll",e,n)}static _fromMfaPendingCredential(e){return new Jd("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Jd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Jd._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ur(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>Iv._fromServerResponse(r,o));pt(i.mfaPendingCredential,r,"internal-error");const a=Jd._fromMfaPendingCredential(i.mfaPendingCredential);return new nk(a,s,async o=>{const l=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const u=await so._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return pt(n.user,r,"internal-error"),so._forOperation(n.user,n.operationType,c);default:Zi(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Hle(t,e){var i;const n=Nt(t),r=e;return pt(e.customData.operationType,n,"argument-error"),pt((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),nk._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t,e){return Hr(t,"POST","/v2/accounts/mfaEnrollment:start",zr(t,e))}function Gle(t,e){return Hr(t,"POST","/v2/accounts/mfaEnrollment:finalize",zr(t,e))}function Kle(t,e){return Hr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",zr(t,e))}class rk{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Iv._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new rk(e)}async getSession(){return Jd._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await gc(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await gc(this.user,Kle(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const iC=new WeakMap;function Xle(t){const e=Nt(t);return iC.has(e)||iC.set(e,rk._fromUser(e)),iC.get(e)}const bb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bb,"1"),this.storage.removeItem(bb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jle=1e3,Yle=10;class F$ extends P${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Ioe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Yle):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Jle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F$.type="LOCAL";const ik=F$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M$ extends P${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M$.type="SESSION";const Df=M$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new H_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await Qle(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}H_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Rv("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function ece(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function tce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rce(){return sk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="firebaseLocalStorageDb",ice=1,_b="firebaseLocalStorage",O$="fbase_key";class Pv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function G_(t,e){return t.transaction([_b],e?"readwrite":"readonly").objectStore(_b)}function sce(){const t=indexedDB.deleteDatabase(U$);return new Pv(t).toPromise()}function uA(){const t=indexedDB.open(U$,ice);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_b,{keyPath:O$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_b)?e(r):(r.close(),await sce(),e(await uA()))})})}async function pF(t,e,n){const r=G_(t,!0).put({[O$]:e,value:n});return new Pv(r).toPromise()}async function ace(t,e){const n=G_(t,!1).get(e),r=await new Pv(n).toPromise();return r===void 0?null:r.value}function mF(t,e){const n=G_(t,!0).delete(e);return new Pv(n).toPromise()}const oce=800,lce=3;class L${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=H_._getInstance(rce()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await tce(),!this.activeServiceWorker)return;this.sender=new Zle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uA();return await pF(e,bb,"1"),await mF(e,bb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ace(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=G_(i,!1).getAll();return new Pv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L$.type="LOCAL";const Py=L$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t,e){return Hr(t,"POST","/v2/accounts/mfaSignIn:start",zr(t,e))}function cce(t,e){return Hr(t,"POST","/v2/accounts/mfaSignIn:finalize",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=x$("rcb"),uce=new Dv(3e4,6e4);class dce{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=di().grecaptcha)!=null&&e.render)}load(e,n=""){return pt(fce(n),e,"argument-error"),this.shouldResolveImmediately(n)&&iF(di().grecaptcha)?Promise.resolve(di().grecaptcha):new Promise((r,i)=>{const s=di().setTimeout(()=>{i(bi(e,"network-request-failed"))},uce.get());di()[sC]=()=>{di().clearTimeout(s),delete di()[sC];const o=di().grecaptcha;if(!o||!iF(o)){i(bi(e,"internal-error"));return}const l=o.render;o.render=(c,u)=>{const f=l(c,u);return this.counter++,f},this.hostLanguage=n,r(o)};const a=`${Loe()}?${zf({onload:sC,render:"explicit",hl:n})}`;Y3(a).catch(()=>{clearTimeout(s),i(bi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=di().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fce(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class hce{async load(e){return new qoe(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="recaptcha",pce={theme:"light",type:"image"};let mce=class{constructor(e,n,r={...pce}){this.parameters=r,this.type=j0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ur(e),this.isInvisible=this.parameters.size==="invisible",pt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;pt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hce:new dce,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pt(!this.parameters.sitekey,this.auth,"argument-error"),pt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=di()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){pt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pt(X3()&&!sk(),this.auth,"internal-error"),await gce(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await xoe(this.auth);pt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function gce(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=of._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function yce(t,e,n){if(sr(t.app))return Promise.reject(Bi(t));const r=Ur(t),i=await K_(r,e,Nt(n));return new ak(i,s=>$_(r,s))}async function vce(t,e,n){const r=Nt(t);await q_(!1,r,"phone");const i=await K_(r.auth,e,Nt(n));return new ak(i,s=>A$(r,s))}async function xce(t,e,n){const r=Nt(t);if(sr(r.auth.app))return Promise.reject(Bi(r.auth));const i=await K_(r.auth,e,Nt(n));return new ak(i,s=>N$(r,s))}async function K_(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Xoe(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){pt(s.type==="enroll",t,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Eu(t,a,"mfaSmsEnrollment",async(u,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===L0){pt((n==null?void 0:n.type)===j0,u,"argument-error");const h=await aC(u,f,n);return hF(u,h)}return hF(u,f)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{pt(s.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;pt(a,t,"missing-multi-factor-info");const o={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Eu(t,o,"mfaSmsSignIn",async(f,h)=>{if(h.phoneSignInInfo.captchaResponse===L0){pt((n==null?void 0:n.type)===j0,f,"argument-error");const p=await aC(f,h,n);return gF(f,p)}return gF(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Eu(t,s,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===L0){pt((n==null?void 0:n.type)===j0,c,"argument-error");const f=await aC(c,u,n);return dF(c,f)}return dF(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function bce(t,e){const n=Nt(t);if(sr(n.auth.app))return Promise.reject(Bi(n.auth));await Q3(n,e)}async function aC(t,e,n){pt(n.type===j0,t,"argument-error");const r=await n.verify();pt(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=class v2{constructor(e){this.providerId=v2.PROVIDER_ID,this.auth=Ur(e)}verifyPhoneNumber(e,n){return K_(this.auth,e,Nt(n))}static credential(e,n){return of._fromVerification(e,n)}static credentialFromResult(e){const n=e;return v2.credentialFromTaggedObject(n)}static credentialFromError(e){return v2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?of._fromTokenResponse(n,r):null}};Af.PROVIDER_ID="phone";Af.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t,e){return e?Ea(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok extends jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _ce(t){return D$(t.auth,new ok(t),t.bypassAuthState)}function wce(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),S$(n,new ok(t),t.bypassAuthState)}async function Tce(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),Q3(n,new ok(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _ce;case"linkViaPopup":case"linkViaRedirect":return Tce;case"reauthViaPopup":case"reauthViaRedirect":return wce;default:Zi(this.auth,"internal-error")}}resolve(e){Bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ece=new Dv(2e3,1e4);async function Cce(t,e,n){if(sr(t.app))return Promise.reject(bi(t,"operation-not-supported-in-this-environment"));const r=Ur(t);Lm(t,e,Dc);const i=Jf(r,n);return new Ql(r,"signInViaPopup",e,i).executeNotNull()}async function Sce(t,e,n){const r=Nt(t);if(sr(r.auth.app))return Promise.reject(bi(r.auth,"operation-not-supported-in-this-environment"));Lm(r.auth,e,Dc);const i=Jf(r.auth,n);return new Ql(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Dce(t,e,n){const r=Nt(t);Lm(r.auth,e,Dc);const i=Jf(r.auth,n);return new Ql(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ql extends j${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Bo(this.filter.length===1,"Popup operations only handle one event");const e=Rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ece.get())};e()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ace="pendingRedirect",B0=new Map;class Nce extends j${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=B0.get(this.auth._key());if(!e){try{const r=await kce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}B0.set(this.auth._key(),e)}return this.bypassAuthState||B0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kce(t,e){const n=V$(e),r=B$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function lk(t,e){return B$(t)._set(V$(e),"true")}function Ice(){B0.clear()}function ck(t,e){B0.set(t._key(),e)}function B$(t){return Ea(t._redirectPersistence)}function V$(t){return af(Ace,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rce(t,e,n){return Pce(t,e,n)}async function Pce(t,e,n){if(sr(t.app))return Promise.reject(Bi(t));const r=Ur(t);Lm(t,e,Dc),await r._initializationPromise;const i=Jf(r,n);return await lk(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Fce(t,e,n){return Mce(t,e,n)}async function Mce(t,e,n){const r=Nt(t);if(Lm(r.auth,e,Dc),sr(r.auth.app))return Promise.reject(Bi(r.auth));await r.auth._initializationPromise;const i=Jf(r.auth,n);await lk(i,r.auth);const s=await W$(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function Uce(t,e,n){return Oce(t,e,n)}async function Oce(t,e,n){const r=Nt(t);Lm(r.auth,e,Dc),await r.auth._initializationPromise;const i=Jf(r.auth,n);await q_(!1,r,e.providerId),await lk(i,r.auth);const s=await W$(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function Lce(t,e){return await Ur(t)._initializationPromise,X_(t,e,!1)}async function X_(t,e,n=!1){if(sr(t.app))return Promise.reject(Bi(t));const r=Ur(t),i=Jf(r,e),a=await new Nce(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function W$(t){const e=Rv(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce=600*1e3;class q${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$$(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jce&&this.cachedEventUids.clear(),this.cachedEventUids.has(yF(e))}saveEventToCache(e){this.cachedEventUids.add(yF(e)),this.lastProcessedEventTime=Date.now()}}function yF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z$(t,e={}){return Hr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wce=/^https?/;async function qce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z$(t);for(const n of e)try{if($ce(n))return}catch{}Zi(t,"unauthorized-domain")}function $ce(t){const e=ky(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Wce.test(n))return!1;if(Vce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce=new Dv(3e4,6e4);function vF(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Hce(t){return new Promise((e,n)=>{var i,s,a;function r(){vF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vF(),n(bi(t,"network-request-failed"))},timeout:zce.get()})}if((s=(i=di().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=di().gapi)!=null&&a.load)r();else{const o=x$("iframefcb");return di()[o]=()=>{gapi.load?r():n(bi(t,"network-request-failed"))},Y3(`${Boe()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw x2=null,e})}let x2=null;function Gce(t){return x2=x2||Hce(t),x2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kce=new Dv(5e3,15e3),Xce="__/auth/iframe",Jce="emulator/auth/iframe",Yce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zce(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?J3(e,Jce):`https://${t.config.authDomain}/${Xce}`,r={apiKey:e.apiKey,appName:t.name,v:Rl},i=Qce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zf(r).slice(1)}`}async function eue(t){const e=await Gce(t),n=di().gapi;return pt(n,t,"internal-error"),e.open({where:document.body,url:Zce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yce,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=bi(t,"network-request-failed"),o=di().setTimeout(()=>{s(a)},Kce.get());function l(){di().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nue=500,rue=600,iue="_blank",sue="http://localhost";class xF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aue(t,e,n,r=nue,i=rue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...tue,width:r.toString(),height:i.toString(),top:s,left:a},c=Fr().toLowerCase();n&&(o=h$(c)?iue:n),d$(c)&&(e=e||sue,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(koe(c)&&o!=="_self")return oue(e||"",o),new xF(null);const f=window.open(e||"",o,u);pt(f,t,"popup-blocked");try{f.focus()}catch{}return new xF(f)}function oue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue="__/auth/handler",cue="emulator/auth/handler",uue=encodeURIComponent("fac");async function dA(t,e,n,r,i,s){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rl,eventId:i};if(e instanceof Dc){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",J2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof Bm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${uue}=${encodeURIComponent(l)}`:"";return`${due(t)}?${zf(o).slice(1)}${c}`}function due({config:t}){return t.emulator?J3(t,cue):`https://${t.authDomain}/${lue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="webStorageSupport";class fue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Df,this._completeRedirectFn=X_,this._overrideRedirectResult=ck}async _openPopup(e,n,r,i){var a;Bo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await dA(e,n,r,ky(),i);return aue(e,s,Rv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dA(e,n,r,ky(),i);return ece(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Bo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eue(e),r=new q$(e);return n.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(oC,{type:oC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[oC];s!==void 0&&n(!!s),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y$()||f$()||Nv()}}const hue=fue;class pue{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ml("unexpected MultiFactorSessionType")}}}class uk extends pue{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new uk(e)}_finalizeEnroll(e,n,r){return Gle(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return cce(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class H${constructor(){}static assertion(e){return uk._fromCredential(e)}}H$.FACTOR_ID="phone";var bF="@firebase/auth",_F="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yue(t){El(new Ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;pt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v$(t)},c=new Uoe(r,i,s,l);return Joe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),El(new Ls("auth-internal",e=>{const n=Ur(e.getProvider("auth").getImmediate());return(r=>new mue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(bF,_F,gue(t)),Fs(bF,_F,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vue=300;ste("authIdTokenMaxAge");function xue(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Ooe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=bi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yue("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bue=2e3;async function _ue(t,e,n){const{BuildInfo:r}=Nf();Bo(e.sessionId,"AuthEvent did not contain a session ID");const i=await Sue(e.sessionId),s={};return Nv()?s.ibi=r.packageName:Av()?s.apn=r.packageName:Zi(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,dA(t,n,e.type,void 0,e.eventId??void 0,s)}async function wue(t){const{BuildInfo:e}=Nf(),n={};Nv()?n.iosBundleId=e.packageName:Av()?n.androidPackageName=e.packageName:Zi(t,"operation-not-supported-in-this-environment"),await z$(t,n)}function Tue(t){const{cordova:e}=Nf();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Noe()?"_blank":"_system","location=yes"),n(i)})})}async function Eue(t,e,n){const{cordova:r}=Nf();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var h;s();const f=(h=r.plugins.browsertab)==null?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(bi(t,"redirect-cancelled-by-user"))},bue))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Av()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}function Cue(t){var n,r,i,s,a,o,l,c,u,f;const e=Nf();pt(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pt(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pt(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pt(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pt(typeof((f=(u=e==null?void 0:e.cordova)==null?void 0:u.InAppBrowser)==null?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Sue(t){const e=Due(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Due(t){if(Bo(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=20;class Nue extends q${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function kue(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Pue(),postBody:null,tenantId:t.tenantId,error:bi(t,"no-auth-event")}}function Iue(t,e){return fA()._set(hA(t),e)}async function wF(t){const e=await fA()._get(hA(t));return e&&await fA()._remove(hA(t)),e}function Rue(t,e){var r,i;const n=Mue(e);if(n.includes("/__/auth/callback")){const s=b2(n),a=s.firebaseError?Fue(decodeURIComponent(s.firebaseError)):null,o=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?bi(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function Pue(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Aue;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function fA(){return Ea(ik)}function hA(t){return af("authEvent",t.config.apiKey,t.name)}function Fue(t){try{return JSON.parse(t)}catch{return null}}function Mue(t){const e=b2(t),n=e.link?decodeURIComponent(e.link):void 0,r=b2(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return b2(i).link||i||r||n||t}function b2(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return bp(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue=500;class Oue{constructor(){this._redirectPersistence=Df,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=X_,this._overrideRedirectResult=ck}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Nue(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Zi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Cue(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Ice(),await this._originValidation(e);const a=kue(e,r,i);await Iue(e,a);const o=await _ue(e,a,n),l=await Tue(o);return Eue(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wue(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Nf(),a=setTimeout(async()=>{await wF(e),n.onEvent(TF())},Uue),o=async u=>{clearTimeout(a);const f=await wF(e);let h=null;f&&(u!=null&&u.url)&&(h=Rue(f,u.url)),n.onEvent(h||TF())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${s.packageName.toLowerCase()}://`;Nf().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&o({url:u}),typeof l=="function")try{l(u)}catch(f){console.error(f)}}}}const Lue=Oue;function TF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bi("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(t,e){Ur(t)._logFramework(e)}var Bue="@firebase/auth-compat",Vue="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wue=1e3;function V0(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function que(){return V0()==="http:"||V0()==="https:"}function G$(t=Fr()){return!!((V0()==="file:"||V0()==="ionic:"||V0()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function $ue(){return p_()||h_()}function zue(){return zB()&&(document==null?void 0:document.documentMode)===11}function Hue(t=Fr()){return/Edge\/\d+/.test(t)}function Gue(t=Fr()){return zue()||Hue(t)}function K$(){try{const t=self.localStorage,e=Rv();if(t)return t.setItem(e,"1"),t.removeItem(e),Gue()?cy():!0}catch{return dk()&&cy()}return!1}function dk(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lC(){return(que()||$B()||G$())&&!$ue()&&K$()&&!dk()}function X$(){return G$()&&typeof document<"u"}async function Kue(){return X$()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Wue);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Xue(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa={LOCAL:"local",NONE:"none",SESSION:"session"},Hg=pt,J$="persistence";function Jue(t,e){if(Hg(Object.values(xa).includes(e),t,"invalid-persistence-type"),p_()){Hg(e!==xa.SESSION,t,"unsupported-persistence-type");return}if(h_()){Hg(e===xa.NONE,t,"unsupported-persistence-type");return}if(dk()){Hg(e===xa.NONE||e===xa.LOCAL&&cy(),t,"unsupported-persistence-type");return}Hg(e===xa.NONE||K$(),t,"unsupported-persistence-type")}async function pA(t){await t._initializationPromise;const e=Y$(),n=af(J$,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function Yue(t,e){const n=Y$();if(!n)return[];const r=af(J$,t,e);switch(n.getItem(r)){case xa.NONE:return[um];case xa.LOCAL:return[Py,Df];case xa.SESSION:return[Df];default:return[]}}function Y$(){var t;try{return((t=Xue())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Que=pt;class hu{constructor(){this.browserResolver=Ea(hue),this.cordovaResolver=Ea(Lue),this.underlyingResolver=null,this._redirectPersistence=Df,this._completeRedirectFn=X_,this._overrideRedirectResult=ck}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return X$()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Que(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Kue();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){return t.unwrap()}function Zue(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ede(t){return Z$(t)}function tde(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new nde(t,Hle(t,e))}else if(n){const i=Z$(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function Z$(t){const{_tokenResponse:e}=t instanceof ys?t.customData:t;if(!e)return null;if(!(t instanceof ys)&&"temporaryProof"in e&&"phoneNumber"in e)return Af.credentialFromResult(t);const n=e.providerId;if(!n||n===$g.PASSWORD)return null;let r;switch(n){case $g.GOOGLE:r=cl;break;case $g.FACEBOOK:r=ll;break;case $g.GITHUB:r=ul;break;case $g.TWITTER:r=dl;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?dm._create(n,o):Dl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new Np(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof ys?r.credentialFromError(t):r.credentialFromResult(t)}function Js(t,e){return e.catch(n=>{throw n instanceof ys&&tde(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:ede(n),additionalUserInfo:zle(n),user:Zl.getOrCreate(i)}})}async function mA(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Js(t,n.confirm(r))}}class nde{constructor(e,n){this.resolver=n,this.auth=Zue(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Js(Q$(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._delegate=e,this.multiFactor=Xle(e)}static getOrCreate(e){return Zl.USER_MAP.has(e)||Zl.USER_MAP.set(e,new Zl(e)),Zl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Js(this.auth,A$(this._delegate,e))}async linkWithPhoneNumber(e,n){return mA(this.auth,vce(this._delegate,e,n))}async linkWithPopup(e){return Js(this.auth,Dce(this._delegate,e,hu))}async linkWithRedirect(e){return await pA(Ur(this.auth)),Uce(this._delegate,e,hu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Js(this.auth,N$(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return mA(this.auth,xce(this._delegate,e,n))}reauthenticateWithPopup(e){return Js(this.auth,Sce(this._delegate,e,hu))}async reauthenticateWithRedirect(e){return await pA(Ur(this.auth)),Fce(this._delegate,e,hu)}sendEmailVerification(e){return Fle(this._delegate,e)}async unlink(e){return await ble(this._delegate,e),this}updateEmail(e){return Lle(this._delegate,e)}updatePassword(e){return jle(this._delegate,e)}updatePhoneNumber(e){return bce(this._delegate,e)}updateProfile(e){return Ole(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Mle(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zl.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=pt;class gA{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Gg(r,"invalid-api-key",{appName:e.name}),Gg(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?hu:void 0;this._delegate=n.initialize({options:{persistence:rde(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(coe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Yoe(this._delegate,e,n)}applyActionCode(e){return Cle(this._delegate,e)}checkActionCode(e){return k$(this._delegate,e)}confirmPasswordReset(e,n){return Ele(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Js(this._delegate,Dle(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Ple(this._delegate,e)}isSignInWithEmailLink(e){return kle(this._delegate,e)}async getRedirectResult(){Gg(lC(),this._delegate,"operation-not-supported-in-this-environment");const e=await Lce(this._delegate,hu);return e?Js(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){jue(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=EF(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=EF(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return Nle(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Tle(this._delegate,e,n||void 0)}async setPersistence(e){Jue(this._delegate,e);let n;switch(e){case xa.SESSION:n=Df;break;case xa.LOCAL:n=await Ea(Py)._isAvailable()?Py:ik;break;case xa.NONE:n=um;break;default:return Zi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Js(this._delegate,xle(this._delegate))}signInWithCredential(e){return Js(this._delegate,$_(this._delegate,e))}signInWithCustomToken(e){return Js(this._delegate,wle(this._delegate,e))}signInWithEmailAndPassword(e,n){return Js(this._delegate,Ale(this._delegate,e,n))}signInWithEmailLink(e,n){return Js(this._delegate,Ile(this._delegate,e,n))}signInWithPhoneNumber(e,n){return mA(this._delegate,yce(this._delegate,e,n))}async signInWithPopup(e){return Gg(lC(),this._delegate,"operation-not-supported-in-this-environment"),Js(this._delegate,Cce(this._delegate,e,hu))}async signInWithRedirect(e){return Gg(lC(),this._delegate,"operation-not-supported-in-this-environment"),await pA(this._delegate),Rce(this._delegate,e,hu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Sle(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}gA.Persistence=xa;function EF(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&Zl.getOrCreate(a)),error:e,complete:n}}function rde(t,e){const n=Yue(t,e);if(typeof self<"u"&&!n.includes(Py)&&n.push(Py),typeof window<"u")for(const r of[ik,Df])n.includes(r)||n.push(r);return n.includes(um)||n.push(um),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{static credential(e,n){return Af.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Af(Q$(Br.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}fk.PHONE_SIGN_IN_METHOD=Af.PHONE_SIGN_IN_METHOD;fk.PROVIDER_ID=Af.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide=pt;class sde{constructor(e,n,r=Br.app()){var i;ide((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new mce(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ade="auth-compat";function ode(t){t.INTERNAL.registerComponent(new Ls(ade,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new gA(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zh.EMAIL_SIGNIN,PASSWORD_RESET:Zh.PASSWORD_RESET,RECOVER_EMAIL:Zh.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Zh.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Zh.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Zh.VERIFY_EMAIL}},EmailAuthProvider:ed,FacebookAuthProvider:ll,GithubAuthProvider:ul,GoogleAuthProvider:cl,OAuthProvider:Np,SAMLAuthProvider:vb,PhoneAuthProvider:fk,PhoneMultiFactorGenerator:H$,RecaptchaVerifier:sde,TwitterAuthProvider:dl,Auth:gA,AuthCredential:jm,Error:ys}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Bue,Vue)}ode(Br);var CF={};const SF="@firebase/database",DF="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ez="";function tz(t){ez=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lde{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:uy(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Da(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lde(e)}}catch{}return new cde},Yd=nz("localStorage"),yA=nz("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Nm("@firebase/database"),rz=(function(){let t=1;return function(){return t++}})(),iz=function(t){const e=bte(t),n=new yte;n.update(e);const r=n.digest();return SN.encodeByteArray(r)},Fv=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Fv.apply(null,r):typeof r=="object"?e+=yi(r):e+=r,e+=" "}return e};let lf=null,AF=!0;const sz=function(t,e){vt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ip.logLevel=pn.VERBOSE,lf=Ip.log.bind(Ip),e&&yA.set("logging_enabled",!0)):typeof t=="function"?lf=t:(lf=null,yA.remove("logging_enabled"))},Oi=function(...t){if(AF===!0&&(AF=!1,lf===null&&yA.get("logging_enabled")===!0&&sz(!0)),lf){const e=Fv.apply(null,t);lf(e)}},Mv=function(t){return function(...e){Oi(t,...e)}},vA=function(...t){const e="FIREBASE INTERNAL ERROR: "+Fv(...t);Ip.error(e)},Al=function(...t){const e=`FIREBASE FATAL ERROR: ${Fv(...t)}`;throw Ip.error(e),new Error(e)},xs=function(...t){const e="FIREBASE WARNING: "+Fv(...t);Ip.warn(e)},ude=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},J_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dde=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Lu="[MIN_NAME]",yc="[MAX_NAME]",Yf=function(t,e){if(t===e)return 0;if(t===Lu||e===yc)return-1;if(e===Lu||t===yc)return 1;{const n=NF(t),r=NF(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},fde=function(t,e){return t===e?0:t<e?-1:1},Kg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+yi(e))},hk=function(t){if(typeof t!="object"||t===null)return yi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=yi(e[r]),n+=":",n+=hk(t[e[r]]);return n+="}",n},az=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Vi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const oz=function(t){vt(!J_(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=o+r,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},hde=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pde=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mde(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const gde=new RegExp("^-?(0*)\\d{1,10}$"),yde=-2147483648,vde=2147483647,NF=function(t){if(gde.test(t)){const e=Number(t);if(e>=yde&&e<=vde)return e}return null},Vm=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw xs("Exception was thrown by user callback.",n),e},Math.floor(0))}},xde=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},W0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bde{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,sr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xs(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Oi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xs(e)}}class Rp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Rp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="5",lz="v",cz="s",uz="r",dz="f",fz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hz="ls",pz="p",xA="ac",mz="websocket",gz="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,r,i,s=!1,a="",o=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yd.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function wde(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function vz(t,e,n){vt(typeof e=="string","typeof type must == string"),vt(typeof n=="object","typeof params must == object");let r;if(e===mz)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gz)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);wde(t)&&(n.ns=t.namespace);const i=[];return Vi(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(){this.counters_={}}incrementCounter(e,n=1){Da(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Qee(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={},uC={};function mk(t){const e=t.toString();return cC[e]||(cC[e]=new Tde),cC[e]}function Ede(t,e){const n=t.toString();return uC[n]||(uC[n]=e()),uC[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cde{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="start",Sde="close",Dde="pLPCommand",Ade="pRTLPCB",xz="id",bz="pw",_z="ser",Nde="cb",kde="seg",Ide="ts",Rde="d",Pde="dframe",wz=1870,Tz=30,Fde=wz-Tz,Mde=25e3,Ude=3e4;class pu{constructor(e,n,r,i,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mv(e),this.stats_=mk(n),this.urlFn=l=>(this.appCheckToken&&(l[xA]=this.appCheckToken),vz(n,gz,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Cde(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ude)),dde(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gk((...s)=>{const[a,o,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===kF)this.id=o,this.password=l;else if(a===Sde)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[kF]="t",r[_z]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Nde]=this.scriptTagHolder.uniqueCallbackIdentifier),r[lz]=pk,this.transportSessionId&&(r[cz]=this.transportSessionId),this.lastSessionId&&(r[hz]=this.lastSessionId),this.applicationId&&(r[pz]=this.applicationId),this.appCheckToken&&(r[xA]=this.appCheckToken),typeof location<"u"&&location.hostname&&fz.test(location.hostname)&&(r[uz]=dz);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pu.forceAllow_=!0}static forceDisallow(){pu.forceDisallow_=!0}static isAvailable(){return pu.forceAllow_?!0:!pu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hde()&&!pde()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=yi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=WB(n),i=az(r,Fde);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Pde]="t",r[xz]=e,r[bz]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=yi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gk{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rz(),window[Dde+this.uniqueCallbackIdentifier]=e,window[Ade+this.uniqueCallbackIdentifier]=n,this.myIFrame=gk.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Oi("frame writing exception"),o.stack&&Oi(o.stack),Oi(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Oi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xz]=this.myID,e[bz]=this.myPW,e[_z]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Tz+r.length<=wz;){const a=this.pendingSegs.shift();r=r+"&"+kde+i+"="+a.seg+"&"+Ide+i+"="+a.ts+"&"+Rde+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Mde)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Oi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ode=16384,Lde=45e3;let wb=null;typeof MozWebSocket<"u"?wb=MozWebSocket:typeof WebSocket<"u"&&(wb=WebSocket);class Ja{constructor(e,n,r,i,s,a,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mv(this.connId),this.stats_=mk(n),this.connURL=Ja.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[lz]=pk,typeof location<"u"&&location.hostname&&fz.test(location.hostname)&&(a[uz]=dz),n&&(a[cz]=n),r&&(a[hz]=r),i&&(a[xA]=i),s&&(a[pz]=s),vz(e,mz,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yd.set("previous_websocket_failure",!0);try{let r;ute(),this.mySock=new wb(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ja.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&wb!==null&&!Ja.forceDisallow_}static previouslyFailed(){return Yd.isInMemoryStorage||Yd.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=uy(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(vt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=yi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=az(n,Ode);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Lde))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ja.responsesRequiredToBeHealthy=2;Ja.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{static get ALL_TRANSPORTS(){return[pu,Ja]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ja&&Ja.isAvailable();let r=n&&!Ja.previouslyFailed();if(e.webSocketOnly&&(n||xs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ja];else{const i=this.transports_=[];for(const s of fm.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);fm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jde=6e4,Bde=5e3,Vde=10*1024,Wde=100*1024,dC="t",IF="d",qde="s",RF="r",$de="e",PF="o",FF="a",MF="n",UF="p",zde="h";class Hde{constructor(e,n,r,i,s,a,o,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mv("c:"+this.id+":"),this.transportManager_=new fm(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=W0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Wde?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Vde?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dC in e){const n=e[dC];n===FF?this.upgradeIfSecondaryHealthy_():n===RF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===PF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Kg("t",e),r=Kg("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:UF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:MF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Kg("t",e),r=Kg("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Kg(dC,e);if(IF in e){const r=e[IF];if(n===zde){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===MF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qde?this.onConnectionShutdown_(r):n===RF?this.onReset_(r):n===$de?vA("Server Error: "+r):n===PF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vA("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pk!==r&&xs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),W0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jde))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):W0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Bde))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:UF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.allowedEvents_=e,this.listeners_={},vt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){vt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Cz{static getInstance(){return new Tb}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kN()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return vt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=32,LF=768;class jn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function kn(){return new jn("")}function cn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ju(t){return t.pieces_.length-t.pieceNum_}function tr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new jn(t.pieces_,e)}function yk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Gde(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Fy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Sz(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new jn(e,0)}function Er(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof jn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new jn(n,0)}function un(t){return t.pieceNum_>=t.pieces_.length}function Ps(t,e){const n=cn(t),r=cn(e);if(n===null)return e;if(n===r)return Ps(tr(t),tr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Kde(t,e){const n=Fy(t,0),r=Fy(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Yf(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function vk(t,e){if(ju(t)!==ju(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Qa(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ju(t)>ju(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Xde{constructor(e,n){this.errorPrefix_=n,this.parts_=Fy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=m_(this.parts_[r]);Dz(this)}}function Jde(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=m_(e),Dz(t)}function Yde(t){const e=t.parts_.pop();t.byteLength_-=m_(e),t.parts_.length>0&&(t.byteLength_-=1)}function Dz(t){if(t.byteLength_>LF)throw new Error(t.errorPrefix_+"has a key path longer than "+LF+" bytes ("+t.byteLength_+").");if(t.parts_.length>OF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+OF+") or object contains a cycle "+Bd(t))}function Bd(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk extends Cz{static getInstance(){return new xk}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return vt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=1e3,Qde=300*1e3,jF=30*1e3,Zde=1.3,efe=3e4,tfe="server_kill",BF=3;class ic extends Ez{constructor(e,n,r,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=ic.nextPersistentConnectionId_++,this.log_=Mv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xg,this.maxReconnectDelay_=Qde,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xk.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Tb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(yi(s)),vt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ys,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vt(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;ic.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Da(e,"w")){const r=yf(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();xs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||gte(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jF)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=mte(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),vt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):vA("Unrecognized action received from server: "+yi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){vt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>efe&&(this.reconnectDelay_=Xg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Zde)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ic.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,r())},c=function(f){vt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Oi("getToken() completed but was canceled"):(Oi("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,o=new Hde(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{xs(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(tfe)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&xs(f),l())}}}interrupt(e){Oi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Oi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],J2(this.interruptReasons_)&&(this.reconnectDelay_=Xg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>hk(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new jn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Oi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=BF&&(this.reconnectDelay_=jF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Oi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=BF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ez.replace(/\./g,"-")]=1,kN()?e["framework.cordova"]=1:p_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Tb.getInstance().currentlyOnline();return J2(this.interruptReasons_)&&e}}ic.nextPersistentConnectionId_=0;ic.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new mn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new mn(Lu,e),i=new mn(Lu,n);return this.compare(r,i)!==0}minPost(){return mn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wx;class Az extends Y_{static get __EMPTY_NODE(){return wx}static set __EMPTY_NODE(e){wx=e}compare(e,n){return Yf(e.name,n.name)}isDefinedOn(e){throw Am("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return mn.MIN}maxPost(){return new mn(yc,wx)}makePost(e,n){return vt(typeof e=="string","KeyIndex indexValue must always be a string."),new mn(e,wx)}toString(){return".key"}}const Tl=new Az;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ui{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ui.RED,this.left=i??ta.EMPTY_NODE,this.right=s??ta.EMPTY_NODE}copy(e,n,r,i,s){return new Ui(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ta.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ta.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ui.RED=!0;Ui.BLACK=!1;class nfe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ui(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ta{constructor(e,n=ta.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ta(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ui.BLACK,null,null))}remove(e){return new ta(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ui.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Tx(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Tx(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Tx(this.root_,null,this.comparator_,!0,e)}}ta.EMPTY_NODE=new nfe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rfe(t,e){return Yf(t.name,e.name)}function bk(t,e){return Yf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bA;function ife(t){bA=t}const Nz=function(t){return typeof t=="number"?"number:"+oz(t):"string:"+t},kz=function(t){if(t.isLeafNode()){const e=t.val();vt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Da(e,".sv"),"Priority must be a string or number.")}else vt(t===bA||t.isEmpty(),"priority of unexpected type.");vt(t===bA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VF;class Ii{static set __childrenNodeConstructor(e){VF=e}static get __childrenNodeConstructor(){return VF}constructor(e,n=Ii.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,vt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kz(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ii(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ii.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return un(e)?this:cn(e)===".priority"?this.priorityNode_:Ii.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ii.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=cn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(vt(r!==".priority"||ju(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ii.__childrenNodeConstructor.EMPTY_NODE.updateChild(tr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Nz(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=oz(this.value_):e+=this.value_,this.lazyHash_=iz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ii.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ii.__childrenNodeConstructor?-1:(vt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ii.VALUE_TYPE_ORDER.indexOf(n),s=Ii.VALUE_TYPE_ORDER.indexOf(r);return vt(i>=0,"Unknown leaf type: "+n),vt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ii.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iz,Rz;function sfe(t){Iz=t}function afe(t){Rz=t}class ofe extends Y_{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Yf(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return mn.MIN}maxPost(){return new mn(yc,new Ii("[PRIORITY-POST]",Rz))}makePost(e,n){const r=Iz(e);return new mn(n,new Ii("[PRIORITY-POST]",r))}toString(){return".priority"}}const ar=new ofe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lfe=Math.log(2);class cfe{constructor(e){const n=s=>parseInt(Math.log(s)/lfe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Eb=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new Ui(h,f.node,Ui.BLACK,null,null);{const p=parseInt(u/2,10)+l,v=i(l,p),g=i(p+1,c);return f=t[p],h=n?n(f):f,new Ui(h,f.node,Ui.BLACK,v,g)}},s=function(l){let c=null,u=null,f=t.length;const h=function(v,g){const y=f-v,_=f;f-=v;const x=i(y+1,_),w=t[y],C=n?n(w):w;p(new Ui(C,w.node,g,null,x))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));g?h(y,Ui.BLACK):(h(y,Ui.BLACK),h(y,Ui.RED))}return u},a=new cfe(t.length),o=s(a);return new ta(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fC;const ep={};class ec{static get Default(){return vt(ep&&ar,"ChildrenNode.ts has not been loaded"),fC=fC||new ec({".priority":ep},{".priority":ar}),fC}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=yf(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ta?n:null}hasIndex(e){return Da(this.indexSet_,e.toString())}addIndex(e,n){vt(e!==Tl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(mn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=Eb(r,e.getCompare()):o=ep;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=o,new ec(u,c)}addToIndexes(e,n){const r=Y2(this.indexes_,(i,s)=>{const a=yf(this.indexSet_,s);if(vt(a,"Missing index implementation for "+s),i===ep)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(mn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),Eb(o,a.getCompare())}else return ep;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new mn(e.name,o))),l.insert(e,e.node)}});return new ec(r,this.indexSet_)}removeFromIndexes(e,n){const r=Y2(this.indexes_,i=>{if(i===ep)return i;{const s=n.get(e.name);return s?i.remove(new mn(e.name,s)):i}});return new ec(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg;class Ht{static get EMPTY_NODE(){return Jg||(Jg=new Ht(new ta(bk),null,ec.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&kz(this.priorityNode_),this.children_.isEmpty()&&vt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jg}updatePriority(e){return this.children_.isEmpty()?this:new Ht(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Jg:n}}getChild(e){const n=cn(e);return n===null?this:this.getImmediateChild(n).getChild(tr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(vt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new mn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Jg:this.priorityNode_;return new Ht(i,a,s)}}updateChild(e,n){const r=cn(e);if(r===null)return n;{vt(cn(e)!==".priority"||ju(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(tr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ar,(a,o)=>{n[a]=o.val(e),r++,s&&Ht.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Nz(this.getPriority().val())+":"),this.forEachChild(ar,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":iz(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new mn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new mn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new mn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,mn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,mn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uv?-1:0}withIndex(e){if(e===Tl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ht(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Tl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ar),i=n.getIterator(ar);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Tl?null:this.indexMap_.get(e.toString())}}Ht.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ufe extends Ht{constructor(){super(new ta(bk),Ht.EMPTY_NODE,ec.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ht.EMPTY_NODE}isEmpty(){return!1}}const Uv=new ufe;Object.defineProperties(mn,{MIN:{value:new mn(Lu,Ht.EMPTY_NODE)},MAX:{value:new mn(yc,Uv)}});Az.__EMPTY_NODE=Ht.EMPTY_NODE;Ii.__childrenNodeConstructor=Ht;ife(Uv);afe(Uv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dfe=!0;function Ir(t,e=null){if(t===null)return Ht.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),vt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ii(n,Ir(e))}if(!(t instanceof Array)&&dfe){const n=[];let r=!1;if(Vi(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Ir(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new mn(a,l)))}}),n.length===0)return Ht.EMPTY_NODE;const s=Eb(n,rfe,a=>a.name,bk);if(r){const a=Eb(n,ar.getCompare());return new Ht(s,Ir(e),new ec({".priority":a},{".priority":ar}))}else return new Ht(s,Ir(e),ec.Default)}else{let n=Ht.EMPTY_NODE;return Vi(t,(r,i)=>{if(Da(t,r)&&r.substring(0,1)!=="."){const s=Ir(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ir(e))}}sfe(Ir);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k extends Y_{constructor(e){super(),this.indexPath_=e,vt(!un(e)&&cn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Yf(e.name,n.name):s}makePost(e,n){const r=Ir(e),i=Ht.EMPTY_NODE.updateChild(this.indexPath_,r);return new mn(n,i)}maxPost(){const e=Ht.EMPTY_NODE.updateChild(this.indexPath_,Uv);return new mn(yc,e)}toString(){return Fy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe extends Y_{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Yf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return mn.MIN}maxPost(){return mn.MAX}makePost(e,n){const r=Ir(e);return new mn(n,r)}toString(){return".value"}}const wk=new ffe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){return{type:"value",snapshotNode:t}}function hm(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function My(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Uy(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function hfe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){vt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(My(n,o)):vt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(hm(n,r)):a.trackChildChange(Uy(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ar,(i,s)=>{n.hasChild(i)||r.trackChildChange(My(i,s))}),n.isLeafNode()||n.forEachChild(ar,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Uy(i,s,a))}else r.trackChildChange(hm(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ht.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.indexedFilter_=new Tk(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Oy.getStartPost_(e),this.endPost_=Oy.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new mn(n,r))||(r=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ht.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ht.EMPTY_NODE);const s=this;return n.forEachChild(ar,(a,o)=>{s.matches(new mn(a,o))||(i=i.updateImmediateChild(a,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Oy(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new mn(n,r))||(r=Ht.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ht.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ht.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ht.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(h,p)=>f(p,h)}else a=this.index_.getCompare();const o=e;vt(o.numChildren()===this.limit_,"");const l=new mn(n,r),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:a(h,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Uy(n,r,f)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(My(n,f));const g=o.updateImmediateChild(n,Ht.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(hm(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:u&&a(c,l)>=0?(s!=null&&(s.trackChildChange(My(c.name,c.node)),s.trackChildChange(hm(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(c.name,Ht.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ar}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return vt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return vt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lu}hasEnd(){return this.endSet_}getIndexEndValue(){return vt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return vt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return vt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ar}copy(){const e=new Q_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mfe(t){return t.loadsAllData()?new Tk(t.getIndex()):t.hasLimit()?new pfe(t):new Oy(t)}function gfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function yfe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function _A(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function vfe(t,e,n){let r;return t.index_===Tl||n?r=_A(t,e,n):r=_A(t,e,yc),r.startAfterSet_=!0,r}function wA(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function xfe(t,e,n){let r;return t.index_===Tl||n?r=wA(t,e,n):r=wA(t,e,Lu),r.endBeforeSet_=!0,r}function Z_(t,e){const n=t.copy();return n.index_=e,n}function WF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ar?n="$priority":t.index_===wk?n="$value":t.index_===Tl?n="$key":(vt(t.index_ instanceof _k,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=yi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=yi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+yi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=yi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+yi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ar&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Ez{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(vt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mv("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Cb.getListenId_(e,r),o={};this.listens_[a]=o;const l=WF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),yf(this.listens_,a)===o){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Cb.getListenId_(e,n);delete this.listens_[r]}get(e){const n=WF(e._queryParams),r=e._path.toString(),i=new Ys;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zf(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=uy(o.responseText)}catch{xs("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&xs("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return{value:null,children:new Map}}function Wm(t,e,n){if(un(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=cn(e);t.children.has(r)||t.children.set(r,Sb());const i=t.children.get(r);e=tr(e),Wm(i,e,n)}}function TA(t,e){if(un(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(ar,(r,i)=>{Wm(t,new jn(r),i)}),TA(t,e)}}else if(t.children.size>0){const n=cn(e);return e=tr(e),t.children.has(n)&&TA(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function EA(t,e,n){t.value!==null?n(e,t.value):_fe(t,(r,i)=>{const s=new jn(e.toString()+"/"+r);EA(i,s,n)})}function _fe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wfe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Vi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=10*1e3,Tfe=30*1e3,Efe=300*1e3;class Cfe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wfe(e);const r=$F+(Tfe-$F)*Math.random();W0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Vi(e,(i,s)=>{s>0&&Da(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),W0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Efe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ro||(Ro={}));function Ek(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ck(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Sk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ro.ACK_USER_WRITE,this.source=Ek()}operationForChild(e){if(un(this.path)){if(this.affectedTree.value!=null)return vt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new jn(e));return new Db(kn(),n,this.revert)}}else return vt(cn(this.path)===e,"operationForChild called for unrelated child."),new Db(tr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.source=e,this.path=n,this.type=Ro.LISTEN_COMPLETE}operationForChild(e){return un(this.path)?new Ly(this.source,kn()):new Ly(this.source,tr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ro.OVERWRITE}operationForChild(e){return un(this.path)?new kf(this.source,kn(),this.snap.getImmediateChild(e)):new kf(this.source,tr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ro.MERGE}operationForChild(e){if(un(this.path)){const n=this.children.subtree(new jn(e));return n.isEmpty()?null:n.value?new kf(this.source,kn(),n.value):new pm(this.source,kn(),n)}else return vt(cn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pm(this.source,tr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(un(e))return this.isFullyInitialized()&&!this.filtered_;const n=cn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Dfe(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(hfe(a.childName,a.snapshotNode))}),Yg(t,i,"child_removed",e,r,n),Yg(t,i,"child_added",e,r,n),Yg(t,i,"child_moved",s,r,n),Yg(t,i,"child_changed",e,r,n),Yg(t,i,"value",e,r,n),i}function Yg(t,e,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,l)=>Nfe(t,o,l)),a.forEach(o=>{const l=Afe(t,o,s);i.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function Afe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Nfe(t,e,n){if(e.childName==null||n.childName==null)throw Am("Should only compare child_ events.");const r=new mn(e.childName,e.snapshotNode),i=new mn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e){return{eventCache:t,serverCache:e}}function q0(t,e,n,r){return ew(new Bu(e,n,r),t.serverCache)}function Fz(t,e,n,r){return ew(t.eventCache,new Bu(e,n,r))}function Ab(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function If(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hC;const kfe=()=>(hC||(hC=new ta(fde)),hC);class ir{static fromObject(e){let n=new ir(null);return Vi(e,(r,i)=>{n=n.set(new jn(r),i)}),n}constructor(e,n=kfe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:kn(),value:this.value};if(un(e))return null;{const r=cn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(tr(e),n);return s!=null?{path:Er(new jn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(un(e))return this;{const n=cn(e),r=this.children.get(n);return r!==null?r.subtree(tr(e)):new ir(null)}}set(e,n){if(un(e))return new ir(n,this.children);{const r=cn(e),s=(this.children.get(r)||new ir(null)).set(tr(e),n),a=this.children.insert(r,s);return new ir(this.value,a)}}remove(e){if(un(e))return this.children.isEmpty()?new ir(null):new ir(null,this.children);{const n=cn(e),r=this.children.get(n);if(r){const i=r.remove(tr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ir(null):new ir(this.value,s)}else return this}}get(e){if(un(e))return this.value;{const n=cn(e),r=this.children.get(n);return r?r.get(tr(e)):null}}setTree(e,n){if(un(e))return n;{const r=cn(e),s=(this.children.get(r)||new ir(null)).setTree(tr(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new ir(this.value,a)}}fold(e){return this.fold_(kn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Er(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,kn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(un(e))return null;{const s=cn(e),a=this.children.get(s);return a?a.findOnPath_(tr(e),Er(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,kn(),n)}foreachOnPath_(e,n,r){if(un(e))return this;{this.value&&r(n,this.value);const i=cn(e),s=this.children.get(i);return s?s.foreachOnPath_(tr(e),Er(n,i),r):new ir(null)}}foreach(e){this.foreach_(kn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Er(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.writeTree_=e}static empty(){return new Oo(new ir(null))}}function $0(t,e,n){if(un(e))return new Oo(new ir(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Ps(i,e);return s=s.updateChild(a,n),new Oo(t.writeTree_.set(i,s))}else{const i=new ir(n),s=t.writeTree_.setTree(e,i);return new Oo(s)}}}function CA(t,e,n){let r=t;return Vi(n,(i,s)=>{r=$0(r,Er(e,i),s)}),r}function zF(t,e){if(un(e))return Oo.empty();{const n=t.writeTree_.setTree(e,new ir(null));return new Oo(n)}}function SA(t,e){return Qf(t,e)!=null}function Qf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ps(n.path,e)):null}function HF(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ar,(r,i)=>{e.push(new mn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new mn(r,i.value))}),e}function Cu(t,e){if(un(e))return t;{const n=Qf(t,e);return n!=null?new Oo(new ir(n)):new Oo(t.writeTree_.subtree(e))}}function DA(t){return t.writeTree_.isEmpty()}function mm(t,e){return Mz(kn(),t.writeTree_,e)}function Mz(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(vt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Mz(Er(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Er(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){return jz(e,t)}function Ife(t,e,n,r,i){vt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=$0(t.visibleWrites,e,n)),t.lastWriteId=r}function Rfe(t,e,n,r){vt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=CA(t.visibleWrites,e,n),t.lastWriteId=r}function Pfe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Ffe(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);vt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&Mfe(o,r.path)?i=!1:Qa(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return Ufe(t),!0;if(r.snap)t.visibleWrites=zF(t.visibleWrites,r.path);else{const o=r.children;Vi(o,l=>{t.visibleWrites=zF(t.visibleWrites,Er(r.path,l))})}return!0}else return!1}function Mfe(t,e){if(t.snap)return Qa(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Qa(Er(t.path,n),e))return!0;return!1}function Ufe(t){t.visibleWrites=Uz(t.allWrites,Ofe,kn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Ofe(t){return t.visible}function Uz(t,e,n){let r=Oo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)Qa(n,a)?(o=Ps(n,a),r=$0(r,o,s.snap)):Qa(a,n)&&(o=Ps(a,n),r=$0(r,kn(),s.snap.getChild(o)));else if(s.children){if(Qa(n,a))o=Ps(n,a),r=CA(r,o,s.children);else if(Qa(a,n))if(o=Ps(a,n),un(o))r=CA(r,kn(),s.children);else{const l=yf(s.children,cn(o));if(l){const c=l.getChild(tr(o));r=$0(r,kn(),c)}}}else throw Am("WriteRecord should have .snap or .children")}}return r}function Oz(t,e,n,r,i){if(!r&&!i){const s=Qf(t.visibleWrites,e);if(s!=null)return s;{const a=Cu(t.visibleWrites,e);if(DA(a))return n;if(n==null&&!SA(a,kn()))return null;{const o=n||Ht.EMPTY_NODE;return mm(a,o)}}}else{const s=Cu(t.visibleWrites,e);if(!i&&DA(s))return n;if(!i&&n==null&&!SA(s,kn()))return null;{const a=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Qa(c.path,e)||Qa(e,c.path))},o=Uz(t.allWrites,a,e),l=n||Ht.EMPTY_NODE;return mm(o,l)}}}function Lfe(t,e,n){let r=Ht.EMPTY_NODE;const i=Qf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ar,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Cu(t.visibleWrites,e);return n.forEachChild(ar,(a,o)=>{const l=mm(Cu(s,new jn(a)),o);r=r.updateImmediateChild(a,l)}),HF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Cu(t.visibleWrites,e);return HF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function jfe(t,e,n,r,i){vt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Er(e,n);if(SA(t.visibleWrites,s))return null;{const a=Cu(t.visibleWrites,s);return DA(a)?i.getChild(n):mm(a,i.getChild(n))}}function Bfe(t,e,n,r){const i=Er(e,n),s=Qf(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Cu(t.visibleWrites,i);return mm(a,r.getNode().getImmediateChild(n))}else return null}function Vfe(t,e){return Qf(t.visibleWrites,e)}function Wfe(t,e,n,r,i,s,a){let o;const l=Cu(t.visibleWrites,e),c=Qf(l,kn());if(c!=null)o=c;else if(n!=null)o=mm(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const u=[],f=a.getCompare(),h=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function qfe(){return{visibleWrites:Oo.empty(),allWrites:[],lastWriteId:-1}}function Nb(t,e,n,r){return Oz(t.writeTree,t.treePath,e,n,r)}function Dk(t,e){return Lfe(t.writeTree,t.treePath,e)}function GF(t,e,n,r){return jfe(t.writeTree,t.treePath,e,n,r)}function kb(t,e){return Vfe(t.writeTree,Er(t.treePath,e))}function $fe(t,e,n,r,i,s){return Wfe(t.writeTree,t.treePath,e,n,r,i,s)}function Ak(t,e,n){return Bfe(t.writeTree,t.treePath,e,n)}function Lz(t,e){return jz(Er(t.treePath,e),t.writeTree)}function jz(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;vt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),vt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Uy(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,My(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,hm(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Uy(r,e.snapshotNode,i.oldSnap));else throw Am("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Bz=new Hfe;class Nk{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Bu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ak(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:If(this.viewCache_),s=$fe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gfe(t){return{filter:t}}function Kfe(t,e){vt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),vt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Xfe(t,e,n,r,i){const s=new zfe;let a,o;if(n.type===Ro.OVERWRITE){const c=n;c.source.fromUser?a=AA(t,e,c.path,c.snap,r,i,s):(vt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!un(c.path),a=Ib(t,e,c.path,c.snap,r,i,o,s))}else if(n.type===Ro.MERGE){const c=n;c.source.fromUser?a=Yfe(t,e,c.path,c.children,r,i,s):(vt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=NA(t,e,c.path,c.children,r,i,o,s))}else if(n.type===Ro.ACK_USER_WRITE){const c=n;c.revert?a=ehe(t,e,c.path,r,i,s):a=Qfe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Ro.LISTEN_COMPLETE)a=Zfe(t,e,n.path,r,s);else throw Am("Unknown operation type: "+n.type);const l=s.getChanges();return Jfe(e,a,l),{viewCache:a,changes:l}}function Jfe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ab(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Pz(Ab(e)))}}function Vz(t,e,n,r,i,s){const a=e.eventCache;if(kb(r,n)!=null)return e;{let o,l;if(un(n))if(vt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=If(e),u=c instanceof Ht?c:Ht.EMPTY_NODE,f=Dk(r,u);o=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=Nb(r,If(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=cn(n);if(c===".priority"){vt(ju(n)===1,"Can't have a priority with additional path components");const u=a.getNode();l=e.serverCache.getNode();const f=GF(r,n,u,l);f!=null?o=t.filter.updatePriority(u,f):o=a.getNode()}else{const u=tr(n);let f;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const h=GF(r,n,a.getNode(),l);h!=null?f=a.getNode().getImmediateChild(c).updateChild(u,h):f=a.getNode().getImmediateChild(c)}else f=Ak(r,c,e.serverCache);f!=null?o=t.filter.updateChild(a.getNode(),c,f,u,i,s):o=a.getNode()}}return q0(e,o,a.isFullyInitialized()||un(n),t.filter.filtersNodes())}}function Ib(t,e,n,r,i,s,a,o){const l=e.serverCache;let c;const u=a?t.filter:t.filter.getIndexedFilter();if(un(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=cn(n);if(!l.isCompleteForPath(n)&&ju(n)>1)return e;const v=tr(n),y=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,v,Bz,null)}const f=Fz(e,c,l.isFullyInitialized()||un(n),u.filtersNodes()),h=new Nk(i,f,s);return Vz(t,f,n,i,h,o)}function AA(t,e,n,r,i,s,a){const o=e.eventCache;let l,c;const u=new Nk(i,e,s);if(un(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=q0(e,c,!0,t.filter.filtersNodes());else{const f=cn(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=q0(e,c,o.isFullyInitialized(),o.isFiltered());else{const h=tr(n),p=o.getNode().getImmediateChild(f);let v;if(un(h))v=r;else{const g=u.getCompleteChild(f);g!=null?yk(h)===".priority"&&g.getChild(Sz(h)).isEmpty()?v=g:v=g.updateChild(h,r):v=Ht.EMPTY_NODE}if(p.equals(v))l=e;else{const g=t.filter.updateChild(o.getNode(),f,v,h,u,a);l=q0(e,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function KF(t,e){return t.eventCache.isCompleteForChild(e)}function Yfe(t,e,n,r,i,s,a){let o=e;return r.foreach((l,c)=>{const u=Er(n,l);KF(e,cn(u))&&(o=AA(t,o,u,c,i,s,a))}),r.foreach((l,c)=>{const u=Er(n,l);KF(e,cn(u))||(o=AA(t,o,u,c,i,s,a))}),o}function XF(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function NA(t,e,n,r,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;un(n)?c=r:c=new ir(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),v=XF(t,p,h);l=Ib(t,l,new jn(f),v,i,s,a,o)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const v=e.serverCache.getNode().getImmediateChild(f),g=XF(t,v,h);l=Ib(t,l,new jn(f),g,i,s,a,o)}}),l}function Qfe(t,e,n,r,i,s,a){if(kb(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(un(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ib(t,e,n,l.getNode().getChild(n),i,s,o,a);if(un(n)){let c=new ir(null);return l.getNode().forEachChild(Tl,(u,f)=>{c=c.set(new jn(u),f)}),NA(t,e,n,c,i,s,o,a)}else return e}else{let c=new ir(null);return r.foreach((u,f)=>{const h=Er(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),NA(t,e,n,c,i,s,o,a)}}function Zfe(t,e,n,r,i){const s=e.serverCache,a=Fz(e,s.getNode(),s.isFullyInitialized()||un(n),s.isFiltered());return Vz(t,a,n,r,Bz,i)}function ehe(t,e,n,r,i,s){let a;if(kb(r,n)!=null)return e;{const o=new Nk(r,e,i),l=e.eventCache.getNode();let c;if(un(n)||cn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Nb(r,If(e));else{const f=e.serverCache.getNode();vt(f instanceof Ht,"serverChildren would be complete if leaf node"),u=Dk(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=cn(n);let f=Ak(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,tr(n),o,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ht.EMPTY_NODE,tr(n),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Nb(r,If(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||kb(r,kn())!=null,q0(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class the{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Tk(r.getIndex()),s=mfe(r);this.processor_=Gfe(s);const a=n.serverCache,o=n.eventCache,l=i.updateFullNode(Ht.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(Ht.EMPTY_NODE,o.getNode(),null),u=new Bu(l,a.isFullyInitialized(),i.filtersNodes()),f=new Bu(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=ew(f,u),this.eventGenerator_=new Sfe(this.query_)}get query(){return this.query_}}function nhe(t){return t.viewCache_.serverCache.getNode()}function rhe(t){return Ab(t.viewCache_)}function ihe(t,e){const n=If(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!un(e)&&!n.getImmediateChild(cn(e)).isEmpty())?n.getChild(e):null}function JF(t){return t.eventRegistrations_.length===0}function she(t,e){t.eventRegistrations_.push(e)}function YF(t,e,n){const r=[];if(n){vt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function QF(t,e,n,r){e.type===Ro.MERGE&&e.source.queryId!==null&&(vt(If(t.viewCache_),"We should always have a full cache before handling merges"),vt(Ab(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Xfe(t.processor_,i,e,n,r);return Kfe(t.processor_,s.viewCache),vt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Wz(t,s.changes,s.viewCache.eventCache.getNode(),null)}function ahe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ar,(s,a)=>{r.push(hm(s,a))}),n.isFullyInitialized()&&r.push(Pz(n.getNode())),Wz(t,r,n.getNode(),e)}function Wz(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Dfe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rb;class qz{constructor(){this.views=new Map}}function ohe(t){vt(!Rb,"__referenceConstructor has already been defined"),Rb=t}function lhe(){return vt(Rb,"Reference.ts has not been loaded"),Rb}function che(t){return t.views.size===0}function kk(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return vt(s!=null,"SyncTree gave us an op for an invalid query."),QF(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(QF(a,e,n,r));return s}}function $z(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=Nb(n,i?r:null),l=!1;o?l=!0:r instanceof Ht?(o=Dk(n,r),l=!1):(o=Ht.EMPTY_NODE,l=!1);const c=ew(new Bu(o,l,!1),new Bu(r,i,!1));return new the(e,c)}return a}function uhe(t,e,n,r,i,s){const a=$z(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),she(a,n),ahe(a,n)}function dhe(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const o=Vu(t);if(i==="default")for(const[l,c]of t.views.entries())a=a.concat(YF(c,n,r)),JF(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(a=a.concat(YF(l,n,r)),JF(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!Vu(t)&&s.push(new(lhe())(e._repo,e._path)),{removed:s,events:a}}function zz(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Su(t,e){let n=null;for(const r of t.views.values())n=n||ihe(r,e);return n}function Hz(t,e){if(e._queryParams.loadsAllData())return nw(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Gz(t,e){return Hz(t,e)!=null}function Vu(t){return nw(t)!=null}function nw(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pb;function fhe(t){vt(!Pb,"__referenceConstructor has already been defined"),Pb=t}function hhe(){return vt(Pb,"Reference.ts has not been loaded"),Pb}let phe=1;class ZF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ir(null),this.pendingWriteTree_=qfe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ik(t,e,n,r,i){return Ife(t.pendingWriteTree_,e,n,r,i),i?qm(t,new kf(Ek(),e,n)):[]}function mhe(t,e,n,r){Rfe(t.pendingWriteTree_,e,n,r);const i=ir.fromObject(n);return qm(t,new pm(Ek(),e,i))}function mu(t,e,n=!1){const r=Pfe(t.pendingWriteTree_,e);if(Ffe(t.pendingWriteTree_,e)){let s=new ir(null);return r.snap!=null?s=s.set(kn(),!0):Vi(r.children,a=>{s=s.set(new jn(a),!0)}),qm(t,new Db(r.path,s,n))}else return[]}function Ov(t,e,n){return qm(t,new kf(Ck(),e,n))}function ghe(t,e,n){const r=ir.fromObject(n);return qm(t,new pm(Ck(),e,r))}function yhe(t,e){return qm(t,new Ly(Ck(),e))}function vhe(t,e,n){const r=Rk(t,n);if(r){const i=Pk(r),s=i.path,a=i.queryId,o=Ps(s,e),l=new Ly(Sk(a),o);return Fk(t,s,l)}else return[]}function Fb(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||Gz(a,e))){const l=dhe(a,e,n,r);che(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,p)=>Vu(p));if(u&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=_he(h);for(let v=0;v<p.length;++v){const g=p[v],y=g.query,_=Yz(t,g);t.listenProvider_.startListening(z0(y),jy(t,y),_.hashFn,_.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(z0(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(iw(h));t.listenProvider_.stopListening(z0(h),p)}))}whe(t,c)}return o}function Kz(t,e,n,r){const i=Rk(t,r);if(i!=null){const s=Pk(i),a=s.path,o=s.queryId,l=Ps(a,e),c=new kf(Sk(o),l,n);return Fk(t,a,c)}else return[]}function xhe(t,e,n,r){const i=Rk(t,r);if(i){const s=Pk(i),a=s.path,o=s.queryId,l=Ps(a,e),c=ir.fromObject(n),u=new pm(Sk(o),l,c);return Fk(t,a,u)}else return[]}function kA(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const v=Ps(h,i);s=s||Su(p,v),a=a||Vu(p)});let o=t.syncPointTree_.get(i);o?(a=a||Vu(o),s=s||Su(o,kn())):(o=new qz,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=Ht.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const g=Su(v,kn());g&&(s=s.updateImmediateChild(p,g))}));const c=Gz(o,e);if(!c&&!e._queryParams.loadsAllData()){const h=iw(e);vt(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=The();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=tw(t.pendingWriteTree_,i);let f=uhe(o,e,n,u,s,l);if(!c&&!a&&!r){const h=Hz(o,e);f=f.concat(Ehe(t,e,h))}return f}function rw(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Ps(a,e),c=Su(o,l);if(c)return c});return Oz(i,e,s,n,!0)}function bhe(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=Ps(c,n);r=r||Su(u,f)});let i=t.syncPointTree_.get(n);i?r=r||Su(i,kn()):(i=new qz,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Bu(r,!0,!1):null,o=tw(t.pendingWriteTree_,e._path),l=$z(i,e,o,s?a.getNode():Ht.EMPTY_NODE,s);return rhe(l)}function qm(t,e){return Xz(e,t.syncPointTree_,null,tw(t.pendingWriteTree_,kn()))}function Xz(t,e,n,r){if(un(t.path))return Jz(t,e,n,r);{const i=e.get(kn());n==null&&i!=null&&(n=Su(i,kn()));let s=[];const a=cn(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,u=Lz(r,a);s=s.concat(Xz(o,l,c,u))}return i&&(s=s.concat(kk(i,t,r,n))),s}}function Jz(t,e,n,r){const i=e.get(kn());n==null&&i!=null&&(n=Su(i,kn()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=Lz(r,a),u=t.operationForChild(a);u&&(s=s.concat(Jz(u,o,l,c)))}),i&&(s=s.concat(kk(i,t,r,n))),s}function Yz(t,e){const n=e.query,r=jy(t,n);return{hashFn:()=>(nhe(e)||Ht.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?vhe(t,n._path,r):yhe(t,n._path);{const s=mde(i,n);return Fb(t,n,null,s)}}}}function jy(t,e){const n=iw(e);return t.queryToTagMap.get(n)}function iw(t){return t._path.toString()+"$"+t._queryIdentifier}function Rk(t,e){return t.tagToQueryMap.get(e)}function Pk(t){const e=t.indexOf("$");return vt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new jn(t.substr(0,e))}}function Fk(t,e,n){const r=t.syncPointTree_.get(e);vt(r,"Missing sync point for query tag that we're tracking");const i=tw(t.pendingWriteTree_,e);return kk(r,n,i,null)}function _he(t){return t.fold((e,n,r)=>{if(n&&Vu(n))return[nw(n)];{let i=[];return n&&(i=zz(n)),Vi(r,(s,a)=>{i=i.concat(a)}),i}})}function z0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hhe())(t._repo,t._path):t}function whe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=iw(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function The(){return phe++}function Ehe(t,e,n){const r=e._path,i=jy(t,e),s=Yz(t,n),a=t.listenProvider_.startListening(z0(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(r);if(i)vt(!Vu(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,u,f)=>{if(!un(c)&&u&&Vu(u))return[nw(u).query];{let h=[];return u&&(h=h.concat(zz(u).map(p=>p.query))),Vi(f,(p,v)=>{h=h.concat(v)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(z0(u),jy(t,u))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mk(n)}node(){return this.node_}}class Uk{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Er(this.path_,e);return new Uk(this.syncTree_,n)}node(){return rw(this.syncTree_,this.path_)}}const Che=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},e9=function(t,e,n){if(!t||typeof t!="object")return t;if(vt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return She(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Dhe(t[".sv"],e);vt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},She=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:vt(!1,"Unexpected server value: "+t)}},Dhe=function(t,e,n){t.hasOwnProperty("increment")||vt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&vt(!1,"Unexpected increment value: "+r);const i=e.node();if(vt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},Qz=function(t,e,n,r){return Lk(e,new Uk(n,t),r)},Ok=function(t,e,n){return Lk(t,new Mk(e),n)};function Lk(t,e,n){const r=t.getPriority().val(),i=e9(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=e9(a.getValue(),e,n);return o!==a.getValue()||i!==a.getPriority().val()?new Ii(o,Ir(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Ii(i))),a.forEachChild(ar,(o,l)=>{const c=Lk(l,e.getImmediateChild(o),n);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function sw(t,e){let n=e instanceof jn?e:new jn(e),r=t,i=cn(n);for(;i!==null;){const s=yf(r.node.children,i)||{children:{},childCount:0};r=new jk(i,r,s),n=tr(n),i=cn(n)}return r}function Zf(t){return t.node.value}function Bk(t,e){t.node.value=e,IA(t)}function Zz(t){return t.node.childCount>0}function Ahe(t){return Zf(t)===void 0&&!Zz(t)}function aw(t,e){Vi(t.node.children,(n,r)=>{e(new jk(n,t,r))})}function eH(t,e,n,r){n&&e(t),aw(t,i=>{eH(i,e,!0)})}function Nhe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Lv(t){return new jn(t.parent===null?t.name:Lv(t.parent)+"/"+t.name)}function IA(t){t.parent!==null&&khe(t.parent,t.name,t)}function khe(t,e,n){const r=Ahe(n),i=Da(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,IA(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,IA(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ihe=/[\[\].#$\/\u0000-\u001F\u007F]/,Rhe=/[\[\].#$\u0000-\u001F\u007F]/,pC=10*1024*1024,ow=function(t){return typeof t=="string"&&t.length!==0&&!Ihe.test(t)},tH=function(t){return typeof t=="string"&&t.length!==0&&!Rhe.test(t)},Phe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tH(t)},By=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!J_(t)||t&&typeof t=="object"&&Da(t,".sv")},Nl=function(t,e,n,r){r&&e===void 0||jv(na(t,"value"),e,n)},jv=function(t,e,n){const r=n instanceof jn?new Xde(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bd(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bd(r)+" with contents = "+e.toString());if(J_(e))throw new Error(t+"contains "+e.toString()+" "+Bd(r));if(typeof e=="string"&&e.length>pC/3&&m_(e)>pC)throw new Error(t+"contains a string greater than "+pC+" utf8 bytes "+Bd(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Vi(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!ow(a)))throw new Error(t+" contains an invalid key ("+a+") "+Bd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Jde(r,a),jv(t,o,r),Yde(r)}),i&&s)throw new Error(t+' contains ".value" child '+Bd(r)+" in addition to actual children.")}},Fhe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Fy(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!ow(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Kde);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Qa(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},nH=function(t,e,n,r){const i=na(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Vi(e,(a,o)=>{const l=new jn(a);if(jv(i,o,Er(n,l)),yk(l)===".priority"&&!By(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Fhe(i,s)},Vk=function(t,e,n){if(J_(e))throw new Error(na(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!By(e))throw new Error(na(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Bv=function(t,e,n,r){if(n!==void 0&&!ow(n))throw new Error(na(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Vy=function(t,e,n,r){if(!tH(n))throw new Error(na(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Mhe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vy(t,e,n)},Za=function(t,e){if(cn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},rH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ow(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Phe(n))throw new Error(na(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uhe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!vk(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function iH(t,e,n){lw(t,n),sH(t,r=>vk(r,e))}function Na(t,e,n){lw(t,n),sH(t,r=>Qa(r,e)||Qa(e,r))}function sH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Ohe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Ohe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();lf&&Oi("event: "+n.toString()),Vm(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="repo_interrupt",Lhe=25;class jhe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Uhe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sb(),this.transactionQueueTree_=new jk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Bhe(t,e,n){if(t.stats_=mk(t.repoInfo_),t.forceRestClient_||xde())t.server_=new Cb(t.repoInfo_,(r,i,s,a)=>{t9(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>n9(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ic(t.repoInfo_,e,(r,i,s,a)=>{t9(t,r,i,s,a)},r=>{n9(t,r)},r=>{Vhe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ede(t.repoInfo_,()=>new Cfe(t.stats_,t.server_)),t.infoData_=new bfe,t.infoSyncTree_=new ZF({startListening:(r,i,s,a)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=Ov(t.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),Wk(t,"connected",!1),t.serverSyncTree_=new ZF({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(o,l)=>{const c=a(o,l);Na(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function oH(t){const n=t.infoData_.getNode(new jn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Vv(t){return Che({timestamp:oH(t)})}function t9(t,e,n,r,i){t.dataUpdateCount++;const s=new jn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const l=Y2(n,c=>Ir(c));a=xhe(t.serverSyncTree_,s,l,i)}else{const l=Ir(n);a=Kz(t.serverSyncTree_,s,l,i)}else if(r){const l=Y2(n,c=>Ir(c));a=ghe(t.serverSyncTree_,s,l)}else{const l=Ir(n);a=Ov(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=gm(t,s)),Na(t.eventQueue_,o,a)}function n9(t,e){Wk(t,"connected",e),e===!1&&$he(t)}function Vhe(t,e){Vi(e,(n,r)=>{Wk(t,n,r)})}function Wk(t,e,n){const r=new jn("/.info/"+e),i=Ir(n);t.infoData_.updateSnapshot(r,i);const s=Ov(t.infoSyncTree_,r,i);Na(t.eventQueue_,r,s)}function cw(t){return t.nextWriteId_++}function Whe(t,e,n){const r=bhe(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ir(i).withIndex(e._queryParams.getIndex());kA(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=Ov(t.serverSyncTree_,e._path,s);else{const o=jy(t.serverSyncTree_,e);a=Kz(t.serverSyncTree_,e._path,s,o)}return Na(t.eventQueue_,e._path,a),Fb(t.serverSyncTree_,e,n,null,!0),s},i=>($m(t,"get for query "+yi(e)+" failed: "+i),Promise.reject(new Error(i))))}function qk(t,e,n,r,i){$m(t,"set",{path:e.toString(),value:n,priority:r});const s=Vv(t),a=Ir(n,r),o=rw(t.serverSyncTree_,e),l=Ok(a,o,s),c=cw(t),u=Ik(t.serverSyncTree_,e,l,c,!0);lw(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),(h,p)=>{const v=h==="ok";v||xs("set at "+e+" failed: "+h);const g=mu(t.serverSyncTree_,c,!v);Na(t.eventQueue_,e,g),Wu(t,i,h,p)});const f=zk(t,e);gm(t,f),Na(t.eventQueue_,f,[])}function qhe(t,e,n,r){$m(t,"update",{path:e.toString(),value:n});let i=!0;const s=Vv(t),a={};if(Vi(n,(o,l)=>{i=!1,a[o]=Qz(Er(e,o),Ir(l),t.serverSyncTree_,s)}),i)Oi("update() called with empty data.  Don't do anything."),Wu(t,r,"ok",void 0);else{const o=cw(t),l=mhe(t.serverSyncTree_,e,a,o);lw(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const f=c==="ok";f||xs("update at "+e+" failed: "+c);const h=mu(t.serverSyncTree_,o,!f),p=h.length>0?gm(t,e):e;Na(t.eventQueue_,p,h),Wu(t,r,c,u)}),Vi(n,c=>{const u=zk(t,Er(e,c));gm(t,u)}),Na(t.eventQueue_,e,[])}}function $he(t){$m(t,"onDisconnectEvents");const e=Vv(t),n=Sb();EA(t.onDisconnect_,kn(),(i,s)=>{const a=Qz(i,s,t.serverSyncTree_,e);Wm(n,i,a)});let r=[];EA(n,kn(),(i,s)=>{r=r.concat(Ov(t.serverSyncTree_,i,s));const a=zk(t,i);gm(t,a)}),t.onDisconnect_=Sb(),Na(t.eventQueue_,kn(),r)}function zhe(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&TA(t.onDisconnect_,e),Wu(t,n,r,i)})}function r9(t,e,n,r){const i=Ir(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&Wm(t.onDisconnect_,e,i),Wu(t,r,s,a)})}function Hhe(t,e,n,r,i){const s=Ir(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&Wm(t.onDisconnect_,e,s),Wu(t,i,a,o)})}function Ghe(t,e,n,r){if(J2(n)){Oi("onDisconnect().update() called with empty data.  Don't do anything."),Wu(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&Vi(n,(a,o)=>{const l=Ir(o);Wm(t.onDisconnect_,Er(e,a),l)}),Wu(t,r,i,s)})}function Khe(t,e,n){let r;cn(e._path)===".info"?r=kA(t.infoSyncTree_,e,n):r=kA(t.serverSyncTree_,e,n),iH(t.eventQueue_,e._path,r)}function RA(t,e,n){let r;cn(e._path)===".info"?r=Fb(t.infoSyncTree_,e,n):r=Fb(t.serverSyncTree_,e,n),iH(t.eventQueue_,e._path,r)}function lH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aH)}function Xhe(t){t.persistentConnection_&&t.persistentConnection_.resume(aH)}function $m(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Oi(n,...e)}function Wu(t,e,n,r){e&&Vm(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function Jhe(t,e,n,r,i,s){$m(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:rz(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=$k(t,e,void 0);a.currentInputSnapshot=o;const l=a.update(o.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{jv("transaction failed: Data returned ",l,a.path),a.status=0;const c=sw(t.transactionQueueTree_,e),u=Zf(c)||[];u.push(a),Bk(c,u);let f;typeof l=="object"&&l!==null&&Da(l,".priority")?(f=yf(l,".priority"),vt(By(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(rw(t.serverSyncTree_,e)||Ht.EMPTY_NODE).getPriority().val();const h=Vv(t),p=Ir(l,f),v=Ok(p,o,h);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=v,a.currentWriteId=cw(t);const g=Ik(t.serverSyncTree_,e,v,a.currentWriteId,a.applyLocally);Na(t.eventQueue_,e,g),uw(t,t.transactionQueueTree_)}}function $k(t,e,n){return rw(t.serverSyncTree_,e,n)||Ht.EMPTY_NODE}function uw(t,e=t.transactionQueueTree_){if(e||dw(t,e),Zf(e)){const n=uH(t,e);vt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Yhe(t,Lv(e),n)}else Zz(e)&&aw(e,n=>{uw(t,n)})}function Yhe(t,e,n){const r=n.map(c=>c.currentWriteId),i=$k(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const u=n[c];vt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Ps(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,c=>{$m(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(mu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();dw(t,sw(t.transactionQueueTree_,e)),uw(t,t.transactionQueueTree_),Na(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)Vm(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{xs("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}gm(t,e)}},a)}function gm(t,e){const n=cH(t,e),r=Lv(n),i=uH(t,n);return Qhe(t,i,r),r}function Qhe(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Ps(n,l.path);let u=!1,f;if(vt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Lhe)u=!0,f="maxretry",i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=$k(t,l.path,a);l.currentInputSnapshot=h;const p=e[o].update(h.val());if(p!==void 0){jv("transaction failed: Data returned ",p,l.path);let v=Ir(p);typeof p=="object"&&p!=null&&Da(p,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,_=Vv(t),x=Ok(v,h,_);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=x,l.currentWriteId=cw(t),a.splice(a.indexOf(y),1),i=i.concat(Ik(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(mu(t.serverSyncTree_,y,!0))}else u=!0,f="nodata",i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0))}Na(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(f),!1,null))))}dw(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)Vm(r[o]);uw(t,t.transactionQueueTree_)}function cH(t,e){let n,r=t.transactionQueueTree_;for(n=cn(e);n!==null&&Zf(r)===void 0;)r=sw(r,n),e=tr(e),n=cn(e);return r}function uH(t,e){const n=[];return dH(t,e,n),n.sort((r,i)=>r.order-i.order),n}function dH(t,e,n){const r=Zf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);aw(e,i=>{dH(t,i,n)})}function dw(t,e){const n=Zf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Bk(e,n.length>0?n:void 0)}aw(e,r=>{dw(t,r)})}function zk(t,e){const n=Lv(cH(t,e)),r=sw(t.transactionQueueTree_,e);return Nhe(r,i=>{mC(t,i)}),mC(t,r),eH(r,i=>{mC(t,i)}),n}function mC(t,e){const n=Zf(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(vt(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(vt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(mu(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Bk(e,void 0):n.length=s+1,Na(t.eventQueue_,Lv(e),i);for(let a=0;a<r.length;a++)Vm(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zhe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function epe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xs(`Invalid query segment '${n}' in query '${t}'`)}return e}const PA=function(t,e){const n=tpe(t),r=n.namespace;n.domain==="firebase.com"&&Al(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Al("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ude();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yz(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new jn(n.pathString)}},tpe=function(t){let e="",n="",r="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=Zhe(t.substring(u,f)));const h=epe(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",npe=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=i9.charAt(n%64),n=Math.floor(n/64);vt(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=i9.charAt(e[i]);return vt(a.length===20,"nextPushId: Length should be 20."),a}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yi(this.snapshot.exportVal())}}class hH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return vt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rpe=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Ys;return zhe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Za("OnDisconnect.remove",this._path);const e=new Ys;return r9(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Za("OnDisconnect.set",this._path),Nl("OnDisconnect.set",e,this._path,!1);const n=new Ys;return r9(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Za("OnDisconnect.setWithPriority",this._path),Nl("OnDisconnect.setWithPriority",e,this._path,!1),Vk("OnDisconnect.setWithPriority",n);const r=new Ys;return Hhe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Za("OnDisconnect.update",this._path),nH("OnDisconnect.update",e,this._path);const n=new Ys;return Ghe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return un(this._path)?null:yk(this._path)}get ref(){return new lo(this._repo,this._path)}get _queryIdentifier(){const e=qF(this._queryParams),n=hk(e);return n==="{}"?"default":n}get _queryObject(){return qF(this._queryParams)}isEqual(e){if(e=Nt(e),!(e instanceof la))return!1;const n=this._repo===e._repo,r=vk(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Gde(this._path)}}function fw(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function td(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Tl){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Lu)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==yc)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ar){if(e!=null&&!By(e)||n!=null&&!By(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(vt(t.getIndex()instanceof _k||t.getIndex()===wk,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class lo extends la{constructor(e,n){super(e,n,new Q_,!1)}get parent(){const e=Sz(this._path);return e===null?null:new lo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let pw=class FA{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new jn(e),r=Rf(this.ref,e);return new FA(this._node.getChild(n),r,ar)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new FA(i,Rf(this.ref,r),ar)))}hasChild(e){const n=new jn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function pH(t,e){return t=Nt(t),t._checkNotDeleted("ref"),e!==void 0?Rf(t._root,e):t._root}function s9(t,e){t=Nt(t),t._checkNotDeleted("refFromURL");const n=PA(e,t._repo.repoInfo_.nodeAdmin);rH("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Al("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),pH(t,n.path.toString())}function Rf(t,e){return t=Nt(t),cn(t._path)===null?Mhe("child","path",e):Vy("child","path",e),new lo(t._repo,Er(t._path,e))}function ipe(t,e){t=Nt(t),Za("push",t._path),Nl("push",e,t._path,!0);const n=oH(t._repo),r=npe(n),i=Rf(t,r),s=Rf(t,r);let a;return e!=null?a=Gk(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function spe(t){return Za("remove",t._path),Gk(t,null)}function Gk(t,e){t=Nt(t),Za("set",t._path),Nl("set",e,t._path,!1);const n=new Ys;return qk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ape(t,e){t=Nt(t),Za("setPriority",t._path),Vk("setPriority",e);const n=new Ys;return qk(t._repo,Er(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function ope(t,e,n){if(Za("setWithPriority",t._path),Nl("setWithPriority",e,t._path,!1),Vk("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Ys;return qk(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function lpe(t,e){nH("update",e,t._path);const n=new Ys;return qhe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function cpe(t){t=Nt(t);const e=new Hk(()=>{}),n=new Wv(e);return Whe(t._repo,t,n).then(r=>new pw(r,new lo(t._repo,t._path),t._queryParams.getIndex()))}class Wv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new fH("value",this,new pw(e.snapshotNode,new lo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hH(this,e,n):null}matches(e){return e instanceof Wv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class mw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hH(this,e,n):null}createEvent(e,n){vt(e.childName!=null,"Child events should have a childName.");const r=Rf(new lo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new fH(e.type,this,new pw(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof mw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function qv(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{RA(t._repo,t,o),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new Hk(n,s||void 0),o=e==="value"?new Wv(a):new mw(e,a);return Khe(t._repo,t,o),()=>RA(t._repo,t,o)}function MA(t,e,n,r){return qv(t,"value",e,n,r)}function a9(t,e,n,r){return qv(t,"child_added",e,n,r)}function o9(t,e,n,r){return qv(t,"child_changed",e,n,r)}function l9(t,e,n,r){return qv(t,"child_moved",e,n,r)}function c9(t,e,n,r){return qv(t,"child_removed",e,n,r)}function u9(t,e,n){let r=null;const i=n?new Hk(n):null;e==="value"?r=new Wv(i):e&&(r=new mw(e,i)),RA(t._repo,t,r)}class qo{}class mH extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Nl("endAt",this._value,e._path,!0);const n=wA(e._queryParams,this._value,this._key);if(hw(n),td(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new la(e._repo,e._path,n,e._orderByCalled)}}function upe(t,e){return Bv("endAt","key",e),new mH(t,e)}class dpe extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Nl("endBefore",this._value,e._path,!1);const n=xfe(e._queryParams,this._value,this._key);if(hw(n),td(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new la(e._repo,e._path,n,e._orderByCalled)}}function fpe(t,e){return Bv("endBefore","key",e),new dpe(t,e)}class gH extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Nl("startAt",this._value,e._path,!0);const n=_A(e._queryParams,this._value,this._key);if(hw(n),td(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new la(e._repo,e._path,n,e._orderByCalled)}}function hpe(t=null,e){return Bv("startAt","key",e),new gH(t,e)}class ppe extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Nl("startAfter",this._value,e._path,!1);const n=vfe(e._queryParams,this._value,this._key);if(hw(n),td(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new la(e._repo,e._path,n,e._orderByCalled)}}function mpe(t,e){return Bv("startAfter","key",e),new ppe(t,e)}class gpe extends qo{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new la(e._repo,e._path,gfe(e._queryParams,this._limit),e._orderByCalled)}}function ype(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new gpe(t)}class vpe extends qo{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new la(e._repo,e._path,yfe(e._queryParams,this._limit),e._orderByCalled)}}function xpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vpe(t)}class bpe extends qo{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){fw(e,"orderByChild");const n=new jn(this._path);if(un(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new _k(n),i=Z_(e._queryParams,r);return td(i),new la(e._repo,e._path,i,!0)}}function _pe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vy("orderByChild","path",t),new bpe(t)}class wpe extends qo{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){fw(e,"orderByKey");const n=Z_(e._queryParams,Tl);return td(n),new la(e._repo,e._path,n,!0)}}function Tpe(){return new wpe}class Epe extends qo{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){fw(e,"orderByPriority");const n=Z_(e._queryParams,ar);return td(n),new la(e._repo,e._path,n,!0)}}function Cpe(){return new Epe}class Spe extends qo{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){fw(e,"orderByValue");const n=Z_(e._queryParams,wk);return td(n),new la(e._repo,e._path,n,!0)}}function Dpe(){return new Spe}class Ape extends qo{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Nl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mH(this._value,this._key)._apply(new gH(this._value,this._key)._apply(e))}}function Npe(t,e){return Bv("equalTo","key",e),new Ape(t,e)}function To(t,...e){let n=Nt(t);for(const r of e)n=r._apply(n);return n}ohe(lo);fhe(lo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kpe="FIREBASE_DATABASE_EMULATOR_HOST",UA={};let Ipe=!1;function Rpe(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Il(s);t.repoInfo_=new yz(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function yH(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Al("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oi("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=PA(s,i),o=a.repoInfo,l,c;typeof process<"u"&&CF&&(c=CF[kpe]),c?(l=!0,s=`http://${c}?ns=${o.namespace}`,a=PA(s,i),o=a.repoInfo):l=!a.repoInfo.secure;const u=i&&l?new Rp(Rp.OWNER):new _de(t.name,t.options,e);rH("Invalid Firebase Database URL",a),un(a.path)||Al("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Fpe(o,t,u,new bde(t,n));return new Mpe(f,t)}function Ppe(t,e){const n=UA[e];(!n||n[t.key]!==t)&&Al(`Database ${e}(${t.repoInfo_}) has already been deleted.`),lH(t),delete n[t.key]}function Fpe(t,e,n,r){let i=UA[e.name];i||(i={},UA[e.name]=i);let s=i[t.toURLString()];return s&&Al("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new jhe(t,Ipe,n,r),i[t.toURLString()]=s,s}let Mpe=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Bhe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lo(this._repo,kn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ppe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Al("Cannot call "+e+" on a deleted database.")}};function vH(){fm.IS_TRANSPORT_INITIALIZED&&xs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Upe(){vH(),pu.forceDisallow()}function Ope(){vH(),Ja.forceDisallow(),pu.forceAllow()}function Lpe(t,e,n,r={}){t=Nt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&fc(r,s.repoInfo_.emulatorOptions))return;Al("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Al('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Rp(Rp.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:NN(r.mockUserToken,t.app.options.projectId);a=new Rp(o)}Il(e)&&(d_(e),f_("Database",!0)),Rpe(s,i,r,a)}function jpe(t){t=Nt(t),t._checkNotDeleted("goOffline"),lH(t._repo)}function Bpe(t){t=Nt(t),t._checkNotDeleted("goOnline"),Xhe(t._repo)}function Vpe(t,e){sz(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wpe(t){tz(Rl),El(new Ls("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return yH(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Fs(SF,DF,t),Fs(SF,DF,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qpe={".sv":"timestamp"};function $pe(){return qpe}function zpe(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hpe=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Gpe(t,e,n){if(t=Nt(t),Za("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(n==null?void 0:n.applyLocally)??!0,i=new Ys,s=(o,l,c)=>{let u=null;o?i.reject(o):(u=new pw(c,new lo(t._repo,t._path),ar),i.resolve(new Hpe(l,u)))},a=MA(t,()=>{});return Jhe(t._repo,t._path,e,s,a,r),i.promise}ic.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ic.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Wpe();const Kpe="@firebase/database-compat",Xpe="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe=new Nm("@firebase/database-compat"),xH=function(t){const e="FIREBASE WARNING: "+t;Jpe.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ype=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(na(t,e)+"must be a boolean.")},Qpe=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(na(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zpe{constructor(e){this._delegate=e}cancel(e){Kt("OnDisconnect.cancel",0,1,arguments.length),Fi("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Kt("OnDisconnect.remove",0,1,arguments.length),Fi("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Kt("OnDisconnect.set",1,2,arguments.length),Fi("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Kt("OnDisconnect.setWithPriority",2,3,arguments.length),Fi("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(Kt("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,xH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fi("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Kt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this._database=e,this._delegate=n}val(){return Kt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Kt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Kt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Kt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Kt("DataSnapshot.child",0,1,arguments.length),e=String(e),Vy("DataSnapshot.child","path",e),new Du(this._database,this._delegate.child(e))}hasChild(e){return Kt("DataSnapshot.hasChild",1,1,arguments.length),Vy("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return Kt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Kt("DataSnapshot.forEach",1,1,arguments.length),Fi("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Du(this._database,n)))}hasChildren(){return Kt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Kt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Kt("DataSnapshot.ref",0,0,arguments.length),new Qd(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ki{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var l;Kt("Query.on",2,4,arguments.length),Fi("Query.on","callback",n,!1);const s=Ki.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Du(this.database,c),u)};a.userCallback=n,a.context=s.context;const o=(l=s.cancel)==null?void 0:l.bind(s.context);switch(e){case"value":return MA(this._delegate,a,o),n;case"child_added":return a9(this._delegate,a,o),n;case"child_removed":return c9(this._delegate,a,o),n;case"child_changed":return o9(this._delegate,a,o),n;case"child_moved":return l9(this._delegate,a,o),n;default:throw new Error(na("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Kt("Query.off",0,3,arguments.length),Qpe("Query.off",e),Fi("Query.off","callback",n,!0),x8("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,u9(this._delegate,e,i)}else u9(this._delegate,e)}get(){return cpe(this._delegate).then(e=>new Du(this.database,e))}once(e,n,r,i){Kt("Query.once",1,4,arguments.length),Fi("Query.once","callback",n,!0);const s=Ki.getCancelAndContextArgs_("Query.once",r,i),a=new Ys,o=(c,u)=>{const f=new Du(this.database,c);n&&n.call(s.context,f,u),a.resolve(f)};o.userCallback=n,o.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":MA(this._delegate,o,l,{onlyOnce:!0});break;case"child_added":a9(this._delegate,o,l,{onlyOnce:!0});break;case"child_removed":c9(this._delegate,o,l,{onlyOnce:!0});break;case"child_changed":o9(this._delegate,o,l,{onlyOnce:!0});break;case"child_moved":l9(this._delegate,o,l,{onlyOnce:!0});break;default:throw new Error(na("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return Kt("Query.limitToFirst",1,1,arguments.length),new Ki(this.database,To(this._delegate,ype(e)))}limitToLast(e){return Kt("Query.limitToLast",1,1,arguments.length),new Ki(this.database,To(this._delegate,xpe(e)))}orderByChild(e){return Kt("Query.orderByChild",1,1,arguments.length),new Ki(this.database,To(this._delegate,_pe(e)))}orderByKey(){return Kt("Query.orderByKey",0,0,arguments.length),new Ki(this.database,To(this._delegate,Tpe()))}orderByPriority(){return Kt("Query.orderByPriority",0,0,arguments.length),new Ki(this.database,To(this._delegate,Cpe()))}orderByValue(){return Kt("Query.orderByValue",0,0,arguments.length),new Ki(this.database,To(this._delegate,Dpe()))}startAt(e=null,n){return Kt("Query.startAt",0,2,arguments.length),new Ki(this.database,To(this._delegate,hpe(e,n)))}startAfter(e=null,n){return Kt("Query.startAfter",0,2,arguments.length),new Ki(this.database,To(this._delegate,mpe(e,n)))}endAt(e=null,n){return Kt("Query.endAt",0,2,arguments.length),new Ki(this.database,To(this._delegate,upe(e,n)))}endBefore(e=null,n){return Kt("Query.endBefore",0,2,arguments.length),new Ki(this.database,To(this._delegate,fpe(e,n)))}equalTo(e,n){return Kt("Query.equalTo",1,2,arguments.length),new Ki(this.database,To(this._delegate,Npe(e,n)))}toString(){return Kt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Kt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Kt("Query.isEqual",1,1,arguments.length),!(e instanceof Ki)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Fi(e,"cancel",i.cancel,!0),i.context=r,x8(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(na(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Qd(this.database,new lo(this._delegate._repo,this._delegate._path))}}let Qd=class pp extends Ki{constructor(e,n){super(e,new la(n._repo,n._path,new Q_,!1)),this.database=e,this._delegate=n}getKey(){return Kt("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Kt("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new pp(this.database,Rf(this._delegate,e))}getParent(){Kt("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new pp(this.database,e):null}getRoot(){return Kt("Reference.root",0,0,arguments.length),new pp(this.database,this._delegate.root)}set(e,n){Kt("Reference.set",1,2,arguments.length),Fi("Reference.set","onComplete",n,!0);const r=Gk(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Kt("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,xH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Za("Reference.update",this._delegate._path),Fi("Reference.update","onComplete",n,!0);const r=lpe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Kt("Reference.setWithPriority",2,3,arguments.length),Fi("Reference.setWithPriority","onComplete",r,!0);const i=ope(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){Kt("Reference.remove",0,1,arguments.length),Fi("Reference.remove","onComplete",e,!0);const n=spe(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Kt("Reference.transaction",1,3,arguments.length),Fi("Reference.transaction","transactionUpdate",e,!1),Fi("Reference.transaction","onComplete",n,!0),Ype("Reference.transaction","applyLocally",r);const i=Gpe(this._delegate,e,{applyLocally:r}).then(s=>new eme(s.committed,new Du(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){Kt("Reference.setPriority",1,2,arguments.length),Fi("Reference.setPriority","onComplete",n,!0);const r=ape(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Kt("Reference.push",0,2,arguments.length),Fi("Reference.push","onComplete",n,!0);const r=ipe(this._delegate,e),i=r.then(a=>new pp(this.database,a));n&&i.then(()=>n(null),a=>n(a));const s=new pp(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Za("Reference.onDisconnect",this._delegate._path),new Zpe(new rpe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Upe,forceLongPolling:Ope}}useEmulator(e,n,r={}){Lpe(this._delegate,e,n,r)}ref(e){if(Kt("database.ref",0,1,arguments.length),e instanceof Qd){const n=s9(this._delegate,e.toString());return new Qd(this,n)}else{const n=pH(this._delegate,e);return new Qd(this,n)}}refFromURL(e){Kt("database.refFromURL",1,1,arguments.length);const r=s9(this._delegate,e);return new Qd(this,r)}goOffline(){return Kt("database.goOffline",0,0,arguments.length),jpe(this._delegate)}goOnline(){return Kt("database.goOnline",0,0,arguments.length),Bpe(this._delegate)}}Wy.ServerValue={TIMESTAMP:$pe(),increment:t=>zpe(t)};function tme({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){tz(n);const o=new IN("database-standalone"),l=new D4("auth-internal",o);l.setComponent(new Ls("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new D4("app-check-internal",o),c.setComponent(new Ls("app-check-internal",()=>i,"PRIVATE"))),{instance:new Wy(yH(t,l,c,e,a),t),namespace:s}}var nme=Object.freeze({__proto__:null,initStandalone:tme});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme=Wy.ServerValue;function ime(t){t.INTERNAL.registerComponent(new Ls("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Wy(i,r)},"PUBLIC").setServiceProps({Reference:Qd,Query:Ki,Database:Wy,DataSnapshot:Du,enableLogging:Vpe,INTERNAL:nme,ServerValue:rme}).setMultipleInstances(!0)),t.registerVersion(Kpe,Xpe)}ime(Br);const sme={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};Br.apps.length||Br.initializeApp(sme);const Lr=Br.auth(),ym=Br.firestore();Br.database();const ei={profilePicture:{id:"profilePicture",label:"formFields.profilePicture",type:"file",placeholder:"formFields.placeholders.profilePicture"},fullName:{id:"fullName",label:"formFields.fullName",type:"text",placeholder:"formFields.placeholders.fullName"},firstName:{id:"firstName",label:"formFields.firstName",type:"text",placeholder:"formFields.placeholders.firstName"},lastName:{id:"lastName",label:"formFields.lastName",type:"text",placeholder:"formFields.placeholders.lastName"},firstNameFr:{id:"firstNameFr",label:"formFields.firstNameFr",type:"text",placeholder:"formFields.placeholders.firstNameFr"},lastNameFr:{id:"lastNameFr",label:"formFields.lastNameFr",type:"text",placeholder:"formFields.placeholders.lastNameFr"},birthdaydate:{id:"birthdaydate",label:"formFields.birthdaydate",type:"date",placeholder:""},birthdayplace:{id:"birthdayplace",label:"formFields.birthdayplace",type:"text",placeholder:"formFields.placeholders.birthdayplace"},address:{id:"address",label:"formFields.address",type:"text",placeholder:"formFields.placeholders.address"},phone:{id:"phone",label:"formFields.phone",type:"tel",placeholder:"formFields.placeholders.phone"},email:{id:"email",label:"formFields.email",type:"email",placeholder:"formFields.placeholders.email"},jobTitle:{id:"jobTitle",label:"formFields.jobTitle",type:"text",placeholder:"formFields.placeholders.jobTitle"},nationalId:{id:"nationalId",label:"formFields.nationalId",type:"text",placeholder:"formFields.placeholders.nationalId"},birthCertificateNumber:{id:"birthCertificateNumber",label:"formFields.birthCertificateNumber",type:"text",placeholder:"formFields.placeholders.birthCertificateNumber"},socialSecurityNumber:{id:"socialSecurityNumber",label:"formFields.socialSecurityNumber",type:"text",placeholder:"formFields.placeholders.socialSecurityNumber"},nationality:{id:"nationality",label:"formFields.nationality",type:"text",placeholder:"formFields.placeholders.nationality"},maritalStatus:{id:"maritalStatus",label:"formFields.maritalStatus",type:"select",placeholder:"formFields.placeholders.maritalStatus",options:[{value:"married",label:"formFields.maritalStatusOptions.married"},{value:"single",label:"formFields.maritalStatusOptions.single"},{value:"divorced",label:"formFields.maritalStatusOptions.divorced"}]},motherFirstName:{id:"motherFirstName",label:"formFields.motherFirstName",type:"text",placeholder:"formFields.placeholders.motherFirstName"},motherLastName:{id:"motherLastName",label:"formFields.motherLastName",type:"text",placeholder:"formFields.placeholders.motherLastName"},motherDob:{id:"motherDob",label:"formFields.motherDob",type:"date",placeholder:""},motherPob:{id:"motherPob",label:"formFields.motherPob",type:"text",placeholder:"formFields.placeholders.motherPob"},fatherFirstName:{id:"fatherFirstName",label:"formFields.fatherFirstName",type:"text",placeholder:"formFields.placeholders.fatherFirstName"},fatherLastName:{id:"fatherLastName",label:"formFields.fatherLastName",type:"text",placeholder:"formFields.placeholders.fatherLastName"},fatherDob:{id:"fatherDob",label:"formFields.fatherDob",type:"date",placeholder:""},fatherPob:{id:"fatherPob",label:"formFields.fatherPob",type:"text",placeholder:"formFields.placeholders.fatherPob"},residenceWilaya:{id:"residenceWilaya",label:"formFields.residenceWilaya",type:"text",placeholder:"formFields.placeholders.residenceWilaya"},residenceDaira:{id:"residenceDaira",label:"formFields.residenceDaira",type:"text",placeholder:"formFields.placeholders.residenceDaira"},residenceCommune:{id:"residenceCommune",label:"formFields.residenceCommune",type:"text",placeholder:"formFields.placeholders.residenceCommune"},residenceStreet:{id:"residenceStreet",label:"formFields.residenceStreet",type:"text",placeholder:"formFields.placeholders.residenceStreet"},birthWilaya:{id:"birthWilaya",label:"formFields.birthWilaya",type:"text",placeholder:"formFields.placeholders.birthWilaya"},birthDaira:{id:"birthDaira",label:"formFields.birthDaira",type:"text",placeholder:"formFields.placeholders.birthDaira"},birthCommune:{id:"birthCommune",label:"formFields.birthCommune",type:"text",placeholder:"formFields.placeholders.birthCommune"},bloodType:{id:"bloodType",label:"formFields.bloodType",type:"text",placeholder:"formFields.placeholders.bloodType"},DateToday:{id:"DateToday",label:"formFields.dateToday",type:"text",placeholder:""},gender:{id:"gender",label:"formFields.gender",type:"select",placeholder:"formFields.placeholders.gender",options:[{value:"male",label:"formFields.genderOptions.male"},{value:"female",label:"formFields.genderOptions.female"}]},height:{id:"height",label:"formFields.height",type:"number",placeholder:"formFields.placeholders.height"},eyeColor:{id:"eyeColor",label:"formFields.eyeColor",type:"text",placeholder:"formFields.placeholders.eyeColor"},distinguishingMarks:{id:"distinguishingMarks",label:"formFields.distinguishingMarks",type:"text",placeholder:"formFields.placeholders.distinguishingMarks"},employerName:{id:"employerName",label:"formFields.employerName",type:"text",placeholder:"formFields.placeholders.employerName"},employerAddress:{id:"employerAddress",label:"formFields.employerAddress",type:"text",placeholder:"formFields.placeholders.employerAddress"},educationLevel:{id:"educationLevel",label:"formFields.educationLevel",type:"select",placeholder:"formFields.placeholders.educationLevel",options:[{value:"primary",label:"formFields.educationLevelOptions.primary"},{value:"middle",label:"formFields.educationLevelOptions.middle"},{value:"high",label:"formFields.educationLevelOptions.high"},{value:"university",label:"formFields.educationLevelOptions.university"},{value:"postgraduate",label:"formFields.educationLevelOptions.postgraduate"}]},universityName:{id:"universityName",label:"formFields.universityName",type:"text",placeholder:"formFields.placeholders.universityName"},graduationDate:{id:"graduationDate",label:"formFields.graduationDate",type:"date",placeholder:""},fieldOfStudy:{id:"fieldOfStudy",label:"formFields.fieldOfStudy",type:"text",placeholder:"formFields.placeholders.fieldOfStudy"},higherInstituteName:{id:"higherInstituteName",label:"formFields.higherInstituteName",type:"text",placeholder:"formFields.placeholders.higherInstituteName"},vocationalTrainingCenterName:{id:"vocationalTrainingCenterName",label:"formFields.vocationalTrainingCenterName",type:"text",placeholder:"formFields.placeholders.vocationalTrainingCenterName"},schoolName:{id:"schoolName",label:"formFields.schoolName",type:"text",placeholder:"formFields.placeholders.schoolName"},highSchoolName:{id:"highSchoolName",label:"formFields.highSchoolName",type:"text",placeholder:"formFields.placeholders.highSchoolName"},middleSchoolName:{id:"middleSchoolName",label:"formFields.middleSchoolName",type:"text",placeholder:"formFields.placeholders.middleSchoolName"},universityCity:{id:"universityCity",label:"formFields.universityCity",type:"text",placeholder:"formFields.placeholders.universityCity"},passportNumber:{id:"passportNumber",label:"formFields.passportNumber",type:"text",placeholder:"formFields.placeholders.passportNumber"},passportIssueDate:{id:"passportIssueDate",label:"formFields.passportIssueDate",type:"date",placeholder:""},passportExpiryDate:{id:"passportExpiryDate",label:"formFields.passportExpiryDate",type:"date",placeholder:""},passportIssuePlace:{id:"passportIssuePlace",label:"formFields.passportIssuePlace",type:"text",placeholder:"formFields.placeholders.passportIssuePlace"},drivingLicenseNumber:{id:"drivingLicenseNumber",label:"formFields.drivingLicenseNumber",type:"text",placeholder:"formFields.placeholders.drivingLicenseNumber"},drivingLicenseCategory:{id:"drivingLicenseCategory",label:"formFields.drivingLicenseCategory",type:"text",placeholder:"formFields.placeholders.drivingLicenseCategory"},drivingLicenseIssueDate:{id:"drivingLicenseIssueDate",label:"formFields.drivingLicenseIssueDate",type:"date",placeholder:""},numberOfChildren:{id:"numberOfChildren",label:"formFields.numberOfChildren",type:"number",placeholder:"formFields.placeholders.numberOfChildren"},numberOfSons:{id:"numberOfSons",label:"formFields.numberOfSons",type:"number",placeholder:"formFields.placeholders.numberOfSons"},numberOfDaughters:{id:"numberOfDaughters",label:"formFields.numberOfDaughters",type:"number",placeholder:"formFields.placeholders.numberOfDaughters"},numberOfSiblings:{id:"numberOfSiblings",label:"formFields.numberOfSiblings",type:"number",placeholder:"formFields.placeholders.numberOfSiblings"},numberOfBrothers:{id:"numberOfBrothers",label:"formFields.numberOfBrothers",type:"number",placeholder:"formFields.placeholders.numberOfBrothers"},numberOfSisters:{id:"numberOfSisters",label:"formFields.numberOfSisters",type:"number",placeholder:"formFields.placeholders.numberOfSisters"},spouseFullName:{id:"spouseFullName",label:"formFields.spouseFullName",type:"text",placeholder:"formFields.placeholders.spouseFullName"},spouseDob:{id:"spouseDob",label:"formFields.spouseDob",type:"date",placeholder:""},spouseJob:{id:"spouseJob",label:"formFields.spouseJob",type:"text",placeholder:"formFields.placeholders.spouseJob"},militaryStatus:{id:"militaryStatus",label:"formFields.militaryStatus",type:"text",placeholder:"formFields.placeholders.militaryStatus"},ToTheGovernorOftheStateOf:{id:"ToTheGovernorOftheStateOf",label:"formFields.ToTheGovernorOftheStateOf",type:"text",placeholder:"formFields.placeholders.ToTheGovernorOftheStateOf"},submissionDaira:{id:"submissionDaira",label:"formFields.submissionDaira",type:"text",placeholder:"formFields.placeholders.submissionDaira"},ToTheMayorOf:{id:"ToTheMayorOf",label:"formFields.ToTheMayorOf",type:"text",placeholder:"formFields.placeholders.ToTheMayorOf"},employerWilaya:{id:"employerWilaya",label:"formFields.employerWilaya",type:"text",placeholder:"formFields.placeholders.employerWilaya"},employerDaira:{id:"employerDaira",label:"formFields.employerDaira",type:"text",placeholder:"formFields.placeholders.employerDaira"},employerCommune:{id:"employerCommune",label:"formFields.employerCommune",type:"text",placeholder:"formFields.placeholders.employerCommune"},criminalRecordNumber:{id:"criminalRecordNumber",label:"formFields.criminalRecordNumber",type:"text",placeholder:"formFields.placeholders.criminalRecordNumber"},criminalRecordIssueDate:{id:"criminalRecordIssueDate",label:"formFields.criminalRecordIssueDate",type:"date",placeholder:""},criminalRecordIssuePlace:{id:"criminalRecordIssuePlace",label:"formFields.criminalRecordIssuePlace",type:"text",placeholder:"formFields.placeholders.criminalRecordIssuePlace"},commercialRegistryNumber:{id:"commercialRegistryNumber",label:"formFields.commercialRegistryNumber",type:"text",placeholder:"formFields.placeholders.commercialRegistryNumber"},taxIdNumber:{id:"taxIdNumber",label:"formFields.taxIdNumber",type:"text",placeholder:"formFields.placeholders.taxIdNumber"},casnosNumber:{id:"casnosNumber",label:"formFields.casnosNumber",type:"text",placeholder:"formFields.placeholders.casnosNumber"},vehicleRegistrationCardNumber:{id:"vehicleRegistrationCardNumber",label:"formFields.vehicleRegistrationCardNumber",type:"text",placeholder:"formFields.placeholders.vehicleRegistrationCardNumber"},vehicleType:{id:"vehicleType",label:"formFields.vehicleType",type:"text",placeholder:"formFields.placeholders.vehicleType"},vehicleBrand:{id:"vehicleBrand",label:"formFields.vehicleBrand",type:"text",placeholder:"formFields.placeholders.vehicleBrand"},vehicleModel:{id:"vehicleModel",label:"formFields.vehicleModel",type:"text",placeholder:"formFields.placeholders.vehicleModel"},vehicleFirstRegistrationDate:{id:"vehicleFirstRegistrationDate",label:"formFields.vehicleFirstRegistrationDate",type:"date",placeholder:""},bankName:{id:"bankName",label:"formFields.bankName",type:"text",placeholder:"formFields.placeholders.bankName"},bankAccountNumber:{id:"bankAccountNumber",label:"formFields.bankAccountNumber",type:"text",placeholder:"formFields.placeholders.bankAccountNumber"},bankAgencyName:{id:"bankAgencyName",label:"formFields.bankAgencyName",type:"text",placeholder:"formFields.placeholders.bankAgencyName"},bankAgencyCode:{id:"bankAgencyCode",label:"formFields.bankAgencyCode",type:"text",placeholder:"formFields.placeholders.bankAgencyCode"},bankNameTo:{id:"bankNameTo",label:"formFields.bankNameTo",type:"text",placeholder:"formFields.placeholders.bankNameTo"},bankWilayaTo:{id:"bankWilayaTo",label:"formFields.bankWilayaTo",type:"text",placeholder:"formFields.placeholders.bankWilayaTo"},bankCountryTo:{id:"bankCountryTo",label:"formFields.bankCountryTo",type:"text",placeholder:"formFields.placeholders.bankCountryTo"},bankStreetTo:{id:"bankStreetTo",label:"formFields.bankStreetTo",type:"text",placeholder:"formFields.placeholders.bankStreetTo"},bankNameFrom:{id:"bankNameFrom",label:"formFields.bankNameFrom",type:"text",placeholder:"formFields.placeholders.bankNameFrom"},bankWilayaFrom:{id:"bankWilayaFrom",label:"formFields.bankWilayaFrom",type:"text",placeholder:"formFields.placeholders.bankWilayaFrom"},bankCountryFrom:{id:"bankCountryFrom",label:"formFields.bankCountryFrom",type:"text",placeholder:"formFields.placeholders.bankCountryFrom"},bankStreetFrom:{id:"bankStreetFrom",label:"formFields.bankStreetFrom",type:"text",placeholder:"formFields.placeholders.bankStreetFrom"},amountReceived:{id:"amountReceived",label:"formFields.amountReceived",type:"number",placeholder:"formFields.placeholders.amountReceived"},amountSent:{id:"amountSent",label:"formFields.amountSent",type:"number",placeholder:"formFields.placeholders.amountSent"},employmentContractType:{id:"employmentContractType",label:"formFields.employmentContractType",type:"text",placeholder:"formFields.placeholders.employmentContractType"},employmentStartDate:{id:"employmentStartDate",label:"formFields.employmentStartDate",type:"date",placeholder:""},employeeIdNumber:{id:"employeeIdNumber",label:"formFields.employeeIdNumber",type:"text",placeholder:"formFields.placeholders.employeeIdNumber"},professionalGrade:{id:"professionalGrade",label:"formFields.professionalGrade",type:"text",placeholder:"formFields.placeholders.professionalGrade"},nationalIdIssueDate:{id:"nationalIdIssueDate",label:"formFields.nationalIdIssueDate",type:"date",placeholder:""},nationalIdExpiryDate:{id:"nationalIdExpiryDate",label:"formFields.nationalIdExpiryDate",type:"date",placeholder:""},drivingLicenseExpiryDate:{id:"drivingLicenseExpiryDate",label:"formFields.drivingLicenseExpiryDate",type:"date",placeholder:""},familyBookNumber:{id:"familyBookNumber",label:"formFields.familyBookNumber",type:"text",placeholder:"formFields.placeholders.familyBookNumber"},marriageDate:{id:"marriageDate",label:"formFields.marriageDate",type:"date",placeholder:""},marriagePlace:{id:"marriagePlace",label:"formFields.marriagePlace",type:"text",placeholder:"formFields.placeholders.marriagePlace"},rentalContractNumber:{id:"rentalContractNumber",label:"formFields.rentalContractNumber",type:"text",placeholder:"formFields.placeholders.rentalContractNumber"},landlordName:{id:"landlordName",label:"formFields.landlordName",type:"text",placeholder:"formFields.placeholders.landlordName"},propertyAddress:{id:"propertyAddress",label:"formFields.propertyAddress",type:"text",placeholder:"formFields.placeholders.propertyAddress"},attendingPhysicianName:{id:"attendingPhysicianName",label:"formFields.attendingPhysicianName",type:"text",placeholder:"formFields.placeholders.attendingPhysicianName"},disabilityType:{id:"disabilityType",label:"formFields.disabilityType",type:"text",placeholder:"formFields.placeholders.disabilityType"},disabilityPercentage:{id:"disabilityPercentage",label:"formFields.disabilityPercentage",type:"number",placeholder:"formFields.placeholders.disabilityPercentage"},deceasedParentFullName:{id:"deceasedParentFullName",label:"formFields.deceasedParentFullName",type:"text",placeholder:"formFields.placeholders.deceasedParentFullName"},deceasedParentDod:{id:"deceasedParentDod",label:"formFields.deceasedParentDod",type:"date",placeholder:""},deceasedParentPod:{id:"deceasedParentPod",label:"formFields.deceasedParentPod",type:"text",placeholder:"formFields.placeholders.deceasedParentPod"},deathCertificateNumber:{id:"deathCertificateNumber",label:"formFields.deathCertificateNumber",type:"text",placeholder:"formFields.placeholders.deathCertificateNumber"},survivingParentFullName:{id:"survivingParentFullName",label:"formFields.survivingParentFullName",type:"text",placeholder:"formFields.placeholders.survivingParentFullName"},survivingParentJobTitle:{id:"survivingParentJobTitle",label:"formFields.survivingParentJobTitle",type:"text",placeholder:"formFields.placeholders.survivingParentJobTitle"},hospitalName:{id:"hospitalName",label:"formFields.hospitalName",type:"text",placeholder:"formFields.placeholders.hospitalName"},motherFullName:{id:"motherFullName",label:"formFields.motherFullName",type:"text",placeholder:"formFields.placeholders.motherFullName"},fatherFullName:{id:"fatherFullName",label:"formFields.fatherFullName",type:"text",placeholder:"formFields.placeholders.fatherFullName"},spousePob:{id:"spousePob",label:"formFields.spousePob",type:"text",placeholder:"formFields.placeholders.spousePob"},sonName:{id:"sonName",label:"formFields.sonName",type:"text",placeholder:"formFields.placeholders.sonName"},sonDob:{id:"sonDob",label:"formFields.sonDob",type:"date",placeholder:""},sonPob:{id:"sonPob",label:"formFields.sonPob",type:"text",placeholder:"formFields.placeholders.sonPob"},daughterName:{id:"daughterName",label:"formFields.daughterName",type:"text",placeholder:"formFields.placeholders.daughterName"},daughterDob:{id:"daughterDob",label:"formFields.daughterDob",type:"date",placeholder:""},daughterPob:{id:"daughterPob",label:"formFields.daughterPob",type:"text",placeholder:"formFields.placeholders.daughterPob"},paternalGrandfatherName:{id:"paternalGrandfatherName",label:"formFields.paternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherName"},paternalGrandfatherDob:{id:"paternalGrandfatherDob",label:"formFields.paternalGrandfatherDob",type:"date",placeholder:""},paternalGrandfatherPob:{id:"paternalGrandfatherPob",label:"formFields.paternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherPob"},paternalGrandmotherName:{id:"paternalGrandmotherName",label:"formFields.paternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherName"},paternalGrandmotherDob:{id:"paternalGrandmotherDob",label:"formFields.paternalGrandmotherDob",type:"date",placeholder:""},paternalGrandmotherPob:{id:"paternalGrandmotherPob",label:"formFields.paternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherPob"},maternalGrandfatherName:{id:"maternalGrandfatherName",label:"formFields.maternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherName"},maternalGrandfatherDob:{id:"maternalGrandfatherDob",label:"formFields.maternalGrandfatherDob",type:"date",placeholder:""},maternalGrandfatherPob:{id:"maternalGrandfatherPob",label:"formFields.maternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherPob"},maternalGrandmotherName:{id:"maternalGrandmotherName",label:"formFields.maternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherName"},maternalGrandmotherDob:{id:"maternalGrandmotherDob",label:"formFields.maternalGrandmotherDob",type:"date",placeholder:""},maternalGrandmotherPob:{id:"maternalGrandmotherPob",label:"formFields.maternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherPob"},currentTime:{id:"currentTime",label:"formFields.currentTime",type:"text",placeholder:""},currentYear:{id:"currentYear",label:"formFields.currentYear",type:"text",placeholder:""},documentName:{id:"documentName",label:"formFields.documentName",type:"text",placeholder:""},age:{id:"age",label:"formFields.age",type:"text",placeholder:""},fullDateLongAr:{id:"fullDateLongAr",label:"formFields.fullDateLongAr",type:"text",placeholder:""},hijriDate:{id:"hijriDate",label:"formFields.hijriDate",type:"text",placeholder:""},motherAge:{id:"motherAge",label:"formFields.motherAge",type:"text",placeholder:""},fatherAge:{id:"fatherAge",label:"formFields.fatherAge",type:"text",placeholder:""},spouseAge:{id:"spouseAge",label:"formFields.spouseAge",type:"text",placeholder:""},sonAge:{id:"sonAge",label:"formFields.sonAge",type:"text",placeholder:""},daughterAge:{id:"daughterAge",label:"formFields.daughterAge",type:"text",placeholder:""},paternalGrandfatherAge:{id:"paternalGrandfatherAge",label:"formFields.paternalGrandfatherAge",type:"text",placeholder:""},paternalGrandmotherAge:{id:"paternalGrandmotherAge",label:"formFields.paternalGrandmotherAge",type:"text",placeholder:""},maternalGrandfatherAge:{id:"maternalGrandfatherAge",label:"formFields.maternalGrandfatherAge",type:"text",placeholder:""},maternalGrandmotherAge:{id:"maternalGrandmotherAge",label:"formFields.maternalGrandmotherAge",type:"text",placeholder:""}},_2={profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:"",residenceWilaya:" ",residenceCommune:" ",residenceDaira:" ",residenceStreet:" ",birthWilaya:" ",birthCommune:" ",birthDaira:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",bloodType:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" /",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"   ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:"  ()",numberOfSons:"  ()",numberOfDaughters:"  ()",numberOfSiblings:"  ()",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",ToTheGovernorOftheStateOf:"    ",submissionDaira:"    ",ToTheMayorOf:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",bankNameTo:"   ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"   ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"   ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"  ",survivingParentFullName:"      ",survivingParentJobTitle:"     ",hospitalName:" ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonDob:"  ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterDob:"  ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:"  ( )",paternalGrandfatherDob:"   ( )",paternalGrandfatherPob:"   ( )",paternalGrandfatherAge:"  ( )",paternalGrandmotherName:"  ( )",paternalGrandmotherDob:"   ( )",paternalGrandmotherPob:"   ( )",paternalGrandmotherAge:"  ( )",maternalGrandfatherName:"  ( )",maternalGrandfatherDob:"   ( )",maternalGrandfatherPob:"   ( )",maternalGrandfatherAge:"  ( )",maternalGrandmotherName:"  ( )",maternalGrandmotherDob:"   ( )",maternalGrandmotherPob:"   ( )",maternalGrandmotherAge:"  ( )"},ame="GitutOfflineDB",ome=9,zm=()=>new Promise((t,e)=>{const n=indexedDB.open(ame,ome);n.onerror=()=>e("Error opening IndexedDB."),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs"].forEach(a=>{if(!i.objectStoreNames.contains(a)){let o={keyPath:"id"};a==="tagTitleLists"&&(o={keyPath:"tag"}),i.createObjectStore(a,o)}})}}),Us=async(t,e)=>{const n=await zm();return new Promise(r=>{const a=n.transaction(t,"readonly").objectStore(t).get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})},Mn=async t=>{const e=await zm();return new Promise(n=>{const s=e.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>n(s.result||[]),s.onerror=()=>n([])})},mr=async(t,e)=>{const n=await zm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).put(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},ki=async(t,e)=>{if(!e||e.length===0)return;const n=await zm();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite"),a=s.objectStore(t);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),a.clear(),e.forEach(o=>{o&&o.id!==void 0?a.put(o):console.warn(`Item in store '${t}' is missing an 'id' and was skipped.`,o)})})},Pf=async(t,e)=>{const n=await zm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).delete(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},lme=async t=>{await mr("pendingCreditDeductions",t)},cme=async()=>Mn("pendingCreditDeductions"),ume=async()=>{const t=await zm();return new Promise((e,n)=>{const s=t.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>n(s.error)})};function Ex(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var d9;function bH(){return d9||(d9=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var f=typeof Ex=="function"&&Ex;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var g=r[c][1][v];return a(g||v)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof Ex=="function"&&Ex,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,h,p,v,g,y=[],_=0,x=l.length,w=x,C=s.getTypeOf(l)!=="string";_<l.length;)w=x-_,f=C?(c=l[_++],u=_<x?l[_++]:0,_<x?l[_++]:0):(c=l.charCodeAt(_++),u=_<x?l.charCodeAt(_++):0,_<x?l.charCodeAt(_++):0),h=c>>2,p=(3&c)<<4|u>>4,v=1<w?(15&u)<<2|f>>6:64,g=2<w?63&f:64,y.push(o.charAt(h)+o.charAt(p)+o.charAt(v)+o.charAt(g));return y.join("")},i.decode=function(l){var c,u,f,h,p,v,g=0,y=0,_="data:";if(l.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|w):new Array(0|w);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(p=o.indexOf(l.charAt(g++)))>>2,f=(3&p)<<6|(v=o.indexOf(l.charAt(g++))),x[y++]=c,p!==64&&(x[y++]=u),v!==64&&(x[y++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,f,h,p,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u[g])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u.charCodeAt(g))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,v,g,y,_,x){var w,C,D=p.file,R=p.compression,S=x!==c.utf8encode,N=o.transformTo("string",x(D.name)),k=o.transformTo("string",c.utf8encode(D.name)),F=D.comment,P=o.transformTo("string",x(F)),I=o.transformTo("string",c.utf8encode(F)),U=k.length!==D.name.length,O=I.length!==F.length,G="",K="",J="",te=D.dir,z=D.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(Y.crc32=p.crc32,Y.compressedSize=p.compressedSize,Y.uncompressedSize=p.uncompressedSize);var B=0;v&&(B|=8),S||!U&&!O||(B|=2048);var j=0,q=0;te&&(j|=16),_==="UNIX"?(q=798,j|=(function(Q,ee){var ae=Q;return Q||(ae=ee?16893:33204),(65535&ae)<<16})(D.unixPermissions,te)):(q=20,j|=(function(Q){return 63&(Q||0)})(D.dosPermissions)),w=z.getUTCHours(),w<<=6,w|=z.getUTCMinutes(),w<<=5,w|=z.getUTCSeconds()/2,C=z.getUTCFullYear()-1980,C<<=4,C|=z.getUTCMonth()+1,C<<=5,C|=z.getUTCDate(),U&&(K=s(1,1)+s(u(N),4)+k,G+="up"+s(K.length,2)+K),O&&(J=s(1,1)+s(u(P),4)+I,G+="uc"+s(J.length,2)+J);var X="";return X+=`
\0`,X+=s(B,2),X+=R.magic,X+=s(w,2),X+=s(C,2),X+=s(Y.crc32,4),X+=s(Y.compressedSize,4),X+=s(Y.uncompressedSize,4),X+=s(N.length,2),X+=s(G.length,2),{fileRecord:f.LOCAL_FILE_HEADER+X+N+G,dirRecord:f.CENTRAL_FILE_HEADER+s(q,2)+X+s(P.length,2)+"\0\0\0\0"+s(j,4)+s(y,4)+N+G+P}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),f=n("../signature");function h(p,v,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=a(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=a(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(y){return f.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,y=(function(_,x,w,C,D){var R=o.transformTo("string",D(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(_,2)+s(_,2)+s(x,4)+s(w,4)+s(R.length,2)+R})(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var v=(function(x,w){var C=x||w,D=s[C];if(!D)throw new Error(C+" is not a valid compression method !");return D})(p.options.compression,l.compression),g=p.options.compressionOptions||l.compressionOptions||{},y=p.dir,_=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:_,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function f(h){return new a.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new l(p);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],_=g.files;if(p.checkCRC32)for(var x=0;x<_.length;x++)y.push(f(_[x]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),_=y.files,x=0;x<_.length;x++){var w=_[x],C=w.fileNameStr,D=s.resolve(w.fileNameStr);v.file(D,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(v.file(D).unsafeOriginalName=C)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(D,R,S){var N,k=o.getTypeOf(R),F=o.extend(S||{},u);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(D=_(D)),F.createFolders&&(N=y(D))&&x.call(this,N,!0);var P=k==="string"&&F.binary===!1&&F.base64===!1;S&&S.binary!==void 0||(F.binary=!P),(R instanceof f&&R.uncompressedSize===0||F.dir||!R||R.length===0)&&(F.base64=!1,F.binary=!0,R="",F.compression="STORE",k="string");var I=null;I=R instanceof f||R instanceof l?R:v.isNode&&v.isStream(R)?new g(D,R):o.prepareContent(D,R,F.binary,F.optimizedBinaryString,F.base64);var U=new h(D,I,F);this.files[D]=U}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),y=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var R=D.lastIndexOf("/");return 0<R?D.substring(0,R):""},_=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},x=function(D,R){return R=R!==void 0?R:u.createFolders,D=_(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:R}),this.files[D]};function w(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var R,S,N;for(R in this.files)N=this.files[R],(S=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&D(S,N)},filter:function(D){var R=[];return this.forEach(function(S,N){D(S,N)&&R.push(N)}),R},file:function(D,R,S){if(arguments.length!==1)return D=this.root+D,s.call(this,D,R,S),this;if(w(D)){var N=D;return this.filter(function(F,P){return!P.dir&&N.test(F)})}var k=this.files[this.root+D];return k&&!k.dir?k:null},folder:function(D){if(!D)return this;if(w(D))return this.filter(function(k,F){return F.dir&&D.test(k)});var R=this.root+D,S=x.call(this,R),N=this.clone();return N.root=S.name,N},remove:function(D){D=this.root+D;var R=this.files[D];if(R||(D.slice(-1)!=="/"&&(D+="/"),R=this.files[D]),R&&!R.dir)delete this.files[D];else for(var S=this.filter(function(k,F){return F.name.slice(0,D.length)===D}),N=0;N<S.length;N++)delete this.files[S[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var R,S={};try{if((S=o.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");o.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var N=S.comment||this.comment||"";R=p.generateWorker(this,S,N)}catch(k){(R=new l("error")).error(k)}return new c(R,S.type||"string",S.mimeType)},generateAsync:function(D,R){return this.generateInternalStream(D).accumulate(R)},generateNodeStream:function(D,R){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(R)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(f):a.uint8array?new u(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new u.Promise(function(y,_){var x=[],w=v._internalType,C=v._outputType,D=v._mimeType;v.on("data",function(R,S){x.push(R),g&&g(S)}).on("error",function(R){x=[],_(R)}).on("end",function(){try{var R=(function(S,N,k){switch(S){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),k);case"base64":return l.encode(N);default:return s.transformTo(S,N)}})(C,(function(S,N){var k,F=0,P=null,I=0;for(k=0;k<N.length;k++)I+=N[k].length;switch(S){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(P=new Uint8Array(I),k=0;k<N.length;k++)P.set(N[k],F),F+=N[k].length;return P;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+S+"'")}})(w,x),D);y(R)}catch(S){_(S)}x=[]}).resume()})}function p(v,g,y){var _=g;switch(g){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=g,this._mimeType=y,s.checkSupport(_),this._worker=v.pipe(new a(_)),v.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(_){g.call(y,_.data,_.meta)}):this._worker.on(v,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):(function(v){var g,y,_,x,w,C=v.length,D=0;for(x=0;x<C;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<C&&(64512&(_=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),D+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(D):new Array(D),x=w=0;w<D;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<C&&(64512&(_=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),y<128?g[w++]=y:(y<2048?g[w++]=192|y>>>6:(y<65536?g[w++]=224|y>>>12:(g[w++]=240|y>>>18,g[w++]=128|y>>>12&63),g[w++]=128|y>>>6&63),g[w++]=128|63&y);return g})(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(v){var g,y,_,x,w=v.length,C=new Array(2*w);for(g=y=0;g<w;)if((_=v[g++])<128)C[y++]=_;else if(4<(x=c[_]))C[y++]=65533,g+=x-1;else{for(_&=x===2?31:x===3?15:7;1<x&&g<w;)_=_<<6|63&v[g++],x--;1<x?C[y++]=65533:_<65536?C[y++]=_:(_-=65536,C[y++]=55296|_>>10&1023,C[y++]=56320|1023&_)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),s.applyFromCharCode(C)})(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(f,l),f.prototype.processChunk=function(p){var v=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=(function(x,w){var C;for((w=w||x.length)>x.length&&(w=x.length),C=w-1;0<=C&&(192&x[C])==128;)C--;return C<0||C===0?w:C+c[x[C]]>w?C:w})(v),_=v;y!==v.length&&(a.uint8array?(_=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(_=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(_),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(g){return g}function u(g,y){for(var _=0;_<g.length;++_)y[_]=255&g.charCodeAt(_);return y}n("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(g),_.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,_){var x=[],w=0,C=g.length;if(C<=_)return String.fromCharCode.apply(null,g);for(;w<C;)y==="array"||y==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+_,C)))):x.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+_,C)))),w+=_;return x.join("")},stringifyByChar:function(g){for(var y="",_=0;_<g.length;_++)y+=String.fromCharCode(g[_]);return y},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var y=65536,_=i.getTypeOf(g),x=!0;if(_==="uint8array"?x=f.applyCanBeUsed.uint8array:_==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<y;)try{return f.stringifyByChunk(g,_,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function p(g,y){for(var _=0;_<g.length;_++)y[_]=g[_];return y}i.applyFromCharCode=h;var v={};v.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},v.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var _=i.getTypeOf(y);return v[_][g](y)},i.resolve=function(g){for(var y=g.split("/"),_=[],x=0;x<y.length;x++){var w=y[x];w==="."||w===""&&x!==0&&x!==y.length-1||(w===".."?_.pop():_.push(w))}return _.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,_,x="";for(_=0;_<(g||"").length;_++)x+="\\x"+((y=g.charCodeAt(_))<16?"0":"")+y.toString(16).toUpperCase();return x},i.delay=function(g,y,_){setImmediate(function(){g.apply(_||null,y||[])})},i.inherits=function(g,y){function _(){}_.prototype=y.prototype,g.prototype=new _},i.extend=function(){var g,y,_={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&_[y]===void 0&&(_[y]=arguments[g][y]);return _},i.prepareContent=function(g,y,_,x,w){return l.Promise.resolve(y).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(D,R){var S=new FileReader;S.onload=function(N){D(N.target.result)},S.onerror=function(N){R(N.target.error)},S.readAsArrayBuffer(C)}):C}).then(function(C){var D=i.getTypeOf(C);return D?(D==="arraybuffer"?C=i.transformTo("uint8array",C):D==="string"&&(w?C=a.decode(C):_&&x!==!0&&(C=(function(R){return u(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=a.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),f=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(y){for(var _ in u)if(Object.prototype.hasOwnProperty.call(u,_)&&u[_].magic===y)return u[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,g,y,_=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<_;)v=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[v]={id:v,length:g,value:y};p.setIndex(_)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var _=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var _=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var x=!this._dataBinary;x&&!_&&(g=g.pipe(new l.Utf8EncodeWorker)),!x&&_&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new a(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,y;o=!0;for(var _=p.length;_;){for(y=p,p=[],g=-1;++g<_;)y[g]();_=p.length}o=!1}r.exports=function(g){p.push(g)!==1||o||a()}}).call(this,typeof ms<"u"?ms:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==a&&g(this,_)}function h(_,x,w){this.promise=_,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(_,x,w){s(function(){var C;try{C=x(w)}catch(D){return o.reject(_,D)}C===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,C)})}function v(_){var x=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof x=="function")return function(){x.apply(_,arguments)}}function g(_,x){var w=!1;function C(S){w||(w=!0,o.reject(_,S))}function D(S){w||(w=!0,o.resolve(_,S))}var R=y(function(){x(D,C)});R.status==="error"&&C(R.value)}function y(_,x){var w={};try{w.value=_(x),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=f).prototype.finally=function(_){if(typeof _!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(_()).then(function(){return w})},function(w){return x.resolve(_()).then(function(){throw w})})},f.prototype.catch=function(_){return this.then(null,_)},f.prototype.then=function(_,x){if(typeof _!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==u?p(w,this.state===c?_:x,this.outcome):this.queue.push(new h(w,_,x)),w},h.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},h.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},h.prototype.callRejected=function(_){o.reject(this.promise,_)},h.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)},o.resolve=function(_,x){var w=y(v,x);if(w.status==="error")return o.reject(_,w.value);var C=w.value;if(C)g(_,C);else{_.state=c,_.outcome=x;for(var D=-1,R=_.queue.length;++D<R;)_.queue[D].callFulfilled(x)}return _},o.reject=function(_,x){_.state=l,_.outcome=x;for(var w=-1,C=_.queue.length;++w<C;)_.queue[w].callRejected(x);return _},f.resolve=function(_){return _ instanceof this?_:o.resolve(new this(a),_)},f.reject=function(_){var x=new this(a);return o.reject(x,_)},f.all=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=_.length,C=!1;if(!w)return this.resolve([]);for(var D=new Array(w),R=0,S=-1,N=new this(a);++S<w;)k(_[S],S);return N;function k(F,P){x.resolve(F).then(function(I){D[P]=I,++R!==w||C||(C=!0,o.resolve(N,D))},function(I){C||(C=!0,o.reject(N,I))})}},f.race=function(_){var x=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=_.length,C=!1;if(!w)return this.resolve([]);for(var D=-1,R=new this(a);++D<w;)S=_[D],x.resolve(S).then(function(N){C||(C=!0,o.resolve(R,N))},function(N){C||(C=!0,o.reject(R,N))});var S;return R}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,p=0,v=8;function g(_){if(!(this instanceof g))return new g(_);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},_||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==f)throw new Error(l[w]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var C;if(C=typeof x.dictionary=="string"?o.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=s.deflateSetDictionary(this.strm,C))!==f)throw new Error(l[w]);this._dict_set=!0}}function y(_,x){var w=new g(x);if(w.push(_,!0),w.err)throw w.msg||l[w.err];return w.result}g.prototype.push=function(_,x){var w,C,D=this.strm,R=this.options.chunkSize;if(this.ended)return!1;C=x===~~x?x:x===!0?4:0,typeof _=="string"?D.input=o.string2buf(_):u.call(_)==="[object ArrayBuffer]"?D.input=new Uint8Array(_):D.input=_,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(R),D.next_out=0,D.avail_out=R),(w=s.deflate(D,C))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(D.output,D.next_out))):this.onData(a.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&w!==1);return C===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):C!==2||(this.onEnd(f),!(D.avail_out=0))},g.prototype.onData=function(_){this.chunks.push(_)},g.prototype.onEnd=function(_){_===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(_,x){return(x=x||{}).raw=!0,y(_,x)},i.gzip=function(_,x){return(x=x||{}).gzip=!0,y(_,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,y.windowBits);if(_!==l.Z_OK)throw new Error(c[_]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function v(g,y){var _=new p(y);if(_.push(g,!0),_.err)throw _.msg||c[_.err];return _.result}p.prototype.push=function(g,y){var _,x,w,C,D,R,S=this.strm,N=this.options.chunkSize,k=this.options.dictionary,F=!1;if(this.ended)return!1;x=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?S.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?S.input=new Uint8Array(g):S.input=g,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(N),S.next_out=0,S.avail_out=N),(_=s.inflate(S,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(R=typeof k=="string"?o.string2buf(k):h.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,_=s.inflateSetDictionary(this.strm,R)),_===l.Z_BUF_ERROR&&F===!0&&(_=l.Z_OK,F=!1),_!==l.Z_STREAM_END&&_!==l.Z_OK)return this.onEnd(_),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&_!==l.Z_STREAM_END&&(S.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(S.output,S.next_out),C=S.next_out-w,D=o.buf2string(S.output,w),S.next_out=C,S.avail_out=N-C,C&&a.arraySet(S.output,S.output,w,C,0),this.onData(D)):this.onData(a.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(F=!0)}while((0<S.avail_in||S.avail_out===0)&&_!==l.Z_STREAM_END);return _===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(S.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),h);else for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,f,h,p,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,u=l.length;c<u;c++)p=l[c],v.set(p,h),h+=p.length;return v}},o={arraySet:function(l,c,u,f,h){for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,v,g,y,_=f.length,x=0;for(g=0;g<_;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<_&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(x),g=y=0;y<x;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<_&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,v,g,y,_=h||f.length,x=new Array(2*_);for(p=v=0;p<_;)if((g=f[p++])<128)x[v++]=g;else if(4<(y=l[g]))x[v++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<_;)g=g<<6|63&f[p++],y--;1<y?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return u(x,v)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var u=s,f=c+l;a^=-1;for(var h=c;h<f;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),f=0,h=4,p=0,v=-2,g=-1,y=4,_=2,x=8,w=9,C=286,D=30,R=19,S=2*C+1,N=15,k=3,F=258,P=F+k+1,I=42,U=113,O=1,G=2,K=3,J=4;function te(V,ve){return V.msg=u[ve],ve}function z(V){return(V<<1)-(4<V?9:0)}function Y(V){for(var ve=V.length;0<=--ve;)V[ve]=0}function B(V){var ve=V.state,we=ve.pending;we>V.avail_out&&(we=V.avail_out),we!==0&&(a.arraySet(V.output,ve.pending_buf,ve.pending_out,we,V.next_out),V.next_out+=we,ve.pending_out+=we,V.total_out+=we,V.avail_out-=we,ve.pending-=we,ve.pending===0&&(ve.pending_out=0))}function j(V,ve){o._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,ve),V.block_start=V.strstart,B(V.strm)}function q(V,ve){V.pending_buf[V.pending++]=ve}function X(V,ve){V.pending_buf[V.pending++]=ve>>>8&255,V.pending_buf[V.pending++]=255&ve}function Q(V,ve){var we,oe,re=V.max_chain_length,le=V.strstart,he=V.prev_length,_e=V.nice_match,ie=V.strstart>V.w_size-P?V.strstart-(V.w_size-P):0,ce=V.window,ye=V.w_mask,xe=V.prev,ke=V.strstart+F,Ue=ce[le+he-1],Ce=ce[le+he];V.prev_length>=V.good_match&&(re>>=2),_e>V.lookahead&&(_e=V.lookahead);do if(ce[(we=ve)+he]===Ce&&ce[we+he-1]===Ue&&ce[we]===ce[le]&&ce[++we]===ce[le+1]){le+=2,we++;do;while(ce[++le]===ce[++we]&&ce[++le]===ce[++we]&&ce[++le]===ce[++we]&&ce[++le]===ce[++we]&&ce[++le]===ce[++we]&&ce[++le]===ce[++we]&&ce[++le]===ce[++we]&&ce[++le]===ce[++we]&&le<ke);if(oe=F-(ke-le),le=ke-F,he<oe){if(V.match_start=ve,_e<=(he=oe))break;Ue=ce[le+he-1],Ce=ce[le+he]}}while((ve=xe[ve&ye])>ie&&--re!=0);return he<=V.lookahead?he:V.lookahead}function ee(V){var ve,we,oe,re,le,he,_e,ie,ce,ye,xe=V.w_size;do{if(re=V.window_size-V.lookahead-V.strstart,V.strstart>=xe+(xe-P)){for(a.arraySet(V.window,V.window,xe,xe,0),V.match_start-=xe,V.strstart-=xe,V.block_start-=xe,ve=we=V.hash_size;oe=V.head[--ve],V.head[ve]=xe<=oe?oe-xe:0,--we;);for(ve=we=xe;oe=V.prev[--ve],V.prev[ve]=xe<=oe?oe-xe:0,--we;);re+=xe}if(V.strm.avail_in===0)break;if(he=V.strm,_e=V.window,ie=V.strstart+V.lookahead,ce=re,ye=void 0,ye=he.avail_in,ce<ye&&(ye=ce),we=ye===0?0:(he.avail_in-=ye,a.arraySet(_e,he.input,he.next_in,ye,ie),he.state.wrap===1?he.adler=l(he.adler,_e,ye,ie):he.state.wrap===2&&(he.adler=c(he.adler,_e,ye,ie)),he.next_in+=ye,he.total_in+=ye,ye),V.lookahead+=we,V.lookahead+V.insert>=k)for(le=V.strstart-V.insert,V.ins_h=V.window[le],V.ins_h=(V.ins_h<<V.hash_shift^V.window[le+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[le+k-1])&V.hash_mask,V.prev[le&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=le,le++,V.insert--,!(V.lookahead+V.insert<k)););}while(V.lookahead<P&&V.strm.avail_in!==0)}function ae(V,ve){for(var we,oe;;){if(V.lookahead<P){if(ee(V),V.lookahead<P&&ve===f)return O;if(V.lookahead===0)break}if(we=0,V.lookahead>=k&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,we=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),we!==0&&V.strstart-we<=V.w_size-P&&(V.match_length=Q(V,we)),V.match_length>=k)if(oe=o._tr_tally(V,V.strstart-V.match_start,V.match_length-k),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=k){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,we=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else oe=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(oe&&(j(V,!1),V.strm.avail_out===0))return O}return V.insert=V.strstart<k-1?V.strstart:k-1,ve===h?(j(V,!0),V.strm.avail_out===0?K:J):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?O:G}function de(V,ve){for(var we,oe,re;;){if(V.lookahead<P){if(ee(V),V.lookahead<P&&ve===f)return O;if(V.lookahead===0)break}if(we=0,V.lookahead>=k&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,we=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=k-1,we!==0&&V.prev_length<V.max_lazy_match&&V.strstart-we<=V.w_size-P&&(V.match_length=Q(V,we),V.match_length<=5&&(V.strategy===1||V.match_length===k&&4096<V.strstart-V.match_start)&&(V.match_length=k-1)),V.prev_length>=k&&V.match_length<=V.prev_length){for(re=V.strstart+V.lookahead-k,oe=o._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-k),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=re&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+k-1])&V.hash_mask,we=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=k-1,V.strstart++,oe&&(j(V,!1),V.strm.avail_out===0))return O}else if(V.match_available){if((oe=o._tr_tally(V,0,V.window[V.strstart-1]))&&j(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return O}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(oe=o._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<k-1?V.strstart:k-1,ve===h?(j(V,!0),V.strm.avail_out===0?K:J):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?O:G}function fe(V,ve,we,oe,re){this.good_length=V,this.max_lazy=ve,this.nice_length=we,this.max_chain=oe,this.func=re}function Ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*S),this.dyn_dtree=new a.Buf16(2*(2*D+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(N+1),this.heap=new a.Buf16(2*C+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Re(V){var ve;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=_,(ve=V.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?I:U,V.adler=ve.wrap===2?0:1,ve.last_flush=f,o._tr_init(ve),p):te(V,v)}function me(V){var ve=Re(V);return ve===p&&(function(we){we.window_size=2*we.w_size,Y(we.head),we.max_lazy_match=s[we.level].max_lazy,we.good_match=s[we.level].good_length,we.nice_match=s[we.level].nice_length,we.max_chain_length=s[we.level].max_chain,we.strstart=0,we.block_start=0,we.lookahead=0,we.insert=0,we.match_length=we.prev_length=k-1,we.match_available=0,we.ins_h=0})(V.state),ve}function Le(V,ve,we,oe,re,le){if(!V)return v;var he=1;if(ve===g&&(ve=6),oe<0?(he=0,oe=-oe):15<oe&&(he=2,oe-=16),re<1||w<re||we!==x||oe<8||15<oe||ve<0||9<ve||le<0||y<le)return te(V,v);oe===8&&(oe=9);var _e=new Ne;return(V.state=_e).strm=V,_e.wrap=he,_e.gzhead=null,_e.w_bits=oe,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=re+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+k-1)/k),_e.window=new a.Buf8(2*_e.w_size),_e.head=new a.Buf16(_e.hash_size),_e.prev=new a.Buf16(_e.w_size),_e.lit_bufsize=1<<re+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new a.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=ve,_e.strategy=le,_e.method=we,me(V)}s=[new fe(0,0,0,0,function(V,ve){var we=65535;for(we>V.pending_buf_size-5&&(we=V.pending_buf_size-5);;){if(V.lookahead<=1){if(ee(V),V.lookahead===0&&ve===f)return O;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var oe=V.block_start+we;if((V.strstart===0||V.strstart>=oe)&&(V.lookahead=V.strstart-oe,V.strstart=oe,j(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-P&&(j(V,!1),V.strm.avail_out===0))return O}return V.insert=0,ve===h?(j(V,!0),V.strm.avail_out===0?K:J):(V.strstart>V.block_start&&(j(V,!1),V.strm.avail_out),O)}),new fe(4,4,8,4,ae),new fe(4,5,16,8,ae),new fe(4,6,32,32,ae),new fe(4,4,16,16,de),new fe(8,16,32,32,de),new fe(8,16,128,128,de),new fe(8,32,128,256,de),new fe(32,128,258,1024,de),new fe(32,258,258,4096,de)],i.deflateInit=function(V,ve){return Le(V,ve,x,15,8,0)},i.deflateInit2=Le,i.deflateReset=me,i.deflateResetKeep=Re,i.deflateSetHeader=function(V,ve){return V&&V.state?V.state.wrap!==2?v:(V.state.gzhead=ve,p):v},i.deflate=function(V,ve){var we,oe,re,le;if(!V||!V.state||5<ve||ve<0)return V?te(V,v):v;if(oe=V.state,!V.output||!V.input&&V.avail_in!==0||oe.status===666&&ve!==h)return te(V,V.avail_out===0?-5:v);if(oe.strm=V,we=oe.last_flush,oe.last_flush=ve,oe.status===I)if(oe.wrap===2)V.adler=0,q(oe,31),q(oe,139),q(oe,8),oe.gzhead?(q(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),q(oe,255&oe.gzhead.time),q(oe,oe.gzhead.time>>8&255),q(oe,oe.gzhead.time>>16&255),q(oe,oe.gzhead.time>>24&255),q(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),q(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(q(oe,255&oe.gzhead.extra.length),q(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(V.adler=c(V.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=69):(q(oe,0),q(oe,0),q(oe,0),q(oe,0),q(oe,0),q(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),q(oe,3),oe.status=U);else{var he=x+(oe.w_bits-8<<4)<<8;he|=(2<=oe.strategy||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(he|=32),he+=31-he%31,oe.status=U,X(oe,he),oe.strstart!==0&&(X(oe,V.adler>>>16),X(oe,65535&V.adler)),V.adler=1}if(oe.status===69)if(oe.gzhead.extra){for(re=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending!==oe.pending_buf_size));)q(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=73)}else oe.status=73;if(oe.status===73)if(oe.gzhead.name){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending===oe.pending_buf_size)){le=1;break}le=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,q(oe,le)}while(le!==0);oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),le===0&&(oe.gzindex=0,oe.status=91)}else oe.status=91;if(oe.status===91)if(oe.gzhead.comment){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending===oe.pending_buf_size)){le=1;break}le=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,q(oe,le)}while(le!==0);oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),le===0&&(oe.status=103)}else oe.status=103;if(oe.status===103&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&B(V),oe.pending+2<=oe.pending_buf_size&&(q(oe,255&V.adler),q(oe,V.adler>>8&255),V.adler=0,oe.status=U)):oe.status=U),oe.pending!==0){if(B(V),V.avail_out===0)return oe.last_flush=-1,p}else if(V.avail_in===0&&z(ve)<=z(we)&&ve!==h)return te(V,-5);if(oe.status===666&&V.avail_in!==0)return te(V,-5);if(V.avail_in!==0||oe.lookahead!==0||ve!==f&&oe.status!==666){var _e=oe.strategy===2?(function(ie,ce){for(var ye;;){if(ie.lookahead===0&&(ee(ie),ie.lookahead===0)){if(ce===f)return O;break}if(ie.match_length=0,ye=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ye&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,ce===h?(j(ie,!0),ie.strm.avail_out===0?K:J):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:G})(oe,ve):oe.strategy===3?(function(ie,ce){for(var ye,xe,ke,Ue,Ce=ie.window;;){if(ie.lookahead<=F){if(ee(ie),ie.lookahead<=F&&ce===f)return O;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=k&&0<ie.strstart&&(xe=Ce[ke=ie.strstart-1])===Ce[++ke]&&xe===Ce[++ke]&&xe===Ce[++ke]){Ue=ie.strstart+F;do;while(xe===Ce[++ke]&&xe===Ce[++ke]&&xe===Ce[++ke]&&xe===Ce[++ke]&&xe===Ce[++ke]&&xe===Ce[++ke]&&xe===Ce[++ke]&&xe===Ce[++ke]&&ke<Ue);ie.match_length=F-(Ue-ke),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=k?(ye=o._tr_tally(ie,1,ie.match_length-k),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ye=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ye&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,ce===h?(j(ie,!0),ie.strm.avail_out===0?K:J):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:G})(oe,ve):s[oe.level].func(oe,ve);if(_e!==K&&_e!==J||(oe.status=666),_e===O||_e===K)return V.avail_out===0&&(oe.last_flush=-1),p;if(_e===G&&(ve===1?o._tr_align(oe):ve!==5&&(o._tr_stored_block(oe,0,0,!1),ve===3&&(Y(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),B(V),V.avail_out===0))return oe.last_flush=-1,p}return ve!==h?p:oe.wrap<=0?1:(oe.wrap===2?(q(oe,255&V.adler),q(oe,V.adler>>8&255),q(oe,V.adler>>16&255),q(oe,V.adler>>24&255),q(oe,255&V.total_in),q(oe,V.total_in>>8&255),q(oe,V.total_in>>16&255),q(oe,V.total_in>>24&255)):(X(oe,V.adler>>>16),X(oe,65535&V.adler)),B(V),0<oe.wrap&&(oe.wrap=-oe.wrap),oe.pending!==0?p:1)},i.deflateEnd=function(V){var ve;return V&&V.state?(ve=V.state.status)!==I&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==U&&ve!==666?te(V,v):(V.state=null,ve===U?te(V,-3):p):v},i.deflateSetDictionary=function(V,ve){var we,oe,re,le,he,_e,ie,ce,ye=ve.length;if(!V||!V.state||(le=(we=V.state).wrap)===2||le===1&&we.status!==I||we.lookahead)return v;for(le===1&&(V.adler=l(V.adler,ve,ye,0)),we.wrap=0,ye>=we.w_size&&(le===0&&(Y(we.head),we.strstart=0,we.block_start=0,we.insert=0),ce=new a.Buf8(we.w_size),a.arraySet(ce,ve,ye-we.w_size,we.w_size,0),ve=ce,ye=we.w_size),he=V.avail_in,_e=V.next_in,ie=V.input,V.avail_in=ye,V.next_in=0,V.input=ve,ee(we);we.lookahead>=k;){for(oe=we.strstart,re=we.lookahead-(k-1);we.ins_h=(we.ins_h<<we.hash_shift^we.window[oe+k-1])&we.hash_mask,we.prev[oe&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=oe,oe++,--re;);we.strstart=oe,we.lookahead=k-1,ee(we)}return we.strstart+=we.lookahead,we.block_start=we.strstart,we.insert=we.lookahead,we.lookahead=0,we.match_length=we.prev_length=k-1,we.match_available=0,V.next_in=_e,V.input=ie,V.avail_in=he,we.wrap=le,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,f,h,p,v,g,y,_,x,w,C,D,R,S,N,k,F,P,I,U,O,G;o=s.state,l=s.next_in,O=s.input,c=l+(s.avail_in-5),u=s.next_out,G=s.output,f=u-(a-s.avail_out),h=u+(s.avail_out-257),p=o.dmax,v=o.wsize,g=o.whave,y=o.wnext,_=o.window,x=o.hold,w=o.bits,C=o.lencode,D=o.distcode,R=(1<<o.lenbits)-1,S=(1<<o.distbits)-1;e:do{w<15&&(x+=O[l++]<<w,w+=8,x+=O[l++]<<w,w+=8),N=C[x&R];t:for(;;){if(x>>>=k=N>>>24,w-=k,(k=N>>>16&255)===0)G[u++]=65535&N;else{if(!(16&k)){if((64&k)==0){N=C[(65535&N)+(x&(1<<k)-1)];continue t}if(32&k){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}F=65535&N,(k&=15)&&(w<k&&(x+=O[l++]<<w,w+=8),F+=x&(1<<k)-1,x>>>=k,w-=k),w<15&&(x+=O[l++]<<w,w+=8,x+=O[l++]<<w,w+=8),N=D[x&S];n:for(;;){if(x>>>=k=N>>>24,w-=k,!(16&(k=N>>>16&255))){if((64&k)==0){N=D[(65535&N)+(x&(1<<k)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(P=65535&N,w<(k&=15)&&(x+=O[l++]<<w,(w+=8)<k&&(x+=O[l++]<<w,w+=8)),p<(P+=x&(1<<k)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=k,w-=k,(k=u-f)<P){if(g<(k=P-k)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(U=_,(I=0)===y){if(I+=v-k,k<F){for(F-=k;G[u++]=_[I++],--k;);I=u-P,U=G}}else if(y<k){if(I+=v+y-k,(k-=y)<F){for(F-=k;G[u++]=_[I++],--k;);if(I=0,y<F){for(F-=k=y;G[u++]=_[I++],--k;);I=u-P,U=G}}}else if(I+=y-k,k<F){for(F-=k;G[u++]=_[I++],--k;);I=u-P,U=G}for(;2<F;)G[u++]=U[I++],G[u++]=U[I++],G[u++]=U[I++],F-=3;F&&(G[u++]=U[I++],1<F&&(G[u++]=U[I++]))}else{for(I=u-P;G[u++]=G[I++],G[u++]=G[I++],G[u++]=G[I++],2<(F-=3););F&&(G[u++]=G[I++],1<F&&(G[u++]=G[I++]))}break}}break}}while(l<c&&u<h);l-=F=w>>3,x&=(1<<(w-=F<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<h?h-u+257:257-(u-h),o.hold=x,o.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,f=2,h=0,p=-2,v=1,g=852,y=592;function _(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(I){var U;return I&&I.state?(U=I.state,I.total_in=I.total_out=U.total=0,I.msg="",U.wrap&&(I.adler=1&U.wrap),U.mode=v,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(g),U.distcode=U.distdyn=new s.Buf32(y),U.sane=1,U.back=-1,h):p}function C(I){var U;return I&&I.state?((U=I.state).wsize=0,U.whave=0,U.wnext=0,w(I)):p}function D(I,U){var O,G;return I&&I.state?(G=I.state,U<0?(O=0,U=-U):(O=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?p:(G.window!==null&&G.wbits!==U&&(G.window=null),G.wrap=O,G.wbits=U,C(I))):p}function R(I,U){var O,G;return I?(G=new x,(I.state=G).window=null,(O=D(I,U))!==h&&(I.state=null),O):p}var S,N,k=!0;function F(I){if(k){var U;for(S=new s.Buf32(512),N=new s.Buf32(32),U=0;U<144;)I.lens[U++]=8;for(;U<256;)I.lens[U++]=9;for(;U<280;)I.lens[U++]=7;for(;U<288;)I.lens[U++]=8;for(c(u,I.lens,0,288,S,0,I.work,{bits:9}),U=0;U<32;)I.lens[U++]=5;c(f,I.lens,0,32,N,0,I.work,{bits:5}),k=!1}I.lencode=S,I.lenbits=9,I.distcode=N,I.distbits=5}function P(I,U,O,G){var K,J=I.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new s.Buf8(J.wsize)),G>=J.wsize?(s.arraySet(J.window,U,O-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(G<(K=J.wsize-J.wnext)&&(K=G),s.arraySet(J.window,U,O-G,K,J.wnext),(G-=K)?(s.arraySet(J.window,U,O-G,G,0),J.wnext=G,J.whave=J.wsize):(J.wnext+=K,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=K))),0}i.inflateReset=C,i.inflateReset2=D,i.inflateResetKeep=w,i.inflateInit=function(I){return R(I,15)},i.inflateInit2=R,i.inflate=function(I,U){var O,G,K,J,te,z,Y,B,j,q,X,Q,ee,ae,de,fe,Ne,Re,me,Le,V,ve,we,oe,re=0,le=new s.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return p;(O=I.state).mode===12&&(O.mode=13),te=I.next_out,K=I.output,Y=I.avail_out,J=I.next_in,G=I.input,z=I.avail_in,B=O.hold,j=O.bits,q=z,X=Y,ve=h;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;j<16;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if(2&O.wrap&&B===35615){le[O.check=0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0),j=B=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&B)<<8)+(B>>8))%31){I.msg="incorrect header check",O.mode=30;break}if((15&B)!=8){I.msg="unknown compression method",O.mode=30;break}if(j-=4,V=8+(15&(B>>>=4)),O.wbits===0)O.wbits=V;else if(V>O.wbits){I.msg="invalid window size",O.mode=30;break}O.dmax=1<<V,I.adler=O.check=1,O.mode=512&B?10:12,j=B=0;break;case 2:for(;j<16;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if(O.flags=B,(255&O.flags)!=8){I.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){I.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=B>>8&1),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0,O.mode=3;case 3:for(;j<32;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}O.head&&(O.head.time=B),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,le[2]=B>>>16&255,le[3]=B>>>24&255,O.check=o(O.check,le,4,0)),j=B=0,O.mode=4;case 4:for(;j<16;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}O.head&&(O.head.xflags=255&B,O.head.os=B>>8),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0,O.mode=5;case 5:if(1024&O.flags){for(;j<16;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}O.length=B,O.head&&(O.head.extra_len=B),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(z<(Q=O.length)&&(Q=z),Q&&(O.head&&(V=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,G,J,Q,V)),512&O.flags&&(O.check=o(O.check,G,Q,J)),z-=Q,J+=Q,O.length-=Q),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(z===0)break e;for(Q=0;V=G[J+Q++],O.head&&V&&O.length<65536&&(O.head.name+=String.fromCharCode(V)),V&&Q<z;);if(512&O.flags&&(O.check=o(O.check,G,Q,J)),z-=Q,J+=Q,V)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(z===0)break e;for(Q=0;V=G[J+Q++],O.head&&V&&O.length<65536&&(O.head.comment+=String.fromCharCode(V)),V&&Q<z;);if(512&O.flags&&(O.check=o(O.check,G,Q,J)),z-=Q,J+=Q,V)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;j<16;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if(B!==(65535&O.check)){I.msg="header crc mismatch",O.mode=30;break}j=B=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),I.adler=O.check=0,O.mode=12;break;case 10:for(;j<32;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}I.adler=O.check=_(B),j=B=0,O.mode=11;case 11:if(O.havedict===0)return I.next_out=te,I.avail_out=Y,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,2;I.adler=O.check=1,O.mode=12;case 12:if(U===5||U===6)break e;case 13:if(O.last){B>>>=7&j,j-=7&j,O.mode=27;break}for(;j<3;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}switch(O.last=1&B,j-=1,3&(B>>>=1)){case 0:O.mode=14;break;case 1:if(F(O),O.mode=20,U!==6)break;B>>>=2,j-=2;break e;case 2:O.mode=17;break;case 3:I.msg="invalid block type",O.mode=30}B>>>=2,j-=2;break;case 14:for(B>>>=7&j,j-=7&j;j<32;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if((65535&B)!=(B>>>16^65535)){I.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&B,j=B=0,O.mode=15,U===6)break e;case 15:O.mode=16;case 16:if(Q=O.length){if(z<Q&&(Q=z),Y<Q&&(Q=Y),Q===0)break e;s.arraySet(K,G,J,Q,te),z-=Q,J+=Q,Y-=Q,te+=Q,O.length-=Q;break}O.mode=12;break;case 17:for(;j<14;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if(O.nlen=257+(31&B),B>>>=5,j-=5,O.ndist=1+(31&B),B>>>=5,j-=5,O.ncode=4+(15&B),B>>>=4,j-=4,286<O.nlen||30<O.ndist){I.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;j<3;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}O.lens[he[O.have++]]=7&B,B>>>=3,j-=3}for(;O.have<19;)O.lens[he[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,we={bits:O.lenbits},ve=c(0,O.lens,0,19,O.lencode,0,O.work,we),O.lenbits=we.bits,ve){I.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;fe=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Ne=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if(Ne<16)B>>>=de,j-=de,O.lens[O.have++]=Ne;else{if(Ne===16){for(oe=de+2;j<oe;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if(B>>>=de,j-=de,O.have===0){I.msg="invalid bit length repeat",O.mode=30;break}V=O.lens[O.have-1],Q=3+(3&B),B>>>=2,j-=2}else if(Ne===17){for(oe=de+3;j<oe;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}j-=de,V=0,Q=3+(7&(B>>>=de)),B>>>=3,j-=3}else{for(oe=de+7;j<oe;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}j-=de,V=0,Q=11+(127&(B>>>=de)),B>>>=7,j-=7}if(O.have+Q>O.nlen+O.ndist){I.msg="invalid bit length repeat",O.mode=30;break}for(;Q--;)O.lens[O.have++]=V}}if(O.mode===30)break;if(O.lens[256]===0){I.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,we={bits:O.lenbits},ve=c(u,O.lens,0,O.nlen,O.lencode,0,O.work,we),O.lenbits=we.bits,ve){I.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,we={bits:O.distbits},ve=c(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,we),O.distbits=we.bits,ve){I.msg="invalid distances set",O.mode=30;break}if(O.mode=20,U===6)break e;case 20:O.mode=21;case 21:if(6<=z&&258<=Y){I.next_out=te,I.avail_out=Y,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,l(I,X),te=I.next_out,K=I.output,Y=I.avail_out,J=I.next_in,G=I.input,z=I.avail_in,B=O.hold,j=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;fe=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Ne=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if(fe&&(240&fe)==0){for(Re=de,me=fe,Le=Ne;fe=(re=O.lencode[Le+((B&(1<<Re+me)-1)>>Re)])>>>16&255,Ne=65535&re,!(Re+(de=re>>>24)<=j);){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}B>>>=Re,j-=Re,O.back+=Re}if(B>>>=de,j-=de,O.back+=de,O.length=Ne,fe===0){O.mode=26;break}if(32&fe){O.back=-1,O.mode=12;break}if(64&fe){I.msg="invalid literal/length code",O.mode=30;break}O.extra=15&fe,O.mode=22;case 22:if(O.extra){for(oe=O.extra;j<oe;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}O.length+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;fe=(re=O.distcode[B&(1<<O.distbits)-1])>>>16&255,Ne=65535&re,!((de=re>>>24)<=j);){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if((240&fe)==0){for(Re=de,me=fe,Le=Ne;fe=(re=O.distcode[Le+((B&(1<<Re+me)-1)>>Re)])>>>16&255,Ne=65535&re,!(Re+(de=re>>>24)<=j);){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}B>>>=Re,j-=Re,O.back+=Re}if(B>>>=de,j-=de,O.back+=de,64&fe){I.msg="invalid distance code",O.mode=30;break}O.offset=Ne,O.extra=15&fe,O.mode=24;case 24:if(O.extra){for(oe=O.extra;j<oe;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}O.offset+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){I.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(Y===0)break e;if(Q=X-Y,O.offset>Q){if((Q=O.offset-Q)>O.whave&&O.sane){I.msg="invalid distance too far back",O.mode=30;break}ee=Q>O.wnext?(Q-=O.wnext,O.wsize-Q):O.wnext-Q,Q>O.length&&(Q=O.length),ae=O.window}else ae=K,ee=te-O.offset,Q=O.length;for(Y<Q&&(Q=Y),Y-=Q,O.length-=Q;K[te++]=ae[ee++],--Q;);O.length===0&&(O.mode=21);break;case 26:if(Y===0)break e;K[te++]=O.length,Y--,O.mode=21;break;case 27:if(O.wrap){for(;j<32;){if(z===0)break e;z--,B|=G[J++]<<j,j+=8}if(X-=Y,I.total_out+=X,O.total+=X,X&&(I.adler=O.check=O.flags?o(O.check,K,X,te-X):a(O.check,K,X,te-X)),X=Y,(O.flags?B:_(B))!==O.check){I.msg="incorrect data check",O.mode=30;break}j=B=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;j<32;){if(z===0)break e;z--,B+=G[J++]<<j,j+=8}if(B!==(4294967295&O.total)){I.msg="incorrect length check",O.mode=30;break}j=B=0}O.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return p}return I.next_out=te,I.avail_out=Y,I.next_in=J,I.avail_in=z,O.hold=B,O.bits=j,(O.wsize||X!==I.avail_out&&O.mode<30&&(O.mode<27||U!==4))&&P(I,I.output,I.next_out,X-I.avail_out)?(O.mode=31,-4):(q-=I.avail_in,X-=I.avail_out,I.total_in+=q,I.total_out+=X,O.total+=X,O.wrap&&X&&(I.adler=O.check=O.flags?o(O.check,K,X,I.next_out-X):a(O.check,K,X,I.next_out-X)),I.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(q==0&&X===0||U===4)&&ve===h&&(ve=-5),ve)},i.inflateEnd=function(I){if(!I||!I.state)return p;var U=I.state;return U.window&&(U.window=null),I.state=null,h},i.inflateGetHeader=function(I,U){var O;return I&&I.state?(2&(O=I.state).wrap)==0?p:((O.head=U).done=!1,h):p},i.inflateSetDictionary=function(I,U){var O,G=U.length;return I&&I.state?(O=I.state).wrap!==0&&O.mode!==11?p:O.mode===11&&a(1,U,G,0)!==O.check?-3:P(I,U,G,G)?(O.mode=31,-4):(O.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,f,h,p,v,g,y,_){var x,w,C,D,R,S,N,k,F,P=_.bits,I=0,U=0,O=0,G=0,K=0,J=0,te=0,z=0,Y=0,B=0,j=null,q=0,X=new s.Buf16(16),Q=new s.Buf16(16),ee=null,ae=0;for(I=0;I<=15;I++)X[I]=0;for(U=0;U<p;U++)X[f[h+U]]++;for(K=P,G=15;1<=G&&X[G]===0;G--);if(G<K&&(K=G),G===0)return v[g++]=20971520,v[g++]=20971520,_.bits=1,0;for(O=1;O<G&&X[O]===0;O++);for(K<O&&(K=O),I=z=1;I<=15;I++)if(z<<=1,(z-=X[I])<0)return-1;if(0<z&&(u===0||G!==1))return-1;for(Q[1]=0,I=1;I<15;I++)Q[I+1]=Q[I]+X[I];for(U=0;U<p;U++)f[h+U]!==0&&(y[Q[f[h+U]]++]=U);if(S=u===0?(j=ee=y,19):u===1?(j=a,q-=257,ee=o,ae-=257,256):(j=l,ee=c,-1),I=O,R=g,te=U=B=0,C=-1,D=(Y=1<<(J=K))-1,u===1&&852<Y||u===2&&592<Y)return 1;for(;;){for(N=I-te,F=y[U]<S?(k=0,y[U]):y[U]>S?(k=ee[ae+y[U]],j[q+y[U]]):(k=96,0),x=1<<I-te,O=w=1<<J;v[R+(B>>te)+(w-=x)]=N<<24|k<<16|F|0,w!==0;);for(x=1<<I-1;B&x;)x>>=1;if(x!==0?(B&=x-1,B+=x):B=0,U++,--X[I]==0){if(I===G)break;I=f[h+y[U]]}if(K<I&&(B&D)!==C){for(te===0&&(te=K),R+=O,z=1<<(J=I-te);J+te<G&&!((z-=X[J+te])<=0);)J++,z<<=1;if(Y+=1<<J,u===1&&852<Y||u===2&&592<Y)return 1;v[C=B&D]=K<<24|J<<16|R-g|0}}return B!==0&&(v[R+B]=I-te<<24|64<<16|0),_.bits=K,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(re){for(var le=re.length;0<=--le;)re[le]=0}var c=0,u=29,f=256,h=f+1+u,p=30,v=19,g=2*h+1,y=15,_=16,x=7,w=256,C=16,D=17,R=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var I=new Array(2*p);l(I);var U=new Array(512);l(U);var O=new Array(256);l(O);var G=new Array(u);l(G);var K,J,te,z=new Array(p);function Y(re,le,he,_e,ie){this.static_tree=re,this.extra_bits=le,this.extra_base=he,this.elems=_e,this.max_length=ie,this.has_stree=re&&re.length}function B(re,le){this.dyn_tree=re,this.max_code=0,this.stat_desc=le}function j(re){return re<256?U[re]:U[256+(re>>>7)]}function q(re,le){re.pending_buf[re.pending++]=255&le,re.pending_buf[re.pending++]=le>>>8&255}function X(re,le,he){re.bi_valid>_-he?(re.bi_buf|=le<<re.bi_valid&65535,q(re,re.bi_buf),re.bi_buf=le>>_-re.bi_valid,re.bi_valid+=he-_):(re.bi_buf|=le<<re.bi_valid&65535,re.bi_valid+=he)}function Q(re,le,he){X(re,he[2*le],he[2*le+1])}function ee(re,le){for(var he=0;he|=1&re,re>>>=1,he<<=1,0<--le;);return he>>>1}function ae(re,le,he){var _e,ie,ce=new Array(y+1),ye=0;for(_e=1;_e<=y;_e++)ce[_e]=ye=ye+he[_e-1]<<1;for(ie=0;ie<=le;ie++){var xe=re[2*ie+1];xe!==0&&(re[2*ie]=ee(ce[xe]++,xe))}}function de(re){var le;for(le=0;le<h;le++)re.dyn_ltree[2*le]=0;for(le=0;le<p;le++)re.dyn_dtree[2*le]=0;for(le=0;le<v;le++)re.bl_tree[2*le]=0;re.dyn_ltree[2*w]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function fe(re){8<re.bi_valid?q(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function Ne(re,le,he,_e){var ie=2*le,ce=2*he;return re[ie]<re[ce]||re[ie]===re[ce]&&_e[le]<=_e[he]}function Re(re,le,he){for(var _e=re.heap[he],ie=he<<1;ie<=re.heap_len&&(ie<re.heap_len&&Ne(le,re.heap[ie+1],re.heap[ie],re.depth)&&ie++,!Ne(le,_e,re.heap[ie],re.depth));)re.heap[he]=re.heap[ie],he=ie,ie<<=1;re.heap[he]=_e}function me(re,le,he){var _e,ie,ce,ye,xe=0;if(re.last_lit!==0)for(;_e=re.pending_buf[re.d_buf+2*xe]<<8|re.pending_buf[re.d_buf+2*xe+1],ie=re.pending_buf[re.l_buf+xe],xe++,_e===0?Q(re,ie,le):(Q(re,(ce=O[ie])+f+1,le),(ye=S[ce])!==0&&X(re,ie-=G[ce],ye),Q(re,ce=j(--_e),he),(ye=N[ce])!==0&&X(re,_e-=z[ce],ye)),xe<re.last_lit;);Q(re,w,le)}function Le(re,le){var he,_e,ie,ce=le.dyn_tree,ye=le.stat_desc.static_tree,xe=le.stat_desc.has_stree,ke=le.stat_desc.elems,Ue=-1;for(re.heap_len=0,re.heap_max=g,he=0;he<ke;he++)ce[2*he]!==0?(re.heap[++re.heap_len]=Ue=he,re.depth[he]=0):ce[2*he+1]=0;for(;re.heap_len<2;)ce[2*(ie=re.heap[++re.heap_len]=Ue<2?++Ue:0)]=1,re.depth[ie]=0,re.opt_len--,xe&&(re.static_len-=ye[2*ie+1]);for(le.max_code=Ue,he=re.heap_len>>1;1<=he;he--)Re(re,ce,he);for(ie=ke;he=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Re(re,ce,1),_e=re.heap[1],re.heap[--re.heap_max]=he,re.heap[--re.heap_max]=_e,ce[2*ie]=ce[2*he]+ce[2*_e],re.depth[ie]=(re.depth[he]>=re.depth[_e]?re.depth[he]:re.depth[_e])+1,ce[2*he+1]=ce[2*_e+1]=ie,re.heap[1]=ie++,Re(re,ce,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],(function(Ce,Me){var Oe,Ke,rt,it,Ot,xn,ln=Me.dyn_tree,Ar=Me.max_code,Zn=Me.stat_desc.static_tree,Bn=Me.stat_desc.has_stree,Xn=Me.stat_desc.extra_bits,Gt=Me.stat_desc.extra_base,Cn=Me.stat_desc.max_length,pe=0;for(it=0;it<=y;it++)Ce.bl_count[it]=0;for(ln[2*Ce.heap[Ce.heap_max]+1]=0,Oe=Ce.heap_max+1;Oe<g;Oe++)Cn<(it=ln[2*ln[2*(Ke=Ce.heap[Oe])+1]+1]+1)&&(it=Cn,pe++),ln[2*Ke+1]=it,Ar<Ke||(Ce.bl_count[it]++,Ot=0,Gt<=Ke&&(Ot=Xn[Ke-Gt]),xn=ln[2*Ke],Ce.opt_len+=xn*(it+Ot),Bn&&(Ce.static_len+=xn*(Zn[2*Ke+1]+Ot)));if(pe!==0){do{for(it=Cn-1;Ce.bl_count[it]===0;)it--;Ce.bl_count[it]--,Ce.bl_count[it+1]+=2,Ce.bl_count[Cn]--,pe-=2}while(0<pe);for(it=Cn;it!==0;it--)for(Ke=Ce.bl_count[it];Ke!==0;)Ar<(rt=Ce.heap[--Oe])||(ln[2*rt+1]!==it&&(Ce.opt_len+=(it-ln[2*rt+1])*ln[2*rt],ln[2*rt+1]=it),Ke--)}})(re,le),ae(ce,Ue,re.bl_count)}function V(re,le,he){var _e,ie,ce=-1,ye=le[1],xe=0,ke=7,Ue=4;for(ye===0&&(ke=138,Ue=3),le[2*(he+1)+1]=65535,_e=0;_e<=he;_e++)ie=ye,ye=le[2*(_e+1)+1],++xe<ke&&ie===ye||(xe<Ue?re.bl_tree[2*ie]+=xe:ie!==0?(ie!==ce&&re.bl_tree[2*ie]++,re.bl_tree[2*C]++):xe<=10?re.bl_tree[2*D]++:re.bl_tree[2*R]++,ce=ie,Ue=(xe=0)===ye?(ke=138,3):ie===ye?(ke=6,3):(ke=7,4))}function ve(re,le,he){var _e,ie,ce=-1,ye=le[1],xe=0,ke=7,Ue=4;for(ye===0&&(ke=138,Ue=3),_e=0;_e<=he;_e++)if(ie=ye,ye=le[2*(_e+1)+1],!(++xe<ke&&ie===ye)){if(xe<Ue)for(;Q(re,ie,re.bl_tree),--xe!=0;);else ie!==0?(ie!==ce&&(Q(re,ie,re.bl_tree),xe--),Q(re,C,re.bl_tree),X(re,xe-3,2)):xe<=10?(Q(re,D,re.bl_tree),X(re,xe-3,3)):(Q(re,R,re.bl_tree),X(re,xe-11,7));ce=ie,Ue=(xe=0)===ye?(ke=138,3):ie===ye?(ke=6,3):(ke=7,4)}}l(z);var we=!1;function oe(re,le,he,_e){X(re,(c<<1)+(_e?1:0),3),(function(ie,ce,ye,xe){fe(ie),q(ie,ye),q(ie,~ye),s.arraySet(ie.pending_buf,ie.window,ce,ye,ie.pending),ie.pending+=ye})(re,le,he)}i._tr_init=function(re){we||((function(){var le,he,_e,ie,ce,ye=new Array(y+1);for(ie=_e=0;ie<u-1;ie++)for(G[ie]=_e,le=0;le<1<<S[ie];le++)O[_e++]=ie;for(O[_e-1]=ie,ie=ce=0;ie<16;ie++)for(z[ie]=ce,le=0;le<1<<N[ie];le++)U[ce++]=ie;for(ce>>=7;ie<p;ie++)for(z[ie]=ce<<7,le=0;le<1<<N[ie]-7;le++)U[256+ce++]=ie;for(he=0;he<=y;he++)ye[he]=0;for(le=0;le<=143;)P[2*le+1]=8,le++,ye[8]++;for(;le<=255;)P[2*le+1]=9,le++,ye[9]++;for(;le<=279;)P[2*le+1]=7,le++,ye[7]++;for(;le<=287;)P[2*le+1]=8,le++,ye[8]++;for(ae(P,h+1,ye),le=0;le<p;le++)I[2*le+1]=5,I[2*le]=ee(le,5);K=new Y(P,S,f+1,h,y),J=new Y(I,N,0,p,y),te=new Y(new Array(0),k,0,v,x)})(),we=!0),re.l_desc=new B(re.dyn_ltree,K),re.d_desc=new B(re.dyn_dtree,J),re.bl_desc=new B(re.bl_tree,te),re.bi_buf=0,re.bi_valid=0,de(re)},i._tr_stored_block=oe,i._tr_flush_block=function(re,le,he,_e){var ie,ce,ye=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=(function(xe){var ke,Ue=4093624447;for(ke=0;ke<=31;ke++,Ue>>>=1)if(1&Ue&&xe.dyn_ltree[2*ke]!==0)return a;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return o;for(ke=32;ke<f;ke++)if(xe.dyn_ltree[2*ke]!==0)return o;return a})(re)),Le(re,re.l_desc),Le(re,re.d_desc),ye=(function(xe){var ke;for(V(xe,xe.dyn_ltree,xe.l_desc.max_code),V(xe,xe.dyn_dtree,xe.d_desc.max_code),Le(xe,xe.bl_desc),ke=v-1;3<=ke&&xe.bl_tree[2*F[ke]+1]===0;ke--);return xe.opt_len+=3*(ke+1)+5+5+4,ke})(re),ie=re.opt_len+3+7>>>3,(ce=re.static_len+3+7>>>3)<=ie&&(ie=ce)):ie=ce=he+5,he+4<=ie&&le!==-1?oe(re,le,he,_e):re.strategy===4||ce===ie?(X(re,2+(_e?1:0),3),me(re,P,I)):(X(re,4+(_e?1:0),3),(function(xe,ke,Ue,Ce){var Me;for(X(xe,ke-257,5),X(xe,Ue-1,5),X(xe,Ce-4,4),Me=0;Me<Ce;Me++)X(xe,xe.bl_tree[2*F[Me]+1],3);ve(xe,xe.dyn_ltree,ke-1),ve(xe,xe.dyn_dtree,Ue-1)})(re,re.l_desc.max_code+1,re.d_desc.max_code+1,ye+1),me(re,re.dyn_ltree,re.dyn_dtree)),de(re),_e&&fe(re)},i._tr_tally=function(re,le,he){return re.pending_buf[re.d_buf+2*re.last_lit]=le>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&le,re.pending_buf[re.l_buf+re.last_lit]=255&he,re.last_lit++,le===0?re.dyn_ltree[2*he]++:(re.matches++,le--,re.dyn_ltree[2*(O[he]+f+1)]++,re.dyn_dtree[2*j(le)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){X(re,2,3),Q(re,w,P),(function(le){le.bi_valid===16?(q(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,f,h=1,p={},v=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(C){process.nextTick(function(){x(C)})}:(function(){if(a.postMessage&&!a.importScripts){var C=!0,D=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=D,C}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(C){a.postMessage(f+C,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){x(C.data)},function(C){u.port2.postMessage(C)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(C){var D=g.createElement("script");D.onreadystatechange=function(){x(C),D.onreadystatechange=null,c.removeChild(D),D=null},c.appendChild(D)}):function(C){setTimeout(x,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var D=new Array(arguments.length-1),R=0;R<D.length;R++)D[R]=arguments[R+1];var S={callback:C,args:D};return p[h]=S,l(h),h++},y.clearImmediate=_}function _(C){delete p[C]}function x(C){if(v)setTimeout(x,0,C);else{var D=p[C];if(D){v=!0;try{(function(R){var S=R.callback,N=R.args;switch(N.length){case 0:S();break;case 1:S(N[0]);break;case 2:S(N[0],N[1]);break;case 3:S(N[0],N[1],N[2]);break;default:S.apply(o,N)}})(D)}finally{_(C),v=!1}}}}function w(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(f)===0&&x(+C.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ms<"u"?ms:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(gC)),gC.exports}var dme=bH();const mp=a_(dme),nd=t=>{switch(t){case"us":case"ca":return"en";case"fr":return"fr";case"de":return"de";case"es":return"es";case"tr":return"tr";default:return"ar"}},Zd=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"tr",name:"Trke"}],Qg={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout",allCountries:"All Countries",allCountriesSearch:"All Countries (Global Search)",selectCafeCountry:"Select Cafe Country"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},blog:{title:"Gitut Blog",subtitle:"Follow our latest news, updates, and helpful tips for cafe owners and document service seekers."},share:{title:"Share:",copied:"Copied!",copyDetails:"Copy details"},blogPostCard:{readMore:"Read more"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},app:{error:{title:"Application Error",message:"Could not load essential data. There might be a problem connecting to the server."}},cafeCard:{owner:"Owner:",address:"Address:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",chooseThisCafe:"Choose this Cafe",viewDetails:"View Details & Services",startChat:"Start Chat",distanceUnit:"km"},profilePage:{backToSearch:"Back to Search",managedBy:"Managed by:",checkingStatus:"Checking status...",online:"Online",offline:"Offline",address:"Address:",description:"Description:",viewOnMap:"View on Map",step1Title:"1. Select Required Documents",step1Subtitle:"Select the documents you need. You can search for a document and add it to the list, or choose directly from the list below.",searchPlaceholder:"Search for a document to add...",searchLabel:"Search for a document to add to your list",noMatch:"No documents match your search.",step2Title:"2. Send Your Request",continueToForm:"Continue to Fill Form ({count})",similarCafes:"Similar Cafes",cafeNotFoundTitle:"Cafe Not Found",cafeNotFoundMessage:"Sorry, we couldn't find the page you're looking for.",startChat:"Start Chat",chatWith:"Chat with {name}"},confirmationPage:{title:"Your Request Has Been Sent Successfully!",subtitle:"Your information has been sent to the cafe. Please go there and provide the following code to receive your documents.",orderCodeLabel:"Your order code is:",note:"Note: Keep this code, you will need it to confirm your order with the cafe owner.",backToHome:"Back to Homepage"},formPage:{title:"Fill Out the Form",submittingTo:"You are submitting a request to",online:"Online",offline:"Offline",scanId:"Scan ID",scanIdTitle:"Scan ID card with camera",micPermissionErrorTitle:"Microphone Access Denied",micPermissionErrorMessage:"Please enable microphone access in your browser settings to use the voice input feature. You can still complete the form manually.",stepCounter:"Step {current} of {total}",navigationHint:'You can say "Next" or "Previous" to navigate between fields.',answerPlaceholder:"Answer here... e.g., {placeholder}",toggleMic:"Toggle Microphone",optionsHint:"Available options (say the number to select):",previous:"Previous",next:"Next",review:"Review",formCompleteTitle:"Form Complete!",formCompleteMessage:"Please review the data carefully before final submission.",profilePicture:"Profile Picture",backToEdit:"Back to Edit",submitFinal:"Submit Final Request",submitting:"Submitting...",errorTitle:"Request Error",errorMessage:"No documents or services were selected. Please go back and select documents first.",backToSearch:"Back to Search Page"},blogPost:{publishedOn:"Published on:",by:"By:",relatedArticles:"Other articles you might like",backToList:"Back to all articles",relatedPostsSidebar:"Related Posts",notFoundTitle:"404 - Post Not Found",notFoundMessage:"Sorry, we couldn't find the post you're looking for.",backToBlog:"Back to Blog"},searchForm:{searchByName:"Search by name...",search:"Search"},servicesListPage:{title:"Services List",fillableDocs:"Fillable Documents",staticDocs:"Printable Documents (PDF)",siteServices:"Website Services"},serviceDetailPage:{serviceNotFound:"Service Not Found",backToList:"Back to Services List",preview:"Document Preview",previousDesign:"Previous Design",nextDesign:"Next Design",loadingPreview:"Loading preview...",noPreview:"No preview is available for this document.",openInNewWindow:"Open in new window or download",instructions:"Instructions for This Design",voiceExample:"How to Record (Example):",requiredInfo:"Required information (spoken):",findCafeTitle:"Find a cafe that provides this service",searchNearest:"Search for cafes nearest to me",locating:"Locating...",resultsTitle:"Results ({count})",allCafesTitle:"Internet cafes providing this service ({count})",noResults:"No cafes match your search for all required services."},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},findPage:{hero:{title1:"Get your documents done with ease",subtitle1:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",title2:"Do you own an internet cafe?",subtitle2:"Join our platform, receive customer requests electronically, and increase your profits."},step1:{title:"Step 1: Search and Add Required Documents",placeholder:"Enter document name (e.g., CV)...",voiceSearchTitle:"Search using voice"},selectedDocs:{title:"Selected Documents",viewFile:"View File",removeTitle:"Remove",nextStepButton:"Next Step: Find a cafe for {count} document(s)",nextStepButtonDisabledTitle:"At least one fillable document must be selected",emptyState:"Start by searching for a document to add to your list."},alert:{selectFillable:"Please select at least one fillable document to proceed and find a cafe."}},notFound:{title:"404 - Page Not Found",message:"Sorry, the page you are looking for does not exist.",button:"Go to Homepage"},formFields:{profilePicture:"Profile Picture",fullName:"Full Name",firstName:"First Name",lastName:"Last Name",firstNameFr:"First Name (French)",lastNameFr:"Last Name (French)",birthdaydate:"Date of Birth",birthdayplace:"Place of Birth",address:"Full Address",phone:"Phone Number",email:"Email",jobTitle:"Job Title",nationalId:"National ID Number",birthCertificateNumber:"Birth Certificate Number",socialSecurityNumber:"Social Security Number",nationality:"Nationality",maritalStatus:"Marital Status",motherFirstName:"Mother's First Name",motherLastName:"Mother's Last Name",motherDob:"Mother's Date of Birth",motherPob:"Mother's Place of Birth",fatherFirstName:"Father's First Name",fatherLastName:"Father's Last Name",fatherDob:"Father's Date of Birth",fatherPob:"Father's Place of Birth",residenceWilaya:"State of Residence",residenceDaira:"District of Residence",residenceCommune:"City of Residence",residenceStreet:"Street of Residence",birthWilaya:"State of Birth",birthDaira:"District of Birth",birthCommune:"City of Birth",bloodType:"Blood Type",dateToday:"Today's Date",gender:"Gender",height:"Height (cm)",eyeColor:"Eye Color",distinguishingMarks:"Distinguishing Marks",employerName:"Name of the employing institution",employerAddress:"Employer Address",educationLevel:"Education Level",universityName:"University Name",graduationDate:"Graduation Date",fieldOfStudy:"Field of Study",higherInstituteName:"Higher Institute Name",vocationalTrainingCenterName:"Vocational Training Center Name",schoolName:"School Name",highSchoolName:"High School Name",middleSchoolName:"Middle School Name",universityCity:"University City",passportNumber:"Passport Number",passportIssueDate:"Passport Issue Date",passportExpiryDate:"Passport Expiry Date",passportIssuePlace:"Passport Place of Issue",drivingLicenseNumber:"Driver's License Number",drivingLicenseCategory:"Driver's License Category",drivingLicenseIssueDate:"Driver's License Issue Date",numberOfChildren:"Number of Children",spouseFullName:"Spouse's Full Name",spouseDob:"Spouse's Date of Birth",spouseJob:"Spouse's Job",militaryStatus:"Military Service Status",submissionWilaya:"Submission Province",submissionDaira:"Submission District",submissionCommune:"Submission Municipality",employerWilaya:"Employer's Province",employerDaira:"Employer's District",employerCommune:"Employer's Municipality",criminalRecordNumber:"Criminal Record Number",criminalRecordIssueDate:"Criminal Record Issue Date",criminalRecordIssuePlace:"Criminal Record Issue Place",commercialRegistryNumber:"Commercial Registry Number",taxIdNumber:"Tax ID Number (NIF)",casnosNumber:"CASNOS Number",vehicleRegistrationCardNumber:"Vehicle Registration Card Number",vehicleType:"Vehicle Type",vehicleBrand:"Vehicle Brand",vehicleModel:"Vehicle Model",vehicleFirstRegistrationDate:"Vehicle First Registration Date",bankName:"Bank Name",bankAccountNumber:"Bank Account Number (RIB)",bankAgencyName:"Bank Agency Name",bankAgencyCode:"Bank Agency Code",employmentContractType:"Employment Contract Type",employmentStartDate:"Employment Start Date",employeeIdNumber:"Employee ID Number",professionalGrade:"Professional Grade/Rank",nationalIdIssueDate:"National ID Issue Date",nationalIdExpiryDate:"National ID Expiry Date",drivingLicenseExpiryDate:"Driving License Expiry Date",familyBookNumber:"Family Book Number",marriageDate:"Marriage Date",marriagePlace:"Place of Marriage",rentalContractNumber:"Rental Contract Number",landlordName:"Landlord Full Name",propertyAddress:"Property Address",attendingPhysicianName:"Attending Physician Name",currentTime:"Current Time",currentYear:"Current Year",documentName:"Document Name",age:"Age",fullDateLongAr:"Full Date (Arabic)",hijriDate:"Hijri Date",placeholders:{profilePicture:"Choose a profile picture",fullName:"e.g., John Doe",firstName:"e.g., John",lastName:"e.g., Doe",firstNameFr:"e.g., John",lastNameFr:"e.g., Doe",birthdayplace:"e.g., New York",address:"e.g., 123 Liberty St, New York",phone:"e.g., 555-123-4567",email:"e.g., user@example.com",jobTitle:"e.g., Engineer, Student",nationalId:"e.g., 123456789012345678",birthCertificateNumber:"e.g., 1990/00123",socialSecurityNumber:"e.g., 123456789012",nationality:"e.g., American",maritalStatus:"Select status",motherFirstName:"Person's mother's first name",motherLastName:"Person's mother's last name",motherPob:"Mother's place of birth",fatherFirstName:"Person's father's first name",fatherLastName:"Person's father's last name",fatherPob:"Father's place of birth",residenceWilaya:"e.g., California",residenceDaira:"e.g., Los Angeles County",residenceCommune:"e.g., Los Angeles",residenceStreet:"e.g., Rodeo Drive",birthWilaya:"e.g., Texas",birthDaira:"e.g., Harris County",birthCommune:"e.g., Houston",bloodType:"e.g., O+",gender:"Select gender",height:"e.g., 175",eyeColor:"e.g., Brown",distinguishingMarks:"e.g., Scar on left cheek",employerName:"e.g., Acme Corporation",employerAddress:"e.g., 123 Main St, Anytown",educationLevel:"Select level",universityName:"e.g., University of Technology",fieldOfStudy:"e.g., Computer Science",higherInstituteName:"e.g., Higher Institute of Technology",vocationalTrainingCenterName:"e.g., Vocational Training Center of Hussein Dey",schoolName:"e.g., Biskri Brothers School",highSchoolName:"e.g., Colonel Lotfi High School",middleSchoolName:"e.g., Ibn Khaldoun Middle School",universityCity:"e.g., Oran",passportNumber:"e.g., 12345ABC",passportIssuePlace:"e.g., Anytown",drivingLicenseNumber:"e.g., 123456789",drivingLicenseCategory:"e.g., B",numberOfChildren:"e.g., 2",spouseFullName:"e.g., Jane Doe",spouseJob:"e.g., Doctor",militaryStatus:"e.g., Completed, Exempt, Deferred",submissionWilaya:"e.g., Algiers",submissionDaira:"e.g., Sidi M'Hamed",submissionCommune:"e.g., Alger Centre",employerWilaya:"e.g., Oran",employerDaira:"e.g., Oran",employerCommune:"e.g., Oran",criminalRecordNumber:"e.g., 123/2024",criminalRecordIssuePlace:"e.g., Court of Sidi M'Hamed",commercialRegistryNumber:"e.g., 16/00-1234567 A 24",taxIdNumber:"e.g., 123456789012345",casnosNumber:"e.g., 123456789012",vehicleRegistrationCardNumber:"e.g., 12345 123 16",vehicleType:"e.g., Tourism",vehicleBrand:"e.g., Renault",vehicleModel:"e.g., Clio 4",bankName:"e.g., Bank of America",bankAccountNumber:"e.g., 0030012345678901234567",bankAgencyName:"e.g., Main Street Branch",bankAgencyCode:"e.g., 00123",employmentContractType:"e.g., Permanent contract",employeeIdNumber:"e.g., 987654",professionalGrade:"e.g., Grade 12, State Engineer",familyBookNumber:"e.g., 12345/2020",marriagePlace:"e.g., Central Municipality",rentalContractNumber:"e.g., 2024/A-45",landlordName:"e.g., John Smith",propertyAddress:"e.g., 50 Victory St, Oran",attendingPhysicianName:"e.g., Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Single",married:"Married",divorced:"Divorced"},genderOptions:{male:"Male",female:"Female"},educationLevelOptions:{primary:"Primary School",middle:"Middle School",high:"High School",university:"University",postgraduate:"Postgraduate"}}},H0={ar:{header:{search:"",login:"  ",dashboard:" ",logout:" ",allCountries:" ",allCountriesSearch:"  ( )",selectCafeCountry:"  "},footer:{blog:"",services:" ",rightsReserved:"  ."},blog:{title:" Gitut",subtitle:"           ."},share:{title:":",copied:" !",copyDetails:" "},blogPostCard:{readMore:" "},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},app:{error:{title:"   ",message:"   .       ."}},cafeCard:{owner:":",address:":",checkingStatus:" ...",online:" ",offline:" ",chooseThisCafe:"  ",viewDetails:"  ",startChat:" ",distanceUnit:""},profilePage:{backToSearch:"  ",managedBy:":",checkingStatus:" ...",online:" ",offline:" ",address:":",description:":",viewOnMap:"  ",step1Title:"1.   ",step1Subtitle:"   .            .",searchPlaceholder:"   ...",searchLabel:"     ",noMatch:"    .",step2Title:"2.  ",continueToForm:"   ({count})",similarCafes:" ",cafeNotFoundTitle:"    ",cafeNotFoundMessage:"         .",startChat:" ",chatWith:"  {name}"},confirmationPage:{title:"   !",subtitle:"     .         .",orderCodeLabel:"    :",note:":         .",backToHome:"   "},formPage:{title:" ",submittingTo:"   ",online:"",offline:" ",scanId:" ",scanIdTitle:"   ",micPermissionErrorTitle:"    ",micPermissionErrorMessage:"           .    .",stepCounter:" {current}  {total}",navigationHint:'  ""  ""   .',answerPlaceholder:" ... : {placeholder}",toggleMic:"/ ",optionsHint:"  (  ):",previous:"",next:"",review:"",formCompleteTitle:" !",formCompleteMessage:"      .",profilePicture:" ",backToEdit:" ",submitFinal:"  ",submitting:" ...",errorTitle:"  ",errorMessage:"      .     .",backToSearch:"   "},blogPost:{publishedOn:" :",by:":",relatedArticles:"   ",backToList:"   ",relatedPostsSidebar:"  ",notFoundTitle:"404 -   ",notFoundMessage:"         .",backToBlog:"  "},searchForm:{searchByName:" ...",search:""},servicesListPage:{title:" ",fillableDocs:"  ",staticDocs:"   (PDF)",siteServices:"  "},serviceDetailPage:{serviceNotFound:"    ",backToList:"   ",preview:" ",previousDesign:" ",nextDesign:" ",loadingPreview:"  ...",noPreview:"     .",openInNewWindow:"     ",instructions:"   ",voiceExample:"   ():",requiredInfo:"  :",findCafeTitle:"     ",searchNearest:"    ",locating:"...  ",resultsTitle:" ({count})",allCafesTitle:"      ({count})",noResults:"         ."},login:{title:"   ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:" ",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"    ."},reset:{title:"   ",emailLabel:"  ",sendButton:"  ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:"",daira:"",commune:"",state:" / ",city:"",street:" ",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:": 123  ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"   ",errors:{allowedDomains:"     Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"      6   .",signupFailed:"         .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"    "}},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"   ",subtitle2:"         ."},step1:{title:" 1:    ",placeholder:"   (:  )...",voiceSearchTitle:"  "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:" :     {count} ()",nextStepButtonDisabledTitle:"      ",emptyState:"      ."},alert:{selectFillable:"      ( )    ."}},notFound:{title:"404 -   ",message:"      .",button:"   "},formFields:{profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",residenceWilaya:" ",residenceDaira:" ",residenceCommune:" ",residenceStreet:" ",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",dateToday:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" ",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"    ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:" ",spouseFullName:"  /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",submissionWilaya:"    ",submissionDaira:"    ",submissionCommune:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",placeholders:{profilePicture:"  ",fullName:":  ",firstName:": ",lastName:": ",firstNameFr:"Ex: Mohamed",lastNameFr:"Ex: Ali",birthdayplace:":  ",address:": 123   ",phone:": 0550123456",email:": user@example.com",jobTitle:":  ",nationalId:": 123456789012345678",birthCertificateNumber:": 1990/00123",socialSecurityNumber:": 123456789012",nationality:": ",maritalStatus:" ",motherFirstName:"  ",motherLastName:"  ",motherPob:"  ",fatherFirstName:"  ",fatherLastName:"  ",fatherPob:"  ",residenceWilaya:": ",residenceDaira:":  ",residenceCommune:":  ",residenceStreet:":   ",birthWilaya:": ",birthDaira:": ",birthCommune:": ",bloodType:": O+",gender:" ",height:": 175",eyeColor:": ",distinguishingMarks:":    ",employerName:":  ",employerAddress:":  ",educationLevel:" ",universityName:":   ",fieldOfStudy:":  ",higherInstituteName:":   ",vocationalTrainingCenterName:":     ",schoolName:":   ",highSchoolName:":   ",middleSchoolName:":   ",universityCity:": ",passportNumber:": 12345ABC",passportIssuePlace:":  ",drivingLicenseNumber:": 123456789",drivingLicenseCategory:": ",numberOfChildren:": 2",spouseFullName:":    ",spouseJob:": ",militaryStatus:":   ",submissionWilaya:": ",submissionDaira:":  ",submissionCommune:":  ",employerWilaya:": ",employerDaira:": ",employerCommune:": ",criminalRecordNumber:": 123/2024",criminalRecordIssuePlace:":   ",commercialRegistryNumber:": 16/00-1234567 A 24",taxIdNumber:": 123456789012345",casnosNumber:": 123456789012",vehicleRegistrationCardNumber:": 12345 123 16",vehicleType:": ",vehicleBrand:": Renault",vehicleModel:": Clio 4",bankName:":    ",bankAccountNumber:"0030012345678901234567",bankAgencyName:":    ",bankAgencyCode:": 00123",employmentContractType:":     ",employeeIdNumber:": 987654",professionalGrade:":  12  ",familyBookNumber:": 12345/2020",marriagePlace:":   ",rentalContractNumber:": 2024/A-45",landlordName:":  ",propertyAddress:":    50 ",attendingPhysicianName:": .   "},maritalStatusOptions:{single:"",married:"",divorced:""},genderOptions:{male:"",female:""},educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:" "}}},en:Qg,fr:{header:{search:"Rechercher",login:"Connexion Propritaire",dashboard:"Tableau de bord",logout:"Dconnexion",allCountries:"Tous les pays",allCountriesSearch:"Tous les pays (Recherche globale)",selectCafeCountry:"Slectionner le pays du caf"},footer:{blog:"Blog",services:"Liste des services",rightsReserved:"Tous droits rservs."},blog:{title:"Blog de Gitut",subtitle:"Suivez nos dernires nouvelles, mises  jour et conseils utiles pour les propritaires de cafs et les demandeurs de services de documents."},share:{title:"Partager :",copied:"Copi !",copyDetails:"Copier les dtails"},blogPostCard:{readMore:"Lire la suite"},relatedServices:{title:"Services similaires"},relatedPosts:{title:"Articles similaires"},relatedPages:{title:"Autres Pages"},app:{error:{title:"Erreur de l'application",message:"Impossible de charger les donnes essentielles. Il y a peut-tre un problme de connexion au serveur."}},cafeCard:{owner:"Propritaire :",address:"Adresse :",checkingStatus:"Vrification...",online:"En ligne",offline:"Hors ligne",chooseThisCafe:"Choisir ce caf",viewDetails:"Voir dtails et services",startChat:"Dmarrer le chat",distanceUnit:"km"},profilePage:{backToSearch:"Retour  la recherche",managedBy:"Gr par :",checkingStatus:"Vrification...",online:"En ligne",offline:"Hors ligne",address:"Adresse :",description:"Description :",viewOnMap:"Voir sur la carte",step1Title:"1. Slectionnez les documents requis",step1Subtitle:"Slectionnez les documents dont vous avez besoin. Vous pouvez rechercher un document et l'ajouter  la liste, ou choisir directement dans la liste ci-dessous.",searchPlaceholder:"Rechercher un document  ajouter...",searchLabel:"Rechercher un document  ajouter  votre liste",noMatch:"Aucun document ne correspond  votre recherche.",step2Title:"2. Envoyez votre demande",continueToForm:"Continuer pour remplir le formulaire ({count})",similarCafes:"Cafs similaires",cafeNotFoundTitle:"Caf non trouv",cafeNotFoundMessage:"Dsol, nous n'avons pas pu trouver la page que vous recherchez.",startChat:"Dmarrer le chat",chatWith:"Chat avec {name}"},confirmationPage:{title:"Votre demande a t envoye avec succs !",subtitle:"Vos informations ont t envoyes au caf. Veuillez vous y rendre et fournir le code suivant pour recevoir vos documents.",orderCodeLabel:"Votre code de commande est :",note:"Remarque : Conservez ce code, vous en aurez besoin pour confirmer votre commande auprs du propritaire du caf.",backToHome:"Retour  la page d'accueil"},formPage:{title:"Remplir le formulaire",submittingTo:"Vous soumettez une demande ",online:"En ligne",offline:"Hors ligne",scanId:"Scanner la carte d'identit",scanIdTitle:"Scanner la carte d'identit avec la camra",micPermissionErrorTitle:"Accs au microphone refus",micPermissionErrorMessage:"Veuillez activer l'accs au microphone dans les paramtres de votre navigateur pour utiliser la saisie vocale. Vous pouvez toujours remplir le formulaire manuellement.",stepCounter:"tape {current} sur {total}",navigationHint:'Vous pouvez dire "Suivant" ou "Prcdent" pour naviguer entre les champs.',answerPlaceholder:"Rpondez ici... ex : {placeholder}",toggleMic:"Activer/Dsactiver le microphone",optionsHint:"Options disponibles (dites le numro pour slectionner) :",previous:"Prcdent",next:"Suivant",review:"Vrifier",formCompleteTitle:"Formulaire termin !",formCompleteMessage:"Veuillez vrifier attentivement les donnes avant la soumission finale.",profilePicture:"Photo de profil",backToEdit:"Retourner  la modification",submitFinal:"Soumettre la demande finale",submitting:"Envoi en cours...",errorTitle:"Erreur de demande",errorMessage:"Aucun document ou service n'a t slectionn. Veuillez revenir en arrire et slectionner d'abord les documents.",backToSearch:"Retour  la page de recherche"},blogPost:{publishedOn:"Publi le :",by:"Par :",relatedArticles:"Autres articles qui pourraient vous intresser",backToList:"Retour  tous les articles",relatedPostsSidebar:"Articles similaires",notFoundTitle:"404 - Article non trouv",notFoundMessage:"Dsol, nous n'avons pas pu trouver l'article que vous recherchez.",backToBlog:"Retour au blog"},searchForm:{searchByName:"Rechercher par nom...",search:"Rechercher"},servicesListPage:{title:"Liste des services",fillableDocs:"Documents  remplir",staticDocs:"Documents imprimables (PDF)",siteServices:"Services de sites Web"},serviceDetailPage:{serviceNotFound:"Service non trouv",backToList:"Retour  la liste des services",preview:"Aperu du document",previousDesign:"Design prcdent",nextDesign:"Design suivant",loadingPreview:"Chargement de l'aperu...",noPreview:"Aucun aperu n'est disponible pour ce document.",openInNewWindow:"Ouvrir dans une nouvelle fentre ou tlcharger",instructions:"Instructions pour ce design",voiceExample:"Comment enregistrer (Exemple) :",requiredInfo:"Informations requises (parles) :",findCafeTitle:"Trouver un caf qui propose ce service",searchNearest:"Rechercher les cafs les plus proches",locating:"Localisation en cours...",resultsTitle:"Rsultats ({count})",allCafesTitle:"Cybercafs proposant ce service ({count})",noResults:"Aucun caf ne correspond  votre recherche pour tous les services requis."},login:{title:"Connexion Propritaire de Caf",emailLabel:"E-mail",passwordLabel:"Mot de passe",forgotPassword:"Mot de passe oubli ?",loginButton:"Se connecter",loggingInButton:"Connexion...",noAccount:"Vous n'avez pas de compte ?",createAccount:"Crer un nouveau compte",error:{fillAllFields:"Veuillez remplir tous les champs.",verifyEmail:"Veuillez vrifier votre e-mail pour activer votre compte.",wrongCredentials:"L'e-mail ou le mot de passe est incorrect.",enterEmail:"Veuillez saisir votre adresse e-mail."},reset:{title:"Rinitialiser le mot de passe",emailLabel:"E-mail enregistr",sendButton:"Envoyer le lien de rinitialisation",sendingButton:"Envoi en cours...",successMessage:"Un lien de rinitialisation de mot de passe a t envoy. Veuillez vrifier votre bote de rception.",errorMessage:"chec de l'envoi de l'e-mail. Veuillez ressayer.",backToLogin:"Retour  la connexion"}},signup:{title:"Crer un nouveau compte",accountInfo:"Informations du compte",email:"E-mail",password:"Mot de passe",passwordPlaceholder:"Au moins 6 caractres",confirmPassword:"Confirmer le mot de passe",cafeInfo:"Informations du caf",cafeName:"Nom commercial du caf",cafeNamePlaceholder:"Ex: Le Coin Tranquille",ownerName:"Nom complet du propritaire",ownerNamePlaceholder:"Ex: Jean Dupont",country:"Pays",wilaya:"Province",daira:"District",commune:"Commune",state:"tat / Province",city:"Ville",street:"Adresse",loading:"Chargement...",selectWilaya:"Slectionner la province",selectDaira:"Slectionner le district",selectCommune:"Slectionner la commune",statePlaceholder:"Ex: Californie, Riyad",cityPlaceholder:"Ex: Paris, Djeddah",streetPlaceholder:"Ex: 123 Rue de la Libert",createButton:"Crer le compte et le caf",creatingButton:"Cration...",haveAccount:"Vous avez dj un compte ?",loginHere:"Connectez-vous ici",errors:{allowedDomains:"Veuillez utiliser une adresse e-mail Gmail ou Microsoft (Outlook, Hotmail, Live).",fillAllFields:"Veuillez remplir tous les champs.",passwordsMismatch:"Les mots de passe ne correspondent pas.",passwordLength:"Le mot de passe doit contenir au moins 6 caractres.",signupFailed:"Cet e-mail est dj utilis ou une erreur d'inscription s'est produite. Veuillez ressayer."},success:{title:"Compte cr avec succs !",message:"Nous avons envoy un lien de vrification  votre adresse e-mail",instruction:"Veuillez cliquer sur le lien pour activer votre compte avant de vous connecter.",loginButton:"Aller  la page de connexion"}},findPage:{hero:{title1:"Faites vos documents en toute simplicit",subtitle1:"Trouvez un cybercaf  proximit, envoyez votre demande  distance et rcuprez vos documents prts.",title2:"Possdez-vous un cybercaf ?",subtitle2:"Rejoignez notre plateforme, recevez les demandes des clients par voie lectronique et augmentez vos profits."},step1:{title:"tape 1 : Rechercher et ajouter les documents requis",placeholder:"Saisir le nom du document (ex: CV)...",voiceSearchTitle:"Recherche vocale"},selectedDocs:{title:"Documents slectionns",viewFile:"Voir le fichier",removeTitle:"Retirer",nextStepButton:"tape suivante : Trouver un caf pour {count} document(s)",nextStepButtonDisabledTitle:"Au moins un document  remplir doit tre slectionn",emptyState:"Commencez par rechercher un document  ajouter  votre liste."},alert:{selectFillable:"Veuillez slectionner au moins un document  remplir pour continuer et trouver un caf."}},notFound:{title:"404 - Page non trouve",message:"Dsol, la page que vous recherchez n'existe pas.",button:"Retour  l'accueil"},formFields:{profilePicture:"Photo de profil",fullName:"Nom et prnom",firstName:"Prnom",lastName:"Nom",firstNameFr:"Prnom (Franais)",lastNameFr:"Nom (Franais)",birthdaydate:"Date de naissance",birthdayplace:"Lieu de naissance",address:"Adresse complte",phone:"Numro de tlphone",email:"E-mail",jobTitle:"Profession",nationalId:"Numro d'identit nationale",birthCertificateNumber:"Numro de l'acte de naissance",socialSecurityNumber:"Numro de scurit sociale",nationality:"Nationalit",maritalStatus:"tat civil",motherFirstName:"Prnom de la mre",motherLastName:"Nom de la mre",motherDob:"Date de naissance de la mre",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre",fatherLastName:"Nom de la mre",fatherDob:"Date de naissance du pre",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Wilaya de rsidence",residenceDaira:"Dara de rsidence",residenceCommune:"Commune de rsidence",residenceStreet:"Rue de rsidence",birthWilaya:"Wilaya de naissance",birthDaira:"Dara de naissance",birthCommune:"Commune de naissance",bloodType:"Groupe sanguin",dateToday:"Date d'aujourd'hui",gender:"Sexe",height:"Taille (cm)",eyeColor:"Couleur des yeux",distinguishingMarks:"Signes particuliers",employerName:"Nom de l'institution de travail",employerAddress:"Adresse de l'employeur",educationLevel:"Niveau d'ducation",universityName:"Nom de l'universit",graduationDate:"Date d'obtention du diplme",fieldOfStudy:"Domaine d'tudes",higherInstituteName:"Nom de l'institut suprieur",vocationalTrainingCenterName:"Nom du centre de formation professionnelle",schoolName:"Nom de l'cole",highSchoolName:"Nom du lyce",middleSchoolName:"Nom du collge",universityCity:"Ville de l'universit",passportNumber:"Numro de passeport",passportIssueDate:"Date de dlivrance du passeport",passportExpiryDate:"Date d'expiration du passeport",passportIssuePlace:"Lieu de dlivrance du passeport",drivingLicenseNumber:"Numro du permis de conduire",drivingLicenseCategory:"Catgorie du permis de conduire",drivingLicenseIssueDate:"Date de dlivrance du permis",numberOfChildren:"Nombre d'enfants",spouseFullName:"Nom complet du conjoint",spouseDob:"Date de naissance du conjoint",spouseJob:"Profession du conjoint",militaryStatus:"Situation vis--vis du service national",submissionWilaya:"Wilaya de soumission du document",submissionDaira:"Dara de soumission du document",submissionCommune:"Commune de soumission du document",employerWilaya:"Wilaya de l'institution",employerDaira:"Dara de l'institution",employerCommune:"Commune de l'institution",criminalRecordNumber:"Numro du Casier Judiciaire",criminalRecordIssueDate:"Date de dlivrance du Casier Judiciaire",criminalRecordIssuePlace:"Lieu de dlivrance du Casier Judiciaire",commercialRegistryNumber:"Numro du Registre de Commerce (RC)",taxIdNumber:"Numro d'Identification Fiscale (NIF)",casnosNumber:"Numro CASNOS",vehicleRegistrationCardNumber:"Numro de la Carte Grise",vehicleType:"Type de vhicule",vehicleBrand:"Marque du vhicule",vehicleModel:"Modle du vhicule",vehicleFirstRegistrationDate:"Date de premire mise en circulation",bankName:"Nom de la banque",bankAccountNumber:"Numro de compte bancaire (RIB)",bankAgencyName:"Nom de l'agence bancaire",bankAgencyCode:"Code de l'agence bancaire",employmentContractType:"Type de contrat de travail",employmentStartDate:"Date de dbut d'emploi",employeeIdNumber:"Matricule de l'employ",professionalGrade:"Grade ou catgorie professionnelle",nationalIdIssueDate:"Date de dlivrance de la CNI",nationalIdExpiryDate:"Date d'expiration de la CNI",drivingLicenseExpiryDate:"Date d'expiration du permis de conduire",familyBookNumber:"Numro du livret de famille",marriageDate:"Date de l'acte de mariage",marriagePlace:"Lieu de l'acte de mariage",rentalContractNumber:"Numro du contrat de location",landlordName:"Nom et prnom du bailleur",propertyAddress:"Adresse du bien immobilier",attendingPhysicianName:"Nom du mdecin traitant",currentTime:"Heure actuelle",currentYear:"Anne actuelle",documentName:"Nom du document",age:"ge",fullDateLongAr:"Date complte (Arabe)",hijriDate:"Date Hgirienne",placeholders:{profilePicture:"Choisir une photo de profil",fullName:"Ex: Jean Dupont",firstName:"Ex: Jean",lastName:"Ex: Dupont",firstNameFr:"Ex: Jean",lastNameFr:"Ex: Dupont",birthdayplace:"Ex: Paris",address:"Ex: 123 Rue de la Libert, Paris",phone:"Ex: 0612345678",email:"Ex: user@example.com",jobTitle:"Ex: Ingnieur, tudiant",nationalId:"Ex: 123456789012345678",birthCertificateNumber:"Ex: 1990/00123",socialSecurityNumber:"Ex: 123456789012",nationality:"Ex: Franaise",maritalStatus:"Slectionner le statut",motherFirstName:"Prnom de la mre de la personne",motherLastName:"Nom de la mre de la personne",motherPob:"Lieu de naissance de la mre",fatherFirstName:"Prnom du pre de la personne",fatherLastName:"Nom de la mre de la personne",fatherPob:"Lieu de naissance du pre",residenceWilaya:"Ex: le-de-France",residenceDaira:"Ex: Paris",residenceCommune:"Ex: Paris 1er",residenceStreet:"Ex: Rue de Rivoli",birthWilaya:"Ex: Lyon",birthDaira:"Ex: Lyon",birthCommune:"Ex: Lyon",bloodType:"Ex: O+",gender:"Slectionner le sexe",height:"Ex: 175",eyeColor:"Ex: Marron",distinguishingMarks:"Ex: Cicatrice sur la joue gauche",employerName:"Ex: Socit Acme",employerAddress:"Ex: 123 Rue Principale, Ville",educationLevel:"Slectionner le niveau",universityName:"Ex: Universit de Technologie",fieldOfStudy:"Ex: Informatique",higherInstituteName:"Ex: Institut Suprieur de Technologie",vocationalTrainingCenterName:"Ex: Centre de Formation Professionnelle de Hussein Dey",schoolName:"Ex: cole Frres Biskri",highSchoolName:"Ex: Lyce Colonel Lotfi",middleSchoolName:"Ex: Collge Ibn Khaldoun",universityCity:"Ex: Oran",passportNumber:"Ex: 12345ABC",passportIssuePlace:"Ex: Ville",drivingLicenseNumber:"Ex: 123456789",drivingLicenseCategory:"Ex: B",numberOfChildren:"Ex: 2",spouseFullName:"Ex: Jeanne Dupont",spouseJob:"Ex: Mdecin",militaryStatus:"Ex: Accompli, Exempt, Sursis",submissionWilaya:"Ex: Alger",submissionDaira:"Ex: Sidi M'Hamed",submissionCommune:"Ex: Alger Centre",employerWilaya:"Ex: Oran",employerDaira:"Ex: Oran",employerCommune:"Ex: Oran",criminalRecordNumber:"Ex: 123/2024",criminalRecordIssuePlace:"Ex: Tribunal de Sidi M'Hamed",commercialRegistryNumber:"Ex: 16/00-1234567 A 24",taxIdNumber:"Ex: 123456789012345",casnosNumber:"Ex: 123456789012",vehicleRegistrationCardNumber:"Ex: 12345 123 16",vehicleType:"Ex: Tourisme",vehicleBrand:"Ex: Renault",vehicleModel:"Ex: Clio 4",bankName:"Ex: Banque de l'Agriculture et du Dveloppement Rural",bankAccountNumber:"0030012345678901234567",bankAgencyName:"Ex: Agence Emir Abdelkader",bankAgencyCode:"Ex: 00123",employmentContractType:"Ex: Contrat  dure indtermine",employeeIdNumber:"Ex: 987654",professionalGrade:"Ex: Catgorie 12, Ingnieur d'tat",familyBookNumber:"Ex: 12345/2020",marriagePlace:"Ex: Mairie d'Alger Centre",rentalContractNumber:"Ex: 2024/A-45",landlordName:"Ex: Ahmed Mahmoudi",propertyAddress:"Ex: Cit Ennasr N50, Oran",attendingPhysicianName:"Ex: Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Clibataire",married:"Mari(e)",divorced:"Divorc(e)"},genderOptions:{male:"Masculin",female:"Fminin"},educationLevelOptions:{primary:"Primaire",middle:"Collge",high:"Lyce",university:"Universitaire",postgraduate:"Post-universitaire"}}},de:{...Qg},es:{...Qg},tr:{...Qg},ja:{...Qg}},gi={ar:[{name:"",code:"dz",phoneCode:"213",flag:""},{name:"",code:"sa",phoneCode:"966",flag:""},{name:"",code:"eg",phoneCode:"20",flag:""},{name:"",code:"ma",phoneCode:"212",flag:""},{name:"",code:"ae",phoneCode:"971",flag:""},{name:"",code:"tn",phoneCode:"216",flag:""},{name:"",code:"iq",phoneCode:"964",flag:""},{name:"",code:"jo",phoneCode:"962",flag:""},{name:"",code:"kw",phoneCode:"965",flag:""},{name:"",code:"lb",phoneCode:"961",flag:""},{name:"",code:"om",phoneCode:"968",flag:""},{name:"",code:"qa",phoneCode:"974",flag:""},{name:"",code:"sy",phoneCode:"963",flag:""},{name:"",code:"fr",phoneCode:"33",flag:""},{name:" ",code:"us",phoneCode:"1",flag:""},{name:"",code:"ca",phoneCode:"1",flag:""},{name:"",code:"de",phoneCode:"49",flag:""},{name:"",code:"es",phoneCode:"34",flag:""},{name:"",code:"tr",phoneCode:"90",flag:""}],en:[{name:"Algeria",code:"dz",phoneCode:"213",flag:""},{name:"Saudi Arabia",code:"sa",phoneCode:"966",flag:""},{name:"Egypt",code:"eg",phoneCode:"20",flag:""},{name:"Morocco",code:"ma",phoneCode:"212",flag:""},{name:"UAE",code:"ae",phoneCode:"971",flag:""},{name:"Tunisia",code:"tn",phoneCode:"216",flag:""},{name:"Iraq",code:"iq",phoneCode:"964",flag:""},{name:"Jordan",code:"jo",phoneCode:"962",flag:""},{name:"Kuwait",code:"kw",phoneCode:"965",flag:""},{name:"Lebanon",code:"lb",phoneCode:"961",flag:""},{name:"Oman",code:"om",phoneCode:"968",flag:""},{name:"Qatar",code:"qa",phoneCode:"974",flag:""},{name:"Syria",code:"sy",phoneCode:"963",flag:""},{name:"France",code:"fr",phoneCode:"33",flag:""},{name:"United States",code:"us",phoneCode:"1",flag:""},{name:"Canada",code:"ca",phoneCode:"1",flag:""},{name:"Germany",code:"de",phoneCode:"49",flag:""},{name:"Spain",code:"es",phoneCode:"34",flag:""},{name:"Turkey",code:"tr",phoneCode:"90",flag:""}]},f9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),rd=t=>(n,r)=>{const i=H0[t]||H0.en,s=H0.en;let a=f9(i,n)||f9(s,n)||n;return r&&Object.keys(r).forEach(o=>{a=a.replace(new RegExp(`\\{${o}\\}`,"g"),String(r[o]))}),a},gl="https://datas.gitut.com";async function ef(t,e){const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch ${e} from ${t}. Status: ${n.status} ${n.statusText}`);const r=await n.text();try{return JSON.parse(r)}catch{const s=r.length>100?r.substring(0,100)+"...":r;throw new Error(`Failed to parse JSON for ${e} from ${t}. Content started with: "${s}"`)}}const fme=async()=>{const t=`${gl}/data/json/all-services-public.json`;return ef(t,"all-services-public.json").catch(()=>[])},Nn={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5,items:[]},ai:{apiKey:"",useAdminKey:!0}},hme=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),pme="https://gitut.com/api/",mme="@@??YOUYOU@@??YOUYOU1936";function gme(){return new Promise((t,e)=>{if(Lr.currentUser)return t(Lr.currentUser);const n=Lr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated for API call."))})})}async function $t(t,e){try{const r=await(await gme()).getIdToken(),i=await fetch(pme,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":mme},body:JSON.stringify({action:t,payload:e})});if(t==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let a;try{a=await i.json()}catch{a=null}throw new Error((a==null?void 0:a.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(n){throw console.error(`API Service Error (${t}):`,n),n}}const Ao=async t=>$t("uploadFilesToGitHub",t),vm=async t=>{const n=await(i=>new Promise((s,a)=>{const o=new FileReader;o.readAsDataURL(i),o.onload=()=>s(o.result.split(",")[1]),o.onerror=l=>a(l)}))(t);return(await $t("uploadFile",{fileData:n,fileName:t.name,fileType:t.type})).url},h9=async t=>{var y;const e=`${gl}/data/json/${t}-cafes-public.json`,n=`${gl}/data/json/${t}-all-services-public.json`,r=`${gl}/data/json/site-settings-public.json`,i=`${gl}/data/json/${t}-pages-public.json`,[s,a,o,l]=await Promise.all([ef(n,`${t}-all-services-public.json`),ef(e,`${t}-cafes-public.json`),ef(r,"site-settings-public.json"),ef(i,`${t}-pages-public.json`)]);let c=[];const u=s.filter(_=>_.serviceType==="doc"),f=s.filter(_=>_.serviceType==="static-doc"),h=s.filter(_=>_.serviceType==="site"),p=((y=o.ads)==null?void 0:y.items)||[],v={...Nn,...o,payment:{...Nn.payment,...o.payment||{}},pricing:{...Nn.pricing,...o.pricing||{}},social:{...Nn.social,...o.social||{}},ads:{...Nn.ads,...o.ads||{}},ai:{...Nn.ai,...o.ai||{}}},g=c.map(_=>({..._,createdAt:_.createdAt?Br.firestore.Timestamp.fromDate(new Date(_.createdAt)):Br.firestore.Timestamp.now(),publishedAt:_.publishedAt?Br.firestore.Timestamp.fromDate(new Date(_.publishedAt)):void 0}));return{documents:u,staticDocuments:f,cafes:a,siteSettings:v,pages:l,blogPosts:g,sites:h,ads:p,services:s}},p9=async t=>{const e=`${gl}/data/json/${t}-locations.json`;return ef(e,`${t}-locations.json`)},OA=async()=>$t("getCollection",{collection:"cafes"}),LA=async()=>$t("getCollection",{collection:"users"}),Kk=async t=>$t("getDoc",{collection:"cafes",id:t}),yme=async t=>(await $t("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:t}],limit:1}))[0]||null,Cx=async t=>$t("getDoc",{collection:"users",id:t}),m9=async()=>$t("getMonthlyRevenue",{}),vme=async(t,e)=>$t("createUserAndCafe",{uid:t.uid,email:t.email,emailVerified:t.emailVerified,cafeData:e}),xme=async(t,e)=>{await $t("updateDoc",{collection:"cafes",id:t,data:e})},Xk=async(t,e)=>$t("deductCredits",{userId:t.id,amount:e}),bme=async(t,e)=>$t("syncOfflineDeductions",{userId:t,deductions:e}),_me=async(t,e)=>{const n=ym.collection("jobs"),r=e?n.doc(e):n.doc(),i={...t,createdAt:Date.now(),status:"Pending"};return await r.set(i),{...i,id:r.id}},wme=async(t,e)=>{await ym.collection("jobs").doc(t).update(e)},Tme=async t=>$t("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),jA=async()=>$t("getCollection",{collection:"payment_requests",orderBy:"date"}),Eme=async t=>$t("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),Cme=async()=>$t("getCollection",{collection:"invoices",orderBy:"date"}),g9=async(t,e,n,r,i)=>$t("addPaymentRequest",{userId:t,amount:e,currency:n,method:r,proofOfPaymentUrl:i}),Sme=async t=>$t("approvePaymentRequest",{requestId:t.id}),y9=async()=>$t("getDataVersion",{}),Dme=async()=>$t("incrementDataVersion",{}),Mb=async()=>$t("getDoc",{collection:"settings",id:"site"}),_H=async t=>$t("updateDoc",{collection:"settings",id:"site",data:t}),BA=async()=>{const t=await $t("getDoc",{collection:"excel_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(t==null?void 0:t.config)||null},Ame=async t=>$t("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),eh=t=>({getAll:()=>$t("getCollection",{collection:t}),get:e=>$t("getDoc",{collection:t,id:e}),create:async e=>await $t("createDoc",{collection:t,data:e}),update:async(e,n)=>{await $t("updateDoc",{collection:t,id:e,data:n})},delete:async e=>{await $t("deleteDoc",{collection:t,id:e})}}),tf={getAll:()=>$t("getCollection",{collection:"pages"}),create:async t=>{const e=await $t("createDoc",{collection:"pages",data:t});return await mr("pages",e),e},update:async(t,e)=>{await $t("updateDoc",{collection:"pages",id:t,data:e});const n=await Us("pages",t);n&&await mr("pages",{...n,...e,id:t})},delete:async t=>{await $t("deleteDoc",{collection:"pages",id:t}),await Pf("pages",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await $t("updateDoc",{collection:"pages",id:t,data:n});const r=await Us("pages",t);r&&await mr("pages",{...r,...n,id:t})}},_p={...eh("ads"),toggleStatus:async(t,e)=>{const n={enabled:!e};await $t("updateDoc",{collection:"ads",id:t,data:n});const r=await Us("ads",t);r&&await mr("ads",{...r,...n,id:t})}},wp={...eh("blog"),create:async t=>{const e=await $t("createDoc",{collection:"blog",data:t});return await mr("blogPosts",e),e},update:async(t,e)=>{await $t("updateDoc",{collection:"blog",id:t,data:e});const n=await Us("blogPosts",t);n&&await mr("blogPosts",{...n,...e,id:t})},delete:async t=>{await $t("deleteDoc",{collection:"blog",id:t}),await Pf("blogPosts",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await $t("updateDoc",{collection:"blog",id:t,data:n});const r=await Us("blogPosts",t);r&&await mr("blogPosts",{...r,...n,id:t})}},G0=eh("codes"),nf=eh("sites"),cf=eh("staticDocuments"),v9={getAll:()=>$t("getCollection",{collection:"voice_prompts"}),create:async t=>{const e=await vm(t),n=await $t("createDoc",{collection:"voice_prompts",data:{name:t.name,url:e,createdAt:new Date().toISOString()}});return await mr("voice_prompts",n),n},delete:async(t,e)=>{await $t("deleteFile",{fileUrl:e}),await $t("deleteDoc",{collection:"voice_prompts",id:t}),await Pf("voice_prompts",t)}},gp={getAll:async()=>{const t=await $t("getClients",{});return await ki("clients",t),t},create:async t=>{const e=await $t("createClient",{clientData:t});return await mr("clients",e),e},update:async(t,e)=>{await $t("updateClient",{id:t,updates:e});const n=await Us("clients",t);n&&await mr("clients",{...n,...e,id:t})},delete:async t=>{await $t("deleteClient",{id:t}),await Pf("clients",t)}},fl={...eh("documents"),create:async t=>{const{id:e,...n}=t,r=await $t("createDocWithId",{collection:"documents",id:e,data:n});return await mr("documents",r),await mr("fullDocuments",r),r}},Pp=()=>$t("getCollection",{collection:"documents"}),xm=eh("baseTemplates"),x9=t=>t?t.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",Nme=async t=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.previewHtml}</body></html>`,n=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.templateHtml}</body></html>`,r={name:t.prompt,description:t.description,tags:t.tags,requiredFields:t.requiredFields,complexFields:t.complexFields,slug:hme(t.prompt),previewTemplateHtml:x9(e),finalTemplateHtml:x9(n),previewTemplateUrl:"",finalTemplateUrl:""};if(t.docToEdit)await fl.update(t.docToEdit.id,r);else{const i=t.fileNameBase,s={...r,id:i,groupId:i};await fl.create(s)}},VA=async()=>{const t=await $t("getDoc",{collection:"document_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(t==null?void 0:t.config)||null},kme=async t=>$t("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),K0=t=>{const e=/\[([a-zA-Z0-9_]+)\]/g,n=[...t.matchAll(e)],r=new Set(n.map(a=>a[1])),i=new Set(Object.keys(ei)),s=Array.from(r).filter(a=>i.has(a));return[...new Set(s)]},uf=async(t,e,n=!1)=>{var i;let r;switch(t){case"cafes":return r=await Mn("cafes"),(!r||r.length===0)&&(console.log("Cache miss for cafes, fetching from API."),r=await OA()),r.filter(h=>h.isProfilePublished&&(!e||e==="global"||h.countryCode===e)).map(({id:h,numericId:p,name:v,owner:g,countryCode:y,address:_,description:x,imageUrl:w,coverImageUrl:C,googleMapsUrl:D,phone:R,socials:S,services:N})=>({id:h,numericId:p,name:v,owner:g,countryCode:y,address:_,description:x,imageUrl:w,coverImageUrl:C,googleMapsUrl:D,phone:R,socials:S,services:N}));case"global-services":{const h=gi.en.map(_=>_.code);let p=[];const v=h.map(_=>ef(`${gl}/data/json/${_}-all-services-public.json`,`${_}-services`).catch(()=>(console.warn(`Could not fetch services for country: ${_}, skipping.`),[])));return(await Promise.all(v)).forEach(_=>{Array.isArray(_)&&(p=p.concat(_))}),Array.from(new Map(p.map(_=>[_.id,_])).values())}case"services":{let h=await Mn("fullDocuments"),p=await Mn("staticDocuments"),v=await Mn("sites");(h.length===0||p.length===0||v.length===0)&&([h,p,v]=await Promise.all([Pp(),cf.getAll(),nf.getAll()]));const g=[];return{mainData:[...h.map(x=>({...x,serviceType:"doc"})),...p.map(x=>({...x,serviceType:"static-doc"})),...v.map(x=>({...x,serviceType:"site"}))].filter(x=>!x.countryCode||e==="global"||x.countryCode===e).map(x=>{if(x.serviceType==="doc"){const{id:w,name:C,description:D,countryCode:R,slug:S,tags:N,previewTemplateHtml:k,finalTemplateHtml:F,requiredFields:P}=x,I={id:w,name:C,description:D,previewTemplateHtml:k,finalTemplateHtml:F,requiredFields:P||[]},U=`data/json/documents/${S||w}.json`;g.push({path:U,data:I});const{previewTemplateHtml:O,finalTemplateHtml:G,requiredFields:K,complexFields:J,spokenFields:te,visitorExamplePrompt:z,cafeExamplePrompt:Y,previewTemplateUrl:B,finalTemplateUrl:j,cafeId:q,fieldCustomizations:X,questions:Q,...ee}=x;return ee}else if(x.serviceType==="static-doc"){const{id:w,name:C,description:D,countryCode:R,fileUrl:S,slug:N,tags:k,serviceType:F}=x;return{id:w,name:C,description:D,countryCode:R,fileUrl:S,slug:N,tags:k,serviceType:F}}else if(x.serviceType==="site"){const{id:w,name:C,url:D,type:R,description:S,countryCode:N,tags:k,slug:F,serviceType:P,templateFields:I,jsonTemplate:U}=x;return{id:w,name:C,url:D,type:R,description:S,countryCode:N,tags:k,slug:F,serviceType:P}}return x}),extraFiles:g}}case"blog":{let h=await Mn("blogPosts");(!h||h.length===0)&&(console.log("Cache miss for blog posts, fetching from API."),h=await wp.getAll());const p=w=>{if(!w)return;if(w instanceof Br.firestore.Timestamp)return w.toDate().toISOString();if(typeof w=="object"&&w!==null&&typeof w.seconds=="number")return new Date(w.seconds*1e3).toISOString();const C=new Date(w);return isNaN(C.getTime())?String(w):C.toISOString()},v=h.filter(w=>w.enabled).map(w=>({...w,createdAt:p(w.createdAt),publishedAt:p(w.publishedAt)})),g=new Set;v.forEach(w=>{(w.tags?w.tags.split(",").map(D=>D.trim().toLowerCase()).filter(Boolean):[]).forEach(D=>g.add(D))});const y=new Map;Array.from(g).forEach((w,C)=>{y.set(w,C+1)});const x={"tags-map-public.json":[Object.fromEntries(y)]};for(const w of v){const C=w.tags?w.tags.split(",").map(R=>R.trim().toLowerCase()).filter(Boolean):[];if(C.length===0)continue;const D=Object.keys(w.content||{});for(const R of D){const{countryCode:S,...N}=w,k={...N,content:w.content[R]};for(const F of C){const P=y.get(F);if(P===void 0)continue;const I=`${R}-${P}-blog-posts-public.json`;x[I]||(x[I]=[]),x[I].push(k)}}}return x}case"pages":return r=await Mn("pages"),(!r||r.length===0)&&(console.log("Cache miss for pages, fetching from API."),r=await tf.getAll()),r.filter(h=>h.enabled);case"settings":if(r=await Us("siteSettings","main"),r||(console.log("Cache miss for settings, fetching from API."),r=await Mb()),!r)return{};let s=await Mn("ads");(!s||s.length===0)&&(console.log("Cache miss for ads, fetching from API."),s=await _p.getAll());const a=s.filter(h=>h.enabled);let o=await Mn("pages");(!o||o.length===0)&&(console.log("Cache miss for pages (for settings), fetching from API."),o=await tf.getAll());const l=o.filter(h=>h.enabled).map(h=>({title:h.title,slug:h.slug,lang:h.lang||"ar"})),{payment:c,ai:u,...f}=r;return{...f,ads:{pdfInterstitialTimer:((i=f.ads)==null?void 0:i.pdfInterstitialTimer)||5,items:a},footerPages:l};case"documents":return r=await Mn("fullDocuments"),(!r||r.length===0)&&(console.log("Cache miss for fullDocuments, fetching from API."),r=await Pp()),r;case"templates-paginated":{let h=await Mn("fullDocuments");(!h||h.length===0)&&(h=await Pp());const p=y=>{const{description:_,...x}=y;return x},v=20,g=Math.ceil(h.length/v);if(n){const y=[];for(let _=0;_<g;_++){const x=h.slice(_*v,(_+1)*v);y.push({fileName:`templates-part-${_+1}.json`,data:x.map(p)})}return y}for(let y=0;y<g;y++){const x=h.slice(y*v,(y+1)*v).map(p),w=new Blob([JSON.stringify(x)],{type:"application/json"}),C=URL.createObjectURL(w),D=document.createElement("a");D.href=C,D.download=`templates-part-${y+1}-of-${g}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(C),await new Promise(R=>setTimeout(R,300))}return{downloadInitiated:!0,chunks:g}}}};async function Ime(t){const{saveAs:e}=await Kee(async()=>{const{saveAs:u}=await import("https://esm.sh/file-saver@2.0.5");return{saveAs:u}},[]),n=new mp,r=n.folder("json"),i=n.folder("pdf");if(!r||!i)throw new Error("Failed to create folders in zip file.");const s=[{dataType:"cafes",countryCode:t,fileName:`${t}-cafes-public.json`},{dataType:"services",countryCode:t,fileName:`${t}-all-services-public.json`},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json"},{dataType:"pages",countryCode:t,fileName:`${t}-pages-public.json`},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json"},{dataType:"ads",countryCode:"global",fileName:"ads-public.json"}];for(const u of s){const f=await uf(u.dataType,u.countryCode);r.file(u.fileName,JSON.stringify(f))}const a=await uf("templates-paginated","global",!0);if(Array.isArray(a))for(const u of a)r.file(u.fileName,JSON.stringify(u.data));let o=await Mn("staticDocuments");(!o||o.length===0)&&(o=await cf.getAll());const l=o.filter(u=>!u.countryCode||u.countryCode===t);for(const u of l){const f=u.fileUrl.split("/").pop();if(f)try{const h=await fetch(`${gl}/data/pdf/${f}`);if(h.ok){const p=await h.blob();i.file(f,p)}else console.warn(`Could not fetch static PDF: ${gl}/data/pdf/${f}. Status: ${h.status}`)}catch(h){console.error(`Error fetching static PDF: ${gl}/data/pdf/${f}`,h)}}const c=await n.generateAsync({type:"blob"});e(c,`${t}-public-data.zip`)}const wH=W.createContext(void 0),Rme=({children:t})=>{const[e,n]=W.useState(null),[r,i]=W.useState(!0),s=W.useCallback(async p=>{const v=await cme();if(v.length!==0)try{console.log(`Syncing ${v.length} offline transactions...`),await bme(p,v),await ume(),console.log("Sync successful.");const g=await Cx(p);if(g&&Lr.currentUser){const y={...g,emailVerified:Lr.currentUser.emailVerified};n(y),await mr("userProfile",{...y,id:"currentUser"})}}catch(g){console.error("Failed to sync pending transactions. They will be retried later.",g)}},[]),a=W.useCallback(async()=>{const p=Lr.currentUser;if(p)try{const v=await Cx(p.uid);if(v){const g={...v,emailVerified:p.emailVerified};n(g),await mr("userProfile",{...g,id:"currentUser"})}}catch(v){console.error("Failed to refetch user profile:",v)}},[]);W.useEffect(()=>{const p=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",p),()=>window.removeEventListener("online",p)},[e,s]),W.useEffect(()=>{i(!0);const p=Lr.onAuthStateChanged(async v=>{if(v&&v.email==="mgkrol99@gmail.com"){e&&n(null),i(!1);return}if(v)try{const y=await Cx(v.uid);if(y){const _={...y,emailVerified:v.emailVerified},x=ym.collection("users").doc(v.uid);!(await x.get()).exists&&y.cafeId&&v.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await x.set({cafeId:y.cafeId,email:v.email})),n(_),await mr("userProfile",{..._,id:"currentUser"}),navigator.onLine&&await s(v.uid)}else console.error(`Inconsistent state: User ${v.uid} exists in Auth but not in D1 DB. Forcing logout.`),await Lr.signOut()}catch(y){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",y);const _=await Us("userProfile","currentUser");_&&_.id===v.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),n(_)):(console.error(`No valid profile found for ${v.uid} online or locally. Forcing logout.`),await Lr.signOut())}finally{i(!1)}else n(null),await Pf("userProfile","currentUser"),i(!1)});return()=>p()},[s]);const o=async p=>{if(e){const v={...e,credits:{...e.credits,amount:p}};n(v),await mr("userProfile",{...v,id:"currentUser"})}},l=async(p,v)=>{try{const y=(await Lr.signInWithEmailAndPassword(p,v)).user;if(!y)throw new Error("No Firebase user returned after sign-in.");const _=await Cx(y.uid);if(!_)throw await Lr.signOut(),new Error("User profile not found in database.");const x={..._,emailVerified:y.emailVerified};return n(x),await mr("userProfile",{...x,id:"currentUser"}),x}catch(g){throw console.error("Firebase login error:",g),g}},c=async(p,v,g)=>{try{const y=await Lr.createUserWithEmailAndPassword(p,v);if(y.user){await y.user.sendEmailVerification();const _=await vme(y.user,g);return _&&_.cafeId?await ym.collection("users").doc(y.user.uid).set({cafeId:_.cafeId,email:y.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await Lr.signOut(),!0}return!1}catch(y){throw console.error("Signup error:",y),y}},u=async()=>{await Lr.signOut(),n(null),await Pf("userProfile","currentUser")},f=async p=>{await Lr.sendPasswordResetEmail(p)},h=async()=>{if(Lr.currentUser)await Lr.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return d.jsx(wH.Provider,{value:{user:e,loading:r,login:l,signup:c,logout:u,sendPasswordReset:f,resendVerificationEmail:h,updateUserCredits:o,refetchUser:a},children:t})},Dr=()=>{const t=W.useContext(wH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},b9=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),Ci=()=>{const t=Sr(),e=W.useMemo(()=>{const s=t.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return s?s[1]:null},[t.pathname]),n=W.useMemo(()=>nd(e||"dz"),[e]),r=n==="ar"?"rtl":"ltr";return W.useEffect(()=>{document.documentElement.lang=n,document.documentElement.dir=r},[n,r]),{language:n,t:(s,a)=>{const o=H0[n],l=H0.en;let c=b9(o,s)||b9(l,s)||s;return a&&Object.keys(a).forEach(u=>{c=c.replace(new RegExp(`\\{${u}\\}`,"g"),String(a[u]))}),c},dir:r,countryCode:e}};var TH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_9=xl.createContext&&xl.createContext(TH),Pme=["attr","size","title"];function Fme(t,e){if(t==null)return{};var n=Mme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(this,arguments)}function w9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w9(Object(n),!0).forEach(function(r){Ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e,n){return e=Ome(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ome(t){var e=Lme(t,"string");return typeof e=="symbol"?e:e+""}function Lme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EH(t){return t&&t.map((e,n)=>xl.createElement(e.tag,Ob({key:n},e.attr),EH(e.child)))}function Ft(t){return e=>xl.createElement(jme,Ub({attr:Ob({},t.attr)},e),EH(t.child))}function jme(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=Fme(t,Pme),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),xl.createElement("svg",Ub({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Ob(Ob({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&xl.createElement("title",null,s),t.children)};return _9!==void 0?xl.createElement(_9.Consumer,null,n=>e(n)):e(TH)}function Jk(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function CH(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Bme(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Vme(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function Wme(t){return Ft({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function qme(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function SH(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Yk(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function DH(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function Hm(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function AH(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function T9(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function NH(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function gw(t){return Ft({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function yw(t){return Ft({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function WA(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function $me(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function zme(t){return Ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(t)}function kH(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Qk(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function Zk(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function ko(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function vw(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function xw(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function IH(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function qA(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Hme(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(t)}function RH(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function bw(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function PH(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function Gme(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function eI(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Kme(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function Lb(t){return Ft({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function Xme(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function FH(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function Jme(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function MH(t){return Ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function UH(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function Yme(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function OH(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function ra(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(t)}function Qme(t){return Ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function tI(t){return Ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function vc(t){return Ft({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function X0(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function Zme(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function ege(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function LH(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function sc(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function _w(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function ww(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function $A(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Ct(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function tge(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function nge(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function jH(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function Ff(t){return Ft({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Gm(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function rge(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function kl(t){return Ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function ige(t){return Ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function sge(t){return Ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function age(t){return Ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const oge=()=>{const{user:t,logout:e}=Dr(),n=Ti(),{t:r,countryCode:i,language:s}=Ci(),[a,o]=W.useState("G"),[l,c]=W.useState(!1),[u,f]=W.useState(!1),[h,p]=W.useState(!1),v=W.useRef(null),g=i?`/${i}/`:"/",y=W.useMemo(()=>gi[s]||gi.en,[s]),_=W.useMemo(()=>{const S=new Set;return Object.values(gi).forEach(N=>N.forEach(k=>S.add(k.code))),Array.from(S)},[]),x=W.useMemo(()=>_.map(S=>y.find(N=>N.code===S)||gi.en.find(N=>N.code===S)||{name:S.toUpperCase(),code:S,phoneCode:"",flag:""}).sort((S,N)=>S.name.localeCompare(N.name,s)),[_,y,s]),w=W.useMemo(()=>i?x.find(S=>S.code===i):null,[i,x]);W.useEffect(()=>{let S,N;const k=setInterval(()=>{c(!0),N=setTimeout(()=>{o(F=>F==="G"?"@":"G")},250),S=setTimeout(()=>{c(!1)},500)},2500);return()=>{clearInterval(k),clearTimeout(S),clearTimeout(N)}},[]),W.useEffect(()=>{const S=N=>{v.current&&!v.current.contains(N.target)&&f(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const C=()=>{e(),n("/")},D=S=>{f(!1),n(S==="global"?"/":`/${S}/`)},R=S=>{i||(S.preventDefault(),p(!0))};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(Zt,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),d.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[d.jsx("span",{className:`char-flipper ${l?"swapping":""}`,children:a}),"itut"]})]}),d.jsxs("div",{className:"relative",ref:v,children:[d.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[w?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xl",children:w.flag}),d.jsx("span",{className:"font-semibold text-gray-800",children:w.name})]}):d.jsxs(d.Fragment,{children:[d.jsx(Lb,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold text-gray-800",children:r("header.allCountries")})]}),d.jsx(NH,{className:"text-gray-500 text-xs"})]}),u&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(Lb,{className:"text-gray-600"}),d.jsx("span",{children:r("header.allCountriesSearch")})]})}),x.map(S=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>D(S.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx("span",{className:"text-xl",children:S.flag}),d.jsx("span",{children:S.name})]})},S.code))]})})]})]}),d.jsx("nav",{className:"flex items-center gap-6",children:t?d.jsxs(d.Fragment,{children:[d.jsx(Zt,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),d.jsx("button",{onClick:C,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):d.jsxs(d.Fragment,{children:[d.jsx(Zt,{to:g,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),d.jsx(Zt,{to:`/${i||"dz"}/login/`,onClick:R,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>p(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:S=>S.stopPropagation(),children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:r("header.selectCafeCountry")}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:x.map(S=>d.jsx("li",{children:d.jsxs(Zt,{to:`/${S.code}/login/`,onClick:()=>p(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:S.flag}),d.jsx("span",{className:"font-semibold",children:S.name})]})},S.code))})]})})]})},BH=W.createContext(void 0),lge=({children:t})=>{const[e,n]=W.useState(null),r=(s,a)=>{const o="mgkrol99@gmail.com";return s===o&&a==="@Youyou1936@"?(n({id:"admin-user",email:o,role:"admin"}),!0):!1},i=()=>{n(null)};return d.jsx(BH.Provider,{value:{admin:e,login:r,logout:i},children:t})},$v=()=>{const t=W.useContext(BH);if(t===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return t},VH=W.createContext(void 0),cge=({children:t})=>{const{user:e,loading:n}=Dr(),{admin:r}=$v(),i=Sr(),s=i.pathname.startsWith("/admin"),a=i.pathname.includes("/app"),[o,l]=W.useState([]),[c,u]=W.useState([]),[f,h]=W.useState([]),[p,v]=W.useState([]),[g,y]=W.useState([]),[_,x]=W.useState(null),[w,C]=W.useState([]),[D,R]=W.useState([]),[S,N]=W.useState([]),[k,F]=W.useState([]),[P,I]=W.useState([]),[U,O]=W.useState([]),[G,K]=W.useState([]),[J,te]=W.useState([]),[z,Y]=W.useState([]),[B,j]=W.useState([]),[q,X]=W.useState(null),[Q,ee]=W.useState(null),[ae,de]=W.useState(!0),[fe,Ne]=W.useState(!0),[Re,me]=W.useState(!1),[Le,V]=W.useState(null),ve=xe=>xe?xe.map(ke=>{if(!ke)return ke;const Ue=Ce=>{if(!Ce)return;if(Ce instanceof Br.firestore.Timestamp)return Ce;if(typeof Ce=="object"&&Ce!==null&&typeof Ce.seconds=="number"&&typeof Ce.nanoseconds=="number")return new Br.firestore.Timestamp(Ce.seconds,Ce.nanoseconds);const Me=new Date(Ce);if(!isNaN(Me.getTime()))return Br.firestore.Timestamp.fromDate(Me)};return{...ke,createdAt:Ue(ke.createdAt)||Br.firestore.Timestamp.now(),publishedAt:Ue(ke.publishedAt)}}):[],we=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[xe,ke,Ue,Ce,Me,Oe,Ke,rt,it,Ot,xn,ln]=await Promise.all([Mn("cafes"),Mn("fullDocuments"),Mn("staticDocuments"),Mn("sites"),Mn("baseTemplates"),Us("siteSettings","main"),Mn("codes"),Mn("pages"),Mn("blogPosts"),Mn("ads"),Mn("voice_prompts"),Us("offlineMetadata","syncStatus")]);if(ke.length>0||xe.length>0)return u(ke),l(ke),h(Ue),F(Ce),v(xe),j(Me),x(Oe),te(Ke),C(rt),R(ve(it)),N(Ot),Y(xn),console.log("Successfully loaded admin dashboard data from IndexedDB."),(ln==null?void 0:ln.version)||0}catch(xe){console.error("Could not load admin dashboard data from IndexedDB:",xe)}return 0},oe=W.useCallback(async xe=>{const[ke,Ue,Ce,Me,Oe,Ke,rt,it,Ot,xn,ln,Ar,Zn]=await Promise.all([OA(),Pp(),cf.getAll(),Mb(),tf.getAll(),wp.getAll(),_p.getAll(),nf.getAll(),G0.getAll(),v9.getAll(),xm.getAll(),BA(),VA()]),Bn=await fetch("https://datas.gitut.com/data/json/site-seo.json"),Xn=Bn.ok?await Bn.json():{},Gt=ve(Ke);l(Ue),u(Ue),h(Ce),v(ke),te(Ot),Y(xn),j(ln),X(Ar),ee(Zn);const Cn={...Nn,...Me||{},seo:{...(Me==null?void 0:Me.seo)||{},...Xn},payment:{...Nn.payment,...(Me==null?void 0:Me.payment)||{}},pricing:{...Nn.pricing,...(Me==null?void 0:Me.pricing)||{}},social:{...Nn.social,...(Me==null?void 0:Me.social)||{}},ads:{...Nn.ads,...(Me==null?void 0:Me.ads)||{}},ai:{...Nn.ai,...(Me==null?void 0:Me.ai)||{}}};x(Cn),C(Oe),R(Gt),N(rt),F(it);const pe=[...Ue.map(Ee=>({...Ee,serviceType:"doc"})),...Ce.map(Ee=>({...Ee,serviceType:"static-doc"})),...it.map(Ee=>({...Ee,serviceType:"site"}))];y(pe),await Promise.all([ki("cafes",ke),ki("fullDocuments",Ue),ki("staticDocuments",Ce),ki("sites",it),ki("baseTemplates",ln),ki("codes",Ot),ki("pages",Oe),ki("blogPosts",Gt),ki("ads",rt),ki("voice_prompts",xn),mr("siteSettings",{...Cn,id:"main"}),mr("offlineMetadata",{id:"syncStatus",version:xe})])},[]),re=W.useCallback(async()=>{if(!r)throw new Error("Admin not authenticated for refetch.");de(!0);try{const{version:xe}=await y9();await oe(xe)}finally{de(!1)}},[r,oe]),le=W.useCallback(async()=>{try{console.log("Refetching all cafes...");const xe=await OA();v(xe),await ki("cafes",xe),console.log("Cafes refetched and cache updated.")}catch(xe){console.error("Failed to refetch cafes:",xe)}},[]);W.useEffect(()=>{const xe=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Ue,Ce,Me,Oe,Ke,rt,it]=await Promise.all([Mn("cafes"),Mn("fullDocuments"),Mn("staticDocuments"),Mn("sites"),Mn("baseTemplates"),Us("siteSettings","main"),Mn("codes")]);if(Ce.length>0)return v(Ue),u(Ce),h(Me),F(Oe),j(Ke),x(rt),te(it),l(Ce),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Ue){console.error("Could not load user dashboard data from IndexedDB:",Ue)}return!1};(async()=>{if(!n){if(s&&!r){de(!1),Ne(!1);return}if(de(!0),V(null),s&&r){const Ue=await we();de(!1);try{const{version:Ce}=await y9();Ce>Ue?(console.log(`New data version available. Local: ${Ue}, Remote: ${Ce}. Syncing...`),await oe(Ce),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(Ce){const Me=Ce instanceof Error?Ce.message:String(Ce);console.error("Could not check for remote data updates. Running on cached data.",Ce),Ue===0&&(Me.includes("no such table: data_versions")?V("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):V(Me))}}else if(!s){a&&e&&await xe()&&de(!1);try{const Ue=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),Ce=Ue?Ue[1]:null,Me=e?G0.getAll():Promise.resolve([]),Oe=e?v9.getAll():Promise.resolve([]),Ke=e?BA():Promise.resolve(null),rt=e?VA():Promise.resolve(null),it=e?Mb():Promise.resolve(null),Ot=e!=null&&e.cafeId?Kk(e.cafeId):Promise.resolve(null);if(Ce){const Bn=h9(Ce),Xn=p9(Ce),[Gt,Cn,pe,Ee,Fe,Je,lt,kt]=await Promise.all([Bn,Xn,Me,Oe,Ke,rt,it,Ot]);let on=Gt.cafes;if(kt){const nr=on.findIndex(Pn=>Pn.id===kt.id);nr>-1?on[nr]=kt:on.push(kt)}l(Gt.documents),h(Gt.staticDocuments),v(on);const nn=lt?{...Gt.siteSettings,...lt,ads:Gt.siteSettings.ads}:Gt.siteSettings;x(nn),C(Gt.pages),R(Gt.blogPosts),N(Gt.ads),F(Gt.sites),y(Gt.services),I(Cn.wilayas),O(Cn.dairas),K(Cn.communes),Ne(!1)}else{Ne(!0);const[Bn,Xn,Gt]=await Promise.all([fme(),h9("dz"),p9("dz")]);y(Bn),v([]);const Cn=Bn.filter(Fe=>Fe.serviceType==="doc"),pe=Bn.filter(Fe=>Fe.serviceType==="static-doc"),Ee=Bn.filter(Fe=>Fe.serviceType==="site");l(Cn),h(pe),F(Ee),x(Xn.siteSettings),C(Xn.pages),R(Xn.blogPosts),N(Xn.ads),I(Gt.wilayas),O(Gt.dairas),K(Gt.communes),Ne(!1)}const[xn,ln,Ar,Zn]=await Promise.all([Me,Oe,Ke,rt]);te(xn),e&&await ki("codes",xn),Y(ln),X(Ar),ee(Zn)}catch(Ue){console.error("Failed to load application data:",Ue),V(Ue instanceof Error?Ue.message:"An unknown error occurred.")}finally{de(!1)}}}})()},[i.pathname,s,a,e,r,n,oe]);const he=W.useCallback(async()=>{if(c.length===0){me(!0);try{const xe=await Mn("fullDocuments");if(xe.length>0)u(xe);else{const ke=await Pp();u(ke),await ki("fullDocuments",ke)}}catch(xe){console.error("Failed to load full documents:",xe)}finally{me(!1)}}},[c.length]),_e=W.useCallback(xe=>{const ke=ve([xe])[0];R(Ue=>[ke,...Ue].sort((Ce,Me)=>{const Oe=(Ce.publishedAt||Ce.createdAt).toDate();return(Me.publishedAt||Me.createdAt).toDate().getTime()-Oe.getTime()}))},[]),ie=W.useCallback((xe,ke)=>{R(Ue=>Ue.map(Ce=>Ce.id===xe?ve([{...Ce,...ke}])[0]:Ce))},[]),ce=W.useCallback(xe=>{R(ke=>ke.filter(Ue=>Ue.id!==xe))},[]),ye={documents:o,fullDocuments:c,staticDocuments:f,cafes:p,services:g,siteSettings:_,pages:w,blogPosts:D,ads:S,sites:k,wilayas:P,dairas:U,communes:G,codes:J,voicePrompts:z,baseTemplates:B,excelCommands:q,documentCommands:Q,loading:ae,locationsLoading:fe,loadingFullDocuments:Re,error:Le,loadFullDocuments:he,refetchAdminData:re,refetchCafes:le,addBlogPost:_e,updateBlogPost:ie,deleteBlogPost:ce};return d.jsx(VH.Provider,{value:ye,children:t})},tn=()=>{const t=W.useContext(VH);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},yC=({type:t,url:e})=>{const n={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(t){case"facebook":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(Jk,{...n})});case"twitter":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:d.jsx(SH,{...n})});case"instagram":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(CH,{...n})});default:return null}},uge=()=>{const{siteSettings:t,pages:e,blogPosts:n,loading:r}=tn(),{t:i,language:s}=Ci(),o=Sr().pathname.match(/^\/([a-z]{2})(?:\/|$)/),l=o?o[1]:"dz",c=W.useMemo(()=>n.some(g=>g.enabled&&g.content&&g.content[s]),[n,s]),u=W.useMemo(()=>{const g=s==="ar"?"/blog/":`/blog/${s}/`,y=Zd.find(x=>x.code===s),_=s==="ar"?i("footer.blog"):`Blog (${(y==null?void 0:y.name)||s.toUpperCase()})`;return{path:g,linkText:_}},[s,i]);if(r||!t)return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const f=t.social&&t.social[l]||t.social&&t.social.default||{facebook:"",twitter:"",instagram:""},h=t.seo&&t.seo[l]||t.seo&&t.seo.default||{siteName:"Gitut"},p=f.facebook||f.twitter||f.instagram,v=e.filter(g=>g.enabled&&(g.lang===s||!g.lang&&s==="ar"));return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(v.length>0||c)&&d.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[c&&d.jsx(Zt,{to:u.path,className:"hover:text-green-600 hover:underline",children:u.linkText}),d.jsx(Zt,{to:`/${l}/services/`,className:"hover:text-green-600 hover:underline",children:i("footer.services")}),v.map(g=>d.jsx(Zt,{to:`/${l}/page/${g.slug}/`,className:"hover:text-green-600 hover:underline",children:g.title},g.id))]}),p&&d.jsxs("div",{className:"flex justify-center gap-6",children:[f.facebook&&d.jsx(yC,{type:"facebook",url:f.facebook}),f.twitter&&d.jsx(yC,{type:"twitter",url:f.twitter}),f.instagram&&d.jsx(yC,{type:"instagram",url:f.instagram})]}),d.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",h.siteName,". ",i("footer.rightsReserved")]})]})})})},E9=t=>t?t.replace(/[]/g,"").replace(//g,""):"",C9=()=>{const{services:t,siteSettings:e,loading:n}=tn(),r=Ti(),{countryCode:i}=oa(),{t:s,language:a}=Ci(),o=i||"dz",l=W.useMemo(()=>{const O=(e==null?void 0:e.seo[o])||(e==null?void 0:e.seo.default);return[{title:(O==null?void 0:O.mainPageTitle)||s("findPage.hero.title1"),subtitle:(O==null?void 0:O.mainPageSubtitle)||s("findPage.hero.subtitle1")},{title:s("findPage.hero.title2"),subtitle:s("findPage.hero.subtitle2")}]},[e,s,o]),[c,u]=W.useState(0),f=W.useMemo(()=>i?t.filter(O=>!O.countryCode||O.countryCode===i):t,[t,i]);W.useEffect(()=>{if(n)return;const O=setInterval(()=>{u(G=>(G+1)%l.length)},7e3);return()=>clearInterval(O)},[l.length,n]);const[h,p]=W.useState(""),[v,g]=W.useState([]),[y,_]=W.useState(!1),[x,w]=W.useState([]),[C,D]=W.useState(!1),R=W.useRef(null),S=window.SpeechRecognition||window.webkitSpeechRecognition,N=!!S;W.useEffect(()=>{if(h.trim()){const O=E9(h.toLowerCase()),G=f.filter(K=>E9(K.name.toLowerCase()).includes(O));g(G)}else g([])},[h,f]),W.useEffect(()=>{if(!N)return;const O=new S;O.continuous=!1,O.interimResults=!1;let G="ar-SA";switch(a){case"en":G="en-US";break;case"fr":G="fr-FR";break;case"de":G="de-DE";break;case"es":G="es-ES";break;case"tr":G="tr-TR";break;case"ja":G="ja-JP";break}return O.lang=G,O.onresult=K=>p(K.results[0][0].transcript),O.onerror=K=>{console.error("Speech recognition error",K.error),alert(`Speech recognition error: ${K.error}`)},O.onend=()=>D(!1),R.current=O,()=>{var K;return(K=R.current)==null?void 0:K.abort()}},[N,a]);const k=()=>{var O,G;if(!N){alert("Your browser does not support voice search.");return}C?(O=R.current)==null||O.stop():((G=R.current)==null||G.start(),D(!0))},F=O=>{p(""),x.find(G=>G.id===O.id&&G.serviceType===O.serviceType)||w(G=>[...G,O])},P=(O,G)=>{w(K=>K.filter(J=>!(J.id===O&&J.serviceType===G)))},I=O=>{O.preventDefault();const G=x.filter(J=>J.serviceType==="doc"||J.serviceType==="site");if(G.length===0){alert(s("findPage.alert.selectFillable"));return}const K=G.map(J=>J.id);r(`/${i||"dz"}/find-cafe`,{state:{documentIds:K}})},U=x.filter(O=>O.serviceType==="doc"||O.serviceType==="site").length;return d.jsxs("div",{className:"space-y-8",children:[d.jsx("section",{className:"text-center p-8 md:p-10 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col justify-center min-h-[12rem]",children:n?d.jsx("p",{children:"Loading..."}):d.jsxs("div",{className:"fade-in-text",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:l[c].title}),d.jsx("p",{className:"text-base md:text-lg text-gray-700 max-w-3xl mx-auto",children:l[c].subtitle})]},c)}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s("findPage.step1.title")}),d.jsx("form",{onSubmit:O=>O.preventDefault(),children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:s("findPage.step1.placeholder"),value:h,onChange:O=>p(O.target.value),onFocus:()=>_(!0),onBlur:()=>setTimeout(()=>_(!1),200),className:"p-4 pl-14 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),N&&d.jsx("button",{type:"button",onClick:k,title:s("findPage.step1.voiceSearchTitle"),className:`absolute left-3 top-1/2 -translate-y-1/2 p-3 rounded-full transition-colors duration-300 ${C?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.jsx(vc,{className:"h-5 w-5"})}),y&&v.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20 max-h-60 overflow-y-auto",children:v.map(O=>d.jsxs("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 flex justify-between items-center",onMouseDown:()=>F(O),children:[d.jsx("span",{children:O.name}),x.find(G=>G.id===O.id&&G.serviceType===O.serviceType)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},`${O.serviceType}-${O.id}`))})]})})]}),d.jsx("section",{children:x.length>0?d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold",children:[s("findPage.selectedDocs.title")," (",x.length,"):"]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:x.map(O=>{const G="description"in O?O.description:"url"in O?O.url:"",K=O.serviceType==="static-doc"?d.jsx(bw,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}):O.serviceType==="site"?d.jsx(Lb,{className:"h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return d.jsxs("article",{className:"bg-gray-50 rounded-lg p-3 border flex justify-between items-center gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 flex-grow",children:[K,d.jsxs("div",{className:"flex-grow",children:[d.jsx("h4",{className:"text-md font-bold text-gray-900",children:O.name}),d.jsx("div",{className:"text-sm text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:G}})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[O.serviceType==="static-doc"&&d.jsx("a",{href:`/${i||"dz"}/view/${O.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold whitespace-nowrap",children:s("findPage.selectedDocs.viewFile")}),d.jsx("button",{onClick:()=>P(O.id,O.serviceType),title:s("findPage.selectedDocs.removeTitle"),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",children:d.jsx(Ff,{})})]})]},`${O.serviceType}-${O.id}`)})}),d.jsx("form",{onSubmit:I,className:"text-center pt-4",children:d.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors mx-auto disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:U===0,title:U===0?s("findPage.selectedDocs.nextStepButtonDisabledTitle"):"",children:[d.jsx("span",{children:s("findPage.selectedDocs.nextStepButton",{count:U})}),d.jsx(Yk,{})]})})]}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:s("findPage.selectedDocs.emptyState")})})})]})},ac=({placement:t})=>{const{ads:e}=tn(),n=W.useMemo(()=>e.find(r=>r.placement===t&&r.enabled),[t,e]);return n?t==="DASHBOARD_TOP"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:n.title}),d.jsx("p",{className:"text-white text-opacity-90 mt-1",children:n.content})]})]})}):t==="PROFILE_SIDEBAR"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end",children:[d.jsx("h3",{className:"text-lg font-bold text-white group-hover:underline",children:n.title}),d.jsx("p",{className:"text-sm text-white/90",children:n.content})]})]})}):null:null},dge="https://pub-f25b4129424647319985a15a082e6685.r2.dev",vi=t=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:`${dge}/${t.startsWith("/")?t.substring(1):t}`:"";async function WH(t,e,n){const i=await(await fetch(t)).blob();return new File([i],e,{type:n||i.type})}const zA=new URL("/api/gun",window.location.origin);zA.protocol=zA.protocol==="https:"?"wss:":"ws:";const qH=zA.toString();console.log(`[Gun.js] Attempting to connect to peer: ${qH}`);const fge=[qH];let $H=null;typeof window<"u"&&window.Gun&&($H=window.Gun({peers:fge}));const Jn=$H,zH=W.createContext(void 0),Sx=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,hge=({children:t})=>{const{user:e}=Dr(),{cafes:n}=tn(),[r,i]=W.useState(null);W.useEffect(()=>{let u=localStorage.getItem("gitut_visitor_id");u||(u=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",u)),i(u)},[]),W.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Jn)return;const u=e.cafeId,f=Jn.get("presence").get(u);f.put({lastSeen:Date.now()});const h=setInterval(()=>{f.put({lastSeen:Date.now()})},1e4),p=()=>f.put({lastSeen:null});return window.addEventListener("beforeunload",p),()=>{clearInterval(h),f.put({lastSeen:null}),window.removeEventListener("beforeunload",p)}},[e]),W.useEffect(()=>{if(!(e!=null&&e.cafeId)||!Jn)return;const u=e.cafeId,f=Jn.get("jobs").get(u);return f.map().on(async(h,p)=>{if(h&&typeof h=="object"){console.log(`Received P2P job: ${p}`);try{if(!await Us("jobs",p)){const g={...h,id:p,documentIds:typeof h.documentIds=="string"?JSON.parse(h.documentIds):h.documentIds,visitorData:typeof h.visitorData=="string"?JSON.parse(h.visitorData):h.visitorData};await mr("jobs",g),console.log(`Job ${p} persisted to IndexedDB.`)}f.get(p).put(null)}catch(v){console.error(`Failed to persist P2P job ${p} to IndexedDB:`,v)}}}),()=>f.off()},[e]);const c={visitorId:r,usePresence:u=>{const[f,h]=W.useState(null),p=W.useRef(null);return W.useEffect(()=>{if(!u||!Jn){h(!1);return}const v=Jn.get("presence").get(u),g=()=>{const x=p.current,w=x?Date.now()-x<15e3:!1;h(w)},y=v.on(x=>{p.current=x&&typeof x.lastSeen=="number"?x.lastSeen:null,g()}),_=setInterval(g,5e3);return g(),()=>{y.off(),clearInterval(_)}},[u]),{isOnline:f}},useVisitorChat:u=>{const[f,h]=W.useState([]),p=W.useMemo(()=>!Jn||!u?null:Jn.get("chats").get(u),[u]);W.useEffect(()=>{if(!p)return;const g=new Map;return p.map().on((y,_)=>{if(y){g.set(_,{...y,id:_});const x=Array.from(g.values()).sort((w,C)=>w.timestamp-C.timestamp);h(x)}}),()=>p.off()},[p]);const v=W.useCallback(g=>{if(!p||!r)return;const y={text:g,senderId:r,senderName:"Visitor",timestamp:Date.now()},_=Sx();p.get(_).put(y)},[p,r]);return{messages:f,sendMessage:v}},useCafeChatManager:()=>{const[u,f]=W.useState({unread:!1,messages:[]}),[h,p]=W.useState(new Map),v=e==null?void 0:e.cafeId;W.useEffect(()=>{if(!v||!Jn)return;const C=Jn.get("chats").get(`admin_${v}`),D=new Map;return C.map().on((R,S)=>{if(R){D.set(S,{...R,id:S});const N=Array.from(D.values()).sort((P,I)=>P.timestamp-I.timestamp),k=N[N.length-1],F=k&&k.senderId!==v&&k.timestamp>(Number(localStorage.getItem(`lastRead_admin_${v}`))||0);f({messages:N,lastMessage:k,unread:F})}}),()=>C.off()},[v]),W.useEffect(()=>{if(!v||!Jn)return;const C=Jn.get("chats").get(v),D=new Map;return C.map().on((R,S)=>{if(R){const N=new Map;Jn.get(R["#"]).map().on((k,F)=>{if(k){N.set(F,{...k,id:F});const P=Array.from(N.values()).sort((O,G)=>O.timestamp-G.timestamp),I=P[P.length-1],U=I&&I.senderId!==v&&I.timestamp>(Number(localStorage.getItem(`lastRead_${v}_${S}`))||0);D.set(S,{messages:P,lastMessage:I,unread:U}),p(new Map(D))}})}}),()=>C.off()},[v]);const g=W.useCallback(C=>{var S;if(!v||!Jn)return;const D=Jn.get("chats").get(`admin_${v}`),R={text:C,senderId:v,senderName:((S=n.find(N=>N.id===v))==null?void 0:S.name)||"Cafe",timestamp:Date.now()};D.get(Sx()).put(R)},[v,n]),y=W.useCallback((C,D)=>{var N;if(!v||!Jn)return;const R=Jn.get("chats").get(v).get(C),S={text:D,senderId:v,senderName:((N=n.find(k=>k.id===v))==null?void 0:N.name)||"Cafe",timestamp:Date.now()};R.get(Sx()).put(S)},[v,n]),_=W.useCallback(()=>{v&&(localStorage.setItem(`lastRead_admin_${v}`,String(Date.now())),f(C=>({...C,unread:!1})))},[v]),x=W.useCallback(C=>{v&&(localStorage.setItem(`lastRead_${v}_${C}`,String(Date.now())),p(D=>{const R=new Map(D),S=R.get(C);return S&&R.set(C,{...S,unread:!1}),R}))},[v]),w=(u.unread?1:0)+Array.from(h.values()).filter(C=>C.unread).length;return{adminConversation:u,visitorConversations:h,sendMessageToAdmin:g,sendMessageToVisitor:y,markAdminAsRead:_,markVisitorAsRead:x,totalUnreadCount:w}},useAdminChatManager:()=>{const[u,f]=W.useState(new Map),[h,p]=W.useState(null),[v,g]=W.useState([]);W.useEffect(()=>{if(!Jn)return;const w=Jn.get("chats"),C=new Map;return w.map().on((D,R)=>{if(R.startsWith("admin_")){const S=R.replace("admin_","");Jn.get(D["#"]).map().on((N,k)=>{var F;if(N){const P=((F=n.find(U=>U.id===S))==null?void 0:F.name)||`Cafe ${S.substring(0,4)}`,I=C.get(S);if(!I||N.timestamp>I.lastMessage.timestamp){const U=N.senderId!=="admin"&&N.timestamp>(Number(localStorage.getItem(`lastRead_admin_${S}`))||0);C.set(S,{lastMessage:{...N,id:k},unread:U,cafeName:P}),f(new Map(C))}}})}}),()=>w.off()},[n]),W.useEffect(()=>{if(!h||!Jn){g([]);return}const w=Jn.get("chats").get(`admin_${h}`),C=new Map;return w.map().on((D,R)=>{D&&(C.set(R,{...D,id:R}),g(Array.from(C.values()).sort((S,N)=>S.timestamp-N.timestamp)))}),()=>w.off()},[h]);const y=W.useCallback(w=>{localStorage.setItem(`lastRead_admin_${w}`,String(Date.now())),p(w),f(C=>{const D=new Map(C),R=D.get(w);return R&&D.set(w,{...R,unread:!1}),D})},[]),_=W.useCallback(w=>{if(!h||!Jn)return;const C=Jn.get("chats").get(`admin_${h}`),D={text:w,senderId:"admin",senderName:"Admin",timestamp:Date.now()};C.get(Sx()).put(D)},[h]),x=Array.from(u.values()).filter(w=>w.unread).length;return{conversations:u,messages:v,currentConversationId:h,selectConversation:y,sendMessage:_,unreadConversationsCount:x}}};return d.jsx(zH.Provider,{value:c,children:t})},th=()=>{const t=W.useContext(zH);if(t===void 0)throw new Error("useRealtime must be used within an RealtimeProvider");return t},nI=({title:t,messages:e,onSendMessage:n,currentUserId:r,isOnline:i,isLoading:s,onClose:a})=>{const[o,l]=W.useState(""),c=W.useRef(null),u=()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})};W.useEffect(()=>{u()},[e]);const f=h=>{h.preventDefault(),o.trim()&&(n(o.trim()),l(""))};return d.jsxs("div",{className:"flex flex-col h-full bg-white",children:[d.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-gray-50 rounded-t-lg",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800",children:t}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${i===null?"bg-gray-300":i?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-500",children:i===null?" ...":i?" ":" "})]})]}),a&&d.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),d.jsxs("main",{className:"flex-grow p-4 overflow-y-auto bg-gray-100",children:[s?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-gray-400"})}):e.length===0?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("p",{className:"text-gray-500",children:"   ."})}):d.jsx("div",{className:"space-y-4",children:e.map(h=>{const p=h.senderId===r;return d.jsx("div",{className:`flex items-end gap-2 ${p?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${p?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[!p&&d.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:h.senderName}),d.jsx("p",{className:"text-sm break-words",children:h.text}),d.jsx("p",{className:`text-xs mt-1 text-right ${p?"text-green-100":"text-gray-400"}`,children:new Date(h.timestamp).toLocaleTimeString("ar-DZ",{hour:"2-digit",minute:"2-digit"})})]})},h.id)})}),d.jsx("div",{ref:c})]}),d.jsx("footer",{className:"flex-shrink-0 p-3 border-t bg-white rounded-b-lg",children:d.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"  ...",className:"flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i===!1}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 disabled:bg-gray-400",disabled:i===!1||!o.trim(),children:d.jsx(X0,{})})]})})]})},HH=({url:t,title:e,description:n})=>{const{t:r}=Ci(),[i,s]=W.useState(!1),[a,o]=W.useState(!1),l=W.useMemo(()=>{let g=t;const y=g.indexOf("?"),_=g.indexOf("#");let x=g,w="";if(y!==-1||_!==-1){const C=Math.min(y===-1?1/0:y,_===-1?1/0:_);x=g.substring(0,C),w=g.substring(C)}return x.endsWith(".html")&&(x=x.slice(0,-5)),x+w},[t]),c=encodeURIComponent(l),u=encodeURIComponent(e),f=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${c}&title=${u}`,icon:d.jsx(Bme,{}),color:"bg-blue-700 hover:bg-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${c}&description=${u}`,icon:d.jsx(Wme,{}),color:"bg-red-600 hover:bg-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${c}&title=${u}`,icon:d.jsx(qme,{}),color:"bg-orange-500 hover:bg-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${c}&quote=${u}`,icon:d.jsx(Jk,{}),color:"bg-blue-600 hover:bg-blue-700"}],h=()=>{navigator.clipboard.writeText(l).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)})},p=g=>{navigator.clipboard.writeText(g).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})},v=()=>{const g=(n||"").replace(/<[^>]*>/g,""),y=g.substring(0,155)+(g.length>155?"...":""),_=`${e}

${y}

${l}`,x=`
      <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
      <div style="font-family: sans-serif; font-size: 14px;"><p>${y}</p></div>
      <a href="${l}">${l}</a>
    `;try{if(typeof ClipboardItem>"u"){p(_);return}const w=new Blob([x],{type:"text/html"}),C=new Blob([_],{type:"text/plain"}),D=new ClipboardItem({"text/html":w,"text/plain":C});navigator.clipboard.write([D]).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(R=>{console.error("Async clipboard write failed, falling back to plain text: ",R),p(_)})}catch(w){console.error("Failed to use Clipboard API, falling back to writeText: ",w),p(_)}};return d.jsxs("div",{className:"fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3",children:[f.map(g=>d.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${g.name}`,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${g.color}`,children:xl.cloneElement(g.icon,{size:24})},g.name)),d.jsx("button",{onClick:h,"aria-label":"Copy link",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:i?d.jsx(T9,{size:22}):d.jsx(UH,{size:22})}),d.jsx("button",{onClick:v,"aria-label":r("share.copyDetails"),title:r("share.copyDetails"),className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:a?d.jsx(T9,{size:22}):d.jsx($me,{size:22})})]})},ss=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Dx=t=>t?t.replace(/[]/g,"").replace(//g,""):"",pge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},mge=()=>{var B,j,q;const{countryCode:t,numericId:e}=oa(),n=Sr(),{documents:r,cafes:i,siteSettings:s,loading:a}=tn(),{user:o}=Dr(),{language:l}=Ci(),[c,u]=W.useState(void 0),[f,h]=W.useState(!0),[p,v]=W.useState(()=>{var X;return!!((X=n.state)!=null&&X.openChat)}),{usePresence:g,useVisitorChat:y,visitorId:_}=th(),{isOnline:x}=g(c==null?void 0:c.id),{messages:w,sendMessage:C}=y(c==null?void 0:c.id),[D,R]=W.useState([]),[S,N]=W.useState(""),[k,F]=W.useState(!1);W.useEffect(()=>{var X,Q;if(c&&s){const ee=((X=s.seo)==null?void 0:X[t||"dz"])||((Q=s.seo)==null?void 0:Q.default)||{siteName:"Gitut",titleSeparator:"|",metaDescription:""},ae=c.address.commune&&c.address.wilaya?` ${c.address.wilaya}  ${c.address.commune}`:"",de=`${c.name} ${ae} ${ee.titleSeparator} ${ee.siteName}`,fe=c.description?c.description.substring(0,155)+(c.description.length>155?"...":""):ee.metaDescription,Ne=vi(c.coverImageUrl)||"https://datas.gitut.com/data/image/gitut-og-main.png";let Re="en_US";switch(l){case"ar":Re="ar_AR";break;case"fr":Re="fr_FR";break;case"de":Re="de_DE";break;case"es":Re="es_ES";break;case"tr":Re="tr_TR";break;case"ja":Re="ja_JP";break}document.title=de,ss("description",fe,!1),ss("og:title",de),ss("og:description",fe),ss("og:image",Ne),ss("og:image:secure_url",Ne),ss("og:image:width","1200"),ss("og:image:height","630"),ss("og:url",window.location.href),ss("og:type","profile"),ss("og:site_name",ee.siteName),ss("og:locale",Re),ss("twitter:card","summary_large_image",!1),ss("twitter:url",window.location.href,!1),ss("twitter:title",de,!1),ss("twitter:description",fe,!1),ss("twitter:image",Ne,!1)}},[c,s,t,l]),W.useEffect(()=>{(async()=>{if(!e){h(!1);return}if(a)return;h(!0);const Q=parseInt(e,10),ee=i.find(ae=>ae.numericId===Q);if(ee)u(ee),h(!1);else try{const ae=await yme(Q);u(ae||void 0)}catch(ae){console.error("Failed to fetch cafe by numericId:",ae),u(void 0)}finally{h(!1)}})()},[e,i,a]);const P=W.useMemo(()=>{if(!c)return[];const X=[],Q=new Set([c.id]),ee=i.filter(de=>de.id!==c.id&&de.isProfilePublished);return ee.filter(de=>de.address.commune===c.address.commune&&de.address.wilaya===c.address.wilaya).forEach(de=>{X.length<5&&!Q.has(de.id)&&(X.push(de),Q.add(de.id))}),X.length<5&&c.address.daira&&ee.filter(fe=>fe.address.daira===c.address.daira&&fe.address.wilaya===c.address.wilaya).forEach(fe=>{X.length<5&&!Q.has(fe.id)&&(X.push(fe),Q.add(fe.id))}),X.length<5&&ee.filter(fe=>fe.address.wilaya===c.address.wilaya).forEach(fe=>{X.length<5&&!Q.has(fe.id)&&(X.push(fe),Q.add(fe.id))}),X},[c,i]),I=W.useMemo(()=>pge(r),[r]),U=W.useMemo(()=>c?I.filter(X=>c.services.includes(X.groupId)):[],[c,I]),O=W.useMemo(()=>{if(!S)return U;const X=Dx(S.toLowerCase());return U.filter(Q=>Dx(Q.name.toLowerCase()).includes(X))},[U,S]),G=W.useMemo(()=>{if(!S||!k)return[];const X=Dx(S.toLowerCase());return U.filter(Q=>Dx(Q.name.toLowerCase()).includes(X))},[U,S,k]),K=X=>{R(Q=>Q.includes(X)?Q.filter(ee=>ee!==X):[...Q,X])},J=X=>{K(X),N("")},te=W.useMemo(()=>{if(!(c!=null&&c.address))return"";const{address:X}=c;return c.countryCode==="dz"?`${X.street||""}, ${X.commune||""}, ${X.daira||""}, ${X.wilaya||""}`.replace(/^,|,$/g,"").trim():`${X.street||""}, ${X.city||""}, ${X.state||""}`.replace(/^,|,$/g,"").trim()},[c]);if(f)return d.jsx("div",{className:"text-center py-20 flex justify-center items-center",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!c)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(Zt,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const z="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",Y="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80";return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl mx-auto overflow-hidden",children:[d.jsx("img",{src:vi(c.coverImageUrl)||Y,alt:`${c.name} cover`,className:"w-full h-48 object-cover",onError:X=>{X.currentTarget.src=Y}}),d.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-4 gap-8",children:[d.jsxs("main",{className:"md:col-span-3 space-y-8",children:[d.jsx(Zt,{to:`/${t}`,className:"text-green-600 hover:underline mb-6 inline-block",children:"   "}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsx("img",{src:vi(c.imageUrl)||z,alt:c.name,className:"w-full h-auto rounded-lg shadow-md aspect-square object-cover",onError:X=>{X.currentTarget.src=z}})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:c.name}),d.jsxs("p",{className:"text-gray-500 text-lg mb-4",children:[": ",c.owner]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${x===null?"bg-gray-300 animate-pulse":x?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm text-gray-600",children:x===null?" ...":x?" ":" "})]}),d.jsxs("div",{className:"space-y-3 text-gray-700",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",te]}),d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",c.description]}),c.phone&&d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(ege,{className:"text-gray-500"})," ",d.jsx("strong",{children:c.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.googleMapsUrl&&d.jsxs("a",{href:c.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Qme,{})," ",d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[((B=c.socials)==null?void 0:B.facebook)&&d.jsx("a",{href:c.socials.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600",children:d.jsx(Jk,{size:24})}),((j=c.socials)==null?void 0:j.instagram)&&d.jsx("a",{href:c.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-pink-600",children:d.jsx(CH,{size:24})}),((q=c.socials)==null?void 0:q.twitter)&&d.jsx("a",{href:c.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-sky-500",children:d.jsx(SH,{size:24})})]})]})]})]}),d.jsxs("div",{className:"border-t pt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1.   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   .            ."}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:"text",placeholder:"   ...",value:S,onChange:X=>N(X.target.value),onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),150),className:"w-full p-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"     ",autoComplete:"off"}),G.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:G.map(X=>d.jsxs("li",{className:`px-4 py-2 cursor-pointer flex justify-between items-center ${D.includes(X.id)?"bg-green-100 font-semibold text-green-800":"hover:bg-green-50"}`,onMouseDown:Q=>{Q.preventDefault(),J(X.id)},children:[d.jsx("span",{children:X.name}),D.includes(X.id)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},X.id))})]}),d.jsx("div",{className:"space-y-3 mb-6",role:"group","aria-labelledby":"documents-heading",children:O.length>0?O.map(X=>d.jsxs("button",{type:"button",onClick:()=>K(X.id),className:`w-full text-right p-4 border rounded-lg transition-all duration-200 ${D.includes(X.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-gray-50 hover:bg-gray-100"}`,"aria-pressed":D.includes(X.id),children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:X.name}),d.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:X.description}})]},X.id)):d.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-gray-600",children:"    ."})})}),d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2.  "}),d.jsxs(Zt,{to:D.length>0?`/${t}/form`:"#",state:{cafeId:c.id,selectedDocIds:D},className:`w-full md:w-auto inline-block text-center bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-green-300 ${D.length===0?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,"aria-disabled":D.length===0,onClick:X=>D.length===0&&X.preventDefault(),children:["   (",D.length,")"]})]})]}),d.jsxs("aside",{className:"md:col-span-1 space-y-6 pt-12",children:[d.jsx(ac,{placement:"PROFILE_SIDEBAR"}),P.length>0&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" "}),d.jsx("div",{className:"space-y-3",children:P.map(X=>d.jsxs(Zt,{to:`/${X.countryCode}/profile/${X.numericId}`,className:"block p-3 bg-white rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:X.name}),d.jsx("p",{className:"text-sm text-gray-500",children:X.address.commune})]},X.id))})]})]})]})]}),d.jsx(HH,{url:window.location.href,title:c.name,description:c.description}),c&&!p&&d.jsx("button",{onClick:()=>v(!0),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform hover:scale-110 z-40","aria-label":" ",title:" ",children:d.jsx(Qk,{size:24})}),p&&c&&_&&d.jsx("div",{className:"fixed bottom-8 right-8 w-full max-w-sm h-[70vh] max-h-[500px] z-50 shadow-2xl rounded-lg fade-in-text",children:d.jsx(nI,{title:`  ${c.name}`,messages:w,onSendMessage:C,currentUserId:_,isOnline:x,onClose:()=>v(!1)})})]})},gge=({onClose:t,onCapture:e})=>{const n=W.useRef(null),r=W.useRef(null),i=W.useRef(null),[s,a]=W.useState(null),[o,l]=W.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};W.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(_=>_.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},zv=({value:t,onChange:e})=>{const n=W.useRef(null),[r,i]=W.useState(!1),s=o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){const u=new FileReader;u.onloadend=()=>{e(u.result)},u.readAsDataURL(l)}},a=()=>{e("")};return d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"w-48 h-48 rounded-lg border-2 border-dashed border-gray-300 flex justify-center items-center bg-gray-50 overflow-hidden relative group",children:t?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}),d.jsx("button",{type:"button",onClick:a,className:"absolute top-1 right-1 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:d.jsx(Gm,{})})]}):d.jsx("span",{className:"text-gray-400 text-sm",children:" "})}),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(kl,{}),d.jsx("span",{children:" "})]}),d.jsx("input",{type:"file",ref:n,onChange:s,accept:"image/*",className:"hidden"}),d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Hm,{}),d.jsx("span",{children:" "})]})]}),r&&d.jsx(gge,{onClose:()=>i(!1),onCapture:e})]})},GH="https://gitut.com/api/",KH="@@??YOUYOU@@??YOUYOU1936",XH="Could not initialize Firebase Admin SDK";function JH(){return new Promise((t,e)=>{if(Lr.currentUser)return t(Lr.currentUser);const n=Lr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated."))})})}async function id(t,e){var n;try{const i=await(await JH()).getIdToken(),s=await fetch(GH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":KH},body:JSON.stringify({action:t,payload:e})});if((n=s.headers.get("Content-Type"))!=null&&n.includes("application/json")){const o=await s.json();if(!s.ok)throw new Error(o.error||`Request failed with status ${s.status}`);return o}const a=await s.text();if(!s.ok)throw new Error(a||`Request failed with status ${s.status}`);return{text:a}}catch(r){throw console.error(`Gemini Service Error (${t}):`,r),r instanceof Error&&r.message.includes(XH)?new Error("    .      ."):r}}async function*YH(t){const e="generateContentStream",n={modelRequest:t},i=await(await JH()).getIdToken(),s=await fetch(GH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":KH},body:JSON.stringify({action:e,payload:n})});if(!s.ok||!s.body){const c=(await s.json().catch(()=>({error:`Request failed with status ${s.status}`}))).error||`Request failed with status ${s.status}`;throw c.includes(XH)?new Error("    .      ."):new Error(c)}const a=s.body.getReader(),o=new TextDecoder;for(;;){const{done:l,value:c}=await a.read();if(l)break;yield o.decode(c,{stream:!0})}}async function*yge(t,e){const n=`Analyze the following HTML content. Your task is to identify specific pieces of personal information (like names, dates, addresses, job titles) and replace them with the most relevant placeholder from the provided list. Return ONLY the modified HTML body content, without any markdown formatting, explanations, or the <body> tags themselves.

    Available placeholders: ${e.join(", ")}
    
    Original HTML Body:
    \`\`\`html
    ${t}
    \`\`\`
    `,r=YH({model:"gemini-2.5-flash",contents:n});for await(const i of r)yield i}const vge=async t=>id("extractJsonFromHtml",{html:t}),oc=async t=>id("generateContent",{modelRequest:t}),xge=async t=>id("generateImages",{prompt:t}),rI=async(t,e,n,r)=>{const i=await id("extractDataFromImage",{base64ImageData:t,mimeType:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from image extraction:",s),new Error("The AI model returned an invalid format.")}return i},bge=async(t,e,n,r)=>{const i=await id("extractStructuredData",{transcript:t,formFields:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from structured data extraction:",s),new Error("The AI model returned an invalid format.")}return i},_ge=async(t,e,n)=>id("extractJobData",{data:t,schema:e,requiredFieldLabels:n}),wge=async(t,e,n)=>id("processSpreadsheet",{prompt:t,selectedData:e,selectionContext:n}),QH=async t=>id("convertPdfToHtml",{pdfBase64:t}),Tge=({onClose:t,onScanSuccess:e})=>{const n=W.useRef(null),r=W.useRef(null),i=W.useRef(null),[s,a]=W.useState("initializing"),[o,l]=W.useState("  ..."),[c,u]=W.useState(null),f=W.useCallback(async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current=p,n.current&&(n.current.srcObject=p,a("ready"),l(" .        ."))}catch(p){console.error("Error accessing camera:",p),u("    .    ."),a("error")}},[]);W.useEffect(()=>(f(),()=>{var p;(p=i.current)==null||p.getTracks().forEach(v=>v.stop())}),[f]);const h=async()=>{var p;if(!(s!=="ready"||!n.current||!r.current)){a("scanning"),l("    ..."),u(null);try{const v=n.current,g=r.current;g.width=v.videoWidth,g.height=v.videoHeight;const y=g.getContext("2d");y==null||y.drawImage(v,0,0,g.width,g.height);const _=g.toDataURL("image/jpeg",.9),[x,w]=_.split(","),C=((p=x.match(/:(.*?);/))==null?void 0:p[1])||"image/jpeg",S=await rI(w,C,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"The person's last name () in Arabic."},firstName:{type:"STRING",description:"The person's first name () in Arabic."},lastNameFr:{type:"STRING",description:"The person's last name in French, if available."},firstNameFr:{type:"STRING",description:"The person's first name in French, if available."},birthdaydate:{type:"STRING",description:"The person's date of birth ( ) in YYYY-MM-DD format."},birthdayplace:{type:"STRING",description:"The person's place of birth () in Arabic."},nationalId:{type:"STRING",description:"The 18-digit National Identification Number (  )."},bloodType:{type:"STRING",description:"The person's blood type (RH), e.g., 'B+'."}}},"From the provided image of an Algerian National ID card (  ), extract the person's information. The card contains both Arabic and French text. Extract both language versions for the names. Format the date of birth as YYYY-MM-DD. If the image is blurry, has glare, or is unreadable, return an empty object.");if(S&&(S.firstName||S.lastName)){const k={fullName:`${S.firstName||""} ${S.lastName||""}`.trim(),firstName:S.firstName||"",lastName:S.lastName||"",firstNameFr:S.firstNameFr||"",lastNameFr:S.lastNameFr||"",birthdaydate:S.birthdaydate||"",birthdayplace:S.birthdayplace||"",nationalId:S.nationalId||"",bloodType:S.bloodType||""};e(k)}else l("     .     ."),a("ready")}catch(v){console.error("Scanning error with Gemini:",v);const g=v instanceof Error?v.message:"An unknown error occurred.";u(`   : ${g}`),a("ready")}}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full relative",children:[d.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",children:d.jsx(Ff,{size:20})}),d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-[85%] h-[80%] border-4 border-dashed border-white border-opacity-50 rounded-lg"})})]}),d.jsx("div",{className:"mt-4 text-center",children:c?d.jsx("p",{className:"text-red-500 font-semibold",children:c}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-gray-600 mb-2 h-10 flex items-center justify-center",children:s==="scanning"?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Ct,{className:"animate-spin"})," ",o]}):o}),d.jsxs("button",{onClick:h,disabled:s!=="ready",className:"mt-2 w-full flex items-center justify-center gap-3 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(Hm,{}),d.jsx("span",{children:s==="ready"?" ":" ..."})]})]})})]})})},Ax={1:1,:1,:1,:1,:1,:1,2:2,:2,:2,:2,:2,:2,:2,:2,3:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,4:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,5:5,:5,:5,:5,:5,:5,6:6,:6,:6,:6},Ege=t=>{const e=t.trim().toLowerCase(),n=e.match(/(?:||)\s+([^\s]+)/);if(n&&n[1]){const i=n[1];if(Ax[i])return Ax[i]}const r=e.split(/\s+/);for(const i of r)if(Ax[i])return Ax[i];return null},Cge=()=>{var me;const t=Sr(),e=Ti(),{countryCode:n}=oa(),{documents:r,sites:i,cafes:s,loading:a,codes:o}=tn(),{cafeId:l,selectedDocIds:c}=t.state||{cafeId:null,selectedDocIds:[]},{usePresence:u}=th(),{isOnline:f}=u(l),{t:h,language:p}=Ci(),[v,g]=W.useState(),[y,_]=W.useState({}),[x,w]=W.useState(0),[C,D]=W.useState(""),[R,S]=W.useState(!1),[N,k]=W.useState(!1),[F,P]=W.useState("filling"),[I,U]=W.useState(!1),[O,G]=W.useState(!1),K=W.useRef(null),J=W.useRef(!1);W.useEffect(()=>{l&&s.length>0&&g(s.find(Le=>Le.id===l))},[l,s]);const te=Le=>{_(V=>({...V,...Le})),G(!1)},z=W.useMemo(()=>r.filter(Le=>c.includes(Le.id)),[r,c]),Y=W.useMemo(()=>i.filter(Le=>Le.type==="template"&&c.includes(Le.id)),[i,c]),B=W.useMemo(()=>!c||c.length===0?!1:z.length>0||Y.length>0,[c,z,Y]),j=W.useMemo(()=>{const Le=[],V=new Set;return z.forEach(ve=>{var oe;((((oe=ve.spokenFields)==null?void 0:oe.length)>0?ve.spokenFields:ve.requiredFields)||[]).forEach(re=>{var le,he,_e;if(re!=="profilePicture"&&re!=="DateToday"&&!V.has(re)){const ie=Object.prototype.hasOwnProperty.call(_2,re),ce=((le=ve.questions)==null?void 0:le[re])||((_e=(he=ve.fieldCustomizations)==null?void 0:he[re])==null?void 0:_e.customQuestion)||(ie?_2[re]:re);Le.push({id:re,label:ce||re}),V.add(re)}})}),Y.forEach(ve=>{var oe;(((oe=ve.jsonTemplate)==null?void 0:oe.fields)||[]).forEach(re=>{if(re!=null&&re.fieldId){const le=re.fieldId;V.has(le)||(Le.push({id:le,label:re.label}),V.add(le))}})}),Le},[z,Y]),q=W.useMemo(()=>{const Le=new Set;return z.forEach(V=>(V.requiredFields||[]).forEach(ve=>Le.add(ve))),Le.has("profilePicture")},[z]),X=x===j.length-1,Q=W.useMemo(()=>{var _e,ie,ce;const Le=(_e=j[x])==null?void 0:_e.id;if(!Le)return null;const ve=Object.prototype.hasOwnProperty.call(ei,Le)?ei[Le]:null;let we=null;for(const ye of z)if((ie=ye.fieldCustomizations)!=null&&ie[Le]){we=ye.fieldCustomizations[Le];break}const oe=((ce=j[x])==null?void 0:ce.label)||Le,re=(we==null?void 0:we.type)||(ve==null?void 0:ve.type)||"text",le=ve?h(ve.placeholder||""):Le;let he;return we!=null&&we.options?he=we.options.map(ye=>({value:ye,label:ye})):ve!=null&&ve.options&&(he=ve.options.map(ye=>({value:ye.value,label:h(ye.label)}))),{id:Le,question:oe,type:re,placeholder:le,options:he,customization:we}},[x,j,z,h]),ee=W.useCallback(()=>{X?P("finished"):w(Le=>Le+1)},[X]),ae=W.useCallback(()=>{x>0&&w(Le=>Le+1)},[x]),de=W.useRef({handleNext:ee,handlePrevious:ae,setFormData:_,currentField:Q});W.useEffect(()=>{de.current={handleNext:ee,handlePrevious:ae,setFormData:_,currentField:Q}},[ee,ae,Q]),W.useEffect(()=>{J.current=N},[N]),W.useEffect(()=>{const Le=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Le)return;const V=new Le;V.continuous=!0,V.interimResults=!1;let ve="ar-SA";switch(p){case"en":ve="en-US";break;case"fr":ve="fr-FR";break;case"de":ve="de-DE";break;case"es":ve="es-ES";break;case"tr":ve="tr-TR";break;case"ja":ve="ja-JP";break}V.lang=ve,V.onstart=()=>{k(!0),U(!1)},V.onend=()=>{if(J.current){console.log("Speech recognition service disconnected, attempting to restart.");try{V.start()}catch(we){console.error("Could not restart recognition:",we),J.current=!1,k(!1)}}else k(!1)},V.onresult=we=>{let oe="";for(let xe=we.resultIndex;xe<we.results.length;++xe)we.results[xe].isFinal&&(oe+=we.results[xe][0].transcript.trim());if(!oe)return;const{handleNext:re,handlePrevious:le,setFormData:he,currentField:_e}=de.current,ie=Ege(oe);if(_e!=null&&_e.options&&ie!==null){const xe=ie-1;if(xe>=0&&xe<_e.options.length){const ke=_e.options[xe];he(Ue=>({...Ue,[_e.id]:ke.value})),re();return}}const ce=["",""," "," ","next","suivant"],ye=["","",""," "," "," ","previous","prcdent"];ce.some(xe=>oe.toLowerCase().includes(xe))?re():ye.some(xe=>oe.toLowerCase().includes(xe))?le():_e&&he(xe=>({...xe,[_e.id]:(xe[_e.id]||"")+oe+" "}))},V.onerror=we=>{console.error("Speech recognition error:",we.error),(we.error==="not-allowed"||we.error==="permission-denied")&&U(!0),J.current=!1,k(!1)},K.current=V,J.current=!0;try{K.current.start()}catch(we){console.error("Could not start recognition on mount:",we),J.current=!1,k(!1)}return()=>{K.current&&(J.current=!1,K.current.onend=null,K.current.stop())}},[p]),W.useEffect(()=>{var Le;if(K.current){const V=K.current,ve=J.current;ve&&(J.current=!1,V.stop());let we=((Le=Q==null?void 0:Q.customization)==null?void 0:Le.speechLang)||(v==null?void 0:v.speechToTextLanguage)||"ar-SA";V.lang=we,console.log(`Switched speech recognition language to: ${we} for field ${Q==null?void 0:Q.id}`),ve&&setTimeout(()=>{J.current=!0;try{V.start()}catch(oe){console.error("Could not restart recognition after lang change:",oe),J.current=!1,k(!1)}},250)}},[x,j,v,Q]);const fe=()=>{var Le,V;N?(J.current=!1,(Le=K.current)==null||Le.stop()):(J.current=!0,(V=K.current)==null||V.start())},Ne=Le=>{const{name:V,value:ve}=Le.target;_(we=>({...we,[V]:ve}))},Re=async()=>{if(q&&!C){alert("     .");return}S(!0);const Le={...y,profilePicture:C};try{if(f===!0&&Jn){console.log("Cafe is online. Sending job via P2P (GUN.js).");const V=`job-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,ve={cafeId:l,documentIds:JSON.stringify(c),visitorData:JSON.stringify(Le),createdAt:Date.now(),status:"Pending"};Jn.get("jobs").get(l).get(V).put(ve),e(`/${n}/confirmation/${V}`)}else{console.log(`Cafe is offline (isOnline: ${f}). Sending job via Firebase.`);const ve=await _me({cafeId:l,documentIds:c,visitorData:Le});e(`/${n}/confirmation/${ve.id}`)}}catch(V){console.error("Error submitting job:",V),alert("    .    .")}finally{S(!1)}};return a?d.jsx("div",{className:"text-center py-20",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):!l||!B?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"      .     ."}),d.jsx(Zt,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):d.jsxs("div",{className:"max-w-3xl mx-auto",children:[O&&d.jsx(Tge,{onClose:()=>G(!1),onScanSuccess:te}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-6 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),d.jsxs("p",{className:"text-gray-600",children:["    ",d.jsx("strong",{className:"font-semibold",children:v==null?void 0:v.name}),".",d.jsx("span",{className:`inline-block mr-2 px-2 py-0.5 text-xs font-semibold rounded-full ${f===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f===null?"...":f===!0?"":" "})]})]}),d.jsxs("button",{type:"button",onClick:()=>G(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",title:"   ",children:[d.jsx(Hm,{}),d.jsx("span",{children:" "})]})]}),I&&d.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:[d.jsxs("p",{className:"font-bold flex items-center gap-2",children:[d.jsx(xw,{}),"     "]}),d.jsx("p",{children:"           .    ."})]}),F==="filling"&&Q&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[" ",x+1,"  ",j.length]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-1",children:Q.question}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'  ""  ""   .'})]}),d.jsxs("div",{className:"relative",children:[Q.type==="select"&&Q.options?d.jsxs("select",{name:Q.id,value:y[Q.id]||"",onChange:Ne,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",children:[d.jsxs("option",{value:"",children:["-- ",Q.placeholder," --"]}),(me=Q.options)==null?void 0:me.map(Le=>d.jsx("option",{value:Le.value,children:Le.label},Le.value))]},Q.id):d.jsx("textarea",{name:Q.id,value:y[Q.id]||"",onChange:Ne,placeholder:` ... : ${Q.placeholder}`,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"},Q.id),d.jsx("button",{type:"button",onClick:fe,title:"/ ",disabled:I,className:`absolute bottom-3 left-3 p-3 rounded-full transition-colors ${N?"bg-red-500 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400`,children:N?d.jsx(tge,{}):d.jsx(vc,{})})]}),Q.options&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"  (  ):"}),d.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-800",children:Q.options.map((Le,V)=>d.jsxs("li",{children:[d.jsxs("strong",{className:"font-mono",children:[V+1,"."]})," ",Le.label]},Le.value))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{onClick:ae,disabled:x===0,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[d.jsx(yw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:ee,className:"flex items-center gap-2 bg-green-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-green-700",children:[d.jsx("span",{children:X?"":""})," ",d.jsx(gw,{})]})]})]}),F==="finished"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[d.jsx(AH,{className:"text-green-500"}),"  !"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"      ."})]}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-3",children:Object.entries(y).map(([Le,V])=>{if(!V)return null;const we=(Object.prototype.hasOwnProperty.call(ei,Le)?_2[Le]:Le)||Le;return d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[we,":"]}),d.jsx("p",{className:"text-md text-gray-800 font-medium whitespace-pre-wrap",children:V})]},Le)})}),q&&d.jsxs("div",{className:"pt-4 mt-4 border-t",children:[d.jsx("h3",{className:"font-bold text-lg text-center mb-2",children:" "}),d.jsx("div",{className:"flex justify-center",children:d.jsx(zv,{value:C,onChange:D})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[d.jsx("button",{onClick:()=>{w(0),P("filling")},className:"bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300",children:"  "}),d.jsxs("button",{onClick:Re,disabled:R||q&&!C,className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[R?d.jsx(Ct,{className:"animate-spin"}):d.jsx(X0,{}),d.jsx("span",{children:R?" ...":"  "})]})]})]})]})]})},Sge=()=>{const{countryCode:t,jobId:e}=oa(),{t:n}=Ci();return d.jsx("div",{className:"max-w-2xl mx-auto text-center py-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n("confirmationPage.title")}),d.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:n("confirmationPage.subtitle")}),d.jsxs("div",{className:"bg-green-50 border-2 border-dashed border-green-200 rounded-lg p-4 my-6",children:[d.jsx("p",{className:"text-gray-600 mb-1",children:n("confirmationPage.orderCodeLabel")}),d.jsx("p",{className:"text-3xl font-bold text-green-800 tracking-widest","aria-live":"polite",children:e})]}),d.jsx("p",{className:"text-sm text-gray-500 mb-8",children:n("confirmationPage.note")}),d.jsx(Zt,{to:`/${t}`,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:n("confirmationPage.backToHome")})]})})},Dge=()=>{const{t,countryCode:e}=Ci(),[n,r]=W.useState(""),[i,s]=W.useState(""),[a,o]=W.useState(""),[l,c]=W.useState(!1),u=Ti(),{login:f,logout:h,sendPasswordReset:p}=Dr(),[v,g]=W.useState(!1),[y,_]=W.useState(""),[x,w]=W.useState(""),[C,D]=W.useState(""),R=async N=>{if(N.preventDefault(),o(""),!n||!i){o(t("login.error.fillAllFields"));return}c(!0);try{const k=await f(n,i);k.emailVerified?u(`/${k.countryCode}/app`):(o(t("login.error.verifyEmail")),await h(),c(!1))}catch{o(t("login.error.wrongCredentials")),c(!1)}},S=async N=>{if(N.preventDefault(),w(""),D(""),!y){D(t("login.error.enterEmail"));return}c(!0);try{await p(y),w(t("login.reset.successMessage"))}catch(k){D(k.message||t("login.reset.errorMessage"))}c(!1)};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:v?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.reset.title")}),x&&d.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:x}),C&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:C}),d.jsxs("form",{onSubmit:S,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.reset.emailLabel")}),d.jsx("input",{type:"email",id:"reset-email",value:y,onChange:N=>_(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 disabled:bg-gray-400",children:t(l?"login.reset.sendingButton":"login.reset.sendButton")})]}),d.jsx("p",{className:"text-center text-gray-600 mt-6",children:d.jsxs("button",{onClick:()=>g(!1),className:"text-green-600 hover:underline font-semibold",children:[" ",t("login.reset.backToLogin")]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.title")}),a&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:a}),d.jsxs("form",{onSubmit:R,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.emailLabel")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:N=>r(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@example.com"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.passwordLabel")}),d.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-green-600 hover:underline font-semibold",children:t("login.forgotPassword")})]}),d.jsx("input",{type:"password",id:"password",value:i,onChange:N=>s(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:t(l?"login.loggingInButton":"login.loginButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[t("login.noAccount")," ",d.jsx(Zt,{to:`/${e}/signup`,className:"text-green-600 hover:underline font-semibold",children:t("login.createAccount")})]})]})})})},Age=["gmail.com","outlook.com","hotmail.com","live.com"],Nge=()=>{const{wilayas:t,dairas:e,communes:n,locationsLoading:r}=tn(),{t:i,countryCode:s,language:a}=Ci(),o=Ti(),l=Sr(),c=gi[a],u=l.state||{},[f,h]=W.useState(u.email||""),[p,v]=W.useState(u.password||""),[g,y]=W.useState(u.confirmPassword||""),[_,x]=W.useState(u.cafeName||""),[w,C]=W.useState(u.ownerName||""),[D,R]=W.useState(u.street||""),[S,N]=W.useState(()=>c.find(V=>V.code===s)||c[0]),[k,F]=W.useState(u.selectedWilaya||""),[P,I]=W.useState(u.selectedDaira||""),[U,O]=W.useState(u.selectedCommune||""),[G,K]=W.useState(u.genericState||""),[J,te]=W.useState(u.genericCity||""),[z,Y]=W.useState([]),[B,j]=W.useState([]),[q,X]=W.useState(""),[Q,ee]=W.useState(!1),[ae,de]=W.useState(!1),{signup:fe}=Dr();W.useEffect(()=>{if(!l.state){const V=c.find(ve=>ve.code===s)||c[0];N(V)}},[s,c,l.state]);const Ne=V=>{const ve=V.target.value,we={email:f,password:p,confirmPassword:g,cafeName:_,ownerName:w,street:D,selectedWilaya:k,selectedDaira:P,selectedCommune:U,genericState:G,genericCity:J};o(`/${ve}/signup`,{replace:!0,state:we})},Re=V=>{const ve=V.target.value;F(ve),I(""),O(""),ve?(Y(e.filter(we=>we.wilaya_code===ve)),j([])):(Y([]),j([]))},me=V=>{const ve=V.target.value;I(ve),O(""),j(ve&&k?n.filter(we=>we.daira_name===ve&&we.wilaya_code===k):[])},Le=async V=>{var ce;V.preventDefault(),X("");const ve=f.split("@")[1];if(!Age.includes(ve)){X(i("signup.errors.allowedDomains"));return}const we=t.length>0;if(!f||!p||!g||!_||!w||!D||!(we&&k&&P&&U)&&!(!we&&G&&J)){X(i("signup.errors.fillAllFields"));return}if(p!==g){X(i("signup.errors.passwordsMismatch"));return}if(p.length<6){X(i("signup.errors.passwordLength"));return}ee(!0);let le;we?le={wilaya:((ce=t.find(xe=>xe.code===k))==null?void 0:ce.name)||"",wilaya_code:k,daira:P,commune:U,street:D}:le={state:G,city:J,street:D};const _e=S.code==="dz"?{amount:200,currency:"DZD"}:{amount:1,currency:"USD"},ie={name:_,owner:w,countryCode:S.code,countryPhoneCode:S.phoneCode,address:le,initialCredits:_e};try{await fe(f,p,ie)?de(!0):X(i("signup.errors.signupFailed"))}catch(ye){ye.code==="auth/email-already-in-use"?X("    .        ."):X(i("signup.errors.signupFailed"))}finally{ee(!1)}};return ae?d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[d.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("signup.success.title")}),d.jsxs("p",{className:"text-gray-600 mb-6",children:[i("signup.success.message")," ",d.jsx("strong",{className:"font-semibold",children:f}),".",i("signup.success.instruction")]}),d.jsx(Zt,{to:`/${s}/login`,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors inline-block",children:i("signup.success.loginButton")})]})}):d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:i("signup.title")}),q&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:q}),d.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.accountInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.email")}),d.jsx("input",{type:"email",id:"email-signup",value:f,onChange:V=>h(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@gmail.com / user@outlook.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.password")}),d.jsx("input",{type:"password",id:"password-signup",value:p,onChange:V=>v(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.passwordPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.confirmPassword")}),d.jsx("input",{type:"password",id:"confirm-password",value:g,onChange:V=>y(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]})]}),d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.cafeInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cafeName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.cafeName")}),d.jsx("input",{type:"text",id:"cafeName",value:_,onChange:V=>x(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cafeNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.ownerName")}),d.jsx("input",{type:"text",id:"ownerName",value:w,onChange:V=>C(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.ownerNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.country")}),d.jsx("select",{id:"country",value:S.code,onChange:Ne,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:c.map(V=>d.jsx("option",{value:V.code,children:V.name},V.code))})]}),t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"wilaya",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.wilaya")}),d.jsxs("select",{id:"wilaya",value:k,onChange:Re,required:!0,disabled:r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i(r?"signup.loading":"signup.selectWilaya")}),t.map(V=>d.jsx("option",{value:V.code,children:V.name},V.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"daira",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.daira")}),d.jsxs("select",{id:"daira",value:P,onChange:me,required:!0,disabled:!k,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectDaira")}),z.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"commune",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.commune")}),d.jsxs("select",{id:"commune",value:U,onChange:V=>O(V.target.value),required:!0,disabled:!P,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectCommune")}),B.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}):d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericState",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.state")}),d.jsx("input",{type:"text",id:"genericState",value:G,onChange:V=>K(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.statePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericCity",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.city")}),d.jsx("input",{type:"text",id:"genericCity",value:J,onChange:V=>te(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cityPlaceholder")})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.street")}),d.jsx("input",{type:"text",id:"street",value:D,onChange:V=>R(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.streetPlaceholder")})]})]}),d.jsx("button",{type:"submit",disabled:Q||r,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i(Q?"signup.creatingButton":"signup.createButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[i("signup.haveAccount")," ",d.jsx(Zt,{to:`/${s}/login`,className:"text-green-600 hover:underline font-semibold",children:i("signup.loginHere")})]})]})})},S9=()=>{const{user:t}=Dr(),{cafes:e}=tn(),{useCafeChatManager:n}=th(),{totalUnreadCount:r}=n(),i=e.find(l=>l.id===(t==null?void 0:t.cafeId)),s="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a="bg-green-600 text-white",o="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:(i==null?void 0:i.name)||" "}),d.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),d.jsxs("nav",{className:"flex flex-col gap-2",children:[d.jsxs(Yn,{to:"",end:!0,className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"pending-jobs",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{children:" "})]}),d.jsx(Yn,{to:"chat",className:({isActive:l})=>`${s} ${l?a:o}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Zk,{className:"h-5 w-5"}),d.jsx("span",{children:""})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Yn,{to:"generate",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"excel-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(RH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"document-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(eI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"multi-person-job",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("span",{children:"  "})]}),d.jsxs(Yn,{to:"clients",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"settings",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:""})]}),d.jsxs(Yn,{to:"billing",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]})]})]})},kge=()=>{const{user:t,resendVerificationEmail:e}=Dr(),[n,r]=W.useState(!1),[i,s]=W.useState(""),[a,o]=W.useState(!1),l=async()=>{o(!0),s("");try{await e(),r(!0),setTimeout(()=>r(!1),5e3)}catch(c){s(c.message||"Failed to send email.")}o(!1)};return!t||t.emailVerified?null:d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md shadow-md",role:"alert",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(xw,{className:"h-6 w-6 mr-3"}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["     .        ",d.jsx("strong",{className:"font-mono",children:t.email}),"."]})]}),n?d.jsxs("div",{className:"flex items-center text-green-600 ml-auto flex-shrink-0",children:[d.jsx(AH,{className:"mr-2"}),d.jsx("span",{className:"font-semibold",children:" !"})]}):d.jsx("button",{onClick:l,disabled:a,className:"ml-auto flex-shrink-0 bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:opacity-50",children:a?" ...":"   "})]}),i&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]})},D9="1.0",Ige="document-templates-v1",ZH=W.createContext(void 0),Rge=({children:t})=>{const[e,n]=W.useState(!0),[r,i]=W.useState(!1),[s,a]=W.useState(""),[o,l]=W.useState(null);W.useEffect(()=>{(async()=>{try{const f=await Us("offlineMetadata","syncStatus");f&&f.version===D9?n(!0):n(!1)}catch(f){console.error("Could not check offline status, assuming not ready.",f),n(!1)}})()},[]);const c=W.useCallback(async()=>{i(!0),l(null),a(" ...");try{a("   ...");const[u,f,h,p,v]=await Promise.all([Pp(),cf.getAll(),nf.getAll(),xm.getAll(),Mb()]);a("     ..."),await Promise.all([ki("fullDocuments",u),ki("staticDocuments",f),ki("sites",h),ki("baseTemplates",p),mr("siteSettings",{...v,id:"main"})]),a("   ...");const g=u.map(_=>_.finalTemplateUrl).filter(_=>!!_);await(await caches.open(Ige)).addAll(g),a("  ..."),await mr("offlineMetadata",{id:"syncStatus",version:D9,lastUpdated:new Date().toISOString()}),n(!0)}catch(u){console.error("Offline sync failed:",u);let f="     .";u instanceof Error&&(u.message.includes("404")?f="    ( 404).      .        .":u.message.toLowerCase().includes("failed to fetch")?f="  .     .":f=u.message),l(f)}finally{i(!1),a("")}},[]);return d.jsx(ZH.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:o,startSync:c},children:t})},Pge=()=>{const t=W.useContext(ZH);if(t===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return t},Fge=()=>{const{isOfflineReady:t,isSyncing:e,syncProgress:n,syncError:r,startSync:i}=Pge(),[s,a]=W.useState(sessionStorage.getItem("offlineSyncDismissed")==="true"),o=()=>{sessionStorage.setItem("offlineSyncDismissed","true"),a(!0)};return t||s?null:d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg text-center p-8 space-y-4 relative",children:[d.jsx("button",{onClick:o,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 p-2","aria-label":"",children:d.jsx(Ff,{size:20})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"   "}),d.jsx("p",{className:"text-gray-600",children:"            .      ."}),e?d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mx-auto"}),d.jsx("p",{className:"font-semibold text-green-700",children:n||" ..."})]}):d.jsxs("div",{className:"pt-4",children:[r&&d.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 flex items-center text-right gap-2",children:[d.jsx(xw,{className:"flex-shrink-0"}),d.jsxs("span",{children:[": ",r]})]}),d.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(ko,{}),d.jsx("span",{children:r?"  ":"    "})]})]})]})})},Mge=()=>{const[t,e]=W.useState(!0),n=()=>{sessionStorage.setItem("extensionNotificationDismissed","true"),e(!1)};return t?d.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md shadow-md relative mb-6 animate-fadeIn",role:"alert",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(ko,{className:"h-6 w-6 text-blue-500 ml-4 rtl:ml-0 rtl:mr-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["          .",d.jsx("a",{href:"https://files.gitut.com/data/add-on/gitut.zip",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline mr-2 rtl:mr-0 rtl:ml-2 hover:text-blue-600",children:"  "}),"."]})]})]}),d.jsx("button",{onClick:n,className:"absolute top-0 bottom-0 left-0 px-4 py-3 rtl:left-auto rtl:right-0","aria-label":"",children:d.jsx(Ff,{className:"h-5 w-5 text-blue-500 hover:text-blue-700"})})]}):null},Uge=()=>d.jsx("div",{className:"flex items-center justify-center h-full min-h-[50vh]",children:d.jsxs("div",{className:"max-w-2xl text-center p-8",children:[d.jsx(DH,{className:"text-5xl text-yellow-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   Gitut.                 ."}),d.jsxs(Zt,{to:"settings",className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(kH,{}),d.jsx("span",{children:"     "})]})]})}),Oge=()=>{const{loadFullDocuments:t,cafes:e,loading:n}=tn(),{user:r,refetchUser:i}=Dr(),s=Sr(),a=s.pathname.includes("document-studio")||s.pathname.includes("excel-studio"),o=s.pathname.endsWith("/settings"),[l,c]=W.useState(!1),u=xl.useMemo(()=>e.find(h=>h.id===(r==null?void 0:r.cafeId)),[e,r]);W.useEffect(()=>{t()},[t]),W.useEffect(()=>{i()},[i]),W.useEffect(()=>{let h=!1;const p=g=>{var y,_;g.source===window&&((y=g.data)==null?void 0:y.source)==="gitut-extension"&&((_=g.data)==null?void 0:_.type)==="pong"&&(h=!0,c(!1),window.removeEventListener("message",p))};window.addEventListener("message",p),window.postMessage({source:"gitut-webapp",type:"ping"},"*");const v=setTimeout(()=>{h||sessionStorage.getItem("extensionNotificationDismissed")||c(!0)},1500);return()=>{clearTimeout(v),window.removeEventListener("message",p)}},[]);const f=u&&!u.isProfilePublished&&!o;return n?d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(S9,{}),d.jsx("main",{className:"flex-1 w-full flex items-center justify-center p-10 h-[60vh]",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Fge,{}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(S9,{}),d.jsxs("main",{className:"flex-1 w-full space-y-6",children:[l&&d.jsx(Mge,{}),d.jsx(kge,{}),d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:f?d.jsx(Uge,{}):d.jsx(TN,{})})]})]})]})},vC=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",Lge=()=>{const{documents:t,staticDocuments:e,sites:n}=tn(),[r,i]=W.useState("");Ti();const[s,a]=W.useState(!1),o=W.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition,c=!!l,[u,f]=W.useState(!1),h=W.useMemo(()=>[...t.map(g=>({item:g,type:"doc"})),...e.map(g=>({item:g,type:"staticDoc"})),...n.filter(g=>g.type==="template").map(g=>({item:g,type:"site"}))],[t,e,n]),p=W.useMemo(()=>{if(!r.trim())return[];const g=vC(r);return h.filter(({item:y})=>vC(y.name).includes(g)||"description"in y&&y.description&&vC(y.description).includes(g))},[r,h]);W.useEffect(()=>{if(!c)return;const g=new l;return g.continuous=!1,g.interimResults=!1,g.lang="ar-SA",g.onresult=y=>{const _=y.results[0][0].transcript;i(_)},g.onerror=y=>{console.error("Speech recognition error",y.error)},g.onend=()=>{a(!1)},o.current=g,()=>{o.current&&o.current.abort()}},[c]);const v=()=>{var g,y;if(!c){alert("     .");return}s?(g=o.current)==null||g.stop():((y=o.current)==null||y.start(),a(!0))};return d.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[d.jsxs("form",{onSubmit:g=>g.preventDefault(),className:"relative",children:[d.jsx($A,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:g=>i(g.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),className:"w-full p-3 pl-12 pr-12 bg-white border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500"}),c&&d.jsx("button",{type:"button",onClick:v,title:" ",className:`absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full transition-colors ${s?"bg-red-500 text-white animate-pulse":"text-gray-600 hover:bg-gray-100"}`,children:d.jsx(vc,{})})]}),u&&p.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-30 max-h-80 overflow-y-auto",children:p.map(({item:g,type:y})=>{let _="",x={},w=qA;const C="description"in g?g.description:g.url||"";return y==="doc"?(_="/app/generate",x={selectedDocId:g.id},w=qA):y==="site"?(_=`/app/fill-site/${g.id}`,w=Lb):y==="staticDoc"&&(_=`/app/view-pdf/${g.id}`,w=bw),d.jsx("li",{children:d.jsxs(Zt,{to:_,state:x,className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50",children:[d.jsx(w,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),d.jsxs("div",{className:"flex-grow overflow-hidden",children:[d.jsx("p",{className:"font-semibold text-gray-800 truncate",children:g.name}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:C})]})]})},`${y}-${g.id}`)})})]})},jge=({isOpen:t,onClose:e,cafeName:n,numericId:r})=>{if(!t)return null;const i=()=>{window.print()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm relative",children:[d.jsx("div",{className:"p-6",children:d.jsxs("div",{id:"printable-id",className:"text-center p-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),r?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-4 text-gray-600",children:"    :"}),d.jsx("p",{className:"text-6xl font-bold text-green-600 tracking-widest bg-gray-100 p-4 rounded-lg",children:r}),d.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"       ."})]}):d.jsx("p",{className:"text-lg text-gray-500 my-8",children:"     ."})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between items-center",children:[d.jsxs("button",{onClick:i,disabled:!r,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(_w,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:e,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Bge=()=>{const{user:t}=Dr(),{documents:e,sites:n,cafes:r,siteSettings:i,loading:s}=tn(),[a,o]=W.useState([]),[l,c]=W.useState(null),[u,f]=W.useState(!0),[h,p]=W.useState(!1),v=W.useMemo(()=>t!=null&&t.cafeId?e.filter(x=>!x.cafeId||x.cafeId===t.cafeId):[],[e,t]);if(W.useEffect(()=>{(async()=>{if(!(t!=null&&t.cafeId)||s){!s&&!(t!=null&&t.cafeId)&&f(!1);return}f(!0);let w=r.find(C=>C.id===t.cafeId)||null;if(!w)try{w=await Kk(t.cafeId)}catch(C){console.error("Failed to fetch cafe details directly:",C)}c(w);try{const D=(await ym.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").get()).docs.map(R=>({id:R.id,...R.data()}));o(D)}catch(C){console.error("Failed to fetch dashboard data from Firestore:",C)}finally{f(!1)}})()},[t,r,s]),s||u)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!l)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"       ."})]});const g=a.filter(x=>x.status==="Pending").length,y=(t==null?void 0:t.credits.currency)==="DZD"?t.credits.amount<50:t.credits.amount<5,_=y?{bg:"bg-red-100",text:"text-red-800",valueText:"text-red-900 font-mono",linkText:"text-red-700"}:{bg:"bg-green-100",text:"text-green-800",valueText:"text-green-900 font-mono",linkText:"text-green-700"};return d.jsxs("div",{className:"space-y-8",children:[t&&l&&d.jsx(jge,{isOpen:h,onClose:()=>p(!1),cafeName:l.name,numericId:l.numericId}),d.jsx(Lge,{}),d.jsx(ac,{placement:"DASHBOARD_TOP"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-gray-500",children:"       ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:g}),d.jsx(Zt,{to:"pending-jobs",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"   "})]}),d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:v.length}),d.jsx(Zt,{to:"generate",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"  "})]}),d.jsxs("div",{className:`${_.bg} p-6 rounded-lg shadow-sm`,children:[d.jsx("h2",{className:`text-lg font-semibold ${_.text} mb-2`,children:" "}),d.jsxs("p",{className:`text-3xl font-bold ${_.valueText}`,children:[t==null?void 0:t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:t.credits.currency==="USD"?2:0}),d.jsxs("span",{className:"text-xl",children:[" ",(t==null?void 0:t.credits.currency)==="DZD"?"":"$"]})]}),d.jsxs(Zt,{to:"billing",className:`${_.linkText} hover:underline mt-4 inline-block font-semibold`,children:[y?"  ":" "," "]})]}),d.jsxs("div",{className:"bg-gray-700 text-white p-6 rounded-lg shadow-sm flex flex-col justify-center items-center",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"   "}),d.jsx("p",{className:"text-sm text-center text-gray-300 mb-3",children:"       ."}),d.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-white text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Xme,{}),d.jsx("span",{children:"  "})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(x=>d.jsxs(Zt,{to:"generate",state:{selectedDocId:x.id},className:"block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:x.description}})]},x.id))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>{const w="block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",C=d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:x.type==="static"?"  ":`  : ${x.url}`})]})]});return x.type==="template"?d.jsx(Zt,{to:`fill-site/${x.id}`,className:w,children:C},x.id):d.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:w,children:C},x.id)})})]})]})]})},Vge='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="50" cy="50" r="50" fill="#ccc"/><g><path d="M50 62.5c-10.3 0-18.75 8.45-18.75 18.75V87.5h37.5v-6.25c0-10.3-8.45-18.75-18.75-18.75z" fill="#fff"/><path d="M50 25c-6.9 0-12.5 5.6-12.5 12.5S43.1 50 50 50s12.5-5.6 12.5-12.5S56.9 25 50 25z" fill="#fff"/></g></svg>',Wge=`data:image/svg+xml;base64,${btoa(Vge)}`,qge=async(t,e)=>{try{const n=`Translate the following HTML content to ${e}. Keep the HTML structure and tags intact, only translate the text nodes. HTML: ${t}`,r=YH({model:"gem-2.5-flash",contents:n});let i="";for await(const s of r)i+=s;return i}catch(n){throw console.error("Translation via service failed:",n),new Error("Failed to translate document content.")}},qy=async(t,e,n,r)=>{try{let i;for(let c=t.length-1;c>=0;c--){const u=t[c];if(u.id===e||u.slug===e||u.name===e){i=u;break}}let s="";if(r.templateType==="final"){if(i!=null&&i.finalTemplateHtml)s=i.finalTemplateHtml;else if(i!=null&&i.finalTemplateUrl){const c=await fetch(vi(i.finalTemplateUrl));if(!c.ok)throw new Error(`Could not fetch final template from ${vi(i.finalTemplateUrl)}`);s=await c.text()}}else if(i!=null&&i.previewTemplateHtml)s=i.previewTemplateHtml;else if(i!=null&&i.previewTemplateUrl){const c=await fetch(vi(i.previewTemplateUrl));if(!c.ok)throw new Error(`Could not fetch preview template from ${vi(i.previewTemplateUrl)}`);s=await c.text()}s||(console.error(`Template type '${r.templateType}' for document '${(i==null?void 0:i.name)||e}' not found. This is likely because the template data is not available to public users.`),s=`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title>   </title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 2rem; text-align: center; color: #333; }
                        .container { max-width: 600px; margin: auto; padding: 2rem; border: 1px solid #eee; border-radius: 8px; background-color: #f9f9f9; }
                        h1 { color: #d9534f; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>   </h1>
                        <p>         "${(i==null?void 0:i.name)||e}".</p>
                        <p>            .        .</p>
                    </div>
                </body></html>
            `),r.targetLang!=="ar"&&!s.includes("<h1>   </h1>")&&(s=await qge(s,r.targetLang));const o=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});if(s=s.replace(/\[DateToday\]/g,o),s.includes("[profilePicture]")){const u=`<img src="${n.profilePicture?vi(n.profilePicture):Wge}" alt="Profile Picture" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #eee;">`;s=s.replace(/\[profilePicture\]/g,u)}if(Object.keys(n).forEach(c=>{if(c!=="profilePicture"){const u=new RegExp(`\\[${c}\\]`,"g");s=s.replace(u,n[c]||"")}}),Object.keys(ei).forEach(c=>{const u=c;if(!n.hasOwnProperty(u)){const f=new RegExp(`\\[${u}\\]`,"g");s=s.replace(f,"")}}),s=s.replace(/\[[^\]]+\]/g,""),r.action==="download"){const c=document.createElement("div");c.style.width="794px",c.style.padding="20px",c.style.position="absolute",c.style.left="-9999px",c.innerHTML=s,document.body.appendChild(c),await html2canvas(c,{scale:2}).then(u=>{const f=u.toDataURL("image/png"),{jsPDF:h}=jspdf,p=new h({orientation:"portrait",unit:"pt",format:"a4"}),v=p.internal.pageSize.getWidth(),g=p.internal.pageSize.getHeight(),y=u.width,_=u.height,x=y/_,w=v/g;let C,D;x>w?(C=v,D=v/x):(D=g,C=g*x),p.addImage(f,"PNG",0,0,C,D);const R=`${(i==null?void 0:i.slug)||e}.pdf`;p.save(R)}),document.body.removeChild(c);return}const l=window.open("","_blank");l?(l.document.write(s),l.document.close(),l.onload=function(){l.focus(),r.action==="print"&&l.print()}):alert("     .")}catch(i){throw console.error("Error generating document:",i),alert(`    : ${i.message}.`),i}},$ge=()=>{const{user:t}=Dr(),{fullDocuments:e,loadingFullDocuments:n}=tn(),[r,i]=W.useState([]),[s,a]=W.useState(!0),[o,l]=W.useState(null),[c,u]=W.useState(!1),[f,h]=W.useState(!1),[p,v]=W.useState("");W.useEffect(()=>{if(!(t!=null&&t.cafeId)){a(!1);return}let x=!0;const w=new Map,C=()=>{if(x){const k=Array.from(w.values()).sort((F,P)=>P.createdAt-F.createdAt);i(k)}};(async()=>{a(!0);try{(await Mn("jobs")).filter(P=>P.cafeId===t.cafeId).forEach(P=>w.set(P.id,P)),C()}catch(k){console.error("Failed to load jobs from IndexedDB",k)}finally{x&&a(!1)}})();const S=ym.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").onSnapshot(k=>{k.docs.forEach(F=>{const P={id:F.id,...F.data()};w.set(P.id,P)}),C()},k=>{console.error("Firestore listener error:",k)});let N;if(Jn){const k=Jn.get("jobs").get(t.cafeId),F=(P,I)=>{if(P&&typeof P=="object"&&!w.has(I)){console.log(`Optimistically adding P2P job from Gun: ${I}`);const U={...P,id:I,documentIds:typeof P.documentIds=="string"?JSON.parse(P.documentIds):P.documentIds,visitorData:typeof P.visitorData=="string"?JSON.parse(P.visitorData):P.visitorData};w.set(U.id,U),C()}};k.map().on(F),N=()=>k.off()}return()=>{x=!1,S(),N&&N()}},[t]);const g=async(x,w)=>{if(!(!x.audioRecordingUrl&&!x.transcribedText)){h(!0),v("");try{const C=new Set;x.documentIds.forEach(I=>{const U=e.find(O=>O.id===I);U==null||U.requiredFields.forEach(O=>C.add(O))});const D=Array.from(C).map(I=>{var U;return(U=ei[I])==null?void 0:U.label}).filter(Boolean),R={};C.forEach(I=>{R[I]={type:"STRING",description:ei[I].label}});const S={type:"OBJECT",properties:R};let N;if(x.transcribedText)N={transcribedText:x.transcribedText};else if(x.audioRecordingUrl){const U=await(await fetch(vi(x.audioRecordingUrl))).blob(),O=new FileReader;N={audioBase64:await new Promise(K=>{O.onloadend=()=>K(O.result.split(",")[1]),O.readAsDataURL(U)})}}else throw new Error("No data (audio or text) available to process.");const k=await _ge(N,S,D),F={...x.visitorData,...k},P={...x,visitorData:F};if(await mr("jobs",P),i(I=>I.map(U=>U.id===x.id?P:U)),l(P),w==="open"||w==="print"){u(!0);for(const I of P.documentIds)await qy(e,I,P.visitorData,{action:w,targetLang:"ar",templateType:"final"});await y(x.id,P),u(!1)}}catch(C){console.error("Data processing failed:",C),C instanceof Error?v(C.message):v("   .")}finally{h(!1)}}},y=async(x,w)=>{const C=w||r.find(D=>D.id===x);if(C){u(!0);try{if(!w){alert(`  .    ${C.documentIds.length} () .`);for(const S of C.documentIds)await qy(e,S,C.visitorData,{action:"print",targetLang:"ar",templateType:"final"})}const{id:D,...R}=C;await wme(D,{...R,status:"Completed"}),await Pf("jobs",x),i(S=>S.map(N=>N.id===x?{...N,status:"Completed"}:N)),l(S=>S&&S.id===x?{...S,status:"Completed"}:S)}catch(D){console.error("Failed to complete job:",D),alert("   .")}finally{u(!1)}}},_=x=>{switch(x){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Completed":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Cancelled":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return n||s?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-[70vh] overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:["  (",r.length,")"]}),r.length>0?d.jsx("div",{className:"space-y-3",children:r.map(x=>d.jsxs("button",{onClick:()=>l(x),className:`w-full text-right p-3 rounded-lg border-2 transition-colors ${(o==null?void 0:o.id)===x.id?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[x.audioRecordingUrl&&d.jsx(LH,{className:"text-blue-500"}),d.jsx("span",{children:x.visitorData.fullName||""})]}),_(x.status)]}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.createdAt).toLocaleString("ar-DZ")})]},x.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border shadow-sm",children:o?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-start mb-4 pb-4 border-b",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[" : ",o.id]}),d.jsxs("p",{className:"text-gray-500",children:[": ",d.jsx("span",{className:"font-semibold text-gray-700",children:o.visitorData.fullName})]})]}),_(o.status)]}),(o.audioRecordingUrl||o.transcribedText)&&!o.visitorData.birthdaydate&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4 space-y-3",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800",children:"  "}),o.audioRecordingUrl&&d.jsx("audio",{controls:!0,src:vi(o.audioRecordingUrl),className:"w-full"}),o.transcribedText&&d.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"    :"}),d.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:o.transcribedText})]}),f&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:"    ..."})]}),p&&d.jsx("p",{className:"text-sm text-red-600",children:p}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 pt-2",children:[d.jsxs("button",{onClick:()=>g(o,"edit"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600 disabled:bg-gray-400",children:[d.jsx(vw,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"open"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(Kme,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"print"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-green-500 text-white font-semibold rounded-md hover:bg-green-600 disabled:bg-gray-400",children:[d.jsx(_w,{})," ",d.jsx("span",{children:" "})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:o.documentIds.map(x=>{const w=e.find(C=>C.id===x);return d.jsx("li",{children:(w==null?void 0:w.name)||"  "},x)})})]}),o.visitorData.birthdaydate&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm bg-gray-50 p-4 rounded-md",children:Object.entries(o.visitorData).map(([x,w])=>{const C=ei[x];return(C==null?void 0:C.type)==="file"?d.jsxs("div",{className:"sm:col-span-2",children:[d.jsxs("strong",{className:"text-gray-500",children:[C.label,": "]}),d.jsx("img",{src:vi(w),alt:" ",className:"mt-1 h-24 w-24 rounded-md object-cover border"})]},x):d.jsxs("div",{children:[d.jsxs("strong",{className:"text-gray-500",children:[(C==null?void 0:C.label)||x,": "]}),d.jsx("span",{className:"text-gray-800",children:String(w)})]},x)})})]}),o.status==="Pending"&&o.visitorData.birthdaydate&&d.jsx("button",{onClick:()=>y(o.id),disabled:c,className:"w-full mt-6 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",children:c?"  ...":"    "})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"   "}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       ."})]})})]})]})},zge=({onClose:t,onCapture:e})=>{const n=W.useRef(null),r=W.useRef(null),i=W.useRef(null),[s,a]=W.useState(null);W.useEffect(()=>((async()=>{a(null);try{const c=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480,facingMode:"environment"}});i.current=c,n.current&&(n.current.srcObject=c)}catch(c){console.error("Error accessing camera:",c),c instanceof DOMException&&(c.name==="NotAllowedError"||c.name==="PermissionDeniedError")?a("    .      ."):a("    .          .")}})(),()=>{i.current&&i.current.getTracks().forEach(c=>c.stop())}),[]);const o=()=>{if(n.current&&r.current){const l=n.current,c=r.current;c.width=l.videoWidth,c.height=l.videoHeight;const u=c.getContext("2d");u==null||u.drawImage(l,0,0,c.width,c.height);const f=c.toDataURL("image/jpeg");e(f),t()}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[s?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:s})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:o,disabled:!!s,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Hge=({onDataExtracted:t})=>{const[e,n]=W.useState(!1),[r,i]=W.useState(!1),[s,a]=W.useState(null),o=W.useRef(null),[l,c]=W.useState(!1),u=p=>{var g;const v=(g=p.target.files)==null?void 0:g[0];if(v){const y=new FileReader;y.onloadend=()=>{const x=y.result.split(",")[1];h(x,v.type)},y.readAsDataURL(v)}},f=p=>{var _;const v=p.split(","),g=((_=v[0].match(/:(.*?);/))==null?void 0:_[1])||"image/jpeg",y=v[1];h(y,g)},h=async(p,v)=>{i(!0),a(null);try{const _=await rI(p,v,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"Last name"},firstName:{type:"STRING",description:"First name"},dateOfBirth:{type:"STRING",description:"Date of birth in YYYY-MM-DD format"},placeOfBirth:{type:"STRING",description:"Place of birth"},nationalId:{type:"STRING",description:"18-digit national ID number"},birthCertificateNumber:{type:"STRING",description:"Birth certificate number"},socialSecurityNumber:{type:"STRING",description:"Social security number"},nationality:{type:"STRING",description:"Nationality"},maritalStatus:{type:"STRING",description:"Marital status (e.g., single, married)"}}},"From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.");if(Object.keys(_).length===0)throw new Error("The model did not return any data. The document might be unclear or not supported.");const x=`${_.firstName||""} ${_.lastName||""}`.trim();t({fullName:x||void 0,dob:_.dateOfBirth,pob:_.placeOfBirth,nationalId:_.nationalId,birthCertificateNumber:_.birthCertificateNumber,socialSecurityNumber:_.socialSecurityNumber,nationality:_.nationality,maritalStatus:_.maritalStatus})}catch(g){console.error("Error processing ID card:",g);const y=g instanceof Error?g.message:"An unknown error occurred.";a(`    . ${y}`)}finally{i(!1),o.current&&(o.current.value="")}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[l&&d.jsx(zge,{onClose:()=>c(!1),onCapture:f}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:p=>n(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx(FH,{className:"text-gray-600"}),d.jsx("span",{children:"    "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-2",children:[d.jsx("input",{type:"file",ref:o,onChange:u,accept:"image/*",className:"hidden"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(kl,{}),d.jsx("span",{children:"  "})]})}),d.jsx("button",{type:"button",onClick:()=>c(!0),disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Hm,{}),d.jsx("span",{children:" "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},Gge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},Kge=()=>{const{siteSettings:t,fullDocuments:e,loadingFullDocuments:n,loading:r}=tn(),i=Sr(),s=Ti(),{user:a,updateUserCredits:o}=Dr(),{t:l}=Ci(),[c,u]=W.useState(null),[f,h]=W.useState({}),[p,v]=W.useState(!1),[g,y]=W.useState(!0),[_,x]=W.useState(""),[w,C]=W.useState([]),[D,R]=W.useState(0),[S,N]=W.useState(!1),[k,F]=W.useState(!1),[P,I]=W.useState("idle"),[U,O]=W.useState(null);W.useRef(null),W.useRef("");const[G,K]=W.useState("");W.useRef(null),W.useRef([]);const[J,te]=W.useState(""),[z,Y]=W.useState(1),B=W.useMemo(()=>{const Re=e.filter(me=>!me.cafeId||me.cafeId===(a==null?void 0:a.cafeId));return Gge(Re)},[e,a]);W.useEffect(()=>{var me;const Re=(me=i.state)==null?void 0:me.selectedDocId;if(Re&&!c&&e.length>0){const Le=e.find(V=>V.id===Re);Le&&(q(Le),s(i.pathname,{replace:!0,state:{}}))}},[i.state,e,c,s]);const j=W.useMemo(()=>c?c.requiredFields.filter(Re=>Re!=="DateToday"):[],[c]);W.useMemo(()=>j.some(Re=>Re==="profilePicture"),[j]);const q=Re=>{const me=e.filter(V=>V.groupId===Re.groupId).sort((V,ve)=>V.id.localeCompare(ve.id)),Le=me.findIndex(V=>V.id===Re.id);C(me),R(Le>=0?Le:0),h({}),x(""),N(!1),F(!1)};W.useEffect(()=>{(async()=>{if(w.length>0){const me=w[D];if(u(me),x(""),me.previewTemplateHtml)x(me.previewTemplateHtml);else if(me.previewTemplateUrl)try{const Le=await fetch(me.previewTemplateUrl);Le.ok?x(await Le.text()):x('<p class="text-center p-8 text-gray-500">   .</p>')}catch{x('<p class="text-center p-8 text-red-500">  .</p>')}else x('<p class="text-center p-8 text-gray-500">   .</p>')}})()},[w,D]);const X=()=>R(Re=>(Re+1)%w.length),Q=()=>R(Re=>(Re-1+w.length)%w.length),ee=async Re=>{if(!Re){ae("profilePicture","");return}v(!0);try{const me=await WH(Re,"profile.jpg"),Le=await vm(me);ae("profilePicture",Le)}catch{te("  .")}finally{v(!1)}},ae=(Re,me)=>{h(Le=>({...Le,[Re]:me}))},de=async Re=>{if(!c||!a||!t)return;const me=a.credits.currency==="USD"?t.pricing.dynamicDocument.usd:t.pricing.dynamicDocument.dzd,Le=a.credits.currency==="USD"?"$":"";if(a.credits.amount<me){alert(`  .    ${me} ${Le}   ${a.credits.amount} ${Le}.`),s(`/${a.countryCode}/app/billing`);return}v(!0);const V=a.credits.amount;try{await qy(e,c.id,f,{action:Re,targetLang:"ar",templateType:"final"})}catch(we){console.error("Document generation failed:",we),v(!1),alert("  .     .");return}const ve=V-me;o(ve);try{await lme({id:Date.now(),amount:me,currency:a.credits.currency}),alert(`    ${me} ${Le}  .  : ${ve.toFixed(2)} ${Le}.`)}catch(we){if(console.error("Failed to queue credit deduction:",we),navigator.onLine)try{await Xk(a,me)}catch{alert(":       .   .")}else alert(":       .   .")}u(null),h({}),C([]),v(!1)};if(n||r)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});const fe=(a==null?void 0:a.credits.currency)==="USD"?t==null?void 0:t.pricing.dynamicDocument.usd:t==null?void 0:t.pricing.dynamicDocument.dzd,Ne=(a==null?void 0:a.credits.currency)==="USD"?"$":"";return c?d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[": ",c.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[fe," ",Ne]})]})]}),d.jsx("button",{onClick:()=>{u(null),x(""),C([])},className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border relative",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:" "}),w.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Q,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(yw,{})}),d.jsx("button",{onClick:X,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(gw,{})}),d.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[D+1," / ",w.length]})]}),d.jsx("iframe",{srcDoc:_,title:"Document Preview",className:"w-full h-[70vh] border rounded-md bg-white"})]})]}),d.jsx("div",{className:"lg:col-span-1 space-y-4 lg:sticky lg:top-8",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsx(Hge,{onDataExtracted:Re=>h(me=>({...me,...Re}))}),d.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:j.map(Re=>{var le,he,_e;const Le=Object.prototype.hasOwnProperty.call(ei,Re)?ei[Re]:null,V=(le=c==null?void 0:c.fieldCustomizations)==null?void 0:le[Re],ve=((he=c==null?void 0:c.questions)==null?void 0:he[Re])||(V==null?void 0:V.customQuestion)||(Le?l(Le.label):Re),we=(V==null?void 0:V.type)||(Le==null?void 0:Le.type)||"text",oe=Le?l(Le.placeholder):"",re=(V==null?void 0:V.options)||(Le==null?void 0:Le.options);if(we==="select"&&re)return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Re,className:"block text-sm font-medium text-gray-700 mb-1",children:ve}),d.jsxs("select",{id:Re,name:Re,value:f[Re]||"",onChange:ie=>ae(ie.target.name,ie.target.value),className:"w-full p-2 border rounded-md bg-white",required:!0,children:[d.jsx("option",{value:"",children:"--  --"}),V!=null&&V.options?V.options.map(ie=>d.jsx("option",{value:ie,children:ie},ie)):(_e=Le==null?void 0:Le.options)==null?void 0:_e.map(ie=>d.jsx("option",{value:ie.value,children:l(ie.label)},ie.value))]})]},Re);if(we==="multiselect"&&re){const ie=f[Re]?f[Re].split(","):[],ce=(ye,xe)=>{const ke=xe?[...ie,ye]:ie.filter(Ue=>Ue!==ye);ae(Re,ke.filter(Boolean).join(","))};return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:ve}),d.jsx("div",{className:"p-3 border rounded-md space-y-2 bg-gray-50",children:re.map(ye=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",value:ye,checked:ie.includes(ye),onChange:xe=>ce(ye,xe.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("span",{className:"text-gray-800",children:ye})]},ye))})]},Re)}return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Re,className:"block text-sm font-medium text-gray-700 mb-1",children:ve}),we==="file"?d.jsx(zv,{value:f[Re]||"",onChange:ie=>ee(ie)}):d.jsx("input",{type:we,id:Re,name:Re,value:f[Re]||"",onChange:ie=>ae(ie.target.name,ie.target.value),placeholder:oe,className:"w-full p-2 border rounded-md",required:!0})]},Re)})}),d.jsxs("div",{className:"mt-6 pt-4 border-t space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"saveClient",type:"checkbox",checked:g,onChange:Re=>y(Re.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"    "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>de("open"),disabled:p,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:p?d.jsx(Ct,{className:"animate-spin mx-auto"}):""}),d.jsx("button",{onClick:()=>de("print"),disabled:p,className:"flex-1 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:p?d.jsx(Ct,{className:"animate-spin mx-auto"}):""})]})]})]})})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(Re=>d.jsxs("button",{onClick:()=>q(Re),className:"text-right p-6 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-500",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:Re.name}),d.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:Re.description}})]},Re.id))})]})},Xge=({children:t})=>{const{user:e,loading:n}=Dr(),{countryCode:r}=oa();return n?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?d.jsx(xp,{to:`/${r||"dz"}/login`,replace:!0}):t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG="firebasestorage.googleapis.com",tG="storageBucket",Jge=120*1e3,Yge=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends ys{constructor(e,n,r=0){super(xC(e),`Firebase Storage: ${n} (${xC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qr||(qr={}));function xC(t){return"storage/"+t}function iI(){const t="An unknown error occurred, please check the error payload for server response.";return new Gr(qr.UNKNOWN,t)}function Qge(t){return new Gr(qr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Zge(t){return new Gr(qr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e0e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gr(qr.UNAUTHENTICATED,t)}function t0e(){return new Gr(qr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n0e(t){return new Gr(qr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function r0e(){return new Gr(qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i0e(){return new Gr(qr.CANCELED,"User canceled the upload/download.")}function s0e(t){return new Gr(qr.INVALID_URL,"Invalid URL '"+t+"'.")}function a0e(t){return new Gr(qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function o0e(){return new Gr(qr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tG+"' property when initializing the app?")}function l0e(){return new Gr(qr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function c0e(){return new Gr(qr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function u0e(t){return new Gr(qr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function HA(t){return new Gr(qr.INVALID_ARGUMENT,t)}function nG(){return new Gr(qr.APP_DELETED,"The Firebase app was deleted.")}function d0e(t){return new Gr(qr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function J0(t,e){return new Gr(qr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zg(t){throw new Gr(qr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ca.makeFromUrl(e,n)}catch{return new Ca(e,"")}if(r.path==="")return r;throw a0e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},g=n===eG?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${g}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const D=w[C],R=D.regex.exec(e);if(R){const S=R[D.indices.bucket];let N=R[D.indices.path];N||(N=""),r=new Ca(S,N),D.postModify(r);break}}if(r==null)throw s0e(e);return r}}class f0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0e(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,..._){if(c){h();return}if(y){h(),u.call(null,y,..._);return}if(l()||a){h(),u.call(null,y,..._);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,f(w)}let v=!1;function g(y){v||(v=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,g(!0)},n),g}function p0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0e(t){return t!==void 0}function g0e(t){return typeof t=="object"&&!Array.isArray(t)}function sI(t){return typeof t=="string"||t instanceof String}function A9(t){return aI()&&t instanceof Blob}function aI(){return typeof Blob<"u"}function N9(t,e,n,r){if(r<e)throw HA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw HA(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var df;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(df||(df={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0e{constructor(e,n,r,i,s,a,o,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Nx(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===df.NO_ERROR,l=s.getStatus();if(!o||y0e(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===df.ABORT;r(!1,new Nx(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Nx(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());m0e(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=iI();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?nG():i0e();a(l)}else{const l=r0e();a(l)}};this.canceled_?n(!1,new Nx(!1,null,!0)):this.backoffId_=h0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function x0e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function b0e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function T0e(t,e,n,r,i,s,a=!0,o=!1){const l=rG(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return _0e(u,e),x0e(u,n),b0e(u,s),w0e(u,r),new v0e(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function C0e(...t){const e=E0e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(aI())return new Blob(t);throw new Gr(qr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function S0e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0e(t){if(typeof atob>"u")throw u0e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bC{constructor(e,n){this.data=e,this.contentType=n||null}}function A0e(t,e){switch(t){case yl.RAW:return new bC(iG(e));case yl.BASE64:case yl.BASE64URL:return new bC(sG(t,e));case yl.DATA_URL:return new bC(k0e(e),I0e(e))}throw iI()}function iG(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function N0e(t){let e;try{e=decodeURIComponent(t)}catch{throw J0(yl.DATA_URL,"Malformed data URL.")}return iG(e)}function sG(t,e){switch(t){case yl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw J0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw J0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=D0e(e)}catch(i){throw i.message.includes("polyfill")?i:J0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class aG{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw J0(yl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=R0e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function k0e(t){const e=new aG(t);return e.base64?sG(yl.BASE64,e.rest):N0e(e.rest)}function I0e(t){return new aG(t).contentType}function R0e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){let r=0,i="";A9(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(A9(this.data_)){const r=this.data_,i=S0e(r,e,n);return i===null?null:new uu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new uu(r,!0)}}static getBlob(...e){if(aI()){const n=e.map(r=>r instanceof uu?r.data_:r);return new uu(C0e.apply(null,n))}else{const n=e.map(a=>sI(a)?A0e(yl.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new uu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t){let e;try{e=JSON.parse(t)}catch{return null}return g0e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function F0e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0e(t,e){return e}class Ns{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||M0e}}let kx=null;function U0e(t){return!sI(t)||t.length<2?t:lG(t)}function cG(){if(kx)return kx;const t=[];t.push(new Ns("bucket")),t.push(new Ns("generation")),t.push(new Ns("metageneration")),t.push(new Ns("name","fullPath",!0));function e(s,a){return U0e(a)}const n=new Ns("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Ns("size");return i.xform=r,t.push(i),t.push(new Ns("timeCreated")),t.push(new Ns("updated")),t.push(new Ns("md5Hash",null,!0)),t.push(new Ns("cacheControl",null,!0)),t.push(new Ns("contentDisposition",null,!0)),t.push(new Ns("contentEncoding",null,!0)),t.push(new Ns("contentLanguage",null,!0)),t.push(new Ns("contentType",null,!0)),t.push(new Ns("metadata","customMetadata",!0)),kx=t,kx}function O0e(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ca(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function L0e(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return O0e(r,t),r}function uG(t,e,n){const r=oG(e);return r===null?null:L0e(t,r,n)}function j0e(t,e,n,r){const i=oG(e);if(i===null||!sI(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+a(u)+"/o/"+a(f),p=oI(h,n,r),v=rG({alt:"media",token:c});return p+v})[0]}function B0e(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class dG{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(t){if(!t)throw iI()}function V0e(t,e){function n(r,i){const s=uG(t,i,e);return fG(s!==null),s}return n}function W0e(t,e){function n(r,i){const s=uG(t,i,e);return fG(s!==null),j0e(s,i,t.host,t._protocol)}return n}function hG(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=t0e():i=e0e():n.getStatus()===402?i=Zge(t.bucket):n.getStatus()===403?i=n0e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function q0e(t){const e=hG(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Qge(t.path)),s.serverResponse=i.serverResponse,s}return n}function $0e(t,e,n){const r=e.fullServerUrl(),i=oI(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new dG(i,s,W0e(t,n),a);return o.errorHandler=q0e(e),o}function z0e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function H0e(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=z0e(null,e)),r}function G0e(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=H0e(e,r,i),u=B0e(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=uu.getBlob(f,r,h);if(p===null)throw l0e();const v={name:c.fullPath},g=oI(s,t.host,t._protocol),y="POST",_=t.maxUploadRetryTime,x=new dG(g,y,V0e(t,n),_);return x.urlParams=v,x.headers=a,x.body=p.uploadData(),x.errorHandler=hG(e),x}class K0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=df.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=df.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=df.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Zg("cannot .send() more than once");if(Il(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class X0e extends K0e{initXhr(){this.xhr_.responseType="text"}}function pG(){return new X0e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this._service=e,n instanceof Ca?this._location=n:this._location=Ca.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mf(e,n)}get root(){const e=new Ca(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lG(this._location.path)}get storage(){return this._service}get parent(){const e=P0e(this._location.path);if(e===null)return null;const n=new Ca(this._location.bucket,e);return new Mf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d0e(e)}}function J0e(t,e,n){t._throwIfRoot("uploadBytes");const r=G0e(t.storage,t._location,cG(),new uu(e,!0),n);return t.storage.makeRequestWithTokens(r,pG).then(i=>({metadata:i,ref:t}))}function Y0e(t){t._throwIfRoot("getDownloadURL");const e=$0e(t.storage,t._location,cG());return t.storage.makeRequestWithTokens(e,pG).then(n=>{if(n===null)throw c0e();return n})}function Q0e(t,e){const n=F0e(t._location.path,e),r=new Ca(t._location.bucket,n);return new Mf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0e(t){return/^[A-Za-z]+:\/\//.test(t)}function eye(t,e){return new Mf(t,e)}function mG(t,e){if(t instanceof lI){const n=t;if(n._bucket==null)throw o0e();const r=new Mf(n,n._bucket);return e!=null?mG(r,e):r}else return e!==void 0?Q0e(t,e):t}function tye(t,e){if(e&&Z0e(e)){if(t instanceof lI)return eye(t,e);throw HA("To use ref(service, url), the first argument must be a Storage instance.")}else return mG(t,e)}function k9(t,e){const n=e==null?void 0:e[tG];return n==null?null:Ca.makeFromBucketSpec(n,t)}function nye(t,e,n,r={}){t.host=`${e}:${n}`;const i=Il(e);i&&(d_(`https://${t.host}/b`),f_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:NN(s,t.app.options.projectId))}class lI{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=eG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Jge,this._maxUploadRetryTime=Yge,this._requests=new Set,i!=null?this._bucket=Ca.makeFromBucketSpec(i,this._host):this._bucket=k9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ca.makeFromBucketSpec(this._url,e):this._bucket=k9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new f0e(nG());{const a=T0e(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const I9="@firebase/storage",R9="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="storage";function rye(t,e,n){return t=Nt(t),J0e(t,e,n)}function iye(t){return t=Nt(t),Y0e(t)}function sye(t,e){return t=Nt(t),tye(t,e)}function aye(t=nV(),e){t=Nt(t);const r=FN(t,gG).getImmediate({identifier:e}),i=ite("storage");return i&&oye(r,...i),r}function oye(t,e,n,r={}){nye(t,e,n,r)}function lye(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new lI(n,r,i,e,Rl)}function cye(){El(new Ls(gG,lye,"PUBLIC").setMultipleInstances(!0)),Fs(I9,R9,""),Fs(I9,R9,"esm2020")}cye();const uye=()=>{var k;const{user:t}=Dr(),{cafes:e,siteSettings:n,loading:r,refetchCafes:i}=tn(),[s,a]=W.useState(void 0),[o,l]=W.useState(!0),[c,u]=W.useState({name:"",owner:"",street:"",city:"",state:"",description:"",googleMapsUrl:"",latitude:void 0,longitude:void 0,geminiApiKey:"",phone:"",imageUrl:"",coverImageUrl:"",facebook:"",instagram:"",twitter:"",formFillMode:"ai",speechToTextLanguage:"ar-SA",isProfilePublished:!1}),[f,h]=W.useState(""),[p,v]=W.useState(!1),[g,y]=W.useState(!1),[_,x]=W.useState(!1),[w,C]=W.useState("");W.useEffect(()=>{(async()=>{var I,U,O;if(r)return;if(!(t!=null&&t.cafeId)){l(!1);return}l(!0);let P=e.find(G=>G.id===t.cafeId);if(!P){console.warn("Cafe not found in public list, fetching directly...");try{P=await Kk(t.cafeId)||void 0}catch(G){console.error("Failed to fetch cafe details directly:",G),P=void 0}}a(P),P&&u({name:P.name,owner:P.owner,street:P.address.street,city:P.address.city||"",state:P.address.state||"",description:P.description,googleMapsUrl:P.googleMapsUrl||"",latitude:P.address.latitude,longitude:P.address.longitude,geminiApiKey:P.geminiApiKey||"",phone:P.phone||"",imageUrl:P.imageUrl||"",coverImageUrl:P.coverImageUrl||"",facebook:((I=P.socials)==null?void 0:I.facebook)||"",instagram:((U=P.socials)==null?void 0:U.instagram)||"",twitter:((O=P.socials)==null?void 0:O.twitter)||"",formFillMode:P.formFillMode||"ai",speechToTextLanguage:P.speechToTextLanguage||"ar-SA",isProfilePublished:P.isProfilePublished||!1}),l(!1)})()},[t,e,r]);const D=async F=>{if(!F){u(P=>({...P,imageUrl:""}));return}if(!s){C("       .");return}x(!0),C("");try{const P=aye(),I=sye(P,`cafe-profiles/${s.id}/${Date.now()}.jpg`),U=await WH(F,"profile.jpg","image/jpeg"),O=await rye(I,U),G=await iye(O.ref);u(K=>({...K,imageUrl:G}))}catch(P){console.error("Error uploading profile image to Firebase Storage:",P),C("  .    .")}finally{x(!1)}},R=F=>{const{name:P,value:I,type:U}=F.target;if(U==="checkbox"){const{checked:O}=F.target;u(G=>({...G,[P]:O}))}else u(O=>({...O,[P]:I}))},S=()=>{if(!navigator.geolocation){alert("     .");return}v(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:P,longitude:I}=F.coords;u(U=>({...U,latitude:P,longitude:I,googleMapsUrl:`https://www.google.com/maps?q=${P},${I}`})),v(!1)},F=>{console.error("Geolocation error:",F.message||F),alert(`    : ${F.message}`),v(!1)})},N=async F=>{if(F.preventDefault(),!!s){y(!0),h("");try{const P={name:c.name,owner:c.owner,description:c.description,googleMapsUrl:c.googleMapsUrl,geminiApiKey:c.geminiApiKey,phone:c.phone,imageUrl:c.imageUrl,coverImageUrl:c.coverImageUrl,formFillMode:c.formFillMode,speechToTextLanguage:c.speechToTextLanguage,isProfilePublished:c.isProfilePublished,address:{...s.address,street:c.street,city:c.city,state:c.state,latitude:c.latitude,longitude:c.longitude},socials:{facebook:c.facebook,instagram:c.instagram,twitter:c.twitter}};await xme(s.id,P),h("   !"),await i()}catch(P){console.error("Error saving settings:",P),alert("    .")}finally{setTimeout(()=>h(""),5e3),y(!1)}}};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"   ..."})]}):s?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),s&&!s.isProfilePublished&&d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md mb-6 flex items-start gap-3",role:"alert",children:[d.jsx(DH,{className:"h-6 w-6 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   !"}),d.jsx("p",{className:"text-sm",children:'   "  "    " "       .'})]})]}),f&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:f})}),d.jsxs("form",{onSubmit:N,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md bg-green-50 border-green-300",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-green-800",children:"  "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2",children:[d.jsx("input",{type:"checkbox",name:"isProfilePublished",checked:c.isProfilePublished,onChange:R,className:"h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx("span",{className:"font-medium text-gray-800",children:c.isProfilePublished?"    ":"   "})]}),d.jsx("p",{className:"text-xs text-gray-600 px-2",children:"              .        ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"owner",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"owner",id:"owner",value:c.owner,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:c.phone,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("div",{className:"mt-1 flex justify-start p-4 border-2 border-gray-300 border-dashed rounded-md",children:d.jsx(zv,{value:vi(c.imageUrl),onChange:D})}),_&&d.jsxs("p",{className:"text-sm text-blue-600 mt-2 flex items-center gap-2",children:[d.jsx(Ct,{className:"animate-spin"}),"   ..."]}),w&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:w})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.countryCode!=="dz"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),d.jsx("input",{type:"text",name:"state",id:"state",value:c.state,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",name:"city",id:"city",value:c.city,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"street",id:"street",value:c.street,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),s.countryCode==="dz"&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",s.address.commune,", ",s.address.daira,", ",s.address.wilaya,".",d.jsx("br",{}),"      ."]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"googleMapsUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"url",name:"googleMapsUrl",id:"googleMapsUrl",value:c.googleMapsUrl,onChange:R,placeholder:"https://maps.app.goo.gl/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:S,disabled:p,className:"flex-shrink-0 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-wait",children:p?"... ":"  "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Google Maps       ."})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coverImageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"url",name:"coverImageUrl",id:"coverImageUrl",value:c.coverImageUrl,onChange:R,placeholder:"https://example.com/cover.jpg",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("textarea",{name:"description",id:"description",rows:4,value:c.description,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"           ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",id:"facebook",value:c.facebook,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",id:"instagram",value:c.instagram,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",id:"twitter",value:c.twitter,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("div",{className:"flex gap-x-6 gap-y-2 flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"ai",checked:c.formFillMode==="ai",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   ()"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"json",checked:c.formFillMode==="json",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   JSON ( )"})]})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.jsx("strong",{children:"  :"}),"    . ",d.jsx("br",{}),d.jsx("strong",{children:"  JSON:"}),"         (          )."]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("label",{htmlFor:"speechToTextLanguage",className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("select",{id:"speechToTextLanguage",name:"speechToTextLanguage",value:c.speechToTextLanguage,onChange:F=>u(P=>({...P,speechToTextLanguage:F.target.value})),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md bg-white",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"}),d.jsx("option",{value:"de-DE",children:"Deutsch"}),d.jsx("option",{value:"es-ES",children:"Espaol"}),d.jsx("option",{value:"tr-TR",children:"Trke"}),d.jsx("option",{value:"ja-JP",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"            ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" Gemini API"}),d.jsx("div",{className:"mt-4",children:(k=n==null?void 0:n.ai)!=null&&k.useAdminKey?d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md text-blue-800",children:[d.jsx("p",{className:"font-semibold",children:"  Gemini API:"}),d.jsx("p",{className:"text-sm",children:"             .       API  ."})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:" Gemini API  "}),d.jsx("input",{type:"password",name:"geminiApiKey",id:"geminiApiKey",value:c.geminiApiKey,onChange:R,placeholder:"  Gemini API   ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),c.geminiApiKey?d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         .       ."}):d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800 text-sm",children:[d.jsx("strong",{children:":"}),"       API       ."]})]})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-8",children:[d.jsx(Zt,{to:`/${s.countryCode}/profile/${s.numericId}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-200 transition-colors",children:"  "}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-wait",children:g?" ...":" "})]})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"      .        ."})]})},dye=({onClose:t,onCapture:e})=>{const n=W.useRef(null),r=W.useRef(null),[i,s]=W.useState(null);W.useEffect(()=>((async()=>{s(null);try{const l=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,facingMode:"environment"}});r.current=l,n.current&&(n.current.srcObject=l)}catch(l){console.error("Error accessing camera:",l),l instanceof DOMException&&(l.name==="NotAllowedError"||l.name==="PermissionDeniedError")?s("    .      ."):s("    .          .")}})(),()=>{r.current&&r.current.getTracks().forEach(l=>l.stop())}),[]);const a=()=>{if(n.current){const o=document.createElement("canvas");o.width=n.current.videoWidth,o.height=n.current.videoHeight;const l=o.getContext("2d");l==null||l.drawImage(n.current,0,0,o.width,o.height),o.toBlob(c=>{if(c){const u=new File([c],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});e(u)}},"image/jpeg",.95)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:i?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:i})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:a,disabled:!!i,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:" "}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},fye=({onPeopleAdded:t})=>{const[e,n]=W.useState(!1),[r,i]=W.useState(!1),[s,a]=W.useState(null),[o,l]=W.useState([]),c=W.useRef(null),[u,f]=W.useState(!1),h=y=>{const _=y.target.files;_&&l(x=>[...x,...Array.from(_)])},p=y=>{l(_=>[..._,y])},v=y=>{l(_=>_.filter((x,w)=>w!==y))},g=async()=>{if(o.length===0){alert("     .");return}i(!0),a(null);try{const y=async w=>{try{const C=new FileReader,D=await new Promise(N=>{C.onloadend=()=>N(C.result.split(",")[1]),C.readAsDataURL(w)}),R="From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.",S={type:"OBJECT",properties:{lastName:{type:"STRING"},firstName:{type:"STRING"},dateOfBirth:{type:"STRING"},placeOfBirth:{type:"STRING"},nationalId:{type:"STRING"},birthCertificateNumber:{type:"STRING"},socialSecurityNumber:{type:"STRING"},nationality:{type:"STRING"},maritalStatus:{type:"STRING"}}};return await rI(D,w.type,S,R)}catch(C){return console.error(`Error processing file ${w.name}:`,C),null}},x=(await Promise.all(o.map(y))).filter(w=>w&&(w.firstName||w.lastName)).map(w=>{const C=`${w.firstName||""} ${w.lastName||""}`.trim();return{name:C,formData:{fullName:C,dob:w.dateOfBirth||"",pob:w.placeOfBirth||"",nationalId:w.nationalId||"",birthCertificateNumber:w.birthCertificateNumber||"",socialSecurityNumber:w.socialSecurityNumber||"",nationality:w.nationality||"",maritalStatus:w.maritalStatus||""}}});if(x.length===0)throw new Error("         .      .");t(x),l([])}catch(y){console.error("Error processing ID cards:",y);const _=y instanceof Error?y.message:"An unknown error occurred.";a(` : ${_}`)}finally{i(!1)}};return d.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200 my-4",children:[u&&d.jsx(dye,{onClose:()=>f(!1),onCapture:p}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:y=>n(y.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx(FH,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold",children:"     "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[d.jsx("input",{type:"file",ref:c,onChange:h,accept:"image/*",className:"hidden",multiple:!0}),d.jsxs("button",{type:"button",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(kl,{}),d.jsx("span",{children:"  "})]}),d.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Hm,{}),d.jsx("span",{children:"  "})]})]}),o.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold mb-2",children:["  (",o.length,"):"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:o.map((y,_)=>d.jsxs("div",{className:"relative group aspect-square",children:[d.jsx("img",{src:URL.createObjectURL(y),alt:`ID Card ${_+1}`,className:"w-full h-full object-cover rounded-md"}),d.jsx("button",{type:"button",onClick:()=>v(_),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity text-xs","aria-label":"Remove image",children:d.jsx(Gm,{})})]},_))}),d.jsx("button",{type:"button",onClick:g,disabled:r,className:"w-full mt-4 flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Ct,{className:"animate-spin"}),d.jsxs("span",{children:[" ... (",o.length," )"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(age,{}),d.jsx("span",{children:"    "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},P9=window.SpeechRecognition||window.webkitSpeechRecognition,F9=({value:t,onChange:e,placeholder:n,suggestions:r,onSuggestionClick:i})=>{const[s,a]=W.useState(!1),o=W.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition;W.useEffect(()=>{if(l)return o.current=new l,o.current.continuous=!1,o.current.interimResults=!1,o.current.lang="ar-SA",o.current.onresult=f=>{e(f.results[0][0].transcript)},o.current.onend=()=>a(!1),()=>{var f;return(f=o.current)==null?void 0:f.abort()}},[e,l]);const c=()=>{l&&!s&&(o.current.start(),a(!0))},u=f=>{var h,p;f.stopPropagation(),s?(h=o.current)==null||h.stop():(p=o.current)==null||p.start(),a(v=>!v)};return d.jsxs("div",{className:"relative w-full",children:[d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),onFocus:c,placeholder:n,className:"w-full p-3 pr-10 border rounded-md focus:ring-green-500 bg-gray-700 text-white placeholder-gray-400 border-gray-600 focus:border-green-500"}),l&&d.jsx("button",{type:"button",onClick:u,className:`absolute top-1/2 right-2 -translate-y-1/2 p-2 rounded-full ${s?"text-red-500 animate-pulse":"text-gray-400"}`,children:d.jsx(vc,{})}),r&&r.length>0&&d.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-y-auto",children:r.map(f=>d.jsx("li",{onMouseDown:()=>i==null?void 0:i(f),className:"px-4 py-2 cursor-pointer hover:bg-green-50",children:f.name},f.id))})]})},hye=()=>{const{fullDocuments:t,loadingFullDocuments:e,sites:n}=tn(),[r,i]=W.useState([]),[s,a]=W.useState(!1),[o,l]=W.useState(""),[c,u]=W.useState(""),[f,h]=W.useState([]),[p,v]=W.useState(0),[g,y]=W.useState(!1),[_,x]=W.useState(!1),w=W.useRef(null),C=W.useRef(""),[D,R]=W.useState(!1),[S,N]=W.useState(!1),[k,F]=W.useState(""),P=W.useMemo(()=>[...t,...n],[t,n]),I=W.useMemo(()=>{if(!c)return[];const B=c.toLowerCase();return P.filter(j=>j.name.toLowerCase().includes(B))},[c,P]),U=B=>{f.find(j=>j.id===B.id)||h(j=>[...j,B]),u("")},O=B=>{h(j=>j.filter(q=>q.id!==B))},G=()=>{if(!o.trim()||f.length===0){alert("        .");return}const B={id:Date.now(),name:o,documentIds:f.map(j=>j.id),formData:{fullName:o},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),l(""),h([]),u(""),a(!1)},K=r[p];W.useMemo(()=>{if(!K)return[];const B=new Set,j=[];return t.filter(q=>K.documentIds.includes(q.id)).forEach(q=>{q.requiredFields&&q.requiredFields.forEach(X=>{var Q,ee,ae;if(X!=="fullName"&&!B.has(X)){B.add(X);const fe=Object.prototype.hasOwnProperty.call(ei,X)?ei[X]:null,Ne=((Q=q.questions)==null?void 0:Q[X])||((ae=(ee=q.fieldCustomizations)==null?void 0:ee[X])==null?void 0:ae.customQuestion)||(fe==null?void 0:fe.label)||X;j.push({id:X,label:Ne})}})}),j},[K,t]);const J=W.useCallback(B=>{i(j=>j.map((q,X)=>X===p?{...q,transcribedText:B}:q))},[p]);W.useEffect(()=>{if(!P9)return;w.current=new P9;const B=w.current;return B.continuous=!0,B.interimResults=!0,B.lang="ar-SA",B.onresult=j=>{let q="",X="";for(let ee=j.resultIndex;ee<j.results.length;++ee){const ae=j.results[ee][0].transcript;j.results[ee].isFinal?q+=ae+" ":X+=ae}const Q=(C.current?C.current+" ":"")+q+X;J(Q.trim())},B.onend=()=>x(!1),()=>{var j;return(j=w.current)==null?void 0:j.abort()}},[J]);const te=()=>{if(k.trim()===""){alert("   .");return}const B={id:Date.now(),name:k,documentIds:[],formData:{},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),F("")},z=B=>i(j=>j.filter(q=>q.id!==B)),Y=(B,j)=>{i(r.map(q=>{if(q.id===B){const X=q.documentIds.includes(j)?q.documentIds.filter(Q=>Q!==j):[...q.documentIds,j];return{...q,documentIds:X}}return q}))};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):g?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:()=>y(!1),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:"   "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>v(B=>(B-1+r.length)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Previous Person",children:d.jsx(yw,{})}),d.jsxs("span",{className:"font-semibold text-lg text-center",style:{minWidth:"200px"},children:[" ",p+1,"/",r.length,": ",K==null?void 0:K.name]}),d.jsx("button",{onClick:()=>v(B=>(B+1)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Next Person",children:d.jsx(gw,{})})]}),d.jsx("div",{})]}),d.jsxs("div",{className:"p-4 bg-gray-50 border rounded-lg",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2",children:[" ",K==null?void 0:K.name]}),d.jsx("div",{className:"text-center text-gray-500 py-8",children:"(     )"})]})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"space-y-4",children:r.map((B,j)=>d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-lg text-green-800",children:[j+1,". ",B.name]}),d.jsxs("p",{className:"text-sm text-green-700",children:[": ",B.documentIds.map(q=>{var X;return(X=P.find(Q=>Q.id===q))==null?void 0:X.name}).join(", ")||"    "]})]}),d.jsx("button",{onClick:()=>i(q=>q.filter(X=>X.id!==B.id)),className:"text-red-500 hover:text-red-700",children:d.jsx(Gm,{})})]},B.id))}),s?d.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 mt-4 space-y-3 animate-fadeIn",children:[d.jsx("h3",{className:"font-bold text-white",children:"  "}),d.jsx(F9,{value:o,onChange:l,placeholder:"  ..."}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(F9,{value:c,onChange:u,placeholder:"    ...",suggestions:I,onSuggestionClick:U}),d.jsx("button",{onClick:()=>U(I[0]),disabled:!c||I.length===0,className:"bg-gray-600 text-white px-4 rounded-md hover:bg-gray-500 disabled:opacity-50",children:""})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(B=>d.jsxs("div",{className:"flex items-center gap-1 bg-gray-200 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:B.name}),d.jsx("button",{onClick:()=>O(B.id),className:"text-red-500",children:d.jsx(Ff,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:G,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "}),d.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:""})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700",children:[d.jsx(sc,{}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"mt-8 pt-4 border-t",children:d.jsxs("button",{onClick:()=>{y(!0),v(0)},disabled:r.length===0,className:"w-full bg-green-600 text-white font-bold text-lg py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:["    ",r.length," "]})}),d.jsxs("details",{className:"mt-8",children:[d.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-black",children:"  ( )"}),d.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[d.jsx(fye,{onPeopleAdded:()=>{}}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border my-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"  ()"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"text",value:k,onChange:B=>F(B.target.value),placeholder:"  ",className:"flex-grow p-3 border rounded-md"}),d.jsx("button",{onClick:te,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]}),d.jsx("div",{className:"space-y-6",children:r.map(B=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:B.name}),d.jsx("button",{onClick:()=>z(B.id),className:"text-red-500 hover:text-red-700 font-bold px-3 py-1 rounded-md hover:bg-red-100",children:" "})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(j=>d.jsx("button",{onClick:()=>Y(B.id,j.id),className:`p-3 text-sm border rounded-md text-right transition-colors ${B.documentIds.includes(j.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-white hover:bg-gray-100"}`,children:j.name},j.id))})]},B.id))})]})]})]})},M9=[{amount:2e3,label:"2,000 "},{amount:5e3,label:"5,000 "},{amount:1e4,label:"10,000 "}],pye=2e3,mye=[{amount:10,label:"$10.00"},{amount:50,label:"$50.00"},{amount:100,label:"$100.00"}],gye=10,yye=()=>{const{user:t}=Dr(),{siteSettings:e}=tn(),[n,r]=W.useState([]),[i,s]=W.useState(null),[a,o]=W.useState(!0),[l,c]=W.useState(M9[0].amount),[u,f]=W.useState(""),[h,p]=W.useState(""),[v,g]=W.useState(null),[y,_]=W.useState(0),[x,w]=W.useState(null),[C,D]=W.useState(!1),R=(t==null?void 0:t.countryCode)==="dz",S=R?"DZD":"USD",N=R?"":"$",k=R?M9:mye,F=R?pye:gye,P=W.useMemo(()=>l||parseInt(u)||0,[l,u]);W.useEffect(()=>{(async()=>{if(t){o(!0);try{const[z,Y]=await Promise.all([Eme(t.id),Tme(t.id)]);r(z),s(Y.find(B=>B.status==="Pending")||null)}catch(z){console.error("Failed to fetch billing data:",z),g({type:"error",message:"    ."})}finally{o(!1)}}})()},[t,y]);const I=te=>{te.target.files&&te.target.files[0]&&w(te.target.files[0])},U=async()=>{if(!t||!P||P<F){g({type:"error",message:`    ${F} ${N}.`});return}if(!x){g({type:"error",message:"      ."});return}D(!0),g(null);let te;try{g({type:"success",message:"   ..."}),te=await vm(x);const z=await g9(t.id,P,S,"CCP",te);g({type:z.success?"success":"error",message:z.message}),z.success&&(c(null),f(""),w(null),_(Y=>Y+1))}catch(z){console.error("Error creating payment request:",z),g({type:"error",message:"    .    ."})}finally{D(!1)}setTimeout(()=>g(null),5e3)},O=async()=>{if(!t||!(e!=null&&e.payment.paypalEmail)||!P||P<F){g({type:"error",message:`The minimum amount is ${F} ${N}.`});return}const te=await g9(t.id,P,S,"PayPal");if(!te.success){g({type:"error",message:te.message});return}const Y=`https://www.paypal.com/cgi-bin/webscr?${new URLSearchParams({business:e.payment.paypalEmail,item_name:`Gitut Credits for ${t.email}`,amount:P.toFixed(2),currency_code:"USD",no_shipping:"1",return:window.location.href,cancel_return:window.location.href,cmd:"_xclick"}).toString()}`;window.open(Y,"_blank"),_(B=>B+1)},G=te=>{c(te),f(""),p("")},K=te=>{const z=te.target.value;f(z),c(null),z&&parseInt(z)<F?p(`    ${F} ${N}.`):p("")},J=te=>{switch(te){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return a?d.jsx("div",{children:"   ..."}):t?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),v&&d.jsx("div",{className:`p-4 mb-4 rounded-md ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsxs("div",{className:"text-5xl font-bold text-green-600 font-mono",children:[t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:S==="USD"?2:0}),d.jsxs("span",{className:"text-3xl",children:[" ",N]})]}),d.jsx("p",{className:"text-gray-500 mt-2",children:"        ."})]}),i?d.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-300 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-yellow-800",children:"     "}),d.jsxs("p",{className:"text-yellow-700 mt-2",children:["      ",d.jsxs("strong",{className:"font-mono",children:[i.amount.toLocaleString()," ",i.currency==="USD"?"$":""]}),"  ",(typeof i.date=="string"?new Date(i.date):i.date.toDate()).toLocaleDateString("ar-DZ"),".         ."]})]}):d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsx("p",{className:"text-gray-600 mb-4",children:" 1:        ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:k.map(te=>d.jsx("button",{onClick:()=>G(te.amount),className:`p-4 border-2 rounded-lg text-center transition-all ${l===te.amount?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-300 bg-white hover:border-green-400"}`,children:d.jsx("p",{className:"text-2xl font-bold font-mono",children:te.label})},te.amount))}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),d.jsx("input",{type:"number",id:"customAmount",value:u,onChange:K,placeholder:`  (  ${F} ${N})`,min:F,className:`block w-full px-3 py-2 bg-white border rounded-md shadow-sm focus:outline-none focus:ring-green-500 ${h?"border-red-500":"border-gray-300"}`}),h&&d.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),P>=F&&d.jsx("div",{className:"bg-gray-100 p-6 rounded-lg border-2 border-dashed border-gray-300",children:R?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 2:  "}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["     ",d.jsxs("strong",{className:"font-mono",children:[P.toLocaleString("ar-DZ")," "]}),"   ."]}),d.jsxs("div",{className:"bg-white p-4 rounded-md flex flex-col gap-2 text-right",children:[d.jsxs("p",{className:"font-bold text-lg",children:[" : ",e==null?void 0:e.payment.baridiMob]}),d.jsxs("p",{className:"font-bold text-lg",children:["CCP / BaridiMob: ",e==null?void 0:e.payment.ccp]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 3:   "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"     .              ."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex-grow bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer text-center",children:[d.jsx("span",{children:x?` : ${x.name}`:" "}),d.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),x&&d.jsx("img",{src:URL.createObjectURL(x),alt:"Preview",className:"h-12 w-12 rounded-md object-cover border"})]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 4:  "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"        .          ."}),d.jsxs("button",{onClick:U,disabled:C,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center gap-2",children:[C?d.jsx(Ct,{className:"animate-spin"}):null,C?"  ...":"     "]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 2: Pay with PayPal"}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["Click the button below to pay ",d.jsxs("strong",{className:"font-mono",children:["$",P.toFixed(2)," USD"]})," securely with PayPal."]}),d.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center gap-3 bg-[#00457C] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#003057]",children:[d.jsx(Vme,{size:24}),d.jsx("span",{children:"Pay with PayPal"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation."})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(te=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800",children:te.id}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof te.date=="string"?new Date(te.date):te.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[te.amount.toLocaleString()," ",te.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:J(te.status)})]},te.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]}):d.jsx("div",{children:"    ."})},vye=()=>{const[t,e]=W.useState(""),[n,r]=W.useState(""),[i,s]=W.useState(""),a=Ti(),{login:o}=$v(),l=async c=>{if(c.preventDefault(),s(""),!t||!n){s("   .");return}if(o(t,n))try{await Lr.signInWithEmailAndPassword(t,n),a("/admin/app")}catch(f){console.error("Firebase admin login failed:",f),s("      Firebase.         Firebase Authentication.")}else s("   .")};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"  "}),d.jsx("p",{className:"text-center text-gray-500 mb-6",children:"     ."}),i&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:i}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"admin@gitut.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"password",id:"password",value:n,onChange:c=>r(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})]})})},xye=()=>{const{admin:t,logout:e}=$v(),{useAdminChatManager:n}=th(),{unreadConversationsCount:r}=n(),i=Ti(),s=()=>{e(),Lr.signOut(),i("/admin/login")},a="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",o="bg-green-600 text-white",l="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.email)||"admin@gitut.com"})]}),d.jsxs("nav",{className:"flex flex-col gap-2 flex-grow",children:[d.jsxs(Yn,{to:"/admin/app",end:!0,className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"users",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-12 0v2"})}),d.jsx("span",{children:" "})]}),d.jsx(Yn,{to:"chat",className:({isActive:c})=>`${a} ${c?o:l}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Zk,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(Yn,{to:"billing",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"documents",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"document-studio",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"excel-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(MH,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"document-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(Qk,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"base-templates",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(Hme,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"static-docs",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"sites",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"data",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"border-t my-2"}),d.jsxs(Yn,{to:"pages",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"blog",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"ads",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(Yn,{to:"seo",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:"  (SEO)"})]}),d.jsxs(Yn,{to:"settings",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t",children:d.jsxs("button",{onClick:s,className:`${a} ${l} w-full`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),d.jsx("span",{children:" "})]})})]})},bye=()=>{const{loadFullDocuments:t,loading:e}=tn(),{admin:n}=$v(),{user:r,loading:i}=Dr(),a=Sr().pathname.includes("document-studio");return W.useEffect(()=>{n&&r&&t()},[t,n,r]),e||i?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(xye,{}),d.jsx("main",{className:"flex-1 w-full",children:d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:d.jsx(TN,{})})})]})},_ye=({children:t})=>{const{admin:e}=$v();return e?t:d.jsx(xp,{to:"/admin/login",replace:!0})},wye=()=>{const[t,e]=W.useState(0),[n,r]=W.useState(0),[i,s]=W.useState({DZD:0,USD:0}),[a,o]=W.useState(!0),[l,c]=W.useState(!1),[u,f]=W.useState(""),{refetchAdminData:h}=tn();W.useEffect(()=>{(async()=>{o(!0);try{const[g,y,_]=await Promise.all([jA(),LA(),m9()]),x=g.filter(w=>w.status==="Pending").length;r(x),e(y.length),s(_)}catch(g){console.error("Failed to fetch dashboard data:",g)}finally{o(!1)}})()},[]);const p=async()=>{c(!0),f("     ...");try{await h();const[v,g,y]=await Promise.all([jA(),LA(),m9()]);r(v.filter(_=>_.status==="Pending").length),e(g.length),s(y),f("  !")}catch(v){console.error("Manual refresh failed:",v),f(" .     .")}finally{c(!1),setTimeout(()=>f(""),5e3)}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),d.jsxs("button",{onClick:p,disabled:l,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-wait",children:[d.jsx(nge,{className:l?"animate-spin":""}),d.jsx("span",{children:l?" ...":" "})]})]}),u&&d.jsx("div",{className:`p-3 mb-4 rounded-md text-center ${u.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:t}),d.jsx(Zt,{to:"/admin/app/users",className:"text-green-600 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-yellow-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:n}),d.jsx(Zt,{to:"/admin/app/billing",className:"text-yellow-700 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-green-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:" ( )"}),a?d.jsx("p",{className:"text-4xl font-bold text-green-900 font-mono",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-4xl font-bold text-green-900 font-mono",children:[i.DZD.toLocaleString("ar-DZ")," ",d.jsx("span",{className:"text-2xl",children:""})]}),i.USD>0&&d.jsxs("p",{className:"text-xl font-bold text-green-800 font-mono mt-1",children:["+ ",i.USD.toLocaleString("en-US",{style:"currency",currency:"USD"})]})]}),d.jsx("p",{className:"text-green-700 mt-4",children:i.DZD===0&&i.USD===0?"     .":"    ."})]})]})]})},Tye=()=>{const[t,e]=W.useState([]),{cafes:n,loading:r}=tn(),[i,s]=W.useState(!0);W.useEffect(()=>{s(!0),LA().then(e).finally(()=>s(!1))},[]);const a=(l,c)=>{let u="";c==="Suspended"&&(u=prompt("    :")||"   ."),e(f=>f.map(h=>h.id===l?{...h,status:c,suspensionReason:c==="Suspended"?u:void 0}:h))},o=l=>{switch(l){case"Active":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Suspended":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return r||i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(l=>{const c=n.find(u=>u.id===l.cafeId);return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:(c==null?void 0:c.name)||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:l.email}),d.jsx("td",{className:"p-3",title:l.suspensionReason,children:o(l.status)}),d.jsx("td",{className:"p-3",children:l.status==="Active"?d.jsx("button",{onClick:()=>a(l.id,"Suspended"),className:"text-red-600 hover:underline text-sm font-semibold",children:""}):d.jsx("button",{onClick:()=>a(l.id,"Active"),className:"text-green-600 hover:underline text-sm font-semibold",children:" "})})]},l.id)})})]})})})]})},Eye=()=>{const[t,e]=W.useState([]),[n,r]=W.useState([]),[i,s]=W.useState(!0),[a,o]=W.useState(0);W.useEffect(()=>{(async()=>{s(!0);try{const[h,p]=await Promise.all([jA(),Cme()]);e(h),r(p)}catch(h){console.error("Failed to fetch admin billing data:",h),alert("    .")}finally{s(!1)}})()},[a]);const l=async f=>{if(window.confirm(`           ${f.amount} ${f.currency}  "${f.userCafeName}"`))try{const p=await Sme(f);if(p.success)alert("      !"),o(v=>v+1);else throw new Error(p.message)}catch(p){console.error("Failed to approve payment:",p),alert(`  : ${p.message}`)}},c=f=>{switch(f){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Approved":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:" "})}},u=f=>{switch(f){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return i?d.jsx("div",{children:"  ..."}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"    "}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"   "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:":  PayPal        PayPal    ."}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3 text-gray-600",children:f.method}),d.jsx("td",{className:"p-3",children:f.proofOfPaymentUrl?d.jsx("a",{href:vi(f.proofOfPaymentUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:" "}):d.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),d.jsx("td",{className:"p-3",children:c(f.status)}),d.jsx("td",{className:"p-3",children:f.status==="Pending"&&d.jsx("button",{onClick:()=>l(f),className:"bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700",children:""})})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center p-6 text-gray-500",children:"     ."})})})]})})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:u(f.status)})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]})},Cye=()=>{const{siteSettings:t}=tn(),[e,n]=W.useState(t||Nn),[r,i]=W.useState(""),[s,a]=W.useState({current:"",new:"",confirm:""}),[o,l]=W.useState(!1);W.useEffect(()=>{if(t){const f={...Nn,...t,payment:{...Nn.payment,...t.payment||{}},pricing:{...Nn.pricing,...t.pricing||{}},seo:{...Nn.seo,...t.seo||{}},social:{...Nn.social,...t.social||{}},ads:{...Nn.ads,...t.ads||{}},ai:{...Nn.ai,...t.ai||{}}};n(f)}},[t]);const c=f=>{const{name:h,value:p,type:v,checked:g}=f.target,y=h.split("."),_=v==="checkbox"?g:v==="number"?parseFloat(p)||0:p;n(x=>{if(!x)return Nn;const w=JSON.parse(JSON.stringify(x));if(y.length===3){const[C,D,R]=y;w[C]||(w[C]={}),w[C][D]||(w[C][D]={}),w[C][D][R]=_}else if(y.length===2){const[C,D]=y;w[C]||(w[C]={}),w[C][D]=_}return w})},u=async f=>{if(f.preventDefault(),!!e){l(!0),i("");try{const h={payment:e.payment,pricing:e.pricing,ads:e.ads,ai:e.ai};await _H(h),i("    !")}catch(h){console.error("Error saving settings:",h),alert("    .     .")}finally{l(!1),setTimeout(()=>i(""),5e3)}}};return e?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),r&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:r})}),d.jsxs("form",{onSubmit:u,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.dzd",value:e.pricing.dynamicDocument.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.usd",value:e.pricing.dynamicDocument.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.dzd",value:e.pricing.siteFormFill.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.usd",value:e.pricing.siteFormFill.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.dzd",value:e.pricing.staticDocumentDownload.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.usd",value:e.pricing.staticDocumentDownload.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" CCP"}),d.jsx("input",{type:"text",name:"payment.ccp",value:e.payment.ccp,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BaridiMob ( )"}),d.jsx("input",{type:"text",name:"payment.baridiMob",value:e.payment.baridiMob,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" PayPal"}),d.jsx("input",{type:"email",name:"payment.paypalEmail",value:e.payment.paypalEmail,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"  (1 USD = ? DZD)"}),d.jsx("input",{type:"number",name:"payment.exchangeRate",value:e.payment.exchangeRate,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"payment.paypalEnabled",checked:e.payment.paypalEnabled,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"   PayPal ( )"})]})})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   (Gemini)"}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" API   (Master Key)"}),d.jsx("input",{type:"password",name:"ai.apiKey",value:e.ai.apiKey||"",onChange:c,placeholder:"  Gemini API   ",className:"mt-1 block w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'      .         "secret"   Cloudflare Worker       .'})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"ai.useAdminKey",checked:e.ai.useAdminKey||!1,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"    "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"                  API     .         ."})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t mt-8",children:d.jsx("button",{type:"submit",disabled:o,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:o?" ...":" "})})]})]}):d.jsx("div",{children:"  ..."})},Ba=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",Sye=(t,e,n,r,i)=>{var F,P,I,U;const s=i==="ar"?"rtl":"ltr",a=t==="default",o=a?"dz":t,l=((F=e==null?void 0:e.seo)==null?void 0:F[t])||((P=e==null?void 0:e.seo)==null?void 0:P.default)||Nn.seo.default,c=((I=e==null?void 0:e.social)==null?void 0:I[t])||((U=e==null?void 0:e.social)==null?void 0:U.default)||Nn.social.default,u=rd(i),f=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,h=l.metaDescription,p=String(l.mainPageTitle),v=String(l.mainPageSubtitle),g="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEimLwMLs6qcyccDKdYEHdje2p1XUaPI8S-9PAJYncZ3wzSoXugwzzDao7WN8Sf20JrNVWgqaZQ5ccW1qCjeGWWK4lSmIKMLrSzQ271AUWJ0SkxU-QozTrUR7weQOk4sJBRohL_82XOZKKsyKla87ptSbvzjJn6tgDwb2qU-vHpDGxE1tX3fyG5Jqiev-nY/64b156e3-b2fb-4528-8151-80f70afdc68f.jpg",y=`https://gitut.com/${a?"":t+"/"}`,_=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,x=`
      <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
          <a href="/${a?"":o+"/"}" class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg>
            <span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span>
          </a>
          <nav class="flex items-center gap-6">
            <a href="/${o}/" class="text-gray-700 hover:text-green-600 font-semibold">${u("header.search")}</a>
            <a href="/${o}/login/" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${u("header.login")}</a>
          </nav>
        </div>
      </header>
    `;let w="";e!=null&&e.footerPages?w=e.footerPages.filter(O=>O.lang===i||!O.lang&&i==="ar").map(O=>`<a href="/${o}/page/${O.slug}/" class="hover:text-green-600 hover:underline">${Ba(O.title)}</a>`).join(""):n&&n.length>0&&(w=n.filter(G=>G.enabled&&(G.lang===i||!G.lang&&i==="ar")).map(G=>`<a href="/${o}/page/${G.slug}/" class="hover:text-green-600 hover:underline">${Ba(G.title)}</a>`).join(""));const C=r.some(O=>O.enabled&&O.content&&O.content[i]),D=i==="ar"?"/blog/":`/blog/${i}/`,R=C?`<a href="${D}" class="hover:text-green-600 hover:underline">${u("footer.blog")}</a>`:"",S=`
        <div class="flex justify-center gap-6 mt-4">
            ${c.facebook?`<a href="${c.facebook}" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg></a>`:""}
            ${c.twitter?`<a href="${c.twitter}" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-blue-400"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg></a>`:""}
            ${c.instagram?`<a href="${c.instagram}" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-pink-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>`:""}
        </div>
    `,N=`
      <footer class="bg-white border-t mt-auto">
        <div class="container mx-auto px-4 py-8 text-center">
          <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600 mb-4">
            ${w}
            <a href="/${o}/services/" class="hover:text-green-600 hover:underline">${u("footer.services")}</a>
            ${R}
          </nav>
          ${S}
          <p class="text-gray-500 text-sm mt-4">&copy; ${new Date().getFullYear()} ${Ba(String(l.siteName))}. ${u("footer.rightsReserved")}</p>
        </div>
      </footer>
    `,k=`
      <div class="flex flex-col min-h-screen bg-gray-100">
        ${x}
        <main class="flex-grow container mx-auto px-4 py-8">
          <section class="text-center p-8 md:p-10 bg-white rounded-xl shadow-lg">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">${Ba(p)}</h1>
            <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto">${Ba(v)}</p>
          </section>
          <div id="root" class="mt-8">
            <p class="text-center text-gray-500">   ...</p>
          </div>
        </main>
        ${N}
      </div>
    `;return`
      <!DOCTYPE html>
      <html lang="${i}" dir="${s}">
      <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>${Ba(f)}</title>
          <meta name="description" content="${Ba(h)}" />
          <meta property="og:type" content="website"><meta property="og:url" content="${y}"><meta property="og:title" content="${Ba(f)}"><meta property="og:description" content="${Ba(h)}"><meta property="og:image" content="${g}"><meta property="og:image:secure_url" content="${g}"><meta property="og:image:width" content="640"><meta property="og:image:height" content="640"><meta property="og:site_name" content="${Ba(String(l.siteName))}">
          <meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="${y}"><meta name="twitter:title" content="${Ba(f)}"><meta name="twitter:description" content="${Ba(h)}"><meta name="twitter:image" content="${g}">
          <link rel="icon" type="image/png" href="https://cyber-m.pages.dev/data/image/icon.png">
          <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
          <script src="https://cdn.tailwindcss.com/3.4.1"><\/script>
          <style>body { font-family: 'Cairo', sans-serif; }</style>
          ${_}
          <script type="module">import("/index.tsx");<\/script>
      </head>
      <body class="bg-gray-100">${k}</body>
      </html>
    `},Dye=()=>{var x,w,C,D;const{siteSettings:t,pages:e,blogPosts:n}=tn(),[r,i]=W.useState(Nn),[s,a]=W.useState(""),[o,l]=W.useState(!1),[c,u]=W.useState("default"),[f,h]=W.useState(new Set);W.useEffect(()=>{i(t?{...Nn,...t,seo:{...Nn.seo,...t.seo||{}},social:{...Nn.social,...t.social||{}}}:Nn)},[t]);const p=(R,S)=>{const{name:N,value:k}=R.target;h(F=>new Set(F).add(c)),i(F=>{const P=JSON.parse(JSON.stringify(F));return S==="seo"?(P.seo||(P.seo={}),P.seo[c]||(P.seo[c]={...Nn.seo.default}),P.seo[c][N]=k):(P.social||(P.social={}),P.social[c]||(P.social[c]={...Nn.social.default}),P.social[c][N]=k),P})},v=async R=>{if(R.preventDefault(),!!r){l(!0),a("");try{await _H({seo:r.seo,social:r.social}),a("     .    JSON  ...");const S=[],N=await uf("settings","global");S.push({path:"data/json/site-settings-public.json",content:JSON.stringify(N,null,2)});const k=Array.from(f);if(k.length>0)for(const F of k){const P=nd(F==="default"?"dz":F),I=Sye(F,r,e,n,P),U=F==="default"?"dist/index.html":`dist/${F}/index.html`;S.push({path:U,content:I})}S.length>0?(await Ao({files:S,commitMessage:`feat(seo): Update settings JSON and homepages for ${k.length>0?k.join(", "):"general settings"}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),a(`     (JSON)  ${S.length-1}  !`)):a("  .     ."),h(new Set)}catch(S){console.error("Error saving settings:",S),alert("     .")}finally{l(!1),setTimeout(()=>a(""),5e3)}}};if(!r)return d.jsx("div",{className:"flex justify-center p-8",children:d.jsx(Ct,{className:"animate-spin text-2xl"})});const g=((x=r.seo)==null?void 0:x[c])||((w=r.seo)==null?void 0:w.default)||Nn.seo.default,y=((C=r.social)==null?void 0:C[c])||((D=r.social)==null?void 0:D.default)||Nn.social.default,_=[{code:"default",name:"Default"},...gi.en];return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  (SEO)"}),s&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:s})}),d.jsx("div",{className:"mb-6 border-b border-gray-200",children:d.jsx("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:_.map(R=>d.jsx("button",{onClick:()=>u(R.code),className:`whitespace-nowrap py-3 px-4 border-b-2 font-medium text-sm
                                ${c===R.code?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:R.name},R.code))})}),d.jsxs("form",{onSubmit:v,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   SEO"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"siteName",value:g.siteName||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Tagline)"}),d.jsx("input",{type:"text",name:"tagline",value:g.tagline||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"titleSeparator",value:g.titleSeparator||"",onChange:R=>p(R,"seo"),className:"block w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Meta Description)"}),d.jsx("textarea",{name:"metaDescription",rows:2,value:g.metaDescription||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (  1)"}),d.jsx("input",{type:"text",name:"mainPageTitle",value:g.mainPageTitle||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (  2)"}),d.jsx("textarea",{name:"mainPageSubtitle",rows:3,value:g.mainPageSubtitle||"",onChange:R=>p(R,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",value:y.facebook||"",onChange:R=>p(R,"social"),placeholder:"https://facebook.com/yourpage",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",value:y.twitter||"",onChange:R=>p(R,"social"),placeholder:"https://twitter.com/yourprofile",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",value:y.instagram||"",onChange:R=>p(R,"social"),placeholder:"https://instagram.com/yourprofile",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t",children:d.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[o?d.jsx(Ct,{className:"animate-spin"}):null,o?"  ...":"  "]})})]})]})};var _C,U9;function Aye(){if(U9)return _C;U9=1;function t(){this.__data__=[],this.size=0}return _C=t,_C}var wC,O9;function yG(){if(O9)return wC;O9=1;function t(e,n){return e===n||e!==e&&n!==n}return wC=t,wC}var TC,L9;function Tw(){if(L9)return TC;L9=1;var t=yG();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return TC=e,TC}var EC,j9;function Nye(){if(j9)return EC;j9=1;var t=Tw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return EC=r,EC}var CC,B9;function kye(){if(B9)return CC;B9=1;var t=Tw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return CC=e,CC}var SC,V9;function Iye(){if(V9)return SC;V9=1;var t=Tw();function e(n){return t(this.__data__,n)>-1}return SC=e,SC}var DC,W9;function Rye(){if(W9)return DC;W9=1;var t=Tw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return DC=e,DC}var AC,q9;function Ew(){if(q9)return AC;q9=1;var t=Aye(),e=Nye(),n=kye(),r=Iye(),i=Rye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,AC=s,AC}var NC,$9;function Pye(){if($9)return NC;$9=1;var t=Ew();function e(){this.__data__=new t,this.size=0}return NC=e,NC}var kC,z9;function Fye(){if(z9)return kC;z9=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return kC=t,kC}var IC,H9;function Mye(){if(H9)return IC;H9=1;function t(e){return this.__data__.get(e)}return IC=t,IC}var RC,G9;function Uye(){if(G9)return RC;G9=1;function t(e){return this.__data__.has(e)}return RC=t,RC}var PC,K9;function vG(){if(K9)return PC;K9=1;var t=typeof ms=="object"&&ms&&ms.Object===Object&&ms;return PC=t,PC}var FC,X9;function Ac(){if(X9)return FC;X9=1;var t=vG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return FC=n,FC}var MC,J9;function cI(){if(J9)return MC;J9=1;var t=Ac(),e=t.Symbol;return MC=e,MC}var UC,Y9;function Oye(){if(Y9)return UC;Y9=1;var t=cI(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return UC=s,UC}var OC,Q9;function Lye(){if(Q9)return OC;Q9=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return OC=n,OC}var LC,Z9;function Cw(){if(Z9)return LC;Z9=1;var t=cI(),e=Oye(),n=Lye(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return LC=a,LC}var jC,e7;function xG(){if(e7)return jC;e7=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return jC=t,jC}var BC,t7;function bG(){if(t7)return BC;t7=1;var t=Cw(),e=xG(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return BC=a,BC}var VC,n7;function jye(){if(n7)return VC;n7=1;var t=Ac(),e=t["__core-js_shared__"];return VC=e,VC}var WC,r7;function Bye(){if(r7)return WC;r7=1;var t=jye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return WC=n,WC}var qC,i7;function _G(){if(i7)return qC;i7=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return qC=n,qC}var $C,s7;function Vye(){if(s7)return $C;s7=1;var t=bG(),e=Bye(),n=xG(),r=_G(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var p=t(h)?u:s;return p.test(r(h))}return $C=f,$C}var zC,a7;function Wye(){if(a7)return zC;a7=1;function t(e,n){return e==null?void 0:e[n]}return zC=t,zC}var HC,o7;function Km(){if(o7)return HC;o7=1;var t=Vye(),e=Wye();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return HC=n,HC}var GC,l7;function uI(){if(l7)return GC;l7=1;var t=Km(),e=Ac(),n=t(e,"Map");return GC=n,GC}var KC,c7;function Sw(){if(c7)return KC;c7=1;var t=Km(),e=t(Object,"create");return KC=e,KC}var XC,u7;function qye(){if(u7)return XC;u7=1;var t=Sw();function e(){this.__data__=t?t(null):{},this.size=0}return XC=e,XC}var JC,d7;function $ye(){if(d7)return JC;d7=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return JC=t,JC}var YC,f7;function zye(){if(f7)return YC;f7=1;var t=Sw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return YC=i,YC}var QC,h7;function Hye(){if(h7)return QC;h7=1;var t=Sw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return QC=r,QC}var ZC,p7;function Gye(){if(p7)return ZC;p7=1;var t=Sw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return ZC=n,ZC}var eS,m7;function Kye(){if(m7)return eS;m7=1;var t=qye(),e=$ye(),n=zye(),r=Hye(),i=Gye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,eS=s,eS}var tS,g7;function Xye(){if(g7)return tS;g7=1;var t=Kye(),e=Ew(),n=uI();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return tS=r,tS}var nS,y7;function Jye(){if(y7)return nS;y7=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return nS=t,nS}var rS,v7;function Dw(){if(v7)return rS;v7=1;var t=Jye();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return rS=e,rS}var iS,x7;function Yye(){if(x7)return iS;x7=1;var t=Dw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return iS=e,iS}var sS,b7;function Qye(){if(b7)return sS;b7=1;var t=Dw();function e(n){return t(this,n).get(n)}return sS=e,sS}var aS,_7;function Zye(){if(_7)return aS;_7=1;var t=Dw();function e(n){return t(this,n).has(n)}return aS=e,aS}var oS,w7;function eve(){if(w7)return oS;w7=1;var t=Dw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return oS=e,oS}var lS,T7;function wG(){if(T7)return lS;T7=1;var t=Xye(),e=Yye(),n=Qye(),r=Zye(),i=eve();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,lS=s,lS}var cS,E7;function tve(){if(E7)return cS;E7=1;var t=Ew(),e=uI(),n=wG(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return cS=i,cS}var uS,C7;function nve(){if(C7)return uS;C7=1;var t=Ew(),e=Pye(),n=Fye(),r=Mye(),i=Uye(),s=tve();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,uS=a,uS}var dS,S7;function rve(){if(S7)return dS;S7=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return dS=e,dS}var fS,D7;function ive(){if(D7)return fS;D7=1;function t(e){return this.__data__.has(e)}return fS=t,fS}var hS,A7;function sve(){if(A7)return hS;A7=1;var t=wG(),e=rve(),n=ive();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,hS=r,hS}var pS,N7;function ave(){if(N7)return pS;N7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return pS=t,pS}var mS,k7;function ove(){if(k7)return mS;k7=1;function t(e,n){return e.has(n)}return mS=t,mS}var gS,I7;function TG(){if(I7)return gS;I7=1;var t=sve(),e=ave(),n=ove(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,p=a.length,v=o.length;if(p!=v&&!(h&&v>p))return!1;var g=f.get(a),y=f.get(o);if(g&&y)return g==o&&y==a;var _=-1,x=!0,w=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++_<p;){var C=a[_],D=o[_];if(c)var R=h?c(D,C,_,o,a,f):c(C,D,_,a,o,f);if(R!==void 0){if(R)continue;x=!1;break}if(w){if(!e(o,function(S,N){if(!n(w,N)&&(C===S||u(C,S,l,c,f)))return w.push(N)})){x=!1;break}}else if(!(C===D||u(C,D,l,c,f))){x=!1;break}}return f.delete(a),f.delete(o),x}return gS=s,gS}var yS,R7;function lve(){if(R7)return yS;R7=1;var t=Ac(),e=t.Uint8Array;return yS=e,yS}var vS,P7;function cve(){if(P7)return vS;P7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return vS=t,vS}var xS,F7;function uve(){if(F7)return xS;F7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return xS=t,xS}var bS,M7;function dve(){if(M7)return bS;M7=1;var t=cI(),e=lve(),n=yG(),r=TG(),i=cve(),s=uve(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",w=t?t.prototype:void 0,C=w?w.valueOf:void 0;function D(R,S,N,k,F,P,I){switch(N){case x:if(R.byteLength!=S.byteLength||R.byteOffset!=S.byteOffset)return!1;R=R.buffer,S=S.buffer;case _:return!(R.byteLength!=S.byteLength||!P(new e(R),new e(S)));case l:case c:case h:return n(+R,+S);case u:return R.name==S.name&&R.message==S.message;case p:case g:return R==S+"";case f:var U=i;case v:var O=k&a;if(U||(U=s),R.size!=S.size&&!O)return!1;var G=I.get(R);if(G)return G==S;k|=o,I.set(R,S);var K=r(U(R),U(S),k,F,P,I);return I.delete(R),K;case y:if(C)return C.call(R)==C.call(S)}return!1}return bS=D,bS}var _S,U7;function fve(){if(U7)return _S;U7=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return _S=t,_S}var wS,O7;function dI(){if(O7)return wS;O7=1;var t=Array.isArray;return wS=t,wS}var TS,L7;function hve(){if(L7)return TS;L7=1;var t=fve(),e=dI();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return TS=n,TS}var ES,j7;function pve(){if(j7)return ES;j7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return ES=t,ES}var CS,B7;function mve(){if(B7)return CS;B7=1;function t(){return[]}return CS=t,CS}var SS,V7;function gve(){if(V7)return SS;V7=1;var t=pve(),e=mve(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return SS=s,SS}var DS,W7;function yve(){if(W7)return DS;W7=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return DS=t,DS}var AS,q7;function Aw(){if(q7)return AS;q7=1;function t(e){return e!=null&&typeof e=="object"}return AS=t,AS}var NS,$7;function vve(){if($7)return NS;$7=1;var t=Cw(),e=Aw(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return NS=r,NS}var kS,z7;function xve(){if(z7)return kS;z7=1;var t=vve(),e=Aw(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return kS=s,kS}var w0={exports:{}},IS,H7;function bve(){if(H7)return IS;H7=1;function t(){return!1}return IS=t,IS}w0.exports;var G7;function EG(){return G7||(G7=1,(function(t,e){var n=Ac(),r=bve(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(w0,w0.exports)),w0.exports}var RS,K7;function _ve(){if(K7)return RS;K7=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return RS=n,RS}var PS,X7;function CG(){if(X7)return PS;X7=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return PS=e,PS}var FS,J7;function wve(){if(J7)return FS;J7=1;var t=Cw(),e=CG(),n=Aw(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",D="[object Int16Array]",R="[object Int32Array]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",F="[object Uint32Array]",P={};P[x]=P[w]=P[C]=P[D]=P[R]=P[S]=P[N]=P[k]=P[F]=!0,P[r]=P[i]=P[y]=P[s]=P[_]=P[a]=P[o]=P[l]=P[c]=P[u]=P[f]=P[h]=P[p]=P[v]=P[g]=!1;function I(U){return n(U)&&e(U.length)&&!!P[t(U)]}return FS=I,FS}var MS,Y7;function Tve(){if(Y7)return MS;Y7=1;function t(e){return function(n){return e(n)}}return MS=t,MS}var T0={exports:{}};T0.exports;var Q7;function Eve(){return Q7||(Q7=1,(function(t,e){var n=vG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(T0,T0.exports)),T0.exports}var US,Z7;function SG(){if(Z7)return US;Z7=1;var t=wve(),e=Tve(),n=Eve(),r=n&&n.isTypedArray,i=r?e(r):t;return US=i,US}var OS,eM;function Cve(){if(eM)return OS;eM=1;var t=yve(),e=xve(),n=dI(),r=EG(),i=_ve(),s=SG(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=n(c),h=!f&&e(c),p=!f&&!h&&r(c),v=!f&&!h&&!p&&s(c),g=f||h||p||v,y=g?t(c.length,String):[],_=y.length;for(var x in c)(u||o.call(c,x))&&!(g&&(x=="length"||p&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,_)))&&y.push(x);return y}return OS=l,OS}var LS,tM;function Sve(){if(tM)return LS;tM=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return LS=e,LS}var jS,nM;function Dve(){if(nM)return jS;nM=1;function t(e,n){return function(r){return e(n(r))}}return jS=t,jS}var BS,rM;function Ave(){if(rM)return BS;rM=1;var t=Dve(),e=t(Object.keys,Object);return BS=e,BS}var VS,iM;function Nve(){if(iM)return VS;iM=1;var t=Sve(),e=Ave(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return VS=i,VS}var WS,sM;function kve(){if(sM)return WS;sM=1;var t=bG(),e=CG();function n(r){return r!=null&&e(r.length)&&!t(r)}return WS=n,WS}var qS,aM;function Ive(){if(aM)return qS;aM=1;var t=Cve(),e=Nve(),n=kve();function r(i){return n(i)?t(i):e(i)}return qS=r,qS}var $S,oM;function Rve(){if(oM)return $S;oM=1;var t=hve(),e=gve(),n=Ive();function r(i){return t(i,n,e)}return $S=r,$S}var zS,lM;function Pve(){if(lM)return zS;lM=1;var t=Rve(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&e,h=t(s),p=h.length,v=t(a),g=v.length;if(p!=g&&!f)return!1;for(var y=p;y--;){var _=h[y];if(!(f?_ in a:r.call(a,_)))return!1}var x=u.get(s),w=u.get(a);if(x&&w)return x==a&&w==s;var C=!0;u.set(s,a),u.set(a,s);for(var D=f;++y<p;){_=h[y];var R=s[_],S=a[_];if(l)var N=f?l(S,R,_,a,s,u):l(R,S,_,s,a,u);if(!(N===void 0?R===S||c(R,S,o,l,u):N)){C=!1;break}D||(D=_=="constructor")}if(C&&!D){var k=s.constructor,F=a.constructor;k!=F&&"constructor"in s&&"constructor"in a&&!(typeof k=="function"&&k instanceof k&&typeof F=="function"&&F instanceof F)&&(C=!1)}return u.delete(s),u.delete(a),C}return zS=i,zS}var HS,cM;function Fve(){if(cM)return HS;cM=1;var t=Km(),e=Ac(),n=t(e,"DataView");return HS=n,HS}var GS,uM;function Mve(){if(uM)return GS;uM=1;var t=Km(),e=Ac(),n=t(e,"Promise");return GS=n,GS}var KS,dM;function Uve(){if(dM)return KS;dM=1;var t=Km(),e=Ac(),n=t(e,"Set");return KS=n,KS}var XS,fM;function Ove(){if(fM)return XS;fM=1;var t=Km(),e=Ac(),n=t(e,"WeakMap");return XS=n,XS}var JS,hM;function Lve(){if(hM)return JS;hM=1;var t=Fve(),e=uI(),n=Mve(),r=Uve(),i=Ove(),s=Cw(),a=_G(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(t),v=a(e),g=a(n),y=a(r),_=a(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=h||e&&x(new e)!=o||n&&x(n.resolve())!=c||r&&x(new r)!=u||i&&x(new i)!=f)&&(x=function(w){var C=s(w),D=C==l?w.constructor:void 0,R=D?a(D):"";if(R)switch(R){case p:return h;case v:return o;case g:return c;case y:return u;case _:return f}return C}),JS=x,JS}var YS,pM;function jve(){if(pM)return YS;pM=1;var t=nve(),e=TG(),n=dve(),r=Pve(),i=Lve(),s=dI(),a=EG(),o=SG(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(g,y,_,x,w,C){var D=s(g),R=s(y),S=D?u:i(g),N=R?u:i(y);S=S==c?f:S,N=N==c?f:N;var k=S==f,F=N==f,P=S==N;if(P&&a(g)){if(!a(y))return!1;D=!0,k=!1}if(P&&!k)return C||(C=new t),D||o(g)?e(g,y,_,x,w,C):n(g,y,S,_,x,w,C);if(!(_&l)){var I=k&&p.call(g,"__wrapped__"),U=F&&p.call(y,"__wrapped__");if(I||U){var O=I?g.value():g,G=U?y.value():y;return C||(C=new t),w(O,G,_,x,C)}}return P?(C||(C=new t),r(g,y,_,x,w,C)):!1}return YS=v,YS}var QS,mM;function Bve(){if(mM)return QS;mM=1;var t=jve(),e=Aw();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return QS=n,QS}var ZS,gM;function Vve(){if(gM)return ZS;gM=1;var t=Bve();function e(n,r){return t(n,r)}return ZS=e,ZS}var w2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var Wve=w2.exports,yM;function qve(){return yM||(yM=1,(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Wve,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(18),o=i(19),l=i(45),c=i(46),u=i(47),f=i(48),h=i(49),p=i(12),v=i(32),g=i(33),y=i(31),_=i(1),x={Scope:_.Scope,create:_.create,find:_.find,query:_.query,register:_.register,Container:s.default,Format:a.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:g.default,Store:y.default}};r.default=x}),(function(n,r,i){var s=this&&this.__extends||(function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var w in x)x.hasOwnProperty(w)&&(_[w]=x[w])};return function(_,x){y(_,x);function w(){this.constructor=_}_.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=(function(y){s(_,y);function _(x){var w=this;return x="[Parchment] "+x,w=y.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return _})(Error);r.ParchmentError=a;var o={},l={},c={},u={};r.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(y,_){var x=v(y);if(x==null)throw new a("Unable to create "+y+" blot");var w=x,C=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(_);return new w(C,_)}r.create=h;function p(y,_){return _===void 0&&(_=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:_?p(y.parentNode,_):null}r.find=p;function v(y,_){_===void 0&&(_=f.ANY);var x;if(typeof y=="string")x=u[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)x=u.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?x=u.block:y&f.LEVEL&f.INLINE&&(x=u.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var C in w)if(x=l[w[C]],x)break;x=x||c[y.tagName]}return x==null?null:_&f.LEVEL&x.scope&&_&f.TYPE&x.scope?x:null}r.query=v;function g(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];if(y.length>1)return y.map(function(C){return g(C)});var x=y[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new a("Invalid definition");if(x.blotName==="abstract")throw new a("Cannot register abstract class");if(u[x.blotName||x.attrName]=x,typeof x.keyName=="string")o[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(C){return C.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(C){(c[C]==null||x.className==null)&&(c[C]=x)})}return x}r.register=g}),(function(n,r,i){var s=i(51),a=i(11),o=i(3),l=i(20),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=o(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(a(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(v){var g=f(v)?h:p;g.push(v)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),g=0;g<h&&v.hasNext();){var y;g<f?y=v.next(f-g):(y=v.next(h-g),p.push(y)),g+=l.length(y)}return new u(p)},u.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),v=[],g=p.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),v.push(h.next());g.retain-y>0&&p.next(g.retain-y)}for(var _=new u(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")_.push(p.next());else if(h.peekType()==="delete")_.push(h.next());else{var x=Math.min(h.peekLength(),p.peekLength()),w=h.next(x),C=p.next(x);if(typeof C.retain=="number"){var D={};typeof w.retain=="number"?D.retain=x:D.insert=w.insert;var R=l.attributes.compose(w.attributes,C.attributes,typeof w.retain=="number");if(R&&(D.attributes=R),_.push(D),!p.hasNext()&&a(_.ops[_.ops.length-1],D)){var S=new u(h.rest());return _.concat(S).chop()}}else typeof C.delete=="number"&&typeof w.retain=="number"&&_.push(C)}return _.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var C=x===f?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")}),v=new u,g=s(p[0],p[1],h),y=l.iterator(this.ops),_=l.iterator(f.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var C=0;switch(x[0]){case s.INSERT:C=Math.min(_.peekLength(),w),v.push(_.next(C));break;case s.DELETE:C=Math.min(w,y.peekLength()),y.next(C),v.delete(C);break;case s.EQUAL:C=Math.min(y.peekLength(),_.peekLength(),w);var D=y.next(C),R=_.next(C);a(D.insert,R.insert)?v.retain(C,l.attributes.diff(D.attributes,R.attributes)):v.push(R).delete(C);break}w-=C}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new u,g=0;p.hasNext();){if(p.peekType()!=="insert")return;var y=p.peek(),_=l.length(y)-p.peekLength(),x=typeof y.insert=="string"?y.insert.indexOf(h,_)-_:-1;if(x<0)v.push(p.next());else if(x>0)v.push(p.next(x));else{if(f(v,p.next(1).attributes||{},g)===!1)return;g+=1,v=new u}}v.length()>0&&f(v,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),g=new u;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))g.retain(l.length(p.next()));else if(v.peekType()==="insert")g.push(v.next());else{var y=Math.min(p.peekLength(),v.peekLength()),_=p.next(y),x=v.next(y);if(_.delete)continue;x.delete?g.push(x):g.retain(y,l.attributes.transform(_.attributes,x.attributes,h))}return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var g=p.peekLength(),y=p.peekType();if(p.next(),y==="delete"){f-=Math.min(g,f-v);continue}else y==="insert"&&(v<f||!h)&&(f+=g);v+=g}return f},n.exports=u}),(function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!g)return!1;var y;for(y in p);return typeof y>"u"||i.call(p,y)},u=function(p,v){a&&v.name==="__proto__"?a(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(o)return o(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,g,y,_,x,w=arguments[0],C=1,D=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<D;++C)if(p=arguments[C],p!=null)for(v in p)g=f(w,v),y=f(p,v),w!==y&&(R&&y&&(c(y)||(_=l(y)))?(_?(_=!1,x=g&&l(g)?g:[]):x=g&&c(g)?g:{},u(w,{name:v,newValue:h(R,x,y)})):typeof y<"u"&&u(w,{name:v,newValue:y}));return w}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=(function(){function P(I,U){for(var O=0;O<U.length;O++){var G=U[O];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(I,G.key,G)}}return function(I,U,O){return U&&P(I.prototype,U),O&&P(I,O),I}})(),a=function P(I,U,O){I===null&&(I=Function.prototype);var G=Object.getOwnPropertyDescriptor(I,U);if(G===void 0){var K=Object.getPrototypeOf(I);return K===null?void 0:P(K,U,O)}else{if("value"in G)return G.value;var J=G.get;return J===void 0?void 0:J.call(O)}},o=i(3),l=w(o),c=i(2),u=w(c),f=i(0),h=w(f),p=i(16),v=w(p),g=i(6),y=w(g),_=i(7),x=w(_);function w(P){return P&&P.__esModule?P:{default:P}}function C(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function D(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function R(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var S=1,N=(function(P){R(I,P);function I(){return C(this,I),D(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"attach",value:function(){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,G){var K=h.default.query(O,h.default.Scope.BLOCK_ATTRIBUTE);K!=null&&this.attributes.attribute(K,G)}},{key:"formatAt",value:function(O,G,K,J){this.format(K,J)}},{key:"insertAt",value:function(O,G,K){if(typeof G=="string"&&G.endsWith(`
`)){var J=h.default.create(k.blotName);this.parent.insertBefore(J,O===0?this:this.next),J.insertAt(0,G.slice(0,-1))}else a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,O,G,K)}}]),I})(h.default.Embed);N.scope=h.default.Scope.BLOCK_BLOT;var k=(function(P){R(I,P);function I(U){C(this,I);var O=D(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,U));return O.cache={},O}return s(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(O,G){return G.length()===0?O:O.insert(G.value(),F(G))},new u.default).insert(`
`,F(this))),this.cache.delta}},{key:"deleteAt",value:function(O,G){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,O,G),this.cache={}}},{key:"formatAt",value:function(O,G,K,J){G<=0||(h.default.query(K,h.default.Scope.BLOCK)?O+G===this.length()&&this.format(K,J):a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,O,Math.min(G,this.length()-O-1),K,J),this.cache={})}},{key:"insertAt",value:function(O,G,K){if(K!=null)return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,O,G,K);if(G.length!==0){var J=G.split(`
`),te=J.shift();te.length>0&&(O<this.length()-1||this.children.tail==null?a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),te):this.children.tail.insertAt(this.children.tail.length(),te),this.cache={});var z=this;J.reduce(function(Y,B){return z=z.split(Y,!0),z.insertAt(0,B),B.length},O+te.length)}}},{key:"insertBefore",value:function(O,G){var K=this.children.head;a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,O,G),K instanceof v.default&&K.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(O,G){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,O,G),this.cache={}}},{key:"optimize",value:function(O){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(O===0||O>=this.length()-S)){var K=this.clone();return O===0?(this.parent.insertBefore(K,this),this):(this.parent.insertBefore(K,this.next),K)}else{var J=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,O,G);return this.cache={},J}}}]),I})(h.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[y.default,h.default.Embed,x.default];function F(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(I=(0,l.default)(I,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?I:F(P.parent,I)}r.bubbleFormats=F,r.BlockEmbed=N,r.default=k}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Y,B){var j=[],q=!0,X=!1,Q=void 0;try{for(var ee=Y[Symbol.iterator](),ae;!(q=(ae=ee.next()).done)&&(j.push(ae.value),!(B&&j.length===B));q=!0);}catch(de){X=!0,Q=de}finally{try{!q&&ee.return&&ee.return()}finally{if(X)throw Q}}return j}return function(Y,B){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return z(Y,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Y,B){for(var j=0;j<B.length;j++){var q=B[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Y,q.key,q)}}return function(Y,B,j){return B&&z(Y.prototype,B),j&&z(Y,j),Y}})();i(50);var l=i(2),c=F(l),u=i(14),f=F(u),h=i(8),p=F(h),v=i(9),g=F(v),y=i(0),_=F(y),x=i(15),w=F(x),C=i(3),D=F(C),R=i(10),S=F(R),N=i(34),k=F(N);function F(z){return z&&z.__esModule?z:{default:z}}function P(z,Y,B){return Y in z?Object.defineProperty(z,Y,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Y]=B,z}function I(z,Y){if(!(z instanceof Y))throw new TypeError("Cannot call a class as a function")}var U=(0,S.default)("quill"),O=(function(){o(z,null,[{key:"debug",value:function(B){B===!0&&(B="log"),S.default.level(B)}},{key:"find",value:function(B){return B.__quill||_.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&U.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Q=B.attrName||B.blotName;typeof Q=="string"?this.register("formats/"+Q,B,j):Object.keys(B).forEach(function(ee){q.register(ee,B[ee],j)})}else this.imports[B]!=null&&!X&&U.warn("Overwriting "+B+" with",j),this.imports[B]=j,(B.startsWith("blots/")||B.startsWith("formats/"))&&j.blotName!=="abstract"?_.default.register(j):B.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function z(Y){var B=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,z),this.options=G(Y,j),this.container=this.options.container,this.container==null)return U.error("Invalid Quill container",Y);this.options.debug&&z.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=_.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,ee){var ae=B.selection.lastRange,de=ae&&ae.length===0?ae.index:void 0;K.call(B,function(){return B.editor.update(null,ee,de)},Q)});var X=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(X),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(z,[{key:"addContainer",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var q=B;B=document.createElement("div"),B.classList.add(q)}return this.container.insertBefore(B,j),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,j,q){var X=this,Q=J(B,j,q),ee=a(Q,4);return B=ee[0],j=ee[1],q=ee[3],K.call(this,function(){return X.editor.deleteText(B,j)},q,B,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return K.call(this,function(){var Q=q.getSelection(!0),ee=new c.default;if(Q==null)return ee;if(_.default.query(B,_.default.Scope.BLOCK))ee=q.editor.formatLine(Q.index,Q.length,P({},B,j));else{if(Q.length===0)return q.selection.format(B,j),ee;ee=q.editor.formatText(Q.index,Q.length,P({},B,j))}return q.setSelection(Q,p.default.sources.SILENT),ee},X)}},{key:"formatLine",value:function(B,j,q,X,Q){var ee=this,ae=void 0,de=J(B,j,q,X,Q),fe=a(de,4);return B=fe[0],j=fe[1],ae=fe[2],Q=fe[3],K.call(this,function(){return ee.editor.formatLine(B,j,ae)},Q,B,0)}},{key:"formatText",value:function(B,j,q,X,Q){var ee=this,ae=void 0,de=J(B,j,q,X,Q),fe=a(de,4);return B=fe[0],j=fe[1],ae=fe[2],Q=fe[3],K.call(this,function(){return ee.editor.formatText(B,j,ae)},Q,B,0)}},{key:"getBounds",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof B=="number"?q=this.selection.getBounds(B,j):q=this.selection.getBounds(B.index,B.length);var X=this.container.getBoundingClientRect();return{bottom:q.bottom-X.top,height:q.height,left:q.left-X.left,right:q.right-X.left,top:q.top-X.top,width:q.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,q=J(B,j),X=a(q,2);return B=X[0],j=X[1],this.editor.getContents(B,j)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,j):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,j)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,q=J(B,j),X=a(q,2);return B=X[0],j=X[1],this.editor.getText(B,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,j,q){var X=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return K.call(this,function(){return X.editor.insertEmbed(B,j,q)},Q,B)}},{key:"insertText",value:function(B,j,q,X,Q){var ee=this,ae=void 0,de=J(B,0,q,X,Q),fe=a(de,4);return B=fe[0],ae=fe[2],Q=fe[3],K.call(this,function(){return ee.editor.insertText(B,j,ae)},Q,B,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,j,q){this.clipboard.dangerouslyPasteHTML(B,j,q)}},{key:"removeFormat",value:function(B,j,q){var X=this,Q=J(B,j,q),ee=a(Q,4);return B=ee[0],j=ee[1],q=ee[3],K.call(this,function(){return X.editor.removeFormat(B,j)},q,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return K.call(this,function(){B=new c.default(B);var X=j.getLength(),Q=j.editor.deleteText(0,X),ee=j.editor.applyDelta(B),ae=ee.ops[ee.ops.length-1];ae!=null&&typeof ae.insert=="string"&&ae.insert[ae.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),ee.delete(1));var de=Q.compose(ee);return de},q)}},{key:"setSelection",value:function(B,j,q){if(B==null)this.selection.setRange(null,j||z.sources.API);else{var X=J(B,j,q),Q=a(X,4);B=Q[0],j=Q[1],q=Q[3],this.selection.setRange(new x.Range(B,j),q),q!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,q=new c.default().insert(B);return this.setContents(q,j)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(B);return this.selection.update(B),j}},{key:"updateContents",value:function(B){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return K.call(this,function(){return B=new c.default(B),j.editor.applyDelta(B,q)},q,!0)}}]),z})();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=p.default.events,O.sources=p.default.sources,O.version="1.3.7",O.imports={delta:c.default,parchment:_.default,"core/module":g.default,"core/theme":k.default};function G(z,Y){if(Y=(0,D.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},Y),!Y.theme||Y.theme===O.DEFAULTS.theme)Y.theme=k.default;else if(Y.theme=O.import("themes/"+Y.theme),Y.theme==null)throw new Error("Invalid theme "+Y.theme+". Did you register it?");var B=(0,D.default)(!0,{},Y.theme.DEFAULTS);[B,Y].forEach(function(X){X.modules=X.modules||{},Object.keys(X.modules).forEach(function(Q){X.modules[Q]===!0&&(X.modules[Q]={})})});var j=Object.keys(B.modules).concat(Object.keys(Y.modules)),q=j.reduce(function(X,Q){var ee=O.import("modules/"+Q);return ee==null?U.error("Cannot load "+Q+" module. Are you sure you registered it?"):X[Q]=ee.DEFAULTS||{},X},{});return Y.modules!=null&&Y.modules.toolbar&&Y.modules.toolbar.constructor!==Object&&(Y.modules.toolbar={container:Y.modules.toolbar}),Y=(0,D.default)(!0,{},O.DEFAULTS,{modules:q},B,Y),["bounds","container","scrollingContainer"].forEach(function(X){typeof Y[X]=="string"&&(Y[X]=document.querySelector(Y[X]))}),Y.modules=Object.keys(Y.modules).reduce(function(X,Q){return Y.modules[Q]&&(X[Q]=Y.modules[Q]),X},{}),Y}function K(z,Y,B,j){if(this.options.strict&&!this.isEnabled()&&Y===p.default.sources.USER)return new c.default;var q=B==null?null:this.getSelection(),X=this.editor.delta,Q=z();if(q!=null&&(B===!0&&(B=q.index),j==null?q=te(q,Q,Y):j!==0&&(q=te(q,B,j,Y)),this.setSelection(q,p.default.sources.SILENT)),Q.length()>0){var ee,ae=[p.default.events.TEXT_CHANGE,Q,X,Y];if((ee=this.emitter).emit.apply(ee,[p.default.events.EDITOR_CHANGE].concat(ae)),Y!==p.default.sources.SILENT){var de;(de=this.emitter).emit.apply(de,ae)}}return Q}function J(z,Y,B,j,q){var X={};return typeof z.index=="number"&&typeof z.length=="number"?typeof Y!="number"?(q=j,j=B,B=Y,Y=z.length,z=z.index):(Y=z.length,z=z.index):typeof Y!="number"&&(q=j,j=B,B=Y,Y=0),(typeof B>"u"?"undefined":s(B))==="object"?(X=B,q=j):typeof B=="string"&&(j!=null?X[B]=j:q=B),q=q||p.default.sources.API,[z,Y,X,q]}function te(z,Y,B,j){if(z==null)return null;var q=void 0,X=void 0;if(Y instanceof c.default){var Q=[z.index,z.index+z.length].map(function(fe){return Y.transformPosition(fe,j!==p.default.sources.USER)}),ee=a(Q,2);q=ee[0],X=ee[1]}else{var ae=[z.index,z.index+z.length].map(function(fe){return fe<Y||fe===Y&&j===p.default.sources.USER?fe:B>=0?fe+B:Math.max(Y,fe+B)}),de=a(ae,2);q=de[0],X=de[1]}return new x.Range(q,X-q)}r.expandConfig=G,r.overload=J,r.default=O}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var D=Object.getPrototypeOf(_);return D===null?void 0:y(D,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(7),l=f(o),c=i(0),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function p(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function v(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var g=(function(y){v(_,y);function _(){return h(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"formatAt",value:function(w,C,D,R){if(_.compare(this.statics.blotName,D)<0&&u.default.query(D,u.default.Scope.BLOT)){var S=this.isolate(w,C);R&&S.wrap(D,R)}else a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,w,C,D,R)}},{key:"optimize",value:function(w){if(a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,w),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var C=this.parent.isolate(this.offset(),this.length());this.moveChildren(C),C.wrap(this)}}}],[{key:"compare",value:function(w,C){var D=_.order.indexOf(w),R=_.order.indexOf(C);return D>=0||R>=0?D-R:w===C?0:w<C?-1:1}}]),_})(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default.Text);r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function x(w,C){for(var D=0;D<C.length;D++){var R=C[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,C,D){return C&&x(w.prototype,C),D&&x(w,D),w}})(),a=function x(w,C,D){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,C);if(R===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:x(S,C,D)}else{if("value"in R)return R.value;var N=R.get;return N===void 0?void 0:N.call(D)}},o=i(54),l=f(o),c=i(10),u=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function p(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function v(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,C=Array(w),D=0;D<w;D++)C[D]=arguments[D];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var S;(S=R.__quill.emitter).handleDOM.apply(S,C)}})})});var _=(function(x){v(w,x);function w(){h(this,w);var C=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return C.listeners={},C.on("error",g.error),C}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(D){for(var R=arguments.length,S=Array(R>1?R-1:0),N=1;N<R;N++)S[N-1]=arguments[N];(this.listeners[D.type]||[]).forEach(function(k){var F=k.node,P=k.handler;(D.target===F||F.contains(D.target))&&P.apply(void 0,[D].concat(S))})}},{key:"listenDOM",value:function(D,R,S){this.listeners[D]||(this.listeners[D]=[]),this.listeners[D].push({node:R,handler:S})}}]),w})(l.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},r.default=_}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,o),this.quill=l,this.options=c};a.DEFAULTS={},r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function o(c){if(s.indexOf(c)<=s.indexOf(a)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[c].apply(u,h)}}function l(c){return s.reduce(function(u,f){return u[f]=o.bind(console,f,c),u},{})}o.level=l.level=function(c){a=c},r.default=l}),(function(n,r,i){var s=Array.prototype.slice,a=i(52),o=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:f(h,p,v)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,v){var g,y;if(c(h)||c(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=s.call(h),p=s.call(p),l(h,p,v)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==p[g])return!1;return!0}try{var _=a(h),x=a(p)}catch{return!1}if(_.length!=x.length)return!1;for(_.sort(),x.sort(),g=_.length-1;g>=0;g--)if(_[g]!=x[g])return!1;for(g=_.length-1;g>=0;g--)if(y=_[g],!l(h[y],p[y],v))return!1;return typeof h==typeof p}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=(function(){function N(k,F){var P=[],I=!0,U=!1,O=void 0;try{for(var G=k[Symbol.iterator](),K;!(I=(K=G.next()).done)&&(P.push(K.value),!(F&&P.length===F));I=!0);}catch(J){U=!0,O=J}finally{try{!I&&G.return&&G.return()}finally{if(U)throw O}}return P}return function(k,F){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return N(k,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(k,F){for(var P=0;P<F.length;P++){var I=F[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,F,P){return F&&N(k.prototype,F),P&&N(k,P),k}})(),o=function N(k,F,P){k===null&&(k=Function.prototype);var I=Object.getOwnPropertyDescriptor(k,F);if(I===void 0){var U=Object.getPrototypeOf(k);return U===null?void 0:N(U,F,P)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(P)}},l=i(2),c=x(l),u=i(0),f=x(u),h=i(4),p=x(h),v=i(6),g=x(v),y=i(7),_=x(y);function x(N){return N&&N.__esModule?N:{default:N}}function w(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}function C(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:N}function D(N,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);N.prototype=Object.create(k&&k.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(N,k):N.__proto__=k)}var R=(function(N){D(k,N);function k(){return w(this,k),C(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k})(g.default);R.blotName="code",R.tagName="CODE";var S=(function(N){D(k,N);function k(){return w(this,k),C(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"delta",value:function(){var P=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(U,O){return U.insert(O).insert(`
`,P.formats())},new c.default)}},{key:"format",value:function(P,I){if(!(P===this.statics.blotName&&I)){var U=this.descendant(_.default,this.length()-1),O=s(U,1),G=O[0];G!=null&&G.deleteAt(G.length()-1,1),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,P,I)}}},{key:"formatAt",value:function(P,I,U,O){if(I!==0&&!(f.default.query(U,f.default.Scope.BLOCK)==null||U===this.statics.blotName&&O===this.statics.formats(this.domNode))){var G=this.newlineIndex(P);if(!(G<0||G>=P+I)){var K=this.newlineIndex(P,!0)+1,J=G-K+1,te=this.isolate(K,J),z=te.next;te.format(U,O),z instanceof k&&z.formatAt(0,P-K+I-J,U,O)}}}},{key:"insertAt",value:function(P,I,U){if(U==null){var O=this.descendant(_.default,P),G=s(O,2),K=G[0],J=G[1];K.insertAt(J,I)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var U=this.domNode.textContent.slice(P).indexOf(`
`);return U>-1?P+U:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,P);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(P),I.moveChildren(this),I.remove())}},{key:"replace",value:function(P){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var U=f.default.find(I);U==null?I.parentNode.removeChild(I):U instanceof f.default.Embed?U.remove():U.unwrap()})}}],[{key:"create",value:function(P){var I=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,P);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),k})(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=R,r.default=S}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(Y,B){var j=[],q=!0,X=!1,Q=void 0;try{for(var ee=Y[Symbol.iterator](),ae;!(q=(ae=ee.next()).done)&&(j.push(ae.value),!(B&&j.length===B));q=!0);}catch(de){X=!0,Q=de}finally{try{!q&&ee.return&&ee.return()}finally{if(X)throw Q}}return j}return function(Y,B){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return z(Y,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(Y,B){for(var j=0;j<B.length;j++){var q=B[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Y,q.key,q)}}return function(Y,B,j){return B&&z(Y.prototype,B),j&&z(Y,j),Y}})(),l=i(2),c=I(l),u=i(20),f=I(u),h=i(0),p=I(h),v=i(13),g=I(v),y=i(24),_=I(y),x=i(4),w=I(x),C=i(16),D=I(C),R=i(21),S=I(R),N=i(11),k=I(N),F=i(3),P=I(F);function I(z){return z&&z.__esModule?z:{default:z}}function U(z,Y,B){return Y in z?Object.defineProperty(z,Y,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[Y]=B,z}function O(z,Y){if(!(z instanceof Y))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,K=(function(){function z(Y){O(this,z),this.scroll=Y,this.delta=this.getDelta()}return o(z,[{key:"applyDelta",value:function(B){var j=this,q=!1;this.scroll.update();var X=this.scroll.length();return this.scroll.batchStart(),B=te(B),B.reduce(function(Q,ee){var ae=ee.retain||ee.delete||ee.insert.length||1,de=ee.attributes||{};if(ee.insert!=null){if(typeof ee.insert=="string"){var fe=ee.insert;fe.endsWith(`
`)&&q&&(q=!1,fe=fe.slice(0,-1)),Q>=X&&!fe.endsWith(`
`)&&(q=!0),j.scroll.insertAt(Q,fe);var Ne=j.scroll.line(Q),Re=a(Ne,2),me=Re[0],Le=Re[1],V=(0,P.default)({},(0,x.bubbleFormats)(me));if(me instanceof w.default){var ve=me.descendant(p.default.Leaf,Le),we=a(ve,1),oe=we[0];V=(0,P.default)(V,(0,x.bubbleFormats)(oe))}de=f.default.attributes.diff(V,de)||{}}else if(s(ee.insert)==="object"){var re=Object.keys(ee.insert)[0];if(re==null)return Q;j.scroll.insertAt(Q,re,ee.insert[re])}X+=ae}return Object.keys(de).forEach(function(le){j.scroll.formatAt(Q,ae,le,de[le])}),Q+ae},0),B.reduce(function(Q,ee){return typeof ee.delete=="number"?(j.scroll.deleteAt(Q,ee.delete),Q):Q+(ee.retain||ee.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,j){return this.scroll.deleteAt(B,j),this.update(new c.default().retain(B).delete(j))}},{key:"formatLine",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(X).forEach(function(Q){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[Q])){var ee=q.scroll.lines(B,Math.max(j,1)),ae=j;ee.forEach(function(de){var fe=de.length();if(!(de instanceof g.default))de.format(Q,X[Q]);else{var Ne=B-de.offset(q.scroll),Re=de.newlineIndex(Ne+ae)-Ne+1;de.formatAt(Ne,Re,Q,X[Q])}ae-=fe})}}),this.scroll.optimize(),this.update(new c.default().retain(B).retain(j,(0,S.default)(X)))}},{key:"formatText",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(X).forEach(function(Q){q.scroll.formatAt(B,j,Q,X[Q])}),this.update(new c.default().retain(B).retain(j,(0,S.default)(X)))}},{key:"getContents",value:function(B,j){return this.delta.slice(B,B+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,j){return B.concat(j.delta())},new c.default)}},{key:"getFormat",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],X=[];j===0?this.scroll.path(B).forEach(function(ee){var ae=a(ee,1),de=ae[0];de instanceof w.default?q.push(de):de instanceof p.default.Leaf&&X.push(de)}):(q=this.scroll.lines(B,j),X=this.scroll.descendants(p.default.Leaf,B,j));var Q=[q,X].map(function(ee){if(ee.length===0)return{};for(var ae=(0,x.bubbleFormats)(ee.shift());Object.keys(ae).length>0;){var de=ee.shift();if(de==null)return ae;ae=J((0,x.bubbleFormats)(de),ae)}return ae});return P.default.apply(P.default,Q)}},{key:"getText",value:function(B,j){return this.getContents(B,j).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(B,j,q){return this.scroll.insertAt(B,j,q),this.update(new c.default().retain(B).insert(U({},j,q)))}},{key:"insertText",value:function(B,j){var q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,j),Object.keys(X).forEach(function(Q){q.scroll.formatAt(B,j.length,Q,X[Q])}),this.update(new c.default().retain(B).insert(j,(0,S.default)(X)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==w.default.blotName||B.children.length>1?!1:B.children.head instanceof D.default}},{key:"removeFormat",value:function(B,j){var q=this.getText(B,j),X=this.scroll.line(B+j),Q=a(X,2),ee=Q[0],ae=Q[1],de=0,fe=new c.default;ee!=null&&(ee instanceof g.default?de=ee.newlineIndex(ae)-ae+1:de=ee.length()-ae,fe=ee.delta().slice(ae,ae+de-1).insert(`
`));var Ne=this.getContents(B,j+de),Re=Ne.diff(new c.default().insert(q).concat(fe)),me=new c.default().retain(B).concat(Re);return this.applyDelta(me)}},{key:"update",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,X=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(G)&&p.default.find(j[0].target)){var Q=p.default.find(j[0].target),ee=(0,x.bubbleFormats)(Q),ae=Q.offset(this.scroll),de=j[0].oldValue.replace(_.default.CONTENTS,""),fe=new c.default().insert(de),Ne=new c.default().insert(Q.value()),Re=new c.default().retain(ae).concat(fe.diff(Ne,q));B=Re.reduce(function(me,Le){return Le.insert?me.insert(Le.insert,ee):me.push(Le)},new c.default),this.delta=X.compose(B)}else this.delta=this.getDelta(),(!B||!(0,k.default)(X.compose(B),this.delta))&&(B=X.diff(this.delta,q));return B}}]),z})();function J(z,Y){return Object.keys(Y).reduce(function(B,j){return z[j]==null||(Y[j]===z[j]?B[j]=Y[j]:Array.isArray(Y[j])?Y[j].indexOf(z[j])<0&&(B[j]=Y[j].concat([z[j]])):B[j]=[Y[j],z[j]]),B},{})}function te(z){return z.reduce(function(Y,B){if(B.insert===1){var j=(0,S.default)(B.attributes);return delete j.image,Y.insert({image:B.attributes.image},j)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,S.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var q=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Y.insert(q,B.attributes)}return Y.push(B)},new c.default)}r.default=K}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=(function(){function N(k,F){var P=[],I=!0,U=!1,O=void 0;try{for(var G=k[Symbol.iterator](),K;!(I=(K=G.next()).done)&&(P.push(K.value),!(F&&P.length===F));I=!0);}catch(J){U=!0,O=J}finally{try{!I&&G.return&&G.return()}finally{if(U)throw O}}return P}return function(k,F){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return N(k,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(k,F){for(var P=0;P<F.length;P++){var I=F[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,F,P){return F&&N(k.prototype,F),P&&N(k,P),k}})(),o=i(0),l=_(o),c=i(21),u=_(c),f=i(11),h=_(f),p=i(8),v=_(p),g=i(10),y=_(g);function _(N){return N&&N.__esModule?N:{default:N}}function x(N){if(Array.isArray(N)){for(var k=0,F=Array(N.length);k<N.length;k++)F[k]=N[k];return F}else return Array.from(N)}function w(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}var C=(0,y.default)("quill:selection"),D=function N(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,N),this.index=k,this.length=F},R=(function(){function N(k,F){var P=this;w(this,N),this.emitter=F,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new D(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(I,U){I===v.default.events.TEXT_CHANGE&&U.length()>0&&P.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var I=P.getNativeRange();I!=null&&I.start.node!==P.cursor.textNode&&P.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(I,U){if(U.range){var O=U.range,G=O.startNode,K=O.startOffset,J=O.endNode,te=O.endOffset;P.setNativeRange(G,K,J,te)}}),this.update(v.default.sources.SILENT)}return a(N,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var P=F.cursor.restore();if(!P)return;setTimeout(function(){F.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[F])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||l.default.query(F,l.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var U=l.default.find(I.start.node,!1);if(U==null)return;if(U instanceof l.default.Leaf){var O=U.split(I.start.offset);U.parent.insertBefore(this.cursor,O)}else U.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(F,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();F=Math.min(F,I-1),P=Math.min(F+P,I-1)-F;var U=void 0,O=this.scroll.leaf(F),G=s(O,2),K=G[0],J=G[1];if(K==null)return null;var te=K.position(J,!0),z=s(te,2);U=z[0],J=z[1];var Y=document.createRange();if(P>0){Y.setStart(U,J);var B=this.scroll.leaf(F+P),j=s(B,2);if(K=j[0],J=j[1],K==null)return null;var q=K.position(J,!0),X=s(q,2);return U=X[0],J=X[1],Y.setEnd(U,J),Y.getBoundingClientRect()}else{var Q="left",ee=void 0;return U instanceof Text?(J<U.data.length?(Y.setStart(U,J),Y.setEnd(U,J+1)):(Y.setStart(U,J-1),Y.setEnd(U,J),Q="right"),ee=Y.getBoundingClientRect()):(ee=K.domNode.getBoundingClientRect(),J>0&&(Q="right")),{bottom:ee.top+ee.height,height:ee.height,left:ee[Q],right:ee[Q],top:ee.top,width:0}}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(F==null||F.rangeCount<=0)return null;var P=F.getRangeAt(0);if(P==null)return null;var I=this.normalizeNative(P);return C.info("getNativeRange",I),I}},{key:"getRange",value:function(){var F=this.getNativeRange();if(F==null)return[null,null];var P=this.normalizedToRange(F);return[P,F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var P=this,I=[[F.start.node,F.start.offset]];F.native.collapsed||I.push([F.end.node,F.end.offset]);var U=I.map(function(K){var J=s(K,2),te=J[0],z=J[1],Y=l.default.find(te,!0),B=Y.offset(P.scroll);return z===0?B:Y instanceof l.default.Container?B+Y.length():B+Y.index(te,z)}),O=Math.min(Math.max.apply(Math,x(U)),this.scroll.length()-1),G=Math.min.apply(Math,[O].concat(x(U)));return new D(G,O-G)}},{key:"normalizeNative",value:function(F){if(!S(this.root,F.startContainer)||!F.collapsed&&!S(this.root,F.endContainer))return null;var P={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[P.start,P.end].forEach(function(I){for(var U=I.node,O=I.offset;!(U instanceof Text)&&U.childNodes.length>0;)if(U.childNodes.length>O)U=U.childNodes[O],O=0;else if(U.childNodes.length===O)U=U.lastChild,O=U instanceof Text?U.data.length:U.childNodes.length+1;else break;I.node=U,I.offset=O}),P}},{key:"rangeToNative",value:function(F){var P=this,I=F.collapsed?[F.index]:[F.index,F.index+F.length],U=[],O=this.scroll.length();return I.forEach(function(G,K){G=Math.min(O-1,G);var J=void 0,te=P.scroll.leaf(G),z=s(te,2),Y=z[0],B=z[1],j=Y.position(B,K!==0),q=s(j,2);J=q[0],B=q[1],U.push(J,B)}),U.length<2&&(U=U.concat(U)),U}},{key:"scrollIntoView",value:function(F){var P=this.lastRange;if(P!=null){var I=this.getBounds(P.index,P.length);if(I!=null){var U=this.scroll.length()-1,O=this.scroll.line(Math.min(P.index,U)),G=s(O,1),K=G[0],J=K;if(P.length>0){var te=this.scroll.line(Math.min(P.index+P.length,U)),z=s(te,1);J=z[0]}if(!(K==null||J==null)){var Y=F.getBoundingClientRect();I.top<Y.top?F.scrollTop-=Y.top-I.top:I.bottom>Y.bottom&&(F.scrollTop+=I.bottom-Y.bottom)}}}}},{key:"setNativeRange",value:function(F,P){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(C.info("setNativeRange",F,P,I,U),!(F!=null&&(this.root.parentNode==null||F.parentNode==null||I.parentNode==null))){var G=document.getSelection();if(G!=null)if(F!=null){this.hasFocus()||this.root.focus();var K=(this.getNativeRange()||{}).native;if(K==null||O||F!==K.startContainer||P!==K.startOffset||I!==K.endContainer||U!==K.endOffset){F.tagName=="BR"&&(P=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),I.tagName=="BR"&&(U=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var J=document.createRange();J.setStart(F,P),J.setEnd(I,U),G.removeAllRanges(),G.addRange(J)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof P=="string"&&(I=P,P=!1),C.info("setRange",F),F!=null){var U=this.rangeToNative(F);this.setNativeRange.apply(this,x(U).concat([P]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,P=this.lastRange,I=this.getRange(),U=s(I,2),O=U[0],G=U[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(P,this.lastRange)){var K;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var J=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(P),F];if((K=this.emitter).emit.apply(K,[v.default.events.EDITOR_CHANGE].concat(J)),F!==v.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,J)}}}}]),N})();function S(N,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),N.contains(k)}r.Range=D,r.default=R}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(_,x){_.children.length===0?a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,_,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g})(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(44),o=i(30),l=i(1),c=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var g=u(v);p.insertBefore(g,p.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(g,y,_){g.deleteAt(y,_)})},h.prototype.descendant=function(p,v){var g=this.children.find(v),y=g[0],_=g[1];return p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p?[y,_]:y instanceof h?y.descendant(p,_):[null,-1]},h.prototype.descendants=function(p,v,g){v===void 0&&(v=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],_=g;return this.children.forEachAt(v,g,function(x,w,C){(p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p)&&y.push(x),x instanceof h&&(y=y.concat(x.descendants(p,w,_))),_-=C}),y},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,g,y){this.children.forEachAt(p,v,function(_,x,w){_.formatAt(x,w,g,y)})},h.prototype.insertAt=function(p,v,g){var y=this.children.find(p),_=y[0],x=y[1];if(_)_.insertAt(x,v,g);else{var w=g==null?l.create("text",v):l.create(v,g);this.appendChild(w)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return p instanceof g}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(g){p.insertBefore(g,v)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var g=this.children.find(p,v),y=g[0],_=g[1],x=[[this,p]];return y instanceof h?x.concat(y.path(_,v)):(y!=null&&x.push([y,_]),x)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(p,this.length(),function(y,_,x){y=y.split(_,v),g.appendChild(y)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var g=this,y=[],_=[];p.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(y.push.apply(y,x.addedNodes),_.push.apply(_,x.removedNodes))}),_.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=l.find(x.nextSibling));var C=u(x);(C.next!=w||C.next==null)&&(C.parent!=null&&C.parent.removeChild(g),g.insertBefore(C,w||void 0))})},h})(o.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(31),l=i(17),c=i(1),u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var g=c.query(p);g instanceof a.default?this.attributes.attribute(g,v):v&&g!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var g=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(g),g},h.prototype.update=function(p,v){var g=this;f.prototype.update.call(this,p,v),p.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var g=f.prototype.wrap.call(this,p,v);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h})(l.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(30),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=i(11),a=i(3),o={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=a(!0,{},u);f||(h=Object.keys(h).reduce(function(v,g){return h[g]!=null&&(v[g]=h[g]),v},{}));for(var p in c)c[p]!==void 0&&u[p]===void 0&&(h[p]=c[p]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,p){return s(c[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,v){return c[v]===void 0&&(p[v]=u[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=c:typeof u.insert=="string"?p.insert=u.insert.substr(f,c):p.insert=u.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}else return[]},n.exports=o}),(function(n,r){var i=(function(){function s(g,y){return y!=null&&g instanceof y}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,y,_,x,w){typeof y=="object"&&(_=y.depth,x=y.prototype,w=y.includeNonEnumerable,y=y.circular);var C=[],D=[],R=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof _>"u"&&(_=1/0);function S(N,k){if(N===null)return null;if(k===0)return N;var F,P;if(typeof N!="object")return N;if(s(N,a))F=new a;else if(s(N,o))F=new o;else if(s(N,l))F=new l(function(Y,B){N.then(function(j){Y(S(j,k-1))},function(j){B(S(j,k-1))})});else if(c.__isArray(N))F=[];else if(c.__isRegExp(N))F=new RegExp(N.source,v(N)),N.lastIndex&&(F.lastIndex=N.lastIndex);else if(c.__isDate(N))F=new Date(N.getTime());else{if(R&&Buffer.isBuffer(N))return Buffer.allocUnsafe?F=Buffer.allocUnsafe(N.length):F=new Buffer(N.length),N.copy(F),F;s(N,Error)?F=Object.create(N):typeof x>"u"?(P=Object.getPrototypeOf(N),F=Object.create(P)):(F=Object.create(x),P=x)}if(y){var I=C.indexOf(N);if(I!=-1)return D[I];C.push(N),D.push(F)}s(N,a)&&N.forEach(function(Y,B){var j=S(B,k-1),q=S(Y,k-1);F.set(j,q)}),s(N,o)&&N.forEach(function(Y){var B=S(Y,k-1);F.add(B)});for(var U in N){var O;P&&(O=Object.getOwnPropertyDescriptor(P,U)),!(O&&O.set==null)&&(F[U]=S(N[U],k-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(N),U=0;U<G.length;U++){var K=G[U],J=Object.getOwnPropertyDescriptor(N,K);J&&!J.enumerable&&!w||(F[K]=S(N[K],k-1),J.enumerable||Object.defineProperty(F,K,{enumerable:!1}))}if(w)for(var te=Object.getOwnPropertyNames(N),U=0;U<te.length;U++){var z=te[U],J=Object.getOwnPropertyDescriptor(N,z);J&&J.enumerable||(F[z]=S(N[z],k-1),Object.defineProperty(F,z,{enumerable:!1}))}return F}return S(g,_)}c.clonePrototype=function(y){if(y===null)return null;var _=function(){};return _.prototype=y,new _};function u(g){return Object.prototype.toString.call(g)}c.__objToStr=u;function f(g){return typeof g=="object"&&u(g)==="[object Date]"}c.__isDate=f;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}c.__isArray=h;function p(g){return typeof g=="object"&&u(g)==="[object RegExp]"}c.__isRegExp=p;function v(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return c.__getRegExpFlags=v,c})();typeof n=="object"&&n.exports&&(n.exports=i)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,I){var U=[],O=!0,G=!1,K=void 0;try{for(var J=P[Symbol.iterator](),te;!(O=(te=J.next()).done)&&(U.push(te.value),!(I&&U.length===I));O=!0);}catch(z){G=!0,K=z}finally{try{!O&&J.return&&J.return()}finally{if(G)throw K}}return U}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function F(P,I){for(var U=0;U<I.length;U++){var O=I[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,I,U){return I&&F(P.prototype,I),U&&F(P,U),P}})(),o=function F(P,I,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,I);if(O===void 0){var G=Object.getPrototypeOf(P);return G===null?void 0:F(G,I,U)}else{if("value"in O)return O.value;var K=O.get;return K===void 0?void 0:K.call(U)}},l=i(0),c=C(l),u=i(8),f=C(u),h=i(4),p=C(h),v=i(16),g=C(v),y=i(13),_=C(y),x=i(25),w=C(x);function C(F){return F&&F.__esModule?F:{default:F}}function D(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function R(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function S(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}function N(F){return F instanceof p.default||F instanceof h.BlockEmbed}var k=(function(F){S(P,F);function P(I,U){D(this,P);var O=R(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I));return O.emitter=U.emitter,Array.isArray(U.whitelist)&&(O.whitelist=U.whitelist.reduce(function(G,K){return G[K]=!0,G},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return a(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(U,O){var G=this.line(U),K=s(G,2),J=K[0],te=K[1],z=this.line(U+O),Y=s(z,1),B=Y[0];if(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,U,O),B!=null&&J!==B&&te>0){if(J instanceof h.BlockEmbed||B instanceof h.BlockEmbed){this.optimize();return}if(J instanceof _.default){var j=J.newlineIndex(J.length(),!0);if(j>-1&&(J=J.split(j+1),J===B)){this.optimize();return}}else if(B instanceof _.default){var q=B.newlineIndex(0);q>-1&&B.split(q+1)}var X=B.children.head instanceof g.default?null:B.children.head;J.moveChildren(B,X),J.remove()}this.optimize()}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",U)}},{key:"formatAt",value:function(U,O,G,K){this.whitelist!=null&&!this.whitelist[G]||(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,U,O,G,K),this.optimize())}},{key:"insertAt",value:function(U,O,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[O])){if(U>=this.length())if(G==null||c.default.query(O,c.default.Scope.BLOCK)==null){var K=c.default.create(this.statics.defaultChild);this.appendChild(K),G==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),K.insertAt(0,O,G)}else{var J=c.default.create(O,G);this.appendChild(J)}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,U,O,G);this.optimize()}}},{key:"insertBefore",value:function(U,O){if(U.statics.scope===c.default.Scope.INLINE_BLOT){var G=c.default.create(this.statics.defaultChild);G.appendChild(U),U=G}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,U,O)}},{key:"leaf",value:function(U){return this.path(U).pop()||[null,-1]}},{key:"line",value:function(U){return U===this.length()?this.line(U-1):this.descendant(N,U)}},{key:"lines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function K(J,te,z){var Y=[],B=z;return J.children.forEachAt(te,z,function(j,q,X){N(j)?Y.push(j):j instanceof c.default.Container&&(Y=Y.concat(K(j,q,B))),B-=X}),Y};return G(this,U,O)}},{key:"optimize",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,U,O),U.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,U,O))}},{key:"path",value:function(U){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,U).slice(1)}},{key:"update",value:function(U){if(this.batch!==!0){var O=f.default.sources.USER;typeof U=="string"&&(O=U),Array.isArray(U)||(U=this.observer.takeRecords()),U.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,O,U),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,U.concat([])),U.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,O,U)}}}]),P})(c.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,h.BlockEmbed,w.default],r.default=k}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},a=(function(){function ee(ae,de){var fe=[],Ne=!0,Re=!1,me=void 0;try{for(var Le=ae[Symbol.iterator](),V;!(Ne=(V=Le.next()).done)&&(fe.push(V.value),!(de&&fe.length===de));Ne=!0);}catch(ve){Re=!0,me=ve}finally{try{!Ne&&Le.return&&Le.return()}finally{if(Re)throw me}}return fe}return function(ae,de){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return ee(ae,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function ee(ae,de){for(var fe=0;fe<de.length;fe++){var Ne=de[fe];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(ae,Ne.key,Ne)}}return function(ae,de,fe){return de&&ee(ae.prototype,de),fe&&ee(ae,fe),ae}})(),l=i(21),c=F(l),u=i(11),f=F(u),h=i(3),p=F(h),v=i(2),g=F(v),y=i(20),_=F(y),x=i(0),w=F(x),C=i(5),D=F(C),R=i(10),S=F(R),N=i(9),k=F(N);function F(ee){return ee&&ee.__esModule?ee:{default:ee}}function P(ee,ae,de){return ae in ee?Object.defineProperty(ee,ae,{value:de,enumerable:!0,configurable:!0,writable:!0}):ee[ae]=de,ee}function I(ee,ae){if(!(ee instanceof ae))throw new TypeError("Cannot call a class as a function")}function U(ee,ae){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:ee}function O(ee,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);ee.prototype=Object.create(ae&&ae.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ae):ee.__proto__=ae)}var G=(0,S.default)("quill:keyboard"),K=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",J=(function(ee){O(ae,ee),o(ae,null,[{key:"match",value:function(fe,Ne){return Ne=Q(Ne),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Re){return!!Ne[Re]!==fe[Re]&&Ne[Re]!==null})?!1:Ne.key===(fe.which||fe.keyCode)}}]);function ae(de,fe){I(this,ae);var Ne=U(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,de,fe));return Ne.bindings={},Object.keys(Ne.options.bindings).forEach(function(Re){Re==="list autofill"&&de.scroll.whitelist!=null&&!de.scroll.whitelist.list||Ne.options.bindings[Re]&&Ne.addBinding(Ne.options.bindings[Re])}),Ne.addBinding({key:ae.keys.ENTER,shiftKey:null},j),Ne.addBinding({key:ae.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Ne.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0},z),Ne.addBinding({key:ae.keys.DELETE},{collapsed:!0},Y)):(Ne.addBinding({key:ae.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),Ne.addBinding({key:ae.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Y)),Ne.addBinding({key:ae.keys.BACKSPACE},{collapsed:!1},B),Ne.addBinding({key:ae.keys.DELETE},{collapsed:!1},B),Ne.addBinding({key:ae.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),Ne.listen(),Ne}return o(ae,[{key:"addBinding",value:function(fe){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=Q(fe);if(me==null||me.key==null)return G.warn("Attempted to add invalid keyboard binding",me);typeof Ne=="function"&&(Ne={handler:Ne}),typeof Re=="function"&&(Re={handler:Re}),me=(0,p.default)(me,Ne,Re),this.bindings[me.key]=this.bindings[me.key]||[],this.bindings[me.key].push(me)}},{key:"listen",value:function(){var fe=this;this.quill.root.addEventListener("keydown",function(Ne){if(!Ne.defaultPrevented){var Re=Ne.which||Ne.keyCode,me=(fe.bindings[Re]||[]).filter(function(Oe){return ae.match(Ne,Oe)});if(me.length!==0){var Le=fe.quill.getSelection();if(!(Le==null||!fe.quill.hasFocus())){var V=fe.quill.getLine(Le.index),ve=a(V,2),we=ve[0],oe=ve[1],re=fe.quill.getLeaf(Le.index),le=a(re,2),he=le[0],_e=le[1],ie=Le.length===0?[he,_e]:fe.quill.getLeaf(Le.index+Le.length),ce=a(ie,2),ye=ce[0],xe=ce[1],ke=he instanceof w.default.Text?he.value().slice(0,_e):"",Ue=ye instanceof w.default.Text?ye.value().slice(xe):"",Ce={collapsed:Le.length===0,empty:Le.length===0&&we.length()<=1,format:fe.quill.getFormat(Le),offset:oe,prefix:ke,suffix:Ue},Me=me.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==Ce.collapsed||Oe.empty!=null&&Oe.empty!==Ce.empty||Oe.offset!=null&&Oe.offset!==Ce.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(Ke){return Ce.format[Ke]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(Ke){return Oe.format[Ke]===!0?Ce.format[Ke]!=null:Oe.format[Ke]===!1?Ce.format[Ke]==null:(0,f.default)(Oe.format[Ke],Ce.format[Ke])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(Ce.prefix)||Oe.suffix!=null&&!Oe.suffix.test(Ce.suffix)?!1:Oe.handler.call(fe,Le,Ce)!==!0});Me&&Ne.preventDefault()}}}})}}]),ae})(k.default);J.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},J.DEFAULTS={bindings:{bold:X("bold"),italic:X("italic"),underline:X("underline"),indent:{key:J.keys.TAB,format:["blockquote","indent","list"],handler:function(ae,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","+1",D.default.sources.USER)}},outdent:{key:J.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ae,de){if(de.collapsed&&de.offset!==0)return!0;this.quill.format("indent","-1",D.default.sources.USER)}},"outdent backspace":{key:J.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ae,de){de.format.indent!=null?this.quill.format("indent","-1",D.default.sources.USER):de.format.list!=null&&this.quill.format("list",!1,D.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:J.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ae){this.quill.deleteText(ae.index-1,1,D.default.sources.USER)}},tab:{key:J.keys.TAB,handler:function(ae){this.quill.history.cutoff();var de=new g.default().retain(ae.index).delete(ae.length).insert("	");this.quill.updateContents(de,D.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index+1,D.default.sources.SILENT)}},"list empty enter":{key:J.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ae,de){this.quill.format("list",!1,D.default.sources.USER),de.format.indent&&this.quill.format("indent",!1,D.default.sources.USER)}},"checklist enter":{key:J.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ae){var de=this.quill.getLine(ae.index),fe=a(de,2),Ne=fe[0],Re=fe[1],me=(0,p.default)({},Ne.formats(),{list:"checked"}),Le=new g.default().retain(ae.index).insert(`
`,me).retain(Ne.length()-Re-1).retain(1,{list:"unchecked"});this.quill.updateContents(Le,D.default.sources.USER),this.quill.setSelection(ae.index+1,D.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:J.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ae,de){var fe=this.quill.getLine(ae.index),Ne=a(fe,2),Re=Ne[0],me=Ne[1],Le=new g.default().retain(ae.index).insert(`
`,de.format).retain(Re.length()-me-1).retain(1,{header:null});this.quill.updateContents(Le,D.default.sources.USER),this.quill.setSelection(ae.index+1,D.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ae,de){var fe=de.prefix.length,Ne=this.quill.getLine(ae.index),Re=a(Ne,2),me=Re[0],Le=Re[1];if(Le>fe)return!0;var V=void 0;switch(de.prefix.trim()){case"[]":case"[ ]":V="unchecked";break;case"[x]":V="checked";break;case"-":case"*":V="bullet";break;default:V="ordered"}this.quill.insertText(ae.index," ",D.default.sources.USER),this.quill.history.cutoff();var ve=new g.default().retain(ae.index-Le).delete(fe+1).retain(me.length()-2-Le).retain(1,{list:V});this.quill.updateContents(ve,D.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ae.index-fe,D.default.sources.SILENT)}},"code exit":{key:J.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ae){var de=this.quill.getLine(ae.index),fe=a(de,2),Ne=fe[0],Re=fe[1],me=new g.default().retain(ae.index+Ne.length()-Re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(me,D.default.sources.USER)}},"embed left":te(J.keys.LEFT,!1),"embed left shift":te(J.keys.LEFT,!0),"embed right":te(J.keys.RIGHT,!1),"embed right shift":te(J.keys.RIGHT,!0)}};function te(ee,ae){var de,fe=ee===J.keys.LEFT?"prefix":"suffix";return de={key:ee,shiftKey:ae,altKey:null},P(de,fe,/^$/),P(de,"handler",function(Re){var me=Re.index;ee===J.keys.RIGHT&&(me+=Re.length+1);var Le=this.quill.getLeaf(me),V=a(Le,1),ve=V[0];return ve instanceof w.default.Embed?(ee===J.keys.LEFT?ae?this.quill.setSelection(Re.index-1,Re.length+1,D.default.sources.USER):this.quill.setSelection(Re.index-1,D.default.sources.USER):ae?this.quill.setSelection(Re.index,Re.length+1,D.default.sources.USER):this.quill.setSelection(Re.index+Re.length+1,D.default.sources.USER),!1):!0}),de}function z(ee,ae){if(!(ee.index===0||this.quill.getLength()<=1)){var de=this.quill.getLine(ee.index),fe=a(de,1),Ne=fe[0],Re={};if(ae.offset===0){var me=this.quill.getLine(ee.index-1),Le=a(me,1),V=Le[0];if(V!=null&&V.length()>1){var ve=Ne.formats(),we=this.quill.getFormat(ee.index-1,1);Re=_.default.attributes.diff(ve,we)||{}}}var oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ae.prefix)?2:1;this.quill.deleteText(ee.index-oe,oe,D.default.sources.USER),Object.keys(Re).length>0&&this.quill.formatLine(ee.index-oe,oe,Re,D.default.sources.USER),this.quill.focus()}}function Y(ee,ae){var de=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ae.suffix)?2:1;if(!(ee.index>=this.quill.getLength()-de)){var fe={},Ne=0,Re=this.quill.getLine(ee.index),me=a(Re,1),Le=me[0];if(ae.offset>=Le.length()-1){var V=this.quill.getLine(ee.index+1),ve=a(V,1),we=ve[0];if(we){var oe=Le.formats(),re=this.quill.getFormat(ee.index,1);fe=_.default.attributes.diff(oe,re)||{},Ne=we.length()}}this.quill.deleteText(ee.index,de,D.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(ee.index+Ne-1,de,fe,D.default.sources.USER)}}function B(ee){var ae=this.quill.getLines(ee),de={};if(ae.length>1){var fe=ae[0].formats(),Ne=ae[ae.length-1].formats();de=_.default.attributes.diff(Ne,fe)||{}}this.quill.deleteText(ee,D.default.sources.USER),Object.keys(de).length>0&&this.quill.formatLine(ee.index,1,de,D.default.sources.USER),this.quill.setSelection(ee.index,D.default.sources.SILENT),this.quill.focus()}function j(ee,ae){var de=this;ee.length>0&&this.quill.scroll.deleteAt(ee.index,ee.length);var fe=Object.keys(ae.format).reduce(function(Ne,Re){return w.default.query(Re,w.default.Scope.BLOCK)&&!Array.isArray(ae.format[Re])&&(Ne[Re]=ae.format[Re]),Ne},{});this.quill.insertText(ee.index,`
`,fe,D.default.sources.USER),this.quill.setSelection(ee.index+1,D.default.sources.SILENT),this.quill.focus(),Object.keys(ae.format).forEach(function(Ne){fe[Ne]==null&&(Array.isArray(ae.format[Ne])||Ne!=="link"&&de.quill.format(Ne,ae.format[Ne],D.default.sources.USER))})}function q(ee){return{key:J.keys.TAB,shiftKey:!ee,format:{"code-block":!0},handler:function(de){var fe=w.default.query("code-block"),Ne=de.index,Re=de.length,me=this.quill.scroll.descendant(fe,Ne),Le=a(me,2),V=Le[0],ve=Le[1];if(V!=null){var we=this.quill.getIndex(V),oe=V.newlineIndex(ve,!0)+1,re=V.newlineIndex(we+ve+Re),le=V.domNode.textContent.slice(oe,re).split(`
`);ve=0,le.forEach(function(he,_e){ee?(V.insertAt(oe+ve,fe.TAB),ve+=fe.TAB.length,_e===0?Ne+=fe.TAB.length:Re+=fe.TAB.length):he.startsWith(fe.TAB)&&(V.deleteAt(oe+ve,fe.TAB.length),ve-=fe.TAB.length,_e===0?Ne-=fe.TAB.length:Re-=fe.TAB.length),ve+=he.length+1}),this.quill.update(D.default.sources.USER),this.quill.setSelection(Ne,Re,D.default.sources.SILENT)}}}}function X(ee){return{key:ee[0].toUpperCase(),shortKey:!0,handler:function(de,fe){this.quill.format(ee,!fe.format[ee],D.default.sources.USER)}}}function Q(ee){if(typeof ee=="string"||typeof ee=="number")return Q({key:ee});if((typeof ee>"u"?"undefined":s(ee))==="object"&&(ee=(0,c.default)(ee,!1)),typeof ee.key=="string")if(J.keys[ee.key.toUpperCase()]!=null)ee.key=J.keys[ee.key.toUpperCase()];else if(ee.key.length===1)ee.key=ee.key.toUpperCase().charCodeAt(0);else return null;return ee.shortKey&&(ee[K]=ee.shortKey,delete ee.shortKey),ee}r.default=J,r.SHORTKEY=K}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(x,w){var C=[],D=!0,R=!1,S=void 0;try{for(var N=x[Symbol.iterator](),k;!(D=(k=N.next()).done)&&(C.push(k.value),!(w&&C.length===w));D=!0);}catch(F){R=!0,S=F}finally{try{!D&&N.return&&N.return()}finally{if(R)throw S}}return C}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return _(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var D=Object.getOwnPropertyDescriptor(x,w);if(D===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in D)return D.value;var S=D.get;return S===void 0?void 0:S.call(C)}},o=(function(){function _(x,w){for(var C=0;C<w.length;C++){var D=w[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(x,D.key,D)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),l=i(0),c=h(l),u=i(7),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function p(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function v(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function g(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var y=(function(_){g(x,_),o(x,null,[{key:"value",value:function(){}}]);function x(w,C){p(this,x);var D=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return D.selection=C,D.textNode=document.createTextNode(x.CONTENTS),D.domNode.appendChild(D.textNode),D._length=0,D}return o(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(C,D){if(this._length!==0)return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,C,D);for(var R=this,S=0;R!=null&&R.statics.scope!==c.default.Scope.BLOCK_BLOT;)S+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=x.CONTENTS.length,R.optimize(),R.formatAt(S,x.CONTENTS.length,C,D),this._length=0)}},{key:"index",value:function(C,D){return C===this.textNode?0:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,C,D)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var C=this.textNode,D=this.selection.getNativeRange(),R=void 0,S=void 0,N=void 0;if(D!=null&&D.start.node===C&&D.end.node===C){var k=[C,D.start.offset,D.end.offset];R=k[0],S=k[1],N=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var F=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(R=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=x.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var P=[S,N].map(function(U){return Math.max(0,Math.min(R.data.length,U-1))}),I=s(P,2);return S=I[0],N=I[1],{startNode:R,startOffset:S,endNode:R,endOffset:N}}}}},{key:"update",value:function(C,D){var R=this;if(C.some(function(N){return N.type==="characterData"&&N.target===R.textNode})){var S=this.restore();S&&(D.range=S)}}},{key:"value",value:function(){return""}}]),x})(c.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=c(s),o=i(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default.Container);p.allowedChildren=[l.default,o.BlockEmbed,p],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var D=Object.getPrototypeOf(_);return D===null?void 0:y(D,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function h(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var p=(function(y){h(_,y);function _(){return u(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(w){var C=a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,w);return C.startsWith("rgb(")?(C=C.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+C.split(",").map(function(D){return("00"+parseInt(D).toString(16)).slice(-2)}).join("")):C}}]),_})(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=(function(){function g(y,_){for(var x=0;x<_.length;x++){var w=_[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,_,x){return _&&g(y.prototype,_),x&&g(y,x),y}})(),a=function g(y,_,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,_);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,_,x)}else{if("value"in w)return w.value;var D=w.get;return D===void 0?void 0:D.call(x)}},o=i(6),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return v(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),y})(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(g,y){var _=document.createElement("a");_.href=g;var x=_.href.slice(0,_.href.indexOf(":"));return y.indexOf(x)>-1}r.default=p,r.sanitize=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),o=i(23),l=f(o),c=i(107),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}var p=0;function v(y,_){y.setAttribute(_,y.getAttribute(_)!=="true")}var g=(function(){function y(_){var x=this;h(this,y),this.select=_,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,C=document.createElement("span");return C.tabIndex="0",C.setAttribute("role","button"),C.classList.add("ql-picker-item"),x.hasAttribute("value")&&C.setAttribute("data-value",x.getAttribute("value")),x.textContent&&C.setAttribute("data-label",x.textContent),C.addEventListener("click",function(){w.selectItem(C,!0)}),C.addEventListener("keydown",function(D){switch(D.keyCode){case l.default.keys.ENTER:w.selectItem(C,!0),D.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),D.preventDefault();break}}),C}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=u.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(C){var D=x.buildItem(C);w.appendChild(D),C.selected===!0&&x.selectItem(D)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=this.container.querySelector(".ql-selected");if(x!==C&&(C!=null&&C.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var D=document.createEvent("Event");D.initEvent("change",!0,!0),this.select.dispatchEvent(D)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var C=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",C)}}]),y})();r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=G(s),o=i(5),l=G(o),c=i(4),u=G(c),f=i(16),h=G(f),p=i(25),v=G(p),g=i(24),y=G(g),_=i(35),x=G(_),w=i(6),C=G(w),D=i(22),R=G(D),S=i(7),N=G(S),k=i(55),F=G(k),P=i(42),I=G(P),U=i(23),O=G(U);function G(K){return K&&K.__esModule?K:{default:K}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":y.default,"blots/embed":x.default,"blots/inline":C.default,"blots/scroll":R.default,"blots/text":N.default,"modules/clipboard":F.default,"modules/history":I.default,"modules/keyboard":O.default}),a.default.register(u.default,h.default,y.default,C.default,R.default,N.default),r.default=l.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,f){var h=this.isolate(l,c);if(s.query(u,s.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(u,f)}},o.prototype.insertAt=function(l,c,u){var f=u==null?s.create("text",c):s.create(c,u),h=this.split(l);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(32),o=i(33),l=i(1),c=(function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=a.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof s.default&&(f.attributes[y.attrName]=y)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);f.format(p,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u})();r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c,u){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c){var u=c.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u})(a.default);r.default=l}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){a(this,l),this.quill=c,this.options=u,this.modules={}}return s(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(x,w){for(var C=0;C<w.length;C++){var D=w[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(x,D.key,D)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var D=Object.getOwnPropertyDescriptor(x,w);if(D===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in D)return D.value;var S=D.get;return S===void 0?void 0:S.call(C)}},o=i(0),l=f(o),c=i(7),u=f(c);function f(_){return _&&_.__esModule?_:{default:_}}function h(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function p(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function v(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var g="\uFEFF",y=(function(_){v(x,_);function x(w){h(this,x);var C=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return C.contentNode=document.createElement("span"),C.contentNode.setAttribute("contenteditable",!1),[].slice.call(C.domNode.childNodes).forEach(function(D){C.contentNode.appendChild(D)}),C.leftGuard=document.createTextNode(g),C.rightGuard=document.createTextNode(g),C.domNode.appendChild(C.leftGuard),C.domNode.appendChild(C.contentNode),C.domNode.appendChild(C.rightGuard),C}return s(x,[{key:"index",value:function(C,D){return C===this.leftGuard?0:C===this.rightGuard?1:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,C,D)}},{key:"restore",value:function(C){var D=void 0,R=void 0,S=C.data.split(g).join("");if(C===this.leftGuard)if(this.prev instanceof u.default){var N=this.prev.length();this.prev.insertAt(N,S),D={startNode:this.prev.domNode,startOffset:N+S.length}}else R=document.createTextNode(S),this.parent.insertBefore(l.default.create(R),this),D={startNode:R,startOffset:S.length};else C===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,S),D={startNode:this.next.domNode,startOffset:S.length}):(R=document.createTextNode(S),this.parent.insertBefore(l.default.create(R),this.next),D={startNode:R,startOffset:S.length}));return C.data=g,D}},{key:"update",value:function(C,D){var R=this;C.forEach(function(S){if(S.type==="characterData"&&(S.target===R.leftGuard||S.target===R.rightGuard)){var N=R.restore(S.target);N&&(D.range=N)}})}}]),x})(l.default.Embed);r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",l),u=new a.default.Attributor.Class("align","ql-align",l),f=new a.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),a=l(s),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",l),u=new a.default.Attributor.Class("direction","ql-direction",l),f=new a.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=(function(){function _(x,w){for(var C=0;C<w.length;C++){var D=w[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(x,D.key,D)}}return function(x,w,C){return w&&_(x.prototype,w),C&&_(x,C),x}})(),a=function _(x,w,C){x===null&&(x=Function.prototype);var D=Object.getOwnPropertyDescriptor(x,w);if(D===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:_(R,w,C)}else{if("value"in D)return D.value;var S=D.get;return S===void 0?void 0:S.call(C)}},o=i(0),l=c(o);function c(_){return _&&_.__esModule?_:{default:_}}function u(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function f(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function h(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),g=(function(_){h(x,_);function x(){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(C){return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,C).replace(/["']/g,"")}}]),x})(l.default.Attributor.Style),y=new g("font","font-family",p);r.FontStyle=y,r.FontClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),a=o(s);function o(u){return u&&u.__esModule?u:{default:u}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c}),(function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=(function(){function w(C,D){for(var R=0;R<D.length;R++){var S=D[R];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,D,R){return D&&w(C.prototype,D),R&&w(C,R),C}})(),a=i(0),o=h(a),l=i(5),c=h(l),u=i(9),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function v(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function g(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var y=(function(w){g(C,w);function C(D,R){p(this,C);var S=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D,R));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(c.default.events.EDITOR_CHANGE,function(N,k,F,P){N!==c.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||P===c.default.sources.USER?S.record(k,F):S.transform(k))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(C,[{key:"change",value:function(R,S){if(this.stack[R].length!==0){var N=this.stack[R].pop();this.stack[S].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[R],c.default.sources.USER),this.ignoreChange=!1;var k=x(N[R]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,S){if(R.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(S),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var F=this.stack.undo.pop();N=N.compose(F.undo),R=F.redo.compose(R)}else this.lastRecorded=k;this.stack.undo.push({redo:R,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(S){S.undo=R.transform(S.undo,!0),S.redo=R.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=R.transform(S.undo,!0),S.redo=R.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),C})(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function _(w){var C=w.ops[w.ops.length-1];return C==null?!1:C.insert!=null?typeof C.insert=="string"&&C.insert.endsWith(`
`):C.attributes!=null?Object.keys(C.attributes).some(function(D){return o.default.query(D,o.default.Scope.BLOCK)!=null}):!1}function x(w){var C=w.reduce(function(R,S){return R+=S.delete||0,R},0),D=w.length()-C;return _(w)&&(D-=1),D}r.default=y,r.getLastChangeIndex=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=(function(){function j(q,X){for(var Q=0;Q<X.length;Q++){var ee=X[Q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(q,ee.key,ee)}}return function(q,X,Q){return X&&j(q.prototype,X),Q&&j(q,Q),q}})(),a=function j(q,X,Q){q===null&&(q=Function.prototype);var ee=Object.getOwnPropertyDescriptor(q,X);if(ee===void 0){var ae=Object.getPrototypeOf(q);return ae===null?void 0:j(ae,X,Q)}else{if("value"in ee)return ee.value;var de=ee.get;return de===void 0?void 0:de.call(Q)}},o=i(3),l=k(o),c=i(2),u=k(c),f=i(8),h=k(f),p=i(23),v=k(p),g=i(34),y=k(g),_=i(59),x=k(_),w=i(60),C=k(w),D=i(28),R=k(D),S=i(61),N=k(S);function k(j){return j&&j.__esModule?j:{default:j}}function F(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}function P(j,q){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:j}function I(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(j,q):j.__proto__=q)}var U=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],K=["1","2","3",!1],J=["small",!1,"large","huge"],te=(function(j){I(q,j);function q(X,Q){F(this,q);var ee=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,X,Q)),ae=function de(fe){if(!document.body.contains(X.root))return document.body.removeEventListener("click",de);ee.tooltip!=null&&!ee.tooltip.root.contains(fe.target)&&document.activeElement!==ee.tooltip.textbox&&!ee.quill.hasFocus()&&ee.tooltip.hide(),ee.pickers!=null&&ee.pickers.forEach(function(Ne){Ne.container.contains(fe.target)||Ne.close()})};return X.emitter.listenDOM("click",document.body,ae),ee}return s(q,[{key:"addModule",value:function(Q){var ee=a(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(ee),ee}},{key:"buildButtons",value:function(Q,ee){Q.forEach(function(ae){var de=ae.getAttribute("class")||"";de.split(/\s+/).forEach(function(fe){if(fe.startsWith("ql-")&&(fe=fe.slice(3),ee[fe]!=null))if(fe==="direction")ae.innerHTML=ee[fe][""]+ee[fe].rtl;else if(typeof ee[fe]=="string")ae.innerHTML=ee[fe];else{var Ne=ae.value||"";Ne!=null&&ee[fe][Ne]&&(ae.innerHTML=ee[fe][Ne])}})})}},{key:"buildPickers",value:function(Q,ee){var ae=this;this.pickers=Q.map(function(fe){if(fe.classList.contains("ql-align"))return fe.querySelector("option")==null&&B(fe,U),new C.default(fe,ee.align);if(fe.classList.contains("ql-background")||fe.classList.contains("ql-color")){var Ne=fe.classList.contains("ql-background")?"background":"color";return fe.querySelector("option")==null&&B(fe,O,Ne==="background"?"#ffffff":"#000000"),new x.default(fe,ee[Ne])}else return fe.querySelector("option")==null&&(fe.classList.contains("ql-font")?B(fe,G):fe.classList.contains("ql-header")?B(fe,K):fe.classList.contains("ql-size")&&B(fe,J)),new R.default(fe)});var de=function(){ae.pickers.forEach(function(Ne){Ne.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,de)}}]),q})(y.default);te.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,X=this.container.querySelector("input.ql-image[type=file]");X==null&&(X=document.createElement("input"),X.setAttribute("type","file"),X.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),X.classList.add("ql-image"),X.addEventListener("change",function(){if(X.files!=null&&X.files[0]!=null){var Q=new FileReader;Q.onload=function(ee){var ae=q.quill.getSelection(!0);q.quill.updateContents(new u.default().retain(ae.index).delete(ae.length).insert({image:ee.target.result}),h.default.sources.USER),q.quill.setSelection(ae.index+1,h.default.sources.SILENT),X.value=""},Q.readAsDataURL(X.files[0])}}),this.container.appendChild(X)),X.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=(function(j){I(q,j);function q(X,Q){F(this,q);var ee=P(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,X,Q));return ee.textbox=ee.root.querySelector('input[type="text"]'),ee.listen(),ee}return s(q,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(ee){v.default.match(ee,"enter")?(Q.save(),ee.preventDefault()):v.default.match(ee,"escape")&&(Q.cancel(),ee.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),ee!=null?this.textbox.value=ee:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var ee=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,h.default.sources.USER)),this.quill.root.scrollTop=ee;break}case"video":Q=Y(Q);case"formula":{if(!Q)break;var ae=this.quill.getSelection(!0);if(ae!=null){var de=ae.index+ae.length;this.quill.insertEmbed(de,this.root.getAttribute("data-mode"),Q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(de+1," ",h.default.sources.USER),this.quill.setSelection(de+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q})(N.default);function Y(j){var q=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":j}function B(j,q){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(Q){var ee=document.createElement("option");Q===X?ee.setAttribute("selected","selected"):ee.setAttribute("value",Q),j.appendChild(ee)})}r.BaseTooltip=z,r.default=te}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},a.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},a.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},a.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},a.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},a.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},a.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},a.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},a.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),f=u[0],h=u[1],p,v=o-h,g=this.iterator(f);(p=g())&&v<o+l;){var y=p.length();o>v?c(p,o-v,Math.min(l,v+y-o)):c(p,0,Math.min(y,o+l-v)),v+=y}},a.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},a.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},a})();r.default=s}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(g){v.update(g)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,g,y){this.update(),f.prototype.formatAt.call(this,p,v,g,y)},h.prototype.insertAt=function(p,v,g){this.update(),f.prototype.insertAt.call(this,p,v,g)},h.prototype.optimize=function(p,v){var g=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)p.push(y.pop());for(var _=function(D,R){R===void 0&&(R=!0),!(D==null||D===g)&&D.domNode.parentNode!=null&&(D.domNode[o.DATA_KEY].mutations==null&&(D.domNode[o.DATA_KEY].mutations=[]),R&&_(D.parent))},x=function(D){D.domNode[o.DATA_KEY]==null||D.domNode[o.DATA_KEY].mutations==null||(D instanceof a.default&&D.children.forEach(x),D.optimize(v))},w=p,C=0;w.length>0;C+=1){if(C>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(D){var R=o.find(D.target,!0);R!=null&&(R.domNode===D.target&&(D.type==="childList"?(_(o.find(D.previousSibling,!1)),[].forEach.call(D.addedNodes,function(S){var N=o.find(S,!1);_(N,!1),N instanceof a.default&&N.children.forEach(function(k){_(k,!1)})})):D.type==="attributes"&&_(R.prev)),_(R))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)p.push(y.pop())}},h.prototype.update=function(p,v){var g=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(y){var _=o.find(y.target,!0);return _==null?null:_.domNode[o.DATA_KEY].mutations==null?(_.domNode[o.DATA_KEY].mutations=[y],_):(_.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(a.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(g){g instanceof a.default||(g=g.wrap(f.blotName,!0)),v.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,v,g){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var y=this.isolate(h,p);y.format(v,g)}else u.prototype.formatAt.call(this,h,p,v,g)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f})(a.default);r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return c.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,v){o.query(p,o.Scope.BLOCK)!=null?this.format(p,v):c.prototype.formatAt.call(this,f,h,p,v)},u.prototype.insertAt=function(f,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,h,p);else{var v=this.split(f),g=o.create(h,p);v.parent.insertBefore(g,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])};return function(c,u){l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=(function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},c.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,u,f,h,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c})(a.default);r.default=o}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=i(1),l=(function(c){s(u,c);function u(f){var h=c.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=o.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:a.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=c[p],l.call(f,h,p,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var i=-1,s=1,a=0;function o(C,D,R){if(C==D)return C?[[a,C]]:[];(R<0||C.length<R)&&(R=null);var S=f(C,D),N=C.substring(0,S);C=C.substring(S),D=D.substring(S),S=h(C,D);var k=C.substring(C.length-S);C=C.substring(0,C.length-S),D=D.substring(0,D.length-S);var F=l(C,D);return N&&F.unshift([a,N]),k&&F.push([a,k]),v(F),R!=null&&(F=_(F,R)),F=x(F),F}function l(C,D){var R;if(!C)return[[s,D]];if(!D)return[[i,C]];var S=C.length>D.length?C:D,N=C.length>D.length?D:C,k=S.indexOf(N);if(k!=-1)return R=[[s,S.substring(0,k)],[a,N],[s,S.substring(k+N.length)]],C.length>D.length&&(R[0][0]=R[2][0]=i),R;if(N.length==1)return[[i,C],[s,D]];var F=p(C,D);if(F){var P=F[0],I=F[1],U=F[2],O=F[3],G=F[4],K=o(P,U),J=o(I,O);return K.concat([[a,G]],J)}return c(C,D)}function c(C,D){for(var R=C.length,S=D.length,N=Math.ceil((R+S)/2),k=N,F=2*N,P=new Array(F),I=new Array(F),U=0;U<F;U++)P[U]=-1,I[U]=-1;P[k+1]=0,I[k+1]=0;for(var O=R-S,G=O%2!=0,K=0,J=0,te=0,z=0,Y=0;Y<N;Y++){for(var B=-Y+K;B<=Y-J;B+=2){var j=k+B,q;B==-Y||B!=Y&&P[j-1]<P[j+1]?q=P[j+1]:q=P[j-1]+1;for(var X=q-B;q<R&&X<S&&C.charAt(q)==D.charAt(X);)q++,X++;if(P[j]=q,q>R)J+=2;else if(X>S)K+=2;else if(G){var Q=k+O-B;if(Q>=0&&Q<F&&I[Q]!=-1){var ee=R-I[Q];if(q>=ee)return u(C,D,q,X)}}}for(var ae=-Y+te;ae<=Y-z;ae+=2){var Q=k+ae,ee;ae==-Y||ae!=Y&&I[Q-1]<I[Q+1]?ee=I[Q+1]:ee=I[Q-1]+1;for(var de=ee-ae;ee<R&&de<S&&C.charAt(R-ee-1)==D.charAt(S-de-1);)ee++,de++;if(I[Q]=ee,ee>R)z+=2;else if(de>S)te+=2;else if(!G){var j=k+O-ae;if(j>=0&&j<F&&P[j]!=-1){var q=P[j],X=k+q-j;if(ee=R-ee,q>=ee)return u(C,D,q,X)}}}}return[[i,C],[s,D]]}function u(C,D,R,S){var N=C.substring(0,R),k=D.substring(0,S),F=C.substring(R),P=D.substring(S),I=o(N,k),U=o(F,P);return I.concat(U)}function f(C,D){if(!C||!D||C.charAt(0)!=D.charAt(0))return 0;for(var R=0,S=Math.min(C.length,D.length),N=S,k=0;R<N;)C.substring(k,N)==D.substring(k,N)?(R=N,k=R):S=N,N=Math.floor((S-R)/2+R);return N}function h(C,D){if(!C||!D||C.charAt(C.length-1)!=D.charAt(D.length-1))return 0;for(var R=0,S=Math.min(C.length,D.length),N=S,k=0;R<N;)C.substring(C.length-N,C.length-k)==D.substring(D.length-N,D.length-k)?(R=N,k=R):S=N,N=Math.floor((S-R)/2+R);return N}function p(C,D){var R=C.length>D.length?C:D,S=C.length>D.length?D:C;if(R.length<4||S.length*2<R.length)return null;function N(J,te,z){for(var Y=J.substring(z,z+Math.floor(J.length/4)),B=-1,j="",q,X,Q,ee;(B=te.indexOf(Y,B+1))!=-1;){var ae=f(J.substring(z),te.substring(B)),de=h(J.substring(0,z),te.substring(0,B));j.length<de+ae&&(j=te.substring(B-de,B)+te.substring(B,B+ae),q=J.substring(0,z-de),X=J.substring(z+ae),Q=te.substring(0,B-de),ee=te.substring(B+ae))}return j.length*2>=J.length?[q,X,Q,ee,j]:null}var k=N(R,S,Math.ceil(R.length/4)),F=N(R,S,Math.ceil(R.length/2)),P;if(!k&&!F)return null;F?k?P=k[4].length>F[4].length?k:F:P=F:P=k;var I,U,O,G;C.length>D.length?(I=P[0],U=P[1],O=P[2],G=P[3]):(O=P[0],G=P[1],I=P[2],U=P[3]);var K=P[4];return[I,U,O,G,K]}function v(C){C.push([a,""]);for(var D=0,R=0,S=0,N="",k="",F;D<C.length;)switch(C[D][0]){case s:S++,k+=C[D][1],D++;break;case i:R++,N+=C[D][1],D++;break;case a:R+S>1?(R!==0&&S!==0&&(F=f(k,N),F!==0&&(D-R-S>0&&C[D-R-S-1][0]==a?C[D-R-S-1][1]+=k.substring(0,F):(C.splice(0,0,[a,k.substring(0,F)]),D++),k=k.substring(F),N=N.substring(F)),F=h(k,N),F!==0&&(C[D][1]=k.substring(k.length-F)+C[D][1],k=k.substring(0,k.length-F),N=N.substring(0,N.length-F))),R===0?C.splice(D-S,R+S,[s,k]):S===0?C.splice(D-R,R+S,[i,N]):C.splice(D-R-S,R+S,[i,N],[s,k]),D=D-R-S+(R?1:0)+(S?1:0)+1):D!==0&&C[D-1][0]==a?(C[D-1][1]+=C[D][1],C.splice(D,1)):D++,S=0,R=0,N="",k="";break}C[C.length-1][1]===""&&C.pop();var P=!1;for(D=1;D<C.length-1;)C[D-1][0]==a&&C[D+1][0]==a&&(C[D][1].substring(C[D][1].length-C[D-1][1].length)==C[D-1][1]?(C[D][1]=C[D-1][1]+C[D][1].substring(0,C[D][1].length-C[D-1][1].length),C[D+1][1]=C[D-1][1]+C[D+1][1],C.splice(D-1,1),P=!0):C[D][1].substring(0,C[D+1][1].length)==C[D+1][1]&&(C[D-1][1]+=C[D+1][1],C[D][1]=C[D][1].substring(C[D+1][1].length)+C[D+1][1],C.splice(D+1,1),P=!0)),D++;P&&v(C)}var g=o;g.INSERT=s,g.DELETE=i,g.EQUAL=a,n.exports=g;function y(C,D){if(D===0)return[a,C];for(var R=0,S=0;S<C.length;S++){var N=C[S];if(N[0]===i||N[0]===a){var k=R+N[1].length;if(D===k)return[S+1,C];if(D<k){C=C.slice();var F=D-R,P=[N[0],N[1].slice(0,F)],I=[N[0],N[1].slice(F)];return C.splice(S,1,P,I),[S+1,C]}else R=k}}throw new Error("cursor_pos is out of bounds!")}function _(C,D){var R=y(C,D),S=R[1],N=R[0],k=S[N],F=S[N+1];if(k==null)return C;if(k[0]!==a)return C;if(F!=null&&k[1]+F[1]===F[1]+k[1])return S.splice(N,2,F,k),w(S,N,2);if(F!=null&&F[1].indexOf(k[1])===0){S.splice(N,2,[F[0],k[1]],[0,k[1]]);var P=F[1].slice(k[1].length);return P.length>0&&S.splice(N+2,0,[F[0],P]),w(S,N,3)}else return C}function x(C){for(var D=!1,R=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},S=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},N=2;N<C.length;N+=1)C[N-2][0]===a&&S(C[N-2][1])&&C[N-1][0]===i&&R(C[N-1][1])&&C[N][0]===s&&R(C[N][1])&&(D=!0,C[N-1][1]=C[N-2][1].slice(-1)+C[N-1][1],C[N][1]=C[N-2][1].slice(-1)+C[N][1],C[N-2][1]=C[N-2][1].slice(0,-1));if(!D)return C;for(var k=[],N=0;N<C.length;N+=1)C[N][1].length>0&&k.push(C[N]);return k}function w(C,D,R){for(var S=D+R-1;S>=0&&S>=D-1;S--)if(S+1<C.length){var N=C[S],k=C[S+1];N[0]===k[1]&&C.splice(S,2,[N[0],N[1]+k[1]])}return C}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var a=[];for(var o in s)a.push(o);return a}}),(function(n,r){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=i?s:a,r.supported=s;function s(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)i.call(f,h)&&u.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=s?s+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,y=new Array(g);v<g;v++)y[v]=p[v].fn;return y},l.prototype.emit=function(u,f,h,p,v,g){var y=s?s+u:u;if(!this._events[y])return!1;var _=this._events[y],x=arguments.length,w,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,h),!0;case 4:return _.fn.call(_.context,f,h,p),!0;case 5:return _.fn.call(_.context,f,h,p,v),!0;case 6:return _.fn.call(_.context,f,h,p,v,g),!0}for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];_.fn.apply(_.context,w)}else{var D=_.length,R;for(C=0;C<D;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),x){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,f);break;case 3:_[C].fn.call(_[C].context,f,h);break;case 4:_[C].fn.call(_[C].context,f,h,p);break;default:if(!w)for(R=1,w=new Array(x-1);R<x;R++)w[R-1]=arguments[R];_[C].fn.apply(_[C].context,w)}}return!0},l.prototype.on=function(u,f,h){var p=new o(f,h||this),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(u,f,h){var p=new o(f,h||this,!0),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,p){var v=s?s+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var g=this._events[v];if(g.fn)g.fn===f&&(!p||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var y=0,_=[],x=g.length;y<x;y++)(g[y].fn!==f||p&&!g[y].once||h&&g[y].context!==h)&&_.push(g[y]);_.length?this._events[v]=_.length===1?_[0]:_:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=s?s+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new a:delete this._events[f])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},a=(function(){function re(le,he){var _e=[],ie=!0,ce=!1,ye=void 0;try{for(var xe=le[Symbol.iterator](),ke;!(ie=(ke=xe.next()).done)&&(_e.push(ke.value),!(he&&_e.length===he));ie=!0);}catch(Ue){ce=!0,ye=Ue}finally{try{!ie&&xe.return&&xe.return()}finally{if(ce)throw ye}}return _e}return function(le,he){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return re(le,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function re(le,he){for(var _e=0;_e<he.length;_e++){var ie=he[_e];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(le,ie.key,ie)}}return function(le,he,_e){return he&&re(le.prototype,he),_e&&re(le,_e),le}})(),l=i(3),c=I(l),u=i(2),f=I(u),h=i(0),p=I(h),v=i(5),g=I(v),y=i(10),_=I(y),x=i(9),w=I(x),C=i(36),D=i(37),R=i(13),S=I(R),N=i(26),k=i(38),F=i(39),P=i(40);function I(re){return re&&re.__esModule?re:{default:re}}function U(re,le,he){return le in re?Object.defineProperty(re,le,{value:he,enumerable:!0,configurable:!0,writable:!0}):re[le]=he,re}function O(re,le){if(!(re instanceof le))throw new TypeError("Cannot call a class as a function")}function G(re,le){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:re}function K(re,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);re.prototype=Object.create(le&&le.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(re,le):re.__proto__=le)}var J=(0,_.default)("quill:clipboard"),te="__ql-matcher",z=[[Node.TEXT_NODE,oe],[Node.TEXT_NODE,V],["br",Re],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,Ne],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,we],["li",Le],["b",de.bind(de,"bold")],["i",de.bind(de,"italic")],["style",me]],Y=[C.AlignAttribute,k.DirectionAttribute].reduce(function(re,le){return re[le.keyName]=le,re},{}),B=[C.AlignStyle,D.BackgroundStyle,N.ColorStyle,k.DirectionStyle,F.FontStyle,P.SizeStyle].reduce(function(re,le){return re[le.keyName]=le,re},{}),j=(function(re){K(le,re);function le(he,_e){O(this,le);var ie=G(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,he,_e));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],z.concat(ie.options.matchers).forEach(function(ce){var ye=a(ce,2),xe=ye[0],ke=ye[1];!_e.matchVisual&&ke===ve||ie.addMatcher(xe,ke)}),ie}return o(le,[{key:"addMatcher",value:function(_e,ie){this.matchers.push([_e,ie])}},{key:"convert",value:function(_e){if(typeof _e=="string")return this.container.innerHTML=_e.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[S.default.blotName]){var ce=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ce,U({},S.default.blotName,ie[S.default.blotName]))}var ye=this.prepareMatching(),xe=a(ye,2),ke=xe[0],Ue=xe[1],Ce=ae(this.container,ke,Ue);return Q(Ce,`
`)&&Ce.ops[Ce.ops.length-1].attributes==null&&(Ce=Ce.compose(new f.default().retain(Ce.length()-1).delete(1))),J.log("convert",this.container.innerHTML,Ce),this.container.innerHTML="",Ce}},{key:"dangerouslyPasteHTML",value:function(_e,ie){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof _e=="string")this.quill.setContents(this.convert(_e),ie),this.quill.setSelection(0,g.default.sources.SILENT);else{var ye=this.convert(ie);this.quill.updateContents(new f.default().retain(_e).concat(ye),ce),this.quill.setSelection(_e+ye.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(_e){var ie=this;if(!(_e.defaultPrevented||!this.quill.isEnabled())){var ce=this.quill.getSelection(),ye=new f.default().retain(ce.index),xe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){ye=ye.concat(ie.convert()).delete(ce.length),ie.quill.updateContents(ye,g.default.sources.USER),ie.quill.setSelection(ye.length()-ce.length,g.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=xe,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var _e=this,ie=[],ce=[];return this.matchers.forEach(function(ye){var xe=a(ye,2),ke=xe[0],Ue=xe[1];switch(ke){case Node.TEXT_NODE:ce.push(Ue);break;case Node.ELEMENT_NODE:ie.push(Ue);break;default:[].forEach.call(_e.container.querySelectorAll(ke),function(Ce){Ce[te]=Ce[te]||[],Ce[te].push(Ue)});break}}),[ie,ce]}}]),le})(w.default);j.DEFAULTS={matchers:[],matchVisual:!0};function q(re,le,he){return(typeof le>"u"?"undefined":s(le))==="object"?Object.keys(le).reduce(function(_e,ie){return q(_e,ie,le[ie])},re):re.reduce(function(_e,ie){return ie.attributes&&ie.attributes[le]?_e.push(ie):_e.insert(ie.insert,(0,c.default)({},U({},le,he),ie.attributes))},new f.default)}function X(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var le="__ql-computed-style";return re[le]||(re[le]=window.getComputedStyle(re))}function Q(re,le){for(var he="",_e=re.ops.length-1;_e>=0&&he.length<le.length;--_e){var ie=re.ops[_e];if(typeof ie.insert!="string")break;he=ie.insert+he}return he.slice(-1*le.length)===le}function ee(re){if(re.childNodes.length===0)return!1;var le=X(re);return["block","list-item"].indexOf(le.display)>-1}function ae(re,le,he){return re.nodeType===re.TEXT_NODE?he.reduce(function(_e,ie){return ie(re,_e)},new f.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(_e,ie){var ce=ae(ie,le,he);return ie.nodeType===re.ELEMENT_NODE&&(ce=le.reduce(function(ye,xe){return xe(ie,ye)},ce),ce=(ie[te]||[]).reduce(function(ye,xe){return xe(ie,ye)},ce)),_e.concat(ce)},new f.default):new f.default}function de(re,le,he){return q(he,re,!0)}function fe(re,le){var he=p.default.Attributor.Attribute.keys(re),_e=p.default.Attributor.Class.keys(re),ie=p.default.Attributor.Style.keys(re),ce={};return he.concat(_e).concat(ie).forEach(function(ye){var xe=p.default.query(ye,p.default.Scope.ATTRIBUTE);xe!=null&&(ce[xe.attrName]=xe.value(re),ce[xe.attrName])||(xe=Y[ye],xe!=null&&(xe.attrName===ye||xe.keyName===ye)&&(ce[xe.attrName]=xe.value(re)||void 0),xe=B[ye],xe!=null&&(xe.attrName===ye||xe.keyName===ye)&&(xe=B[ye],ce[xe.attrName]=xe.value(re)||void 0))}),Object.keys(ce).length>0&&(le=q(le,ce)),le}function Ne(re,le){var he=p.default.query(re);if(he==null)return le;if(he.prototype instanceof p.default.Embed){var _e={},ie=he.value(re);ie!=null&&(_e[he.blotName]=ie,le=new f.default().insert(_e,he.formats(re)))}else typeof he.formats=="function"&&(le=q(le,he.blotName,he.formats(re)));return le}function Re(re,le){return Q(le,`
`)||le.insert(`
`),le}function me(){return new f.default}function Le(re,le){var he=p.default.query(re);if(he==null||he.blotName!=="list-item"||!Q(le,`
`))return le;for(var _e=-1,ie=re.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(_e+=1),ie=ie.parentNode;return _e<=0?le:le.compose(new f.default().retain(le.length()-1).retain(1,{indent:_e}))}function V(re,le){return Q(le,`
`)||(ee(re)||le.length()>0&&re.nextSibling&&ee(re.nextSibling))&&le.insert(`
`),le}function ve(re,le){if(ee(re)&&re.nextElementSibling!=null&&!Q(le,`

`)){var he=re.offsetHeight+parseFloat(X(re).marginTop)+parseFloat(X(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+he*1.5&&le.insert(`
`)}return le}function we(re,le){var he={},_e=re.style||{};return _e.fontStyle&&X(re).fontStyle==="italic"&&(he.italic=!0),_e.fontWeight&&(X(re).fontWeight.startsWith("bold")||parseInt(X(re).fontWeight)>=700)&&(he.bold=!0),Object.keys(he).length>0&&(le=q(le,he)),parseFloat(_e.textIndent||0)>0&&(le=new f.default().insert("	").concat(le)),le}function oe(re,le){var he=re.data;if(re.parentNode.tagName==="O:P")return le.insert(he.trim());if(he.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return le;if(!X(re.parentNode).whiteSpace.startsWith("pre")){var _e=function(ce,ye){return ye=ye.replace(/[^\u00a0]/g,""),ye.length<1&&ce?" ":ye};he=he.replace(/\r\n/g," ").replace(/\n/g," "),he=he.replace(/\s\s+/g,_e.bind(_e,!0)),(re.previousSibling==null&&ee(re.parentNode)||re.previousSibling!=null&&ee(re.previousSibling))&&(he=he.replace(/^\s+/,_e.bind(_e,!1))),(re.nextSibling==null&&ee(re.parentNode)||re.nextSibling!=null&&ee(re.nextSibling))&&(he=he.replace(/\s+$/,_e.bind(_e,!1)))}return le.insert(he)}r.default=j,r.matchAttributor=fe,r.matchBlot=Ne,r.matchNewline=V,r.matchSpacing=ve,r.matchText=oe}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(_){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g})(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=(function(){function P(I,U){var O=[],G=!0,K=!1,J=void 0;try{for(var te=I[Symbol.iterator](),z;!(G=(z=te.next()).done)&&(O.push(z.value),!(U&&O.length===U));G=!0);}catch(Y){K=!0,J=Y}finally{try{!G&&te.return&&te.return()}finally{if(K)throw J}}return O}return function(I,U){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return P(I,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(I,U){for(var O=0;O<U.length;O++){var G=U[O];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(I,G.key,G)}}return function(I,U,O){return U&&P(I.prototype,U),O&&P(I,O),I}})(),o=i(2),l=_(o),c=i(0),u=_(c),f=i(5),h=_(f),p=i(10),v=_(p),g=i(9),y=_(g);function _(P){return P&&P.__esModule?P:{default:P}}function x(P,I,U){return I in P?Object.defineProperty(P,I,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[I]=U,P}function w(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function C(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function D(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var R=(0,v.default)("quill:toolbar"),S=(function(P){D(I,P);function I(U,O){w(this,I);var G=C(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,U,O));if(Array.isArray(G.options.container)){var K=document.createElement("div");k(K,G.options.container),U.container.parentNode.insertBefore(K,U.container),G.container=K}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var J;return J=R.error("Container required for toolbar",G.options),C(G,J)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(te){G.addHandler(te,G.options.handlers[te])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(te){G.attach(te)}),G.quill.on(h.default.events.EDITOR_CHANGE,function(te,z){te===h.default.events.SELECTION_CHANGE&&G.update(z)}),G.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var te=G.quill.selection.getRange(),z=s(te,1),Y=z[0];G.update(Y)}),G}return a(I,[{key:"addHandler",value:function(O,G){this.handlers[O]=G}},{key:"attach",value:function(O){var G=this,K=[].find.call(O.classList,function(te){return te.indexOf("ql-")===0});if(K){if(K=K.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[K]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[K]==null){R.warn("ignoring attaching to disabled format",K,O);return}if(u.default.query(K)==null){R.warn("ignoring attaching to nonexistent format",K,O);return}}var J=O.tagName==="SELECT"?"change":"click";O.addEventListener(J,function(te){var z=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var Y=O.options[O.selectedIndex];Y.hasAttribute("selected")?z=!1:z=Y.value||!1}else O.classList.contains("ql-active")?z=!1:z=O.value||!O.hasAttribute("value"),te.preventDefault();G.quill.focus();var B=G.quill.selection.getRange(),j=s(B,1),q=j[0];if(G.handlers[K]!=null)G.handlers[K].call(G,z);else if(u.default.query(K).prototype instanceof u.default.Embed){if(z=prompt("Enter "+K),!z)return;G.quill.updateContents(new l.default().retain(q.index).delete(q.length).insert(x({},K,z)),h.default.sources.USER)}else G.quill.format(K,z,h.default.sources.USER);G.update(q)}),this.controls.push([K,O])}}},{key:"update",value:function(O){var G=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(K){var J=s(K,2),te=J[0],z=J[1];if(z.tagName==="SELECT"){var Y=void 0;if(O==null)Y=null;else if(G[te]==null)Y=z.querySelector("option[selected]");else if(!Array.isArray(G[te])){var B=G[te];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),Y=z.querySelector('option[value="'+B+'"]')}Y==null?(z.value="",z.selectedIndex=-1):Y.selected=!0}else if(O==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var j=G[te]===z.getAttribute("value")||G[te]!=null&&G[te].toString()===z.getAttribute("value")||G[te]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",j)}else z.classList.toggle("ql-active",G[te]!=null)})}}]),I})(y.default);S.DEFAULTS={};function N(P,I,U){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+I),U!=null&&(O.value=U),P.appendChild(O)}function k(P,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(U){var O=document.createElement("span");O.classList.add("ql-formats"),U.forEach(function(G){if(typeof G=="string")N(O,G);else{var K=Object.keys(G)[0],J=G[K];Array.isArray(J)?F(O,K,J):N(O,K,J)}}),P.appendChild(O)})}function F(P,I,U){var O=document.createElement("select");O.classList.add("ql-"+I),U.forEach(function(G){var K=document.createElement("option");G!==!1?K.setAttribute("value",G):K.setAttribute("selected","selected"),O.appendChild(K)}),P.appendChild(O)}S.DEFAULTS={container:null,handlers:{clean:function(){var I=this,U=this.quill.getSelection();if(U!=null)if(U.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(G){u.default.query(G,u.default.Scope.INLINE)!=null&&I.quill.format(G,!1)})}else this.quill.removeFormat(U,h.default.sources.USER)},direction:function(I){var U=this.quill.getFormat().align;I==="rtl"&&U==null?this.quill.format("align","right",h.default.sources.USER):!I&&U==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",I,h.default.sources.USER)},indent:function(I){var U=this.quill.getSelection(),O=this.quill.getFormat(U),G=parseInt(O.indent||0);if(I==="+1"||I==="-1"){var K=I==="+1"?1:-1;O.direction==="rtl"&&(K*=-1),this.quill.format("indent",G+K,h.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,h.default.sources.USER)},list:function(I){var U=this.quill.getSelection(),O=this.quill.getFormat(U);I==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",I,h.default.sources.USER)}}},r.default=S,r.addControls=k}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,_){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.label.innerHTML=_,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return s(g,[{key:"buildItem",value:function(_){var x=a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,_);return x.style.backgroundColor=_.getAttribute("value")||"",x}},{key:"selectItem",value:function(_,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,_,x);var w=this.label.querySelector(".ql-color-label"),C=_&&_.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=C:w.style.fill=C)}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,_){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=_[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(g,[{key:"selectItem",value:function(_,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,_,x),_=_||this.defaultItem,this.label.innerHTML=_.innerHTML}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){var f=this;a(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),g=0;if(v.right>p.right&&(g=p.right-v.right,this.root.style.left=f+g+"px"),v.left<p.left&&(g=p.left-v.left,this.root.style.left=f+g+"px"),v.bottom>p.bottom){var y=v.bottom-v.top,_=u.bottom-u.top+y;this.root.style.top=h-_+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,I){var U=[],O=!0,G=!1,K=void 0;try{for(var J=P[Symbol.iterator](),te;!(O=(te=J.next()).done)&&(U.push(te.value),!(I&&U.length===I));O=!0);}catch(z){G=!0,K=z}finally{try{!O&&J.return&&J.return()}finally{if(G)throw K}}return U}return function(P,I){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function F(P,I,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,I);if(O===void 0){var G=Object.getPrototypeOf(P);return G===null?void 0:F(G,I,U)}else{if("value"in O)return O.value;var K=O.get;return K===void 0?void 0:K.call(U)}},o=(function(){function F(P,I){for(var U=0;U<I.length;U++){var O=I[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,I,U){return I&&F(P.prototype,I),U&&F(P,U),P}})(),l=i(3),c=w(l),u=i(8),f=w(u),h=i(43),p=w(h),v=i(27),g=w(v),y=i(15),_=i(41),x=w(_);function w(F){return F&&F.__esModule?F:{default:F}}function C(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function D(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function R(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=(function(F){R(P,F);function P(I,U){C(this,P),U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=S);var O=D(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,U));return O.quill.container.classList.add("ql-snow"),O}return o(P,[{key:"extendToolbar",value:function(U){U.container.classList.add("ql-snow"),this.buildButtons([].slice.call(U.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(U.container.querySelectorAll("select")),x.default),this.tooltip=new k(this.quill,this.options.bounds),U.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,G){U.handlers.link.call(U,!G.format.link)})}}]),P})(p.default);N.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var I=this.quill.getSelection();if(I==null||I.length==0)return;var U=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(U)&&U.indexOf("mailto:")!==0&&(U="mailto:"+U);var O=this.quill.theme.tooltip;O.edit("link",U)}else this.quill.format("link",!1)}}}}});var k=(function(F){R(P,F);function P(I,U){C(this,P);var O=D(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I,U));return O.preview=O.root.querySelector("a.ql-preview"),O}return o(P,[{key:"listen",value:function(){var U=this;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){U.root.classList.contains("ql-editing")?U.save():U.edit("link",U.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(U.linkRange!=null){var G=U.linkRange;U.restoreFocus(),U.quill.formatText(G,"link",!1,f.default.sources.USER),delete U.linkRange}O.preventDefault(),U.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(O,G,K){if(O!=null){if(O.length===0&&K===f.default.sources.USER){var J=U.quill.scroll.descendant(g.default,O.index),te=s(J,2),z=te[0],Y=te[1];if(z!=null){U.linkRange=new y.Range(O.index-Y,z.length());var B=g.default.formats(z.domNode);U.preview.textContent=B,U.preview.setAttribute("href",B),U.show(),U.position(U.quill.getBounds(U.linkRange));return}}else delete U.linkRange;U.hide()}})}},{key:"show",value:function(){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P})(h.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),a=ie(s),o=i(36),l=i(38),c=i(64),u=i(65),f=ie(u),h=i(66),p=ie(h),v=i(67),g=ie(v),y=i(37),_=i(26),x=i(39),w=i(40),C=i(56),D=ie(C),R=i(68),S=ie(R),N=i(27),k=ie(N),F=i(69),P=ie(F),I=i(70),U=ie(I),O=i(71),G=ie(O),K=i(72),J=ie(K),te=i(73),z=ie(te),Y=i(13),B=ie(Y),j=i(74),q=ie(j),X=i(75),Q=ie(X),ee=i(57),ae=ie(ee),de=i(41),fe=ie(de),Ne=i(28),Re=ie(Ne),me=i(59),Le=ie(me),V=i(60),ve=ie(V),we=i(61),oe=ie(we),re=i(108),le=ie(re),he=i(62),_e=ie(he);function ie(ce){return ce&&ce.__esModule?ce:{default:ce}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":_.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":_.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":_.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":B.default,"formats/header":p.default,"formats/list":g.default,"formats/bold":D.default,"formats/code":Y.Code,"formats/italic":S.default,"formats/link":k.default,"formats/script":P.default,"formats/strike":U.default,"formats/underline":G.default,"formats/image":J.default,"formats/video":z.default,"formats/list/item":v.ListItem,"modules/formula":q.default,"modules/syntax":Q.default,"modules/toolbar":ae.default,"themes/bubble":le.default,"themes/snow":_e.default,"ui/icons":fe.default,"ui/picker":Re.default,"ui/icon-picker":ve.default,"ui/color-picker":Le.default,"ui/tooltip":oe.default},!0),r.default=a.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=(function(){function g(y,_){for(var x=0;x<_.length;x++){var w=_[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,_,x){return _&&g(y.prototype,_),x&&g(y,x),y}})(),a=function g(y,_,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,_);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:g(C,_,x)}else{if("value"in w)return w.value;var D=w.get;return D===void 0?void 0:D.call(x)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var C=this.value(x)||0;w=w==="+1"?C+1:C-1}return w===0?(this.remove(x),!0):a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,w)||a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,x))||void 0}}]),y})(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function p(v,g){for(var y=0;y<g.length;y++){var _=g[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}})(),a=i(4),o=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=(function(p){f(v,p);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),v})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=(function(){function C(D,R){for(var S=0;S<R.length;S++){var N=R[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}return function(D,R,S){return R&&C(D.prototype,R),S&&C(D,S),D}})(),a=function C(D,R,S){D===null&&(D=Function.prototype);var N=Object.getOwnPropertyDescriptor(D,R);if(N===void 0){var k=Object.getPrototypeOf(D);return k===null?void 0:C(k,R,S)}else{if("value"in N)return N.value;var F=N.get;return F===void 0?void 0:F.call(S)}},o=i(0),l=p(o),c=i(4),u=p(c),f=i(25),h=p(f);function p(C){return C&&C.__esModule?C:{default:C}}function v(C,D,R){return D in C?Object.defineProperty(C,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):C[D]=R,C}function g(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function y(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:C}function _(C,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}var x=(function(C){_(D,C);function D(){return g(this,D),y(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"format",value:function(S,N){S===w.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,S,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,N){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,N),this):(this.parent.unwrap(),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,S,N))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:a(D.__proto__||Object.getPrototypeOf(D),"formats",this).call(this,S)}}]),D})(u.default);x.blotName="list-item",x.tagName="LI";var w=(function(C){_(D,C),s(D,null,[{key:"create",value:function(S){var N=S==="ordered"?"OL":"UL",k=a(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,N);return(S==="checked"||S==="unchecked")&&k.setAttribute("data-checked",S==="checked"),k}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function D(R){g(this,D);var S=y(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,R)),N=function(F){if(F.target.parentNode===R){var P=S.statics.formats(R),I=l.default.find(F.target);P==="checked"?I.format("list","unchecked"):P==="unchecked"&&I.format("list","checked")}};return R.addEventListener("touchstart",N),R.addEventListener("mousedown",N),S}return s(D,[{key:"format",value:function(S,N){this.children.length>0&&this.children.tail.format(S,N)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,N){if(S instanceof x)a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,S,N);else{var k=N==null?this.length():N.offset(this),F=this.split(k);F.parent.insertBefore(S,F)}}},{key:"optimize",value:function(S){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,S);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);S.moveChildren(N),this.appendChild(N)}a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,S)}}]),D})(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],r.ListItem=x,r.default=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&v(g.prototype,y),_&&v(g,_),g}})(),a=function v(g,y,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,_)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(_)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(_){return _==="super"?document.createElement("sup"):_==="sub"?document.createElement("sub"):a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_)}},{key:"formats",value:function(_){if(_.tagName==="SUB")return"sub";if(_.tagName==="SUP")return"super"}}]),g})(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="strike",f.tagName="S",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="underline",f.tagName="U",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var D=Object.getPrototypeOf(_);return D===null?void 0:y(D,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=u(o),c=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function p(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=["alt","height","width"],g=(function(y){p(_,y);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w);return typeof w=="string"&&C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,D){return w.hasAttribute(D)&&(C[D]=w.getAttribute(D)),C},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),_})(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(_,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}})(),a=function y(_,x,w){_===null&&(_=Function.prototype);var C=Object.getOwnPropertyDescriptor(_,x);if(C===void 0){var D=Object.getPrototypeOf(_);return D===null?void 0:y(D,x,w)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(w)}},o=i(4),l=i(27),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function p(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=["height","width"],g=(function(y){p(_,y);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(w,C){v.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=a(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w);return C.setAttribute("frameborder","0"),C.setAttribute("allowfullscreen",!0),C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return v.reduce(function(C,D){return w.hasAttribute(D)&&(C[D]=w.getAttribute(D)),C},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),_})(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=(function(){function w(C,D){for(var R=0;R<D.length;R++){var S=D[R];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,D,R){return D&&w(C.prototype,D),R&&w(C,R),C}})(),a=function w(C,D,R){C===null&&(C=Function.prototype);var S=Object.getOwnPropertyDescriptor(C,D);if(S===void 0){var N=Object.getPrototypeOf(C);return N===null?void 0:w(N,D,R)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(R)}},o=i(35),l=p(o),c=i(5),u=p(c),f=i(9),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function g(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function y(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var _=(function(w){y(C,w);function C(){return v(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,null,[{key:"create",value:function(R){var S=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",R)),S}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),C})(l.default);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var x=(function(w){y(C,w),s(C,null,[{key:"register",value:function(){u.default.register(_,!0)}}]);function C(){v(this,C);var D=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return D}return C})(h.default);r.FormulaBlot=_,r.default=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=(function(){function R(S,N){for(var k=0;k<N.length;k++){var F=N[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(S,F.key,F)}}return function(S,N,k){return N&&R(S.prototype,N),k&&R(S,k),S}})(),a=function R(S,N,k){S===null&&(S=Function.prototype);var F=Object.getOwnPropertyDescriptor(S,N);if(F===void 0){var P=Object.getPrototypeOf(S);return P===null?void 0:R(P,N,k)}else{if("value"in F)return F.value;var I=F.get;return I===void 0?void 0:I.call(k)}},o=i(0),l=g(o),c=i(5),u=g(c),f=i(9),h=g(f),p=i(13),v=g(p);function g(R){return R&&R.__esModule?R:{default:R}}function y(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")}function _(R,S){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:R}function x(R,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(R,S):R.__proto__=S)}var w=(function(R){x(S,R);function S(){return y(this,S),_(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),S})(v.default);w.className="ql-syntax";var C=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),D=(function(R){x(S,R),s(S,null,[{key:"register",value:function(){u.default.register(C,!0),u.default.register(w,!0)}}]);function S(N,k){y(this,S);var F=_(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,k));if(typeof F.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return F.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){F.highlight(),P=null},F.options.interval)}),F.highlight(),F}return s(S,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(P){P.highlight(k.options.highlight)}),this.quill.update(u.default.sources.SILENT),F!=null&&this.quill.setSelection(F,u.default.sources.SILENT)}}}]),S})(h.default);D.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(R){var S=window.hljs.highlightAuto(R);return S.value}})(),interval:1e3},r.CodeBlock=w,r.CodeToken=C,r.default=D}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function S(N,k,F){N===null&&(N=Function.prototype);var P=Object.getOwnPropertyDescriptor(N,k);if(P===void 0){var I=Object.getPrototypeOf(N);return I===null?void 0:S(I,k,F)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(F)}},a=(function(){function S(N,k){for(var F=0;F<k.length;F++){var P=k[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,k,F){return k&&S(N.prototype,k),F&&S(N,F),N}})(),o=i(3),l=y(o),c=i(8),u=y(c),f=i(43),h=y(f),p=i(15),v=i(41),g=y(v);function y(S){return S&&S.__esModule?S:{default:S}}function _(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function x(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function w(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var C=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],D=(function(S){w(N,S);function N(k,F){_(this,N),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=C);var P=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,F));return P.quill.container.classList.add("ql-bubble"),P}return a(N,[{key:"extendToolbar",value:function(F){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),g.default)}}]),N})(h.default);D.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=(function(S){w(N,S);function N(k,F){_(this,N);var P=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,F));return P.quill.on(u.default.events.EDITOR_CHANGE,function(I,U,O,G){if(I===u.default.events.SELECTION_CHANGE)if(U!=null&&U.length>0&&G===u.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var K=P.quill.getLines(U.index,U.length);if(K.length===1)P.position(P.quill.getBounds(U));else{var J=K[K.length-1],te=P.quill.getIndex(J),z=Math.min(J.length()-1,U.index+U.length-te),Y=P.quill.getBounds(new p.Range(te,z));P.position(Y)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return a(N,[{key:"listen",value:function(){var F=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var P=F.quill.getSelection();P!=null&&F.position(F.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var P=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,F),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",P===0)return P;I.style.marginLeft=-1*P-I.offsetWidth/2+"px"}}]),N})(f.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=R,r.default=D}),(function(n,r,i){n.exports=i(63)})]).default})})(w2)),w2.exports}var Eo,vM;function $ve(){if(vM)return Eo;vM=1;var t=Eo&&Eo.__extends||(function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])},u(f,h)};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),e=Eo&&Eo.__assign||function(){return e=Object.assign||function(u){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u},e.apply(this,arguments)},n=Eo&&Eo.__spreadArrays||function(){for(var u=0,f=0,h=arguments.length;f<h;f++)u+=arguments[f].length;for(var p=Array(u),v=0,f=0;f<h;f++)for(var g=arguments[f],y=0,_=g.length;y<_;y++,v++)p[v]=g[y];return p},r=Eo&&Eo.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},i=r(o_()),s=r(CB()),a=r(Vve()),o=r(qve()),l=(function(u){t(f,u);function f(h){var p=u.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(g,y,_,x){var w,C,D,R;g==="text-change"?(C=(w=p).onEditorChangeText)===null||C===void 0||C.call(w,p.editor.root.innerHTML,y,x,p.unprivilegedEditor):g==="selection-change"&&((R=(D=p).onEditorChangeSelection)===null||R===void 0||R.call(D,y,x,p.unprivilegedEditor))};var v=p.isControlled()?h.value:h.defaultValue;return p.value=v??"",p}return f.prototype.validateProps=function(h){var p;if(i.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(h.children)){var v=i.default.Children.only(h.children);if(((p=v)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(h,p){var v=this,g;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var y=this.getEditorContents(),_=(g=h.value,g??"");this.isEqualValue(_,y)||this.setEditorContents(this.editor,_)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(x){return!a.default(h[x],v.props[x])})},f.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(v){return!a.default(h[v],p.props[v])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(h,p){var v=this;if(this.editor&&this.shouldComponentRegenerate(h)){var g=this.editor.getContents(),y=this.editor.getSelection();this.regenerationSnapshot={delta:g,selection:y},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var _=this.regenerationSnapshot,g=_.delta,x=_.selection;delete this.regenerationSnapshot,this.instantiateEditor();var w=this.editor;w.setContents(g),c(function(){return v.setEditorSelection(w,x)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(h,p){var v=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(v,p.tabIndex),this.hookEditor(v),v},f.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(h){return h&&h.ops},f.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?a.default(h.ops,p.ops):a.default(h,p)},f.prototype.setEditorContents=function(h,p){var v=this;this.value=p;var g=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),c(function(){return v.setEditorSelection(h,g)})},f.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var v=h.getLength();p.index=Math.max(0,Math.min(p.index,v-1)),p.length=Math.max(0,Math.min(p.length,v-1-p.index)),h.setSelection(p)}},f.prototype.setEditorTabIndex=function(h,p){var v,g;!((g=(v=h)===null||v===void 0?void 0:v.scroll)===null||g===void 0)&&g.domNode&&(h.scroll.domNode.tabIndex=p)},f.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},f.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=s.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},f.prototype.renderEditingArea=function(){var h=this,p=this.props,v=p.children,g=p.preserveWhitespace,y=this.state.generation,_={key:y,ref:function(x){h.editingArea=x}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),_):g?i.default.createElement("pre",e({},_)):i.default.createElement("div",e({},_))},f.prototype.render=function(){var h;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(h,p,v,g){var y,_;if(this.editor){var x=this.isDelta(this.value)?g.getContents():g.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=x,(_=(y=this.props).onChange)===null||_===void 0||_.call(y,h,p,v,g))}},f.prototype.onEditorChangeSelection=function(h,p,v){var g,y,_,x,w,C;if(this.editor){var D=this.getEditorSelection(),R=!D&&h,S=D&&!h;a.default(h,D)||(this.selection=h,(y=(g=this.props).onChangeSelection)===null||y===void 0||y.call(g,h,p,v),R?(x=(_=this.props).onFocus)===null||x===void 0||x.call(_,h,p,v):S&&((C=(w=this.props).onBlur)===null||C===void 0||C.call(w,D,p,v)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=o.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f})(i.default.Component);function c(u){Promise.resolve().then(u)}return Eo=l,Eo}var zve=$ve();const gr=a_(zve);if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const Hve=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),Gve=()=>{const{pages:t,refetchAdminData:e}=tn(),[n,r]=W.useState({isOpen:!1,mode:"create",page:null}),[i,s]=W.useState({title:"",content:"",lang:"ar"}),[a,o]=W.useState(!1),l=()=>{s({title:"",content:"",lang:"ar"}),r({isOpen:!0,mode:"create",page:null})},c=g=>{s({title:g.title,content:g.content,lang:g.lang||"ar"}),r({isOpen:!0,mode:"edit",page:g})},u=()=>{r({isOpen:!1,mode:"create",page:null})},f=async()=>{if(!i.title.trim()){alert("    .");return}o(!0);try{const g=`      : "${i.title}".   HTML   (h2, h3)  (p)  (ul/li)     .`;s(_=>({..._,content:""}));const y=await oc({model:"gemini-2.5-flash",contents:g});s(_=>({..._,content:y.text||""}))}catch(g){console.error("AI content generation failed:",g),alert("  .        .")}finally{o(!1)}},h=async g=>{g.preventDefault();const y=Hve(i.title);n.mode==="create"?await tf.create({...i,slug:y,enabled:!1}):n.page&&await tf.update(n.page.id,{...i,slug:y}),await e(),u()},p=async g=>{const y=t.find(_=>_.id===g);y&&(await tf.toggleStatus(g,y.enabled),await e())},v=async g=>{window.confirm("              .")&&(await tf.delete(g),await e())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(g=>{var y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:g.title}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:((y=Zd.find(_=>_.code===g.lang))==null?void 0:y.name)||g.lang||" ()"}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>p(g.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${g.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:g.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(Zt,{to:`/dz/page/${g.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>c(g),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},g.id)})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:h,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"text",id:"title",value:i.title,onChange:g=>s(y=>({...y,title:g.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsxs("button",{type:"button",onClick:f,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300",title:"   ",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lang",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"lang",value:i.lang||"ar",onChange:g=>s(y=>({...y,lang:g.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Zd.map(g=>d.jsx("option",{value:g.code,children:g.name},g.code))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(gr,{theme:"snow",value:i.content,onChange:g=>s(y=>({...y,content:g})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},as=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Kve=()=>{const{countryCode:t,slug:e}=oa(),{siteSettings:n}=tn(),{language:r,t:i}=Ci(),[s,a]=W.useState(null),[o,l]=W.useState([]),[c,u]=W.useState(!0);return W.useEffect(()=>{(async()=>{if(!(!t||!e)){u(!0);try{const h=await fetch(`https://datas.gitut.com/data/json/${t}-pages-public.json`);if(!h.ok)throw new Error("Failed to load static pages");const p=await h.json(),v=p.find(g=>g.slug===e&&g.enabled);if(a(v||null),v){const g=p.filter(y=>y.enabled&&y.id!==v.id&&(y.lang===r||!y.lang&&r==="ar"));l(g)}}catch(h){console.error("Error fetching static page:",h),a(null)}finally{u(!1)}}})()},[t,e,r]),W.useEffect(()=>{var f,h;if(s&&n){const p=((f=n.seo)==null?void 0:f[t||"dz"])||((h=n.seo)==null?void 0:h.default);if(p){const v=`${s.title} ${p.titleSeparator} ${p.siteName}`,g=s.content.replace(/<[^>]*>/g,"").substring(0,160)+(s.content.length>160?"...":""),y="https://datas.gitut.com/data/image/gitut-og-main.png",_=r==="ar"?"ar_AR":r==="fr"?"fr_FR":"en_US";document.title=v,as("description",g,!1),as("og:title",v),as("og:description",g),as("og:image",y),as("og:image:secure_url",y),as("og:image:width","1200"),as("og:image:height","630"),as("og:url",window.location.href),as("og:type","article"),as("og:site_name",p.siteName),as("og:locale",_),as("twitter:card","summary_large_image",!1),as("twitter:url",window.location.href,!1),as("twitter:title",v,!1),as("twitter:description",g,!1),as("twitter:image",y,!1)}}},[s,n,t,r]),c?d.jsx("div",{className:"flex justify-center items-center p-20",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):s?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[d.jsx("header",{className:"mb-8 border-b pb-6",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:s.title})}),d.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:s.content}})]}),o.length>0&&d.jsx("aside",{className:"md:col-span-1 space-y-6",children:d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:i("relatedPages.title")}),d.jsx("div",{className:"space-y-3",children:o.map(f=>d.jsx(Zt,{to:`/${t}/page/${f.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:d.jsx("p",{className:"font-semibold text-gray-900",children:f.title})},f.id))})]})})]}),d.jsx(HH,{url:window.location.href,title:s.title,description:s.content})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(Zt,{to:`/${t||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},xM={DASHBOARD_TOP:"   ",PROFILE_SIDEBAR:"   ",PDF_INTERSTITIAL:"   ",PUBLIC_FORM_LEFT:"   ",PUBLIC_FORM_RIGHT:"   ",SERVICE_DETAIL_MAIN_TOP:"  ( )",SERVICE_DETAIL_MAIN_BOTTOM:"   ( )",SITE_DETAIL_SIDEBAR:"   ( )",BLOG_POST_BODY_TOP:" (  )",BLOG_POST_BODY_BOTTOM:" (  )",BLOG_POST_SIDEBAR:" ( )"},Xve=()=>{const{ads:t}=tn(),[e,n]=W.useState(t),[r,i]=W.useState({isOpen:!1,mode:"create",ad:null}),[s,a]=W.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),[o,l]=W.useState(!1);W.useEffect(()=>{n(t)},[t]);const c=async()=>{l(!0);try{const y=await uf("settings","global"),_=JSON.stringify(y);await Ao({files:[{path:"data/json/site-settings-public.json",content:_}],commitMessage:"feat: Auto-update ads in settings",repoConfig:{owner:"gitut-cms",repo:"files"}}),console.log("Ads successfully published to GitHub.")}catch(y){console.error("Failed to auto-publish ads to GitHub:",y),alert("            GitHub.")}finally{l(!1)}},u=()=>{a({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),i({isOpen:!0,mode:"create",ad:null})},f=y=>{a({...y}),i({isOpen:!0,mode:"edit",ad:y})},h=()=>{i({isOpen:!1,mode:"create",ad:null})},p=async y=>{y.preventDefault();try{r.mode==="create"?await _p.create(s):r.ad&&await _p.update(r.ad.id,s),h(),await c(),alert("   !")}catch(_){console.error("Failed to save ad:",_),alert("  .")}},v=async y=>{try{const _=e.find(x=>x.id===y);_&&(await _p.toggleStatus(y,_.enabled),n(x=>x.map(w=>w.id===y?{...w,enabled:!w.enabled}:w)),await c())}catch(_){console.error("Failed to toggle status:",_),alert("  .")}},g=async y=>{if(window.confirm("        "))try{await _p.delete(y),n(_=>_.filter(x=>x.id!==y)),await c()}catch(_){console.error("Failed to delete ad:",_),alert("  .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),o&&d.jsxs("span",{className:"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[d.jsx(Ct,{className:"animate-spin"}),"  ..."]})]}),d.jsx("button",{onClick:u,disabled:o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:y.title}),d.jsx("td",{className:"p-3 text-gray-600",children:xM[y.placement]}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>v(y.id),disabled:o,className:`px-3 py-1 text-xs font-semibold rounded-full disabled:opacity-50 ${y.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:y.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>f(y),disabled:o,className:"text-green-600 hover:underline text-sm font-semibold disabled:opacity-50",children:""}),d.jsx("button",{onClick:()=>g(y.id),disabled:o,className:"text-red-600 hover:underline text-sm font-semibold disabled:opacity-50",children:""})]})]},y.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:p,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"title",value:s.title,onChange:y=>a(_=>({..._,title:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("textarea",{id:"content",rows:3,value:s.content,onChange:y=>a(_=>({..._,content:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"imageUrl",value:s.imageUrl,onChange:y=>a(_=>({..._,imageUrl:y.target.value})),required:!0,placeholder:"https://picsum.photos/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"url",id:"link",value:s.link,onChange:y=>a(_=>({..._,link:y.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"placement",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"placement",value:s.placement,onChange:y=>a(_=>({..._,placement:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Object.entries(xM).map(([y,_])=>d.jsx("option",{value:y,children:_},y))})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:h,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Jve,Yve;function Qve(){return{geminiUrl:Jve,vertexUrl:Yve}}function Zve(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const a=Qve();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nh{}function Rt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(s+1),n[c])}else for(const c of l)E(c,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];E(l[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function T(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>T(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function t1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=T(t,["resourceName"]);r!=null&&E(e,["_url","resourceName"],r);const i=T(t,["config"]);return i!=null&&E(e,["config"],i),e}function n1e(t){const e={},n=T(t,["operationName"]);n!=null&&E(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function r1e(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],fI(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function i1e(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],r1e(n)),e}function s1e(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>i1e(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function a1e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],s1e(a)),e}function o1e(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],fI(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function l1e(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],o1e(n)),e}function c1e(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>l1e(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function u1e(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],c1e(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bM;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bM||(bM={}));var _M;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_M||(_M={}));var gu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(gu||(gu={}));var wM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(wM||(wM={}));var TM;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(TM||(TM={}));var EM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(EM||(EM={}));var CM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(CM||(CM={}));var SM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(SM||(SM={}));var DM;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(DM||(DM={}));var AM;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(AM||(AM={}));var NM;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(NM||(NM={}));var kM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(kM||(kM={}));var IM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(IM||(IM={}));var RM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(RM||(RM={}));var PM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(PM||(PM={}));var jb;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(jb||(jb={}));var FM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(FM||(FM={}));var GA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(GA||(GA={}));var MM;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(MM||(MM={}));var UM;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(UM||(UM={}));var OM;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(OM||(OM={}));var LM;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(LM||(LM={}));var jM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jM||(jM={}));var BM;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(BM||(BM={}));var VM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(VM||(VM={}));var WM;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(WM||(WM={}));var qM;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(qM||(qM={}));var $M;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})($M||($M={}));var zM;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(zM||(zM={}));var HM;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(HM||(HM={}));var GM;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(GM||(GM={}));var KM;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(KM||(KM={}));var XM;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(XM||(XM={}));var JM;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(JM||(JM={}));var YM;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(YM||(YM={}));var QM;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(QM||(QM={}));var ZM;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ZM||(ZM={}));var eU;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(eU||(eU={}));var tU;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(tU||(tU={}));var nU;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nU||(nU={}));var rU;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(rU||(rU={}));var iU;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(iU||(iU={}));var sU;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(sU||(sU={}));var aU;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(aU||(aU={}));var oU;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(oU||(oU={}));var Tp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Tp||(Tp={}));class KA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class e0{get text(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class lU{}class cU{}class d1e{}class f1e{}class h1e{}class p1e{}class uU{}class dU{}class fU{}class m1e{}class Bb{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Bb;let i;const s=e;return n?i=u1e(s):i=a1e(s),Object.assign(r,i),r}}class hU{}class pU{}class mU{}class g1e{}class y1e{}class v1e{}class gU{}class x1e{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class b1e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function DG(t,e){const n=Rn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function AG(t){return Array.isArray(t)?t.map(e=>Vb(e)):[Vb(t)]}function Vb(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function NG(t){const e=Vb(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kG(t){const e=Vb(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yU(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function IG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>yU(e)):[yU(t)]}function XA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function vU(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xU(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function gs(t){if(t==null)throw new Error("ContentUnion is required");return XA(t)?t:{role:"user",parts:IG(t)}}function hI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=gs(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=gs(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>gs(n)):[gs(e)]}function to(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(vU(t)||xU(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gs(t)]}const e=[],n=[],r=XA(t[0]);for(const i of t){const s=XA(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(vU(i)||xU(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:IG(n)}),e}function _1e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(gu).includes(n[0].toUpperCase())?n[0].toUpperCase():gu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(gu).includes(r.toUpperCase())?r.toUpperCase():gu.TYPE_UNSPECIFIED})}}function Fp(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&_1e(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(gu).includes(o.toUpperCase())?o.toUpperCase():gu.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Fp(o);else if(r.includes(a)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(Fp(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,u]of Object.entries(o))l[c]=Fp(u);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function pI(t){return Fp(t)}function mI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function gI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Xm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Fp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Fp(e.response));return t}function Jm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function w1e(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Nc(t,e){if(typeof e!="string")throw new Error("name must be a string");return w1e(t,e,"cachedContents")}function RG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function rh(t){return fI(t)}function T1e(t){return t!=null&&typeof t=="object"&&"name"in t}function E1e(t){return t!=null&&typeof t=="object"&&"video"in t}function C1e(t){return t!=null&&typeof t=="object"&&"uri"in t}function PG(t){var e;let n;if(T1e(t)&&(n=t.name),!(C1e(t)&&(n=t.uri,n===void 0))&&!(E1e(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function FG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function MG(t){for(const e of["models","tunedModels","publisherModels"])if(S1e(t,e))return t[e];return[]}function S1e(t,e){return t!==null&&typeof t=="object"&&e in t}function D1e(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function A1e(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=D1e(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function UG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function N1e(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function OG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ym(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function LG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k1e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function I1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function R1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function P1e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function F1e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],k1e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],I1e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],R1e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],P1e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function jG(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>F1e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function M1e(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const D=T(t,["required"]);D!=null&&E(e,["required"],D);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const S=T(t,["type"]);return S!=null&&E(e,["type"],S),e}function U1e(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function O1e(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function L1e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function j1e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],L1e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function B1e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function V1e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],B1e(n)),e}function W1e(){return{}}function q1e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function $1e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>O1e(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],j1e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],V1e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],W1e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],q1e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function z1e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function H1e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function G1e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],H1e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function K1e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],z1e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],G1e(r)),e}function X1e(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function BG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],X1e(n)),e}function J1e(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],BG(r)),e}function Y1e(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>J1e(i))),E(e,["speakerVoiceConfigs"],r)}return e}function Q1e(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],BG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],Y1e(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function Z1e(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function exe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],jG(gs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],M1e(pI(_)));const x=T(e,["responseJsonSchema"]);if(x!=null&&E(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(I=>U1e(I))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=Jm(C);Array.isArray(P)&&(P=P.map(I=>$1e(Xm(I)))),E(n,["tools"],P)}const D=T(e,["toolConfig"]);if(n!==void 0&&D!=null&&E(n,["toolConfig"],K1e(D)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Nc(t,R));const S=T(e,["responseModalities"]);S!=null&&E(r,["responseModalities"],S);const N=T(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const k=T(e,["speechConfig"]);if(k!=null&&E(r,["speechConfig"],Q1e(mI(k))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],Z1e(F)),r}function txe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["request","model"],Rn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>jG(o))),E(n,["request","contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["request","generationConfig"],exe(t,s,n)),n}function nxe(t,e){const n={};if(T(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=T(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>txe(t,a))),E(n,["requests","requests"],s)}return n}function rxe(t,e){const n={},r=T(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),T(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function eD(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],nxe(t,UG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],rxe(s,n)),n}function ixe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sxe(t,e){const n={},r=T(e,["contents"]);r!=null&&E(n,["requests[]","request","content"],hI(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],ixe(i,n)),n}function axe(t,e){const n={},r=T(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=T(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],sxe(t,i)),n}function oxe(t,e){const n={},r=T(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function tD(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["src"]);i!=null&&E(n,["batch","inputConfig"],axe(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],oxe(s,n)),n}function lxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ym(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function cxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ym(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function uxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),T(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],uxe(n,e)),e}function fxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ym(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function hxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function pxe(t){const e={},n=T(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=T(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function mxe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],pxe(N1e(i))),n}function gxe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],Rn(t,r));const i=T(e,["src"]);i!=null&&E(n,["inputConfig"],hxe(UG(t,i)));const s=T(e,["config"]);return s!=null&&E(n,["config"],mxe(s,n)),n}function yxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ym(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function vxe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ym(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function xxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function bxe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],xxe(n,e)),e}function _xe(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Ym(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function wxe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Txe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Exe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Cxe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Sxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],wxe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Txe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Exe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Cxe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Dxe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Sxe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Axe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function Nxe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function kxe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Nxe(i))),E(e,["urlMetadata"],r)}return e}function Ixe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],Dxe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],Axe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],kxe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function Rxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Ixe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function yI(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function Pxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],Rxe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],yI(r)),e}function Fxe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function Mxe(t){const e={},n=T(t,["embedding"]);n!=null&&E(e,["embedding"],Fxe(n));const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function Uxe(t){const e={},n=T(t,["response"]);n!=null&&E(e,["response"],Mxe(n));const r=T(t,["error"]);return r!=null&&E(e,["error"],yI(r)),e}function Oxe(t){const e={},n=T(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=T(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Pxe(a))),E(e,["inlinedResponses"],s)}const i=T(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Uxe(a))),E(e,["inlinedEmbedContentResponses"],s)}return e}function yp(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["metadata","state"]);i!=null&&E(e,["state"],LG(i));const s=T(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["metadata","endTime"]);a!=null&&E(e,["endTime"],a);const o=T(t,["metadata","updateTime"]);o!=null&&E(e,["updateTime"],o);const l=T(t,["metadata","model"]);l!=null&&E(e,["model"],l);const c=T(t,["metadata","output"]);return c!=null&&E(e,["dest"],Oxe(OG(c))),e}function Lxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>yp(a))),E(e,["batchJobs"],s)}return e}function jxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],yI(s)),e}function VG(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["code"]);r!=null&&E(e,["code"],r);const i=T(t,["message"]);return i!=null&&E(e,["message"],i),e}function Bxe(t){const e={},n=T(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function Vxe(t){const e={},n=T(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=T(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=T(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function JA(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],LG(i));const s=T(t,["error"]);s!=null&&E(e,["error"],VG(s));const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["startTime"]);o!=null&&E(e,["startTime"],o);const l=T(t,["endTime"]);l!=null&&E(e,["endTime"],l);const c=T(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const u=T(t,["model"]);u!=null&&E(e,["model"],u);const f=T(t,["inputConfig"]);f!=null&&E(e,["src"],Bxe(f));const h=T(t,["outputConfig"]);return h!=null&&E(e,["dest"],Vxe(OG(h))),e}function Wxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>JA(a))),E(e,["batchJobs"],s)}return e}function qxe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);return s!=null&&E(e,["error"],VG(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Uf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Uf||(Uf={}));class Hv{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $xe extends nh{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const s=n.src;if(!(Array.isArray(n.src)||s.inlinedRequests!==void 0))return this.createInternal(n);const o=this.createInlinedGenerateContentRequest(n),l=o.path,c=o.body,u=eD(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>yp(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const o=this.createInlinedEmbedContentRequest(n),l=o.path,c=o.body,u=tD(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>yp(h))},this.list=async(n={})=>new Hv(Uf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=eD(this.apiClient,e),r=n._url,i=Rt("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=tD(this.apiClient,e),r=n._url,i=Rt("{model}:asyncBatchEmbedContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];delete o.config;for(const u of l){const f=Object.assign({},u),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=gxe(this.apiClient,e);return o=Rt("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>JA(u))}else{const c=eD(this.apiClient,e);return o=Rt("{model}:batchGenerateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>yp(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=tD(this.apiClient,e);return s=Rt("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>yp(l))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=yxe(this.apiClient,e);return o=Rt("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>JA(u))}else{const c=lxe(this.apiClient,e);return o=Rt("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>yp(u))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=vxe(this.apiClient,e);a=Rt("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=cxe(this.apiClient,e);a=Rt("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=bxe(e);return o=Rt("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Wxe(u),h=new gU;return Object.assign(h,f),h})}else{const c=dxe(e);return o=Rt("batches",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=Lxe(u),h=new gU;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=_xe(this.apiClient,e);return o=Rt("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>qxe(u))}else{const c=fxe(this.apiClient,e);return o=Rt("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>jxe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zxe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Hxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Gxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Kxe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Xxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],zxe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Hxe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Gxe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Kxe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function bU(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Xxe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Jxe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function Yxe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function Qxe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],Yxe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Zxe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function e2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Zxe(n)),e}function t2e(){return{}}function n2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function r2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Jxe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],Qxe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],e2e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],t2e());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],n2e(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function i2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function s2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function a2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],s2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function o2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],i2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],a2e(r)),e}function l2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let u=to(a);Array.isArray(u)&&(u=u.map(f=>bU(f))),E(e,["contents"],u)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],bU(gs(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>r2e(f))),E(e,["tools"],u)}const c=T(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],o2e(c)),T(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function c2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],DG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],l2e(i,n)),n}function u2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Nc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function d2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Nc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function f2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function h2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Nc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],f2e(i,n)),n}function p2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function m2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],p2e(n,e)),e}function g2e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function y2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function v2e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function x2e(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function b2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],g2e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],y2e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],v2e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],x2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function _U(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>b2e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function _2e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function w2e(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function T2e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],w2e(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function E2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function C2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],E2e(n)),e}function S2e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function D2e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function A2e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],D2e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function N2e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],A2e(n)),e}function k2e(){return{}}function I2e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function R2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>_2e(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],T2e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],C2e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],S2e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],N2e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],k2e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],I2e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function P2e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function F2e(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function M2e(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],F2e(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function U2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],P2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],M2e(r)),e}function O2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let f=to(a);Array.isArray(f)&&(f=f.map(h=>_U(h))),E(e,["contents"],f)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&E(e,["systemInstruction"],_U(gs(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>R2e(h))),E(e,["tools"],f)}const c=T(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],U2e(c));const u=T(t,["kmsKeyName"]);return e!==void 0&&u!=null&&E(e,["encryption_spec","kmsKeyName"],u),n}function L2e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["model"],DG(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],O2e(i,n)),n}function j2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Nc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function B2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Nc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function V2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function W2e(t,e){const n={},r=T(e,["name"]);r!=null&&E(n,["_url","name"],Nc(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],V2e(i,n)),n}function q2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function $2e(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],q2e(n,e)),e}function T2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function z2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function H2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>T2(a))),E(e,["cachedContents"],s)}return e}function E2(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["model"]);i!=null&&E(e,["model"],i);const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&E(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&E(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function G2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function K2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>E2(a))),E(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X2e extends nh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Hv(Uf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=L2e(this.apiClient,e);return o=Rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>E2(u))}else{const c=c2e(this.apiClient,e);return o=Rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>T2(u))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=j2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>E2(u))}else{const c=u2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>T2(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=B2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=G2e(u),h=new pU;return Object.assign(h,f),h})}else{const c=d2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=z2e(u),h=new pU;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=W2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>E2(u))}else{const c=h2e(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>T2(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=$2e(e);return o=Rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=K2e(u),h=new mU;return Object.assign(h,f),h})}else{const c=m2e(e);return o=Rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=H2e(u),h=new mU;return Object.assign(h,f),h})}}}function wU(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function Mp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){r[p]&&(i[p]=function(g){return new Promise(function(y,_){s.push([p,g,y,_])>1||l(p,g)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(r[p](v))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof fr?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Y0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wU=="function"?wU(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J2e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:WG(n)}function WG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Y2e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function TU(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!WG(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class Q2e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Z2e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Z2e{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Y2e(s)}async sendMessage(e){var n;await this.sendPromise;const r=gs(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(f))!==null&&o!==void 0?o:[]);const p=c?[c]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=gs(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?TU(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Mp(this,arguments,function*(){var a,o,l,c;const u=[];try{for(var f=!0,h=Y0(e),p;p=yield fr(h.next()),a=p.done,!a;f=!0){c=p.value,f=!1;const v=c;if(J2e(v)){const g=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;g!==void 0&&u.push(g)}yield yield fr(v)}}catch(v){o={error:v}}finally{try{!f&&!a&&(l=h.return)&&(yield fr(l.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...TU(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ebe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function tbe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],ebe(n,e)),e}function nbe(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function rbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],nbe(g)),e}function ibe(t){const e={},n=T(t,["file"]);n!=null&&E(e,["file"],rbe(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function sbe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],PG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function abe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","file"],PG(n));const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function obe(t){const e={},n=T(t,["details"]);n!=null&&E(e,["details"],n);const r=T(t,["message"]);r!=null&&E(e,["message"],r);const i=T(t,["code"]);return i!=null&&E(e,["code"],i),e}function YA(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&E(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&E(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&E(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&E(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&E(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&E(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&E(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&E(e,["state"],h);const p=T(t,["source"]);p!=null&&E(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&E(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&E(e,["error"],obe(g)),e}function lbe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>YA(a))),E(e,["files"],s)}return e}function cbe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function ube(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dbe extends nh{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Hv(Uf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>YA(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=tbe(e);return s=Rt("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=lbe(l),u=new g1e;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ibe(e);return s=Rt("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=cbe(l),u=new y1e;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sbe(e);return s=Rt("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>YA(l))}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=abe(e);return s=Rt("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=ube(l),u=new v1e;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fbe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function qG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],fbe(n)),e}function hbe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],qG(r)),e}function pbe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hbe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function mbe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],qG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],pbe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function gbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function ybe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function vbe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function xbe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function bbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],gbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],ybe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],vbe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],xbe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function _be(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>bbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function wbe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function Tbe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function Ebe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],Tbe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Cbe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function Sbe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],Cbe(n)),e}function Dbe(){return{}}function Abe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function Nbe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>wbe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],Ebe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],Sbe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],Dbe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],Abe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function kbe(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function EU(){return{}}function Ibe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function Rbe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],Ibe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function Pbe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function Fbe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],Pbe(r)),e}function Mbe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function Ube(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],mbe(gI(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],_be(gs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let D=Jm(v);Array.isArray(D)&&(D=D.map(R=>Nbe(Xm(R)))),E(e,["setup","tools"],D)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],kbe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],EU());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],EU());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],Rbe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],Fbe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],Mbe(C)),n}function Obe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Ube(i,n)),n}function Lbe(){return{}}function jbe(){return{}}function Bbe(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],AG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],kG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],NG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],Lbe()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],jbe()),e}function $G(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function Vbe(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$G(i))),E(e,["weightedPrompts"],r)}return e}function zG(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function Wbe(t){const e={},n=T(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],zG(n)),e}function HG(t){const e={},n=T(t,["model"]);return n!=null&&E(e,["model"],n),e}function GG(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$G(i))),E(e,["weightedPrompts"],r)}return e}function QA(t){const e={},n=T(t,["setup"]);n!=null&&E(e,["setup"],HG(n));const r=T(t,["clientContent"]);r!=null&&E(e,["clientContent"],GG(r));const i=T(t,["musicGenerationConfig"]);i!=null&&E(e,["musicGenerationConfig"],zG(i));const s=T(t,["playbackControl"]);return s!=null&&E(e,["playbackControl"],s),e}function qbe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function $be(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],qbe(n)),e}function zbe(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],$be(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function Hbe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function Gbe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Kbe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Xbe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Jbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],Hbe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],Gbe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Kbe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Xbe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Ybe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Jbe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Qbe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function Zbe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function e_e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],Zbe(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function t_e(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function n_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],t_e(n)),e}function r_e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function i_e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function s_e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],i_e(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function a_e(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],s_e(n)),e}function o_e(){return{}}function l_e(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function c_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Qbe(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],e_e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],n_e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],r_e(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],a_e(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],o_e());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],l_e(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function u_e(t){const e={},n=T(t,["handle"]);n!=null&&E(e,["handle"],n);const r=T(t,["transparent"]);return r!=null&&E(e,["transparent"],r),e}function CU(){return{}}function d_e(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function f_e(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],d_e(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function h_e(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function p_e(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],h_e(r)),e}function m_e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function g_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],zbe(gI(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],Ybe(gs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let D=Jm(v);Array.isArray(D)&&(D=D.map(R=>c_e(Xm(R)))),E(e,["setup","tools"],D)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],u_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],CU());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],CU());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],f_e(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],p_e(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],m_e(C)),n}function y_e(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],g_e(i,n)),n}function v_e(){return{}}function x_e(){return{}}function b_e(t){const e={},n=T(t,["media"]);n!=null&&E(e,["mediaChunks"],AG(n));const r=T(t,["audio"]);r!=null&&E(e,["audio"],kG(r));const i=T(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&E(e,["video"],NG(s));const a=T(t,["text"]);return a!=null&&E(e,["text"],a),T(t,["activityStart"])!=null&&E(e,["activityStart"],v_e()),T(t,["activityEnd"])!=null&&E(e,["activityEnd"],x_e()),e}function __e(){return{}}function w_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function T_e(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function E_e(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function KG(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function C_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],w_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],T_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],E_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],KG(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function S_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>C_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function SU(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function D_e(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function A_e(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>D_e(i))),E(e,["urlMetadata"],r)}return e}function N_e(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],S_e(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],SU(o));const l=T(t,["outputTranscription"]);l!=null&&E(e,["outputTranscription"],SU(l));const c=T(t,["urlContextMetadata"]);return c!=null&&E(e,["urlContextMetadata"],A_e(c)),e}function k_e(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KG(i))),E(e,["functionCalls"],r)}return e}function I_e(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Ix(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function R_e(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["responseTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Ix(p))),E(e,["promptTokensDetails"],h)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Ix(p))),E(e,["cacheTokensDetails"],h)}const u=T(t,["responseTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Ix(p))),E(e,["responseTokensDetails"],h)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Ix(p))),E(e,["toolUsePromptTokensDetails"],h)}return e}function P_e(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function F_e(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function M_e(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],__e());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],N_e(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],k_e(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],I_e(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],R_e(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],P_e(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],F_e(l)),e}function U_e(){return{}}function O_e(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["weight"]);return r!=null&&E(e,["weight"],r),e}function L_e(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>O_e(i))),E(e,["weightedPrompts"],r)}return e}function j_e(t){const e={},n=T(t,["temperature"]);n!=null&&E(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&E(e,["topK"],r);const i=T(t,["seed"]);i!=null&&E(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&E(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&E(e,["bpm"],a);const o=T(t,["density"]);o!=null&&E(e,["density"],o);const l=T(t,["brightness"]);l!=null&&E(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&E(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&E(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&E(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&E(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&E(e,["musicGenerationMode"],p),e}function B_e(t){const e={},n=T(t,["clientContent"]);n!=null&&E(e,["clientContent"],L_e(n));const r=T(t,["musicGenerationConfig"]);return r!=null&&E(e,["musicGenerationConfig"],j_e(r)),e}function V_e(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);r!=null&&E(e,["mimeType"],r);const i=T(t,["sourceMetadata"]);return i!=null&&E(e,["sourceMetadata"],B_e(i)),e}function W_e(t){const e={},n=T(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>V_e(i))),E(e,["audioChunks"],r)}return e}function q_e(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["filteredReason"]);return r!=null&&E(e,["filteredReason"],r),e}function $_e(t){const e={};T(t,["setupComplete"])!=null&&E(e,["setupComplete"],U_e());const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],W_e(r));const i=T(t,["filteredPrompt"]);return i!=null&&E(e,["filteredPrompt"],q_e(i)),e}function z_e(t){const e={},n=T(t,["sessionId"]);return n!=null&&E(e,["sessionId"],n),e}function H_e(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function G_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function K_e(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function XG(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function X_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],H_e(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],G_e(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],K_e(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],XG(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function J_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>X_e(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function DU(t){const e={},n=T(t,["text"]);n!=null&&E(e,["text"],n);const r=T(t,["finished"]);return r!=null&&E(e,["finished"],r),e}function Y_e(t){const e={},n=T(t,["modelTurn"]);n!=null&&E(e,["modelTurn"],J_e(n));const r=T(t,["turnComplete"]);r!=null&&E(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&E(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&E(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&E(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&E(e,["inputTranscription"],DU(o));const l=T(t,["outputTranscription"]);return l!=null&&E(e,["outputTranscription"],DU(l)),e}function Q_e(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XG(i))),E(e,["functionCalls"],r)}return e}function Z_e(t){const e={},n=T(t,["ids"]);return n!=null&&E(e,["ids"],n),e}function Rx(t){const e={},n=T(t,["modality"]);n!=null&&E(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&E(e,["tokenCount"],r),e}function ewe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=T(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&E(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&E(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Rx(v))),E(e,["promptTokensDetails"],p)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>Rx(v))),E(e,["cacheTokensDetails"],p)}const u=T(t,["candidatesTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>Rx(v))),E(e,["responseTokensDetails"],p)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>Rx(v))),E(e,["toolUsePromptTokensDetails"],p)}const h=T(t,["trafficType"]);return h!=null&&E(e,["trafficType"],h),e}function twe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&E(e,["timeLeft"],n),e}function nwe(t){const e={},n=T(t,["newHandle"]);n!=null&&E(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&E(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&E(e,["lastConsumedClientMessageIndex"],i),e}function rwe(t){const e={},n=T(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],z_e(n));const r=T(t,["serverContent"]);r!=null&&E(e,["serverContent"],Y_e(r));const i=T(t,["toolCall"]);i!=null&&E(e,["toolCall"],Q_e(i));const s=T(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],Z_e(s));const a=T(t,["usageMetadata"]);a!=null&&E(e,["usageMetadata"],ewe(a));const o=T(t,["goAway"]);o!=null&&E(e,["goAway"],twe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&E(e,["sessionResumptionUpdate"],nwe(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iwe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function swe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function awe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function owe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function lwe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],iwe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],swe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],awe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],owe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function kw(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>lwe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function cwe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const D=T(t,["required"]);D!=null&&E(e,["required"],D);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const S=T(t,["type"]);return S!=null&&E(e,["type"],S),e}function uwe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&E(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function dwe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function fwe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function hwe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],fwe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function pwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function mwe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],pwe(n)),e}function gwe(){return{}}function ywe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function vwe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>dwe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],hwe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],mwe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],gwe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],ywe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function xwe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function bwe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function _we(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],bwe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function wwe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],xwe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],_we(r)),e}function Twe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function JG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],Twe(n)),e}function Ewe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],JG(r)),e}function Cwe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ewe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function Swe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],JG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],Cwe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function Dwe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function Awe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],kw(gs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],cwe(pI(_)));const x=T(e,["responseJsonSchema"]);if(x!=null&&E(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(I=>uwe(I))),E(n,["safetySettings"],P)}const C=T(e,["tools"]);if(n!==void 0&&C!=null){let P=Jm(C);Array.isArray(P)&&(P=P.map(I=>vwe(Xm(I)))),E(n,["tools"],P)}const D=T(e,["toolConfig"]);if(n!==void 0&&D!=null&&E(n,["toolConfig"],wwe(D)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Nc(t,R));const S=T(e,["responseModalities"]);S!=null&&E(r,["responseModalities"],S);const N=T(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const k=T(e,["speechConfig"]);if(k!=null&&E(r,["speechConfig"],Swe(mI(k))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&E(r,["thinkingConfig"],Dwe(F)),r}function AU(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>kw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],Awe(t,s,n)),n}function Nwe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["requests[]","content"],hI(t,i));const s=T(e,["config"]);s!=null&&E(n,["config"],Nwe(s,n));const a=T(e,["model"]);return a!==void 0&&E(n,["requests[]","model"],Rn(t,a)),n}function Iwe(t,e){const n={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=T(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=T(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&E(e,["parameters","safetySetting"],a);const o=T(t,["personGeneration"]);e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o);const l=T(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&E(e,["parameters","includeSafetyAttributes"],l);const c=T(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const u=T(t,["language"]);e!==void 0&&u!=null&&E(e,["parameters","language"],u);const f=T(t,["outputMimeType"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","mimeType"],f);const h=T(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&E(e,["parameters","outputOptions","compressionQuality"],h),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=T(t,["imageSize"]);if(e!==void 0&&p!=null&&E(e,["parameters","sampleImageSize"],p),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Rwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],Iwe(s,n)),n}function Pwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function Fwe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],FG(t,o)),r}function Mwe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],Fwe(t,r,n)),n}function Uwe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function Owe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],Uwe(i,n)),n}function Lwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function jwe(t){const e={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Bwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>kw(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],jwe(s)),n}function YG(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=T(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],rh(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Vwe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);if(e!==void 0&&i!=null&&E(e,["instances[0]","image"],YG(i)),T(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function Wwe(t,e){const n={},r=T(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=T(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=T(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const a=T(t,["resolution"]);e!==void 0&&a!=null&&E(e,["parameters","resolution"],a);const o=T(t,["personGeneration"]);if(e!==void 0&&o!=null&&E(e,["parameters","personGeneration"],o),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=T(t,["negativePrompt"]);e!==void 0&&l!=null&&E(e,["parameters","negativePrompt"],l);const c=T(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),T(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(T(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(T(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(T(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function qwe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);if(s!=null&&E(n,["instances[0]","image"],YG(s)),T(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=T(e,["source"]);a!=null&&E(n,["config"],Vwe(a,n));const o=T(e,["config"]);return o!=null&&E(n,["config"],Wwe(o,n)),n}function $we(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function zwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Hwe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Gwe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function Kwe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],$we(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],zwe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],Hwe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],Gwe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function Qm(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Kwe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function Xwe(t){const e={},n=T(t,["anyOf"]);n!=null&&E(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&E(e,["default"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["enum"]);s!=null&&E(e,["enum"],s);const a=T(t,["example"]);a!=null&&E(e,["example"],a);const o=T(t,["format"]);o!=null&&E(e,["format"],o);const l=T(t,["items"]);l!=null&&E(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&E(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&E(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&E(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&E(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&E(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&E(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&E(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&E(e,["minimum"],y);const _=T(t,["nullable"]);_!=null&&E(e,["nullable"],_);const x=T(t,["pattern"]);x!=null&&E(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&E(e,["properties"],w);const C=T(t,["propertyOrdering"]);C!=null&&E(e,["propertyOrdering"],C);const D=T(t,["required"]);D!=null&&E(e,["required"],D);const R=T(t,["title"]);R!=null&&E(e,["title"],R);const S=T(t,["type"]);return S!=null&&E(e,["type"],S),e}function Jwe(t){const e={},n=T(t,["featureSelectionPreference"]);return n!=null&&E(e,["featureSelectionPreference"],n),e}function Ywe(t){const e={},n=T(t,["method"]);n!=null&&E(e,["method"],n);const r=T(t,["category"]);r!=null&&E(e,["category"],r);const i=T(t,["threshold"]);return i!=null&&E(e,["threshold"],i),e}function Qwe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&E(e,["description"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&E(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&E(e,["responseJsonSchema"],o),e}function Zwe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function eTe(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&E(e,["timeRangeFilter"],Zwe(n));const r=T(t,["excludeDomains"]);return r!=null&&E(e,["excludeDomains"],r),e}function tTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function nTe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],tTe(n)),e}function rTe(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&E(e,["excludeDomains"],n),e}function iTe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&E(e,["apiKeyString"],n),e}function sTe(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&E(e,["apiKeyConfig"],iTe(n));const r=T(t,["authType"]);r!=null&&E(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&E(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&E(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&E(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&E(e,["oidcConfig"],o),e}function aTe(t){const e={},n=T(t,["authConfig"]);return n!=null&&E(e,["authConfig"],sTe(n)),e}function oTe(){return{}}function lTe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function QG(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Qwe(h))),E(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],eTe(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],nTe(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&E(e,["enterpriseWebSearch"],rTe(a));const o=T(t,["googleMaps"]);o!=null&&E(e,["googleMaps"],aTe(o)),T(t,["urlContext"])!=null&&E(e,["urlContext"],oTe());const c=T(t,["computerUse"]);c!=null&&E(e,["computerUse"],lTe(c));const u=T(t,["codeExecution"]);return u!=null&&E(e,["codeExecution"],u),e}function cTe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&E(e,["allowedFunctionNames"],r),e}function uTe(t){const e={},n=T(t,["latitude"]);n!=null&&E(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&E(e,["longitude"],r),e}function dTe(t){const e={},n=T(t,["latLng"]);n!=null&&E(e,["latLng"],uTe(n));const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function fTe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&E(e,["functionCallingConfig"],cTe(n));const r=T(t,["retrievalConfig"]);return r!=null&&E(e,["retrievalConfig"],dTe(r)),e}function hTe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function pTe(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],hTe(n)),e}function mTe(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],pTe(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function gTe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&E(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&E(e,["thinkingBudget"],r),e}function yTe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Qm(gs(i)));const s=T(e,["temperature"]);s!=null&&E(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&E(r,["topP"],a);const o=T(e,["topK"]);o!=null&&E(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&E(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&E(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&E(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&E(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&E(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&E(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&E(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&E(r,["responseMimeType"],y);const _=T(e,["responseSchema"]);_!=null&&E(r,["responseSchema"],Xwe(pI(_)));const x=T(e,["responseJsonSchema"]);x!=null&&E(r,["responseJsonSchema"],x);const w=T(e,["routingConfig"]);w!=null&&E(r,["routingConfig"],w);const C=T(e,["modelSelectionConfig"]);C!=null&&E(r,["modelConfig"],Jwe(C));const D=T(e,["safetySettings"]);if(n!==void 0&&D!=null){let G=D;Array.isArray(G)&&(G=G.map(K=>Ywe(K))),E(n,["safetySettings"],G)}const R=T(e,["tools"]);if(n!==void 0&&R!=null){let G=Jm(R);Array.isArray(G)&&(G=G.map(K=>QG(Xm(K)))),E(n,["tools"],G)}const S=T(e,["toolConfig"]);n!==void 0&&S!=null&&E(n,["toolConfig"],fTe(S));const N=T(e,["labels"]);n!==void 0&&N!=null&&E(n,["labels"],N);const k=T(e,["cachedContent"]);n!==void 0&&k!=null&&E(n,["cachedContent"],Nc(t,k));const F=T(e,["responseModalities"]);F!=null&&E(r,["responseModalities"],F);const P=T(e,["mediaResolution"]);P!=null&&E(r,["mediaResolution"],P);const I=T(e,["speechConfig"]);I!=null&&E(r,["speechConfig"],mTe(mI(I)));const U=T(e,["audioTimestamp"]);U!=null&&E(r,["audioTimestamp"],U);const O=T(e,["thinkingConfig"]);return O!=null&&E(r,["thinkingConfig"],gTe(O)),r}function NU(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>Qm(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["generationConfig"],yTe(t,s,n)),n}function vTe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=T(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const a=T(t,["mimeType"]);e!==void 0&&a!=null&&E(e,["instances[]","mimeType"],a);const o=T(t,["autoTruncate"]);return e!==void 0&&o!=null&&E(e,["parameters","autoTruncate"],o),n}function xTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["contents"]);i!=null&&E(n,["instances[]","content"],hI(t,i));const s=T(e,["config"]);return s!=null&&E(n,["config"],vTe(s,n)),n}function bTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const _=T(t,["imageSize"]);e!==void 0&&_!=null&&E(e,["parameters","sampleImageSize"],_);const x=T(t,["enhancePrompt"]);return e!==void 0&&x!=null&&E(e,["parameters","enhancePrompt"],x),n}function _Te(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&E(n,["config"],bTe(s,n)),n}function $o(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],rh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function wTe(t){const e={},n=T(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=T(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=T(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function TTe(t){const e={},n=T(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=T(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function ETe(t){const e={},n=T(t,["styleDescription"]);return n!=null&&E(e,["styleDescription"],n),e}function CTe(t){const e={},n=T(t,["subjectType"]);n!=null&&E(e,["subjectType"],n);const r=T(t,["subjectDescription"]);return r!=null&&E(e,["subjectDescription"],r),e}function STe(t){const e={},n=T(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],$o(n));const r=T(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=T(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=T(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],wTe(s));const a=T(t,["controlImageConfig"]);a!=null&&E(e,["controlImageConfig"],TTe(a));const o=T(t,["styleImageConfig"]);o!=null&&E(e,["styleImageConfig"],ETe(o));const l=T(t,["subjectImageConfig"]);return l!=null&&E(e,["subjectImageConfig"],CTe(l)),e}function DTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&E(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&E(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&E(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&E(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&E(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&E(e,["parameters","addWatermark"],y);const _=T(t,["editMode"]);e!==void 0&&_!=null&&E(e,["parameters","editMode"],_);const x=T(t,["baseSteps"]);return e!==void 0&&x!=null&&E(e,["parameters","editConfig","baseSteps"],x),n}function ATe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>STe(l))),E(n,["instances[0]","referenceImages"],o)}const a=T(e,["config"]);return a!=null&&E(n,["config"],DTe(a,n)),n}function NTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=T(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=T(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const a=T(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&E(e,["parameters","outputOptions","compressionQuality"],a);const o=T(t,["enhanceInputImage"]);e!==void 0&&o!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=T(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=T(t,["numberOfImages"]);e!==void 0&&c!=null&&E(e,["parameters","sampleCount"],c);const u=T(t,["mode"]);return e!==void 0&&u!=null&&E(e,["parameters","mode"],u),n}function kTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["image"]);i!=null&&E(n,["instances[0]","image"],$o(i));const s=T(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=T(e,["config"]);return a!=null&&E(n,["config"],NTe(a,n)),n}function ITe(t){const e={},n=T(t,["productImage"]);return n!=null&&E(e,["image"],$o(n)),e}function RTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],$o(i));const s=T(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>ITe(o))),E(e,["instances[0]","productImages"],a)}return n}function PTe(t,e){const n={},r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=T(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const a=T(t,["seed"]);e!==void 0&&a!=null&&E(e,["parameters","seed"],a);const o=T(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=T(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const c=T(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const u=T(t,["outputMimeType"]);e!==void 0&&u!=null&&E(e,["parameters","outputOptions","mimeType"],u);const f=T(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&E(e,["parameters","outputOptions","compressionQuality"],f);const h=T(t,["enhancePrompt"]);return e!==void 0&&h!=null&&E(e,["parameters","enhancePrompt"],h),n}function FTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],RTe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],PTe(s,n)),n}function MTe(t){const e={},n=T(t,["image"]);return n!=null&&E(e,["image"],$o(n)),e}function UTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],$o(i));const s=T(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],MTe(s)),n}function OTe(t,e){const n={},r=T(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=T(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=T(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const a=T(t,["maskDilation"]);e!==void 0&&a!=null&&E(e,["parameters","maskDilation"],a);const o=T(t,["binaryColorThreshold"]);return e!==void 0&&o!=null&&E(e,["parameters","binaryColorThreshold"],o),n}function LTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["source"]);i!=null&&E(n,["config"],UTe(i,n));const s=T(e,["config"]);return s!=null&&E(n,["config"],OTe(s,n)),n}function jTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function BTe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&E(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&E(n,["_url","models_url"],FG(t,o)),r}function VTe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],BTe(t,r,n)),n}function WTe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function qTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],WTe(i,n)),n}function $Te(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","name"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],i),n}function zTe(t,e){const n={},r=T(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],Qm(gs(r)));const i=T(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>QG(o))),E(e,["tools"],a)}const s=T(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],s),n}function HTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>Qm(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],zTe(s,n)),n}function GTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["contents"]);if(i!=null){let a=to(i);Array.isArray(a)&&(a=a.map(o=>Qm(o))),E(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&E(n,["config"],s),n}function ZG(t){const e={},n=T(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],rh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function KTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],$o(i));const s=T(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],ZG(s)),n}function XTe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["image"],$o(n));const r=T(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function JTe(t){const e={},n=T(t,["image"]);n!=null&&E(e,["_self"],$o(n));const r=T(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function YTe(t,e){const n={},r=T(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=T(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=T(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const a=T(t,["durationSeconds"]);e!==void 0&&a!=null&&E(e,["parameters","durationSeconds"],a);const o=T(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=T(t,["aspectRatio"]);e!==void 0&&l!=null&&E(e,["parameters","aspectRatio"],l);const c=T(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&E(e,["parameters","personGeneration"],u);const f=T(t,["pubsubTopic"]);e!==void 0&&f!=null&&E(e,["parameters","pubsubTopic"],f);const h=T(t,["negativePrompt"]);e!==void 0&&h!=null&&E(e,["parameters","negativePrompt"],h);const p=T(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const v=T(t,["generateAudio"]);e!==void 0&&v!=null&&E(e,["parameters","generateAudio"],v);const g=T(t,["lastFrame"]);e!==void 0&&g!=null&&E(e,["instances[0]","lastFrame"],$o(g));const y=T(t,["referenceImages"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>XTe(C))),E(e,["instances[0]","referenceImages"],w)}const _=T(t,["mask"]);e!==void 0&&_!=null&&E(e,["instances[0]","mask"],JTe(_));const x=T(t,["compressionQuality"]);return e!==void 0&&x!=null&&E(e,["parameters","compressionQuality"],x),n}function QTe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["_url","model"],Rn(t,r));const i=T(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=T(e,["image"]);s!=null&&E(n,["instances[0]","image"],$o(s));const a=T(e,["video"]);a!=null&&E(n,["instances[0]","video"],ZG(a));const o=T(e,["source"]);o!=null&&E(n,["config"],KTe(o,n));const l=T(e,["config"]);return l!=null&&E(n,["config"],YTe(l,n)),n}function ZTe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function eEe(t){const e={},n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function tEe(t){const e={},n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function nEe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function rEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],ZTe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],eEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],tEe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],nEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function iEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>rEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function sEe(t){const e={},n=T(t,["citationSources"]);return n!=null&&E(e,["citations"],n),e}function aEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function oEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aEe(i))),E(e,["urlMetadata"],r)}return e}function lEe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],iEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],sEe(r));const i=T(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],oEe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function kU(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>lEe(c))),E(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&E(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&E(e,["usageMetadata"],o),e}function cEe(t){const e={},n=T(t,["values"]);return n!=null&&E(e,["values"],n),e}function uEe(){return{}}function dEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>cEe(a))),E(e,["embeddings"],s)}return T(t,["metadata"])!=null&&E(e,["metadata"],uEe()),e}function fEe(t){const e={},n=T(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],rh(n));const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function eK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function hEe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],fEe(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],eK(i)),e}function pEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>hEe(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],eK(i)),e}function mEe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function ZA(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["version"]);s!=null&&E(e,["version"],s);const a=T(t,["_self"]);a!=null&&E(e,["tunedModelInfo"],mEe(a));const o=T(t,["inputTokenLimit"]);o!=null&&E(e,["inputTokenLimit"],o);const l=T(t,["outputTokenLimit"]);l!=null&&E(e,["outputTokenLimit"],l);const c=T(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function gEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=MG(i);Array.isArray(s)&&(s=s.map(a=>ZA(a))),E(e,["models"],s)}return e}function yEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function vEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=T(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function xEe(t){const e={},n=T(t,["video","uri"]);n!=null&&E(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&E(e,["videoBytes"],rh(r));const i=T(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function bEe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],xEe(n)),e}function _Ee(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>bEe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function wEe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&E(e,["response"],_Ee(a)),e}function TEe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function EEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["data"]);r!=null&&E(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function CEe(t){const e={},n=T(t,["displayName"]);n!=null&&E(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&E(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function SEe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function DEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],TEe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],EEe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],CEe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],SEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function AEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>DEe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function NEe(t){const e={},n=T(t,["citations"]);return n!=null&&E(e,["citations"],n),e}function kEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&E(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&E(e,["urlRetrievalStatus"],r),e}function IEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kEe(i))),E(e,["urlMetadata"],r)}return e}function REe(t){const e={},n=T(t,["content"]);n!=null&&E(e,["content"],AEe(n));const r=T(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],NEe(r));const i=T(t,["finishMessage"]);i!=null&&E(e,["finishMessage"],i);const s=T(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&E(e,["urlContextMetadata"],IEe(a));const o=T(t,["avgLogprobs"]);o!=null&&E(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&E(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&E(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&E(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&E(e,["safetyRatings"],f),e}function IU(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>REe(u))),E(e,["candidates"],c)}const i=T(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=T(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const a=T(t,["promptFeedback"]);a!=null&&E(e,["promptFeedback"],a);const o=T(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=T(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function PEe(t){const e={},n=T(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=T(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function FEe(t){const e={},n=T(t,["values"]);n!=null&&E(e,["values"],n);const r=T(t,["statistics"]);return r!=null&&E(e,["statistics"],PEe(r)),e}function MEe(t){const e={},n=T(t,["billableCharacterCount"]);return n!=null&&E(e,["billableCharacterCount"],n),e}function UEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>FEe(a))),E(e,["embeddings"],s)}const i=T(t,["metadata"]);return i!=null&&E(e,["metadata"],MEe(i)),e}function tK(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],rh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function nK(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function Iw(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["image"],tK(n));const r=T(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=T(t,["_self"]);i!=null&&E(e,["safetyAttributes"],nK(i));const s=T(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function OEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Iw(a))),E(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],nK(i)),e}function LEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Iw(s))),E(e,["generatedImages"],i)}return e}function jEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Iw(s))),E(e,["generatedImages"],i)}return e}function BEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Iw(i))),E(e,["generatedImages"],r)}return e}function VEe(t){const e={},n=T(t,["label"]);n!=null&&E(e,["label"],n);const r=T(t,["score"]);return r!=null&&E(e,["score"],r),e}function WEe(t){const e={},n=T(t,["_self"]);n!=null&&E(e,["mask"],tK(n));const r=T(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>VEe(s))),E(e,["labels"],i)}return e}function qEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WEe(i))),E(e,["generatedMasks"],r)}return e}function $Ee(t){const e={},n=T(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=T(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function zEe(t){const e={},n=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function HEe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);return i!=null&&E(e,["step"],i),e}function eN(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=T(t,["description"]);i!=null&&E(e,["description"],i);const s=T(t,["versionId"]);s!=null&&E(e,["version"],s);const a=T(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>$Ee(h))),E(e,["endpoints"],f)}const o=T(t,["labels"]);o!=null&&E(e,["labels"],o);const l=T(t,["_self"]);l!=null&&E(e,["tunedModelInfo"],zEe(l));const c=T(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const u=T(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>HEe(h))),E(e,["checkpoints"],f)}return e}function GEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=MG(i);Array.isArray(s)&&(s=s.map(a=>eN(a))),E(e,["models"],s)}return e}function KEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function XEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function JEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["tokensInfo"]);return r!=null&&E(e,["tokensInfo"],r),e}function YEe(t){const e={},n=T(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],rh(r));const i=T(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function QEe(t){const e={},n=T(t,["_self"]);return n!=null&&E(e,["video"],YEe(n)),e}function ZEe(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>QEe(a))),E(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function eCe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["name"],n);const r=T(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=T(t,["done"]);i!=null&&E(e,["done"],i);const s=T(t,["error"]);s!=null&&E(e,["error"],s);const a=T(t,["response"]);return a!=null&&E(e,["response"],ZEe(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tCe="Content-Type",nCe="X-Server-Timeout",rCe="User-Agent",tN="x-goog-api-client",iCe="1.19.0",sCe=`google-genai-sdk/${iCe}`,aCe="v1beta1",oCe="v1beta",RU=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class lCe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:aCe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:oCe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&cCe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await PU(i),new KA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await PU(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Mp(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield fr(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const f=JSON.parse(c);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,v=h.code,g=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Nw({message:g,status:v})}}catch(f){if(f.name==="ApiError")throw f}a+=c;let u=a.match(RU);for(;u;){const f=u[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fr(new KA(h)),a=a.slice(u[0].length),u=a.match(RU)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=sCe+" "+this.clientOptions.userAgentExtra;return e[rCe]=n,e[tN]=n,e[tCe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(nCe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,n);return s.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:Rt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function PU(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Nw({message:i,status:n}):new Error(i)}}function cCe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uCe="mcp_used/unknown";let dCe=!1;function rK(t){for(const e of t)if(fCe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return dCe}function iK(t){var e;const n=(e=t[tN])!==null&&e!==void 0?e:"";t[tN]=(n+` ${uCe}`).trimStart()}function fCe(t){return t!==null&&typeof t=="object"&&t instanceof vI}function hCe(t,e=100){return Mp(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield fr(t.listTools({cursor:r}));for(const a of s.tools)yield yield fr(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class vI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new vI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const u of this.mcpClients)try{for(var o=!0,l=(n=void 0,Y0(hCe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;a.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=u}}catch(f){n={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),A1e(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pCe(t,e,n){const r=new b1e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const s=$_e(i);Object.assign(r,s),e(r)}class mCe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=vCe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(w=>{c=w}),f=e.callbacks,h=function(){c({})},p=this.apiClient,v={onopen:h,onmessage:w=>{pCe(p,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,yCe(a),v);g.connect(),await u;const y=Rn(this.apiClient,e.model),_=HG({model:y}),x=QA({setup:_});return g.send(JSON.stringify(x)),new gCe(g,this.apiClient)}}class gCe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Vbe(e),r=GG(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Wbe(e),r=QA(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=QA({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Tp.PLAY)}pause(){this.sendPlaybackControl(Tp.PAUSE)}stop(){this.sendPlaybackControl(Tp.STOP)}resetContext(){this.sendPlaybackControl(Tp.RESET_CONTEXT)}close(){this.conn.close()}}function yCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function vCe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xCe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function bCe(t,e,n){const r=new x1e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=rwe(s);Object.assign(r,a)}else{const a=M_e(s);Object.assign(r,a)}e(r)}class _Ce{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new mCe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&rK(e.config.tools)&&iK(f);const h=CCe(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const k=this.apiClient.getApiKey();let F="BidiGenerateContent",P="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${F}?${P}=${k}`}let p=()=>{};const v=new Promise(k=>{p=k}),g=e.callbacks,y=function(){var k;(k=g==null?void 0:g.onopen)===null||k===void 0||k.call(g),p({})},_=this.apiClient,x={onopen:y,onmessage:k=>{bCe(_,g.onmessage,k)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(k){}},w=this.webSocketFactory.create(u,ECe(h),x);w.connect(),await v;let C=Rn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const k=this.apiClient.getProject(),F=this.apiClient.getLocation();C=`projects/${k}/locations/${F}/`+C}let D={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[jb.AUDIO]}:e.config.responseModalities=[jb.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],S=[];for(const k of R)if(this.isCallableTool(k)){const F=k;S.push(await F.tool())}else S.push(k);S.length>0&&(e.config.tools=S);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=y_e(this.apiClient,N):D=Obe(this.apiClient,N),delete D.config,w.send(JSON.stringify(D)),new TCe(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const wCe={turnComplete:!0};class TCe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=to(n.turns),e.isVertexAI()?r=r.map(i=>Qm(i)):r=r.map(i=>kw(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(xCe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},wCe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:b_e(e)}:n={realtimeInput:Bbe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ECe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function CCe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FU=10;function MU(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Up(a)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Up(t){return"callTool"in t&&typeof t.callTool=="function"}function SCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Up(i)))!==null&&r!==void 0?r:!1}function DCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Up(i)))!==null&&r!==void 0?r:!1}function UU(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ACe extends nh{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!SCe(n)||MU(n.config))return await this.generateContentInternal(l);if(DCe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=to(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:FU;let p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,g=[];for(const y of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Up(y)){const x=await y.callTool(c.functionCalls);g.push(...x)}p++,u={role:"user",parts:g},l.contents=to(l.contents),l.contents.push(v),l.contents.push(u),UU(l.config)&&(f.push(v),f.push(u))}return UU(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),MU(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Hv(Uf.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>Up(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&rK(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),iK(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Up(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:FU;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){var h,p;return Mp(this,arguments,function*(){for(var v,g,y,_;o<s;){a&&(o++,a=!1);const D=yield fr(c.processParamsMaybeAddMcpUsage(f)),R=yield fr(c.generateContentStreamInternal(D)),S=[],N=[];try{for(var x=!0,w=(g=void 0,Y0(R)),C;C=yield fr(w.next()),v=C.done,!v;x=!0){_=C.value,x=!1;const k=_;if(yield yield fr(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){N.push(k.candidates[0].content);for(const F of(p=k.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(F.functionCall.name)){const P=yield fr(u.get(F.functionCall.name).callTool([F.functionCall]));S.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(k){g={error:k}}finally{try{!x&&!v&&(y=w.return)&&(yield fr(y.call(w)))}finally{if(g)throw g.error}}if(S.length>0){a=!0;const k=new e0;k.candidates=[{content:{role:"user",parts:S}}],yield yield fr(k);const F=[];F.push(...N),F.push({role:"user",parts:S});const P=to(f.contents).concat(F);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=NU(this.apiClient,e);return o=Rt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=IU(u),h=new e0;return Object.assign(h,f),h})}else{const c=AU(this.apiClient,e);return o=Rt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=kU(u),h=new e0;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=NU(this.apiClient,e);return o=Rt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Mp(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,_=Y0(f),x;x=yield fr(_.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,C=IU(yield fr(w.json()));C.sdkHttpResponse={headers:w.headers};const D=new e0;Object.assign(D,C),yield yield fr(D)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=_.return)&&(yield fr(v.call(_)))}finally{if(p)throw p.error}}})})}else{const c=AU(this.apiClient,e);return o=Rt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return Mp(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,_=Y0(f),x;x=yield fr(_.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,C=kU(yield fr(w.json()));C.sdkHttpResponse={headers:w.headers};const D=new e0;Object.assign(D,C),yield yield fr(D)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=_.return)&&(yield fr(v.call(_)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=xTe(this.apiClient,e);return o=Rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=UEe(u),h=new lU;return Object.assign(h,f),h})}else{const c=kwe(this.apiClient,e);return o=Rt("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=dEe(u),h=new lU;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=_Te(this.apiClient,e);return o=Rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=OEe(u),h=new cU;return Object.assign(h,f),h})}else{const c=Rwe(this.apiClient,e);return o=Rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=pEe(u),h=new cU;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=ATe(this.apiClient,e);return s=Rt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=LEe(l),u=new d1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=kTe(this.apiClient,e);return s=Rt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=jEe(l),u=new f1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=FTe(this.apiClient,e);return s=Rt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=BEe(l),u=new h1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=LTe(this.apiClient,e);return s=Rt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=qEe(l),u=new p1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=jTe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>eN(u))}else{const c=Pwe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>ZA(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=VTe(this.apiClient,e);return o=Rt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=GEe(u),h=new uU;return Object.assign(h,f),h})}else{const c=Mwe(this.apiClient,e);return o=Rt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=gEe(u),h=new uU;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=qTe(this.apiClient,e);return o=Rt("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>eN(u))}else{const c=Owe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>ZA(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=$Te(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=KEe(u),h=new dU;return Object.assign(h,f),h})}else{const c=Lwe(this.apiClient,e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=yEe(u),h=new dU;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=HTe(this.apiClient,e);return o=Rt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=XEe(u),h=new fU;return Object.assign(h,f),h})}else{const c=Bwe(this.apiClient,e);return o=Rt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=vEe(u),h=new fU;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=GTe(this.apiClient,e);return s=Rt("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=JEe(l),u=new m1e;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=QTe(this.apiClient,e);return o=Rt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const f=eCe(u),h=new Bb;return Object.assign(h,f),h})}else{const c=qwe(this.apiClient,e);return o=Rt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>{const f=wEe(u),h=new Bb;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NCe extends nh{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=n1e(e);return o=Rt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a}else{const c=e1e(e);return o=Rt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=t1e(e);return s=Rt("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kCe(t){const e={},n=T(t,["voiceName"]);return n!=null&&E(e,["voiceName"],n),e}function sK(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&E(e,["prebuiltVoiceConfig"],kCe(n)),e}function ICe(t){const e={},n=T(t,["speaker"]);n!=null&&E(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&E(e,["voiceConfig"],sK(r)),e}function RCe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ICe(i))),E(e,["speakerVoiceConfigs"],r)}return e}function PCe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&E(e,["voiceConfig"],sK(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&E(e,["multiSpeakerVoiceConfig"],RCe(r));const i=T(t,["languageCode"]);return i!=null&&E(e,["languageCode"],i),e}function FCe(t){const e={},n=T(t,["fps"]);n!=null&&E(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&E(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&E(e,["startOffset"],i),e}function MCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&E(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function UCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function OCe(t){const e={},n=T(t,["id"]);n!=null&&E(e,["id"],n);const r=T(t,["args"]);r!=null&&E(e,["args"],r);const i=T(t,["name"]);return i!=null&&E(e,["name"],i),e}function LCe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],FCe(n));const r=T(t,["thought"]);r!=null&&E(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&E(e,["inlineData"],MCe(i));const s=T(t,["fileData"]);s!=null&&E(e,["fileData"],UCe(s));const a=T(t,["thoughtSignature"]);a!=null&&E(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&E(e,["functionCall"],OCe(o));const l=T(t,["codeExecutionResult"]);l!=null&&E(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&E(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&E(e,["text"],f),e}function jCe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>LCe(s))),E(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&E(e,["role"],r),e}function BCe(t){const e={},n=T(t,["behavior"]);n!=null&&E(e,["behavior"],n);const r=T(t,["description"]);r!=null&&E(e,["description"],r);const i=T(t,["name"]);i!=null&&E(e,["name"],i);const s=T(t,["parameters"]);s!=null&&E(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&E(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&E(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function VCe(t){const e={},n=T(t,["startTime"]);n!=null&&E(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&E(e,["endTime"],r),e}function WCe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],VCe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function qCe(t){const e={},n=T(t,["mode"]);n!=null&&E(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&E(e,["dynamicThreshold"],r),e}function $Ce(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&E(e,["dynamicRetrievalConfig"],qCe(n)),e}function zCe(){return{}}function HCe(t){const e={},n=T(t,["environment"]);return n!=null&&E(e,["environment"],n),e}function GCe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>BCe(c))),E(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],WCe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],$Ce(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&E(e,["urlContext"],zCe());const a=T(t,["computerUse"]);a!=null&&E(e,["computerUse"],HCe(a));const o=T(t,["codeExecution"]);return o!=null&&E(e,["codeExecution"],o),e}function KCe(t){const e={},n=T(t,["handle"]);if(n!=null&&E(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function OU(){return{}}function XCe(t){const e={},n=T(t,["disabled"]);n!=null&&E(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&E(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&E(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&E(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&E(e,["silenceDurationMs"],a),e}function JCe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&E(e,["automaticActivityDetection"],XCe(n));const r=T(t,["activityHandling"]);r!=null&&E(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&E(e,["turnCoverage"],i),e}function YCe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&E(e,["targetTokens"],n),e}function QCe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&E(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&E(e,["slidingWindow"],YCe(r)),e}function ZCe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&E(e,["proactiveAudio"],n),e}function eSe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&E(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&E(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","speechConfig"],PCe(gI(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&E(e,["setup","systemInstruction"],jCe(gs(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let D=Jm(v);Array.isArray(D)&&(D=D.map(R=>GCe(Xm(R)))),E(e,["setup","tools"],D)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&E(e,["setup","sessionResumption"],KCe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&E(e,["setup","inputAudioTranscription"],OU());const _=T(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&E(e,["setup","outputAudioTranscription"],OU());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&E(e,["setup","realtimeInputConfig"],JCe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&E(e,["setup","contextWindowCompression"],QCe(w));const C=T(t,["proactivity"]);return e!==void 0&&C!=null&&E(e,["setup","proactivity"],ZCe(C)),n}function tSe(t,e){const n={},r=T(e,["model"]);r!=null&&E(n,["setup","model"],Rn(t,r));const i=T(e,["config"]);return i!=null&&E(n,["config"],eSe(i,n)),n}function nSe(t,e,n){const r={},i=T(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=T(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const a=T(e,["uses"]);n!==void 0&&a!=null&&E(n,["uses"],a);const o=T(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&E(n,["bidiGenerateContentSetup"],tSe(t,o));const l=T(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&E(n,["fieldMask"],l),r}function rSe(t,e){const n={},r=T(e,["config"]);return r!=null&&E(n,["config"],nSe(t,r,n)),n}function iSe(t){const e={},n=T(t,["name"]);return n!=null&&E(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sSe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function aSe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=sSe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class oSe extends nh{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=rSe(this.apiClient,e);s=Rt("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=aSe(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>iSe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function cSe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function uSe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],cSe(n,e)),e}function dSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function fSe(t){const e={},n=T(t,["textInput"]);n!=null&&E(e,["textInput"],n);const r=T(t,["output"]);return r!=null&&E(e,["output"],r),e}function hSe(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=T(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fSe(i))),E(e,["examples","examples"],r)}return e}function pSe(t,e){const n={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=T(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&E(e,["displayName"],r),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=T(t,["epochCount"]);e!==void 0&&i!=null&&E(e,["tuningTask","hyperparameters","epochCount"],i);const s=T(t,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),T(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=T(t,["batchSize"]);e!==void 0&&a!=null&&E(e,["tuningTask","hyperparameters","batchSize"],a);const o=T(t,["learningRate"]);if(e!==void 0&&o!=null&&E(e,["tuningTask","hyperparameters","learningRate"],o),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function mSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["tuningTask","trainingData"],hSe(i));const s=T(t,["config"]);return s!=null&&E(e,["config"],pSe(s,e)),e}function gSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function ySe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function vSe(t){const e={},n=T(t,["config"]);return n!=null&&E(e,["config"],ySe(n,e)),e}function xSe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&E(e,["config"],r),e}function bSe(t,e){const n={},r=T(t,["gcsUri"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function _Se(t,e){const n={},r=T(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function wSe(t,e){const n={},r=T(t,["validationDataset"]);e!==void 0&&r!=null&&E(e,["supervisedTuningSpec"],_Se(r,n));const i=T(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&E(e,["tunedModelDisplayName"],i);const s=T(t,["description"]);e!==void 0&&s!=null&&E(e,["description"],s);const a=T(t,["epochCount"]);e!==void 0&&a!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const o=T(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=T(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=T(t,["preTunedModelCheckpointId"]);c!=null&&E(n,["preTunedModel","checkpointId"],c);const u=T(t,["adapterSize"]);if(e!==void 0&&u!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=T(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function TSe(t){const e={},n=T(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&E(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],bSe(i,e));const s=T(t,["config"]);return s!=null&&E(e,["config"],wSe(s,e)),e}function ESe(t){const e={},n=T(t,["name"]);n!=null&&E(e,["model"],n);const r=T(t,["name"]);return r!=null&&E(e,["endpoint"],r),e}function aK(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],RG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["tuningTask","startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["tuningTask","completeTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["description"]);c!=null&&E(e,["description"],c);const u=T(t,["baseModel"]);u!=null&&E(e,["baseModel"],u);const f=T(t,["_self"]);f!=null&&E(e,["tunedModel"],ESe(f));const h=T(t,["customBaseModel"]);h!=null&&E(e,["customBaseModel"],h);const p=T(t,["experiment"]);p!=null&&E(e,["experiment"],p);const v=T(t,["labels"]);v!=null&&E(e,["labels"],v);const g=T(t,["outputUri"]);g!=null&&E(e,["outputUri"],g);const y=T(t,["pipelineJob"]);y!=null&&E(e,["pipelineJob"],y);const _=T(t,["serviceAccount"]);_!=null&&E(e,["serviceAccount"],_);const x=T(t,["tunedModelDisplayName"]);return x!=null&&E(e,["tunedModelDisplayName"],x),e}function CSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>aK(a))),E(e,["tuningJobs"],s)}return e}function SSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["metadata"]);i!=null&&E(e,["metadata"],i);const s=T(t,["done"]);s!=null&&E(e,["done"],s);const a=T(t,["error"]);return a!=null&&E(e,["error"],a),e}function DSe(t){const e={},n=T(t,["checkpointId"]);n!=null&&E(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&E(e,["epoch"],r);const i=T(t,["step"]);i!=null&&E(e,["step"],i);const s=T(t,["endpoint"]);return s!=null&&E(e,["endpoint"],s),e}function ASe(t){const e={},n=T(t,["model"]);n!=null&&E(e,["model"],n);const r=T(t,["endpoint"]);r!=null&&E(e,["endpoint"],r);const i=T(t,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>DSe(a))),E(e,["checkpoints"],s)}return e}function nN(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&E(e,["name"],r);const i=T(t,["state"]);i!=null&&E(e,["state"],RG(i));const s=T(t,["createTime"]);s!=null&&E(e,["createTime"],s);const a=T(t,["startTime"]);a!=null&&E(e,["startTime"],a);const o=T(t,["endTime"]);o!=null&&E(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&E(e,["updateTime"],l);const c=T(t,["error"]);c!=null&&E(e,["error"],c);const u=T(t,["description"]);u!=null&&E(e,["description"],u);const f=T(t,["baseModel"]);f!=null&&E(e,["baseModel"],f);const h=T(t,["tunedModel"]);h!=null&&E(e,["tunedModel"],ASe(h));const p=T(t,["preTunedModel"]);p!=null&&E(e,["preTunedModel"],p);const v=T(t,["supervisedTuningSpec"]);v!=null&&E(e,["supervisedTuningSpec"],v);const g=T(t,["tuningDataStats"]);g!=null&&E(e,["tuningDataStats"],g);const y=T(t,["encryptionSpec"]);y!=null&&E(e,["encryptionSpec"],y);const _=T(t,["partnerModelTuningSpec"]);_!=null&&E(e,["partnerModelTuningSpec"],_);const x=T(t,["customBaseModel"]);x!=null&&E(e,["customBaseModel"],x);const w=T(t,["experiment"]);w!=null&&E(e,["experiment"],w);const C=T(t,["labels"]);C!=null&&E(e,["labels"],C);const D=T(t,["outputUri"]);D!=null&&E(e,["outputUri"],D);const R=T(t,["pipelineJob"]);R!=null&&E(e,["pipelineJob"],R);const S=T(t,["serviceAccount"]);S!=null&&E(e,["serviceAccount"],S);const N=T(t,["tunedModelDisplayName"]);return N!=null&&E(e,["tunedModelDisplayName"],N),e}function NSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=T(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>nN(a))),E(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kSe extends nh{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Hv(Uf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:GA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=gSe(e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>nN(u))}else{const c=lSe(e);return o=Rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>aK(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=vSe(e);return o=Rt("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=NSe(u),h=new hU;return Object.assign(h,f),h})}else{const c=uSe(e);return o=Rt("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=CSe(u),h=new hU;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=xSe(e);a=Rt("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=dSe(e);a=Rt("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=TSe(e);return s=Rt("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>nN(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mSe(e);return s=Rt("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>SSe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ISe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const RSe=1024*1024*8,PSe=3,FSe=1e3,MSe=2,nD="x-goog-upload-status";async function USe(t,e,n){var r,i,s;let a=0,o=0,l=new KA(new Response),c="upload";for(a=t.size;o<a;){const f=Math.min(RSe,a-o),h=t.slice(o,o+f);o+f>=a&&(c+=", finalize");let p=0,v=FSe;for(;p<PSe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[nD]));)p++,await LSe(v),v=v*MSe;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[nD])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[nD])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function OSe(t){return{size:t.size,type:t.type}}function LSe(t){return new Promise(e=>setTimeout(e,t))}class jSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await USe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BSe{create(e,n,r){return new VSe(e,n,r)}}class VSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LU="x-goog-api-key";class WSe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(LU)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(LU,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qSe="gl-node/";class jU{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Zve(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new WSe(this.apiKey);this.apiClient=new lCe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:qSe+"web",uploader:new jSe,downloader:new ISe}),this.models=new ACe(this.apiClient),this.live=new _Ce(this.apiClient,i,new BSe),this.batches=new $xe(this.apiClient),this.chats=new Q2e(this.models,this.apiClient),this.caches=new X2e(this.apiClient),this.files=new dbe(this.apiClient),this.operations=new NCe(this.apiClient),this.authTokens=new oSe(this.apiClient),this.tunings=new kSe(this.apiClient)}}if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const $Se=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),zSe=()=>{var le;const{blogPosts:t,addBlogPost:e,updateBlogPost:n,deleteBlogPost:r}=tn(),[i,s]=W.useState([]),[a,o]=W.useState({isOpen:!1,mode:"create",post:null}),[l,c]=W.useState({title:"",content:{},publishedAt:"",tags:[]}),[u,f]=W.useState(!1),[h,p]=W.useState("ar"),[v,g]=W.useState(""),[y,_]=W.useState([]),[x,w]=W.useState(!1),[C,D]=W.useState(!1),[R,S]=W.useState(null),[N,k]=W.useState(""),[F,P]=W.useState(""),[I,U]=W.useState(!1),[O,G]=W.useState(!1),[K,J]=W.useState([]),[te,z]=W.useState(!1);W.useEffect(()=>{const he=[...t].sort((_e,ie)=>{const ce=_e.publishedAt?_e.publishedAt.toDate():_e.createdAt.toDate();return(ie.publishedAt?ie.publishedAt.toDate():ie.createdAt.toDate()).getTime()-ce.getTime()});s(he)},[t]),W.useEffect(()=>{if(a.mode==="create"&&p("ar"),a.isOpen){const he=new Set;t.forEach(_e=>{_e.content&&_e.content[h]&&_e.tags&&_e.tags.split(",").forEach(ce=>{ce.trim()&&he.add(ce.trim())})}),_(Array.from(he).sort())}},[a.isOpen,a.mode,h,t]);const Y=()=>{const he=new Date().toISOString().split("T")[0];c({title:"",content:{},publishedAt:he,tags:[]}),p("ar"),o({isOpen:!0,mode:"create",post:null})},B=he=>{const _e=he.publishedAt?he.publishedAt.toDate().toISOString().split("T")[0]:"";c({title:he.title,content:he.content||{},publishedAt:_e,tags:he.tags?he.tags.split(",").map(ce=>ce.trim()).filter(Boolean):[]});const ie=Object.keys(he.content||{});ie.includes("ar")?p("ar"):ie.length>0?p(ie[0]):p("ar"),o({isOpen:!0,mode:"edit",post:he})},j=()=>{o({isOpen:!1,mode:"create",post:null})},q=async he=>{var ie;const _e=await Us("tagTitleLists",he);k(((ie=_e==null?void 0:_e.titles)==null?void 0:ie.join(`
`))||""),S(he),P(he),D(!0)},X=()=>{D(!1),S(null),k(""),P("")},Q=async()=>{if(R){const he=N.split(`
`).map(_e=>_e.trim()).filter(Boolean);await mr("tagTitleLists",{tag:R,titles:he}),X()}},ee=async()=>{if(F){U(!0);try{const ie=(await new jU({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a list of 10 to 15 SEO-friendly blog post titles in Arabic about the topic: "${F}". Return only the list of titles, with each title on a new line. Do not include numbers or bullet points.`})).text||"";k(ce=>(ce?ce+`
`:"")+ie.trim())}catch(he){console.error("AI Title Generation Error:",he),alert("  .")}finally{U(!1)}}},ae=async he=>{if(he&&!l.tags.includes(he)){const _e=l.title;if(c(ie=>({...ie,tags:[...ie.tags,he]})),!_e.trim()){const ie=await Us("tagTitleLists",he);if(ie&&ie.titles&&ie.titles.length>0){const ce=ie.titles,ye=Math.floor(Math.random()*ce.length),xe=ce[ye];c(ke=>({...ke,title:xe}))}}}g("")},de=he=>{c(_e=>({..._e,tags:_e.tags.filter(ie=>ie!==he)}))},fe=he=>{if(he.key==="Enter"||he.key===","){he.preventDefault();const _e=v.trim();ae(_e)}},Ne=he=>{ae(he)},Re=async()=>{const he=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([\w-]{11})(?:\S+)?/,_e=l.title.trim().match(he);if(_e){f(!0);try{const xe=_e[0],ke=Zd.find(it=>it.code===h),Ue=ke?ke.name:"Arabic",Ce=`Based on the content of this YouTube video: ${xe}, write a detailed and well-formatted blog post in ${Ue}. The blog post should be in HTML format, using tags like <h2>, <h3>, <p>, and <ul>. Also, generate a compelling and SEO-friendly title for the blog post based on the video's content. Return the result as a single JSON object with two keys: "title" (a string for the new blog post title) and "content" (an HTML string for the blog post body).`;c(it=>({...it,content:{...it.content,[h]:""}}));const Ke=(await oc({model:"gemini-2.5-flash",contents:Ce,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),rt=JSON.parse(Ke);if(rt.title&&rt.content)c(it=>({...it,title:rt.title,content:{...it.content,[h]:rt.content}}));else throw new Error("AI response did not contain 'title' and 'content' keys.")}catch(xe){console.error("AI content generation from YouTube failed:",xe),alert("     .          .")}finally{f(!1)}return}const ie=l.content[h]||"",ce=l.title.trim()!=="",ye=ie.replace(/<[^>]*>?/gm,"").trim()!=="";if(!ce&&!ye){alert("          .");return}f(!0);try{if(ye){const xe=Zd.find(rt=>rt.code===h),ke=xe?xe.name:h,Ue=`Analyze the following draft text for a blog post.
                1. Generate a compelling and SEO-friendly title in ${ke}.
                2. Expand the draft into a full, well-formatted blog post in ${ke}, using HTML tags like <h2>, <h3>, <p>, and <ul>.
                3. Return the result as a single JSON object with two keys: "title" (a string) and "content" (an HTML string).
    
                Draft text: "${ie.replace(/<[^>]*>?/gm," ")}"`,Oe=(await oc({model:"gemini-2.5-flash",contents:Ue,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Ke=JSON.parse(Oe);c(rt=>({...rt,title:Ke.title,content:{...rt.content,[h]:Ke.content}}))}else{const ke={ar:`      : "${l.title}".         HTML     (h2)   (h3)  (p)    (ul/li).    .`,en:`Write a detailed article in English about the topic: "${l.title}". The article should be well-formatted using HTML, with main headings (h2), subheadings (h3), paragraphs (p), and possibly bullet points (ul/li). Make the content rich and informative.`,fr:`Rdigez un article dtaill en franais sur le sujet : "${l.title}". L'article doit tre bien format en HTML, avec des titres principaux (h2), des sous-titres (h3), des paragraphes (p), et ventuellement des listes  puces (ul/li). Assurez-vous que le contenu est riche et informatif.`,de:`Schreiben Sie einen detaillierten Artikel auf Deutsch zum Thema: "${l.title}". Der Artikel sollte gut mit HTML formatiert sein, mit Hauptberschriften (h2), Unterberschriften (h3), Abstzen (p) und mglicherweise Aufzhlungspunkten (ul/li). Machen Sie den Inhalt reichhaltig und informativ.`,es:`Escribe un artculo detallado en espaol sobre el tema: "${l.title}". El artculo debe estar bien formateado usando HTML, con encabezados principales (h2), subttulos (h3), prrafos (p) y posiblemente listas con vietas (ul/li). Haz que el contenido sea rico e informativo.`,tr:`"${l.title}" konusunda Trke detayl bir makale yazn. Makale, ana balklar (h2), alt balklar (h3), paragraflar (p) ve muhtemelen madde iaretli listeler (ul/li) kullanlarak HTML ile iyi bir ekilde biimlendirilmelidir. erii zengin ve bilgilendirici yapn.`,ja:`${l.title}h2h3pul/liHTML`}[h]||`Write a detailed article about: "${l.title}". Format it with HTML (h2, p, ul).`;c(Me=>({...Me,content:{...Me.content,[h]:""}}));const Ce=(await oc({model:"gemini-2.5-flash",contents:ke})).text||"";c(Me=>({...Me,content:{...Me.content,[h]:Ce}}))}}catch(xe){console.error("AI content generation failed:",xe),alert("  .       JSON  .        .")}finally{f(!1)}},me=async()=>{var ce;const he=(ce=l.content[h])==null?void 0:ce.replace(/<[^>]*>?/gm," ").trim(),_e=l.tags.join(", "),ie=he||_e;if(!ie){alert("       .");return}G(!0),z(!0),J([]);try{const ke=(await new jU({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate 5 to 10 SEO-friendly blog post titles based on the following topic/content: "${ie}". Return the result as a JSON array of strings. Example: ["Title 1", "Title 2"]`,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Ue=JSON.parse(ke);J(Ue)}catch(ye){console.error("AI Title Suggestion Error:",ye),alert("  ."),G(!1)}finally{z(!1)}},Le=he=>{c(_e=>({..._e,title:he})),G(!1)},V=async he=>{he.preventDefault();const _e=l.publishedAt?new Date(l.publishedAt):null,ie=$Se(l.title),{content:ce,...ye}=l,xe=Object.fromEntries(Object.entries(ce).filter(([,Ue])=>Ue&&String(Ue).replace(/<[^>]*>?/gm,"").trim()!==""));if(Object.keys(xe).length===0){alert("          .");return}const ke=l.tags.join(",");if(a.mode==="create"){const Ue={...ye,tags:ke,content:xe,publishedAt:_e?Br.firestore.Timestamp.fromDate(_e):void 0,slug:ie,author:"Admin",createdAt:Br.firestore.Timestamp.now(),enabled:!1},Ce=await wp.create(Ue);e(Ce)}else if(a.post){const Ue={...ye,tags:ke,content:xe,publishedAt:_e?Br.firestore.Timestamp.fromDate(_e):void 0,slug:ie};await wp.update(a.post.id,Ue),n(a.post.id,{...a.post,...Ue})}j()},ve=async he=>{const _e=i.find(ie=>ie.id===he);_e&&(await wp.toggleStatus(he,_e.enabled),n(he,{enabled:!_e.enabled}))},we=async he=>{window.confirm("        ")&&(await wp.delete(he),r(he))},oe=he=>{const _e=Object.keys(he.content||{});return _e.includes("ar")?`/blog/${he.slug}`:_e.length>0?`/blog/${_e[0]}/${he.slug}`:`/blog/${he.slug}`},re={toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:Y,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(he=>{const _e=he.publishedAt?he.publishedAt.toDate():he.createdAt.toDate();return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:he.title}),d.jsx("td",{className:"p-3 text-gray-600",children:_e.toLocaleDateString("ar-DZ")}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>ve(he.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${he.enabled?"text-green-800 bg-green-200":"text-gray-800 bg-gray-200"}`,children:he.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(Zt,{to:oe(he),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>B(he),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>we(he.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},he.id)})})]})})}),a.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:V,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:a.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"title",value:l.title,onChange:he=>c(_e=>({..._e,title:he.target.value})),required:!0,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:me,className:"absolute top-1/2 right-2 -translate-y-1/2 p-2 text-purple-600 hover:bg-purple-100 rounded-full",title:"   ",children:d.jsx(ra,{})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"publishedAt",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"date",id:"publishedAt",value:l.publishedAt,onChange:he=>c(_e=>({..._e,publishedAt:he.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" (Tags)"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border rounded-md bg-gray-50",children:[l.tags.map(he=>d.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:he}),d.jsx("button",{type:"button",onClick:()=>q(he),className:"text-green-600 hover:text-green-800",title:`    "${he}"`,children:d.jsx(Yme,{size:12})}),d.jsx("button",{type:"button",onClick:()=>de(he),className:"text-green-600 hover:text-green-800 font-bold",children:""})]},he)),d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("input",{type:"text",value:v,onChange:he=>g(he.target.value),onKeyDown:fe,onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),150),placeholder:" ...",className:"bg-transparent focus:outline-none p-1 min-w-[120px]"}),x&&y.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:y.filter(he=>!l.tags.includes(he)&&he.toLowerCase().includes(v.toLowerCase())).map(he=>d.jsx("div",{onMouseDown:()=>Ne(he),className:"px-3 py-2 cursor-pointer hover:bg-gray-100",children:he},he))})]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Enter   (,)  ."})]}),d.jsxs("div",{className:"space-y-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{value:h,onChange:he=>p(he.target.value),className:"block w-full max-w-xs px-3 py-2 bg-white border border-gray-300 rounded-md",children:Zd.map(he=>d.jsx("option",{value:he.code,children:he.name},he.code))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" (",((le=Zd.find(he=>he.code===h))==null?void 0:le.name)||h,")"]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(gr,{theme:"snow",value:l.content[h]||"",onChange:he=>{c(_e=>({..._e,content:{..._e.content,[h]:he}}))},modules:re})}),d.jsx("button",{type:"button",onClick:Re,disabled:u,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"     ",children:u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{})})]})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:j,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})}),C&&R&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[d.jsxs("div",{className:"p-6 border-b",children:[d.jsxs("h2",{className:"text-xl font-bold",children:['  : "',R,'"']}),d.jsx("p",{className:"text-sm text-gray-500",children:"          ."})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 space-y-2",children:[d.jsx("label",{htmlFor:"title-gen-prompt",className:"font-semibold text-sm",children:"   "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",id:"title-gen-prompt",value:F,onChange:he=>P(he.target.value),placeholder:" ...",className:"flex-grow px-3 py-2 border rounded-md"}),d.jsxs("button",{type:"button",onClick:ee,disabled:I,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[I?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"titles-textarea",className:"font-semibold text-sm",children:"  (   )"}),d.jsx("textarea",{id:"titles-textarea",value:N,onChange:he=>k(he.target.value),rows:10,className:"w-full mt-1 p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[d.jsx("button",{type:"button",onClick:X,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:Q,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]})]})}),O&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:" "}),d.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"p-6 min-h-[200px] max-h-[60vh] overflow-y-auto",children:te?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-purple-600"})}):d.jsx("ul",{className:"space-y-2",children:K.map((he,_e)=>d.jsx("li",{children:d.jsx("button",{onClick:()=>Le(he),className:"w-full text-right p-3 bg-gray-50 rounded-md hover:bg-green-100 border border-transparent hover:border-green-300",children:he})},_e))})})]})})]})};var C2={exports:{}},HSe=C2.exports,BU;function GSe(){return BU||(BU=1,(function(t,e){(function(n,r){r()})(HSe,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ms=="object"&&ms.global===ms?ms:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var h=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?r(c,u,f):s(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),u);else if(i(c))r(c,u,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){s(h)})}}:function(c,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,f);var p=c.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&v||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var w=y.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},y.readAsDataURL(c)}else{var _=a.URL||a.webkitURL,x=_.createObjectURL(c);h?h.location=x:location.href=x,h=null,setTimeout(function(){_.revokeObjectURL(x)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(C2)),C2.exports}var tp=GSe();const KSe=[{dataType:"cafes",countryCode:"dz",fileName:"dz-cafes-public.json",label:"   (dz)"},{dataType:"services",countryCode:"dz",fileName:"dz-all-services-public.json",label:"   (dz)"},{dataType:"global-services",countryCode:"global",fileName:"all-services-public.json",label:"   "},{dataType:"blog",countryCode:"global",fileName:"blog-posts-public.json",label:"  ()"},{dataType:"pages",countryCode:"dz",fileName:"dz-pages-public.json",label:"   (dz)"},{dataType:"settings",countryCode:"global",fileName:"site-settings-public.json",label:"  "},{dataType:"ads",countryCode:"global",fileName:"ads-public.json",label:"  "},{dataType:"documents",countryCode:"global",fileName:"documents.json",label:"  (documents.json)"}],np=t=>t.replace(/<!--[\s\S]*?-->/g,"").replace(/>\s+</g,"><").replace(/\n/g,"").replace(/\s{2,}/g," "),Un=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",VU=t=>t?t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r"):"",S2=t=>t?`
          <a href="${t.link}" target="_blank" rel="noopener noreferrer" class="block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group my-6 no-underline">
                <div class="relative">
                  <img src="${t.imageUrl}" alt="${t.title}" class="w-full h-auto object-cover" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end">
                    <h3 class="text-lg font-bold text-white group-hover:underline">${t.title}</h3>
                    <p class="text-sm text-white/90">${t.content}</p>
                  </div>
                </div>
            </a>
    `:"",t0={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'},oK=(t,e,n)=>{const r=rd("ar"),i=encodeURIComponent(t),s=encodeURIComponent(e),a=(n||"").replace(/<[^>]*>/g,"").substring(0,155);return`
        <div class="mt-auto pt-3 border-t flex items-center gap-3">
            <span class="text-xs text-gray-500 font-semibold">${r("share.title")}</span>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-700">${t0.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${i}&description=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-red-600">${t0.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${i}&title=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-orange-500">${t0.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${i}&quote=${s}" target="_blank" rel="noopener noreferrer" class="transition-transform hover:scale-125 text-blue-600">${t0.facebook}</a>
            <button class="copy-details-btn transition-transform hover:scale-125 text-gray-500 hover:text-gray-700" title="${r("share.copyDetails")}" data-title="${Un(e)}" data-snippet="${Un(a)}" data-url="${Un(t)}">${t0.clipboard}</button>
        </div>
    `},XSe=(t,e,n)=>{const r=encodeURIComponent(t),i=encodeURIComponent(e),s=VU(e),a=VU(n.replace(/<[^>]*>/g,"").substring(0,155)),o={linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.372-12 12 0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.117.223.084.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146 1.124.343 2.318.535 3.554.535 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.717 0-1.365.286-1.84.746-1.81-1.191-4.259-1.982-6.971-2.146l1.463-4.64-4.98-1.655-1.463 4.64c-2.83.208-5.353 1.073-7.163 2.294-.475-.46-.b23-.746-1.84-.746-1.465 0-2.657 1.186-2.657 2.645 0 .972.533 1.811 1.317 2.271-.052.282-.084.569-.084.867 0 3.911 4.808 7.083 10.741 7.083s10.741-3.172 10.741-7.083c0-.298-.032-.585-.084-.867.784-.46 1.317-1.3 1.317-2.271zm-15.424 1.221c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm9.113 0c-.759.759-1.992.759-2.751 0-.759-.759-.759-1.991 0-2.751.759-.759 1.992-.759 2.751 0 .759.759.759 1.992 0 2.751zm-4.129 4.06c-1.749 0-3.303-.732-4.437-1.916.347.086.703.131 1.066.131 3.237 0 5.862-2.625 5.862-5.862 0-.354-.031-.699-.091-1.035 1.568.12 2.949.7 4.095 1.654-1.321 2.04-3.733 3.447-6.5 4.028z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>'};return`
        <div class="fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-700">${o.linkedin}</a>
            <a href="https://pinterest.com/pin/create/button/?url=${r}&description=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-red-600">${o.pinterest}</a>
            <a href="https://www.reddit.com/submit?url=${r}&title=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-orange-500">${o.reddit}</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${r}&quote=${i}" target="_blank" rel="noopener noreferrer" class="w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 bg-blue-600">${o.facebook}</a>
            <button class="copy-details-btn w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600" data-title="${Un(s)}" data-snippet="${Un(a)}" data-url="${Un(t)}">${o.clipboard}</button>
        </div>
    `},JSe=`
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtons = document.querySelectorAll('.copy-details-btn');
    
    if (copyButtons.length > 0) {
        const handleCopyFallback = (text, btn) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalContent = btn.innerHTML;
                btn.innerHTML = '<span class="text-xs"> !</span>';
                setTimeout(() => {
                    btn.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                }, 2000);
            });
        };

        copyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const button = this;
                const title = button.dataset.title || '';
                const snippet = button.dataset.snippet || '';
                const url = button.dataset.url || '';
                
                const textPlain = \`\${title}\\n\\n\${snippet}\\n\\n\${url}\`;
                const textHtml = \`
                    <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">\${title}</p>
                    <div style="font-family: sans-serif; font-size: 14px;"><p>\${snippet}</p></div>
                    <a href="\${url}">\${url}</a>
                \`;

                try {
                    if (typeof ClipboardItem === 'undefined') {
                        handleCopyFallback(textPlain, button);
                        return;
                    }
                    const blobHtml = new Blob([textHtml], { type: 'text/html' });
                    const blobPlain = new Blob([textPlain], { type: 'text/plain' });
                    
                    navigator.clipboard.write([
                        new ClipboardItem({
                            'text/html': blobHtml,
                            'text/plain': blobPlain,
                        })
                    ]).then(() => {
                        const originalContent = button.innerHTML;
                        button.innerHTML = '<span class="text-xs"> !</span>';
                        setTimeout(() => {
                            button.innerHTML = \`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/></svg>\`;
                        }, 2000);
                    }, (err) => {
                        console.error('Async clipboard write failed, falling back to plain text: ', err);
                        handleCopyFallback(textPlain, button);
                    });
                } catch (error) {
                    console.error('Failed to use Clipboard API, falling back to writeText: ', error);
                    handleCopyFallback(textPlain, button);
                }
            });
        });
    }
});
<\/script>
`,YSe=(t,e,n=!1)=>{const r=t==="global"?"/":`/${t}/`,i=t==="global"?"/dz/login/":`/${t}/login/`,s=n?'<div class="w-64"><gcse:searchbox-only></gcse:searchbox-only></div>':`<a href="${r}" class="text-gray-700 hover:text-green-600 font-semibold">${e("header.search")}</a>`;return`
        <header class="bg-white shadow-md sticky top-0 z-50">
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <a href="${r}" class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"/></svg><span class="text-2xl font-bold text-gray-900" dir="ltr">Gitut</span></a>
                <nav class="flex items-center gap-6">
                    ${s}
                    <a href="${i}" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">${e("header.login")}</a>
                </nav>
            </div>
        </header>
    `},QSe=(t,e,n,r,i,s)=>{var h,p;const a=t==="global"?"dz":t,o=((h=s==null?void 0:s.seo)==null?void 0:h[a])||((p=s==null?void 0:s.seo)==null?void 0:p.default),c=r.filter(v=>v.enabled&&(v.lang===e||!v.lang&&e==="ar")).map(v=>`<a href="../page/${v.slug}/" class="hover:text-green-600 hover:underline">${Un(v.title)}</a>`).join("");return`
        <footer class="bg-white border-t mt-auto">
          <div class="container mx-auto px-4 py-8 flex flex-col items-center gap-4">
            <nav class="flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600">${i.some(v=>v.enabled&&v.content&&v.content[e])?`<a href="/blog/" class="hover:text-green-600 hover:underline">${n("footer.blog")}</a>`:""}<a href="../services/" class="hover:text-green-600 hover:underline">${n("footer.services")}</a>${c}</nav>
            <p class="text-center text-gray-500 text-sm">&copy; ${new Date().getFullYear()} ${Un((o==null?void 0:o.siteName)||"Gitut")}. ${n("footer.rightsReserved")}</p>
          </div>
        </footer>
    `},Zm=({title:t,description:e,mainContent:n,countryCode:r,lang:i,siteSettings:s,pages:a,allBlogPosts:o,socialShare:l,imageUrl:c,scripts:u="",includeGoogleSearch:f=!1})=>{var R,S;const h=i==="ar"?"rtl":"ltr",p=rd(i),v=YSe(r,p,f),g=QSe(r,i,p,a,o,s),y=`
        <div class="flex flex-col min-h-screen">
            ${v}
            ${n}
            ${g}
        </div>
    `,_=((R=s==null?void 0:s.seo)==null?void 0:R[r])||((S=s==null?void 0:s.seo)==null?void 0:S.default),x=c||"https://file.gitut.com/data/image/icon.png",w=`<script async src="https://www.googletagmanager.com/gtag/js?id=G-2BKKWGCXWX"><\/script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2BKKWGCXWX');<\/script>`,C=l?XSe(l.url,l.title,l.description):"",D=f?'<script async src="https://cse.google.com/cse.js?cx=8318067ab6f0244ff"><\/script>':"";return`<!DOCTYPE html>
        <html lang="${i}" dir="${h}">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" type="image/png" href="https://file.gitut.com/data/image/icon.png">
            <title>${Un(t)}</title>
            <meta name="description" content="${Un(e)}">
            
            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${(l==null?void 0:l.url)||""}">
            <meta property="og:title" content="${Un(t)}">
            <meta property="og:description" content="${Un(e)}">
            <meta property="og:image" content="${x}">
            <meta property="og:image:secure_url" content="${x}">
            <meta property="og:image:width" content="640">
            <meta property="og:image:height" content="640">
            <meta property="og:site_name" content="${Un((_==null?void 0:_.siteName)||"Gitut")}">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:url" content="${(l==null?void 0:l.url)||""}">
            <meta name="twitter:title" content="${Un(t)}">
            <meta name="twitter:description" content="${Un(e)}">
            <meta name="twitter:image" content="${x}">

            <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
            <script src="https://cdn.tailwindcss.com/3.4.1?plugins=typography"><\/script>
            <style>body { font-family: 'Cairo', sans-serif; } .prose a { color: #16a34a; } .prose a:hover { color: #15803d; } .compact-prose p { margin-top: 0; margin-bottom: 0.25em; }</style>
            ${w}
            ${D}
        </head>
        <body class="bg-gray-100 text-gray-900">
            <div id="root">${y}</div>
            ${C}
            ${JSe}
            ${u}
            <script src="/index.js" type="module"><\/script>
        </body>
        </html>`},WU=(t,e,n,r,i,s)=>{var f,h;const a=nd(e),o=rd(a),l=t.filter(p=>p.serviceType==="doc"&&p.slug);t.filter(p=>p.serviceType==="static-doc"&&p.slug),t.filter(p=>p.serviceType==="site"&&p.slug);let c='<main class="flex-grow container mx-auto px-4 py-8"><div class="max-w-4xl mx-auto">';return c+=`<h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">${Un(o("footer.services"))}</h1>`,c+='<div class="space-y-10">',c+=((p,v,g,y)=>{if(g.length===0)return"";let _=`<section class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-3">${v}<span>${p}</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;return g.forEach(x=>{const w=`../${y}/${x.slug}/`,C="description"in x&&x.description?x.description:"";_+=`<div class="p-4 border rounded-lg bg-white flex flex-col shadow-sm transition-shadow hover:shadow-lg">
                <div class="flex-grow">
                    <a href="${w}" class="no-underline">
                        <h3 class="font-semibold text-lg text-gray-800 hover:text-green-600">${Un(x.name)}</h3>
                        <div class="text-sm text-gray-600 mt-1 prose prose-sm max-w-none line-clamp-2">${C}</div>
                    </a>
                </div>
                ${oK(`https://gitut.com/${e}/${y}/${x.slug}/`,x.name,C)}
            </div>`}),_+="</div></section>",_})(o("servicesListPage.fillableDocs"),'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',l,"doc"),c+="</div></div></main>",Zm({title:`${o("footer.services")} | ${((h=(f=n==null?void 0:n.seo)==null?void 0:f[e])==null?void 0:h.siteName)||"Gitut"}`,description:`        Gitut  ${e}.`,mainContent:c,countryCode:e,lang:a,siteSettings:n,pages:r,allBlogPosts:i})},qU=(t,e,n,r,i)=>{var f,h;const s=nd(e),a=rd(s),o=r.filter(p=>p.enabled&&p.id!==t.id&&(p.lang===s||!p.lang&&s==="ar"));let l="";o.length>0&&(l=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">${Un(a("relatedPages.title"))}</h3>
                <div class="space-y-3">
                    ${o.map(p=>`<a href="../page/${p.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all"><p class="font-semibold text-gray-900">${Un(p.title)}</p></a>`).join("")}
                </div>
            </div>
        </aside>`);const c=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                <header class="mb-8 border-b pb-6"><h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Un(t.title)}</h1></header>
                <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content}</div>
            </article>
            ${l}
        </div>
    </main>`,u=`https://gitut.com/${e}/page/${t.slug}/`;return Zm({title:`${t.title} | ${((h=(f=n==null?void 0:n.seo)==null?void 0:f[e])==null?void 0:h.siteName)||"Gitut"}`,description:t.content.replace(/<[^>]*>/g,"").substring(0,160),mainContent:c,countryCode:e,lang:s,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:u,title:t.title,description:t.content}})},$U=(t,e,n,r,i,s)=>{var p,v;const a=t.countryCode||"dz",o=nd(a),l=rd(o),c=e.filter(g=>g.id!==t.id&&g.tags===t.tags).slice(0,5);let u="";c.length>0&&(u=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800">${l("relatedServices.title")}</h3>
                <div class="space-y-3">
                    ${c.map(g=>`<a href="../doc/${g.slug}/" class="w-full text-right block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                        <p class="font-semibold text-gray-900">${Un(g.name)}</p>
                        <div class="mt-1 prose prose-sm max-w-none line-clamp-2 compact-prose">${"description"in g&&g.description?g.description:""}</div>
                    </a>`).join("")}
                </div>
            </div>
            <div class="sticky top-24">${S2(s.find(g=>g.placement==="SITE_DETAIL_SIDEBAR"))}</div>
        </aside>`);const f=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-8 flex flex-col">
                <div class="flex-grow">
                    <header class="mb-6 border-b pb-4"><h1 class="text-4xl font-bold text-gray-900">${Un(t.name)}</h1></header>
                    <div class="prose prose-lg max-w-none text-gray-800">${"description"in t&&t.description?t.description:""}</div>
                    <div class="my-6">${S2(s.find(g=>g.placement==="SERVICE_DETAIL_MAIN_TOP"))}</div>
                </div>
                <div class="mt-8 pt-6 border-t">
                     <div class="mb-6">${S2(s.find(g=>g.placement==="SERVICE_DETAIL_MAIN_BOTTOM"))}</div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="/view/${t.id}/" class="bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-700"></a>
                        <a href="/${a}/go-to-site/internal-form/?redirect=%2Fpublic-form%2F${t.id}%2F&name=${encodeURIComponent(` : ${t.name}`)}" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700">/</a>
                    </div>
                </div>
            </div>
            ${u}
        </div>
    </main>`,h=`https://gitut.com/${a}/doc/${t.slug}/`;return Zm({title:`${t.name} | ${((v=(p=n==null?void 0:n.seo)==null?void 0:p[a])==null?void 0:v.siteName)||"Gitut"}`,description:"description"in t&&t.description?t.description.replace(/<[^>]*>/g,"").substring(0,160):"",mainContent:f,countryCode:a,lang:o,siteSettings:n,pages:r,allBlogPosts:i,socialShare:{url:h,title:t.name,description:"description"in t&&t.description?t.description:""},includeGoogleSearch:!0})},zU=(t,e,n,r,i)=>{var l,c;const s=Object.keys(gi).find(u=>gi[u].some(f=>nd(f.code)===n))||"dz",a=rd(n),o=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-5xl mx-auto">
            <section class="text-center py-10 bg-white rounded-lg shadow-lg mb-8">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">${Un(a("blog.title"))}</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">${Un(a("blog.subtitle"))}</p>
            </section>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            ${t.map(u=>{const f=`./${u.slug}/`,h=(u.publishedAt||u.createdAt).toDate().toLocaleDateString("ar-DZ"),p=(u.content[n]||"").replace(/<[^>]*>/g,"").substring(0,100)+"...";return`<article class="bg-white rounded-lg shadow-md overflow-hidden transition-shadow hover:shadow-xl flex flex-col group">
                    <div class="p-6 flex flex-col flex-grow">
                        <p class="text-sm text-gray-500 mb-2">${h}</p>
                        <h3 class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-green-600"><a href="${f}">${Un(u.title)}</a></h3>
                        <p class="text-gray-600 mb-4 flex-grow">${Un(p)}</p>
                        <a href="${f}" class="font-semibold text-green-600 hover:underline mb-4">${a("blogPostCard.readMore")} &rarr;</a>
                        ${oK(`https://gitut.com/blog/${n==="ar"?"":n+"/"}${u.slug}/`,u.title,p)}
                    </div>
                </article>`}).join("")}
            </div>
        </div>
    </main>`;return Zm({title:`${a("footer.blog")} | ${((c=(l=e==null?void 0:e.seo)==null?void 0:l[s])==null?void 0:c.siteName)||"Gitut"}`,description:"           .",mainContent:o,countryCode:s,lang:n,siteSettings:e,pages:r,allBlogPosts:i,includeGoogleSearch:!0})},HU=(t,e,n,r,i,s,a)=>{var v,g;const o=rd(r),l=Object.keys(gi).find(y=>gi[y].some(_=>nd(_.code)===r))||"dz",c=t.tags?t.tags.split(",").map(y=>y.trim().toLowerCase()):[],u=e.filter(y=>y.id!==t.id&&y.tags&&y.tags.split(",").some(_=>c.includes(_.trim().toLowerCase()))).slice(0,5);let f="";u.length>0&&(f=`<aside class="md:col-span-1 space-y-6">
            <div class="bg-white p-4 rounded-lg shadow-lg border sticky top-24">
                <h3 class="font-bold text-lg mb-3 text-gray-800 border-b pb-2">  </h3>
                <div class="space-y-3">
                    ${u.map(y=>{const _=(y.publishedAt||y.createdAt).toDate().toLocaleDateString("ar-DZ");return`<a href="../${y.slug}/" class="block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all">
                            <p class="font-semibold text-gray-900 line-clamp-2">${Un(y.title)}</p>
                            <p class="text-xs text-gray-500 mt-1">${_}</p>
                        </a>`}).join("")}
                </div>
                <div class="mt-4 pt-4 border-t">${S2(i.find(y=>y.placement==="BLOG_POST_SIDEBAR"))}</div>
            </div>
        </aside>`);const h=`<main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <article class="md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10">
                    <header class="mb-8 border-b pb-6">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 leading-tight">${Un(t.title)}</h1>
                        <div class="mt-4 text-sm text-gray-500"><span>${o("blogPost.publishedOn")} ${(t.publishedAt||t.createdAt).toDate().toLocaleDateString("ar-DZ")}</span><span class="mx-2">|</span><span>${o("blogPost.by")} ${t.author}</span></div>
                    </header>
                    <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed">${t.content[r]||""}</div>
                </article>
                ${f}
            </div>
        </div>
    </main>`,p=`https://gitut.com/blog/${r==="ar"?"":r+"/"}${t.slug}/`;return Zm({title:`${t.title} | ${((g=(v=n==null?void 0:n.seo)==null?void 0:v[l])==null?void 0:g.siteName)||"GITUT"}`,description:(t.content[r]||"").replace(/<[^>]*>/g,"").substring(0,160),mainContent:h,countryCode:l,lang:r,siteSettings:n,pages:s,allBlogPosts:a,socialShare:{url:p,title:t.title,description:t.content[r]||""},includeGoogleSearch:!0})},GU=(t,e,n,r)=>{var l,c;const i=t||"dz",s=nd(i),a=((l=e==null?void 0:e.seo)==null?void 0:l[i])||((c=e==null?void 0:e.seo)==null?void 0:c.default);let o=`<main class="flex-grow container mx-auto px-4 py-8">
        <section class="text-center p-8 md:p-10 bg-white rounded-xl shadow-lg">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">${Un((a==null?void 0:a.mainPageTitle)||"")}</h1>
          <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto">${Un((a==null?void 0:a.mainPageSubtitle)||"")}</p>
        </section>
        <div id="root-find-page" class="mt-8">
          <p class="text-center text-gray-500">   ...</p>
        </div>
      </main>`;return Zm({title:`${a==null?void 0:a.siteName} | ${a==null?void 0:a.tagline}`,description:(a==null?void 0:a.metaDescription)||"",mainContent:o,countryCode:i,lang:s,siteSettings:e,pages:n,allBlogPosts:r,scripts:'<script type="module">import("/index.tsx");<\/script>'})},ZSe=()=>{const[t,e]=W.useState(null),[n,r]=W.useState(null),[i,s]=W.useState(!1),[a,o]=W.useState(""),[l,c]=W.useState(""),[u,f]=W.useState(!1),{codes:h,refetchAdminData:p,siteSettings:v,services:g,blogPosts:y,cafes:_,pages:x,ads:w}=tn(),[C,D]=W.useState(!1),[R,S]=W.useState(""),[N,k]=W.useState(!1),[F,P]=W.useState(""),[I,U]=W.useState(!1),[O,G]=W.useState(""),[K,J]=W.useState(!1),[te,z]=W.useState(""),[Y,B]=W.useState(!1),[j,q]=W.useState(!1),[X,Q]=W.useState(""),[ee,ae]=W.useState(!1),[de,fe]=W.useState(!1),[Ne,Re]=W.useState(!1),[me,Le]=W.useState(""),[V,ve]=W.useState(!1),[we,oe]=W.useState(""),[re,le]=W.useState(!1),[he,_e]=W.useState(!1),[ie,ce]=W.useState(!1),ye=W.useRef(null),xe=W.useRef(null),ke=W.useRef(null);W.useEffect(()=>{const Ye=dt=>{ye.current&&!ye.current.contains(dt.target)&&le(!1),xe.current&&!xe.current.contains(dt.target)&&_e(!1),ke.current&&!ke.current.contains(dt.target)&&ce(!1)};return document.addEventListener("mousedown",Ye),()=>document.removeEventListener("mousedown",Ye)},[]);const[Ue,Ce]=W.useState({isOpen:!1,mode:"create",code:null}),[Me,Oe]=W.useState({key:"",description:"",questionText:""}),[Ke,rt]=W.useState(!1),[it,Ot]=W.useState(""),xn=W.useMemo(()=>{const Ye=Object.entries(_2).map(([ge,Te])=>({id:`const-${ge}`,key:`[${ge}]`,description:Te,isReadOnly:!0})),dt=h.map(ge=>({...ge,isReadOnly:!1})),ue=new Set(Ye.map(ge=>ge.key)),Se=dt.filter(ge=>!ue.has(ge.key));return[...Ye,...Se].sort((ge,Te)=>ge.key.localeCompare(Te.key))},[h]),ln=async()=>{rt(!0),Ot("     ...");try{await p(),Ot("   !")}catch(Ye){console.error("Manual data refresh failed:",Ye),Ot("  .")}finally{rt(!1),setTimeout(()=>Ot(""),5e3)}},Ar=async(Ye,dt,ue)=>{e(ue),o(""),c("");try{c(`(1/2) Generating data for ${ue}...`);const Se=await uf(Ye,dt);if(Ye==="blog"){if(typeof Se!="object"||Se===null)throw new Error("Blog data generation returned an invalid format.");const ge=Object.entries(Se).map(([Te,De])=>({path:`data/json/${Te}`,content:JSON.stringify(De)}));if(ge.length===0){c("     ."),e(null),setTimeout(()=>c(""),5e3);return}c(`(2/2) Publishing ${ge.length} files to GitHub...`),await Ao({files:ge,commitMessage:"feat: Update public blog data",repoConfig:{owner:"gitut-cms",repo:"files"}}),c(`  ${ge.length}     GitHub!`)}else if(Ye==="services"&&Se.mainData&&Se.extraFiles){const ge=[{path:`data/json/${ue}`,content:JSON.stringify(Se.mainData)},...Se.extraFiles.map(Te=>({path:Te.path.replace("dist/",""),content:JSON.stringify(Te.data)}))];c(`(2/2) Publishing ${ge.length} files to GitHub...`),await Ao({files:ge,commitMessage:`feat: Update ${ue} and related documents`,repoConfig:{owner:"gitut-cms",repo:"files"}}),c(`  ${ge.length}    GitHub!`)}else{const ge=JSON.stringify(Se),Te=`data/json/${ue}`;c(`(2/2) Publishing ${ue} to GitHub...`),await Ao({files:[{path:Te,content:ge}],commitMessage:`feat: Update ${ue}`,repoConfig:{owner:"gitut-cms",repo:"files"}}),c(`  ${ue}   GitHub!`)}}catch(Se){console.error(Se);const ge=Se instanceof Error?Se.message:String(Se);o(`   ${ue}. ${ge}`)}finally{e(null),setTimeout(()=>{c(""),o("")},5e3)}},Zn=async(Ye,dt,ue)=>{r(ue),o("");try{const Se=await uf(Ye,dt);if(Ye==="blog"){const ge=new mp;Object.entries(Se).forEach(([De,Ie])=>{ge.file(De,JSON.stringify(Ie))});const Te=await ge.generateAsync({type:"blob"});tp.saveAs(Te,"gitut-blog-data.zip")}else{const ge=new Blob([JSON.stringify(Se)],{type:"application/json"});tp.saveAs(ge,ue)}}catch(Se){console.error(Se);const ge=Se instanceof Error?Se.message:String(Se);o(`   ${ue}. ${ge}`)}finally{r(null)}},Bn=async Ye=>{s(!0),o("");try{await Ime(Ye)}catch(dt){console.error(dt),o(`Failed to generate zip file for ${Ye}.`)}finally{s(!1)}},Xn=async()=>{f(!0),o(""),c("");try{const Ye="https://gitut.com",dt=[],ue=[],Se=Be=>{let qe=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
`;return Be.forEach($e=>{qe+=`  <url><loc>${$e}</loc></url>
`}),qe+="</urlset>",qe};c("Generating core pages sitemap...");const ge=new Set,Te=gi.en.map(Be=>Be.code);ge.add(Ye+"/"),Te.forEach(Be=>{ge.add(`${Ye}/${Be}/`),ge.add(`${Ye}/${Be}/find-cafe`)}),x.forEach(Be=>{Be.enabled&&Be.slug&&Te.forEach(qe=>{ge.add(`${Ye}/${qe}/page/${Be.slug}`)})}),_.forEach(Be=>{Be.isProfilePublished&&Be.numericId&&ge.add(`${Ye}/${Be.countryCode}/profile/${Be.numericId}`)});const De=Se(ge);dt.push({path:"sitemap/sitemap-pages.xml",content:De}),ue.push(`<sitemap><loc>${Ye}/sitemap-pages.xml</loc></sitemap>`),c("Generating service sitemaps...");const Ie=g.reduce((Be,qe)=>{const $e=qe.countryCode||"dz";return Be[$e]||(Be[$e]=[]),Be[$e].push(qe),Be},{});for(const Be in Ie){const qe=new Set;qe.add(`${Ye}/${Be}/services/`),Ie[Be].forEach(gt=>{if(gt.slug){const Et=gt.serviceType==="site"?"site":"doc";qe.add(`${Ye}/${Be}/${Et}/${gt.slug}/`)}});const $e=Se(qe),ot=`sitemap/sitemap-services-${Be}.xml`;dt.push({path:ot,content:$e}),ue.push(`<sitemap><loc>${Ye}/sitemap-services-${Be}.xml</loc></sitemap>`)}c("Generating blog sitemaps...");const We=y.reduce((Be,qe)=>(qe.enabled&&qe.content&&Object.keys(qe.content).forEach($e=>{Be[$e]||(Be[$e]=[]),Be[$e].push(qe)}),Be),{});for(const Be in We){const qe=new Set,$e=Be==="ar"?"":`/${Be}`;qe.add(`${Ye}/blog${$e}/`),We[Be].forEach(Et=>{Et.slug&&qe.add(`${Ye}/blog${$e}/${Et.slug}/`)});const ot=Se(qe),gt=`sitemap/sitemap-blog-${Be}.xml`;dt.push({path:gt,content:ot}),ue.push(`<sitemap><loc>${Ye}/sitemap-blog-${Be}.xml</loc></sitemap>`)}c("Generating sitemap index file...");const Qe=`<?xml version="1.0" encoding="UTF-8"?>
<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  ${ue.join(`
  `)}
</sitemapindex>`;dt.push({path:"sitemap/sitemap.xml",content:Qe}),c(`Uploading ${dt.length} sitemap files to GitHub...`),await Ao({files:dt,commitMessage:"feat: Update sitemaps (index, pages, services, blog)",repoConfig:{owner:"gitut-cms",repo:"files"}}),c(`Successfully published ${dt.length} sitemap files!`)}catch(Ye){console.error("Sitemap publishing failed:",Ye);const dt=Ye instanceof Error?Ye.message:"An unknown error occurred.";o(`    Sitemap: ${dt}`)}finally{f(!1),setTimeout(()=>{c(""),o("")},8e3)}},Gt=async()=>{D(!0),S("");try{const{newVersion:Ye}=await Dme();S(`      ${Ye}.      .`)}catch(Ye){const dt=Ye instanceof Error?Ye.message:"An unknown error occurred.";S(`: ${dt}`)}finally{D(!1)}},Cn=async Ye=>{k(!0),P("   ...");try{const dt=[],Se=g.filter(ge=>ge.slug).reduce((ge,Te)=>{const De=Te.countryCode||"global";return ge[De]||(ge[De]=[]),ge[De].push(Te),ge},{});for(const ge in Se){const Te=ge==="global",De=Se[ge],Ie=WU(De,ge,v,x,y,w),We=Te?"dist/services/index.html":`dist/${ge}/services/index.html`;dt.push({path:We,content:np(Ie)});for(const Qe of De){const Be=$U(Qe,g,v,x,y,w),qe=Qe.serviceType==="site"?"site":"doc",$e=Te?`dist/${qe}/${Qe.slug}/index.html`:`dist/${ge}/${qe}/${Qe.slug}/index.html`;dt.push({path:$e,content:np(Be)})}}dt.length===0?P("    ."):(P(` ${dt.length}   GitHub...`),await Ao({files:dt,commitMessage:"feat: Regenerate static service pages"}),P(`  ${dt.length}   !`))}catch(dt){console.error(dt);const ue=dt instanceof Error?dt.message:String(dt);P(`: ${ue}`)}finally{k(!1),setTimeout(()=>P(""),8e3)}},pe=async Ye=>{U(!0),G("");try{const dt=new mp,Se=g.filter(De=>De.slug).reduce((De,Ie)=>{const We=Ie.countryCode||"global";return De[We]||(De[We]=[]),De[We].push(Ie),De},{});for(const De in Se){const Ie=De==="global",We=Se[De],Qe=Ie?dt:dt.folder(De);if(!Qe)continue;for(const $e of We){const ot=$U($e,g,v,x,y,w),gt=Qe.folder($e.serviceType==="site"?"site":"doc"),Et=gt==null?void 0:gt.folder($e.slug);Et==null||Et.file("index.html",ot)}const Be=WU(We,De,v,x,y,w),qe=Qe.folder("services");qe==null||qe.file("index.html",Be)}const ge=await dt.generateAsync({type:"blob"}),Te=Ye?`gitut-service-pages-${Ye}.zip`:"gitut-service-pages-all.zip";tp.saveAs(ge,Te)}catch(dt){console.error(dt),G("    ZIP.")}finally{U(!1)}},Ee=async Ye=>{J(!0),z("   ...");try{const dt=[],ue=y.filter(ge=>ge.enabled&&ge.slug);for(const ge of ue)if(ge.content)for(const Te in ge.content){const De=HU(ge,y,v,Te,w,x,y),We=`dist/blog/${Te==="ar"?"":`${Te}/`}${ge.slug}/index.html`;dt.push({path:We,content:np(De)})}const Se=ue.reduce((ge,Te)=>(Te.content&&Object.keys(Te.content).forEach(De=>{ge[De]||(ge[De]=[]),ge[De].push(Te)}),ge),{});for(const ge in Se){const Te=zU(Se[ge],v,ge,x,y),De=`dist/blog/${ge==="ar"?"index.html":`${ge}/index.html`}`;dt.push({path:De,content:np(Te)})}dt.length===0?z("      ."):(z(` ${dt.length}   GitHub...`),await Ao({files:dt,commitMessage:`feat: Regenerate static blog pages${Ye?` for ${Ye}`:""}`}),z(`  ${dt.length}   !`))}catch(dt){console.error(dt);const ue=dt instanceof Error?dt.message:String(dt);z(`: ${ue}`)}finally{J(!1),setTimeout(()=>z(""),8e3)}},Fe=async()=>{B(!0);try{const Ye=new mp,dt=Ye.folder("blog");if(!dt)throw new Error("Could not create blog folder in zip");const ue=y.filter(Te=>Te.enabled&&Te.slug);for(const Te of ue)if(Te.content)for(const De in Te.content){const Ie=HU(Te,y,v,De,w,x,y),We=De==="ar"?dt:dt.folder(De),Qe=We==null?void 0:We.folder(Te.slug);Qe==null||Qe.file("index.html",Ie)}const Se=ue.reduce((Te,De)=>(De.content&&Object.keys(De.content).forEach(Ie=>{Te[Ie]||(Te[Ie]=[]),Te[Ie].push(De)}),Te),{});for(const Te in Se){const De=zU(Se[Te],v,Te,x,y);if(Te==="ar")dt.file("index.html",De);else{const Ie=dt.folder(Te);Ie==null||Ie.file("index.html",De)}}const ge=await Ye.generateAsync({type:"blob"});tp.saveAs(ge,"gitut-blog-pages.zip")}catch(Ye){console.error(Ye)}finally{B(!1)}},Je=async()=>{q(!0),Q("   ...");try{const Ye=[],dt=gi.en.map(ue=>ue.code);for(const ue of x)if(ue.enabled&&ue.slug)for(const Se of dt){const ge=qU(ue,Se,v,x,y),Te=`dist/${Se}/page/${ue.slug}/index.html`;Ye.push({path:Te,content:np(ge)})}Ye.length===0?Q("    ."):(Q(` ${Ye.length/dt.length}  ( )  GitHub...`),await Ao({files:Ye,commitMessage:"feat: Regenerate static site pages"}),Q(`  ${Ye.length}  !`))}catch(Ye){console.error(Ye);const dt=Ye instanceof Error?Ye.message:String(Ye);Q(`: ${dt}`)}finally{q(!1),setTimeout(()=>Q(""),8e3)}},lt=async()=>{var Ye;ae(!0);try{const dt=new mp,ue=gi.en.map(ge=>ge.code);for(const ge of x)if(ge.enabled&&ge.slug)for(const Te of ue){const De=qU(ge,Te,v,x,y),Ie=dt.folder(Te);if(!Ie)continue;const We=(Ye=Ie.folder("page"))==null?void 0:Ye.folder(ge.slug);We==null||We.file("index.html",De)}const Se=await dt.generateAsync({type:"blob"});tp.saveAs(Se,"gitut-static-pages.zip")}catch(dt){console.error(dt)}finally{ae(!1)}},kt=async()=>{fe(!0),Le("Generating homepage files...");try{const Ye=[],ue=[null,...gi.en.map(Se=>Se.code)];for(const Se of ue){const ge=GU(Se,v,x,y),Te=Se?`dist/${Se}/index.html`:"dist/index.html";Ye.push({path:Te,content:np(ge)})}Le(`Uploading ${Ye.length} files to GitHub...`),await Ao({files:Ye,commitMessage:"feat: Regenerate static homepages"}),Le(`Successfully published ${Ye.length} homepages!`)}catch(Ye){console.error("Homepage publishing failed:",Ye),Le(`: ${Ye.message}`)}finally{fe(!1),setTimeout(()=>Le(""),8e3)}},on=async()=>{Re(!0),Le("");try{const Ye=new mp,ue=[null,...gi.en.map(ge=>ge.code)];for(const ge of ue){const Te=GU(ge,v,x,y),De=ge?`${ge}/index.html`:"index.html";Ye.file(De,Te)}const Se=await Ye.generateAsync({type:"blob"});tp.saveAs(Se,"gitut-homepages.zip")}catch(Ye){console.error("Homepage download failed:",Ye),Le(`: ${Ye.message}`)}finally{Re(!1)}},nn=async()=>{ve(!0),oe("Generating template files...");try{const Ye=await uf("templates-paginated","global",!0);if(Ye.length===0)oe("No templates to publish.");else{const dt=Ye.map(ue=>({path:`data/json/templates/${ue.fileName}`,content:JSON.stringify(ue.data)}));oe(`Uploading ${dt.length} template files...`),await Ao({files:dt,commitMessage:"feat: Update paginated templates",repoConfig:{owner:"gitut-cms",repo:"files"}}),oe(`Successfully published ${dt.length} template files.`)}}catch(Ye){console.error("Template publishing failed:",Ye),oe(`: ${Ye.message}`)}finally{ve(!1),setTimeout(()=>oe(""),8e3)}},nr=Ye=>{Ye?(Oe({key:Ye.key,description:Ye.description,questionText:Ye.questionText||""}),Ce({isOpen:!0,mode:"edit",code:Ye})):(Oe({key:"",description:"",questionText:""}),Ce({isOpen:!0,mode:"create",code:null}))},Pn=async Ye=>{Ye.preventDefault();const dt={...Me,key:`[${Me.key.replace(/\[|\]/g,"")}]`};try{Ue.mode==="create"?await G0.create(dt):Ue.code&&await G0.update(Ue.code.id,dt),await p(),Ce({isOpen:!1,mode:"create",code:null})}catch(ue){console.error(ue),alert("  .")}},Kr=async Ye=>{window.confirm("  ")&&(await G0.delete(Ye),await p())};return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"      JSON     .        ."}),d.jsx("div",{className:"space-y-3",children:KSe.map(Ye=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-md",children:[d.jsx("span",{className:"font-semibold text-gray-700",children:Ye.label}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Zn(Ye.dataType,Ye.countryCode,Ye.fileName),disabled:!!t||n===Ye.fileName,title:" ",className:"bg-gray-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-gray-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:n===Ye.fileName?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ko,{})}),d.jsxs("button",{onClick:()=>Ar(Ye.dataType,Ye.countryCode,Ye.fileName),disabled:!!t||!!n,className:"bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700 disabled:bg-gray-400 text-sm flex items-center gap-2",children:[t===Ye.fileName?d.jsx(Ct,{className:"animate-spin"}):d.jsx(zme,{}),d.jsx("span",{children:""})]})]})]},Ye.fileName))}),l&&d.jsx("p",{className:"text-green-600 text-sm mt-3",children:l}),a&&d.jsx("p",{className:"text-red-600 text-sm mt-3",children:a})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"    ZIP"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"        (JSON  PDF)       ."}),d.jsxs("div",{className:"relative",ref:xe,children:[d.jsxs("button",{onClick:()=>_e(Ye=>!Ye),className:"w-full bg-gray-700 text-white font-bold py-3 px-5 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",disabled:i,children:[i?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ko,{}),d.jsx("span",{children:i?" ...":"  "}),d.jsx(NH,{})]}),he&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsx("ul",{className:"py-1 max-h-60 overflow-y-auto",children:gi.en.map(Ye=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>Bn(Ye.code),className:"w-full text-right px-4 py-2 hover:bg-gray-100 flex items-center gap-3",children:[d.jsx("span",{className:"text-xl",children:Ye.flag}),d.jsx("span",{children:Ye.name})]})},Ye.code))})})]})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:on,disabled:de||Ne,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(ko,{})}),d.jsx("button",{onClick:kt,disabled:de||Ne,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:de?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:()=>pe(),disabled:N||I,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(ko,{})}),d.jsx("button",{onClick:()=>Cn(),disabled:N||I,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:N?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:""}),d.jsx("button",{onClick:Fe,disabled:K||Y,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(ko,{})}),d.jsx("button",{onClick:()=>Ee(),disabled:K||Y,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:K?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:" "}),d.jsx("button",{onClick:lt,disabled:j||ee,title:" ZIP",className:"bg-gray-600 text-white font-bold p-3 rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:d.jsx(ko,{})}),d.jsx("button",{onClick:Je,disabled:j||ee,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:j?d.jsx(Ct,{className:"animate-spin"}):""})]}),d.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-md items-center",children:[d.jsx("span",{className:"font-semibold text-gray-700 flex-1",children:"  (JSON)"}),d.jsx("button",{onClick:nn,disabled:V,className:"bg-green-600 text-white font-bold p-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:V?d.jsx(Ct,{className:"animate-spin"}):""})]})]}),d.jsx("p",{className:"text-xs text-center mt-2 text-gray-500",children:"     HTML    GitHub    ZIP."}),F&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:F}),me&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:me}),te&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:te}),X&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:X}),we&&d.jsx("p",{className:"text-blue-600 text-sm mt-2 text-center",children:we})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("button",{onClick:Gt,disabled:C,className:"bg-yellow-500 text-white font-bold p-4 rounded-lg hover:bg-yellow-600 disabled:bg-gray-400",children:C?d.jsx(Ct,{className:"animate-spin"}):"  "}),d.jsx("button",{onClick:Xn,disabled:u,className:"bg-blue-500 text-white font-bold p-4 rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:u?d.jsx(Ct,{className:"animate-spin"}):" Sitemap.xml"}),d.jsx("button",{onClick:ln,disabled:Ke,className:"bg-indigo-500 text-white font-bold p-4 rounded-lg hover:bg-indigo-600 disabled:bg-gray-400",children:Ke?d.jsx(Ct,{className:"animate-spin"}):"  "})]}),R&&d.jsx("p",{className:"text-center mt-2 text-sm text-blue-700",children:R}),it&&d.jsx("p",{className:"text-center mt-2 text-sm text-indigo-700",children:it})]}),d.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md border md:col-span-2",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:"  (Placeholders)"}),d.jsxs("button",{onClick:()=>nr(null),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(sc,{}),"  "]})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto pr-2",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""}),d.jsx("th",{className:"p-2 border-b",children:""})]})}),d.jsx("tbody",{children:xn.map(Ye=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"p-2 border-b font-mono text-gray-700",children:Ye.key}),d.jsx("td",{className:"p-2 border-b text-gray-600",children:Ye.description}),d.jsx("td",{className:"p-2 border-b",children:Ye.isReadOnly?d.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[d.jsx(OH,{}),""]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>nr(Ye),className:"text-blue-600 hover:underline",children:d.jsx(vw,{})}),d.jsx("button",{onClick:()=>Kr(Ye.id),className:"text-red-600 hover:underline",children:d.jsx(Gm,{})})]})})]},Ye.id))})]})})]})]}),Ue.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:d.jsxs("form",{onSubmit:Pn,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:Ue.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",value:Me.key.replace(/\[|\]/g,""),onChange:Ye=>Oe(dt=>({...dt,key:Ye.target.value})),required:!0,className:"w-full p-2 border rounded-md",dir:"ltr"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",value:Me.description,onChange:Ye=>Oe(dt=>({...dt,description:Ye.target.value})),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),d.jsx("input",{type:"text",value:Me.questionText||"",onChange:Ye=>Oe(dt=>({...dt,questionText:Ye.target.value})),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>Ce({isOpen:!1,mode:"create",code:null}),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})})]})};if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const n0={siteId:"",siteName:"",siteUrl:"",fields:[]},KU=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),eDe=()=>{var J;const{sites:t}=tn(),[e,n]=W.useState(t),[r,i]=W.useState({isOpen:!1,mode:"create",site:null}),[s,a]=W.useState({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:n0}),[o,l]=W.useState(!1),[c,u]=W.useState(`[
  
]`),[f,h]=W.useState(""),[p,v]=W.useState(!1),[g,y]=W.useState("builder"),[_,x]=W.useState(""),[w,C]=W.useState("");W.useEffect(()=>{n(t)},[t]),W.useEffect(()=>{if(r.isOpen&&s.type==="template"&&g==="builder")try{x(JSON.stringify(s.jsonTemplate||n0,null,2)),C("")}catch{x("{}"),C("Error generating JSON string from form data.")}},[s.jsonTemplate,g,r.isOpen,s.type]);const D=()=>{y("builder"),a({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:n0}),i({isOpen:!0,mode:"create",site:null})},R=te=>{y("builder");const z=te.jsonTemplate||{...n0,siteName:te.name,siteUrl:te.url,siteId:te.id};a({...te,countryCode:te.countryCode||"",description:te.description||"",tags:te.tags||"",slug:te.slug||"",jsonTemplate:z}),x(JSON.stringify(z,null,2)),i({isOpen:!0,mode:"edit",site:te})},S=()=>{i({isOpen:!1,mode:"create",site:null})},N=(te,z,Y)=>{a(B=>{var q;const j=[...((q=B.jsonTemplate)==null?void 0:q.fields)||[]];return j[te]={...j[te],[z]:Y},{...B,jsonTemplate:{...B.jsonTemplate,fields:j}}})},k=()=>{a(te=>{var z;return{...te,jsonTemplate:{...te.jsonTemplate,fields:[...((z=te.jsonTemplate)==null?void 0:z.fields)||[],{fieldId:"fullName",label:"",cssSelector:"",action:"write",type:"text"}]}}})},F=te=>{a(z=>{var Y;return{...z,jsonTemplate:{...z.jsonTemplate,fields:(((Y=z.jsonTemplate)==null?void 0:Y.fields)||[]).filter((B,j)=>j!==te)}}})},P=te=>{const z=te.target.value;x(z);try{const Y=JSON.parse(z);if(typeof Y!="object"||Y===null){C("Input must be a valid JSON object.");return}let B,j=!1;Y.jsonTemplate&&typeof Y.jsonTemplate=="object"&&Array.isArray(Y.jsonTemplate.fields)?(B=Y.jsonTemplate,j=!0):Array.isArray(Y.fields)&&(B=Y),B?(a(j?q=>({...q,name:Y.name||q.name,url:Y.url||q.url,countryCode:Y.countryCode||q.countryCode,type:Y.type==="template"?"template":q.type,description:Y.description||q.description,tags:Y.tags||q.tags,jsonTemplate:B}):q=>({...q,jsonTemplate:B})),C("")):C('JSON must be an object with a "fields" array, or a site object containing a "jsonTemplate" key.')}catch{C("Invalid JSON format.")}},I=async te=>{var B,j,q;if(te.preventDefault(),g==="raw"&&w){alert(`Please fix the JSON error before saving: ${w}`);return}let z=KU(s.name);if((r.mode==="create"||r.mode==="edit"&&s.name!==((B=r.site)==null?void 0:B.name))&&e.find(Q=>Q.slug===z)){if(!window.confirm("     (    ).        "))return;z=`${z}-${Date.now().toString().slice(-6)}`}if((r.mode==="create"||r.mode==="edit"&&s.url!==((j=r.site)==null?void 0:j.url))&&e.find(Q=>Q.url===s.url)&&!window.confirm("    .      "))return;const Y={...s,slug:z,countryCode:s.countryCode||void 0,jsonTemplate:{...s.jsonTemplate||n0,siteName:s.name,siteUrl:s.url,siteId:((q=r.site)==null?void 0:q.id)||s.name.toLowerCase().replace(/\s+/g,"-")}};Y.type==="static"&&(Y.jsonTemplate=void 0),r.mode==="create"?(await nf.create(Y),n(X=>[...X,{...Y,id:Y.name}])):r.site&&(await nf.update(r.site.id,Y),n(X=>X.map(Q=>Q.id===r.site.id?{...Y,id:r.site.id}:Q))),alert(" .       ."),S()},U=te=>{window.confirm("        ")&&(nf.delete(te),n(z=>z.filter(Y=>Y.id!==te)))},O=async()=>{h(""),v(!0);let te=0;try{const z=JSON.parse(c);if(!Array.isArray(z))throw new Error("The provided input must be a valid JSON array.");for(const Y of z){if(!Y.name||!Y.url||!Y.type){console.warn("Skipping invalid site object in bulk add:",Y);continue}const B={...Y,slug:KU(Y.name)};await nf.create(B),n(j=>[...j,{...B,id:B.name}]),te++}alert(`  ${te}  .`),l(!1),u(`[
  
]`)}catch(z){h(`: ${z.message}`)}finally{v(!1)}},G=Object.keys(ei);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+    (JSON)"}),d.jsx("button",{onClick:D,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(te=>{var z,Y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:te.name}),d.jsx("td",{className:"p-3 text-gray-600",children:te.type==="static"?"":""}),d.jsx("td",{className:"p-3 text-gray-600",children:te.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:te.type==="template"?`${((Y=(z=te.jsonTemplate)==null?void 0:z.fields)==null?void 0:Y.length)||0} `:"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[te.slug&&d.jsx("a",{href:`/${te.countryCode||"dz"}/site/${te.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>R(te),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>U(te.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},te.id)})})]})})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col h-[90vh]",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsxs("div",{className:"p-6 space-y-4 flex-grow overflow-y-auto",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"  JSON   .        ."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"bulkJson",className:"block text-sm font-medium text-gray-700 mb-1",children:"JSON Array of Sites"}),d.jsx("textarea",{id:"bulkJson",value:c,onChange:te=>u(te.target.value),className:"w-full h-96 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr",placeholder:`[
  {
    "name": "ANEM Wassit Online",
    "url": "https://wassitonline.anem.dz/",
    "type": "template",
    "countryCode": "dz",
    "jsonTemplate": {
      "fields": [
        { "fieldId": "nationalId", "label": "NIN", "cssSelector": "#nin", "action": "write", "type": "text" },
        { "fieldId": "dob", "label": "Date of Birth", "cssSelector": "#ddn", "action": "write", "type": "date" }
      ]
    }
  },
  {
    "name": "Google",
    "url": "https://google.com",
    "type": "static"
  }
]`}),f&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:f})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:O,disabled:p,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:p?d.jsx(Ct,{className:"animate-spin"}):"  "})]})]})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:I,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{id:"type",value:s.type,onChange:te=>a(z=>({...z,type:te.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"template",children:"  ( )"}),d.jsx("option",{value:"static",children:"  (  )"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:te=>a(z=>({...z,countryCode:te.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:te=>a(z=>({...z,name:te.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (URL)"}),d.jsx("input",{type:"url",id:"url",value:s.url,onChange:te=>a(z=>({...z,url:te.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx(gr,{theme:"snow",value:s.description||"",onChange:te=>a(z=>({...z,description:te})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:te=>a(z=>({...z,tags:te.target.value})),placeholder:": , , anem",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         ."})]}),s.type==="template"&&d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:"   (JSON)"}),d.jsxs("div",{className:"flex gap-1 mb-3 border-b pb-3 -mx-4 px-4",children:[d.jsx("button",{type:"button",onClick:()=>y("builder"),className:`px-3 py-1 text-sm rounded-full ${g==="builder"?"bg-green-600 text-white":"bg-gray-200"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>y("raw"),className:`px-3 py-1 text-sm rounded-full ${g==="raw"?"bg-green-600 text-white":"bg-gray-200"}`,children:" JSON "})]}),g==="builder"?d.jsxs("div",{className:"space-y-3 mt-2",children:[(((J=s.jsonTemplate)==null?void 0:J.fields)||[]).map((te,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 p-3 bg-gray-50 rounded-md border relative",children:[d.jsx("button",{type:"button",onClick:()=>F(z),className:"absolute top-2 left-2 bg-red-100 text-red-600 h-6 w-6 flex items-center justify-center rounded-full hover:bg-red-200",children:""}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Label)"}),d.jsx("input",{type:"text",value:te.label,onChange:Y=>N(z,"label",Y.target.value),required:!0,className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Field ID)"}),d.jsx("select",{value:te.fieldId,onChange:Y=>N(z,"fieldId",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:G.map(Y=>d.jsx("option",{value:Y,children:ei[Y].label},Y))})]}),d.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" CSS"}),d.jsx("input",{type:"text",value:te.cssSelector,onChange:Y=>N(z,"cssSelector",Y.target.value),required:!0,placeholder:"#id, .class",className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:te.action,onChange:Y=>N(z,"action",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"write",children:""}),d.jsx("option",{value:"select",children:""}),d.jsx("option",{value:"click",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:te.type,onChange:Y=>N(z,"type",Y.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"text",children:"Text"}),d.jsx("option",{value:"textarea",children:"Textarea"}),d.jsx("option",{value:"date",children:"Date"}),d.jsx("option",{value:"select",children:"Select"}),d.jsx("option",{value:"checkbox",children:"Checkbox"}),d.jsx("option",{value:"radio",children:"Radio"}),d.jsx("option",{value:"email",children:"Email"}),d.jsx("option",{value:"tel",children:"Tel"}),d.jsx("option",{value:"number",children:"Number"})]})]})]})]},z)),d.jsxs("button",{type:"button",onClick:k,className:"mt-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200 transition-colors flex items-center gap-2",children:[d.jsx(sc,{}),"   "]})]}):d.jsxs("div",{children:[d.jsx("textarea",{value:_,onChange:P,className:"w-full h-64 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr"}),w&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:w})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:S,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},lK=window.SpeechRecognition||window.webkitSpeechRecognition,rD=!!lK,cK=({formFields:t,onFieldUpdate:e})=>{const[n,r]=W.useState("idle"),[i,s]=W.useState(""),[a,o]=W.useState(!1),[l,c]=W.useState(null),[u,f]=W.useState("ar-SA"),[h,p]=W.useState("voice"),[v,g]=W.useState(""),y=W.useRef(null),_=W.useRef(""),x=W.useRef(n);W.useEffect(()=>{x.current=n},[n]);const w=W.useRef(e);w.current=e;const C=async P=>{if(P.trim()){o(!0),c(null);try{const I=`You are an AI assistant processing a user's speech or text transcript to fill a web form.
**IMPORTANT RULES:**
1.  When the user says or writes the Arabic word "", you MUST interpret and write it as the "@" symbol.
2.  If you identify an email address, you MUST format it using only English letters, numbers, and standard symbols (like '@', '.', '-'). Do NOT use Arabic characters for the email address. For example, if the user says "       ", the value for the email field should be "mustakhdim@mithal.com" or a similar valid email format, not "@.".

**TASK:**
Based on the user's transcript and the list of available form fields, identify the target field(s) and the corresponding value(s).
- User Transcript: "${P}"
- Available Fields: ${JSON.stringify(t)}

The user might mention multiple fields in one sentence. Your response must be a JSON array of objects, where each object contains a "fieldId" and a "value". For example: [{ "fieldId": "fullName", "value": "John Doe" }, { "fieldId": "email", "value": "john.doe@example.com" }]. If no fields are mentioned, return an empty array.`,O=await bge(P,t,{type:"ARRAY",items:{type:"OBJECT",properties:{fieldId:{type:"STRING"},value:{type:"STRING"}}}},I);Array.isArray(O)&&O.length>0?w.current(O):console.log("AI did not find any fields to update from transcript:",P)}catch(I){console.error("Error processing transcript with AI:",I);const U=I instanceof Error?I.message:"An unknown error occurred.";c(`  : ${U}`)}finally{o(!1)}}};W.useEffect(()=>{if(!rD)return;const P=new lK;return y.current=P,P.continuous=!0,P.interimResults=!0,P.onresult=I=>{let U="";for(let O=I.resultIndex;O<I.results.length;++O)I.results[O].isFinal?_.current+=I.results[O][0].transcript+" ":U+=I.results[O][0].transcript;s(_.current+U)},P.onerror=I=>{console.error("Speech recognition error:",I.error),c(`  : ${I.error}`),r("idle")},P.onend=()=>{x.current==="recording"&&r("paused")},()=>{P.abort()}},[rD]);const D=()=>{y.current&&(_.current="",s(""),y.current.lang=u,y.current.start(),r("recording"))},R=()=>{y.current&&(r("paused"),y.current.stop())},S=()=>{y.current&&(y.current.lang=u,y.current.start(),r("recording"))},N=async()=>{y.current&&(r("idle"),y.current.stop(),i.trim()&&await C(i),s(""),_.current="")},k=async()=>{v.trim()&&(await C(v),g(""))},F=()=>{switch(n){case"recording":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:R,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600",children:[d.jsx(Zme,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(X0,{}),d.jsx("span",{children:" "})]})]});case"paused":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:S,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600",children:[d.jsx(LH,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(X0,{}),d.jsx("span",{children:" "})]})]});case"idle":default:return d.jsxs("button",{type:"button",onClick:D,disabled:a,className:"w-full flex items-center justify-center gap-3 p-3 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(vc,{}),d.jsx("span",{children:"   "})]})}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("voice"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="voice"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(vc,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:()=>p("text"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="text"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(MH,{}),d.jsx("span",{children:""})]})]}),h==="voice"?d.jsx(d.Fragment,{children:rD?d.jsxs(d.Fragment,{children:[n!=="idle"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:" :"}),d.jsx("div",{className:"mt-1 p-2 bg-white border rounded-md min-h-[60px] text-gray-800 text-right",children:i||d.jsx("span",{className:"text-gray-400",children:"..."})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("div",{className:"flex-grow",children:F()}),d.jsxs("select",{value:u,onChange:P=>f(P.target.value),disabled:n!=="idle"||a,className:"bg-white border border-gray-300 rounded-md px-2 py-1 text-sm disabled:bg-gray-200","aria-label":"   ",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"})]})]})]}):d.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-800 text-center rounded-md",children:"      ."})}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:v,onChange:P=>g(P.target.value),placeholder:"   ... :       user  example.com",className:"w-full p-2 border border-gray-300 rounded-md",rows:3,disabled:a}),d.jsxs("button",{type:"button",onClick:k,disabled:a||!v.trim(),className:"w-full flex items-center justify-center gap-3 p-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(X0,{}),d.jsx("span",{children:" "})]})]}),l&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:l})]})},tDe=()=>{const{siteId:t}=oa(),e=Ti(),{user:n}=Dr(),{sites:r,cafes:i,siteSettings:s,loading:a}=tn(),o=W.useMemo(()=>r.find(F=>F.id===t),[t,r]),l=W.useMemo(()=>i.find(F=>F.id===(n==null?void 0:n.cafeId)),[i,n]),c=(l==null?void 0:l.formFillMode)||"json",[u,f]=W.useState({}),[h,p]=W.useState(null),[v,g]=W.useState(""),[y,_]=W.useState(!0);W.useEffect(()=>{c==="json"&&(o!=null&&o.jsonTemplate)?p(o.jsonTemplate):p(null)},[o,c]);const x=(F,P)=>{f(I=>({...I,[F]:P}))},w=F=>{const P={...u};F.forEach(({fieldId:I,value:U})=>{P[I]=U}),f(P)},C=F=>{var U;const P=(U=F.target.files)==null?void 0:U[0];if(!P)return;g("");const I=new FileReader;I.onload=O=>{var G;try{const K=(G=O.target)==null?void 0:G.result,J=JSON.parse(K);if(J&&J.siteId&&Array.isArray(J.fields))p(J);else throw new Error("Invalid JSON structure.")}catch(K){g("   .     JSON   ."),console.error(K)}},I.onerror=()=>{g("    .")},I.readAsText(P)},D=async F=>{if(F.preventDefault(),!n||!s||!o){alert(":         .");return}const P=n.credits.currency==="USD"?s.pricing.siteFormFill.usd:s.pricing.siteFormFill.dzd,I=await Xk(n,P);if(!I.success){alert(I.message),e(`/${n.countryCode}/app/billing`);return}if(y){const G={},K=c==="json"?h==null?void 0:h.fields.map(J=>({id:J.fieldId,label:J.label})):o==null?void 0:o.templateFields;K&&(K.forEach(J=>{const te=J.id;Object.keys(ei).includes(te)&&(G[te]=u[te])}),Object.keys(G).length>0&&gp.create(G))}const U={source:"gitut-webapp",type:"client_data_update",payload:u};window.postMessage(U,"*"),window.open(o.url,"_blank");const O=(n==null?void 0:n.credits.currency)==="USD"?"$":"";alert(`  ${P} ${O}  .       .    .`),f({})},R=W.useMemo(()=>c==="json"&&h?h.fields.map(F=>({id:F.fieldId,label:F.label})):c==="ai"&&(o!=null&&o.templateFields)?o.templateFields.map(F=>({id:F.id,label:F.label})):[],[o,c,h]);if(a)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});if(!o||o.type!=="template")return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"        "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(Zt,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const S=(n==null?void 0:n.credits.currency)==="USD"?s==null?void 0:s.pricing.siteFormFill.usd:s==null?void 0:s.pricing.siteFormFill.dzd,N=(n==null?void 0:n.credits.currency)==="USD"?"$":"",k=()=>{var F;return c==="json"?h?h.fields.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.fieldId,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.fieldId,name:P.fieldId,value:u[P.fieldId]||"",onChange:I=>x(I.target.name,I.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.cssSelector)):d.jsxs("div",{className:"text-center p-6 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"font-semibold text-gray-700",children:" 1:    JSON   ."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        ."})]}):(F=o.templateFields)==null?void 0:F.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.id,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.id,name:P.id,value:u[P.id]||"",onChange:I=>x(I.target.name,I.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.id))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["  : ",o.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[S," ",N]})]})]}),d.jsx(Zt,{to:`/${n==null?void 0:n.countryCode}/app`,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:" "})]}),d.jsxs("form",{onSubmit:D,className:"space-y-6 bg-white p-8 rounded-lg border",children:[c==="json"&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("label",{htmlFor:"json-upload",className:"flex items-center gap-3 cursor-pointer text-blue-800 font-semibold",children:[d.jsx(Gme,{className:"text-2xl"}),d.jsxs("div",{children:[d.jsx("span",{children:h?` : ${h.siteName}`:"  JSON  "}),d.jsx("p",{className:"text-xs font-normal text-gray-600",children:"          ."})]})]}),d.jsx("input",{id:"json-upload",type:"file",accept:".json",onChange:C,className:"hidden"}),v&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:v})]}),(c==="ai"||c==="json"&&h)&&d.jsx(cK,{formFields:R,onFieldUpdate:w}),k(),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("input",{id:"saveClient",name:"saveClient",type:"checkbox",checked:y,onChange:F=>_(F.target.checked),className:"h-4 w-4 text-green-600"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"/   "})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:d.jsx("span",{children:"     "})})]})]})]})};if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const Px=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),nDe={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},rDe=()=>{const{fullDocuments:t,loadingFullDocuments:e,codes:n,refetchAdminData:r}=tn(),[i,s]=W.useState([]);Ti();const{t:a}=Ci(),[o,l]=W.useState({isOpen:!1,mode:"create",doc:null}),[c,u]=W.useState({}),[f,h]=W.useState(!1),[p,v]=W.useState(""),[g,y]=W.useState(""),[_,x]=W.useState({preview:"",final:""}),[w,C]=W.useState({isOpen:!1,doc:null}),[D,R]=W.useState({}),[S,N]=W.useState({preview:"upload",final:"upload"}),[k,F]=W.useState({preview:"",final:""}),[P,I]=W.useState(!1),U=W.useRef(null),O=W.useRef(null),[G,K]=W.useState(!1),[J,te]=W.useState(""),[z,Y]=W.useState("");W.useEffect(()=>{const ce=[...t].sort((ye,xe)=>ye.name.localeCompare(xe.name)).filter(ye=>ye.name.toLowerCase().includes(g.toLowerCase())||ye.description.toLowerCase().includes(g.toLowerCase())||ye.id.toLowerCase().includes(g.toLowerCase()));s(ce)},[t,g]);const B=async()=>{await r()},j=async ie=>{if(window.confirm("              ."))try{await fl.delete(ie),await B(),alert("   .")}catch(ce){console.error("Failed to delete document:",ce),alert("  .")}},q=()=>{u({id:"",name:"",groupId:"",description:"",countryCode:"dz",requiredFields:[],complexFields:[],previewTemplateUrl:"",finalTemplateUrl:"",previewTemplateHtml:"",finalTemplateHtml:"",tags:"",slug:""}),N({preview:"upload",final:"upload"}),F({preview:"",final:""}),x({preview:"",final:""}),l({isOpen:!0,mode:"create",doc:null}),v("")},X=async ie=>{u({...ie});const ce={preview:"upload",final:"upload"},ye={preview:ie.previewTemplateHtml||"",final:ie.finalTemplateHtml||""};ie.previewTemplateHtml&&(ce.preview="code"),ie.finalTemplateHtml&&(ce.final="code"),F(ye),N(ce),x({preview:"",final:""}),l({isOpen:!0,mode:"edit",doc:ie}),v("")},Q=()=>{l({isOpen:!1,mode:"create",doc:null})},ee=ie=>{const{name:ce,value:ye}=ie.target;u(xe=>({...xe,[ce]:ye}))},ae=async(ie,ce)=>{var ke;const ye=(ke=ie.target.files)==null?void 0:ke[0];if(!ye)return;const xe=new FileReader;xe.onload=Ue=>{var Me;const Ce=(Me=Ue.target)==null?void 0:Me.result;x(Oe=>({...Oe,[ce]:Ce})),F(Oe=>({...Oe,[ce]:Ce}))},xe.readAsText(ye)},de=async ie=>{var ce,ye,xe;ie.preventDefault(),h(!0);try{const ke={...c},Ue=Oe=>Oe.replace(/\s{2,}/g," ").replace(/\n/g,"").trim();let Ce="";S.preview==="code"?Ce=k.preview:_.preview&&(Ce=_.preview),Ce&&(ke.previewTemplateHtml=Ue(Ce),ke.previewTemplateUrl="");let Me="";if(S.final==="code"?Me=k.final:_.final&&(Me=_.final),Me?(ke.finalTemplateHtml=Ue(Me),ke.finalTemplateUrl="",ke.requiredFields=K0(Me)):ke.finalTemplateHtml&&(ke.requiredFields=K0(ke.finalTemplateHtml)),ke.slug=(ce=c.slug)!=null&&ce.trim()?Px(c.slug):Px(c.name||""),o.mode==="create"){const Oe=((ye=c.id)==null?void 0:ye.trim())||((xe=c.groupId)==null?void 0:xe.trim())||ke.slug;ke.id=Oe,ke.groupId||(ke.groupId=Oe),await fl.create(ke)}else o.doc&&await fl.update(o.doc.id,ke);await B(),alert("   !"),Q()}catch(ke){console.error("Failed to save document:",ke),alert("  .")}finally{h(!1)}},fe=async()=>{var ie;if(!((ie=c.name)!=null&&ie.trim())){alert("      .");return}I(!0);try{const ce=`         "${c.name}".            .      HTML  ( <p>  <ul>).`,xe=(await oc({model:"gemini-2.5-flash",contents:ce})).text||"";u(ke=>({...ke,description:xe}))}catch(ce){console.error("AI description generation failed:",ce),alert("    .")}finally{I(!1)}},Ne=ie=>{R(ie.fieldCustomizations||{}),C({isOpen:!0,doc:ie})},Re=()=>{C({isOpen:!1,doc:null}),R({})},me=(ie,ce,ye)=>{R(xe=>({...xe,[ie]:{...xe[ie]||{type:"text"},[ce]:ye}}))},Le=(ie,ce,ye)=>{R(xe=>{var Ue;const ke=[...((Ue=xe[ie])==null?void 0:Ue.options)||[]];return ke[ce]=ye,{...xe,[ie]:{...xe[ie]||{type:"text"},options:ke}}})},V=ie=>{R(ce=>{var xe;const ye=[...((xe=ce[ie])==null?void 0:xe.options)||[],""];return{...ce,[ie]:{...ce[ie]||{type:"text"},type:"select",options:ye}}})},ve=(ie,ce)=>{R(ye=>{var ke;const xe=(((ke=ye[ie])==null?void 0:ke.options)||[]).filter((Ue,Ce)=>Ce!==ce);return{...ye,[ie]:{...ye[ie]||{type:"text"},options:xe}}})},we=async()=>{if(w.doc){h(!0);try{const ie={...w.doc,fieldCustomizations:D};await fl.update(w.doc.id,ie),await B(),alert("  !"),Re()}catch(ie){console.error("Failed to save customizations:",ie),alert("  .")}finally{h(!1)}}},oe=(ie,ce)=>{N(ye=>({...ye,[ie]:ce}))},re=(ie,ce)=>{if(!ce)return;const xe=(ie==="preview"?U:O).current;if(xe){const ke=xe.selectionStart,Ue=xe.selectionEnd,Ce=xe.value,Me=Ce.substring(0,ke)+ce+Ce.substring(Ue);F(Oe=>({...Oe,[ie]:Me})),setTimeout(()=>{xe&&(xe.focus(),xe.selectionStart=xe.selectionEnd=ke+ce.length)},0)}},le=()=>{te(JSON.stringify([{id:"custom-doc-id",name:"  ",groupId:"unique-group-id",description:"<p> HTML .</p>",countryCode:"dz",tags:"tag1,tag2",previewTemplateHtml:"<!--  HTML  -->",finalTemplateHtml:"<!--  HTML   [placeholders] -->"}],null,2)),Y(""),K(!0)},he=()=>{K(!1)},_e=async ie=>{ie.preventDefault(),Y(""),h(!0);try{const ce=JSON.parse(J),ye=Array.isArray(ce)?ce:[ce];let xe=0;for(const[ke,Ue]of ye.entries()){const{name:Ce,groupId:Me,previewTemplateHtml:Oe,finalTemplateHtml:Ke}=Ue;if(typeof Ce!="string"||!Ce.trim()||typeof Me!="string"||!Me.trim()||typeof Oe!="string"||!Oe.trim()||typeof Ke!="string"||!Ke.trim()){const Gt=[];(typeof Ce!="string"||!Ce.trim())&&Gt.push("name"),(typeof Me!="string"||!Me.trim())&&Gt.push("groupId"),(typeof Oe!="string"||!Oe.trim())&&Gt.push("previewTemplateHtml"),(typeof Ke!="string"||!Ke.trim())&&Gt.push("finalTemplateHtml");const Cn=Ue.name||Ue.id||`  ${ke+1}`;throw new Error(`    : ${Gt.join(", ")}   "${Cn}"`)}const{description:rt,countryCode:it,tags:Ot,id:xn}=Ue,ln=Gt=>Gt.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),Ar=ln(Ke),Zn=ln(Oe),Bn={name:Ce,groupId:Me,description:rt||"",countryCode:it||"",tags:Ot||"",slug:Px(Ce),previewTemplateHtml:Zn,finalTemplateHtml:Ar,previewTemplateUrl:"",finalTemplateUrl:"",requiredFields:K0(Ar)},Xn=xn||Me||Px(Ce);Bn.id=Xn,await fl.create(Bn),xe++}await B(),alert(`  ${xe} () !`),he()}catch(ce){const ye=ce instanceof Error?ce.message:" JSON     .";Y(ye)}finally{h(!1)}};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(sc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  JSON"]}),d.jsxs("button",{onClick:q,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(sc,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  "]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"   ...",value:g,onChange:ie=>y(ie.target.value),className:"w-full p-3 border rounded-lg"})}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ID / Group ID"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(ie=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ie.name}),d.jsxs("td",{className:"p-3 text-gray-500 font-mono text-xs",children:[ie.id,d.jsx("br",{}),ie.groupId!==ie.id&&`(${ie.groupId})`]}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",title:ie.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:ie.description}})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ie.slug&&d.jsx("a",{href:`/${ie.countryCode||"dz"}/doc/${ie.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>X(ie),className:"text-green-600 hover:underline text-sm font-semibold",children:" "}),d.jsx("button",{onClick:()=>Ne(ie),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>j(ie.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ie.id))})]})})}),G&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:_e,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:d.jsxs("div",{children:[d.jsx("label",{htmlFor:"jsonInput",className:"block text-sm font-medium text-gray-700 mb-1",children:" JSON (        )"}),d.jsx("textarea",{id:"jsonInput",value:J,onChange:ie=>te(ie.target.value),required:!0,className:"w-full h-80 p-2 border rounded-md font-mono text-sm bg-gray-900 text-green-300",dir:"ltr"}),z&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:z})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:he,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" ()"})]})]})})}),o.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:de,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:o.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name||"",onChange:ee,required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"groupId",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Group ID)"}),d.jsx("input",{type:"text",name:"groupId",id:"groupId",value:c.groupId||"",onChange:ee,required:!0,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Group ID      ."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (ID)"}),d.jsx("input",{type:"text",name:"id",id:"id",value:c.id||"",onChange:ee,disabled:o.mode==="edit",className:"w-full p-2 border rounded-md bg-gray-100 disabled:cursor-not-allowed",title:o.mode==="edit"?"     ":"   Group ID"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.mode==="edit"?"     .":"   Group ID."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Slug)"}),d.jsx("input",{type:"text",name:"slug",id:"slug",value:c.slug||"",onChange:ee,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  .       ."})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:""}),d.jsxs("button",{type:"button",onClick:fe,disabled:P,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200 disabled:opacity-50",title:"   ",children:[P?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(gr,{theme:"snow",value:c.description||"",onChange:ie=>u(ce=>({...ce,description:ie})),modules:nDe})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:c.countryCode||"",onChange:ee,placeholder:"dz, fr, us...",className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",name:"tags",id:"tags",value:c.tags||"",onChange:ee,className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>oe("preview","upload"),className:`px-3 py-1 text-sm rounded-t-md ${S.preview==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>oe("preview","code"),className:`px-3 py-1 text-sm rounded-t-md ${S.preview==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),S.preview==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"previewTemplate",onChange:ie=>ae(ie,"preview"),accept:".html",className:"w-full text-sm"}),_.preview&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",_.preview.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:U,value:k.preview,onChange:ie=>F(ce=>({...ce,preview:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("preview",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>oe("final","upload"),className:`px-3 py-1 text-sm rounded-t-md ${S.final==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>oe("final","code"),className:`px-3 py-1 text-sm rounded-t-md ${S.final==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),S.final==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"finalTemplate",onChange:ie=>ae(ie,"final"),accept:".html",className:"w-full text-sm"}),_.final&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",_.final.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:O,value:k.final,onChange:ie=>F(ce=>({...ce,final:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("final",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]})]}),p&&d.jsx("p",{className:"text-red-500 text-sm",children:p})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Q,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" "})]})]})})}),w.isOpen&&w.doc&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:ie=>{ie.preventDefault(),we()},children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:["  : ",w.doc.name]})}),d.jsx("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:Object.keys(ei).map(ie=>{var ye,xe,ke,Ue,Ce,Me,Oe;const ce=(ye=w.doc)==null?void 0:ye.requiredFields.includes(ie);return d.jsxs("div",{className:`p-4 border rounded-md ${ce?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:a(ei[ie].label)}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{value:((xe=D[ie])==null?void 0:xe.type)||"text",onChange:Ke=>me(ie,"type",Ke.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"text",children:"  (Text)"}),d.jsx("option",{value:"select",children:"   (Select)"}),d.jsx("option",{value:"multiselect",children:"   (Multi-select)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),d.jsx("input",{type:"text",value:((ke=D[ie])==null?void 0:ke.customQuestion)||"",onChange:Ke=>me(ie,"customQuestion",Ke.target.value),placeholder:"    ",className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:((Ue=D[ie])==null?void 0:Ue.speechLang)||"",onChange:Ke=>me(ie,"speechLang",Ke.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",children:" ( )"}),d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:""}),d.jsx("option",{value:"fr-FR",children:""})]})]})]}),(((Ce=D[ie])==null?void 0:Ce.type)==="select"||((Me=D[ie])==null?void 0:Me.type)==="multiselect")&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-2",children:" "}),d.jsx("div",{className:"space-y-2",children:(((Oe=D[ie])==null?void 0:Oe.options)||[]).map((Ke,rt)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:Ke,onChange:it=>Le(ie,rt,it.target.value),placeholder:` ${rt+1}`,className:"flex-grow p-2 border rounded-md"}),d.jsx("button",{type:"button",onClick:()=>ve(ie,rt),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:d.jsx(Gm,{})})]},rt))}),d.jsxs("button",{type:"button",onClick:()=>V(ie),className:"mt-3 flex items-center gap-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200",children:[d.jsx(sc,{}),"  "]})]})]},ie)})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Re,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:f?d.jsx(Ct,{className:"animate-spin"}):" "})]})]})})})]})},iDe=()=>{const[t,e]=W.useState([]),[n,r]=W.useState({isOpen:!1,mode:"create",client:null}),[i,s]=W.useState({}),{t:a}=Ci();W.useEffect(()=>{gp.getAll().then(e)},[]);const o=()=>{gp.getAll().then(e)},l=()=>{s({}),r({isOpen:!0,mode:"create",client:null})},c=y=>{s({...y}),r({isOpen:!0,mode:"edit",client:y})},u=()=>{r({isOpen:!1,mode:"create",client:null})},f=(y,_)=>{s(x=>({...x,[y]:_}))},h=W.useMemo(()=>Object.values(ei).map(y=>({id:y.id,label:a(y.label)})),[a]),p=y=>{y.forEach(({fieldId:_,value:x})=>{f(_,x)})},v=y=>{y.preventDefault(),n.mode==="create"?gp.create(i):n.client&&gp.update(n.client.id,i),o(),u()},g=y=>{window.confirm("              .")&&(gp.delete(y),o())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:vi(y.profilePicture)||`https://ui-avatars.com/api/?name=${y.fullName||"NN"}&background=random`,alt:y.fullName||"Client",className:"w-10 h-10 rounded-full object-cover"}),d.jsx("span",{children:y.fullName||"-"})]})}),d.jsx("td",{className:"p-3 text-gray-600",children:y.phone||"-"}),d.jsx("td",{className:"p-3 text-gray-600",children:y.email||"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>c(y),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},y.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:'   .   "  " .'})})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:v,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":"  "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsx(cK,{formFields:h,onFieldUpdate:p}),Object.values(ei).map(y=>{var x;if(!y)return null;const _=y.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a(y.label)}),y.type==="file"?d.jsx(zv,{value:i[_]||"",onChange:w=>f(_,w)}):y.type==="select"?d.jsxs("select",{id:y.id,name:y.id,value:i[_]||"",onChange:w=>f(w.target.name,w.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:a(y.placeholder)}),(x=y.options)==null?void 0:x.map(w=>d.jsx("option",{value:w.value,children:a(w.label)},w.value))]}):d.jsx("input",{type:y.type,id:y.id,name:y.id,value:i[_]||"",onChange:w=>f(w.target.name,w.target.value),placeholder:a(y.placeholder)||"",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]},y.id)})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},sDe=({onSearch:t})=>{const{wilayas:e,dairas:n,communes:r,locationsLoading:i}=tn(),{t:s}=Ci(),[a,o]=W.useState(""),[l,c]=W.useState(""),[u,f]=W.useState(""),[h,p]=W.useState(""),[v,g]=W.useState([]),[y,_]=W.useState([]),x=R=>{const S=R.target.value;o(S),c(""),f(""),S?(g(n.filter(N=>N.wilaya_code===S)),_([])):(g([]),_([]))},w=R=>{const S=R.target.value;c(S),f(""),_(S&&a?r.filter(N=>N.daira_name===S&&N.wilaya_code===a):[])},C=R=>{f(R.target.value)},D=R=>{var N;R.preventDefault();const S=((N=e.find(k=>k.code===a))==null?void 0:N.name)||"";t({wilaya:S,daira:l,commune:u,name:h})};return d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("select",{value:a,onChange:x,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i,"aria-label":"Select Wilaya",children:[d.jsx("option",{value:"",children:s(i?"signup.loading":"signup.selectWilaya")}),e.map(R=>d.jsx("option",{value:R.code,children:R.name},R.id))]}),d.jsxs("select",{value:l,onChange:w,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!a||v.length===0,"aria-label":"Select Daira",children:[d.jsx("option",{value:"",children:s("signup.selectDaira")}),v.map(R=>d.jsx("option",{value:R.name,children:R.name},R.id))]}),d.jsxs("select",{value:u,onChange:C,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!l||y.length===0,"aria-label":"Select Commune",children:[d.jsx("option",{value:"",children:s("signup.selectCommune")}),y.map(R=>d.jsx("option",{value:R.name,children:R.name},R.id))]}),d.jsx("input",{type:"text",placeholder:s("searchForm.searchByName"),value:h,onChange:R=>p(R.target.value),className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search by cafe name"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:s("searchForm.search")})]})};function aDe(t,e){function n(u){return u*Math.PI/180}const r=6371,i=n(e.latitude-t.latitude),s=n(e.longitude-t.longitude),a=n(t.latitude),o=n(t.latitude),l=Math.sin(i/2)*Math.sin(i/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(a)*Math.cos(o),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return r*c}const oDe=()=>{const{countryCode:t,type:e,id:n}=oa(),{documents:r,staticDocuments:i,sites:s,cafes:a,loading:o}=tn(),[l,c]=W.useState(null),[u,f]=W.useState([]),[h,p]=W.useState(!1),[v,g]=W.useState(!1),[y,_]=W.useState(!1),[x,w]=W.useState(""),[C,D]=W.useState(!1),[R,S]=W.useState([]),[N,k]=W.useState(0);W.useEffect(()=>{c(null),w(""),(()=>{let J=null;if(e==="doc"&&n){const te=r.find(z=>z.id===n);if(te){J={...te,type:"doc"};const Y=r.filter(j=>j.groupId===te.groupId).sort((j,q)=>j.name.localeCompare(q.name,"ar"));S(Y);const B=Y.findIndex(j=>j.id===te.id);k(B>=0?B:0)}}else if(e==="site"&&n){const te=s.find(z=>z.id===n);te&&(J={...te,type:"site"},S([]))}else if(e==="static-doc"&&n){const te=i.find(z=>z.id===n);te&&(J={...te,type:"static-doc"},S([]))}J&&J.countryCode&&J.countryCode!==t?c(null):c(J)})()},[e,n,r,s,i,t]),W.useEffect(()=>{const K=async()=>{if(R.length>0&&N<R.length){const te=R[N].previewTemplateUrl;if(!te){w(""),D(!1);return}D(!0);try{const z=await fetch(te);z.ok?w(await z.text()):w("")}catch(z){console.error("Error fetching preview:",z),w("")}finally{D(!1)}}};(l==null?void 0:l.type)==="doc"&&R.length>0&&K()},[R,N,l]);const F=()=>{k(K=>(K+1)%R.length)},P=()=>{k(K=>(K-1+R.length)%R.length)},I=K=>{if(!l)return;let te=a;const z=K.name.trim().toLowerCase();K.wilaya&&(te=te.filter(Y=>Y.address.wilaya===K.wilaya)),K.daira&&(te=te.filter(Y=>Y.address.daira===K.daira)),K.commune&&(te=te.filter(Y=>Y.address.commune===K.commune)),z&&(te=te.filter(Y=>Y.name.toLowerCase().includes(z))),f(te),_(!0),p(!1)},U=K=>{const J=K.target.checked;if(p(J),J){if(!navigator.geolocation){alert("     ."),p(!1);return}g(!0),_(!1),navigator.geolocation.getCurrentPosition(te=>{const z={latitude:te.coords.latitude,longitude:te.coords.longitude},B=a.filter(j=>j.address.latitude&&j.address.longitude).map(j=>({...j,distance:aDe(z,j.address)})).sort((j,q)=>j.distance-q.distance);f(B),g(!1),_(!0)},te=>{console.error("Geolocation error:",te),alert(`    : ${te.message}`),g(!1),p(!1)})}else f([]),_(!1)},O=W.useMemo(()=>{if((l==null?void 0:l.type)==="doc"&&R.length>0){const K=R[N];return K?{...K,type:"doc"}:null}else if((l==null?void 0:l.type)==="static-doc")return{...l,type:"static-doc"};return l},[l,R,N]),G=W.useMemo(()=>{if((O==null?void 0:O.type)!=="doc")return[];const K=O;return(K.spokenFields&&K.spokenFields.length>0?K.spokenFields:K.requiredFields).filter(te=>te!=="profilePicture").map(te=>ei[te]).filter(te=>!!te)},[O]);return O?d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:O.name}),d.jsx("p",{className:"text-lg text-gray-600",children:"description"in O?O.description:"url"in O?O.url:""})]}),l.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"relative",children:[R.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:P,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(yw,{className:"h-6 w-6"})}),d.jsx("button",{onClick:F,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(gw,{className:"h-6 w-6"})}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[N+1," / ",R.length]})]}),C?d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"  ..."})}):x?d.jsx("iframe",{srcDoc:x,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}):d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"     ."})})]})]}),l.type==="static-doc"&&"fileUrl"in l&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsx("iframe",{src:l.fileUrl,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("a",{href:l.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"     "})})]}),O.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),O.visitorExamplePrompt&&d.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-400 p-4 rounded-md mb-6",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-2",children:"   ():"}),d.jsxs("p",{className:"text-blue-700 leading-relaxed",children:['"',O.visitorExamplePrompt,'"']})]}),G.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"  :"}),d.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-700",children:G.map(K=>d.jsx("li",{children:K.label},K.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),!h&&d.jsx(sDe,{onSearch:I}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:U,disabled:v,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("span",{className:"font-semibold text-gray-700",children:v?"...  ":"    "})]})})]}),y&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-2xl font-bold",children:[" (",u.length,")"]}),u.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(K=>d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:K.imageUrl,alt:K.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:K.name}),d.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[K.address.commune,", ",K.address.wilaya]}),K.distance!==void 0&&d.jsxs("p",{className:"text-sm font-bold text-blue-700 bg-blue-100 rounded-full px-3 py-1 self-start mb-4",children:["~ ",K.distance.toFixed(1)," "]}),d.jsx("div",{className:"flex-grow"}),d.jsx(Zt,{to:`/${t}/profile/${K.numericId}`,className:"block text-center w-full mt-auto bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:" "})]})]},K.id))}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(Zt,{to:`/${t}/services`,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"   "})]})};if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const lDe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),cDe=()=>{const{staticDocuments:t}=tn(),[e,n]=W.useState(t),[r,i]=W.useState({isOpen:!1,mode:"create",doc:null}),[s,a]=W.useState({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),[o,l]=W.useState(null),[c,u]=W.useState(!1);W.useEffect(()=>n(t),[t]);const f=()=>{a({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),l(null),i({isOpen:!0,mode:"create",doc:null})},h=x=>{a({name:x.name,description:x.description,fileUrl:x.fileUrl,countryCode:x.countryCode||"",tags:x.tags||""}),l(null),i({isOpen:!0,mode:"edit",doc:x})},p=()=>{i({isOpen:!1,mode:"create",doc:null})},v=x=>{x.target.files&&x.target.files[0]&&(l(x.target.files[0]),g(x.target.files[0]))},g=async x=>{if(!x){alert("   .");return}u(!0);try{const w=await vm(x);a(C=>({...C,fileUrl:w})),alert("      !")}catch(w){console.error("Upload error:",w),alert(`  : ${w.message}`)}finally{u(!1)}},y=async x=>{if(x.preventDefault(),!s.fileUrl){alert("     .");return}const w={...s,slug:lDe(s.name)};try{r.mode==="create"?(await cf.create(w),n(C=>[...C,{...w,id:"new-"+Date.now(),slug:w.slug||""}])):r.doc&&(await cf.update(r.doc.id,w),n(C=>C.map(D=>D.id===r.doc.id?{...w,id:r.doc.id}:D))),alert("  !"),p()}catch(C){console.error("Failed to save static doc:",C),alert(" .")}},_=async x=>{if(window.confirm("        "))try{await cf.delete(x),n(w=>w.filter(C=>C.id!==x)),alert("  !")}catch(w){console.error("Failed to delete static doc:",w),alert(" .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   (PDF)"}),d.jsx("button",{onClick:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(x=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:x.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm max-w-md",title:x.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2 compact-prose",dangerouslySetInnerHTML:{__html:x.description}})}),d.jsx("td",{className:"p-3 text-gray-600",children:x.countryCode||""}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[x.slug&&d.jsx("a",{href:`/${x.countryCode||"dz"}/doc/${x.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(x),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>_(x.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},x.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:y,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:x=>a(w=>({...w,name:x.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(gr,{theme:"snow",value:s.description,onChange:x=>a(w=>({...w,description:x})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:x=>a(w=>({...w,tags:x.target.value})),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:x=>a(w=>({...w,countryCode:x.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500"})]}),d.jsxs("div",{className:"space-y-3 border-t pt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),d.jsxs("div",{children:[d.jsxs("label",{className:"w-full flex items-center justify-center gap-2 bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer",children:[c?d.jsx(Ct,{className:"animate-spin"}):d.jsx(kl,{}),d.jsx("span",{children:c?" ...":"  PDF "}),d.jsx("input",{type:"file",accept:".pdf",onChange:v,className:"hidden"})]}),o&&!c&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[" : ",o.name]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fileUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"fileUrl",value:s.fileUrl,readOnly:!0,placeholder:"    ...",className:"block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:p,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})},uDe=()=>{const{docId:t}=oa(),{staticDocuments:e,loading:n,siteSettings:r}=tn(),{user:i}=Dr(),s=Ti(),a=W.useRef(null),[o,l]=W.useState(!1),[c,u]=W.useState(""),f=W.useMemo(()=>e.find(x=>x.id===t),[e,t]),h=W.useMemo(()=>vi(f==null?void 0:f.fileUrl),[f]),p=(i==null?void 0:i.credits.currency)==="USD"?r==null?void 0:r.pricing.staticDocumentDownload.usd:r==null?void 0:r.pricing.staticDocumentDownload.dzd,v=(i==null?void 0:i.credits.currency)==="USD"?"$":"",g=()=>{const x=a.current;x&&x.contentWindow&&(x.contentWindow.focus(),x.contentWindow.print())},y=()=>{if(f){const x=document.createElement("a");x.href=h,x.setAttribute("download",f.name),document.body.appendChild(x),x.click(),document.body.removeChild(x)}},_=async()=>{if(!i||!r||p===void 0){u("   .        .");return}u("");const x=await Xk(i,p);x.success?(l(!0),alert(`  ${p} ${v}  .`)):(u(x.message),x.message.includes("  ")&&setTimeout(()=>s("/app/billing"),2e3))};return n?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):f?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f.name}),o&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(_w,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(ko,{})," ",d.jsx("span",{children:""})]})]})]}),d.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-200",children:o?d.jsx("iframe",{ref:a,src:h,title:f.name,className:"w-full h-[70vh] border-0"}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center p-4",children:[d.jsx(OH,{className:"text-5xl text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["     ",d.jsxs("span",{className:"font-bold font-mono",children:[p," ",v]}),"  ."]}),d.jsx("button",{onClick:_,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700",children:" "}),c&&d.jsx("p",{className:"text-red-500 mt-4",children:c})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(Zt,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},dDe=()=>{const{countryCode:t,docId:e}=oa(),n=Ti(),{staticDocuments:r,documents:i,fullDocuments:s,siteSettings:a,loading:o}=tn(),l=W.useMemo(()=>{const N=decodeURIComponent(e||""),k=r.find(I=>I.id===N||I.slug===N);if(k)return{...k,serviceType:"static-doc"};const F=i.find(I=>I.id===N||I.slug===N);if(F)return{...F,serviceType:"doc"};const P=s.find(I=>I.id===N||I.slug===N);return P?{...P,serviceType:"doc"}:null},[r,i,s,e]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=W.useState(c),[h,p]=W.useState(!1),v=W.useRef(null),[g,y]=W.useState(!1),[_,x]=W.useState({active:!1,format:null}),[w,C]=W.useState(!1),D=W.useMemo(()=>l?l.serviceType==="static-doc"&&l.fileUrl?vi(l.fileUrl):l.serviceType==="doc"&&"previewTemplateUrl"in l&&l.previewTemplateUrl?vi(l.previewTemplateUrl):"#":"#",[l]);W.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),W.useEffect(()=>{const N=k=>{v.current&&!v.current.contains(k.target)&&y(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const R=async N=>{if(!(w||!l||l.serviceType!=="doc"||!N)){C(!0);try{const k=[...s,...i];if(N==="pdf")await qy(k,l.id,{},{action:"download",targetLang:"ar",templateType:"preview"});else if(N==="word"){let F="previewTemplateHtml"in l?l.previewTemplateHtml:"";if(!F&&"previewTemplateUrl"in l&&l.previewTemplateUrl){const U=await fetch(vi(l.previewTemplateUrl));U.ok&&(F=await U.text())}if(!F)throw new Error("Could not load Word template content.");const P=new Blob([`
                    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                    <head><meta charset='utf-8'><title>${l.name}</title></head>
                    <body>${F}</body>
                    </html>
                `],{type:"application/msword"}),I=document.createElement("a");I.href=URL.createObjectURL(P),I.download=`${l.slug||"document"}.doc`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(I.href)}}catch(k){console.error("Failed to download document:",k),alert("   .")}finally{C(!1),x({active:!1,format:null})}}};W.useEffect(()=>{if(!(o||!l)){if(_.active)if(u>0){const N=setTimeout(()=>f(k=>k-1),1e3);return()=>clearTimeout(N)}else R(_.format);else if(!h)if(u>0){const N=setTimeout(()=>f(k=>k-1),1e3);return()=>clearTimeout(N)}else p(!0)}},[u,o,l,h,_]);const S=N=>{y(!1),x({active:!0,format:N}),f(c)};if(o)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]});if(!l)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(Zt,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});if(h){const N=()=>l.serviceType==="doc"&&"previewTemplateHtml"in l&&l.previewTemplateHtml?d.jsx("iframe",{srcDoc:l.previewTemplateHtml,title:l.name,className:"w-full h-full border-0"}):D!=="#"?d.jsx("iframe",{src:D,title:l.name,className:"w-full h-full border-0"}):d.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"     ."})});return d.jsxs(d.Fragment,{children:[_.active&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4 max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:w?d.jsx(Ct,{className:"animate-spin"}):u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(ac,{placement:"PDF_INTERSTITIAL"})]})]})}),d.jsxs("div",{className:"flex h-[85vh] gap-4",children:[d.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white rounded-lg shadow-lg border p-4 flex flex-col",children:[d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-center border-b pb-3",children:" "}),l.serviceType==="doc"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>n(`/${t}/go-to-site/internal-form`,{state:{targetUrl:`/${t}/public-form/${l.slug||l.id}`,siteName:` : ${l.name}`}}),className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(PH,{}),d.jsx("span",{children:"/"})]}),d.jsxs("div",{ref:v,className:"relative",children:[d.jsxs("button",{onClick:()=>y(k=>!k),className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(ko,{}),d.jsx("span",{children:"  "})]}),g&&d.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>S("pdf"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(bw,{className:"text-red-500"}),d.jsx("span",{children:"  PDF"})]})}),d.jsx("li",{children:d.jsxs("button",{onClick:()=>S("word"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(eI,{className:"text-blue-500"}),d.jsx("span",{children:"  Word"})]})})]})})]})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t",children:d.jsx(ac,{placement:"PROFILE_SIDEBAR"})})]}),d.jsx("main",{className:"flex-1 bg-white p-2 rounded-lg shadow-lg border h-full",children:N()})]})]})}return d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(ac,{placement:"PDF_INTERSTITIAL"})]})]})})},fDe=({cafe:t,linkTo:e,linkState:n,isOnline:r})=>{const{t:i}=Ci(),s="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",a=t.address.commune&&t.address.wilaya?`${t.address.commune}, ${t.address.wilaya}`:`${t.address.city||""}, ${t.address.state||""}`.replace(/^,|,$/g,"").trim(),o=`/${t.countryCode}/profile/${t.numericId}`;return d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:vi(t.imageUrl)||s,alt:t.name,className:"w-full h-48 object-cover",onError:l=>{l.currentTarget.src=s}}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),r!==void 0&&d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-500 ${r===null?"bg-gray-300 animate-pulse":r?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:i(r===null?"cafeCard.checkingStatus":r?"cafeCard.online":"cafeCard.offline")})]}),d.jsxs("p",{className:"text-gray-600 mb-1 text-sm",children:[d.jsx("span",{className:"font-semibold",children:i("cafeCard.owner")})," ",t.owner]}),d.jsxs("p",{className:"text-gray-600 mb-2 text-sm",children:[d.jsx("span",{className:"font-semibold",children:i("cafeCard.address")})," ",a]}),t.distance!==void 0&&d.jsx("div",{className:"mb-4",children:d.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full",children:["~ ",t.distance.toFixed(1)," ",i("cafeCard.distanceUnit")]})}),d.jsx("p",{className:"text-gray-700 mb-4 flex-grow line-clamp-2",children:t.description}),d.jsxs("div",{className:"mt-auto flex gap-2",children:[e?d.jsx(Zt,{to:e,state:n,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-green-600 text-white hover:bg-green-700",children:i("cafeCard.chooseThisCafe")}):d.jsx(Zt,{to:o,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-gray-200 text-gray-800 hover:bg-gray-300",children:i("cafeCard.viewDetails")}),d.jsx(Zt,{to:o,state:{openChat:!0},className:"flex-shrink-0 flex items-center justify-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",title:i("cafeCard.startChat"),children:d.jsx(Qk,{})})]})]})]})},Va=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",hDe=({cafe:t,linkTo:e,linkState:n})=>{const{usePresence:r}=th(),{isOnline:i}=r(t.id);return d.jsx(fDe,{cafe:t,linkTo:e,linkState:n,isOnline:i})},pDe=()=>{const t=Sr(),e=Ti(),{countryCode:n}=oa(),{documents:r,sites:i,communes:s,cafes:a}=tn(),{documentIds:o}=t.state||{documentIds:[]},[l,c]=W.useState(!1),[u,f]=W.useState([]),[h,p]=W.useState(!1),v=W.useMemo(()=>{const O=r.filter(K=>o.includes(K.id)).map(K=>({...K,serviceType:"doc"})),G=i.filter(K=>o.includes(K.id)).map(K=>({...K,serviceType:"site"}));return[...O,...G]},[o,r,i]),[g,y]=W.useState([]),[_,x]=W.useState(!1),[w,C]=W.useState(""),[D,R]=W.useState([]),[S,N]=W.useState(!1);W.useEffect(()=>{n?(f(a),y(a),x(!0)):o.length>0&&c(!0)},[n,a,o]);const k=async O=>{c(!1),p(!0),x(!1),y([]);try{const G=await fetch(`https://datas.gitut.com/data/json/${O}-cafes-public.json`);if(!G.ok)throw new Error("Failed to load cafes for selected country.");const K=await G.json();f(K),y(K),x(!0)}catch(G){console.error(G),alert("       ."),e("/")}finally{p(!1)}},F=W.useMemo(()=>o&&o.length>0?u:[],[o,u]);W.useEffect(()=>{if(!w.trim()){R([]);return}const O=[],G=[],K=new Set,J=Va(w);if(/^\d+$/.test(w)){const z=parseInt(w,10),Y=F.find(B=>B.numericId===z);Y&&O.push({type:"cafe",data:Y})}F.forEach(z=>{!O.some(Y=>Y.data.id===z.id)&&(Va(z.name).includes(J)||Va(z.owner).includes(J))&&O.push({type:"cafe",data:z})}),s.forEach(z=>{const Y=`${z.wilaya_name}, ${z.daira_name}, ${z.name}`;K.has(Y)||(Va(z.name).includes(J)||Va(z.daira_name).includes(J)||Va(z.wilaya_name).includes(J))&&(G.push({type:"commune",data:z}),K.add(Y))}),R([...O,...G].slice(0,15))},[w,F,s]);const P=O=>{if(O.preventDefault(),N(!1),!w.trim()){y(F),x(!0);return}const G=Va(w),J=/^\d+$/.test(w.trim())?parseInt(w.trim(),10):null,te=F.filter(z=>J!==null&&z.numericId===J||Va(z.name).includes(G)||Va(z.owner).includes(G)||z.address.wilaya&&Va(z.address.wilaya).includes(G)||z.address.daira&&Va(z.address.daira).includes(G)||z.address.commune&&Va(z.address.commune).includes(G));y(te),x(!0)},I=O=>{C(""),N(!1),x(!0);const G=O.type==="cafe"?O.data.countryCode:n||"dz";if(O.type==="cafe")e(`/${G}/form`,{state:{cafeId:O.data.id,selectedDocIds:o}});else if(O.type==="commune"){const K=F.filter(J=>J.address.commune===O.data.name&&J.address.daira===O.data.daira_name&&J.address.wilaya===O.data.wilaya_name);y(K)}},U=O=>{switch(O.type){case"cafe":return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold",children:O.data.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:[O.data.address.commune," -  /"]})]});case"commune":return`${O.data.wilaya_name}, ${O.data.daira_name}, ${O.data.name}`}};return o.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:":     ."}),d.jsx("p",{className:"text-gray-600 mb-6",children:"       ."}),d.jsx(Zt,{to:`/${n||""}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):l?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"     "}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:gi.ar.map(O=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>k(O.code),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:O.flag}),d.jsx("span",{className:"font-semibold",children:O.name})]})},O.code))})]})}):h?d.jsx("div",{className:"flex justify-center items-center p-20",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx(Zt,{to:`/${n||""}`,className:"text-green-600 hover:underline mb-4 inline-block",children:"    "}),d.jsx("h1",{className:"text-xl font-semibold text-gray-700",children:" 2:    "}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:v.map(O=>O.name).join(" ")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"  "}),d.jsxs("form",{onSubmit:P,className:"relative max-w-2xl mx-auto flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx($A,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),d.jsx("input",{type:"text",value:w,onChange:O=>C(O.target.value),onFocus:()=>N(!0),onBlur:()=>setTimeout(()=>N(!1),200),placeholder:"      (  )...",className:"w-full p-4 pr-12 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg","aria-label":"  "}),S&&D.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:D.map((O,G)=>d.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 border-b last:border-b-0",onMouseDown:()=>I(O),children:U(O)},`${O.type}-${O.data.id}-${G}`))})]}),d.jsx("button",{type:"submit",className:"flex-shrink-0 bg-gray-800 text-white p-4 rounded-lg hover:bg-black transition-colors","aria-label":"",children:d.jsx($A,{className:"h-6 w-6"})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:_?` (${g.length})`:`      (${F.length})`}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(_?g:F).map(O=>d.jsx(hDe,{cafe:O,linkTo:`/${O.countryCode}/form`,linkState:{cafeId:O.id,selectedDocIds:o}},O.id))}),_&&g.length===0&&d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Wb={};Wb.version="0.18.5";var uK=1252,mDe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xI={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bI=function(t){mDe.indexOf(t)!=-1&&(uK=xI[0]=t)};function gDe(){bI(1252)}var Po=function(t){bI(t)};function _I(){Po(1200),gDe()}function XU(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function yDe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function dK(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var E0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?yDe(t.slice(2)):e==254&&n==255?dK(t.slice(2)):e==65279?t.slice(1):t},Fx=function(e){return String.fromCharCode(e)},JU=function(e){return String.fromCharCode(e)},$y,yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function zy(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),a=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=yu.charAt(s)+yu.charAt(a)+yu.charAt(o)+yu.charAt(l);return e}function ka(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=yu.indexOf(t.charAt(c++)),a=yu.indexOf(t.charAt(c++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=yu.indexOf(t.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=yu.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var dn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),kc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function qu(t){return dn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function YU(t){return dn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var wa=function(e){return dn?kc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Rw(t){if(typeof ArrayBuffer>"u")return wa(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function sd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function vDe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function wI(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return wI(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Li=dn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:kc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function xDe(t){for(var e=[],n=0,r=t.length+250,i=qu(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=qu(65535),r=65530)}return e.push(i.slice(0,n)),Li(e)}var Os=/\u0000/g,C0=/[\u0001-\u0006]/g;function Op(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Fo(t,e){var n=""+t;return n.length>=e?n:jr("0",e-n.length)+n}function TI(t,e){var n=""+t;return n.length>=e?n:jr(" ",e-n.length)+n}function qb(t,e){var n=""+t;return n.length>=e?n:n+jr(" ",e-n.length)}function bDe(t,e){var n=""+Math.round(t);return n.length>=e?n:jr("0",e-n.length)+n}function _De(t,e){var n=""+t;return n.length>=e?n:jr("0",e-n.length)+n}var QU=Math.pow(2,32);function rp(t,e){if(t>QU||t<-QU)return bDe(t,e);var n=Math.round(t);return _De(n,e)}function $b(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var ZU=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],iD=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function wDe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var zt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},eO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},TDe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zb(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function rf(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=NDe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var fK=new Date(1899,11,31,0,0,0),EDe=fK.getTime(),CDe=new Date(1900,2,1,0,0,0);function hK(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=CDe&&(n+=1440*60*1e3),(n-(EDe+(t.getTimezoneOffset()-fK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function EI(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SDe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function DDe(t){var e=t<0?12:11,n=EI(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function ADe(t){var e=EI(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Hy(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=DDe(t):e===10?n=t.toFixed(10).substr(0,12):n=ADe(t),EI(SDe(n.toUpperCase()))}function Of(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Hy(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ao(14,hK(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function NDe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function kDe(t,e,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return iD[n.m-1][1];case 5:return iD[n.m-1][0];default:return iD[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return ZU[n.q][0];default:return ZU[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Fo(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Fo(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Fo(l,c):"";return u}function vu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var pK=/%/g;function IDe(t,e,n){var r=e.replace(pK,""),i=e.length-r.length;return lc(t,r,n*Math.pow(10,2*i))+jr("%",i)}function RDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return lc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function mK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+mK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var gK=/# (\?+)( ?)\/( ?)(\d+)/;function PDe(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?jr(" ",t[1].length+1+t[4].length):TI(a,t[1].length)+t[2]+"/"+t[3]+Fo(o,t[4].length))}function FDe(t,e,n){return n+(e===0?"":""+e)+jr(" ",t[1].length+2+t[4].length)}var yK=/^#*0*\.([0#]+)/,vK=/\).*[0#]/,xK=/\(###\) ###\\?-####/;function Is(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function tO(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function nO(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function MDe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function UDe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function za(t,e,n){if(t.charCodeAt(0)===40&&!e.match(vK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?za("n",r,n):"("+za("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return RDe(t,e,n);if(e.indexOf("%")!==-1)return IDe(t,e,n);if(e.indexOf("E")!==-1)return mK(e,n);if(e.charCodeAt(0)===36)return"$"+za(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+rp(l,e.length);if(e.match(/^[#?]+$/))return i=rp(n,0),i==="0"&&(i=""),i.length>e.length?i:Is(e.substr(0,e.length-i.length))+i;if(s=e.match(gK))return PDe(s,l,c);if(e.match(/^#+0+$/))return c+rp(l,e.length-e.indexOf("0"));if(s=e.match(yK))return i=tO(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Is(s[1])).replace(/\.$/,"."+Is(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+jr("0",Is(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+tO(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+vu(rp(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+za(t,e,-n):vu(""+(Math.floor(n)+MDe(n,s[1].length)))+"."+Fo(nO(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return za(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Op(za(t,e.replace(/[\\-]/g,""),n)),a=0,Op(Op(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(xK))return i=za(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=zb(l,Math.pow(10,a)-1,!1),i=""+c,u=lc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=qb(o[2],a),u.length<s[4].length&&(u=Is(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=zb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?TI(o[1],a)+s[2]+"/"+s[3]+qb(o[2],a):jr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=rp(n,0),e.length<=i.length?i:Is(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return Is(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=nO(n,s[1].length),n<0?"-"+za(t,e,-n):vu(UDe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Fo(0,3-v.length):"")+v})+"."+Fo(a,s[1].length);switch(e){case"###,##0.00":return za(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=vu(rp(l,0));return p!=="0"?c+p:"";case"###,###.00":return za(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return za(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ODe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return lc(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function LDe(t,e,n){var r=e.replace(pK,""),i=e.length-r.length;return lc(t,r,n*Math.pow(10,2*i))+jr("%",i)}function bK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+bK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function il(t,e,n){if(t.charCodeAt(0)===40&&!e.match(vK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?il("n",r,n):"("+il("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return ODe(t,e,n);if(e.indexOf("%")!==-1)return LDe(t,e,n);if(e.indexOf("E")!==-1)return bK(e,n);if(e.charCodeAt(0)===36)return"$"+il(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Fo(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Is(e.substr(0,e.length-i.length))+i;if(s=e.match(gK))return FDe(s,l,c);if(e.match(/^#+0+$/))return c+Fo(l,e.length-e.indexOf("0"));if(s=e.match(yK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Is(s[1])).replace(/\.$/,"."+Is(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+jr("0",Is(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+vu(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+il(t,e,-n):vu(""+n)+"."+jr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return il(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Op(il(t,e.replace(/[\\-]/g,""),n)),a=0,Op(Op(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(xK))return i=il(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=zb(l,Math.pow(10,a)-1,!1),i=""+c,u=lc("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=qb(o[2],a),u.length<s[4].length&&(u=Is(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=zb(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?TI(o[1],a)+s[2]+"/"+s[3]+qb(o[2],a):jr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Is(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return Is(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+il(t,e,-n):vu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Fo(0,3-v.length):"")+v})+"."+Fo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=vu(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return il(t,e.slice(0,e.lastIndexOf(".")),n)+Is(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function lc(t,e,n){return(n|0)===n?il(t,e,n):za(t,e,n)}function jDe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var _K=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function eg(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":$b(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(_K))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function BDe(t,e,n,r){for(var i=[],s="",a=0,o="",l="t",c,u,f,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!$b(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=rf(e,n,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=rf(e,n),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=rf(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(_K)){if(c==null&&(c=rf(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",eg(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,_=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",y<1&&(y=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(_=Math.max(_,x[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",C;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=kDe(i[a].t.charCodeAt(0),i[a].v,c,_),i[a].t="t";break;case"n":case"?":for(C=a+1;i[C]!=null&&((o=i[C].t)==="?"||o==="D"||(o===" "||o==="t")&&i[C+1]!=null&&(i[C+1].t==="?"||i[C+1].t==="t"&&i[C+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[C].v==="/"||i[C].v===" "&&i[C+1]!=null&&i[C+1].t=="?"));)i[a].v+=i[C].v,i[C]={v:"",t:";"},++C;w+=i[a].v,a=C-1;break;case"G":i[a].t="t",i[a].v=Of(e,n);break}var D="",R,S;if(w.length>0){w.charCodeAt(0)==40?(R=e<0&&w.charCodeAt(0)===45?-e:e,S=lc("n",w,R)):(R=e<0&&r>1?-e:e,S=lc("n",w,R),R<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),C=S.length-1;var N=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){N=a;break}var k=i.length;if(N===i.length&&S.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(C>=i[a].v.length-1?(C-=i[a].v.length,i[a].v=S.substr(C+1,i[a].v.length)):C<0?i[a].v="":(i[a].v=S.substr(0,C+1),C=-1),i[a].t="t",k=a);C>=0&&k<i.length&&(i[k].v=S.substr(0,C+1)+i[k].v)}else if(N!==i.length&&S.indexOf("E")===-1){for(C=S.indexOf(".")-1,a=N;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")-1:i[a].v.length-1,D=i[a].v.substr(u+1);u>=0;--u)C>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(D=S.charAt(C--)+D);i[a].v=D,i[a].t="t",k=a}for(C>=0&&k<i.length&&(i[k].v=S.substr(0,C+1)+i[k].v),C=S.indexOf(".")+1,a=N;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==N)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")+1:0,D=i[a].v.substr(0,u);u<i[a].v.length;++u)C<S.length&&(D+=S.charAt(C++));i[a].v=D,i[a].t="t",k=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(R=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=lc(i[a].t,i[a].v,R),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var rO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function iO(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function VDe(t,e){var n=jDe(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(rO),o=n[1].match(rO);return iO(e,a)?[r,n[0]]:iO(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function ao(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:zt)[t],r==null&&(r=n.table&&n.table[eO[t]]||zt[eO[t]]),r==null&&(r=TDe[t]||"General");break}if($b(r,0))return Of(e,n);e instanceof Date&&(e=hK(e,n.date1904));var i=VDe(r,e);if($b(i[1]))return Of(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return BDe(i[1],e,n,i[0])}function cc(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(zt[n]==null){e<0&&(e=n);continue}if(zt[n]==t){e=n;break}}e<0&&(e=391)}return zt[e]=t,e}function Pw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&cc(t[e],e)}function tg(){zt=wDe()}var WDe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},wK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function qDe(t){var e=typeof t=="number"?zt[t]:t;return e=e.replace(wK,"(\\d+)"),new RegExp("^"+e+"$")}function $De(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(wK)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var zDe=(function(){var t={};t.version="1.2.0";function e(){for(var S=0,N=new Array(256),k=0;k!=256;++k)S=k,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,N[k]=S;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(S){var N=0,k=0,F=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)P[F]=S[F];for(F=0;F!=256;++F)for(k=S[F],N=256+F;N<4096;N+=256)k=P[N]=k>>>8^S[k&255];var I=[];for(F=1;F!=16;++F)I[F-1]=typeof Int32Array<"u"?P.subarray(F*256,F*256+256):P.slice(F*256,F*256+256);return I}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],v=i[9],g=i[10],y=i[11],_=i[12],x=i[13],w=i[14];function C(S,N){for(var k=N^-1,F=0,P=S.length;F<P;)k=k>>>8^n[(k^S.charCodeAt(F++))&255];return~k}function D(S,N){for(var k=N^-1,F=S.length-15,P=0;P<F;)k=w[S[P++]^k&255]^x[S[P++]^k>>8&255]^_[S[P++]^k>>16&255]^y[S[P++]^k>>>24]^g[S[P++]]^v[S[P++]]^p[S[P++]]^h[S[P++]]^f[S[P++]]^u[S[P++]]^c[S[P++]]^l[S[P++]]^o[S[P++]]^a[S[P++]]^s[S[P++]]^n[S[P++]];for(F+=15;P<F;)k=k>>>8^n[(k^S[P++])&255];return~k}function R(S,N){for(var k=N^-1,F=0,P=S.length,I=0,U=0;F<P;)I=S.charCodeAt(F++),I<128?k=k>>>8^n[(k^I)&255]:I<2048?(k=k>>>8^n[(k^(192|I>>6&31))&255],k=k>>>8^n[(k^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,U=S.charCodeAt(F++)&1023,k=k>>>8^n[(k^(240|I>>8&7))&255],k=k>>>8^n[(k^(128|I>>2&63))&255],k=k>>>8^n[(k^(128|U>>6&15|(I&3)<<4))&255],k=k>>>8^n[(k^(128|U&63))&255]):(k=k>>>8^n[(k^(224|I>>12&15))&255],k=k>>>8^n[(k^(128|I>>6&63))&255],k=k>>>8^n[(k^(128|I&63))&255]);return~k}return t.table=n,t.bstr=C,t.buf=D,t.str=R,t})(),Bt=(function(){var e={};e.version="1.2.1";function n(ue,Se){for(var ge=ue.split("/"),Te=Se.split("/"),De=0,Ie=0,We=Math.min(ge.length,Te.length);De<We;++De){if(Ie=ge[De].length-Te[De].length)return Ie;if(ge[De]!=Te[De])return ge[De]<Te[De]?-1:1}return ge.length-Te.length}function r(ue){if(ue.charAt(ue.length-1)=="/")return ue.slice(0,-1).indexOf("/")===-1?ue:r(ue.slice(0,-1));var Se=ue.lastIndexOf("/");return Se===-1?ue:ue.slice(0,Se+1)}function i(ue){if(ue.charAt(ue.length-1)=="/")return i(ue.slice(0,-1));var Se=ue.lastIndexOf("/");return Se===-1?ue:ue.slice(Se+1)}function s(ue,Se){typeof Se=="string"&&(Se=new Date(Se));var ge=Se.getHours();ge=ge<<6|Se.getMinutes(),ge=ge<<5|Se.getSeconds()>>>1,ue.write_shift(2,ge);var Te=Se.getFullYear()-1980;Te=Te<<4|Se.getMonth()+1,Te=Te<<5|Se.getDate(),ue.write_shift(2,Te)}function a(ue){var Se=ue.read_shift(2)&65535,ge=ue.read_shift(2)&65535,Te=new Date,De=ge&31;ge>>>=5;var Ie=ge&15;ge>>>=4,Te.setMilliseconds(0),Te.setFullYear(ge+1980),Te.setMonth(Ie-1),Te.setDate(De);var We=Se&31;Se>>>=5;var Qe=Se&63;return Se>>>=6,Te.setHours(Se),Te.setMinutes(Qe),Te.setSeconds(We<<1),Te}function o(ue){Xi(ue,0);for(var Se={},ge=0;ue.l<=ue.length-4;){var Te=ue.read_shift(2),De=ue.read_shift(2),Ie=ue.l+De,We={};switch(Te){case 21589:ge=ue.read_shift(1),ge&1&&(We.mtime=ue.read_shift(4)),De>5&&(ge&2&&(We.atime=ue.read_shift(4)),ge&4&&(We.ctime=ue.read_shift(4))),We.mtime&&(We.mt=new Date(We.mtime*1e3));break}ue.l=Ie,Se[Te]=We}return Se}var l;function c(){return l||(l={})}function u(ue,Se){if(ue[0]==80&&ue[1]==75)return Xn(ue,Se);if((ue[0]|32)==109&&(ue[1]|32)==105)return on(ue,Se);if(ue.length<512)throw new Error("CFB file size "+ue.length+" < 512");var ge=3,Te=512,De=0,Ie=0,We=0,Qe=0,Be=0,qe=[],$e=ue.slice(0,512);Xi($e,0);var ot=f($e);switch(ge=ot[0],ge){case 3:Te=512;break;case 4:Te=4096;break;case 0:if(ot[1]==0)return Xn(ue,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+ge)}Te!==512&&($e=ue.slice(0,Te),Xi($e,28));var gt=ue.slice(0,Te);h($e,ge);var Et=$e.read_shift(4,"i");if(ge===3&&Et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Et);$e.l+=4,We=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),Qe=$e.read_shift(4,"i"),De=$e.read_shift(4,"i"),Be=$e.read_shift(4,"i"),Ie=$e.read_shift(4,"i");for(var yt=-1,ht=0;ht<109&&(yt=$e.read_shift(4,"i"),!(yt<0));++ht)qe[ht]=yt;var Jt=p(ue,Te);y(Be,Ie,Jt,Te,qe);var Fn=x(Jt,We,qe,Te);Fn[We].name="!Directory",De>0&&Qe!==U&&(Fn[Qe].name="!MiniFAT"),Fn[qe[0]].name="!FAT",Fn.fat_addrs=qe,Fn.ssz=Te;var Sn={},Vn=[],uo=[],zo=[];w(We,Fn,Jt,Vn,De,Sn,uo,Qe),v(uo,zo,Vn),Vn.shift();var da={FileIndex:uo,FullPaths:zo};return Se&&Se.raw&&(da.raw={header:gt,sectors:Jt}),da}function f(ue){if(ue[ue.l]==80&&ue[ue.l+1]==75)return[0,0];ue.chk(O,"Header Signature: "),ue.l+=16;var Se=ue.read_shift(2,"u");return[ue.read_shift(2,"u"),Se]}function h(ue,Se){var ge=9;switch(ue.l+=2,ge=ue.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+ge);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+ge);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ge)}ue.chk("0600","Mini Sector Shift: "),ue.chk("000000000000","Reserved: ")}function p(ue,Se){for(var ge=Math.ceil(ue.length/Se)-1,Te=[],De=1;De<ge;++De)Te[De-1]=ue.slice(De*Se,(De+1)*Se);return Te[ge-1]=ue.slice(ge*Se),Te}function v(ue,Se,ge){for(var Te=0,De=0,Ie=0,We=0,Qe=0,Be=ge.length,qe=[],$e=[];Te<Be;++Te)qe[Te]=$e[Te]=Te,Se[Te]=ge[Te];for(;Qe<$e.length;++Qe)Te=$e[Qe],De=ue[Te].L,Ie=ue[Te].R,We=ue[Te].C,qe[Te]===Te&&(De!==-1&&qe[De]!==De&&(qe[Te]=qe[De]),Ie!==-1&&qe[Ie]!==Ie&&(qe[Te]=qe[Ie])),We!==-1&&(qe[We]=Te),De!==-1&&Te!=qe[Te]&&(qe[De]=qe[Te],$e.lastIndexOf(De)<Qe&&$e.push(De)),Ie!==-1&&Te!=qe[Te]&&(qe[Ie]=qe[Te],$e.lastIndexOf(Ie)<Qe&&$e.push(Ie));for(Te=1;Te<Be;++Te)qe[Te]===Te&&(Ie!==-1&&qe[Ie]!==Ie?qe[Te]=qe[Ie]:De!==-1&&qe[De]!==De&&(qe[Te]=qe[De]));for(Te=1;Te<Be;++Te)if(ue[Te].type!==0){if(Qe=Te,Qe!=qe[Qe])do Qe=qe[Qe],Se[Te]=Se[Qe]+"/"+Se[Te];while(Qe!==0&&qe[Qe]!==-1&&Qe!=qe[Qe]);qe[Te]=-1}for(Se[0]+="/",Te=1;Te<Be;++Te)ue[Te].type!==2&&(Se[Te]+="/")}function g(ue,Se,ge){for(var Te=ue.start,De=ue.size,Ie=[],We=Te;ge&&De>0&&We>=0;)Ie.push(Se.slice(We*I,We*I+I)),De-=I,We=Hd(ge,We*4);return Ie.length===0?nt(0):Li(Ie).slice(0,ue.size)}function y(ue,Se,ge,Te,De){var Ie=U;if(ue===U){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(ue!==-1){var We=ge[ue],Qe=(Te>>>2)-1;if(!We)return;for(var Be=0;Be<Qe&&(Ie=Hd(We,Be*4))!==U;++Be)De.push(Ie);y(Hd(We,Te-4),Se-1,ge,Te,De)}}function _(ue,Se,ge,Te,De){var Ie=[],We=[];De||(De=[]);var Qe=Te-1,Be=0,qe=0;for(Be=Se;Be>=0;){De[Be]=!0,Ie[Ie.length]=Be,We.push(ue[Be]);var $e=ge[Math.floor(Be*4/Te)];if(qe=Be*4&Qe,Te<4+qe)throw new Error("FAT boundary crossed: "+Be+" 4 "+Te);if(!ue[$e])break;Be=Hd(ue[$e],qe)}return{nodes:Ie,data:gO([We])}}function x(ue,Se,ge,Te){var De=ue.length,Ie=[],We=[],Qe=[],Be=[],qe=Te-1,$e=0,ot=0,gt=0,Et=0;for($e=0;$e<De;++$e)if(Qe=[],gt=$e+Se,gt>=De&&(gt-=De),!We[gt]){Be=[];var yt=[];for(ot=gt;ot>=0;){yt[ot]=!0,We[ot]=!0,Qe[Qe.length]=ot,Be.push(ue[ot]);var ht=ge[Math.floor(ot*4/Te)];if(Et=ot*4&qe,Te<4+Et)throw new Error("FAT boundary crossed: "+ot+" 4 "+Te);if(!ue[ht]||(ot=Hd(ue[ht],Et),yt[ot]))break}Ie[gt]={nodes:Qe,data:gO([Be])}}return Ie}function w(ue,Se,ge,Te,De,Ie,We,Qe){for(var Be=0,qe=Te.length?2:0,$e=Se[ue].data,ot=0,gt=0,Et;ot<$e.length;ot+=128){var yt=$e.slice(ot,ot+128);Xi(yt,64),gt=yt.read_shift(2),Et=II(yt,0,gt-qe),Te.push(Et);var ht={name:Et,type:yt.read_shift(1),color:yt.read_shift(1),L:yt.read_shift(4,"i"),R:yt.read_shift(4,"i"),C:yt.read_shift(4,"i"),clsid:yt.read_shift(16),state:yt.read_shift(4,"i"),start:0,size:0},Jt=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Jt!==0&&(ht.ct=C(yt,yt.l-8));var Fn=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Fn!==0&&(ht.mt=C(yt,yt.l-8)),ht.start=yt.read_shift(4,"i"),ht.size=yt.read_shift(4,"i"),ht.size<0&&ht.start<0&&(ht.size=ht.type=0,ht.start=U,ht.name=""),ht.type===5?(Be=ht.start,De>0&&Be!==U&&(Se[Be].name="!StreamData")):ht.size>=4096?(ht.storage="fat",Se[ht.start]===void 0&&(Se[ht.start]=_(ge,ht.start,Se.fat_addrs,Se.ssz)),Se[ht.start].name=ht.name,ht.content=Se[ht.start].data.slice(0,ht.size)):(ht.storage="minifat",ht.size<0?ht.size=0:Be!==U&&ht.start!==U&&Se[Be]&&(ht.content=g(ht,Se[Be].data,(Se[Qe]||{}).data))),ht.content&&Xi(ht.content,0),Ie[Et]=ht,We.push(ht)}}function C(ue,Se){return new Date((_a(ue,Se+4)/1e7*Math.pow(2,32)+_a(ue,Se)/1e7-11644473600)*1e3)}function D(ue,Se){return c(),u(l.readFileSync(ue),Se)}function R(ue,Se){var ge=Se&&Se.type;switch(ge||dn&&Buffer.isBuffer(ue)&&(ge="buffer"),ge||"base64"){case"file":return D(ue,Se);case"base64":return u(wa(ka(ue)),Se);case"binary":return u(wa(ue),Se)}return u(ue,Se)}function S(ue,Se){var ge=Se||{},Te=ge.root||"Root Entry";if(ue.FullPaths||(ue.FullPaths=[]),ue.FileIndex||(ue.FileIndex=[]),ue.FullPaths.length!==ue.FileIndex.length)throw new Error("inconsistent CFB structure");ue.FullPaths.length===0&&(ue.FullPaths[0]=Te+"/",ue.FileIndex[0]={name:Te,type:5}),ge.CLSID&&(ue.FileIndex[0].clsid=ge.CLSID),N(ue)}function N(ue){var Se="Sh33tJ5";if(!Bt.find(ue,"/"+Se)){var ge=nt(4);ge[0]=55,ge[1]=ge[3]=50,ge[2]=54,ue.FileIndex.push({name:Se,type:2,content:ge,size:4,L:69,R:69,C:69}),ue.FullPaths.push(ue.FullPaths[0]+Se),k(ue)}}function k(ue,Se){S(ue);for(var ge=!1,Te=!1,De=ue.FullPaths.length-1;De>=0;--De){var Ie=ue.FileIndex[De];switch(Ie.type){case 0:Te?ge=!0:(ue.FileIndex.pop(),ue.FullPaths.pop());break;case 1:case 2:case 5:Te=!0,isNaN(Ie.R*Ie.L*Ie.C)&&(ge=!0),Ie.R>-1&&Ie.L>-1&&Ie.R==Ie.L&&(ge=!0);break;default:ge=!0;break}}if(!(!ge&&!Se)){var We=new Date(1987,1,19),Qe=0,Be=Object.create?Object.create(null):{},qe=[];for(De=0;De<ue.FullPaths.length;++De)Be[ue.FullPaths[De]]=!0,ue.FileIndex[De].type!==0&&qe.push([ue.FullPaths[De],ue.FileIndex[De]]);for(De=0;De<qe.length;++De){var $e=r(qe[De][0]);Te=Be[$e],Te||(qe.push([$e,{name:i($e).replace("/",""),type:1,clsid:K,ct:We,mt:We,content:null}]),Be[$e]=!0)}for(qe.sort(function(Et,yt){return n(Et[0],yt[0])}),ue.FullPaths=[],ue.FileIndex=[],De=0;De<qe.length;++De)ue.FullPaths[De]=qe[De][0],ue.FileIndex[De]=qe[De][1];for(De=0;De<qe.length;++De){var ot=ue.FileIndex[De],gt=ue.FullPaths[De];if(ot.name=i(gt).replace("/",""),ot.L=ot.R=ot.C=-(ot.color=1),ot.size=ot.content?ot.content.length:0,ot.start=0,ot.clsid=ot.clsid||K,De===0)ot.C=qe.length>1?1:-1,ot.size=0,ot.type=5;else if(gt.slice(-1)=="/"){for(Qe=De+1;Qe<qe.length&&r(ue.FullPaths[Qe])!=gt;++Qe);for(ot.C=Qe>=qe.length?-1:Qe,Qe=De+1;Qe<qe.length&&r(ue.FullPaths[Qe])!=r(gt);++Qe);ot.R=Qe>=qe.length?-1:Qe,ot.type=1}else r(ue.FullPaths[De+1]||"")==r(gt)&&(ot.R=De+1),ot.type=2}}}function F(ue,Se){var ge=Se||{};if(ge.fileType=="mad")return nn(ue,ge);switch(k(ue),ge.fileType){case"zip":return Cn(ue,ge)}var Te=(function(Et){for(var yt=0,ht=0,Jt=0;Jt<Et.FileIndex.length;++Jt){var Fn=Et.FileIndex[Jt];if(Fn.content){var Sn=Fn.content.length;Sn>0&&(Sn<4096?yt+=Sn+63>>6:ht+=Sn+511>>9)}}for(var Vn=Et.FullPaths.length+3>>2,uo=yt+7>>3,zo=yt+127>>7,da=uo+ht+Vn+zo,Xr=da+127>>7,Pc=Xr<=109?0:Math.ceil((Xr-109)/127);da+Xr+Pc+127>>7>Xr;)Pc=++Xr<=109?0:Math.ceil((Xr-109)/127);var cr=[1,Pc,Xr,zo,Vn,ht,yt,0];return Et.FileIndex[0].size=yt<<6,cr[7]=(Et.FileIndex[0].start=cr[0]+cr[1]+cr[2]+cr[3]+cr[4]+cr[5])+(cr[6]+7>>3),cr})(ue),De=nt(Te[7]<<9),Ie=0,We=0;{for(Ie=0;Ie<8;++Ie)De.write_shift(1,G[Ie]);for(Ie=0;Ie<8;++Ie)De.write_shift(2,0);for(De.write_shift(2,62),De.write_shift(2,3),De.write_shift(2,65534),De.write_shift(2,9),De.write_shift(2,6),Ie=0;Ie<3;++Ie)De.write_shift(2,0);for(De.write_shift(4,0),De.write_shift(4,Te[2]),De.write_shift(4,Te[0]+Te[1]+Te[2]+Te[3]-1),De.write_shift(4,0),De.write_shift(4,4096),De.write_shift(4,Te[3]?Te[0]+Te[1]+Te[2]-1:U),De.write_shift(4,Te[3]),De.write_shift(-4,Te[1]?Te[0]-1:U),De.write_shift(4,Te[1]),Ie=0;Ie<109;++Ie)De.write_shift(-4,Ie<Te[2]?Te[1]+Ie:-1)}if(Te[1])for(We=0;We<Te[1];++We){for(;Ie<236+We*127;++Ie)De.write_shift(-4,Ie<Te[2]?Te[1]+Ie:-1);De.write_shift(-4,We===Te[1]-1?U:We+1)}var Qe=function(Et){for(We+=Et;Ie<We-1;++Ie)De.write_shift(-4,Ie+1);Et&&(++Ie,De.write_shift(-4,U))};for(We=Ie=0,We+=Te[1];Ie<We;++Ie)De.write_shift(-4,J.DIFSECT);for(We+=Te[2];Ie<We;++Ie)De.write_shift(-4,J.FATSECT);Qe(Te[3]),Qe(Te[4]);for(var Be=0,qe=0,$e=ue.FileIndex[0];Be<ue.FileIndex.length;++Be)$e=ue.FileIndex[Be],$e.content&&(qe=$e.content.length,!(qe<4096)&&($e.start=We,Qe(qe+511>>9)));for(Qe(Te[6]+7>>3);De.l&511;)De.write_shift(-4,J.ENDOFCHAIN);for(We=Ie=0,Be=0;Be<ue.FileIndex.length;++Be)$e=ue.FileIndex[Be],$e.content&&(qe=$e.content.length,!(!qe||qe>=4096)&&($e.start=We,Qe(qe+63>>6)));for(;De.l&511;)De.write_shift(-4,J.ENDOFCHAIN);for(Ie=0;Ie<Te[4]<<2;++Ie){var ot=ue.FullPaths[Ie];if(!ot||ot.length===0){for(Be=0;Be<17;++Be)De.write_shift(4,0);for(Be=0;Be<3;++Be)De.write_shift(4,-1);for(Be=0;Be<12;++Be)De.write_shift(4,0);continue}$e=ue.FileIndex[Ie],Ie===0&&($e.start=$e.size?$e.start-1:U);var gt=Ie===0&&ge.root||$e.name;if(qe=2*(gt.length+1),De.write_shift(64,gt,"utf16le"),De.write_shift(2,qe),De.write_shift(1,$e.type),De.write_shift(1,$e.color),De.write_shift(-4,$e.L),De.write_shift(-4,$e.R),De.write_shift(-4,$e.C),$e.clsid)De.write_shift(16,$e.clsid,"hex");else for(Be=0;Be<4;++Be)De.write_shift(4,0);De.write_shift(4,$e.state||0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,$e.start),De.write_shift(4,$e.size),De.write_shift(4,0)}for(Ie=1;Ie<ue.FileIndex.length;++Ie)if($e=ue.FileIndex[Ie],$e.size>=4096)if(De.l=$e.start+1<<9,dn&&Buffer.isBuffer($e.content))$e.content.copy(De,De.l,0,$e.size),De.l+=$e.size+511&-512;else{for(Be=0;Be<$e.size;++Be)De.write_shift(1,$e.content[Be]);for(;Be&511;++Be)De.write_shift(1,0)}for(Ie=1;Ie<ue.FileIndex.length;++Ie)if($e=ue.FileIndex[Ie],$e.size>0&&$e.size<4096)if(dn&&Buffer.isBuffer($e.content))$e.content.copy(De,De.l,0,$e.size),De.l+=$e.size+63&-64;else{for(Be=0;Be<$e.size;++Be)De.write_shift(1,$e.content[Be]);for(;Be&63;++Be)De.write_shift(1,0)}if(dn)De.l=De.length;else for(;De.l<De.length;)De.write_shift(1,0);return De}function P(ue,Se){var ge=ue.FullPaths.map(function(Be){return Be.toUpperCase()}),Te=ge.map(function(Be){var qe=Be.split("/");return qe[qe.length-(Be.slice(-1)=="/"?2:1)]}),De=!1;Se.charCodeAt(0)===47?(De=!0,Se=ge[0].slice(0,-1)+Se):De=Se.indexOf("/")!==-1;var Ie=Se.toUpperCase(),We=De===!0?ge.indexOf(Ie):Te.indexOf(Ie);if(We!==-1)return ue.FileIndex[We];var Qe=!Ie.match(C0);for(Ie=Ie.replace(Os,""),Qe&&(Ie=Ie.replace(C0,"!")),We=0;We<ge.length;++We)if((Qe?ge[We].replace(C0,"!"):ge[We]).replace(Os,"")==Ie||(Qe?Te[We].replace(C0,"!"):Te[We]).replace(Os,"")==Ie)return ue.FileIndex[We];return null}var I=64,U=-2,O="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:O,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(ue,Se,ge){c();var Te=F(ue,ge);l.writeFileSync(Se,Te)}function z(ue){for(var Se=new Array(ue.length),ge=0;ge<ue.length;++ge)Se[ge]=String.fromCharCode(ue[ge]);return Se.join("")}function Y(ue,Se){var ge=F(ue,Se);switch(Se&&Se.type||"buffer"){case"file":return c(),l.writeFileSync(Se.filename,ge),ge;case"binary":return typeof ge=="string"?ge:z(ge);case"base64":return zy(typeof ge=="string"?ge:z(ge));case"buffer":if(dn)return Buffer.isBuffer(ge)?ge:kc(ge);case"array":return typeof ge=="string"?wa(ge):ge}return ge}var B;function j(ue){try{var Se=ue.InflateRaw,ge=new Se;if(ge._processChunk(new Uint8Array([3,0]),ge._finishFlushFlag),ge.bytesRead)B=ue;else throw new Error("zlib does not expose bytesRead")}catch(Te){console.error("cannot use native zlib: "+(Te.message||Te))}}function q(ue,Se){if(!B)return Zn(ue,Se);var ge=B.InflateRaw,Te=new ge,De=Te._processChunk(ue.slice(ue.l),Te._finishFlushFlag);return ue.l+=Te.bytesRead,De}function X(ue){return B?B.deflateRawSync(ue):Oe(ue)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(ue){var Se=(ue<<1|ue<<11)&139536|(ue<<5|ue<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var fe=typeof Uint8Array<"u",Ne=fe?new Uint8Array(256):[],Re=0;Re<256;++Re)Ne[Re]=de(Re);function me(ue,Se){var ge=Ne[ue&255];return Se<=8?ge>>>8-Se:(ge=ge<<8|Ne[ue>>8&255],Se<=16?ge>>>16-Se:(ge=ge<<8|Ne[ue>>16&255],ge>>>24-Se))}function Le(ue,Se){var ge=Se&7,Te=Se>>>3;return(ue[Te]|(ge<=6?0:ue[Te+1]<<8))>>>ge&3}function V(ue,Se){var ge=Se&7,Te=Se>>>3;return(ue[Te]|(ge<=5?0:ue[Te+1]<<8))>>>ge&7}function ve(ue,Se){var ge=Se&7,Te=Se>>>3;return(ue[Te]|(ge<=4?0:ue[Te+1]<<8))>>>ge&15}function we(ue,Se){var ge=Se&7,Te=Se>>>3;return(ue[Te]|(ge<=3?0:ue[Te+1]<<8))>>>ge&31}function oe(ue,Se){var ge=Se&7,Te=Se>>>3;return(ue[Te]|(ge<=1?0:ue[Te+1]<<8))>>>ge&127}function re(ue,Se,ge){var Te=Se&7,De=Se>>>3,Ie=(1<<ge)-1,We=ue[De]>>>Te;return ge<8-Te||(We|=ue[De+1]<<8-Te,ge<16-Te)||(We|=ue[De+2]<<16-Te,ge<24-Te)||(We|=ue[De+3]<<24-Te),We&Ie}function le(ue,Se,ge){var Te=Se&7,De=Se>>>3;return Te<=5?ue[De]|=(ge&7)<<Te:(ue[De]|=ge<<Te&255,ue[De+1]=(ge&7)>>8-Te),Se+3}function he(ue,Se,ge){var Te=Se&7,De=Se>>>3;return ge=(ge&1)<<Te,ue[De]|=ge,Se+1}function _e(ue,Se,ge){var Te=Se&7,De=Se>>>3;return ge<<=Te,ue[De]|=ge&255,ge>>>=8,ue[De+1]=ge,Se+8}function ie(ue,Se,ge){var Te=Se&7,De=Se>>>3;return ge<<=Te,ue[De]|=ge&255,ge>>>=8,ue[De+1]=ge&255,ue[De+2]=ge>>>8,Se+16}function ce(ue,Se){var ge=ue.length,Te=2*ge>Se?2*ge:Se+5,De=0;if(ge>=Se)return ue;if(dn){var Ie=YU(Te);if(ue.copy)ue.copy(Ie);else for(;De<ue.length;++De)Ie[De]=ue[De];return Ie}else if(fe){var We=new Uint8Array(Te);if(We.set)We.set(ue);else for(;De<ge;++De)We[De]=ue[De];return We}return ue.length=Te,ue}function ye(ue){for(var Se=new Array(ue),ge=0;ge<ue;++ge)Se[ge]=0;return Se}function xe(ue,Se,ge){var Te=1,De=0,Ie=0,We=0,Qe=0,Be=ue.length,qe=fe?new Uint16Array(32):ye(32);for(Ie=0;Ie<32;++Ie)qe[Ie]=0;for(Ie=Be;Ie<ge;++Ie)ue[Ie]=0;Be=ue.length;var $e=fe?new Uint16Array(Be):ye(Be);for(Ie=0;Ie<Be;++Ie)qe[De=ue[Ie]]++,Te<De&&(Te=De),$e[Ie]=0;for(qe[0]=0,Ie=1;Ie<=Te;++Ie)qe[Ie+16]=Qe=Qe+qe[Ie-1]<<1;for(Ie=0;Ie<Be;++Ie)Qe=ue[Ie],Qe!=0&&($e[Ie]=qe[Qe+16]++);var ot=0;for(Ie=0;Ie<Be;++Ie)if(ot=ue[Ie],ot!=0)for(Qe=me($e[Ie],Te)>>Te-ot,We=(1<<Te+4-ot)-1;We>=0;--We)Se[Qe|We<<ot]=ot&15|Ie<<4;return Te}var ke=fe?new Uint16Array(512):ye(512),Ue=fe?new Uint16Array(32):ye(32);if(!fe){for(var Ce=0;Ce<512;++Ce)ke[Ce]=0;for(Ce=0;Ce<32;++Ce)Ue[Ce]=0}(function(){for(var ue=[],Se=0;Se<32;Se++)ue.push(5);xe(ue,Ue,32);var ge=[];for(Se=0;Se<=143;Se++)ge.push(8);for(;Se<=255;Se++)ge.push(9);for(;Se<=279;Se++)ge.push(7);for(;Se<=287;Se++)ge.push(8);xe(ge,ke,288)})();var Me=(function(){for(var Se=fe?new Uint8Array(32768):[],ge=0,Te=0;ge<ae.length-1;++ge)for(;Te<ae[ge+1];++Te)Se[Te]=ge;for(;Te<32768;++Te)Se[Te]=29;var De=fe?new Uint8Array(259):[];for(ge=0,Te=0;ge<ee.length-1;++ge)for(;Te<ee[ge+1];++Te)De[Te]=ge;function Ie(Qe,Be){for(var qe=0;qe<Qe.length;){var $e=Math.min(65535,Qe.length-qe),ot=qe+$e==Qe.length;for(Be.write_shift(1,+ot),Be.write_shift(2,$e),Be.write_shift(2,~$e&65535);$e-- >0;)Be[Be.l++]=Qe[qe++]}return Be.l}function We(Qe,Be){for(var qe=0,$e=0,ot=fe?new Uint16Array(32768):[];$e<Qe.length;){var gt=Math.min(65535,Qe.length-$e);if(gt<10){for(qe=le(Be,qe,+($e+gt==Qe.length)),qe&7&&(qe+=8-(qe&7)),Be.l=qe/8|0,Be.write_shift(2,gt),Be.write_shift(2,~gt&65535);gt-- >0;)Be[Be.l++]=Qe[$e++];qe=Be.l*8;continue}qe=le(Be,qe,+($e+gt==Qe.length)+2);for(var Et=0;gt-- >0;){var yt=Qe[$e];Et=(Et<<5^yt)&32767;var ht=-1,Jt=0;if((ht=ot[Et])&&(ht|=$e&-32768,ht>$e&&(ht-=32768),ht<$e))for(;Qe[ht+Jt]==Qe[$e+Jt]&&Jt<250;)++Jt;if(Jt>2){yt=De[Jt],yt<=22?qe=_e(Be,qe,Ne[yt+1]>>1)-1:(_e(Be,qe,3),qe+=5,_e(Be,qe,Ne[yt-23]>>5),qe+=3);var Fn=yt<8?0:yt-4>>2;Fn>0&&(ie(Be,qe,Jt-ee[yt]),qe+=Fn),yt=Se[$e-ht],qe=_e(Be,qe,Ne[yt]>>3),qe-=3;var Sn=yt<4?0:yt-2>>1;Sn>0&&(ie(Be,qe,$e-ht-ae[yt]),qe+=Sn);for(var Vn=0;Vn<Jt;++Vn)ot[Et]=$e&32767,Et=(Et<<5^Qe[$e])&32767,++$e;gt-=Jt-1}else yt<=143?yt=yt+48:qe=he(Be,qe,1),qe=_e(Be,qe,Ne[yt]),ot[Et]=$e&32767,++$e}qe=_e(Be,qe,0)-1}return Be.l=(qe+7)/8|0,Be.l}return function(Be,qe){return Be.length<8?Ie(Be,qe):We(Be,qe)}})();function Oe(ue){var Se=nt(50+Math.floor(ue.length*1.1)),ge=Me(ue,Se);return Se.slice(0,ge)}var Ke=fe?new Uint16Array(32768):ye(32768),rt=fe?new Uint16Array(32768):ye(32768),it=fe?new Uint16Array(128):ye(128),Ot=1,xn=1;function ln(ue,Se){var ge=we(ue,Se)+257;Se+=5;var Te=we(ue,Se)+1;Se+=5;var De=ve(ue,Se)+4;Se+=4;for(var Ie=0,We=fe?new Uint8Array(19):ye(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,qe=fe?new Uint8Array(8):ye(8),$e=fe?new Uint8Array(8):ye(8),ot=We.length,gt=0;gt<De;++gt)We[Q[gt]]=Ie=V(ue,Se),Be<Ie&&(Be=Ie),qe[Ie]++,Se+=3;var Et=0;for(qe[0]=0,gt=1;gt<=Be;++gt)$e[gt]=Et=Et+qe[gt-1]<<1;for(gt=0;gt<ot;++gt)(Et=We[gt])!=0&&(Qe[gt]=$e[Et]++);var yt=0;for(gt=0;gt<ot;++gt)if(yt=We[gt],yt!=0){Et=Ne[Qe[gt]]>>8-yt;for(var ht=(1<<7-yt)-1;ht>=0;--ht)it[Et|ht<<yt]=yt&7|gt<<3}var Jt=[];for(Be=1;Jt.length<ge+Te;)switch(Et=it[oe(ue,Se)],Se+=Et&7,Et>>>=3){case 16:for(Ie=3+Le(ue,Se),Se+=2,Et=Jt[Jt.length-1];Ie-- >0;)Jt.push(Et);break;case 17:for(Ie=3+V(ue,Se),Se+=3;Ie-- >0;)Jt.push(0);break;case 18:for(Ie=11+oe(ue,Se),Se+=7;Ie-- >0;)Jt.push(0);break;default:Jt.push(Et),Be<Et&&(Be=Et);break}var Fn=Jt.slice(0,ge),Sn=Jt.slice(ge);for(gt=ge;gt<286;++gt)Fn[gt]=0;for(gt=Te;gt<30;++gt)Sn[gt]=0;return Ot=xe(Fn,Ke,286),xn=xe(Sn,rt,30),Se}function Ar(ue,Se){if(ue[0]==3&&!(ue[1]&3))return[qu(Se),2];for(var ge=0,Te=0,De=YU(Se||1<<18),Ie=0,We=De.length>>>0,Qe=0,Be=0;(Te&1)==0;){if(Te=V(ue,ge),ge+=3,Te>>>1)Te>>1==1?(Qe=9,Be=5):(ge=ln(ue,ge),Qe=Ot,Be=xn);else{ge&7&&(ge+=8-(ge&7));var qe=ue[ge>>>3]|ue[(ge>>>3)+1]<<8;if(ge+=32,qe>0)for(!Se&&We<Ie+qe&&(De=ce(De,Ie+qe),We=De.length);qe-- >0;)De[Ie++]=ue[ge>>>3],ge+=8;continue}for(;;){!Se&&We<Ie+32767&&(De=ce(De,Ie+32767),We=De.length);var $e=re(ue,ge,Qe),ot=Te>>>1==1?ke[$e]:Ke[$e];if(ge+=ot&15,ot>>>=4,(ot>>>8&255)===0)De[Ie++]=ot;else{if(ot==256)break;ot-=257;var gt=ot<8?0:ot-4>>2;gt>5&&(gt=0);var Et=Ie+ee[ot];gt>0&&(Et+=re(ue,ge,gt),ge+=gt),$e=re(ue,ge,Be),ot=Te>>>1==1?Ue[$e]:rt[$e],ge+=ot&15,ot>>>=4;var yt=ot<4?0:ot-2>>1,ht=ae[ot];for(yt>0&&(ht+=re(ue,ge,yt),ge+=yt),!Se&&We<Et&&(De=ce(De,Et+100),We=De.length);Ie<Et;)De[Ie]=De[Ie-ht],++Ie}}}return Se?[De,ge+7>>>3]:[De.slice(0,Ie),ge+7>>>3]}function Zn(ue,Se){var ge=ue.slice(ue.l||0),Te=Ar(ge,Se);return ue.l+=Te[1],Te[0]}function Bn(ue,Se){if(ue)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function Xn(ue,Se){var ge=ue;Xi(ge,0);var Te=[],De=[],Ie={FileIndex:Te,FullPaths:De};S(Ie,{root:Se.root});for(var We=ge.length-4;(ge[We]!=80||ge[We+1]!=75||ge[We+2]!=5||ge[We+3]!=6)&&We>=0;)--We;ge.l=We+4,ge.l+=4;var Qe=ge.read_shift(2);ge.l+=6;var Be=ge.read_shift(4);for(ge.l=Be,We=0;We<Qe;++We){ge.l+=20;var qe=ge.read_shift(4),$e=ge.read_shift(4),ot=ge.read_shift(2),gt=ge.read_shift(2),Et=ge.read_shift(2);ge.l+=8;var yt=ge.read_shift(4),ht=o(ge.slice(ge.l+ot,ge.l+ot+gt));ge.l+=ot+gt+Et;var Jt=ge.l;ge.l=yt+4,Gt(ge,qe,$e,Ie,ht),ge.l=Jt}return Ie}function Gt(ue,Se,ge,Te,De){ue.l+=2;var Ie=ue.read_shift(2),We=ue.read_shift(2),Qe=a(ue);if(Ie&8257)throw new Error("Unsupported ZIP encryption");for(var Be=ue.read_shift(4),qe=ue.read_shift(4),$e=ue.read_shift(4),ot=ue.read_shift(2),gt=ue.read_shift(2),Et="",yt=0;yt<ot;++yt)Et+=String.fromCharCode(ue[ue.l++]);if(gt){var ht=o(ue.slice(ue.l,ue.l+gt));(ht[21589]||{}).mt&&(Qe=ht[21589].mt),((De||{})[21589]||{}).mt&&(Qe=De[21589].mt)}ue.l+=gt;var Jt=ue.slice(ue.l,ue.l+qe);switch(We){case 8:Jt=q(ue,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+We)}var Fn=!1;Ie&8&&(Be=ue.read_shift(4),Be==134695760&&(Be=ue.read_shift(4),Fn=!0),qe=ue.read_shift(4),$e=ue.read_shift(4)),qe!=Se&&Bn(Fn,"Bad compressed size: "+Se+" != "+qe),$e!=ge&&Bn(Fn,"Bad uncompressed size: "+ge+" != "+$e),Pn(Te,Et,Jt,{unsafe:!0,mt:Qe})}function Cn(ue,Se){var ge=Se||{},Te=[],De=[],Ie=nt(1),We=ge.compression?8:0,Qe=0,Be=0,qe=0,$e=0,ot=0,gt=ue.FullPaths[0],Et=gt,yt=ue.FileIndex[0],ht=[],Jt=0;for(Be=1;Be<ue.FullPaths.length;++Be)if(Et=ue.FullPaths[Be].slice(gt.length),yt=ue.FileIndex[Be],!(!yt.size||!yt.content||Et=="Sh33tJ5")){var Fn=$e,Sn=nt(Et.length);for(qe=0;qe<Et.length;++qe)Sn.write_shift(1,Et.charCodeAt(qe)&127);Sn=Sn.slice(0,Sn.l),ht[ot]=zDe.buf(yt.content,0);var Vn=yt.content;We==8&&(Vn=X(Vn)),Ie=nt(30),Ie.write_shift(4,67324752),Ie.write_shift(2,20),Ie.write_shift(2,Qe),Ie.write_shift(2,We),yt.mt?s(Ie,yt.mt):Ie.write_shift(4,0),Ie.write_shift(-4,ht[ot]),Ie.write_shift(4,Vn.length),Ie.write_shift(4,yt.content.length),Ie.write_shift(2,Sn.length),Ie.write_shift(2,0),$e+=Ie.length,Te.push(Ie),$e+=Sn.length,Te.push(Sn),$e+=Vn.length,Te.push(Vn),Ie=nt(46),Ie.write_shift(4,33639248),Ie.write_shift(2,0),Ie.write_shift(2,20),Ie.write_shift(2,Qe),Ie.write_shift(2,We),Ie.write_shift(4,0),Ie.write_shift(-4,ht[ot]),Ie.write_shift(4,Vn.length),Ie.write_shift(4,yt.content.length),Ie.write_shift(2,Sn.length),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(4,0),Ie.write_shift(4,Fn),Jt+=Ie.l,De.push(Ie),Jt+=Sn.length,De.push(Sn),++ot}return Ie=nt(22),Ie.write_shift(4,101010256),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,ot),Ie.write_shift(2,ot),Ie.write_shift(4,Jt),Ie.write_shift(4,$e),Ie.write_shift(2,0),Li([Li(Te),Li(De),Ie])}var pe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ee(ue,Se){if(ue.ctype)return ue.ctype;var ge=ue.name||"",Te=ge.match(/\.([^\.]+)$/);return Te&&pe[Te[1]]||Se&&(Te=(ge=Se).match(/[\.\\]([^\.\\])+$/),Te&&pe[Te[1]])?pe[Te[1]]:"application/octet-stream"}function Fe(ue){for(var Se=zy(ue),ge=[],Te=0;Te<Se.length;Te+=76)ge.push(Se.slice(Te,Te+76));return ge.join(`\r
`)+`\r
`}function Je(ue){var Se=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var $e=qe.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ge=[],Te=Se.split(`\r
`),De=0;De<Te.length;++De){var Ie=Te[De];if(Ie.length==0){ge.push("");continue}for(var We=0;We<Ie.length;){var Qe=76,Be=Ie.slice(We,We+Qe);Be.charAt(Qe-1)=="="?Qe--:Be.charAt(Qe-2)=="="?Qe-=2:Be.charAt(Qe-3)=="="&&(Qe-=3),Be=Ie.slice(We,We+Qe),We+=Qe,We<Ie.length&&(Be+="="),ge.push(Be)}}return ge.join(`\r
`)}function lt(ue){for(var Se=[],ge=0;ge<ue.length;++ge){for(var Te=ue[ge];ge<=ue.length&&Te.charAt(Te.length-1)=="=";)Te=Te.slice(0,Te.length-1)+ue[++ge];Se.push(Te)}for(var De=0;De<Se.length;++De)Se[De]=Se[De].replace(/[=][0-9A-Fa-f]{2}/g,function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))});return wa(Se.join(`\r
`))}function kt(ue,Se,ge){for(var Te="",De="",Ie="",We,Qe=0;Qe<10;++Qe){var Be=Se[Qe];if(!Be||Be.match(/^\s*$/))break;var qe=Be.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":Te=qe[2].trim();break;case"content-type":Ie=qe[2].trim();break;case"content-transfer-encoding":De=qe[2].trim();break}}switch(++Qe,De.toLowerCase()){case"base64":We=wa(ka(Se.slice(Qe).join("")));break;case"quoted-printable":We=lt(Se.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+De)}var $e=Pn(ue,Te.slice(ge.length),We,{unsafe:!0});Ie&&($e.ctype=Ie)}function on(ue,Se){if(z(ue.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ge=Se&&Se.root||"",Te=(dn&&Buffer.isBuffer(ue)?ue.toString("binary"):z(ue)).split(`\r
`),De=0,Ie="";for(De=0;De<Te.length;++De)if(Ie=Te[De],!!/^Content-Location:/i.test(Ie)&&(Ie=Ie.slice(Ie.indexOf("file")),ge||(ge=Ie.slice(0,Ie.lastIndexOf("/")+1)),Ie.slice(0,ge.length)!=ge))for(;ge.length>0&&(ge=ge.slice(0,ge.length-1),ge=ge.slice(0,ge.lastIndexOf("/")+1),Ie.slice(0,ge.length)!=ge););var We=(Te[1]||"").match(/boundary="(.*?)"/);if(!We)throw new Error("MAD cannot find boundary");var Qe="--"+(We[1]||""),Be=[],qe=[],$e={FileIndex:Be,FullPaths:qe};S($e);var ot,gt=0;for(De=0;De<Te.length;++De){var Et=Te[De];Et!==Qe&&Et!==Qe+"--"||(gt++&&kt($e,Te.slice(ot,De),ge),ot=De)}return $e}function nn(ue,Se){var ge=Se||{},Te=ge.boundary||"SheetJS";Te="------="+Te;for(var De=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Te.slice(2)+'"',"","",""],Ie=ue.FullPaths[0],We=Ie,Qe=ue.FileIndex[0],Be=1;Be<ue.FullPaths.length;++Be)if(We=ue.FullPaths[Be].slice(Ie.length),Qe=ue.FileIndex[Be],!(!Qe.size||!Qe.content||We=="Sh33tJ5")){We=We.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Jt){return"_x"+Jt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Jt){return"_u"+Jt.charCodeAt(0).toString(16)+"_"});for(var qe=Qe.content,$e=dn&&Buffer.isBuffer(qe)?qe.toString("binary"):z(qe),ot=0,gt=Math.min(1024,$e.length),Et=0,yt=0;yt<=gt;++yt)(Et=$e.charCodeAt(yt))>=32&&Et<128&&++ot;var ht=ot>=gt*4/5;De.push(Te),De.push("Content-Location: "+(ge.root||"file:///C:/SheetJS/")+We),De.push("Content-Transfer-Encoding: "+(ht?"quoted-printable":"base64")),De.push("Content-Type: "+Ee(Qe,We)),De.push(""),De.push(ht?Je($e):Fe($e))}return De.push(Te+`--\r
`),De.join(`\r
`)}function nr(ue){var Se={};return S(Se,ue),Se}function Pn(ue,Se,ge,Te){var De=Te&&Te.unsafe;De||S(ue);var Ie=!De&&Bt.find(ue,Se);if(!Ie){var We=ue.FullPaths[0];Se.slice(0,We.length)==We?We=Se:(We.slice(-1)!="/"&&(We+="/"),We=(We+Se).replace("//","/")),Ie={name:i(Se),type:2},ue.FileIndex.push(Ie),ue.FullPaths.push(We),De||Bt.utils.cfb_gc(ue)}return Ie.content=ge,Ie.size=ge?ge.length:0,Te&&(Te.CLSID&&(Ie.clsid=Te.CLSID),Te.mt&&(Ie.mt=Te.mt),Te.ct&&(Ie.ct=Te.ct)),Ie}function Kr(ue,Se){S(ue);var ge=Bt.find(ue,Se);if(ge){for(var Te=0;Te<ue.FileIndex.length;++Te)if(ue.FileIndex[Te]==ge)return ue.FileIndex.splice(Te,1),ue.FullPaths.splice(Te,1),!0}return!1}function Ye(ue,Se,ge){S(ue);var Te=Bt.find(ue,Se);if(Te){for(var De=0;De<ue.FileIndex.length;++De)if(ue.FileIndex[De]==Te)return ue.FileIndex[De].name=i(ge),ue.FullPaths[De]=ge,!0}return!1}function dt(ue){k(ue,!0)}return e.find=P,e.read=R,e.parse=u,e.write=Y,e.writeFile=te,e.utils={cfb_new:nr,cfb_add:Pn,cfb_del:Kr,cfb_mov:Ye,cfb_gc:dt,ReadShift:Q0,CheckField:$K,prep_blob:Xi,bconcat:Li,use_zlib:j,_deflateRaw:Oe,_inflateRaw:Zn,consts:J},e})();function HDe(t){return typeof t=="string"?Rw(t):Array.isArray(t)?vDe(t):t}function Gv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Rw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?vl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([HDe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=sd(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function GDe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function $r(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function sO(t,e){for(var n=[],r=$r(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Fw(t){for(var e=[],n=$r(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Mw(t){for(var e=[],n=$r(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function KDe(t){for(var e=[],n=$r(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var Hb=new Date(1899,11,30,0,0,0);function _i(t,e){var n=t.getTime(),r=Hb.getTime()+(t.getTimezoneOffset()-Hb.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var TK=new Date,XDe=Hb.getTime()+(TK.getTimezoneOffset()-Hb.getTimezoneOffset())*6e4,aO=TK.getTimezoneOffset();function Uw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+XDe),e.getTimezoneOffset()!==aO&&e.setTime(e.getTime()+(e.getTimezoneOffset()-aO)*6e4),e}function JDe(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var oO=new Date("2017-02-19T19:06:09.000Z"),EK=isNaN(oO.getFullYear())?new Date("2/19/17"):oO,YDe=EK.getFullYear()==2017;function yr(t,e){var n=new Date(t);if(YDe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(EK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Lf(t,e){if(dn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return vl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return vl(dK(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return vl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return vl(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function vr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=vr(t[n]));return e}function jr(t,e){for(var n="";n.length<e;)n+=t;return n}function Lo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var QDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function bm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&QDe.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var ZDe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function CK(t){return t?t.content&&t.type?Lf(t.content,!0):t.data?E0(t.data):t.asNodeBuffer&&dn?E0(t.asNodeBuffer().toString("binary")):t.asBinary?E0(t.asBinary()):t._data&&t._data.getContent?E0(Lf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function SK(t){if(!t)return null;if(t.data)return XU(t.data);if(t.asNodeBuffer&&dn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?XU(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function e4e(t){return t&&t.name.slice(-4)===".bin"?SK(t):CK(t)}function Ka(t,e){for(var n=t.FullPaths||$r(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function CI(t,e){var n=Ka(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function ci(t,e,n){if(!n)return e4e(CI(t,e));if(!e)return null;try{return ci(t,e)}catch{return null}}function Ta(t,e,n){if(!n)return CK(CI(t,e));if(!e)return null;try{return Ta(t,e)}catch{return null}}function t4e(t,e,n){return SK(CI(t,e))}function lO(t){for(var e=t.FullPaths||$r(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function an(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return dn?r=kc(n):r=xDe(n),Bt.utils.cfb_add(t,e,r)}Bt.utils.cfb_add(t,e,n)}else t.file(e,n)}function SI(){return Bt.utils.cfb_new()}function DK(t,e){switch(e.type){case"base64":return Bt.read(t,{type:"base64"});case"binary":return Bt.read(t,{type:"binary"});case"buffer":case"array":return Bt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function S0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var ri=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,n4e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,cO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,r4e=/<[^>]*>/g,Es=ri.match(cO)?cO:r4e,i4e=/<\w*:/,s4e=/<(\/?)\w+:/;function Yt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match(n4e),o=0,l="",c=0,u="",f="",h=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[p]&&u.slice(o-3,o)=="ext")continue;r[p]=l,r[p.toLowerCase()]=l}}return r}function Pl(t){return t.replace(s4e,"<$1")}var AK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},DI=Fw(AK),Tn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return AK[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),AI=/[&<>'"]/g,a4e=/[\u0000-\u0008\u000b-\u001f]/g;function Gn(t){var e=t+"";return e.replace(AI,function(n){return DI[n]}).replace(a4e,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function uO(t){return Gn(t).replace(/ /g,"_x0020_")}var NK=/[\u0000-\u001f]/g;function NI(t){var e=t+"";return e.replace(AI,function(n){return DI[n]}).replace(/\n/g,"<br/>").replace(NK,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function o4e(t){var e=t+"";return e.replace(AI,function(n){return DI[n]}).replace(NK,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var dO=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function l4e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function hr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function sD(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function fO(t){var e=qu(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function hO(t){return kc(t,"binary").toString("utf8")}var Mx="foo bar baz",Qn=dn&&(hO(Mx)==sD(Mx)&&hO||fO(Mx)==sD(Mx)&&fO)||sD,vl=dn?function(t){return kc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Gy=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),kK=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),c4e=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),u4e=/<\/?(?:vt:)?variant>/g,d4e=/<(?:vt:)([^>]*)>([\s\S]*)</;function pO(t,e){var n=Yt(t),r=t.match(c4e(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(u4e,"").match(d4e);a&&i.push({v:Qn(a[2]),t:a[1]})}),i}var IK=/(^\s|\s$|\n)/;function Yi(t,e){return"<"+t+(e.match(IK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Ky(t){return $r(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function bt(t,e,n){return"<"+t+(n!=null?Ky(n):"")+(e!=null?(e.match(IK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function rN(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function f4e(t,e){switch(typeof t){case"string":var n=bt("vt:lpwstr",Gn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return bt((t|0)==t?"vt:i4":"vt:r8",Gn(String(t)));case"boolean":return bt("vt:bool",t?"true":"false")}if(t instanceof Date)return bt("vt:filetime",rN(t));throw new Error("Unable to serialize "+t)}function kI(t){if(dn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Qn(sd(wI(t)));throw new Error("Bad input format: expected Buffer or string")}var Xy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,xi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ih=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ba={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function h4e(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function p4e(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var mO=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},gO=dn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:kc(e)})):mO(t)}:mO,yO=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(tc(t,i)));return r.join("").replace(Os,"")},II=dn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Os,""):yO(t,e,n)}:yO,vO=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},RK=dn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):vO(t,e,n)}:vO,xO=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(vp(t,i)));return r.join("")},Kv=dn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):xO(e,n,r)}:xO,PK=function(t,e){var n=_a(t,e);return n>0?Kv(t,e+4,e+4+n-1):""},FK=PK,MK=function(t,e){var n=_a(t,e);return n>0?Kv(t,e+4,e+4+n-1):""},UK=MK,OK=function(t,e){var n=2*_a(t,e);return n>0?Kv(t,e+4,e+4+n-1):""},LK=OK,jK=function(e,n){var r=_a(e,n);return r>0?II(e,n+4,n+4+r):""},BK=jK,VK=function(t,e){var n=_a(t,e);return n>0?Kv(t,e+4,e+4+n):""},WK=VK,qK=function(t,e){return h4e(t,e)},Gb=qK,RI=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};dn&&(FK=function(e,n){if(!Buffer.isBuffer(e))return PK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},UK=function(e,n){if(!Buffer.isBuffer(e))return MK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},LK=function(e,n){if(!Buffer.isBuffer(e))return OK(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},BK=function(e,n){if(!Buffer.isBuffer(e))return jK(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},WK=function(e,n){if(!Buffer.isBuffer(e))return VK(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Gb=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):qK(e,n)},RI=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var vp=function(t,e){return t[e]},tc=function(t,e){return t[e+1]*256+t[e]},m4e=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},_a=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Hd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},g4e=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Q0(t,e){var n="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,dn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(tc(this,c)),c+=2;t*=2;break;case"utf8":n=Kv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=II(this,this.l,this.l+t);break;case"wstr":return Q0.call(this,t,"dbcs");case"lpstr-ansi":n=FK(this,this.l),t=4+_a(this,this.l);break;case"lpstr-cp":n=UK(this,this.l),t=4+_a(this,this.l);break;case"lpwstr":n=LK(this,this.l),t=4+2*_a(this,this.l);break;case"lpp4":t=4+_a(this,this.l),n=BK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+_a(this,this.l),n=WK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=vp(this,this.l+t++))!==0;)s.push(Fx(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=tc(this,this.l+t))!==0;)s.push(Fx(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=vp(this,c),this.l=c+1,o=Q0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Fx(tc(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=vp(this,c),this.l=c+1,o=Q0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Fx(vp(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=vp(this,this.l),this.l++,r;case 2:return r=(e==="i"?m4e:tc)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Hd:g4e)(this,this.l),this.l+=4,r):(i=_a(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Gb(this,this.l):i=Gb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=RK(this,this.l,t);break}}return this.l+=t,n}var y4e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},v4e=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},x4e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function b4e(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)x4e(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,y4e(this,e,this.l);break;case 8:if(r=8,n==="f"){p4e(this,e,this.l);break}case 16:break;case-4:r=4,v4e(this,e,this.l);break}return this.l+=r,this}function $K(t,e){var n=RK(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Xi(t,e){t.l=e,t.read_shift=Q0,t.chk=$K,t.write_shift=b4e}function _s(t,e){t.l+=e}function nt(t){var e=qu(t);return Xi(e,0),e}function Ic(t,e,n){if(t){var r,i,s;Xi(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=tv[o]||tv[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,n);if(t.l=l,e(u,c,o))return}}}function ia(){var t=[],e=dn?256:2048,n=function(c){var u=nt(c);return Xi(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},a=function(){return i(),Li(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function at(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=tv[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&RI(n)&&t.push(n)}}function Z0(t,e,n){var r=vr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function bO(t,e,n){var r=vr(t);return r.s=Z0(r.s,e.s,n),r.e=Z0(r.e,e.s,n),r}function ey(t,e){if(t.cRel&&t.c<0)for(t=vr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=vr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Xt(t);return!t.cRel&&t.cRel!=null&&(n=T4e(n)),!t.rRel&&t.rRel!=null&&(n=_4e(n)),n}function aD(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Rr(t.s.c)+":"+(t.e.cRel?"":"$")+Rr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ti(t.s.r)+":"+(t.e.rRel?"":"$")+ti(t.e.r):ey(t.s,e.biff)+":"+ey(t.e,e.biff)}function PI(t){return parseInt(w4e(t),10)-1}function ti(t){return""+(t+1)}function _4e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function w4e(t){return t.replace(/\$(\d+)$/,"$1")}function FI(t){for(var e=E4e(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Rr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function T4e(t){return t.replace(/^([A-Z])/,"$$$1")}function E4e(t){return t.replace(/^\$([A-Z])/,"$1")}function C4e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Pr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Xt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function sa(t){var e=t.indexOf(":");return e==-1?{s:Pr(t),e:Pr(t)}:{s:Pr(t.slice(0,e)),e:Pr(t.slice(e+1))}}function sn(t,e){return typeof e>"u"||typeof e=="number"?sn(t.s,t.e):(typeof t!="string"&&(t=Xt(t)),typeof e!="string"&&(e=Xt(e)),t==e?t:t+":"+e)}function En(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function _O(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ao(t.z,n?_i(e):e)}catch{}try{return t.w=ao((t.XF||{}).numFmtId||(n?14:0),n?_i(e):e)}catch{return""+e}}function xc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Rc[t.v]||t.v:e==null?_O(t,t.v):_O(t,e))}function ad(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function zK(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Pr(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=En(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=a+f,g=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||zt[14],r.cellDates?(p.t="d",p.w=ao(p.z,_i(p.v))):(p.t="n",p.v=_i(p.v),p.w=ao(p.z,p.v))):p.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(p.z=s[v][g].z),s[v][g]=p;else{var y=Xt({c:g,r:v});s[y]&&s[y].z&&(p.z=s[y].z),s[y]=p}}}return c.s.c<1e7&&(s["!ref"]=sn(c)),s}function ng(t,e){return zK(null,t,e)}function S4e(t){return t.read_shift(4,"i")}function jo(t,e){return e||(e=nt(4)),e.write_shift(4,t),e}function bs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function ji(t,e){var n=!1;return e==null&&(n=!0,e=nt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function D4e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function A4e(t,e){return e||(e=nt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function MI(t,e){var n=t.l,r=t.read_shift(1),i=bs(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(D4e(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function N4e(t,e){var n=!1;return e==null&&(n=!0,e=nt(15+4*t.t.length)),e.write_shift(1,0),ji(t.t,e),n?e.slice(0,e.l):e}var k4e=MI;function I4e(t,e){var n=!1;return e==null&&(n=!0,e=nt(23+4*t.t.length)),e.write_shift(1,1),ji(t.t,e),e.write_shift(4,1),A4e({},e),n?e.slice(0,e.l):e}function co(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function sh(t,e){return e==null&&(e=nt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function ah(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function oh(t,e){return e==null&&(e=nt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var R4e=bs,HK=ji;function UI(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Kb(t,e){var n=!1;return e==null&&(n=!0,e=nt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var P4e=bs,iN=UI,OI=Kb;function LI(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Gb([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Hd(e,0)>>2;return n?i/100:i}function GK(t,e){e==null&&(e=nt(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function KK(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function F4e(t,e){return e||(e=nt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var lh=KK,rg=F4e;function ps(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function jf(t,e){return(e||nt(8)).write_shift(8,t,"f")}function M4e(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=ff[i];c&&(e.rgb=Yy(c));break;case 2:e.rgb=Yy([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Xb(t,e){if(e||(e=nt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function U4e(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function O4e(t,e){e||(e=nt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function XK(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function L4e(t){return XK(t,1)}function j4e(t){return XK(t,2)}var jI=2,Xs=3,Ux=11,wO=12,Jb=19,Ox=64,B4e=65,V4e=71,W4e=4108,q4e=4126,Pi=80,JK=81,$4e=[Pi,JK],sN={1:{n:"CodePage",t:jI},2:{n:"Category",t:Pi},3:{n:"PresentationFormat",t:Pi},4:{n:"ByteCount",t:Xs},5:{n:"LineCount",t:Xs},6:{n:"ParagraphCount",t:Xs},7:{n:"SlideCount",t:Xs},8:{n:"NoteCount",t:Xs},9:{n:"HiddenCount",t:Xs},10:{n:"MultimediaClipCount",t:Xs},11:{n:"ScaleCrop",t:Ux},12:{n:"HeadingPairs",t:W4e},13:{n:"TitlesOfParts",t:q4e},14:{n:"Manager",t:Pi},15:{n:"Company",t:Pi},16:{n:"LinksUpToDate",t:Ux},17:{n:"CharacterCount",t:Xs},19:{n:"SharedDoc",t:Ux},22:{n:"HyperlinksChanged",t:Ux},23:{n:"AppVersion",t:Xs,p:"version"},24:{n:"DigSig",t:B4e},26:{n:"ContentType",t:Pi},27:{n:"ContentStatus",t:Pi},28:{n:"Language",t:Pi},29:{n:"Version",t:Pi},255:{},2147483648:{n:"Locale",t:Jb},2147483651:{n:"Behavior",t:Jb},1919054434:{}},aN={1:{n:"CodePage",t:jI},2:{n:"Title",t:Pi},3:{n:"Subject",t:Pi},4:{n:"Author",t:Pi},5:{n:"Keywords",t:Pi},6:{n:"Comments",t:Pi},7:{n:"Template",t:Pi},8:{n:"LastAuthor",t:Pi},9:{n:"RevNumber",t:Pi},10:{n:"EditTime",t:Ox},11:{n:"LastPrinted",t:Ox},12:{n:"CreatedDate",t:Ox},13:{n:"ModifiedDate",t:Ox},14:{n:"PageCount",t:Xs},15:{n:"WordCount",t:Xs},16:{n:"CharCount",t:Xs},17:{n:"Thumbnail",t:V4e},18:{n:"Application",t:Pi},19:{n:"DocSecurity",t:Xs},255:{},2147483648:{n:"Locale",t:Jb},2147483651:{n:"Behavior",t:Jb},1919054434:{}},TO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},z4e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function H4e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var G4e=H4e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ff=vr(G4e),Rc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},YK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},oN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Lx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function BI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function K4e(t){var e=BI();if(!t||!t.match)return e;var n={};if((t.match(Es)||[]).forEach(function(r){var i=Yt(r);switch(i[0].replace(i4e,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[oN[i.ContentType]]!==void 0&&e[oN[i.ContentType]].push(i.PartName);break}}),e.xmlns!==xi.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function QK(t,e){var n=KDe(oN),r=[],i;r[r.length]=ri,r[r.length]=bt("Types",null,{xmlns:xi.CT,"xmlns:xsd":xi.xsd,"xmlns:xsi":xi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return bt("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=bt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Lx[l][e.bookType]||Lx[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=bt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Lx[l][e.bookType]||Lx[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=bt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var hn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Jy(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ty(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Es)||[]).forEach(function(i){var s=Yt(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:S0(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}function Lp(t){var e=[ri,bt("Relationships",null,{xmlns:xi.RELS})];return $r(t["!id"]).forEach(function(n){e[e.length]=bt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function zn(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[hn.HLINK,hn.XPATH,hn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var X4e="application/vnd.oasis.opendocument.spreadsheet";function J4e(t,e){for(var n=kI(t),r,i;r=Xy.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Yt(r[0],!1),i.path=="/"&&i.type!==X4e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function Y4e(t){var e=[ri];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function EO(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Q4e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Z4e(t){var e=[ri];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(EO(t[n][0],t[n][1])),e.push(Q4e("",t[n][0]));return e.push(EO("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function ZK(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Wb.version+"</meta:generator></office:meta></office:document-meta>"}var no=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],eAe=(function(){for(var t=new Array(no.length),e=0;e<no.length;++e){var n=no[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function eX(t){var e={};t=Qn(t);for(var n=0;n<no.length;++n){var r=no[n],i=t.match(eAe[n]);i!=null&&i.length>0&&(e[r[1]]=Tn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=yr(e[r[1]]))}return e}function oD(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Gn(e),r[r.length]=n?bt(t,e,n):Yi(t,e))}function tX(t,e){var n=e||{},r=[ri,bt("cp:coreProperties",null,{"xmlns:cp":xi.CORE_PROPS,"xmlns:dc":xi.dc,"xmlns:dcterms":xi.dcterms,"xmlns:dcmitype":xi.dcmitype,"xmlns:xsi":xi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&oD("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:rN(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&oD("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:rN(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=no.length;++s){var a=no[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&oD(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var hf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],nX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function rX(t,e,n,r){var i=[];if(typeof t=="string")i=pO(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?pO(e,r).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function tAe(t,e,n){var r={};return e||(e={}),t=Qn(t),hf.forEach(function(i){var s=(t.match(Gy(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Tn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&rX(r.HeadingPairs,r.TitlesOfParts,e,n),e}function iX(t){var e=[],n=bt;return t||(t={}),t.Application="SheetJS",e[e.length]=ri,e[e.length]=bt("Properties",null,{xmlns:xi.EXT_PROPS,"xmlns:vt":xi.vt}),hf.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Gn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Gn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var nAe=/<[^>]+>[^<]*/g;function rAe(t,e){var n={},r="",i=t.match(nAe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Yt(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Tn(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Tn(u);break;case"bool":n[r]=hr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=yr(u);break;case"cy":case"error":n[r]=Tn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}function sX(t){var e=[ri,bt("Properties",null,{xmlns:xi.CUST_PROPS,"xmlns:vt":xi.vt})];if(!t)return e.join("");var n=1;return $r(t).forEach(function(i){++n,e[e.length]=bt("property",f4e(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Gn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var lN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},lD;function iAe(t,e,n){lD||(lD=Fw(lN)),e=lD[e]||e,t[e]=n}function sAe(t,e){var n=[];return $r(lN).map(function(r){for(var i=0;i<no.length;++i)if(no[i][1]==r)return no[i];for(i=0;i<hf.length;++i)if(hf[i][1]==r)return hf[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Yi(lN[r[1]]||r[1],i))}}),bt("DocumentProperties",n.join(""),{xmlns:ba.o})}function aAe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&$r(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<no.length;++a)if(s==no[a][1])return;for(a=0;a<hf.length;++a)if(s==hf[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(bt(uO(s),o,{"dt:dt":l}))}}),e&&$r(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(bt(uO(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+ba.o+'">'+i.join("")+"</"+r+">"}function VI(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function oAe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=nt(8);return a.write_shift(4,r),a.write_shift(4,i),a}function aX(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function oX(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function lX(t,e,n){return e===31?oX(t):aX(t,e,n)}function cN(t,e,n){return lX(t,e,n===!1?0:4)}function lAe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return lX(t,e,0)}function cAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Os,""),t.l-i&2&&(t.l+=2)}return n}function uAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Os,"");return n}function dAe(t){var e=t.l,n=Yb(t,JK);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=Yb(t,Xs);return[n,r]}function fAe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(dAe(t));return n}function CO(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Os,"").replace(C0,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function cX(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function hAe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Yb(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==wO&&r!==e&&$4e.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===wO?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return aX(t,r,4).replace(Os,"");case 31:return oX(t);case 64:return VI(t);case 65:return cX(t);case 71:return hAe(t);case 80:return cN(t,r,!s.raw).replace(Os,"");case 81:return lAe(t,r).replace(Os,"");case 4108:return fAe(t);case 4126:case 4127:return r==4127?cAe(t):uAe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function SO(t,e){var n=nt(4),r=nt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=nt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=oAe(e);break;case 31:case 80:for(r=nt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Li([n,r])}function DO(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),f=t.read_shift(4);s[a]=[u,f+n]}s.sort(function(x,w){return x[1]-w[1]});var h={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var p=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,p=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(p=!1,t.l=s[a][1]),p)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var v=e[s[a][0]];if(h[v.n]=Yb(t,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Po(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[a][0]===1){if(o=h.CodePage=Yb(t,jI),Po(o),l!==-1){var g=t.l;t.l=s[l][1],c=CO(t,o),t.l=g}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=CO(t,o)}else{var y=c[s[a][0]],_;switch(t[t.l]){case 65:t.l+=4,_=cX(t);break;case 30:t.l+=4,_=cN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,_=cN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,_=t.read_shift(4,"i");break;case 19:t.l+=4,_=t.read_shift(4);break;case 5:t.l+=4,_=t.read_shift(8,"f");break;case 11:t.l+=4,_=Yr(t,4);break;case 64:t.l+=4,_=yr(VI(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[y]=_}}return t.l=n+r,h}var uX=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pAe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function AO(t,e,n){var r=nt(8),i=[],s=[],a=8,o=0,l=nt(8),c=nt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=nt(8),c.write_shift(4,0),i.unshift(c);var u=[nt(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=nt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Li(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(uX.indexOf(t[o][0])>-1||nX.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],p=0;if(e){p=+e[t[o][0]];var v=n[p];if(v.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=SO(v.t,h)}else{var y=pAe(h);y==-1&&(y=31,h=String(h)),l=SO(y,h)}s.push(l),c=nt(8),c.write_shift(4,e?p:2+o),i.push(c),a+=8+l.length}var _=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,_),_+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Li([r].concat(i).concat(s))}function NO(t,e,n){var r=t.content;if(!r)return{};Xi(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Bt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=DO(r,e),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var v;try{v=DO(r,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[s,a],h}function kO(t,e,n,r,i,s){var a=nt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Bt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=AO(t,n,r);if(o.push(l),i){var c=AO(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Li(o)}function ou(t,e){return t.read_shift(e),null}function mAe(t,e){e||(e=nt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function gAe(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Yr(t,e){return t.read_shift(e)===1}function Rs(t,e){return e||(e=nt(2)),e.write_shift(2,+!!t),e}function ui(t){return t.read_shift(2,"u")}function Xa(t,e){return e||(e=nt(2)),e.write_shift(2,t),e}function dX(t,e){return gAe(t,e,ui)}function yAe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function fX(t,e,n){return n||(n=nt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Xv(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function vAe(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,l={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),r&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function xAe(t){var e=t.t||"",n=nt(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=nt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Li(i)}function Bf(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Jv(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Bf(t,r,n)}function ch(t,e,n){if(n.biff>5)return Jv(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function hX(t,e,n){return n||(n=nt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function bAe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function _Ae(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Os,"");return r&&(t.l+=24),i}function wAe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Os,"");return n+a}function TAe(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return _Ae(t);case"0303000000000000c000000000000046":return wAe(t);default:throw new Error("Unsupported Moniker "+n)}}function jx(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Os,""):"";return n}function IO(t,e){e||(e=nt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function EAe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,f;i&16&&(s=jx(t,n-t.l)),i&128&&(a=jx(t,n-t.l)),(i&257)===257&&(o=jx(t,n-t.l)),(i&257)===1&&(l=TAe(t,n-t.l)),i&8&&(c=jx(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=VI(t)),t.l=n;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function CAe(t){var e=nt(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),IO(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&IO(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function pX(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function mX(t,e){var n=pX(t);return n[3]=0,n}function Fl(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function Vf(t,e,n,r){return r||(r=nt(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function SAe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function DAe(t,e,n){return e===0?"":ch(t,e,n)}function AAe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function gX(t){var e=t.read_shift(2),n=LI(t);return[e,n]}function NAe(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=Xv(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Ow(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function yX(t,e){return e||(e=nt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function vX(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var kAe=vX;function xX(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function IAe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function RAe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function os(t){t.l+=2,t.l+=t.read_shift(2)}var PAe={0:os,4:os,5:os,6:os,7:RAe,8:os,9:os,10:os,11:os,12:os,13:IAe,14:os,15:os,16:os,17:os,18:os,19:os,20:os,21:xX};function FAe(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(PAe[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Bx(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function WI(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=nt(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function MAe(t,e){return e===0||t.read_shift(2),1200}function UAe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=ch(t,0,n);return t.read_shift(e+r-t.l),i}function OAe(t,e){var n=!e||e.biff==8,r=nt(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function LAe(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function jAe(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Xv(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function BAe(t,e){var n=!e||e.biff>=8?2:1,r=nt(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function VAe(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(vAe(t));return s.Count=r,s.Unique=i,s}function WAe(t,e){var n=nt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=xAe(t[i]);var s=Li([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function qAe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function $Ae(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function zAe(t){var e=SAe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function HAe(t){return t.read_shift(2),t.read_shift(4)}function RO(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function GAe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function KAe(){var t=nt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function XAe(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function JAe(t){var e=nt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function YAe(){}function QAe(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Xv(t,0,n),r}function ZAe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=nt(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function eNe(t){var e=Fl(t);return e.isst=t.read_shift(4),e}function tNe(t,e,n,r){var i=nt(10);return Vf(t,e,r,i),i.write_shift(4,n),i}function nNe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Fl(t);n.biff==2&&t.l++;var s=Jv(t,r-t.l,n);return i.val=s,i}function rNe(t,e,n,r,i){var s=!i||i.biff==8,a=nt(8+ +s+(1+s)*n.length);return Vf(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function iNe(t,e,n){var r=t.read_shift(2),i=ch(t,0,n);return[r,i]}function sNe(t,e,n,r){var i=n&&n.biff==5;r||(r=nt(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var aNe=ch;function PO(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function oNe(t,e){var n=e.biff==8||!e.biff?4:2,r=nt(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function lNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=gX(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function cNe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(gX(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function uNe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function dNe(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=z4e[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function fNe(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=dNe(t,e,r.fStyle,n),r}function FO(t,e,n,r){var i=n&&n.biff==5;r||(r=nt(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function hNe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function pNe(t){var e=nt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function MO(t,e,n){var r=Fl(t);(n.biff==2||e==9)&&++t.l;var i=yAe(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function mNe(t,e,n,r,i,s){var a=nt(8);return Vf(t,e,r,a),fX(n,s,a),a}function gNe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Fl(t),i=ps(t);return r.val=i,r}function yNe(t,e,n,r){var i=nt(14);return Vf(t,e,r,i),jf(n,i),i}var UO=DAe;function vNe(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Bf(t,s),o=[];r>t.l;)o.push(Jv(t));return[s,i,a,o]}function OO(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=NAe(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var xNe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function LO(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Bf(t,a,n);i&32&&(c=xNe[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||o===0||!(u>0)?[]:F6e(t,u,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function bX(t,e,n){if(n.biff<8)return bNe(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(AAe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function bNe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Xv(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function _Ne(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Bf(t,r,n),a=Bf(t,i,n);return[s,a]}function wNe(t,e,n){var r=vX(t);t.l++;var i=t.read_shift(1);return e-=8,[M6e(t,e,n),i,r]}function jO(t,e,n){var r=kAe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,R6e(t,e,n)]}function TNe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function ENe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=ch(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function CNe(t,e,n){return ENe(t,e,n)}function SNe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Ow(t));return n}function DNe(t){var e=nt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)yX(t[n],e);return e}function ANe(t,e,n){if(n&&n.biff<8)return kNe(t,e,n);var r=xX(t),i=FAe(t,e-22,r[1]);return{cmo:r,ft:i}}var NNe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function kNe(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((NNe[r]||_s)(t,e,n)),{cmo:[i,r,s],ft:a}}function INe(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=bAe(t,6,n);var o=t.read_shift(2);t.read_shift(2),ui(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=Bf(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function RNe(t,e){var n=Ow(t);t.l+=16;var r=EAe(t,e-24);return[n,r]}function PNe(t){var e=nt(24),n=Pr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Li([e,CAe(t[1])])}function FNe(t,e){t.read_shift(2);var n=Ow(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Os,""),[n,r]}function MNe(t){var e=t[1].Tooltip,n=nt(10+2*(e.length+1));n.write_shift(2,2048);var r=Pr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function UNe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=TO[n]||n,n=t.read_shift(2),e[1]=TO[n]||n,e}function ONe(t){return t||(t=nt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function LNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(mX(t));return n}function jNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(mX(t));return n}function BNe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function _X(t,e,n){if(!n.cellStyles)return _s(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function VNe(t,e){var n=nt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function WNe(t,e){var n={};return e<32||(t.l+=16,n.header=ps(t),n.footer=ps(t),t.l+=2),n}function qNe(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function $Ne(t){for(var e=nt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var zNe=Fl,HNe=dX,GNe=Jv;function KNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function XNe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Fl(t);++t.l;var i=ch(t,e-7,n);return r.t="str",r.val=i,r}function JNe(t){var e=Fl(t);++t.l;var n=ps(t);return e.t="n",e.val=n,e}function YNe(t,e,n){var r=nt(15);return e1(r,t,e),r.write_shift(8,n,"f"),r}function QNe(t){var e=Fl(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function ZNe(t,e,n){var r=nt(9);return e1(r,t,e),r.write_shift(2,n),r}function e3e(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function t3e(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function n3e(t,e,n){var r=t.l+e,i=Fl(t),s=t.read_shift(2),a=Bf(t,s,n);return t.l=r,i.t="str",i.val=a,i}var r3e=[2,3,48,49,131,139,140,245],uN=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Fw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=qu(1);switch(l.type){case"base64":u=wa(ka(o));break;case"binary":u=wa(o);break;case"buffer":case"array":u=o;break}Xi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=u.read_shift(2));var _=u.read_shift(2),x=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(x=t[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var w=[],C={},D=Math.min(u.length,f==2?521:y-10-(p?264:0)),R=v?32:11;u.l<D&&u[u.l]!=13;)switch(C={},C.name=$y.utils.decode(x,u.slice(u.l,u.l+R)).replace(/[\u0000\r\n].*$/g,""),u.l+=R,C.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(C.offset=u.read_shift(4)),C.len=u.read_shift(1),f==2&&(C.offset=u.read_shift(2)),C.dec=u.read_shift(1),C.name.length&&w.push(C),f!=2&&(u.l+=v?13:14),C.type){case"B":(!p||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var S=0,N=0;for(c[0]=[],N=0;N!=w.length;++N)c[0][N]=w[N].name;for(;g-- >0;){if(u[u.l]===42){u.l+=_;continue}for(++u.l,c[++S]=[],N=0,N=0;N!=w.length;++N){var k=u.slice(u.l,u.l+w[N].len);u.l+=w[N].len,Xi(k,0);var F=$y.utils.decode(x,k);switch(w[N].type){case"C":F.trim().length&&(c[S][N]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[S][N]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[S][N]=F;break;case"F":c[S][N]=parseFloat(F.trim());break;case"+":case"I":c[S][N]=v?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[S][N]=!0;break;case"N":case"F":c[S][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[S][N]="##MEMO##"+(v?parseInt(F.trim(),10):k.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[S][N]=+F||0);break;case"@":c[S][N]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":c[S][N]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":c[S][N]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][N]=-k.read_shift(-8,"f");break;case"B":if(p&&w[N].len==8){c[S][N]=k.read_shift(8,"f");break}case"G":case"P":k.l+=w[N].len;break;case"0":if(w[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[N].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=ng(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return ad(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Po(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ia(),f=e_(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,y=0,_=0,x=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++_;continue}if(h[g]!=null){if(++_,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var w=En(o["!ref"]),C=[],D=[],R=[];for(g=0;g<=w.e.c-w.s.c;++g){var S="",N="",k=0,F=[];for(y=0;y<p.length;++y)p[y][g]!=null&&F.push(p[y][g]);if(F.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<F.length;++y){switch(typeof F[y]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=F[y]instanceof Date?"D":"C";break;default:N="C"}k=Math.max(k,String(F[y]).length),S=S&&S!=N?"C":N}k>250&&(k=250),N=((v[g]||{}).DBF||{}).type,N=="C"&&v[g].DBF.len>k&&(k=v[g].DBF.len),S=="B"&&N=="N"&&(S="N",R[g]=v[g].DBF.dec,k=v[g].DBF.len),D[g]=S=="C"||N=="N"?k:s[S]||0,x+=D[g],C[g]=S}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*_),P.write_shift(2,x),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[uK]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var I=u.next(32),U=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,U,"sbcs"),I.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),I.write_shift(4,y),I.write_shift(1,D[g]||s[C[g]]||0),I.write_shift(1,R[g]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),y+=D[g]||s[C[g]]||0}var O=u.next(264);for(O.write_shift(4,13),g=0;g<65;++g)O.write_shift(4,0);for(g=0;g<p.length;++g){var G=u.next(x);for(G.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":G.write_shift(1,p[g][y]==null?63:p[g][y]?84:70);break;case"B":G.write_shift(8,p[g][y]||0,"f");break;case"N":var K="0";for(typeof p[g][y]=="number"&&(K=p[g][y].toFixed(R[y]||0)),_=0;_<D[y]-K.length;++_)G.write_shift(1,32);G.write_shift(1,K,"sbcs");break;case"D":p[g][y]?(G.write_shift(4,("0000"+p[g][y].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(p[g][y].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+p[g][y].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[g][y]!=null?p[g][y]:"").slice(0,D[y]);for(G.write_shift(1,J,"sbcs"),_=0;_<D[y]-J.length;++_)G.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),wX=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+$r(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var v=t[p];return typeof v=="number"?JU(v):v},r=function(h,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:JU(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return s(ka(h),p);case"binary":return s(h,p);case"buffer":return s(dn&&Buffer.isBuffer(h)?h.toString("binary"):sd(h),p);case"array":return s(Lf(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var v=h.split(/[\n\r]+/),g=-1,y=-1,_=0,x=0,w=[],C=[],D=null,R={},S=[],N=[],k=[],F=0,P;for(+p.codepage>=0&&Po(+p.codepage);_!==v.length;++_){F=0;var I=v[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=I.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),O=U[0],G;if(I.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&C.push(I.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,J=!1,te=!1,z=!1,Y=-1,B=-1;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"A":break;case"X":y=parseInt(U[x].slice(1))-1,J=!0;break;case"Y":for(g=parseInt(U[x].slice(1))-1,J||(y=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":G=U[x].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(Lo(G))?isNaN(bm(G).getDate())||(G=yr(G)):(G=Lo(G),D!==null&&eg(D)&&(G=Uw(G))),K=!0;break;case"E":z=!0;var j=jp(U[x].slice(1),{r:g,c:y});w[g][y]=[w[g][y],j];break;case"S":te=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":Y=parseInt(U[x].slice(1))-1;break;case"C":B=parseInt(U[x].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}if(K&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=G:w[g][y]=G,D=null),te){if(z)throw new Error("SYLK shared formula cannot have own formula");var q=Y>-1&&w[Y][B];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=BX(q[1],{r:g-Y,c:y-B})}break;case"F":var X=0;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"X":y=parseInt(U[x].slice(1))-1,++X;break;case"Y":for(g=parseInt(U[x].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":F=parseInt(U[x].slice(1))/20;break;case"F":break;case"G":break;case"P":D=C[parseInt(U[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=U[x].slice(1).split(" "),P=parseInt(k[0],10);P<=parseInt(k[1],10);++P)F=parseInt(k[2],10),N[P-1]=F===0?{hidden:!0}:{wch:F},$u(N[P-1]);break;case"C":y=parseInt(U[x].slice(1))-1,N[y]||(N[y]={});break;case"R":g=parseInt(U[x].slice(1))-1,S[g]||(S[g]={}),F>0?(S[g].hpt=F,S[g].hpx=wm(F)):F===0&&(S[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}X<1&&(D=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}}return S.length>0&&(R["!rows"]=S),N.length>0&&(R["!cols"]=N),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,R]}function a(h,p){var v=i(h,p),g=v[0],y=v[1],_=ng(g,p);return $r(y).forEach(function(x){_[x]=y[x]}),_}function o(h,p){return ad(a(h,p),p)}function l(h,p,v,g){var y="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+KI(h.f,{r:v,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(v,g){var y="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Qy(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=Zy(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,p){p.forEach(function(v,g){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*ev(v.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,p){var v=["ID;PWXL;N;E"],g=[],y=En(h["!ref"]),_,x=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var D=y.s.c;D<=y.e.c;++D){var R=Xt({r:C,c:D});_=x?(h[C]||[])[D]:h[R],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,h,C,D))}return v.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),TX=(function(){function t(s,a){switch(a.type){case"base64":return e(ka(s),a);case"binary":return e(s,a);case"buffer":return e(dn&&Buffer.isBuffer(s)?s.toString("binary"):sd(s),a);case"array":return e(Lf(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],v=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(Lo(v))?isNaN(bm(v).getDate())?f[l][c]=v:f[l][c]=yr(v):f[l][c]=Lo(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function n(s,a){return ng(t(s,a),a)}function r(s,a){return ad(n(s,a),a)}var i=(function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=En(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){a(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=Xt({r:p,c:v});if(f=h?(l[p]||[])[v]:l[g],!f){a(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ao(f.z||zt[14],_i(yr(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var _=`\r
`,x=c.join(_);return x}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),EX=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),v=-1,g=-1,y=0,_=[];y!==p.length;++y){var x=p[y].trim().split(":");if(x[0]==="cell"){var w=Pr(x[1]);if(_.length<=w.r)for(v=_.length;v<=w.r;++v)_[v]||(_[v]=[]);switch(v=w.r,g=w.c,x[2]){case"t":_[v][g]=t(x[3]);break;case"v":_[v][g]=+x[3];break;case"vtf":var C=x[x.length-1];case"vtc":switch(x[3]){case"nl":_[v][g]=!!+x[4];break;default:_[v][g]=+x[4];break}x[2]=="vtf"&&(_[v][g]=[_[v][g],C])}}}return h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),_}function r(f,h){return ng(n(f,h),h)}function i(f,h){return ad(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,g="",y=sa(f["!ref"]),_=Array.isArray(f),x=y.s.r;x<=y.e.r;++x)for(var w=y.s.c;w<=y.e.c;++w)if(g=Xt({r:x,c:w}),v=_?(f[x]||[])[w]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var C=_i(yr(v.v));p[2]="vtc",p[3]="nd",p[4]=""+C,p[5]=v.w||ao(v.z||zt[14],C);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),_m=(function(){function t(u,f,h,p,v){v.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Lo(u))?isNaN(bm(u).getDate())?f[h][p]=u:f[h][p]=yr(u):f[h][p]=Lo(u))}function e(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var y=10,_=0,x=0;x<=g;++x)_=v[x].indexOf(" "),_==-1?_=v[x].length:_++,y=Math.max(y,_);for(x=0;x<=g;++x){p[x]=[];var w=0;for(t(v[x].slice(0,y).trim(),p,x,w,h),w=1;w<=(v[x].length-y)/10+1;++w)t(v[x].slice(y+(w-1)*10,y+w*10).trim(),p,x,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?h=!h:!h&&v in n&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,y){return g[0]-y[0]||r[g[1]]-r[y[1]]}),n[v.pop()[1]]||44}function s(u,f){var h=f||{},p="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var y=0,_=0,x=0,w=0,C=0,D=p.charCodeAt(0),R=!1,S=0,N=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?qDe(h.dateNF):null;function F(){var P=u.slice(w,C),I={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)I.t="z";else if(h.raw)I.t="s",I.v=P;else if(P.trim().length===0)I.t="s",I.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(I.t="s",I.v=P.slice(2,-1).replace(/""/g,'"')):vIe(P)?(I.t="n",I.f=P.slice(1)):(I.t="s",I.v=P);else if(P=="TRUE")I.t="b",I.v=!0;else if(P=="FALSE")I.t="b",I.v=!1;else if(!isNaN(x=Lo(P)))I.t="n",h.cellText!==!1&&(I.w=P),I.v=x;else if(!isNaN(bm(P).getDate())||k&&P.match(k)){I.z=h.dateNF||zt[14];var U=0;k&&P.match(k)&&(P=$De(P,h.dateNF,P.match(k)||[]),U=1),h.cellDates?(I.t="d",I.v=yr(P,U)):(I.t="n",I.v=_i(yr(P,U))),h.cellText!==!1&&(I.w=ao(I.z,I.v instanceof Date?_i(I.v):I.v)),h.cellNF||delete I.z}else I.t="s",I.v=P;if(I.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][_]=I):v[Xt({c:_,r:y})]=I),w=C+1,N=u.charCodeAt(w),g.e.c<_&&(g.e.c=_),g.e.r<y&&(g.e.r=y),S==D)++_;else if(_=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<u.length;++C)switch(S=u.charCodeAt(C)){case 34:N===34&&(R=!R);break;case D:case 10:case 13:if(!R&&F())break e;break}return C-w>0&&F(),v["!ref"]=sn(g),v}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):ng(e(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:n6(u,f);switch(f.type){case"base64":h=ka(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof $y<"u"||(h=dn&&Buffer.isBuffer(u)?u.toString("binary"):sd(u));break;case"array":h=Lf(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Qn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Qn(h):f.type=="binary"&&typeof $y<"u",h.slice(0,19)=="socialcalc:version:"?EX.to_sheet(f.type=="string"?h:Qn(h),f):a(h,f)}function l(u,f){return ad(o(u,f),f)}function c(u){for(var f=[],h=En(u["!ref"]),p,v=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var y=[],_=h.s.c;_<=h.e.c;++_){var x=Xt({r:g,c:_});if(p=v?(u[g]||[])[_]:u[x],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(xc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(_===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function i3e(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=wX.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return _m.to_workbook(t,e)}}var pf=(function(){function t(j,q,X){if(j){Xi(j,j.l||0);for(var Q=X.Enum||Y;j.l<j.length;){var ee=j.read_shift(2),ae=Q[ee]||Q[65535],de=j.read_shift(2),fe=j.l+de,Ne=ae.f&&ae.f(j,de,X);if(j.l=fe,q(Ne,ae,ee))return}}}function e(j,q){switch(q.type){case"base64":return n(wa(ka(j)),q);case"binary":return n(wa(j),q);case"buffer":case"array":return n(j,q)}throw"Unsupported type "+q.type}function n(j,q){if(!j)return j;var X=q||{},Q=X.dense?[]:{},ee="Sheet1",ae="",de=0,fe={},Ne=[],Re=[],me={s:{r:0,c:0},e:{r:0,c:0}},Le=X.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)X.Enum=Y,t(j,function(oe,re,le){switch(le){case 0:X.vers=oe,oe>=4096&&(X.qpro=!0);break;case 6:me=oe;break;case 204:oe&&(ae=oe);break;case 222:ae=oe;break;case 15:case 51:X.qpro||(oe[1].v=oe[1].v.slice(1));case 13:case 14:case 16:le==14&&(oe[2]&112)==112&&(oe[2]&15)>1&&(oe[2]&15)<15&&(oe[1].z=X.dateNF||zt[14],X.cellDates&&(oe[1].t="d",oe[1].v=Uw(oe[1].v))),X.qpro&&oe[3]>de&&(Q["!ref"]=sn(me),fe[ee]=Q,Ne.push(ee),Q=X.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},de=oe[3],ee=ae||"Sheet"+(de+1),ae="");var he=X.dense?(Q[oe[0].r]||[])[oe[0].c]:Q[Xt(oe[0])];if(he){he.t=oe[1].t,he.v=oe[1].v,oe[1].z!=null&&(he.z=oe[1].z),oe[1].f!=null&&(he.f=oe[1].f);break}X.dense?(Q[oe[0].r]||(Q[oe[0].r]=[]),Q[oe[0].r][oe[0].c]=oe[1]):Q[Xt(oe[0])]=oe[1];break}},X);else if(j[2]==26||j[2]==14)X.Enum=B,j[2]==14&&(X.qpro=!0,j.l=0),t(j,function(oe,re,le){switch(le){case 204:ee=oe;break;case 22:oe[1].v=oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(oe[3]>de&&(Q["!ref"]=sn(me),fe[ee]=Q,Ne.push(ee),Q=X.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},de=oe[3],ee="Sheet"+(de+1)),Le>0&&oe[0].r>=Le)break;X.dense?(Q[oe[0].r]||(Q[oe[0].r]=[]),Q[oe[0].r][oe[0].c]=oe[1]):Q[Xt(oe[0])]=oe[1],me.e.c<oe[0].c&&(me.e.c=oe[0].c),me.e.r<oe[0].r&&(me.e.r=oe[0].r);break;case 27:oe[14e3]&&(Re[oe[14e3][0]]=oe[14e3][1]);break;case 1537:Re[oe[0]]=oe[1],oe[0]==de&&(ee=oe[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Q["!ref"]=sn(me),fe[ae||ee]=Q,Ne.push(ae||ee),!Re.length)return{SheetNames:Ne,Sheets:fe};for(var V={},ve=[],we=0;we<Re.length;++we)fe[Ne[we]]?(ve.push(Re[we]||Ne[we]),V[Re[we]]=fe[Re[we]]||fe[Ne[we]]):(ve.push(Re[we]),V[Re[we]]={"!ref":"A1"});return{SheetNames:ve,Sheets:V}}function r(j,q){var X=q||{};if(+X.codepage>=0&&Po(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=ia(),ee=En(j["!ref"]),ae=Array.isArray(j),de=[];_t(Q,0,s(1030)),_t(Q,6,l(ee));for(var fe=Math.min(ee.e.r,8191),Ne=ee.s.r;Ne<=fe;++Ne)for(var Re=ti(Ne),me=ee.s.c;me<=ee.e.c;++me){Ne===ee.s.r&&(de[me]=Rr(me));var Le=de[me]+Re,V=ae?(j[Ne]||[])[me]:j[Le];if(!(!V||V.t=="z"))if(V.t=="n")(V.v|0)==V.v&&V.v>=-32768&&V.v<=32767?_t(Q,13,p(Ne,me,V.v)):_t(Q,14,g(Ne,me,V.v));else{var ve=xc(V);_t(Q,15,f(Ne,me,ve.slice(0,239)))}}return _t(Q,1),Q.end()}function i(j,q){var X=q||{};if(+X.codepage>=0&&Po(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=ia();_t(Q,0,a(j));for(var ee=0,ae=0;ee<j.SheetNames.length;++ee)(j.Sheets[j.SheetNames[ee]]||{})["!ref"]&&_t(Q,27,z(j.SheetNames[ee],ae++));var de=0;for(ee=0;ee<j.SheetNames.length;++ee){var fe=j.Sheets[j.SheetNames[ee]];if(!(!fe||!fe["!ref"])){for(var Ne=En(fe["!ref"]),Re=Array.isArray(fe),me=[],Le=Math.min(Ne.e.r,8191),V=Ne.s.r;V<=Le;++V)for(var ve=ti(V),we=Ne.s.c;we<=Ne.e.c;++we){V===Ne.s.r&&(me[we]=Rr(we));var oe=me[we]+ve,re=Re?(fe[V]||[])[we]:fe[oe];if(!(!re||re.t=="z"))if(re.t=="n")_t(Q,23,F(V,we,de,re.v));else{var le=xc(re);_t(Q,22,S(V,we,de,le.slice(0,239)))}}++de}}return _t(Q,1),Q.end()}function s(j){var q=nt(2);return q.write_shift(2,j),q}function a(j){var q=nt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var X=0,Q=0,ee=0,ae=0;ae<j.SheetNames.length;++ae){var de=j.SheetNames[ae],fe=j.Sheets[de];if(!(!fe||!fe["!ref"])){++ee;var Ne=sa(fe["!ref"]);X<Ne.e.r&&(X=Ne.e.r),Q<Ne.e.c&&(Q=Ne.e.c)}}return X>8191&&(X=8191),q.write_shift(2,X),q.write_shift(1,ee),q.write_shift(1,Q),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(j,q,X){var Q={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&X.qpro?(Q.s.c=j.read_shift(1),j.l++,Q.s.r=j.read_shift(2),Q.e.c=j.read_shift(1),j.l++,Q.e.r=j.read_shift(2),Q):(Q.s.c=j.read_shift(2),Q.s.r=j.read_shift(2),q==12&&X.qpro&&(j.l+=2),Q.e.c=j.read_shift(2),Q.e.r=j.read_shift(2),q==12&&X.qpro&&(j.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function l(j){var q=nt(8);return q.write_shift(2,j.s.c),q.write_shift(2,j.s.r),q.write_shift(2,j.e.c),q.write_shift(2,j.e.r),q}function c(j,q,X){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(Q[0].c=j.read_shift(1),Q[3]=j.read_shift(1),Q[0].r=j.read_shift(2),j.l+=2):(Q[2]=j.read_shift(1),Q[0].c=j.read_shift(2),Q[0].r=j.read_shift(2)),Q}function u(j,q,X){var Q=j.l+q,ee=c(j,q,X);if(ee[1].t="s",X.vers==20768){j.l++;var ae=j.read_shift(1);return ee[1].v=j.read_shift(ae,"utf8"),ee}return X.qpro&&j.l++,ee[1].v=j.read_shift(Q-j.l,"cstr"),ee}function f(j,q,X){var Q=nt(7+X.length);Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(1,39);for(var ee=0;ee<Q.length;++ee){var ae=X.charCodeAt(ee);Q.write_shift(1,ae>=128?95:ae)}return Q.write_shift(1,0),Q}function h(j,q,X){var Q=c(j,q,X);return Q[1].v=j.read_shift(2,"i"),Q}function p(j,q,X){var Q=nt(7);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(2,X,"i"),Q}function v(j,q,X){var Q=c(j,q,X);return Q[1].v=j.read_shift(8,"f"),Q}function g(j,q,X){var Q=nt(13);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,j),Q.write_shift(8,X,"f"),Q}function y(j,q,X){var Q=j.l+q,ee=c(j,q,X);if(ee[1].v=j.read_shift(8,"f"),X.qpro)j.l=Q;else{var ae=j.read_shift(2);C(j.slice(j.l,j.l+ae),ee),j.l+=ae}return ee}function _(j,q,X){var Q=q&32768;return q&=-32769,q=(Q?j:0)+(q>=8192?q-16384:q),(Q?"":"$")+(X?Rr(q):ti(q))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(j,q){Xi(j,0);for(var X=[],Q=0,ee="",ae="",de="",fe="";j.l<j.length;){var Ne=j[j.l++];switch(Ne){case 0:X.push(j.read_shift(8,"f"));break;case 1:ae=_(q[0].c,j.read_shift(2),!0),ee=_(q[0].r,j.read_shift(2),!1),X.push(ae+ee);break;case 2:{var Re=_(q[0].c,j.read_shift(2),!0),me=_(q[0].r,j.read_shift(2),!1);ae=_(q[0].c,j.read_shift(2),!0),ee=_(q[0].r,j.read_shift(2),!1),X.push(Re+me+":"+ae+ee)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(j.read_shift(2));break;case 6:{for(var Le="";Ne=j[j.l++];)Le+=String.fromCharCode(Ne);X.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:fe=X.pop(),de=X.pop(),X.push(["AND","OR"][Ne-20]+"("+de+","+fe+")");break;default:if(Ne<32&&w[Ne])fe=X.pop(),de=X.pop(),X.push(de+w[Ne]+fe);else if(x[Ne]){if(Q=x[Ne][1],Q==69&&(Q=j[j.l++]),Q>X.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+X.join("|")+"|");return}var V=X.slice(-Q);X.length-=Q,X.push(x[Ne][0]+"("+V.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}X.length==1?q[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function D(j){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=j.read_shift(2),q[3]=j[j.l++],q[0].c=j[j.l++],q}function R(j,q){var X=D(j);return X[1].t="s",X[1].v=j.read_shift(q-4,"cstr"),X}function S(j,q,X,Q){var ee=nt(6+Q.length);ee.write_shift(2,j),ee.write_shift(1,X),ee.write_shift(1,q),ee.write_shift(1,39);for(var ae=0;ae<Q.length;++ae){var de=Q.charCodeAt(ae);ee.write_shift(1,de>=128?95:de)}return ee.write_shift(1,0),ee}function N(j,q){var X=D(j);X[1].v=j.read_shift(2);var Q=X[1].v>>1;if(X[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return X[1].v=Q,X}function k(j,q){var X=D(j),Q=j.read_shift(4),ee=j.read_shift(4),ae=j.read_shift(2);if(ae==65535)return Q===0&&ee===3221225472?(X[1].t="e",X[1].v=15):Q===0&&ee===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var de=ae&32768;return ae=(ae&32767)-16446,X[1].v=(1-de*2)*(ee*Math.pow(2,ae+32)+Q*Math.pow(2,ae)),X}function F(j,q,X,Q){var ee=nt(14);if(ee.write_shift(2,j),ee.write_shift(1,X),ee.write_shift(1,q),Q==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ae=0,de=0,fe=0,Ne=0;return Q<0&&(ae=1,Q=-Q),de=Math.log2(Q)|0,Q/=Math.pow(2,de-31),Ne=Q>>>0,(Ne&2147483648)==0&&(Q/=2,++de,Ne=Q>>>0),Q-=Ne,Ne|=2147483648,Ne>>>=0,Q*=Math.pow(2,32),fe=Q>>>0,ee.write_shift(4,fe),ee.write_shift(4,Ne),de+=16383+(ae?32768:0),ee.write_shift(2,de),ee}function P(j,q){var X=k(j);return j.l+=q-14,X}function I(j,q){var X=D(j),Q=j.read_shift(4);return X[1].v=Q>>6,X}function U(j,q){var X=D(j),Q=j.read_shift(8,"f");return X[1].v=Q,X}function O(j,q){var X=U(j);return j.l+=q-10,X}function G(j,q){return j[j.l+q-1]==0?j.read_shift(q,"cstr"):""}function K(j,q){var X=j[j.l++];X>q-1&&(X=q-1);for(var Q="";Q.length<X;)Q+=String.fromCharCode(j[j.l++]);return Q}function J(j,q,X){if(!(!X.qpro||q<21)){var Q=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ee=j.read_shift(q-21,"cstr");return[Q,ee]}}function te(j,q){for(var X={},Q=j.l+q;j.l<Q;){var ee=j.read_shift(2);if(ee==14e3){for(X[ee]=[0,""],X[ee][0]=j.read_shift(2);j[j.l];)X[ee][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return X}function z(j,q){var X=nt(5+j.length);X.write_shift(2,14e3),X.write_shift(2,q);for(var Q=0;Q<j.length;++Q){var ee=j.charCodeAt(Q);X[X.l++]=ee>127?95:ee}return X[X.l++]=0,X}var Y={0:{n:"BOF",f:ui},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:O},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function s3e(t){var e={},n=t.match(Es),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Yt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=xI[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var a3e=(function(){var t=Gy("t"),e=Gy("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Tn(a[1])},l=s.match(e);return l&&(o.s=s3e(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),o3e=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),l3e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,c3e=/<(?:\w+:)?r>/,u3e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function qI(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Tn(Qn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Qn(t),n&&(r.h=NI(r.t))):t.match(c3e)&&(r.r=Qn(t),r.t=Tn(Qn((t.replace(u3e,"").match(l3e)||[]).join("").replace(Es,""))),n&&(r.h=o3e(a3e(r.r)))),r):{t:""}}var d3e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,f3e=/<(?:\w+:)?(?:si|sstItem)>/g,h3e=/<\/(?:\w+:)?(?:si|sstItem)>/;function p3e(t,e){var n=[],r="";if(!t)return n;var i=t.match(d3e);if(i){r=i[2].replace(f3e,"").split(h3e);for(var s=0;s!=r.length;++s){var a=qI(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=Yt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var m3e=/^\s|\s$|[\t\n\r]/;function CX(t,e){if(!e.bookSST)return"";var n=[ri];n[n.length]=bt("sst",null,{xmlns:ih[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(m3e)&&(s+=' xml:space="preserve"'),s+=">"+Gn(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function g3e(t){return[t.read_shift(4),t.read_shift(4)]}function y3e(t,e){var n=[],r=!1;return Ic(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function v3e(t,e){return e||(e=nt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var x3e=N4e;function b3e(t){var e=ia();at(e,159,v3e(t));for(var n=0;n<t.length;++n)at(e,19,x3e(t[n]));return at(e,160),e.end()}function SX(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function uc(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function _3e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=uc(t,4),e.U=uc(t,4),e.W=uc(t,4),e}function w3e(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function T3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(w3e(t));return e}function E3e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function C3e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=uc(t,4),e.U=uc(t,4),e.W=uc(t,4),e}function S3e(t){var e=C3e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function DX(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function AX(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function D3e(t){var e=uc(t);switch(e.Minor){case 2:return[e.Minor,A3e(t)];case 3:return[e.Minor,N3e()];case 4:return[e.Minor,k3e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function A3e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=DX(t,n),i=AX(t,t.length-t.l);return{t:"Std",h:r,v:i}}function N3e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function k3e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Es,function(s){var a=Yt(s);switch(Pl(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function I3e(t,e){var n={},r=n.EncryptionVersionInfo=uc(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=DX(t,i),e-=i,n.EncryptionVerifier=AX(t,e),n}function R3e(t){var e={},n=e.EncryptionVersionInfo=uc(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function $I(t){var e=0,n,r=SX(t),i=r.length+1,s,a,o,l,c;for(n=qu(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var NX=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(a){for(var o=SX(a),l=s(o),c=o.length,u=qu(16),f=0;f!=16;++f)u[f]=0;var h,p,v;for((c&1)===1&&(h=l>>8,u[c]=i(t[0],h),--c,h=l&255,p=o[o.length-1],u[c]=i(p,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,v=15-o.length;v>0;)h=l>>8,u[c]=i(t[v],h),--c,--v,h=l&255,u[c]=i(o[c],h),--c,--v;return u}})(),P3e=function(t,e,n,r,i){i||(i=e),r||(r=NX(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},F3e=function(t){var e=0,n=NX(t);return function(r){var i=P3e("",r,e,n);return e=i[1],i[0]}};function M3e(t,e,n,r){var i={key:ui(t),verificationBytes:ui(t)};return n.password&&(i.verifier=$I(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=F3e(n.password)),i}function U3e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=R3e(t):r.Data=I3e(t,e),r}function O3e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?U3e(t,e-2,r):M3e(t,n.biff>=8?e:e-2,n,r),r}var kX=(function(){function t(i,s){switch(s.type){case"base64":return e(ka(i),s);case"binary":return e(i,s);case"buffer":return e(dn&&Buffer.isBuffer(i)?i.toString("binary"):sd(i),s);case"array":return e(Lf(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,g=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var y=u.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var _={v:y,t:"s"};Array.isArray(o)?o[f][g]=_:o[Xt({r:f,c:g})]=_}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=sn(c),o}function n(i,s){return ad(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=En(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var f=Xt({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(xc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function L3e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Yy(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function j3e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,l,c/2]}function B3e(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function Qb(t,e){if(e===0)return t;var n=j3e(L3e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Yy(B3e(n))}var IX=6,V3e=15,W3e=1,fs=IX;function Qy(t){return Math.floor((t+Math.round(128/fs)/256)*fs)}function Zy(t){return Math.floor((t-5)/fs*100+.5)/100}function Zb(t){return Math.round((t*fs+5)/fs*256)/256}function cD(t){return Zb(Zy(Qy(t)))}function zI(t){var e=Math.abs(t-cD(t)),n=fs;if(e>.005)for(fs=W3e;fs<V3e;++fs)Math.abs(t-cD(t))<=e&&(e=Math.abs(t-cD(t)),n=fs);fs=n}function $u(t){t.width?(t.wpx=Qy(t.width),t.wch=Zy(t.wpx),t.MDW=fs):t.wpx?(t.wch=Zy(t.wpx),t.width=Zb(t.wch),t.MDW=fs):typeof t.wch=="number"&&(t.width=Zb(t.wch),t.wpx=Qy(t.width),t.MDW=fs),t.customWidth&&delete t.customWidth}var q3e=96,RX=q3e;function ev(t){return t*96/RX}function wm(t){return t*RX/96}var $3e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function z3e(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Es)||[]).forEach(function(a){var o=Yt(a);switch(Pl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=hr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=hr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function H3e(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Es)||[]).forEach(function(a){var o=Yt(a);switch(Pl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function G3e(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Es)||[]).forEach(function(a){var o=Yt(a);switch(Pl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Qn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?hr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?hr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?hr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?hr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?hr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?hr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?hr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=xI[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=hr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=ff[i.color.index];i.color.index==81&&(l=ff[1]),l||(l=ff[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=Qb(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function K3e(t,e,n){e.NumberFmt=[];for(var r=$r(zt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=zt[r[i]];var s=t[0].match(Es);if(s)for(i=0;i<s.length;++i){var a=Yt(s[i]);switch(Pl(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Tn(Qn(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}cc(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function X3e(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=bt("numFmt",null,{numFmtId:r,formatCode:Gn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=bt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Vx=["numFmtId","fillId","fontId","borderId","xfId"],Wx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function J3e(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Es)||[]).forEach(function(s){var a=Yt(s),o=0;switch(Pl(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<Vx.length;++o)r[Vx[o]]&&(r[Vx[o]]=parseInt(r[Vx[o]],10));for(o=0;o<Wx.length;++o)r[Wx[o]]&&(r[Wx[o]]=hr(r[Wx[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=hr(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function Y3e(t){var e=[];return e[e.length]=bt("cellXfs",null),t.forEach(function(n){e[e.length]=bt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=bt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Q3e=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&K3e(f,u,c),(f=o.match(i))&&G3e(f,u,l,c),(f=o.match(r))&&H3e(f,u,l,c),(f=o.match(s))&&z3e(f,u,l,c),(f=o.match(n))&&J3e(f,u,c),u}})();function PX(t,e){var n=[ri,bt("styleSheet",null,{xmlns:ih[0],"xmlns:vt":xi.vt})],r;return t.SSF&&(r=X3e(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Y3e(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Z3e(t,e){var n=t.read_shift(2),r=bs(t);return[n,r]}function eke(t,e,n){n||(n=nt(6+4*e.length)),n.write_shift(2,t),ji(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function tke(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=U4e(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=M4e(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=bs(t),r}function nke(t,e){e||(e=nt(153)),e.write_shift(2,t.sz*20),O4e(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Xb(t.color,e);var r=0;return r=2,e.write_shift(1,r),ji(t.name,e),e.length>e.l?e.slice(0,e.l):e}var rke=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],uD,ike=_s;function BO(t,e){e||(e=nt(84)),uD||(uD=Fw(rke));var n=uD[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(Xb({auto:1},e),Xb({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function ske(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function FX(t,e,n){n||(n=nt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function r0(t,e){return e||(e=nt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var ake=_s;function oke(t,e){return e||(e=nt(51)),e.write_shift(1,0),r0(null,e),r0(null,e),r0(null,e),r0(null,e),r0(null,e),e.length>e.l?e.slice(0,e.l):e}function lke(t,e){return e||(e=nt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Kb(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function cke(t,e,n){var r=nt(2052);return r.write_shift(4,t),Kb(e,r),Kb(n,r),r.length>r.l?r.slice(0,r.l):r}function uke(t,e,n){var r={};r.NumberFmt=[];for(var i in zt)r.NumberFmt[i]=zt[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Ic(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],cc(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=Qb(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function dke(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(at(t,615,jo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&at(t,44,eke(i,e[i]))}),at(t,616))}}function fke(t){var e=1;at(t,611,jo(e)),at(t,43,nke({sz:12,color:{theme:1},name:"Calibri",family:2})),at(t,612)}function hke(t){var e=2;at(t,603,jo(e)),at(t,45,BO({patternType:"none"})),at(t,45,BO({patternType:"gray125"})),at(t,604)}function pke(t){var e=1;at(t,613,jo(e)),at(t,46,oke()),at(t,614)}function mke(t){var e=1;at(t,626,jo(e)),at(t,47,FX({numFmtId:0},65535)),at(t,627)}function gke(t,e){at(t,617,jo(e.length)),e.forEach(function(n){at(t,47,FX(n,0))}),at(t,618)}function yke(t){var e=1;at(t,619,jo(e)),at(t,48,lke({xfId:0,name:"Normal"})),at(t,620)}function vke(t){var e=0;at(t,505,jo(e)),at(t,506)}function xke(t){var e=0;at(t,508,cke(e,"TableStyleMedium9","PivotStyleMedium4")),at(t,509)}function bke(t,e){var n=ia();return at(n,278),dke(n,t.SSF),fke(n),hke(n),pke(n),mke(n),gke(n,e.cellXfs),yke(n),vke(n),xke(n),at(n,279),n.end()}var _ke=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function wke(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Es)||[]).forEach(function(i){var s=Yt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[_ke.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Tke(){}function Eke(){}var Cke=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Ske=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Dke=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Ake(t,e,n){e.themeElements={};var r;[["clrScheme",Cke,wke],["fontScheme",Ske,Tke],["fmtScheme",Dke,Eke]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var Nke=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function MX(t,e){(!t||t.length===0)&&(t=HI());var n,r={};if(!(n=t.match(Nke)))throw new Error("themeElements not found in theme");return Ake(n[0],r,e),r.raw=t,r}function HI(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[ri];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function kke(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=DK(s,{type:"array"})}catch{return}var o=Ta(a,"theme/theme/theme1.xml",!0);if(o)return MX(o,n)}}function Ike(t){return t.read_shift(4)}function Rke(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Pke(t,4);break;case 2:e.xclrValue=pX(t);break;case 3:e.xclrValue=Ike(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Pke(t,e){return _s(t,e)}function Fke(t,e){return _s(t,e)}function Mke(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Rke(t);break;case 6:r[1]=Fke(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function Uke(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(Mke(t,n-t.l));return{ixfe:r,ext:s}}function Oke(t,e){e.forEach(function(n){n[0]})}function Lke(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:bs(t)}}function jke(t){var e=nt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),ji(t.name,e),e.slice(0,e.l)}function Bke(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Vke(t){var e=nt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function Wke(t,e){var n=nt(8+2*e.length);return n.write_shift(4,t),ji(e,n),n.slice(0,n.l)}function qke(t){return t.l+=4,t.read_shift(4)!=0}function $ke(t,e){var n=nt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function zke(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Ic(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function Hke(){var t=ia();return at(t,332),at(t,334,jo(1)),at(t,335,jke({name:"XLDAPR",version:12e4,flags:3496657072})),at(t,336),at(t,339,Wke(1,"XLDAPR")),at(t,52),at(t,35,jo(514)),at(t,4096,jo(0)),at(t,4097,Xa(1)),at(t,36),at(t,53),at(t,340),at(t,337,$ke(1)),at(t,51,Vke([[1,0]])),at(t,338),at(t,333),t.end()}function Gke(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(Es,function(o){var l=Yt(o);switch(Pl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function UX(){var t=[ri];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Kke(t){var e=[];if(!t)return e;var n=1;return(t.match(Es)||[]).forEach(function(r){var i=Yt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function Xke(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Xt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function Jke(t,e,n){var r=[];return Ic(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Yke(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Ic(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function Qke(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var Ep=1024;function OX(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[bt("xml",null,{"xmlns:v":ba.v,"xmlns:o":ba.o,"xmlns:x":ba.x,"xmlns:mv":ba.mv}).replace(/\/>/,">"),bt("o:shapelayout",bt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),bt("v:shapetype",[bt("v:stroke",null,{joinstyle:"miter"}),bt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Ep<t*1e3;)Ep+=1e3;return e.forEach(function(s){var a=Pr(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?bt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=bt("v:fill",l,o),u={on:"t",obscured:"t"};++Ep,i=i.concat(["<v:shape"+Ky({id:"_x0000_s"+Ep,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,bt("v:shadow",null,u),bt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Yi("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Yi("x:AutoFill","False"),Yi("x:Row",String(a.r)),Yi("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function VO(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=Pr(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=En(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=sn(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:n};a.h&&(u.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function Zke(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Yt(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Pr(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&qI(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),r.push(c)}}}}),r}function LX(t){var e=[ri,bt("comments",null,{xmlns:ih[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=Gn(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(Gn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Yi("t",Gn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Yi("t",Gn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function eIe(t,e){var n=[],r=!1,i={},s=0;return t.replace(Es,function(o,l){var c=Yt(o);switch(Pl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function tIe(t,e,n){var r=[ri,bt("ThreadedComments",null,{xmlns:xi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(bt("threadedComment",Yi("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function nIe(t,e){var n=[],r=!1;return t.replace(Es,function(s){var a=Yt(s);switch(Pl(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function rIe(t){var e=[ri,bt("personList",null,{xmlns:xi.TCMNT,"xmlns:x":ih[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(bt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function iIe(t){var e={};e.iauthor=t.read_shift(4);var n=lh(t);return e.rfx=n.s,e.ref=Xt(n.s),t.l+=16,e}function sIe(t,e){return e==null&&(e=nt(36)),e.write_shift(4,t[1].iauthor),rg(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var aIe=bs;function oIe(t){return ji(t.slice(0,54))}function lIe(t,e){var n=[],r=[],i={},s=!1;return Ic(t,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function cIe(t){var e=ia(),n=[];return at(e,628),at(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),at(e,632,oIe(i.a)))})}),at(e,631),at(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Pr(r[0]),e:Pr(r[0])};at(e,635,sIe([s,i])),i.t&&i.t.length>0&&at(e,637,I4e(i)),at(e,636),delete i.iauthor})}),at(e,634),at(e,629),e.end()}var uIe="application/vnd.ms-office.vbaProject";function dIe(t){var e=Bt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Bt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Bt.write(e)}function fIe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Bt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var jX=["xlsb","xlsm","xlam","biff8","xla"];function hIe(){return{"!type":"dialog"}}function pIe(){return{"!type":"dialog"}}function mIe(){return{"!type":"macro"}}function gIe(){return{"!type":"macro"}}var jp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Rr(u)+(l?"":"$")+ti(c)}return function(i,s){return e=s,i.replace(t,n)}})(),GI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,KI=(function(){return function(e,n){return e.replace(GI,function(r,i,s,a,o,l){var c=FI(a)-(s?0:n.c),u=PI(l)-(o?0:n.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+h})}})();function BX(t,e){return t.replace(GI,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Rr(FI(s)+e.c))+(a=="$"?a+o:ti(PI(o)+e.r))})}function yIe(t,e,n){var r=sa(e),i=r.s,s=Pr(n),a={r:s.r-i.r,c:s.c-i.c};return BX(t,a)}function vIe(t){return t.length!=1}function WO(t){return t.replace(/_xlfn\./g,"")}function oi(t){t.l+=1}function zu(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function VX(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return WX(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=zu(t),o=zu(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function WX(t){var e=zu(t),n=zu(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function xIe(t,e,n){if(n.biff<8)return WX(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=zu(t),a=zu(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function qX(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return bIe(t);var r=t.read_shift(n&&n.biff==12?4:2),i=zu(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function bIe(t){var e=zu(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function _Ie(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function wIe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return TIe(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function TIe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function EIe(t,e,n){var r=(t[t.l++]&96)>>5,i=VX(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function CIe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=VX(t,s,n);return[r,i,a]}function SIe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function DIe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function AIe(t,e,n){var r=(t[t.l++]&96)>>5,i=xIe(t,e-1,n);return[r,i]}function NIe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function qO(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function kIe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function IIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function RIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function PIe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function FIe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function $X(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function MIe(t){return t.read_shift(2),$X(t)}function UIe(t){return t.read_shift(2),$X(t)}function OIe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=qX(t,0,n);return[r,i]}function LIe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=wIe(t,0,n);return[r,i]}function jIe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=qX(t,0,n);return[r,i,s]}function BIe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[q6e[i],GX[i],r]}function VIe(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:WIe(t);return[i,(s[0]===0?GX:W6e)[s[1]]]}function WIe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function qIe(t,e,n){t.l+=n&&n.biff==2?3:4}function $Ie(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function zIe(t){return t.l++,Rc[t.read_shift(1)]}function HIe(t){return t.l++,t.read_shift(2)}function GIe(t){return t.l++,t.read_shift(1)!==0}function KIe(t){return t.l++,ps(t)}function XIe(t,e,n){return t.l++,Xv(t,e-1,n)}function JIe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Yr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Rc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=ps(t);break;case 2:n[1]=ch(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function YIe(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?lh:Ow)(t));return i}function QIe(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=JIe(t,n.biff);return a}function ZIe(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function e6e(t,e,n){if(n.biff==5)return t6e(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function t6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function n6e(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function r6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function i6e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function s6e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var a6e=_s,o6e=_s,l6e=_s;function Yv(t,e,n){return t.l+=2,[_Ie(t)]}function XI(t){return t.l+=6,[]}var c6e=Yv,u6e=XI,d6e=XI,f6e=Yv;function zX(t){return t.l+=2,[ui(t),t.read_shift(2)&1]}var h6e=Yv,p6e=zX,m6e=XI,g6e=Yv,y6e=Yv,v6e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function x6e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=v6e[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function b6e(t){return t.l+=2,[t.read_shift(4)]}function _6e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function w6e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function T6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function E6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function C6e(t){return t.l+=4,[0,0]}var $O={1:{n:"PtgExp",f:$Ie},2:{n:"PtgTbl",f:l6e},3:{n:"PtgAdd",f:oi},4:{n:"PtgSub",f:oi},5:{n:"PtgMul",f:oi},6:{n:"PtgDiv",f:oi},7:{n:"PtgPower",f:oi},8:{n:"PtgConcat",f:oi},9:{n:"PtgLt",f:oi},10:{n:"PtgLe",f:oi},11:{n:"PtgEq",f:oi},12:{n:"PtgGe",f:oi},13:{n:"PtgGt",f:oi},14:{n:"PtgNe",f:oi},15:{n:"PtgIsect",f:oi},16:{n:"PtgUnion",f:oi},17:{n:"PtgRange",f:oi},18:{n:"PtgUplus",f:oi},19:{n:"PtgUminus",f:oi},20:{n:"PtgPercent",f:oi},21:{n:"PtgParen",f:oi},22:{n:"PtgMissArg",f:oi},23:{n:"PtgStr",f:XIe},26:{n:"PtgSheet",f:_6e},27:{n:"PtgEndSheet",f:w6e},28:{n:"PtgErr",f:zIe},29:{n:"PtgBool",f:GIe},30:{n:"PtgInt",f:HIe},31:{n:"PtgNum",f:KIe},32:{n:"PtgArray",f:NIe},33:{n:"PtgFunc",f:BIe},34:{n:"PtgFuncVar",f:VIe},35:{n:"PtgName",f:ZIe},36:{n:"PtgRef",f:OIe},37:{n:"PtgArea",f:EIe},38:{n:"PtgMemArea",f:n6e},39:{n:"PtgMemErr",f:a6e},40:{n:"PtgMemNoMem",f:o6e},41:{n:"PtgMemFunc",f:r6e},42:{n:"PtgRefErr",f:i6e},43:{n:"PtgAreaErr",f:SIe},44:{n:"PtgRefN",f:LIe},45:{n:"PtgAreaN",f:AIe},46:{n:"PtgMemAreaN",f:T6e},47:{n:"PtgMemNoMemN",f:E6e},57:{n:"PtgNameX",f:e6e},58:{n:"PtgRef3d",f:jIe},59:{n:"PtgArea3d",f:CIe},60:{n:"PtgRefErr3d",f:s6e},61:{n:"PtgAreaErr3d",f:DIe},255:{}},S6e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},D6e={1:{n:"PtgElfLel",f:zX},2:{n:"PtgElfRw",f:g6e},3:{n:"PtgElfCol",f:c6e},6:{n:"PtgElfRwV",f:y6e},7:{n:"PtgElfColV",f:f6e},10:{n:"PtgElfRadical",f:h6e},11:{n:"PtgElfRadicalS",f:m6e},13:{n:"PtgElfColS",f:u6e},15:{n:"PtgElfColSV",f:d6e},16:{n:"PtgElfRadicalLel",f:p6e},25:{n:"PtgList",f:x6e},29:{n:"PtgSxName",f:b6e},255:{}},A6e={0:{n:"PtgAttrNoop",f:C6e},1:{n:"PtgAttrSemi",f:FIe},2:{n:"PtgAttrIf",f:RIe},4:{n:"PtgAttrChoose",f:kIe},8:{n:"PtgAttrGoto",f:IIe},16:{n:"PtgAttrSum",f:qIe},32:{n:"PtgAttrBaxcel",f:qO},33:{n:"PtgAttrBaxcel",f:qO},64:{n:"PtgAttrSpace",f:MIe},65:{n:"PtgAttrSpaceSemi",f:UIe},128:{n:"PtgAttrIfError",f:PIe},255:{}};function Qv(t,e,n,r){if(r.biff<8)return _s(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=QIe(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=YIe(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(_s(t,e)),s}function Zv(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=$O[s]||$O[S6e[s]],(s===24||s===25)&&(i=(s===24?D6e:A6e)[t[t.l+1]]),!i||!i.f?_s(t,e):a.push([i.n,i.f(t,e,n)]);return a}function N6e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var k6e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function I6e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function HX(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function zO(t,e,n){var r=HX(t,e,n);return r=="#REF"?r:I6e(r,n)}function ds(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",_=0,x=t[0].length;_<x;++_){var w=t[0][_];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=jr(" ",t[0][g][1][1]);break;case 1:y=jr("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+k6e[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Z0(w[1][1],a,i),o.push(ey(u,s));break;case"PtgRefN":u=n?Z0(w[1][1],n,i):w[1][1],o.push(ey(u,s));break;case"PtgRef3d":f=w[1][1],u=Z0(w[1][2],a,i),v=zO(r,f,i),o.push(v+"!"+ey(u,s));break;case"PtgFunc":case"PtgFuncVar":var C=w[1][0],D=w[1][1];C||(C=0),C&=127;var R=C==0?[]:o.slice(-C);o.length-=C,D==="User"&&(D=R.shift()),o.push(D+"("+R.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=bO(w[1][1],n?{s:n}:a,i),o.push(aD(p,i));break;case"PtgArea":p=bO(w[1][1],a,i),o.push(aD(p,i));break;case"PtgArea3d":f=w[1][1],p=w[1][2],v=zO(r,f,i),o.push(v+"!"+aD(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var S=(r.names||[])[h-1]||(r[0]||[])[h],N=S?S.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var k=w[1][1];h=w[1][2];var F;if(i.biff<=5)k<0&&(k=-k),r[k]&&(F=r[k][h]);else{var P="";if(((r[k]||[])[0]||[])[0]==14849||(((r[k]||[])[0]||[])[0]==1025?r[k][h]&&r[k][h].itab>0&&(P=r.SheetNames[r[k][h].itab-1]+"!"):P=r.SheetNames[h-1]+"!"),r[k]&&r[k][h])P+=r[k][h].Name;else if(r[0]&&r[0][h])P+=r[0][h].Name;else{var I=(HX(r,k,i)||"").split(";;");I[h-1]?P=I[h-1]:P+="SH33TJSERRX"}o.push(P);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var U="(",O=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:U=jr(" ",t[0][g][1][1])+U;break;case 3:U=jr("\r",t[0][g][1][1])+U;break;case 4:O=jr(" ",t[0][g][1][1])+O;break;case 5:O=jr("\r",t[0][g][1][1])+O;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(U+o.pop()+O);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var G={c:n.c,r:n.r};if(r.sharedf[Xt(u)]){var K=r.sharedf[Xt(u)];o.push(ds(K,a,G,r,i))}else{var J=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(ds(c[1],a,G,r,i)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+N6e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&te.indexOf(t[0][_][0])==-1){w=t[0][g];var z=!0;switch(w[1][0]){case 4:z=!1;case 0:y=jr(" ",w[1][1]);break;case 5:z=!1;case 1:y=jr("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((z?y:"")+o.pop()+(z?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function R6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],_s(t,e-2)];var o=Zv(t,a,n);return e!==a+i&&(s=Qv(t,e-a-i,o,n)),t.l=r,[o,s]}function P6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],_s(t,e-2)];var o=Zv(t,a,n);return e!==a+i&&(s=Qv(t,e-a-i,o,n)),t.l=r,[o,s]}function F6e(t,e,n,r){var i=t.l+e,s=Zv(t,r,n),a;return i!==t.l&&(a=Qv(t,i-t.l,s,n)),[s,a]}function M6e(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=Zv(t,s,n);return s==65535?[[],_s(t,e-2)]:(e!==s+2&&(i=Qv(t,r-s-2,a,n)),[a,i])}function U6e(t){var e;if(tc(t,t.l+6)!==65535)return[ps(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function O6e(t){if(t==null){var e=nt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return jf(t);return jf(0)}function dD(t,e,n){var r=t.l+e,i=Fl(t);n.biff==2&&++t.l;var s=U6e(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=P6e(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function L6e(t,e,n,r,i){var s=Vf(e,n,i),a=O6e(t.v),o=nt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=nt(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=Li([s,a,o,c]);return f}function Lw(t,e,n){var r=t.read_shift(4),i=Zv(t,r,n),s=t.read_shift(4),a=s>0?Qv(t,s,i,n):null;return[i,a]}var j6e=Lw,jw=Lw,B6e=Lw,V6e=Lw,W6e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},GX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},q6e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HO(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function $6e(t){var e="of:="+t.replace(GI,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function fD(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function z6e(t){return t.replace(/\./,"!")}var ny={},Bp={},ry=typeof Map<"u";function JI(t,e,n){var r=0,i=t.length;if(n){if(ry?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=ry?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(ry?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Bw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(fs=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Zy(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=Zb(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function mf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function od(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){cc(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function KX(t,e,n,r,i,s){try{r.cellNF&&(t.z=zt[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=yr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(zt[e]==null&&cc(WDe[e]||"General",e),t.t==="e")t.w=t.w||Rc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hy(t.v);else if(t.t==="d"){var a=_i(t.v);(a|0)===a?t.w=a.toString(10):t.w=Hy(a)}else{if(t.v===void 0)return"";t.w=Of(t.v,Bp)}else t.t==="d"?t.w=ao(e,_i(t.v),Bp):t.w=ao(e,t.v,Bp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Qb(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Qb(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function H6e(t,e,n){if(t&&t["!ref"]){var r=En(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function G6e(t,e){var n=En(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=sn(n))}var K6e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,X6e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,J6e=/<(?:\w:)?hyperlink [^>]*>/mg,Y6e=/"(\w*:\w*)"/,Q6e=/<(?:\w:)?col\b[^>]*[\/]?>/g,Z6e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,eRe=/<(?:\w:)?pageMargins[^>]*\/>/g,XX=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,tRe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,nRe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function rRe(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(X6e);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var h=c.match(XX);h?YI(h[0],o,i,n):(h=c.match(tRe))&&sRe(h[0],h[1]||"",o,i,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=c.slice(p,p+50).match(Y6e);v&&G6e(o,v[1])}var g=c.match(nRe);g&&g[1]&&vRe(g[1],i);var y=[];if(e.cellStyles){var _=c.match(Q6e);_&&hRe(y,_)}f&&_Re(f[1],o,e,l,s,a);var x=u.match(Z6e);x&&(o["!autofilter"]=mRe(x[0]));var w=[],C=u.match(K6e);if(C)for(p=0;p!=C.length;++p)w[p]=En(C[p].slice(C[p].indexOf('"')+1));var D=u.match(J6e);D&&uRe(o,D,r);var R=u.match(eRe);if(R&&(o["!margins"]=dRe(Yt(R[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=sn(l)),e.sheetRows>0&&o["!ref"]){var S=En(o["!ref"]);e.sheetRows<=+S.e.r&&(S.e.r=e.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=sn(S))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function iRe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+sn(t[n])+'"/>';return e+"</mergeCells>"}function YI(t,e,n,r){var i=Yt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Tn(Qn(i.codeName)))}function sRe(t,e,n,r,i){YI(t.slice(0,t.indexOf(">")),n,r,i)}function aRe(t,e,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,a.codeName=vl(Gn(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+bt("outlinePr",null,c)}!s&&!o||(i[i.length]=bt("sheetPr",o,a))}var oRe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],lRe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function cRe(t){var e={sheet:1};return oRe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),lRe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=$I(t.password).toString(16).toUpperCase()),bt("sheetProtection",null,e)}function uRe(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=Yt(Qn(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Tn(s.location))):(s.Target="#"+Tn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=En(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Xt({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function dRe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function fRe(t){return mf(t),bt("pageMargins",null,t)}function hRe(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=Yt(e[r],!0);i.hidden&&(i.hidden=hr(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,zI(i.width)),$u(i);s<=a;)t[s++]=vr(i)}}function pRe(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=bt("col",null,Bw(i,r)));return n[n.length]="</cols>",n.join("")}function mRe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function gRe(t,e,n,r){var i=typeof t.ref=="string"?t.ref:sn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=sa(i);a.s.r==a.e.r&&(a.e.r=sa(e["!ref"]).e.r,i=sn(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),bt("autoFilter",null,{ref:i})}var yRe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function vRe(t,e){e.Views||(e.Views=[{}]),(t.match(yRe)||[]).forEach(function(n,r){var i=Yt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),hr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function xRe(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),bt("sheetViews",bt("sheetView",null,i),{})}function bRe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Rc[t.v];break;case"d":r&&r.cellDates?i=yr(t.v,-1).toISOString():(t=vr(t),t.t="n",i=""+(t.v=_i(yr(t.v)))),typeof t.z>"u"&&(t.z=zt[14]);break;default:i=t.v;break}var o=Yi("v",Gn(i)),l={r:e},c=od(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Yi("v",""+JI(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=bt("f",Gn(t.f),u)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),bt("c",o,l)}var _Re=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Gy("v"),a=Gy("f");return function(l,c,u,f,h,p){for(var v=0,g="",y=[],_=[],x=0,w=0,C=0,D="",R,S,N=0,k=0,F,P,I=0,U=0,O=Array.isArray(p.CellXf),G,K=[],J=[],te=Array.isArray(c),z=[],Y={},B=!1,j=!!u.sheetStubs,q=l.split(e),X=0,Q=q.length;X!=Q;++X){g=q[X].trim();var ee=g.length;if(ee!==0){var ae=0;e:for(v=0;v<ee;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(S=Yt(g.slice(ae,v),!0),N=S.r!=null?parseInt(S.r,10):N+1,k=-1,u.sheetRows&&u.sheetRows<N)continue;Y={},B=!1,S.ht&&(B=!0,Y.hpt=parseFloat(S.ht),Y.hpx=wm(Y.hpt)),S.hidden=="1"&&(B=!0,Y.hidden=!0),S.outlineLevel!=null&&(B=!0,Y.level=+S.outlineLevel),B&&(z[N-1]=Y)}break;case"<":ae=v;break}if(ae>=v)break;if(S=Yt(g.slice(ae,v),!0),N=S.r!=null?parseInt(S.r,10):N+1,k=-1,!(u.sheetRows&&u.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),u&&u.cellStyles&&(Y={},B=!1,S.ht&&(B=!0,Y.hpt=parseFloat(S.ht),Y.hpx=wm(Y.hpt)),S.hidden=="1"&&(B=!0,Y.hidden=!0),S.outlineLevel!=null&&(B=!0,Y.level=+S.outlineLevel),B&&(z[N-1]=Y)),y=g.slice(v).split(t);for(var de=0;de!=y.length&&y[de].trim().charAt(0)=="<";++de);for(y=y.slice(de),v=0;v!=y.length;++v)if(g=y[v].trim(),g.length!==0){if(_=g.match(n),x=v,w=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,_!=null&&_.length===2){for(x=0,D=_[1],w=0;w!=D.length&&!((C=D.charCodeAt(w)-64)<1||C>26);++w)x=26*x+C;--x,k=x}else++k;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,S=Yt(g.slice(0,w),!0),S.r||(S.r=Xt({r:N-1,c:k})),D=g.slice(w),R={t:""},(_=D.match(s))!=null&&_[1]!==""&&(R.v=Tn(_[1])),u.cellFormula){if((_=D.match(a))!=null&&_[1]!==""){if(R.f=Tn(Qn(_[1])).replace(/\r\n/g,`
`),u.xlfn||(R.f=WO(R.f)),_[0].indexOf('t="array"')>-1)R.F=(D.match(i)||[])[1],R.F.indexOf(":")>-1&&K.push([En(R.F),R.F]);else if(_[0].indexOf('t="shared"')>-1){P=Yt(_[0]);var fe=Tn(Qn(_[1]));u.xlfn||(fe=WO(fe)),J[parseInt(P.si,10)]=[P,fe,S.r]}}else(_=D.match(/<f[^>]*\/>/))&&(P=Yt(_[0]),J[P.si]&&(R.f=yIe(J[P.si][1],J[P.si][2],S.r)));var Ne=Pr(S.r);for(w=0;w<K.length;++w)Ne.r>=K[w][0].s.r&&Ne.r<=K[w][0].e.r&&Ne.c>=K[w][0].s.c&&Ne.c<=K[w][0].e.c&&(R.F=K[w][1])}if(S.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(j)R.t="z";else continue;else R.t=S.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),R.t){case"n":if(R.v==""||R.v==null){if(!j)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!j)continue;R.t="z"}else F=ny[parseInt(R.v,10)],R.v=F.t,R.r=F.r,u.cellHTML&&(R.h=F.h);break;case"str":R.t="s",R.v=R.v!=null?Qn(R.v):"",u.cellHTML&&(R.h=NI(R.v));break;case"inlineStr":_=D.match(r),R.t="s",_!=null&&(F=qI(_[1]))?(R.v=F.t,u.cellHTML&&(R.h=F.h)):R.v="";break;case"b":R.v=hr(R.v);break;case"d":u.cellDates?R.v=yr(R.v,1):(R.v=_i(yr(R.v,1)),R.t="n");break;case"e":(!u||u.cellText!==!1)&&(R.w=R.v),R.v=YK[R.v];break}if(I=U=0,G=null,O&&S.s!==void 0&&(G=p.CellXf[S.s],G!=null&&(G.numFmtId!=null&&(I=G.numFmtId),u.cellStyles&&G.fillId!=null&&(U=G.fillId))),KX(R,I,U,u,h,p),u.cellDates&&O&&R.t=="n"&&eg(zt[I])&&(R.t="d",R.v=Uw(R.v)),S.cm&&u.xlmeta){var Re=(u.xlmeta.Cell||[])[+S.cm-1];Re&&Re.type=="XLDAPR"&&(R.D=!0)}if(te){var me=Pr(S.r);c[me.r]||(c[me.r]=[]),c[me.r][me.c]=R}else c[S.r]=R}}}}z.length>0&&(c["!rows"]=z)}})();function wRe(t,e,n,r){var i=[],s=[],a=En(t["!ref"]),o="",l,c="",u=[],f=0,h=0,p=t["!rows"],v=Array.isArray(t),g={r:c},y,_=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=Rr(h);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=ti(f),h=a.s.c;h<=a.e.c;++h){l=u[h]+c;var x=v?(t[f]||[])[h]:t[l];x!==void 0&&(o=bRe(x,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:c},p&&p[f]&&(y=p[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=ev(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=bt("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},y=p[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=ev(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=bt("row","",g));return i.join("")}function JX(t,e,n,r){var i=[ri,bt("worksheet",null,{xmlns:ih[0],"xmlns:r":xi.r})],s=n.SheetNames[t],a=0,o="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=En(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=sn(u)}r||(r={}),l["!comments"]=[];var f=[];aRe(l,n,t,e,i),i[i.length]=bt("dimension",null,{ref:c}),i[i.length]=xRe(l,e,t,n),e.sheetFormat&&(i[i.length]=bt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=pRe(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=wRe(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=cRe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=gRe(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=iRe(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=zn(r,-1,Gn(g[1].Target).replace(/#.*$/,""),hn.HLINK),p["r:id"]="rId"+v),(h=g[1].Target.indexOf("#"))>-1&&(p.location=Gn(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=Gn(g[1].Tooltip)),i[i.length]=bt("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=fRe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Yi("ignoredErrors",bt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(v=zn(r,-1,"../drawings/drawing"+(t+1)+".xml",hn.DRAW),i[i.length]=bt("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=zn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",hn.VML),i[i.length]=bt("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function TRe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function ERe(t,e,n){var r=nt(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=ev(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var v=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Xt(c)];v&&(f<0&&(f=p),h=p)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function CRe(t,e,n,r){var i=ERe(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&at(t,0,i)}var SRe=lh,DRe=rg;function ARe(){}function NRe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=R4e(t),n}function kRe(t,e,n){n==null&&(n=nt(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return Xb({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),HK(t,n),n.slice(0,n.l)}function IRe(t){var e=co(t);return[e]}function RRe(t,e,n){return n==null&&(n=nt(8)),sh(e,n)}function PRe(t){var e=ah(t);return[e]}function FRe(t,e,n){return n==null&&(n=nt(4)),oh(e,n)}function MRe(t){var e=co(t),n=t.read_shift(1);return[e,n,"b"]}function URe(t,e,n){return n==null&&(n=nt(9)),sh(e,n),n.write_shift(1,t.v?1:0),n}function ORe(t){var e=ah(t),n=t.read_shift(1);return[e,n,"b"]}function LRe(t,e,n){return n==null&&(n=nt(5)),oh(e,n),n.write_shift(1,t.v?1:0),n}function jRe(t){var e=co(t),n=t.read_shift(1);return[e,n,"e"]}function BRe(t,e,n){return n==null&&(n=nt(9)),sh(e,n),n.write_shift(1,t.v),n}function VRe(t){var e=ah(t),n=t.read_shift(1);return[e,n,"e"]}function WRe(t,e,n){return n==null&&(n=nt(8)),oh(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function qRe(t){var e=co(t),n=t.read_shift(4);return[e,n,"s"]}function $Re(t,e,n){return n==null&&(n=nt(12)),sh(e,n),n.write_shift(4,e.v),n}function zRe(t){var e=ah(t),n=t.read_shift(4);return[e,n,"s"]}function HRe(t,e,n){return n==null&&(n=nt(8)),oh(e,n),n.write_shift(4,e.v),n}function GRe(t){var e=co(t),n=ps(t);return[e,n,"n"]}function KRe(t,e,n){return n==null&&(n=nt(16)),sh(e,n),jf(t.v,n),n}function YX(t){var e=ah(t),n=ps(t);return[e,n,"n"]}function XRe(t,e,n){return n==null&&(n=nt(12)),oh(e,n),jf(t.v,n),n}function JRe(t){var e=co(t),n=LI(t);return[e,n,"n"]}function YRe(t,e,n){return n==null&&(n=nt(12)),sh(e,n),GK(t.v,n),n}function QRe(t){var e=ah(t),n=LI(t);return[e,n,"n"]}function ZRe(t,e,n){return n==null&&(n=nt(8)),oh(e,n),GK(t.v,n),n}function e5e(t){var e=co(t),n=MI(t);return[e,n,"is"]}function t5e(t){var e=co(t),n=bs(t);return[e,n,"str"]}function n5e(t,e,n){return n==null&&(n=nt(12+4*t.v.length)),sh(e,n),ji(t.v,n),n.length>n.l?n.slice(0,n.l):n}function r5e(t){var e=ah(t),n=bs(t);return[e,n,"str"]}function i5e(t,e,n){return n==null&&(n=nt(8+4*t.v.length)),oh(e,n),ji(t.v,n),n.length>n.l?n.slice(0,n.l):n}function s5e(t,e,n){var r=t.l+e,i=co(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=jw(t,r-t.l,n);a[3]=ds(o,null,i,n.supbooks,n)}else t.l=r;return a}function a5e(t,e,n){var r=t.l+e,i=co(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=jw(t,r-t.l,n);a[3]=ds(o,null,i,n.supbooks,n)}else t.l=r;return a}function o5e(t,e,n){var r=t.l+e,i=co(t);i.r=n["!row"];var s=ps(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=jw(t,r-t.l,n);a[3]=ds(o,null,i,n.supbooks,n)}else t.l=r;return a}function l5e(t,e,n){var r=t.l+e,i=co(t);i.r=n["!row"];var s=bs(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=jw(t,r-t.l,n);a[3]=ds(o,null,i,n.supbooks,n)}else t.l=r;return a}var c5e=lh,u5e=rg;function d5e(t,e){return e==null&&(e=nt(4)),e.write_shift(4,t),e}function f5e(t,e){var n=t.l+e,r=lh(t),i=UI(t),s=bs(t),a=bs(t),o=bs(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function h5e(t,e){var n=nt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));rg({s:Pr(t[0]),e:Pr(t[0])},n),OI("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return ji(i||"",n),ji(t[1].Tooltip||"",n),ji("",n),n.slice(0,n.l)}function p5e(){}function m5e(t,e,n){var r=t.l+e,i=KK(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=j6e(t,r-t.l,n);a[1]=o}else t.l=r;return a}function g5e(t,e,n){var r=t.l+e,i=lh(t),s=[i];if(n.cellFormula){var a=V6e(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function y5e(t,e,n){n==null&&(n=nt(18));var r=Bw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var QX=["left","right","top","bottom","header","footer"];function v5e(t){var e={};return QX.forEach(function(n){e[n]=ps(t)}),e}function x5e(t,e){return e==null&&(e=nt(48)),mf(t),QX.forEach(function(n){jf(t[n],e)}),e}function b5e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function _5e(t,e,n){n==null&&(n=nt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function w5e(t){var e=nt(24);return e.write_shift(4,4),e.write_shift(4,1),rg(t,e),e}function T5e(t,e){return e==null&&(e=nt(66)),e.write_shift(2,t.password?$I(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function E5e(){}function C5e(){}function S5e(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,g,y,_,x,w,C,D,R=[];o.biff=12,o["!row"]=0;var S=0,N=!1,k=[],F={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=F,P.arrayf=k,P.SheetNames=i.SheetNames||i.Sheets.map(function(te){return te.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var I=0;I<i.Names.length;++I)P[0][I+1]=i.Names[I];var U=[],O=[],G=!1;tv[16]={n:"BrtShortReal",f:YX};var K;if(Ic(t,function(z,Y,B){if(!h)switch(B){case 148:c=z;break;case 0:p=z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),C=ti(y=p.r),o["!row"]=p.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=wm(z.hpt)),O[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:z[2]},z[2]){case"n":v.v=z[1];break;case"s":w=ny[z[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!z[1];break;case"e":v.v=z[1],o.cellText!==!1&&(v.w=Rc[v.v]);break;case"str":v.t="s",v.v=z[1];break;case"is":v.t="s",v.v=z[1].t;break}if((g=a.CellXf[z[0].iStyleRef])&&KX(v,g.numFmtId,null,o,s,a),_=z[0].c==-1?_+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][_]=v):l[Rr(_)+C]=v,o.cellFormula){for(N=!1,S=0;S<k.length;++S){var j=k[S];p.r>=j[0].s.r&&p.r<=j[0].e.r&&_>=j[0].s.c&&_<=j[0].e.c&&(v.F=sn(j[0]),N=!0)}!N&&z.length>3&&(v.f=z[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>_&&(u.s.c=_),u.e.r<p.r&&(u.e.r=p.r),u.e.c<_&&(u.e.c=_),o.cellDates&&g&&v.t=="n"&&eg(zt[g.numFmtId])){var q=rf(v.v);q&&(v.t="d",v.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}K&&(K.type=="XLDAPR"&&(v.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},_=z[0].c==-1?_+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][_]=v):l[Rr(_)+C]=v,u.s.r>p.r&&(u.s.r=p.r),u.s.c>_&&(u.s.c=_),u.e.r<p.r&&(u.e.r=p.r),u.e.c<_&&(u.e.c=_),K&&(K.type=="XLDAPR"&&(v.D=!0),K=void 0);break;case 176:R.push(z);break;case 49:K=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var X=r["!id"][z.relId];for(X?(z.Target=X.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=X):z.relId==""&&(z.Target="#"+z.loc),y=z.rfx.s.r;y<=z.rfx.e.r;++y)for(_=z.rfx.s.c;_<=z.rfx.e.c;++_)o.dense?(l[y]||(l[y]=[]),l[y][_]||(l[y][_]={t:"z",v:void 0}),l[y][_].l=z):(x=Xt({c:_,r:y}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=z);break;case 426:if(!o.cellFormula)break;k.push(z),D=o.dense?l[y][_]:l[Rr(_)+C],D.f=ds(z[1],u,{r:p.r,c:_},P,o),D.F=sn(z[0]);break;case 427:if(!o.cellFormula)break;F[Xt(z[0].s)]=z[1],D=o.dense?l[y][_]:l[Rr(_)+C],D.f=ds(z[1],u,{r:p.r,c:_},P,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)U[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},G||(G=!0,zI(z.w/256)),$u(U[z.e+1]);break;case 161:l["!autofilter"]={ref:sn(z)};break;case 476:l["!margins"]=z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),z.name&&(i.Sheets[n].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Y.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=sn(c||u)),o.sheetRows&&l["!ref"]){var J=En(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=sn(J))}return R.length>0&&(l["!merges"]=R),U.length>0&&(l["!cols"]=U),O.length>0&&(l["!rows"]=O),l}function D5e(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=vr(e),e.z=e.z||zt[14],e.v=_i(yr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=od(i.cellXfs,e,i),e.l&&s["!links"].push([Xt(l),e.l]),e.c&&s["!comments"].push([Xt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=JI(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?at(t,18,HRe(e,l)):at(t,7,$Re(e,l))):(l.t="str",a?at(t,17,i5e(e,l)):at(t,6,n5e(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?at(t,13,ZRe(e,l)):at(t,2,YRe(e,l)):a?at(t,16,XRe(e,l)):at(t,5,KRe(e,l)),!0;case"b":return l.t="b",a?at(t,15,LRe(e,l)):at(t,4,URe(e,l)),!0;case"e":return l.t="e",a?at(t,14,WRe(e,l)):at(t,3,BRe(e,l)),!0}return a?at(t,12,FRe(e,l)):at(t,1,RRe(e,l)),!0}function A5e(t,e,n,r){var i=En(e["!ref"]||"A1"),s,a="",o=[];at(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=ti(u),CRe(t,e,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=Rr(h)),s=o[h]+a;var p=l?(e[u]||[])[h]:e[s];if(!p){f=!1;continue}f=D5e(t,p,u,h,r,e,f)}}at(t,146)}function N5e(t,e){!e||!e["!merges"]||(at(t,177,d5e(e["!merges"].length)),e["!merges"].forEach(function(n){at(t,176,u5e(n))}),at(t,178))}function k5e(t,e){!e||!e["!cols"]||(at(t,390),e["!cols"].forEach(function(n,r){n&&at(t,60,y5e(r,n))}),at(t,391))}function I5e(t,e){!e||!e["!ref"]||(at(t,648),at(t,649,w5e(En(e["!ref"]))),at(t,650))}function R5e(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=zn(n,-1,r[1].Target.replace(/#.*$/,""),hn.HLINK);at(t,494,h5e(r,i))}}),delete e["!links"]}function P5e(t,e,n,r){if(e["!comments"].length>0){var i=zn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",hn.VML);at(t,551,OI("rId"+i)),e["!legacy"]=i}}function F5e(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:sn(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=sa(s);o.s.r==o.e.r&&(o.e.r=sa(e["!ref"]).e.r,s=sn(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),at(t,161,rg(En(s))),at(t,162)}}function M5e(t,e,n){at(t,133),at(t,137,_5e(e,n)),at(t,138),at(t,134)}function U5e(t,e){e["!protect"]&&at(t,535,T5e(e["!protect"]))}function O5e(t,e,n,r){var i=ia(),s=n.SheetNames[t],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=En(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],at(i,129),(n.vbaraw||a["!outline"])&&at(i,147,kRe(o,a["!outline"])),at(i,148,DRe(l)),M5e(i,a,n.Workbook),k5e(i,a),A5e(i,a,t,e),U5e(i,a),F5e(i,a,n,t),N5e(i,a),R5e(i,a,r),a["!margins"]&&at(i,476,x5e(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&I5e(i,a),P5e(i,a,t,r),at(i,130),i.end()}function L5e(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=Tn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function j5e(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=L5e(f);u.s.r=u.s.c=0,u.e.c=o,c=Rr(o),h[0].forEach(function(p,v){a[c+ti(v)]={t:"n",v:p,z:h[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=sn(u)),a}function B5e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(XX);return o&&YI(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function V5e(t,e){t.l+=10;var n=bs(t);return{name:n}}function W5e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Ic(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var QI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],q5e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],$5e=[],z5e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function GO(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=hr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function KO(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=hr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function ZX(t){KO(t.WBProps,QI),KO(t.CalcPr,z5e),GO(t.WBView,q5e),GO(t.Sheets,$5e),Bp.date1904=hr(t.WBProps.date1904)}function H5e(t){return!t.Workbook||!t.Workbook.WBProps?"false":hr(t.Workbook.WBProps.date1904)?"true":"false"}var G5e="][*?/\\".split("");function eJ(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return G5e.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function K5e(t,e,n){t.forEach(function(r,i){eJ(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function X5e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];K5e(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)H6e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var J5e=/<\w+:workbook/;function Y5e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(Es,function(l,c){var u=Yt(l);switch(Pl(u[0])){case"<?xml":break;case"<workbook":l.match(J5e)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":QI.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=hr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=Qn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Tn(Qn(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Qn(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),hr(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=Tn(Qn(t.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),ih.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return ZX(n),n}function tJ(t){var e=[ri];e[e.length]=bt("workbook",null,{xmlns:ih[0],"xmlns:r":xi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(QI.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=bt("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Gn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=bt("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=bt("definedName",Gn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Q5e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=iN(t),n.name=bs(t),n}function Z5e(t,e){return e||(e=nt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),OI(t.strRelID,e),ji(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function e8e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?bs(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function t8e(t,e){e||(e=nt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),HK(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function n8e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function r8e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=P4e(t),a=B6e(t,0,n),o=UI(t);t.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function i8e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],tv[16]={n:"BrtFRTArchID$",f:n8e},Ic(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=ds(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),ZX(n),n.Names=s,n.supbooks=a,n}function s8e(t,e){at(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};at(t,156,Z5e(i))}at(t,144)}function a8e(t,e){e||(e=nt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return ji("SheetJS",e),ji(Wb.version,e),ji(Wb.version,e),ji("7262",e),e.length>e.l?e.slice(0,e.l):e}function o8e(t,e){e||(e=nt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function l8e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(at(t,135),at(t,158,o8e(i)),at(t,136))}}function c8e(t,e){var n=ia();return at(n,131),at(n,128,a8e()),at(n,153,t8e(t.Workbook&&t.Workbook.WBProps||null)),l8e(n,t),s8e(n,t),at(n,132),n.end()}function u8e(t,e,n){return e.slice(-4)===".bin"?i8e(t,n):Y5e(t,n)}function d8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?S5e(t,r,n,i,s,a,o):rRe(t,r,n,i,s,a,o)}function f8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?W5e(t,r,n,i,s):B5e(t,r,n,i,s)}function h8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?mIe():gIe()}function p8e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?hIe():pIe()}function m8e(t,e,n,r){return e.slice(-4)===".bin"?uke(t,n,r):Q3e(t,n,r)}function g8e(t,e,n){return MX(t,n)}function y8e(t,e,n){return e.slice(-4)===".bin"?y3e(t,n):p3e(t,n)}function v8e(t,e,n){return e.slice(-4)===".bin"?lIe(t,n):Zke(t,n)}function x8e(t,e,n){return e.slice(-4)===".bin"?Jke(t):Kke(t)}function b8e(t,e,n,r){return n.slice(-4)===".bin"?Yke(t,e,n,r):void 0}function _8e(t,e,n){return e.slice(-4)===".bin"?zke(t,e,n):Gke(t,e,n)}function w8e(t,e,n){return(e.slice(-4)===".bin"?c8e:tJ)(t)}function T8e(t,e,n,r,i){return(e.slice(-4)===".bin"?O5e:JX)(t,n,r,i)}function E8e(t,e,n){return(e.slice(-4)===".bin"?bke:PX)(t,n)}function C8e(t,e,n){return(e.slice(-4)===".bin"?b3e:CX)(t,n)}function S8e(t,e,n){return(e.slice(-4)===".bin"?cIe:LX)(t)}function D8e(t){return(t.slice(-4)===".bin"?Hke:UX)()}var nJ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,rJ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Co(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(nJ),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(rJ),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function A8e(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(nJ),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(rJ),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var iy;function N8e(t,e){var n=iy[t]||Tn(t);return n==="General"?Of(e):ao(n,e)}function k8e(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=hr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=yr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Tn(e)]=i}function I8e(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Rc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hy(t.v):t.w=Of(t.v):t.w=N8e(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=iy[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&eg(r)){var i=rf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function R8e(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=$3e[r.Pattern]||r.Pattern)}t[e.ID]=e}function P8e(t,e,n,r,i,s,a,o,l,c){var u="General",f=r.StyleID,h={};c=c||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=hr(t);break;case"String":r.t="s",r.r=dO(Tn(t)),r.v=t.indexOf("<")>-1?Tn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(yr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Tn(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=YK[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=dO(e||t));break}if(I8e(r,u,c),c.cellFormula!==!1)if(r.Formula){var g=Tn(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=jp(g,i),delete r.Formula,r.ArrayRange=="RC"?r.F=jp("RC:RC",i):r.ArrayRange&&(r.F=jp(r.ArrayRange,i),l.push([En(r.F),r.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(r.F=l[v][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function F8e(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function hD(t,e){var n=e||{};tg();var r=E0(kI(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Qn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=vr(n);return a.type="string",_m.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(re){i.indexOf("<"+re)>=0&&(s=!0)}),s)return xPe(r,n);iy={"General Number":"General","General Date":zt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":zt[15],"Short Date":zt[14],"Long Time":zt[19],"Medium Time":zt[18],"Short Time":zt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:zt[2],Standard:zt[4],Percent:zt[10],Scientific:zt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=n.dense?[]:{},p="",v={},g={},y=Co('<Data ss:Type="String">'),_=0,x=0,w=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},R={},S="",N=0,k=[],F={},P={},I=0,U=[],O=[],G={},K=[],J,te=!1,z=[],Y=[],B={},j=0,q=0,X={Sheets:[],WBProps:{date1904:!1}},Q={};Xy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";o=Xy.exec(r);)switch(o[3]=(ee=o[3]).toLowerCase()){case"data":if(ee=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?P8e(r.slice(_,o.index),S,y,l[l.length-1][0]=="comment"?G:v,{c:x,r:w},D,K[x],g,z,n):(S="",y=Co(o[0]),_=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(O.length>0&&(v.c=O),(!n.sheetRows||n.sheetRows>w)&&v.v!==void 0&&(n.dense?(h[w]||(h[w]=[]),h[w][x]=v):h[Rr(x)+ti(w)]=v),v.HRef&&(v.l={Target:Tn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=x+(parseInt(v.MergeAcross,10)|0),q=w+(parseInt(v.MergeDown,10)|0),k.push({s:{c:x,r:w},e:{c:j,r:q}})),!n.sheetStubs)v.MergeAcross?x=j+1:++x;else if(v.MergeAcross||v.MergeDown){for(var ae=x;ae<=j;++ae)for(var de=w;de<=q;++de)(ae>x||de>w)&&(n.dense?(h[de]||(h[de]=[]),h[de][ae]={t:"z"}):h[Rr(ae)+ti(de)]={t:"z"});x=j+1}else++x;else v=A8e(o[0]),v.Index&&(x=+v.Index-1),x<C.s.c&&(C.s.c=x),x>C.e.c&&(C.e.c=x),o[0].slice(-2)==="/>"&&++x,O=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<C.s.r&&(C.s.r=w),w>C.e.r&&(C.e.r=w),o[0].slice(-2)==="/>"&&(g=Co(o[0]),g.Index&&(w=+g.Index-1)),x=0,++w):(g=Co(o[0]),g.Index&&(w=+g.Index-1),B={},(g.AutoFitHeight=="0"||g.Height)&&(B.hpx=parseInt(g.Height,10),B.hpt=ev(B.hpx),Y[w]=B),g.Hidden=="1"&&(B.hidden=!0,Y[w]=B));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=sn(C),n.sheetRows&&n.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=n.sheetRows-1,h["!ref"]=sn(C))),k.length&&(h["!merges"]=k),K.length>0&&(h["!cols"]=K),Y.length>0&&(h["!rows"]=Y),u[p]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=x=0,l.push([o[3],!1]),c=Co(o[0]),p=Tn(c.Name),h=n.dense?[]:{},k=[],z=[],Y=[],Q={name:p,Hidden:0},X.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),K=[],te=!1}break;case"style":o[1]==="/"?R8e(D,R,n):R=Co(o[0]);break;case"numberformat":R.nf=Tn(Co(o[0]).Format||"General"),iy[R.nf]&&(R.nf=iy[R.nf]);for(var fe=0;fe!=392&&zt[fe]!=R.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(zt[fe]==null){cc(R.nf,fe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=Co(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!te&&J.wpx>10){te=!0,fs=IX;for(var Ne=0;Ne<K.length;++Ne)K[Ne]&&$u(K[Ne])}te&&$u(J),K[J.Index-1||K.length]=J;for(var Re=0;Re<+J.Span;++Re)K[K.length]=vr(J);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var me=Yt(o[0]),Le={Name:me.Name,Ref:jp(me.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(Le.Sheet=X.Sheets.length-1),X.Names.push(Le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=r.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;R.Interior=Co(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?iAe(F,ee,r.slice(I,o.index)):I=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));F8e(G),O.push(G)}else l.push([o[3],!1]),c=Co(o[0]),G={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var V=Co(o[0]);h["!autofilter"]={ref:jp(V.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return ZO(r,n);var ve=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ve=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ve=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ve=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ve=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(I,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else I=o.index+o[0].length;break;case"header":h["!margins"]||mf(h["!margins"]={},"xlml"),isNaN(+Yt(o[0]).Margin)||(h["!margins"].header=+Yt(o[0]).Margin);break;case"footer":h["!margins"]||mf(h["!margins"]={},"xlml"),isNaN(+Yt(o[0]).Margin)||(h["!margins"].footer=+Yt(o[0]).Margin);break;case"pagemargins":var we=Yt(o[0]);h["!margins"]||mf(h["!margins"]={},"xlml"),isNaN(+we.Top)||(h["!margins"].top=+we.Top),isNaN(+we.Left)||(h["!margins"].left=+we.Left),isNaN(+we.Right)||(h["!margins"].right=+we.Right),isNaN(+we.Bottom)||(h["!margins"].bottom=+we.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ve=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ve=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ve=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ve=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ve=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ve=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ve=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ve=!1}break;case"smarttags":break;default:ve=!1;break}if(ve||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?k8e(P,ee,U,r.slice(I,o.index)):(U=o,I=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var oe={};return!n.bookSheets&&!n.bookProps&&(oe.Sheets=u),oe.SheetNames=f,oe.Workbook=X,oe.SSF=vr(zt),oe.Props=F,oe.Custprops=P,oe}function dN(t,e){switch(e6(e=e||{}),e.type||"base64"){case"base64":return hD(ka(t),e);case"binary":case"buffer":case"file":return hD(t,e);case"array":return hD(sd(t),e)}}function M8e(t,e){var n=[];return t.Props&&n.push(sAe(t.Props,e)),t.Custprops&&n.push(aAe(t.Props,t.Custprops)),n.join("")}function U8e(){return""}function O8e(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(bt("NumberFormat",null,{"ss:Format":Gn(zt[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(bt("Style",s.join(""),a))}),bt("Styles",n.join(""))}function iJ(t){return bt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+KI(t.Ref,{r:0,c:0})})}function L8e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(iJ(i)))}return bt("Names",n.join(""))}function j8e(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(iJ(o)))}return s.join("")}function B8e(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(bt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(bt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(bt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(bt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Yi("ProtectContents","True")),t["!protect"].objects&&i.push(Yi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Yi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Yi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Yi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":bt("WorksheetOptions",i.join(""),{xmlns:ba.x})}function V8e(t){return t.map(function(e){var n=l4e(e.t||""),r=bt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return bt("Comment",r,{"ss:Author":e.a})}).join("")}function W8e(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Gn(KI(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Pr(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Gn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Gn(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=Rc[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||zt[14]);break;case"s":f="String",h=o4e(t.v||"");break}var p=od(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var v=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=V8e(t.c)),bt("Cell",g,o)}function q8e(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=wm(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function $8e(t,e,n,r){if(!t["!ref"])return"";var i=En(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,_){$u(y);var x=!!y.width,w=Bw(_,y),C={"ss:Index":_+1};x&&(C["ss:Width"]=Qy(w.width)),y.hidden&&(C["ss:Hidden"]="1"),o.push(bt("Column",null,C))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[q8e(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},v=Xt(p),g=l?(t[c]||[])[f]:t[v];u.push(W8e(g,v,t,e,n,r,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function z8e(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?j8e(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?$8e(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(B8e(s,e,t,n)),r.join("")}function H8e(t,e){e||(e={}),t.SSF||(t.SSF=vr(zt)),t.SSF&&(tg(),Pw(t.SSF),e.revssf=Mw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(M8e(t,e)),n.push(U8e()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(bt("Worksheet",z8e(r,e,t),{"ss:Name":Gn(t.SheetNames[r])}));return n[2]=O8e(t,e),n[3]=L8e(t),ri+bt("Workbook",n.join(""),{xmlns:ba.ss,"xmlns:o":ba.o,"xmlns:x":ba.x,"xmlns:ss":ba.ss,"xmlns:dt":ba.dt,"xmlns:html":ba.html})}function G8e(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=L4e(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=j4e(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var K8e=[60,1084,2066,2165,2175];function X8e(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=tc(n,n.l),c=fN[l],u=0;c!=null&&K8e.indexOf(l)>-1;)s=tc(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+s),a.push(o),n.l+=4+s,c=fN[l=tc(n,n.l)];var f=Li(a);Xi(f,0);var h=0;f.lens=[];for(var p=0;p<a.length;++p)f.lens.push(h),h+=a[p].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function tl(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=zt[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Rc[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hy(t.v):t.w=Of(t.v):t.w=ao(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&eg(zt[r]||String(r))){var i=rf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function qx(t,e,n){return{v:t,ixfe:e,t:n}}function J8e(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},f,h="",p,v,g,y,_={},x=[],w,C,D=[],R=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},k=function(Oe){return Oe<8?ff[Oe]:Oe<64&&R[Oe-8]||ff[Oe]},F=function(Oe,Ke,rt){var it=Ke.XF.data;if(!(!it||!it.patternType||!rt||!rt.cellStyles)){Ke.s={},Ke.s.patternType=it.patternType;var Ot;(Ot=Yy(k(it.icvFore)))&&(Ke.s.fgColor={rgb:Ot}),(Ot=Yy(k(it.icvBack)))&&(Ke.s.bgColor={rgb:Ot})}},P=function(Oe,Ke,rt){if(!(B>1)&&!(rt.sheetRows&&Oe.r>=rt.sheetRows)){if(rt.cellStyles&&Ke.XF&&Ke.XF.data&&F(Oe,Ke,rt),delete Ke.ixfe,delete Ke.XF,f=Oe,h=Xt(Oe),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Oe.r<a.s.r&&(a.s.r=Oe.r),Oe.c<a.s.c&&(a.s.c=Oe.c),Oe.r+1>a.e.r&&(a.e.r=Oe.r+1),Oe.c+1>a.e.c&&(a.e.c=Oe.c+1),rt.cellFormula&&Ke.f){for(var it=0;it<x.length;++it)if(!(x[it][0].s.c>Oe.c||x[it][0].s.r>Oe.r)&&!(x[it][0].e.c<Oe.c||x[it][0].e.r<Oe.r)){Ke.F=sn(x[it][0]),(x[it][0].s.c!=Oe.c||x[it][0].s.r!=Oe.r)&&delete Ke.f,Ke.f&&(Ke.f=""+ds(x[it][1],a,Oe,z,I));break}}rt.dense?(i[Oe.r]||(i[Oe.r]=[]),i[Oe.r][Oe.c]=Ke):i[h]=Ke}},I={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(I.password=e.password);var U,O=[],G=[],K=[],J=[],te=!1,z=[];z.SheetNames=I.snames,z.sharedf=I.sharedf,z.arrayf=I.arrayf,z.names=[],z.XTI=[];var Y=0,B=0,j=0,q=[],X=[],Q;I.codepage=1200,Po(1200);for(var ee=!1;t.l<t.length-1;){var ae=t.l,de=t.read_shift(2);if(de===0&&Y===10)break;var fe=t.l===t.length?0:t.read_shift(2),Ne=fN[de];if(Ne&&Ne.f){if(e.bookSheets&&Y===133&&de!==133)break;if(Y=de,Ne.r===2||Ne.r==12){var Re=t.read_shift(2);if(fe-=2,!I.enc&&Re!==de&&((Re&255)<<8|Re>>8)!==de)throw new Error("rt mismatch: "+Re+"!="+de);Ne.r==12&&(t.l+=10,fe-=10)}var me={};if(de===10?me=Ne.f(t,fe,I):me=X8e(de,Ne,t,fe,I),B==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(de){case 34:n.opts.Date1904=S.WBProps.date1904=me;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(I.enc||(t.l=0),I.enc=me,!e.password)throw new Error("File is password-protected");if(me.valid==null)throw new Error("Encryption scheme unsupported");if(!me.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=me;break;case 66:var Le=Number(me);switch(Le){case 21010:Le=1200;break;case 32768:Le=1e4;break;case 32769:Le=1252;break}Po(I.codepage=Le),ee=!0;break;case 317:I.rrtabid=me;break;case 25:I.winlocked=me;break;case 439:n.opts.RefreshAll=me;break;case 12:n.opts.CalcCount=me;break;case 16:n.opts.CalcDelta=me;break;case 17:n.opts.CalcIter=me;break;case 13:n.opts.CalcMode=me;break;case 14:n.opts.CalcPrecision=me;break;case 95:n.opts.CalcSaveRecalc=me;break;case 15:I.CalcRefMode=me;break;case 2211:n.opts.FullCalc=me;break;case 129:me.fDialog&&(i["!type"]="dialog"),me.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),me.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(me);break;case 430:z.push([me]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(me);break;case 24:case 536:Q={Name:me.Name,Ref:ds(me.rgce,a,null,z,I)},me.itab>0&&(Q.Sheet=me.itab-1),z.names.push(Q),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(me),me.Name=="_xlnm._FilterDatabase"&&me.itab>0&&me.rgce&&me.rgce[0]&&me.rgce[0][0]&&me.rgce[0][0][0]=="PtgArea3d"&&(X[me.itab-1]={ref:sn(me.rgce[0][0][1][2])});break;case 22:I.ExternCount=me;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(me),z.XTI=z.XTI.concat(me);break;case 2196:if(I.biff<8)break;Q!=null&&(Q.Comment=me[1]);break;case 18:i["!protect"]=me;break;case 19:me!==0&&I.WTF&&console.error("Password verifier: "+me);break;case 133:s[me.pos]=me,I.snames.push(me.name);break;case 10:{if(--B)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=sn(a),e.sheetRows&&e.sheetRows<=a.e.r){var V=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=sn(a),a.e.r=V}a.e.r++,a.e.c++}O.length>0&&(i["!merges"]=O),G.length>0&&(i["!objects"]=G),K.length>0&&(i["!cols"]=K),J.length>0&&(i["!rows"]=J),S.Sheets.push(N)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[me.BIFFVer]||8),I.biffguess=me.BIFFVer==0,me.BIFFVer==0&&me.dt==4096&&(I.biff=5,ee=!0,Po(I.codepage=28591)),I.biff==8&&me.BIFFVer==0&&me.dt==16&&(I.biff=2),B++)break;if(i=e.dense?[]:{},I.biff<8&&!ee&&(ee=!0,Po(I.codepage=e.codepage||1252)),I.biff<5||me.BIFFVer==0&&me.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ve={pos:t.l-fe,name:c};s[ve.pos]=ve,I.snames.push(c)}else c=(s[ae]||{name:""}).name;me.dt==32&&(i["!type"]="chart"),me.dt==64&&(i["!type"]="macro"),O=[],G=[],I.arrayf=x=[],K=[],J=[],te=!1,N={Hidden:(s[ae]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[me.r]||[])[me.c]:i[Xt({c:me.c,r:me.r})])&&++me.c,w={ixfe:me.ixfe,XF:D[me.ixfe]||{},v:me.val,t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 5:case 517:w={ixfe:me.ixfe,XF:D[me.ixfe],v:me.val,t:me.t},j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 638:w={ixfe:me.ixfe,XF:D[me.ixfe],v:me.rknum,t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 189:for(var we=me.c;we<=me.C;++we){var oe=me.rkrec[we-me.c][0];w={ixfe:oe,XF:D[oe],v:me.rkrec[we-me.c][1],t:"n"},j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:we,r:me.r},w,e)}break;case 6:case 518:case 1030:{if(me.val=="String"){o=me;break}if(w=qx(me.val,me.cell.ixfe,me.tt),w.XF=D[w.ixfe],e.cellFormula){var re=me.formula;if(re&&re[0]&&re[0][0]&&re[0][0][0]=="PtgExp"){var le=re[0][0][1][0],he=re[0][0][1][1],_e=Xt({r:le,c:he});_[_e]?w.f=""+ds(me.formula,a,me.cell,z,I):w.F=((e.dense?(i[le]||[])[he]:i[_e])||{}).F}else w.f=""+ds(me.formula,a,me.cell,z,I)}j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P(me.cell,w,e),o=me}break;case 7:case 519:if(o)o.val=me,w=qx(me,o.cell.ixfe,"s"),w.XF=D[w.ixfe],e.cellFormula&&(w.f=""+ds(o.formula,a,o.cell,z,I)),j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(me);var ie=Xt(me[0].s);if(p=e.dense?(i[me[0].s.r]||[])[me[0].s.c]:i[ie],e.cellFormula&&p){if(!o||!ie||!p)break;p.f=""+ds(me[1],a,me[0],z,I),p.F=sn(me[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;_[Xt(o.cell)]=me[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Xt(o.cell)],(p||{}).f=""+ds(me[0],a,f,z,I)}}break;case 253:w=qx(l[me.isst].t,me.ixfe,"s"),l[me.isst].h&&(w.h=l[me.isst].h),w.XF=D[w.ixfe],j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:me.ixfe,XF:D[me.ixfe],t:"z"},j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e));break;case 190:if(e.sheetStubs)for(var ce=me.c;ce<=me.C;++ce){var ye=me.ixfe[ce-me.c];w={ixfe:ye,XF:D[ye],t:"z"},j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:ce,r:me.r},w,e)}break;case 214:case 516:case 4:w=qx(me.val,me.ixfe,"s"),w.XF=D[w.ixfe],j>0&&(w.z=q[w.ixfe>>8&63]),tl(w,e,n.opts.Date1904),P({c:me.c,r:me.r},w,e);break;case 0:case 512:B===1&&(a=me);break;case 252:l=me;break;case 1054:if(I.biff==4){q[j++]=me[1];for(var xe=0;xe<j+163&&zt[xe]!=me[1];++xe);xe>=163&&cc(me[1],j+163)}else cc(me[1],me[0]);break;case 30:{q[j++]=me;for(var ke=0;ke<j+163&&zt[ke]!=me;++ke);ke>=163&&cc(me,j+163)}break;case 229:O=O.concat(me);break;case 93:G[me.cmo[0]]=I.lastobj=me;break;case 438:I.lastobj.TxO=me;break;case 127:I.lastobj.ImData=me;break;case 440:for(y=me[0].s.r;y<=me[0].e.r;++y)for(g=me[0].s.c;g<=me[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Xt({c:g,r:y})],p&&(p.l=me[1]);break;case 2048:for(y=me[0].s.r;y<=me[0].e.r;++y)for(g=me[0].s.c;g<=me[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[Xt({c:g,r:y})],p&&p.l&&(p.l.Tooltip=me[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;p=e.dense?(i[me[0].r]||[])[me[0].c]:i[Xt(me[0])];var Ue=G[me[2]];p||(e.dense?(i[me[0].r]||(i[me[0].r]=[]),p=i[me[0].r][me[0].c]={t:"z"}):p=i[Xt(me[0])]={t:"z"},a.e.r=Math.max(a.e.r,me[0].r),a.s.r=Math.min(a.s.r,me[0].r),a.e.c=Math.max(a.e.c,me[0].c),a.s.c=Math.min(a.s.c,me[0].c)),p.c||(p.c=[]),v={a:me[1],t:Ue.TxO.t},p.c.push(v)}break;case 2173:Oke(D[me.ixfe],me.ext);break;case 125:{if(!I.cellStyles)break;for(;me.e>=me.s;)K[me.e--]={width:me.w/256,level:me.level||0,hidden:!!(me.flags&1)},te||(te=!0,zI(me.w/256)),$u(K[me.e+1])}break;case 520:{var Ce={};me.level!=null&&(J[me.r]=Ce,Ce.level=me.level),me.hidden&&(J[me.r]=Ce,Ce.hidden=!0),me.hpt&&(J[me.r]=Ce,Ce.hpt=me.hpt,Ce.hpx=wm(me.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||mf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=me;break;case 161:i["!margins"]||mf(i["!margins"]={}),i["!margins"].header=me.header,i["!margins"].footer=me.footer;break;case 574:me.RTL&&(S.Views[0].RTL=!0);break;case 146:R=me;break;case 2198:U=me;break;case 140:C=me;break;case 442:c?N.CodeName=me||N.name:S.WBProps.CodeName=me||"ThisWorkbook";break}}else Ne||console.error("Missing Info for XLS Record 0x"+de.toString(16)),t.l+=fe}return n.SheetNames=$r(s).sort(function(Me,Oe){return Number(Me)-Number(Oe)}).map(function(Me){return s[Me].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&X.forEach(function(Me,Oe){n.Sheets[n.SheetNames[Oe]]["!autofilter"]=Me}),n.Strings=l,n.SSF=vr(zt),I.enc&&(n.Encryption=I.enc),U&&(n.Themes=U),n.Metadata={},C!==void 0&&(n.Metadata.Country=C),z.names.length>0&&(S.Names=z.names),n.Workbook=S,n}var sy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Y8e(t,e,n){var r=Bt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=NO(r,sN,sy.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var a=Bt.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=NO(a,aN,sy.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(rX(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function Q8e(t,e){var n=[],r=[],i=[],s=0,a,o=sO(sN,"n"),l=sO(aN,"n");if(t.Props)for(a=$r(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=$r(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)uX.indexOf(i[s][0])>-1||nX.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Bt.utils.cfb_add(e,"/SummaryInformation",kO(r,sy.SI,l,aN)),(n.length||c.length)&&Bt.utils.cfb_add(e,"/DocumentSummaryInformation",kO(n,sy.DSI,o,sN,c.length?c:null,sy.UDI))}function sJ(t,e){e||(e={}),e6(e),_I(),e.codepage&&bI(e.codepage);var n,r;if(t.FullPaths){if(Bt.find(t,"/encryption"))throw new Error("File is password-protected");n=Bt.find(t,"!CompObj"),r=Bt.find(t,"/Workbook")||Bt.find(t,"/Book")}else{switch(e.type){case"base64":t=wa(ka(t));break;case"binary":t=wa(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Xi(t,0),r={content:t}}var i,s;if(n&&G8e(n),e.bookProps&&!e.bookSheets)i={};else{var a=dn?"buffer":"array";if(r&&r.content)i=J8e(r.content,e);else if((s=Bt.find(t,"PerfectOffice_MAIN"))&&s.content)i=pf.to_workbook(s.content,(e.type=a,e));else if((s=Bt.find(t,"NativeContent_MAIN"))&&s.content)i=pf.to_workbook(s.content,(e.type=a,e));else throw(s=Bt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Bt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=dIe(t))}var o={};return t.FullPaths&&Y8e(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function Z8e(t,e){var n=e||{},r=Bt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Bt.utils.cfb_add(r,i,aJ(t,n)),n.biff==8&&(t.Props||t.Custprops)&&Q8e(t,r),n.biff==8&&t.vbaraw&&fIe(r,Bt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var tv={0:{f:TRe},1:{f:IRe},2:{f:JRe},3:{f:jRe},4:{f:MRe},5:{f:GRe},6:{f:t5e},7:{f:qRe},8:{f:l5e},9:{f:o5e},10:{f:s5e},11:{f:a5e},12:{f:PRe},13:{f:QRe},14:{f:VRe},15:{f:ORe},16:{f:YX},17:{f:r5e},18:{f:zRe},19:{f:MI},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:r8e},40:{},42:{},43:{f:tke},44:{f:Z3e},45:{f:ike},46:{f:ake},47:{f:ske},48:{},49:{f:S4e},50:{},51:{f:Bke},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_X},62:{f:e5e},63:{f:Xke},64:{f:E5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:_s,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:b5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:NRe},148:{f:SRe,p:16},151:{f:p5e},152:{},153:{f:e8e},154:{},155:{},156:{f:Q5e},157:{},158:{},159:{T:1,f:g3e},160:{T:-1},161:{T:1,f:lh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:c5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Lke},336:{T:-1},337:{f:qke,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:iN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:m5e},427:{f:g5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:v5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ARe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:f5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:iN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aIe},633:{T:1},634:{T:-1},635:{T:1,f:iIe},636:{T:-1},637:{f:k4e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:V5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:C5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},fN={6:{f:dD},10:{f:ou},12:{f:ui},13:{f:ui},14:{f:Yr},15:{f:Yr},16:{f:ps},17:{f:Yr},18:{f:Yr},19:{f:ui},20:{f:UO},21:{f:UO},23:{f:bX},24:{f:LO},25:{f:Yr},26:{},27:{},28:{f:CNe},29:{},34:{f:Yr},35:{f:OO},38:{f:ps},39:{f:ps},40:{f:ps},41:{f:ps},42:{f:Yr},43:{f:Yr},47:{f:O3e},49:{f:QAe},51:{f:ui},60:{},61:{f:GAe},64:{f:Yr},65:{f:YAe},66:{f:ui},77:{},80:{},81:{},82:{},85:{f:ui},89:{},90:{},91:{},92:{f:UAe},93:{f:ANe},94:{},95:{f:Yr},96:{},97:{},99:{f:Yr},125:{f:_X},128:{f:hNe},129:{f:LAe},130:{f:ui},131:{f:Yr},132:{f:Yr},133:{f:jAe},134:{},140:{f:UNe},141:{f:ui},144:{},146:{f:jNe},151:{},152:{},153:{},154:{},155:{},156:{f:ui},157:{},158:{},160:{f:HNe},161:{f:WNe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:cNe},190:{f:uNe},193:{f:ou},197:{},198:{},199:{},200:{},201:{},202:{f:Yr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ui},220:{},221:{f:Yr},222:{},224:{f:fNe},225:{f:MAe},226:{f:ou},227:{},229:{f:SNe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:VAe},253:{f:eNe},255:{f:qAe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:dX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Yr},353:{f:ou},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:vNe},431:{f:Yr},432:{},433:{},434:{},437:{},438:{f:INe},439:{f:Yr},440:{f:RNe},441:{},442:{f:Jv},443:{},444:{f:ui},445:{},446:{},448:{f:ou},449:{f:HAe,r:2},450:{f:ou},512:{f:PO},513:{f:zNe},515:{f:gNe},516:{f:nNe},517:{f:MO},519:{f:GNe},520:{f:$Ae},523:{},545:{f:jO},549:{f:RO},566:{},574:{f:XAe},638:{f:lNe},659:{},1048:{},1054:{f:iNe},1084:{},1212:{f:wNe},2048:{f:FNe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Bx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ou},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:BNe,r:12},2173:{f:Uke,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Yr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:_Ne,r:12},2197:{},2198:{f:kke,r:12},2199:{},2200:{},2201:{},2202:{f:TNe,r:12},2203:{f:ou},2204:{},2205:{},2206:{},2207:{},2211:{f:zAe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ui},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:qNe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:LNe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:PO},1:{},2:{f:QNe},3:{f:JNe},4:{f:XNe},5:{f:MO},7:{f:e3e},8:{},9:{f:Bx},11:{},22:{f:ui},30:{f:aNe},31:{},32:{},33:{f:jO},36:{},37:{f:RO},50:{f:t3e},62:{},52:{},67:{},68:{f:ui},69:{},86:{},126:{},127:{f:KNe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:n3e},223:{},234:{},354:{},421:{},518:{f:dD},521:{f:Bx},536:{f:LO},547:{f:OO},561:{},579:{},1030:{f:dD},1033:{f:Bx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function _t(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&RI(n)&&t.push(n)}}function ePe(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return _t(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function e1(t,e,n){return t||(t=nt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function tPe(t,e,n,r){var i=nt(9);return e1(i,t,e),fX(n,r||"b",i),i}function nPe(t,e,n){var r=nt(8+2*n.length);return e1(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function rPe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?_i(yr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?_t(t,2,ZNe(n,r,i)):_t(t,3,YNe(n,r,i));return;case"b":case"e":_t(t,5,tPe(n,r,e.v,e.t));return;case"s":case"str":_t(t,4,nPe(n,r,(e.v||"").slice(0,255)));return}_t(t,1,e1(null,n,r))}function iPe(t,e,n,r){var i=Array.isArray(e),s=En(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=sn(s)}for(var c=s.s.r;c<=s.e.r;++c){o=ti(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Rr(u)),a=l[u]+o;var f=i?(e[c]||[])[u]:e[a];f&&rPe(t,f,c,u)}}}function sPe(t,e){for(var n=e||{},r=ia(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return _t(r,n.biff==4?1033:n.biff==3?521:9,WI(t,16,n)),iPe(r,t.Sheets[t.SheetNames[i]],i,n),_t(r,10),r.end()}function aPe(t,e,n){_t(t,49,ZAe({sz:12,name:"Arial"},n))}function oPe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&_t(t,1054,sNe(i,e[i],n))})}function lPe(t,e){var n=nt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),_t(t,2151,n),n=nt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),yX(En(e["!ref"]||"A1"),n),n.write_shift(4,4),_t(t,2152,n)}function cPe(t,e){for(var n=0;n<16;++n)_t(t,224,FO({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){_t(t,224,FO(r,0,e))})}function uPe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];_t(t,440,PNe(r)),r[1].Tooltip&&_t(t,2048,MNe(r))}delete e["!links"]}function dPe(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&_t(t,125,VNe(Bw(i,r),i))})}}function fPe(t,e,n,r,i){var s=16+od(i.cellXfs,e,i);if(e.v==null&&!e.bf){_t(t,513,Vf(n,r,s));return}if(e.bf)_t(t,6,L6e(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?_i(yr(e.v)):e.v;_t(t,515,yNe(n,r,a,s));break;case"b":case"e":_t(t,517,mNe(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=JI(i.Strings,e.v,i.revStrings);_t(t,253,tNe(n,r,o,s))}else _t(t,516,rNe(n,r,(e.v||"").slice(0,255),s,i));break;default:_t(t,513,Vf(n,r,s))}}function hPe(t,e,n){var r=ia(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",h=[],p=En(s["!ref"]||"A1"),v=c?65536:16384;if(p.e.c>255||p.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}_t(r,2057,WI(n,16,e)),_t(r,13,Xa(1)),_t(r,12,Xa(100)),_t(r,15,Rs(!0)),_t(r,17,Rs(!1)),_t(r,16,jf(.001)),_t(r,95,Rs(!0)),_t(r,42,Rs(!1)),_t(r,43,Rs(!1)),_t(r,130,Xa(1)),_t(r,128,pNe()),_t(r,131,Rs(!1)),_t(r,132,Rs(!1)),c&&dPe(r,s["!cols"]),_t(r,512,oNe(p,e)),c&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=ti(g);for(var y=p.s.c;y<=p.e.c;++y){g===p.s.r&&(h[y]=Rr(y)),u=h[y]+f;var _=l?(s[g]||[])[y]:s[u];_&&(fPe(r,_,g,y,e),c&&_.l&&s["!links"].push([u,_.l]))}}var x=o.CodeName||o.name||i;return c&&_t(r,574,JAe((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&_t(r,229,DNe(s["!merges"])),c&&uPe(r,s),_t(r,442,hX(x)),c&&lPe(r,s),_t(r,10),r.end()}function pPe(t,e,n){var r=ia(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(_t(r,2057,WI(t,5,n)),n.bookType=="xla"&&_t(r,135),_t(r,225,o?Xa(1200):null),_t(r,193,mAe(2)),l&&_t(r,191),l&&_t(r,192),_t(r,226),_t(r,92,OAe("SheetJS",n)),_t(r,66,Xa(o?1200:1252)),o&&_t(r,353,Xa(0)),o&&_t(r,448),_t(r,317,$Ne(t.SheetNames.length)),o&&t.vbaraw&&_t(r,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";_t(r,442,hX(c))}_t(r,156,Xa(17)),_t(r,25,Rs(!1)),_t(r,18,Rs(!1)),_t(r,19,Xa(0)),o&&_t(r,431,Rs(!1)),o&&_t(r,444,Xa(0)),_t(r,61,KAe()),_t(r,64,Rs(!1)),_t(r,141,Xa(0)),_t(r,34,Rs(H5e(t)=="true")),_t(r,14,Rs(!0)),o&&_t(r,439,Rs(!1)),_t(r,218,Xa(0)),aPe(r,t,n),oPe(r,t.SSF,n),cPe(r,n),o&&_t(r,352,Rs(!1));var u=r.end(),f=ia();o&&_t(f,140,ONe()),o&&n.Strings&&ePe(f,252,WAe(n.Strings)),_t(f,10);var h=f.end(),p=ia(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=u.length+v+h.length;for(g=0;g<t.SheetNames.length;++g){var _=s[g]||{};_t(p,133,BAe({pos:y,hs:_.Hidden||0,dt:0,name:t.SheetNames[g]},n)),y+=e[g].length}var x=p.end();if(v!=x.length)throw new Error("BS8 "+v+" != "+x.length);var w=[];return u.length&&w.push(u),x.length&&w.push(x),h.length&&w.push(h),Li(w)}function mPe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=vr(zt)),t&&t.SSF&&(tg(),Pw(t.SSF),n.revssf=Mw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,t6(n),n.cellXfs=[],od(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=hPe(i,n,t);return r.unshift(pPe(t,r,n)),Li(r)}function aJ(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=sa(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return mPe(t,e);case 4:case 3:case 2:return sPe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function XO(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=ZDe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(a=0;a<l.length;++a){var g=l[a].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var _=g.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var x=_[o].trim();if(x.match(/<t[dh]/i)){for(var w=x,C=0;w.charAt(0)=="<"&&(C=w.indexOf(">"))>-1;)w=w.slice(C+1);for(var D=0;D<v.length;++D){var R=v[D];R.s.c==u&&R.s.r<c&&c<=R.e.r&&(u=R.e.c+1,D=-1)}var S=Yt(x.slice(0,x.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&v.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var N=S.t||S["data-t"]||"";if(!w.length){u+=h;continue}if(w=kK(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var k={t:"s",v:w};n.raw||!w.trim().length||N=="s"||(w==="TRUE"?k={t:"b",v:!0}:w==="FALSE"?k={t:"b",v:!1}:isNaN(Lo(w))?isNaN(bm(w).getDate())||(k={t:"d",v:yr(w)},n.cellDates||(k={t:"n",v:_i(k.v)}),k.z=n.dateNF||zt[14]):k={t:"n",v:Lo(w)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=k):r[Xt({r:c,c:u})]=k,u+=h}}}}return r["!ref"]=sn(p),v.length&&(r["!merges"]=v),r}function gPe(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Xt({r:n,c:a}),f=r.dense?(t[n]||[])[a]:t[u],h=f&&f.v!=null&&(f.h||NI(f.w||(xc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,s.push(bt("td",h,p))}}var v="<tr>";return v+s.join("")+"</tr>"}var yPe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',vPe="</body></html>";function xPe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return ad(XO(n[0],e),e);var r=i6();return n.forEach(function(i,s){s6(r,XO(i,e),"Sheet"+(s+1))}),r}function bPe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function oJ(t,e){var n=e||{},r=n.header!=null?n.header:yPe,i=n.footer!=null?n.footer:vPe,s=[r],a=sa(t["!ref"]);n.dense=Array.isArray(t),s.push(bPe(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(gPe(t,a,o,n));return s.push("</table>"+i),s.join("")}function lJ(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Pr(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=sa(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],h=0,p=t["!rows"]||(t["!rows"]=[]),v=0,g=0,y=0,_=0,x=0,w=0;for(t["!cols"]||(t["!cols"]=[]);v<o.length&&g<l;++v){var C=o[v];if(JO(C)){if(r.display)continue;p[g]={hidden:!0}}var D=C.children;for(y=_=0;y<D.length;++y){var R=D[y];if(!(r.display&&JO(R))){var S=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):kK(R.innerHTML),N=R.getAttribute("data-z")||R.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==_+s&&k.s.r<g+i&&g+i<=k.e.r&&(_=k.e.c+1-s,h=-1)}w=+R.getAttribute("colspan")||1,((x=+R.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+i,c:_+s},e:{r:g+i+(x||1)-1,c:_+s+(w||1)-1}});var F={t:"s",v:S},P=R.getAttribute("data-t")||R.getAttribute("t")||"";S!=null&&(S.length==0?F.t=P||"z":r.raw||S.trim().length==0||P=="s"||(S==="TRUE"?F={t:"b",v:!0}:S==="FALSE"?F={t:"b",v:!1}:isNaN(Lo(S))?isNaN(bm(S).getDate())||(F={t:"d",v:yr(S)},r.cellDates||(F={t:"n",v:_i(F.v)}),F.z=r.dateNF||zt[14]):F={t:"n",v:Lo(S)})),F.z===void 0&&N!=null&&(F.z=N);var I="",U=R.getElementsByTagName("A");if(U&&U.length)for(var O=0;O<U.length&&!(U[O].hasAttribute("href")&&(I=U[O].getAttribute("href"),I.charAt(0)!="#"));++O);I&&I.charAt(0)!="#"&&(F.l={Target:I}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][_+s]=F):t[Xt({c:_+s,r:g+i})]=F,c.e.c<_+s&&(c.e.c=_+s),_+=w}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=sn(c),g>=l&&(t["!fullref"]=sn((c.e.r=o.length-v+g-1+i,c))),t}function cJ(t,e){var n=e||{},r=n.dense?[]:{};return lJ(r,t,e)}function _Pe(t,e){return ad(cJ(t,e),e)}function JO(t){var e="",n=wPe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function wPe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function TPe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Tn(e.replace(/<[^>]*>/g,""));return[n]}var YO={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function uJ(t,e){var n=e||{},r=kI(t),i=[],s,a,o={name:""},l="",c=0,u,f,h={},p=[],v=n.dense?[]:{},g,y,_={value:""},x="",w=0,C=[],D=-1,R=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,k={},F=[],P={},I=0,U=0,O=[],G=1,K=1,J=[],te={Names:[]},z={},Y=["",""],B=[],j={},q="",X=0,Q=!1,ee=!1,ae=0;for(Xy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Xy.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?v["!ref"]=sn(S):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=S.e.r&&(v["!fullref"]=v["!ref"],S.e.r=n.sheetRows-1,v["!ref"]=sn(S)),F.length&&(v["!merges"]=F),O.length&&(v["!rows"]=O),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=v,ee=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=Yt(g[0],!1),D=R=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,v=n.dense?[]:{},F=[],O=[],ee=!0);break;case"table-row-group":g[1]==="/"?--N:++N;break;case"table-row":case"":if(g[1]==="/"){D+=G,G=1;break}if(f=Yt(g[0],!1),f.?D=f.-1:D==-1&&(D=0),G=+f["number-rows-repeated"]||1,G<10)for(ae=0;ae<G;++ae)N>0&&(O[D+ae]={level:N});R=-1;break;case"covered-table-cell":g[1]!=="/"&&++R,n.sheetStubs&&(n.dense?(v[D]||(v[D]=[]),v[D][R]={t:"z"}):v[Xt({r:D,c:R})]={t:"z"}),x="",C=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++R,_=Yt(g[0],!1),K=parseInt(_["number-columns-repeated"]||"1",10),y={t:"z",v:null},_.formula&&n.cellFormula!=!1&&(y.f=HO(Tn(_.formula))),(_.||_["value-type"])=="string"&&(y.t="s",y.v=Tn(_["string-value"]||""),n.dense?(v[D]||(v[D]=[]),v[D][R]=y):v[Xt({r:D,c:R})]=y),R+=K-1;else if(g[1]!=="/"){++R,x="",w=0,C=[],K=1;var de=G?D+G-1:D;if(R>S.e.c&&(S.e.c=R),R<S.s.c&&(S.s.c=R),D<S.s.r&&(S.s.r=D),de>S.e.r&&(S.e.r=de),_=Yt(g[0],!1),B=[],j={},y={t:_.||_["value-type"],v:null},n.cellFormula)if(_.formula&&(_.formula=Tn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(I=parseInt(_["number-matrix-rows-spanned"],10)||0,U=parseInt(_["number-matrix-columns-spanned"],10)||0,P={s:{r:D,c:R},e:{r:D+I-1,c:R+U-1}},y.F=sn(P),J.push([P,y.F])),_.formula)y.f=HO(_.formula);else for(ae=0;ae<J.length;++ae)D>=J[ae][0].s.r&&D<=J[ae][0].e.r&&R>=J[ae][0].s.c&&R<=J[ae][0].e.c&&(y.F=J[ae][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(I=parseInt(_["number-rows-spanned"],10)||0,U=parseInt(_["number-columns-spanned"],10)||0,P={s:{r:D,c:R},e:{r:D+I-1,c:R+U-1}},F.push(P)),_["number-columns-repeated"]&&(K=parseInt(_["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=hr(_["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(_.value);break;case"percentage":y.t="n",y.v=parseFloat(_.value);break;case"currency":y.t="n",y.v=parseFloat(_.value);break;case"date":y.t="d",y.v=yr(_["date-value"]),n.cellDates||(y.t="n",y.v=_i(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=JDe(_["time-value"])/86400,n.cellDates&&(y.t="d",y.v=Uw(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(_.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",_["string-value"]!=null&&(x=Tn(_["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Q=!1,y.t==="s"&&(y.v=x||"",C.length&&(y.R=C),Q=w==0),z.Target&&(y.l=z),B.length>0&&(y.c=B,B=[]),x&&n.cellText!==!1&&(y.w=x),Q&&(y.t="z",delete y.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=D))for(var fe=0;fe<G;++fe){if(K=parseInt(_["number-columns-repeated"]||"1",10),n.dense)for(v[D+fe]||(v[D+fe]=[]),v[D+fe][R]=fe==0?y:vr(y);--K>0;)v[D+fe][R+K]=vr(y);else for(v[Xt({r:D+fe,c:R})]=y;--K>0;)v[Xt({r:D+fe,c:R+K})]=vr(y);S.e.c<=R&&(S.e.c=R)}K=parseInt(_["number-columns-repeated"]||"1",10),R+=K-1,K=0,y={},x="",C=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s;j.t=x,C.length&&(j.R=C),j.a=q,B.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);q="",X=0,x="",w=0,C=[];break;case"creator":g[1]==="/"?q=r.slice(X,g.index):X=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);x="",w=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(k[o.name]=l,(s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=Yt(g[0],!1),i.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Yt(g[0],!1),l+=YO[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Yt(g[0],!1),l+=YO[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":a=Yt(g[0],!1),Y=fD(a["cell-range-address"]);var Ne={Name:a.name,Ref:Y[0]+"!"+Y[1]};ee&&(Ne.Sheet=p.length),te.Names.push(Ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(g[1]==="/"&&(!_||!_["string-value"])){var Re=TPe(r.slice(w,g.index));x=(x.length>0?x+`
`:"")+Re[0]}else Yt(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Y=fD(Yt(g[0])["target-range-address"]),h[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=Yt(g[0],!1),!z.href)break;z.Target=Tn(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(Y=fD(z.Target.slice(1)),z.Target="#"+Y[0]+"!"+Y[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var me={Sheets:h,SheetNames:p,Workbook:te};return n.bookSheets&&delete me.Sheets,me}function QO(t,e){e=e||{},Ka(t,"META-INF/manifest.xml")&&J4e(ci(t,"META-INF/manifest.xml"),e);var n=Ta(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=uJ(Qn(n),e);return Ka(t,"meta.xml")&&(r.Props=eX(ci(t,"meta.xml"))),r}function ZO(t,e){return uJ(t,e)}var EPe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Ky({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ri+e}})(),eL=(function(){var t=function(s){return Gn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Gn(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=sa(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var _=!1,x={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(_=!0),x["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,x["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(_){l.push(n);continue}var C=Xt({r:c,c:u}),D=v?(s[c]||[])[u]:s[C];if(D&&D.f&&(x["table:formula"]=Gn($6e(D.f)),D.F&&D.F.slice(0,C.length)==C)){var R=sa(D.F);x["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,x["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!D){l.push(e);continue}switch(D.t){case"b":w=D.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=D.v?"true":"false";break;case"n":w=D.w||String(D.v||0),x["office:value-type"]="float",x["office:value"]=D.v||0;break;case"s":case"str":w=D.v==null?"":D.v,x["office:value-type"]="string";break;case"d":w=D.w||yr(D.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=yr(D.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(e);continue}var S=t(w);if(D.l&&D.l.Target){var N=D.l.Target;N=N.charAt(0)=="#"?"#"+z6e(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),S=bt("text:a",S,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+bt("table:table-cell",bt("text:p",S,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;$u(f),f.ods=o;var h=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[ri],c=Ky({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Ky({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(ZK().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(r(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function dJ(t,e){if(e.bookType=="fods")return eL(t,e);var n=SI(),r="",i=[],s=[];return r="mimetype",an(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",an(n,r,eL(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",an(n,r,EPe(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",an(n,r,ri+ZK()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",an(n,r,Z4e(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",an(n,r,Y4e(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Wf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function hN(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Qn(sd(t))}function CPe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):wa(vl(t))}function SPe(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Hu(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function tL(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function DPe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function APe(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function nv(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function $n(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Vr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function An(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=nv(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=nv(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Gi(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push($n(r*8+i.type)),i.type==2&&e.push($n(i.data.length)),e.push(i.data))})}),Hu(e)}function ZI(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function Ha(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=nv(t,r),s=An(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Vr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=An(o.data),c=Vr(l[3][0].data);a.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=Vr(s[3][0].data)>>>0>0),n.push(a)}return n}function ip(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:$n(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:$n(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:$n(a.data.length)}],r[2].push({data:Gi(a.meta),type:2})});var s=Gi(r);e.push($n(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Hu(e)}function NPe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=nv(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Hu(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Hu(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Ga(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(NPe(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Hu(e)}function sp(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=$n(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return Hu(e)}function kPe(t,e,n,r){var i=Wf(t),s=i.getUint32(4,!0),a=(r>1?12:8)+tL(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=tL(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function IPe(t,e,n){var r=Wf(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=DPe(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function pD(t,e){var n=new Uint8Array(32),r=Wf(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,APe(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function mD(t,e){var n=new Uint8Array(32),r=Wf(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function RPe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return kPe(t,e,n,t[0]);case 5:return IPe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function us(t){var e=An(t);return nv(e[1][0].data)}function nL(t,e){var n=An(e.data),r=Vr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=An(a.data),l=Vr(o[1][0].data)>>>0;switch(r){case 1:s[l]=hN(o[3][0].data);break;case 8:{var c=t[us(o[9][0].data)][0],u=An(c.data),f=t[us(u[1][0].data)][0],h=Vr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=An(f.data);s[l]=p[3].map(function(v){return hN(v.data)}).join("")}break}}),s}function PPe(t,e){var n,r,i,s,a,o,l,c,u,f,h,p,v,g,y=An(t),_=Vr(y[1][0].data)>>>0,x=Vr(y[2][0].data)>>>0,w=((r=(n=y[8])==null?void 0:n[0])==null?void 0:r.data)&&Vr(y[8][0].data)>0||!1,C,D;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&e!=0)C=(o=(a=y[7])==null?void 0:a[0])==null?void 0:o.data,D=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)C=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,D=(g=(v=y[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var R=w?4:1,S=Wf(C),N=[],k=0;k<C.length/2;++k){var F=S.getUint16(k*2,!0);F<65535&&N.push([k,F])}if(N.length!=x)throw"Expected ".concat(x," cells, found ").concat(N.length);var P=[];for(k=0;k<N.length-1;++k)P[N[k][0]]=D.subarray(N[k][1]*R,N[k+1][1]*R);return N.length>=1&&(P[N[N.length-1][0]]=D.subarray(N[N.length-1][1]*R)),{R:_,cells:P}}function FPe(t,e){var n,r=An(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Vr(r[7][0].data)>>>0>0?1:0:-1,s=ZI(r[5],function(a){return PPe(a,i)});return{nrows:Vr(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function MPe(t,e,n){var r,i=An(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Vr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Vr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=sn(s);var a=An(i[4][0].data),o=nL(t,t[us(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?nL(t,t[us(a[17][0].data)][0]):[],c=An(a[3][0].data),u=0;c[1].forEach(function(f){var h=An(f.data),p=t[us(h[2][0].data)][0],v=Vr(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=FPe(t,p);g.data.forEach(function(y,_){y.forEach(function(x,w){var C=Xt({r:u+_,c:w}),D=RPe(x,o,l);D&&(n[C]=D)})}),u+=g.nrows})}function UPe(t,e){var n=An(e.data),r={"!ref":"A1"},i=t[us(n[2][0].data)],s=Vr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return MPe(t,i[0],r),r}function OPe(t,e){var n,r=An(e.data),i={name:(n=r[1])!=null&&n[0]?hN(r[1][0].data):"",sheets:[]},s=ZI(r[2],us);return s.forEach(function(a){t[a].forEach(function(o){var l=Vr(o.meta[1][0].data);l==6e3&&i.sheets.push(UPe(t,o))})}),i}function LPe(t,e){var n=i6(),r=An(e.data),i=ZI(r[1],us);if(i.forEach(function(s){t[s].forEach(function(a){var o=Vr(a.meta[1][0].data);if(o==2){var l=OPe(t,a);l.sheets.forEach(function(c,u){s6(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function gD(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Ga(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=Ha(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Vr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=Vr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return LPe(s,o)}function jPe(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Vr(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Wf(t[7][0].data),u=0,f=[],h=Wf(t[4][0].data),p=0,v=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,p,!0);var y,_;switch(typeof e[g]){case"string":y=pD({t:"s",v:e[g]},n),_=mD({t:"s",v:e[g]},n);break;case"number":y=pD({t:"n",v:e[g]},n),_=mD({t:"n",v:e[g]},n);break;case"boolean":y=pD({t:"b",v:e[g]},n),_=mD({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}f.push(y),u+=y.length,v.push(_),p+=_.length,++l}for(t[2][0].data=$n(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=Hu(f),t[3][0].data=Hu(v),l}function BPe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=sa(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(sn(r)));var s=e_(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(X){typeof X=="string"&&a.push(X)})});var o={},l=[],c=Bt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(q,X){return[q,c.FullPaths[X]]}).forEach(function(q){var X=q[0],Q=q[1];if(X.type==2&&X.name.match(/\.iwa/)){var ee=X.content,ae=Ga(ee),de=Ha(ae);de.forEach(function(fe){l.push(fe.id),o[fe.id]={deps:[],location:Q,type:Vr(fe.messages[0].meta[1][0].data)}})}}),l.sort(function(q,X){return q-X});var u=l.filter(function(q){return q>1}).map(function(q){return[q,$n(q)]});c.FileIndex.map(function(q,X){return[q,c.FullPaths[X]]}).forEach(function(q){var X=q[0];if(q[1],!!X.name.match(/\.iwa/)){var Q=Ha(Ga(X.content));Q.forEach(function(ee){ee.messages.forEach(function(ae){u.forEach(function(de){ee.messages.some(function(fe){return Vr(fe.meta[1][0].data)!=11006&&SPe(fe.data,de[1])})&&o[de[0]].deps.push(ee.id)})})})}});for(var f=Bt.find(c,o[1].location),h=Ha(Ga(f.content)),p,v=0;v<h.length;++v){var g=h[v];g.id==1&&(p=g)}var y=us(An(p.messages[0].data)[1][0].data);for(f=Bt.find(c,o[y].location),h=Ha(Ga(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=us(An(p.messages[0].data)[2][0].data),f=Bt.find(c,o[y].location),h=Ha(Ga(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=us(An(p.messages[0].data)[2][0].data),f=Bt.find(c,o[y].location),h=Ha(Ga(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);var _=An(p.messages[0].data);{_[6][0].data=$n(r.e.r+1),_[7][0].data=$n(r.e.c+1);var x=us(_[46][0].data),w=Bt.find(c,o[x].location),C=Ha(Ga(w.content));{for(var D=0;D<C.length&&C[D].id!=x;++D);if(C[D].id!=x)throw"Bad ColumnRowUIDMapArchive";var R=An(C[D].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var S=0;S<=r.e.c;++S){var N=[];N[1]=N[2]=[{type:0,data:$n(S+420690)}],R[1].push({type:2,data:Gi(N)}),R[2].push({type:0,data:$n(S)}),R[3].push({type:0,data:$n(S)})}R[4]=[],R[5]=[],R[6]=[];for(var k=0;k<=r.e.r;++k)N=[],N[1]=N[2]=[{type:0,data:$n(k+726270)}],R[4].push({type:2,data:Gi(N)}),R[5].push({type:0,data:$n(k)}),R[6].push({type:0,data:$n(k)});C[D].messages[0].data=Gi(R)}w.content=sp(ip(C)),w.size=w.content.length,delete _[46];var F=An(_[4][0].data);{F[7][0].data=$n(r.e.r+1);var P=An(F[1][0].data),I=us(P[2][0].data);w=Bt.find(c,o[I].location),C=Ha(Ga(w.content));{if(C[0].id!=I)throw"Bad HeaderStorageBucket";var U=An(C[0].messages[0].data);for(k=0;k<s.length;++k){var O=An(U[2][0].data);O[1][0].data=$n(k),O[4][0].data=$n(s[k].length),U[2][k]={type:U[2][0].type,data:Gi(O)}}C[0].messages[0].data=Gi(U)}w.content=sp(ip(C)),w.size=w.content.length;var G=us(F[2][0].data);w=Bt.find(c,o[G].location),C=Ha(Ga(w.content));{if(C[0].id!=G)throw"Bad HeaderStorageBucket";for(U=An(C[0].messages[0].data),S=0;S<=r.e.c;++S)O=An(U[2][0].data),O[1][0].data=$n(S),O[4][0].data=$n(r.e.r+1),U[2][S]={type:U[2][0].type,data:Gi(O)};C[0].messages[0].data=Gi(U)}w.content=sp(ip(C)),w.size=w.content.length;var K=us(F[4][0].data);(function(){for(var q=Bt.find(c,o[K].location),X=Ha(Ga(q.content)),Q,ee=0;ee<X.length;++ee){var ae=X[ee];ae.id==K&&(Q=ae)}var de=An(Q.messages[0].data);{de[3]=[];var fe=[];a.forEach(function(me,Le){fe[1]=[{type:0,data:$n(Le)}],fe[2]=[{type:0,data:$n(1)}],fe[3]=[{type:2,data:CPe(me)}],de[3].push({type:2,data:Gi(fe)})})}Q.messages[0].data=Gi(de);var Ne=ip(X),Re=sp(Ne);q.content=Re,q.size=q.content.length})();var J=An(F[3][0].data);{var te=J[1][0];delete J[2];var z=An(te.data);{var Y=us(z[2][0].data);(function(){for(var q=Bt.find(c,o[Y].location),X=Ha(Ga(q.content)),Q,ee=0;ee<X.length;++ee){var ae=X[ee];ae.id==Y&&(Q=ae)}var de=An(Q.messages[0].data);{delete de[6],delete J[7];var fe=new Uint8Array(de[5][0].data);de[5]=[];for(var Ne=0,Re=0;Re<=r.e.r;++Re){var me=An(fe);Ne+=jPe(me,s[Re],a),me[1][0].data=$n(Re),de[5].push({data:Gi(me),type:2})}de[1]=[{type:0,data:$n(r.e.c+1)}],de[2]=[{type:0,data:$n(r.e.r+1)}],de[3]=[{type:0,data:$n(Ne)}],de[4]=[{type:0,data:$n(r.e.r+1)}]}Q.messages[0].data=Gi(de);var Le=ip(X),V=sp(Le);q.content=V,q.size=q.content.length})()}te.data=Gi(z)}F[3][0].data=Gi(J)}_[4][0].data=Gi(F)}p.messages[0].data=Gi(_);var B=ip(h),j=sp(B);return f.content=j,f.size=f.content.length,c}function fJ(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function e6(t){fJ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function t6(t){fJ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function VPe(t){return hn.WS.indexOf(t)>-1?"sheet":t==hn.CS?"chart":t==hn.DS?"dialog":t==hn.MS?"macro":t&&t.length?t:"sheet"}function WPe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,VPe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function qPe(t,e,n,r,i,s,a,o,l,c,u,f){try{s[r]=ty(Ta(t,n,!0),e);var h=ci(t,e),p;switch(o){case"sheet":p=d8e(h,e,i,l,s[r],c,u,f);break;case"chart":if(p=f8e(h,e,i,l,s[r],c,u,f),!p||!p["!drawel"])break;var v=S0(p["!drawel"].Target,e),g=Jy(v),y=Qke(Ta(t,v,!0),ty(Ta(t,g,!0),v)),_=S0(y,v),x=Jy(_);p=j5e(Ta(t,_,!0),_,l,ty(Ta(t,x,!0),_),c,p);break;case"macro":p=h8e(h,e,i,l,s[r],c,u,f);break;case"dialog":p=p8e(h,e,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=p;var w=[];s&&s[r]&&$r(s[r]).forEach(function(C){var D="";if(s[r][C].Type==hn.CMNT){D=S0(s[r][C].Target,e);var R=v8e(ci(t,D,!0),D,l);if(!R||!R.length)return;VO(p,R,!1)}s[r][C].Type==hn.TCMNT&&(D=S0(s[r][C].Target,e),w=w.concat(eIe(ci(t,D,!0),l)))}),w&&w.length&&VO(p,w,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function Wa(t){return t.charAt(0)=="/"?t.slice(1):t}function $Pe(t,e){if(tg(),e=e||{},e6(e),Ka(t,"META-INF/manifest.xml")||Ka(t,"objectdata.xml"))return QO(t,e);if(Ka(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof gD<"u"){if(t.FileIndex)return gD(t);var n=Bt.utils.cfb_new();return lO(t).forEach(function(O){an(n,O,t4e(t,O))}),gD(n)}throw new Error("Unsupported NUMBERS file")}if(!Ka(t,"[Content_Types].xml"))throw Ka(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ka(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=lO(t),i=K4e(Ta(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",ci(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!ci(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(ny=[],i.sst)try{ny=y8e(ci(t,Wa(i.sst)),i.sst,e)}catch(O){if(e.WTF)throw O}e.cellStyles&&i.themes.length&&(l=g8e(Ta(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=m8e(ci(t,Wa(i.style)),i.style,l,e))}i.links.map(function(O){try{var G=ty(Ta(t,Jy(Wa(O))),O);return b8e(ci(t,Wa(O)),G,O,e)}catch{}});var u=u8e(ci(t,Wa(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=ci(t,Wa(i.coreprops[0]),!0),h&&(f=eX(h)),i.extprops.length!==0&&(h=ci(t,Wa(i.extprops[0]),!0),h&&tAe(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=Ta(t,Wa(i.custprops[0]),!0),h&&(p=rAe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(G){return G.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof a<"u"&&(v.SheetNames=a),e.bookSheets?v.SheetNames:e.bookProps))return v;a={};var g={};e.bookDeps&&i.calcchain&&(g=x8e(ci(t,Wa(i.calcchain)),i.calcchain));var y=0,_={},x,w;{var C=u.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var D=0;D!=C.length;++D)f.SheetNames[D]=C[D].name}var R=s?"bin":"xml",S=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,S+1)+"_rels/"+i.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Ka(t,N)||(N="xl/_rels/workbook."+R+".rels");var k=ty(Ta(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=_8e(ci(t,Wa(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=nIe(ci(t,Wa(i.people[0])),e)),k&&(k=WPe(k,u.Sheets));var F=ci(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(k&&k[y]?(x="xl/"+k[y][1].replace(/[\/]?xl\//,""),Ka(t,x)||(x=k[y][1]),Ka(t,x)||(x=N.replace(/_rels\/.*$/,"")+k[y][1]),P=k[y][2]):(x="xl/worksheets/sheet"+(y+1-F)+"."+R,x=x.replace(/sheet0\./,"sheet.")),w=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var I=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==y&&(I=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==f.SheetNames[y].toLowerCase()&&(I=1);if(!I)continue e}}qPe(t,x,w,f.SheetNames[y],y,_,a,P,e,u,l,c)}return v={Directory:i,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:a,SheetNames:f.SheetNames,Strings:ny,Styles:c,Themes:l,SSF:vr(zt)},e&&e.bookFiles&&(t.files?(v.keys=r,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(O,G){O=O.replace(/^Root Entry[\/]/,""),v.keys.push(O),v.files[O]=t.FileIndex[G]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=ci(t,Wa(i.vba[0]),!0):i.defaults&&i.defaults.bin===uIe&&(v.vbaraw=ci(t,"xl/vbaProject.bin",!0))),v}function zPe(t,e){var n=e||{},r="Workbook",i=Bt.find(t,r);try{if(r="/!DataSpaces/Version",i=Bt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(_3e(i.content),r="/!DataSpaces/DataSpaceMap",i=Bt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=T3e(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Bt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=E3e(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Bt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);S3e(i.content)}catch{}if(r="/EncryptionInfo",i=Bt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=D3e(i.content);if(r="/EncryptedPackage",i=Bt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function HPe(t,e){return e.bookType=="ods"?dJ(t,e):e.bookType=="numbers"?BPe(t,e):e.bookType=="xlsb"?GPe(t,e):KPe(t,e)}function GPe(t,e){Ep=1024,t&&!t.SSF&&(t.SSF=vr(zt)),t&&t.SSF&&(tg(),Pw(t.SSF),e.revssf=Mw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ry?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=jX.indexOf(e.bookType)>-1,i=BI();t6(e=e||{});var s=SI(),a="",o=0;if(e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",an(s,a,tX(t.Props,e)),i.coreprops.push(a),zn(e.rels,2,a,hn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,an(s,a,iX(t.Props)),i.extprops.push(a),zn(e.rels,3,a,hn.EXT_PROPS),t.Custprops!==t.Props&&$r(t.Custprops||{}).length>0&&(a="docProps/custom.xml",an(s,a,sX(t.Custprops)),i.custprops.push(a),zn(e.rels,4,a,hn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,an(s,a,T8e(o-1,a,e,t,u)),i.sheets.push(a),zn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,hn.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+n,an(s,g,S8e(p,g)),i.comments.push(g),zn(u,-1,"../comments"+o+"."+n,hn.CMNT),v=!0),f["!legacy"]&&v&&an(s,"xl/drawings/vmlDrawing"+o+".vml",OX(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&an(s,Jy(a),Lp(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,an(s,a,C8e(e.Strings,a,e)),i.strs.push(a),zn(e.wbrels,-1,"sharedStrings."+n,hn.SST)),a="xl/workbook."+n,an(s,a,w8e(t,a)),i.workbooks.push(a),zn(e.rels,1,a,hn.WB),a="xl/theme/theme1.xml",an(s,a,HI(t.Themes,e)),i.themes.push(a),zn(e.wbrels,-1,"theme/theme1.xml",hn.THEME),a="xl/styles."+n,an(s,a,E8e(t,a,e)),i.styles.push(a),zn(e.wbrels,-1,"styles."+n,hn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",an(s,a,t.vbaraw),i.vba.push(a),zn(e.wbrels,-1,"vbaProject.bin",hn.VBA)),a="xl/metadata."+n,an(s,a,D8e(a)),i.metadata.push(a),zn(e.wbrels,-1,"metadata."+n,hn.XLMETA),an(s,"[Content_Types].xml",QK(i,e)),an(s,"_rels/.rels",Lp(e.rels)),an(s,"xl/_rels/workbook."+n+".rels",Lp(e.wbrels)),delete e.revssf,delete e.ssf,s}function KPe(t,e){Ep=1024,t&&!t.SSF&&(t.SSF=vr(zt)),t&&t.SSF&&(tg(),Pw(t.SSF),e.revssf=Mw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ry?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=jX.indexOf(e.bookType)>-1,i=BI();t6(e=e||{});var s=SI(),a="",o=0;if(e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",an(s,a,tX(t.Props,e)),i.coreprops.push(a),zn(e.rels,2,a,hn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,an(s,a,iX(t.Props)),i.extprops.push(a),zn(e.rels,3,a,hn.EXT_PROPS),t.Custprops!==t.Props&&$r(t.Custprops||{}).length>0&&(a="docProps/custom.xml",an(s,a,sX(t.Custprops)),i.custprops.push(a),zn(e.rels,4,a,hn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,an(s,a,JX(o-1,e,t,f)),i.sheets.push(a),zn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,hn.WS[0])}if(h){var v=h["!comments"],g=!1,y="";if(v&&v.length>0){var _=!1;v.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(_=!0)})}),_&&(y="xl/threadedComments/threadedComment"+o+"."+n,an(s,y,tIe(v,u,e)),i.threadedcomments.push(y),zn(f,-1,"../threadedComments/threadedComment"+o+"."+n,hn.TCMNT)),y="xl/comments"+o+"."+n,an(s,y,LX(v)),i.comments.push(y),zn(f,-1,"../comments"+o+"."+n,hn.CMNT),g=!0}h["!legacy"]&&g&&an(s,"xl/drawings/vmlDrawing"+o+".vml",OX(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&an(s,Jy(a),Lp(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,an(s,a,CX(e.Strings,e)),i.strs.push(a),zn(e.wbrels,-1,"sharedStrings."+n,hn.SST)),a="xl/workbook."+n,an(s,a,tJ(t)),i.workbooks.push(a),zn(e.rels,1,a,hn.WB),a="xl/theme/theme1.xml",an(s,a,HI(t.Themes,e)),i.themes.push(a),zn(e.wbrels,-1,"theme/theme1.xml",hn.THEME),a="xl/styles."+n,an(s,a,PX(t,e)),i.styles.push(a),zn(e.wbrels,-1,"styles."+n,hn.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",an(s,a,t.vbaraw),i.vba.push(a),zn(e.wbrels,-1,"vbaProject.bin",hn.VBA)),a="xl/metadata."+n,an(s,a,UX()),i.metadata.push(a),zn(e.wbrels,-1,"metadata."+n,hn.XLMETA),u.length>1&&(a="xl/persons/person.xml",an(s,a,rIe(u)),i.people.push(a),zn(e.wbrels,-1,"persons/person.xml",hn.PEOPLE)),an(s,"[Content_Types].xml",QK(i,e)),an(s,"_rels/.rels",Lp(e.rels)),an(s,"xl/_rels/workbook."+n+".rels",Lp(e.wbrels)),delete e.revssf,delete e.ssf,s}function n6(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=ka(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function XPe(t,e){return Bt.find(t,"EncryptedPackage")?zPe(t,e):sJ(t,e)}function JPe(t,e){var n,r=t,i=e||{};return i.type||(i.type=dn&&Buffer.isBuffer(t)?"buffer":"base64"),n=DK(r,i),$Pe(n,i)}function hJ(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return dN(t.slice(n),e);default:break e}return _m.to_workbook(t,e)}function YPe(t,e){var n="",r=n6(t,e);switch(e.type){case"base64":n=ka(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Lf(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Qn(n)),e.type="binary",hJ(n,e)}function QPe(t,e){var n=t;return e.type=="base64"&&(n=ka(n)),n=$y.utils.decode(1200,n.slice(2),"str"),e.type="binary",hJ(n,e)}function ZPe(t){return t.match(/[^\x00-\x7F]/)?vl(t):t}function yD(t,e,n,r){return r?(n.type="string",_m.to_workbook(t,n)):_m.to_workbook(e,n)}function pN(t,e){_I();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return pN(new Uint8Array(t),(n=vr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Bp={},n.dateNF&&(Bp.dateNF=n.dateNF),n.type||(n.type=dn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=dn?"buffer":"binary",r=GDe(t),typeof Uint8Array<"u"&&!dn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=ZPe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=vr(n),n.type="array",pN(wI(r),n)}switch((i=n6(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return XPe(Bt.read(r,n),n);break;case 9:if(i[1]<=8)return sJ(r,n);break;case 60:return dN(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return i3e(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return TX.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?JPe(r,n):yD(t,r,n,s);case 239:return i[3]===60?dN(r,n):yD(t,r,n,s);case 255:if(i[1]===254)return QPe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return pf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return pf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return uN.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return kX.to_workbook(r,n);break;case 10:case 13:case 32:return YPe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return r3e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?uN.to_workbook(r,n):yD(t,r,n,s)}function pJ(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Gv(e.file,Bt.write(t,{type:dn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Bt.write(t,e)}function eFe(t,e){var n=vr(e||{}),r=HPe(t,n);return tFe(r,n)}function tFe(t,e){var n={},r=dn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Bt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Rw(i))}return e.password&&typeof encrypt_agile<"u"?pJ(encrypt_agile(i,e.password),e):e.type==="file"?Gv(e.file,i):e.type=="string"?Qn(i):i}function nFe(t,e){var n=e||{},r=Z8e(t,n);return pJ(r,n)}function sl(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return zy(vl(r));case"binary":return vl(r);case"string":return t;case"file":return Gv(e.file,r,"utf8");case"buffer":return dn?kc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):sl(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function rFe(t,e){switch(e.type){case"base64":return zy(t);case"binary":return t;case"string":return t;case"file":return Gv(e.file,t,"binary");case"buffer":return dn?kc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function $x(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?zy(n):e.type=="string"?Qn(n):n;case"file":return Gv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function mJ(t,e){_I(),X5e(t);var n=vr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=mJ(t,n);return n.type="array",Rw(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return sl(H8e(t,n),n);case"slk":case"sylk":return sl(wX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return sl(oJ(t.Sheets[t.SheetNames[i]],n),n);case"txt":return rFe(gJ(t.Sheets[t.SheetNames[i]],n),n);case"csv":return sl(r6(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return sl(TX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return $x(uN.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return sl(_m.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return sl(kX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return sl(EX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return sl(dJ(t,n),n);case"wk1":return $x(pf.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return $x(pf.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),$x(aJ(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),nFe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return eFe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function iFe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function sFe(t,e,n){var r={};return r.type="file",r.file=e,iFe(r),mJ(t,r)}function aFe(t,e,n,r,i,s,a,o){var l=ti(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!a||t[n])for(var p=e.s.c;p<=e.e.c;++p){var v=a?t[n][p]:t[r[p]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[p]!=null){if(g==null)if(v.t=="e"&&g===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&g===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:xc(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function e_(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=En(u);break;case"number":l=En(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=ti(l.s.r),h=[],p=[],v=0,g=0,y=Array.isArray(t),_=l.s.r,x=0,w={};y&&!t[_]&&(t[_]=[]);var C=c.skipHidden&&t["!cols"]||[],D=c.skipHidden&&t["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(C[x]||{}).hidden)switch(h[x]=Rr(x),n=y?t[_][x]:t[h[x]+f],r){case 1:s[x]=x-l.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=c.header[x-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=xc(n,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}s[x]=o}for(_=l.s.r+i;_<=l.e.r;++_)if(!(D[_]||{}).hidden){var R=aFe(t,l,_,h,r,s,y,c);(R.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(p[v++]=R.row)}return p.length=v,p}var rL=/"/g;function oFe(t,e,n,r,i,s,a,o){for(var l=!0,c=[],u="",f=ti(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=o.dense?(t[n]||[])[h]:t[r[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:xc(p,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===i||g===s||g===34||o.forceQuotes){u='"'+u.replace(rL,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(rL,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function r6(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=En(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=Rr(v));for(var g=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(u=oFe(t,i,y,f,a,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((g++?o:"")+u)));return delete r.dense,n.join("")}function gJ(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=r6(t,e);return n}function lFe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=En(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Rr(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=ti(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function yJ(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Pr(r.origin):r.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=En(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(a=f.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(g,y){$r(g).forEach(function(_){(p=h.indexOf(_))==-1&&(h[p=h.length]=_);var x=g[_],w="z",C="",D=Xt({c:o+p,r:a+y+i});c=rv(s,D),x&&typeof x=="object"&&!(x instanceof Date)?s[D]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",r.cellDates||(w="n",x=_i(x)),C=r.dateNF||zt[14]):x===null&&r.nullError&&(w="e",x=0),c?(c.t=w,c.v=x,delete c.w,delete c.R,C&&(c.z=C)):s[D]=c={t:w,v:x},C&&(c.z=C))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=ti(a);if(i)for(p=0;p<h.length;++p)s[Rr(p+o)+v]={t:"s",v:h[p]};return s["!ref"]=sn(u),s}function cFe(t,e){return yJ(null,t,e)}function rv(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Pr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?rv(t,Xt(e)):rv(t,Xt({r:e,c:n||0}))}function uFe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function i6(){return{SheetNames:[],Sheets:{}}}function s6(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(eJ(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function dFe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=uFe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function fFe(t,e){return t.z=e,t}function vJ(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function hFe(t,e,n){return vJ(t,"#"+e,n)}function pFe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function mFe(t,e,n,r){for(var i=typeof e!="string"?e:En(e),s=typeof e=="string"?e:sn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=rv(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var zx={encode_col:Rr,encode_row:ti,encode_cell:Xt,encode_range:sn,decode_col:FI,decode_row:PI,split_cell:C4e,decode_cell:Pr,decode_range:sa,format_cell:xc,sheet_add_aoa:zK,sheet_add_json:yJ,sheet_add_dom:lJ,aoa_to_sheet:ng,json_to_sheet:cFe,table_to_sheet:cJ,table_to_book:_Pe,sheet_to_csv:r6,sheet_to_txt:gJ,sheet_to_json:e_,sheet_to_html:oJ,sheet_to_formulae:lFe,sheet_to_row_object_array:e_,sheet_get_cell:rv,book_new:i6,book_append_sheet:s6,book_set_sheet_visibility:dFe,cell_set_number_format:fFe,cell_set_hyperlink:vJ,cell_set_internal_link:hFe,cell_add_comment:pFe,sheet_set_array_formula:mFe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function a6(t,e){return t.indexOf(e)!==-1}function ap(t,e,n){const r=n[e];if(!r)return null;for(const i of Object.keys(r)){const s=r[i];for(const a of s)if(a6(t,String(a)))return i}return null}function gFe(t,e,n){const r=n[e];if(!r)return[];const i=[];for(const s of Object.keys(r)){const a=r[s];for(const o of a)if(a6(t,String(o))){i.push(s);break}}return i}function yFe(t){if(!t)return t;let e=t.trim();return e=e.replace(/\s+/g," "),e=e.replace(/(^|\s)(?=[\u0600-\u06FF])/g,"$1"),e.toLowerCase()}function vFe(t,e){let n=t.trim(),r="string";return!isNaN(Number(n))&&n!==""?(n=parseFloat(n),r="number"):(n.toLowerCase()===""||n.toLowerCase()==="")&&(n=n.toLowerCase()==="",r="boolean"),{value:n,valueType:r}}function xFe(t,e,n={}){const r=t;let i=yFe(r);const s={intent:null,target:null,movement:null,index:null,startIndex:null,endIndex:null,position:null,color:null,conditions:[],references:[],useReference:!1,isNegated:!1,raw:r};for(const u of e.negationWords||[])if(a6(i,u)){s.isNegated=!0,i=i.replace(u,"");break}s.intent=ap(i,"intents",e),s.target=ap(i,"targets",e),s.position=ap(i,"positions",e),s.color=ap(i,"colors",e),s.movement=ap(i,"movements",e);const a=gFe(i,"numbers",e).map(u=>isNaN(Number(u))?u:parseInt(String(u),10)),o=(i.match(/\b(\d+)\b/g)||[]).map(Number),l=[...new Set([...a,...o])].filter(u=>u!==null).map(Number);l.length>0&&(ap(i,"rangeWords",e)&&l.length>=2?(s.startIndex=Math.min(...l),s.endIndex=Math.max(...l)):s.index=l[0]);const c=e.conditions;for(const u of Object.keys(c)){const f=c[u];for(const h of f){const p=i.indexOf(h);if(p!==-1){const g=r.slice(p+h.length).trim().match(/^(.+?)(?:\s+(?:|)\s+|$)/i);if(g){const{value:y,valueType:_}=vFe(g[1].trim());s.conditions.push({type:u,value:y,valueType:_,isNegated:s.isNegated})}s.isNegated=!1}}}return s}function bFe(t){return t.split(/\s+(?:|)\s+/i).map(e=>e.trim()).filter(Boolean)}function _Fe(t,e){const n=t.trim(),r=bFe(n),i={lastResult:null,lastColumn:null,lastSearch:null,lastSelection:null,lastTarget:null,lastIndex:null,history:[]},s=[];for(const a of r){const o=xFe(a,e,i);!o||!o.intent||s.push(o)}return{actions:s,context:i}}const wFe=({onClose:t,onCreate:e})=>{const[n,r]=W.useState(20),[i,s]=W.useState(10),[a,o]=W.useState("new_sheet.xlsx"),l=()=>{n>0&&i>0&&a.trim()&&e(n,i,a.trim())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"   "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sheet-name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"sheet-name",value:a,onChange:c=>o(c.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-rows",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-rows",value:n,onChange:c=>r(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-cols",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-cols",value:i,onChange:c=>s(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})},TFe=()=>{const{excelCommands:t}=tn(),[e,n]=W.useState([]),[r,i]=W.useState([]),[s,a]=W.useState([]),[o,l]=W.useState(""),[c,u]=W.useState(new Set),[f,h]=W.useState(new Set),[p,v]=W.useState(new Set),[g,y]=W.useState(null),[_,x]=W.useState({}),[w,C]=W.useState(""),[D,R]=W.useState(!1),[S,N]=W.useState(""),[k,F]=W.useState(!1),[P,I]=W.useState(!1),U=W.useRef(null),O=W.useRef(!1),G=W.useRef(s),K=W.useRef(r),J=W.useRef({selectedRows:c,selectedCols:f,selectedCells:p}),te=W.useRef({setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v});W.useEffect(()=>{G.current=s,K.current=r,J.current={selectedRows:c,selectedCols:f,selectedCells:p},te.current={setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v}});const z=window.SpeechRecognition||window.webkitSpeechRecognition,Y=!!z,B=W.useCallback(re=>{if(!re.length)return!1;let le=!1,he=[...K.current],_e=G.current.map(ce=>[...ce]);({...te.current.setCellStyles});const ie=J.current.selectedRows.size>0?"rows":J.current.selectedCols.size>0?"columns":J.current.selectedCells.size>0?"cells":"none";for(const ce of re)switch(ce.intent){case"color":if(ce.color){const xe={backgroundColor:ce.color};["white","yellow","pink"].includes(ce.color)&&(xe.color="#333"),["black","blue","purple","green","red"].includes(ce.color)&&(xe.color="#fff"),te.current.setCellStyles(ke=>{const Ue={...ke},Ce=(Me,Oe)=>{Ue[`${Me}:${Oe}`]={...Ue[`${Me}:${Oe}`]||{},...xe}};return ie==="cells"?J.current.selectedCells.forEach(Me=>{const[Oe,Ke]=Me.split(":").map(Number);Ce(Oe,Ke)}):ie==="rows"?J.current.selectedRows.forEach(Me=>K.current.forEach((Oe,Ke)=>Ce(Number(Me),Ke))):ie==="columns"&&J.current.selectedCols.forEach(Me=>G.current.forEach((Oe,Ke)=>Ce(Ke,Number(Me)))),Ue}),le=!0}break;case"move":if(ce.movement&&ie==="columns"&&J.current.selectedCols.size===1){const xe=Number(Array.from(J.current.selectedCols)[0]),ke=ce.movement==="right"?xe+1:xe-1;ke>=0&&ke<he.length&&([he[xe],he[ke]]=[he[ke],he[xe]],_e.forEach(Ue=>{[Ue[xe],Ue[ke]]=[Ue[ke],Ue[xe]]}),te.current.setSelectedCols(new Set([ke])),le=!0)}break;case"delete":case"clear":const ye=ce.intent==="delete";if(ie==="rows")Array.from(J.current.selectedRows).sort((ke,Ue)=>Number(Ue)-Number(ke)).forEach(ke=>_e.splice(Number(ke),1)),te.current.setSelectedRows(new Set),le=!0;else if(ie==="columns"){const xe=Array.from(J.current.selectedCols).sort((ke,Ue)=>Number(Ue)-Number(ke));ye&&xe.forEach(ke=>he.splice(Number(ke),1)),_e.forEach(ke=>{xe.forEach(Ue=>ye?ke.splice(Number(Ue),1):ke[Number(Ue)]="")}),te.current.setSelectedCols(new Set),le=!0}else ie==="cells"&&(J.current.selectedCells.forEach(xe=>{const[ke,Ue]=xe.split(":").map(Number);_e[ke][Ue]=""}),le=!0);break;case"sum":if(ie==="columns"&&J.current.selectedCols.size===1){const xe=Number(Array.from(J.current.selectedCols)[0]),ke=_e.reduce((Me,Oe)=>Me+(Number(Oe[xe])||0),0),Ue=_e.findIndex(Me=>!Me[xe]),Ce=Ue!==-1?Ue:_e.length;Ce===_e.length&&_e.push(Array(he.length).fill("")),_e[Ce][xe]=ke,le=!0}break}return le&&(te.current.setHeaders(he),te.current.setCurrentData(_e),te.current.setSelectedRows(new Set),te.current.setSelectedCols(new Set),te.current.setSelectedCells(new Set)),le},[]);W.useEffect(()=>{if(!Y)return;U.current=new z;const re=U.current;return re.continuous=!0,re.interimResults=!1,re.lang="ar-SA",re.onstart=()=>F(!0),re.onend=()=>{if(O.current){console.log("Excel Studio: Speech recognition ended, attempting restart.");try{re.start()}catch(le){console.error("Excel Studio: Could not restart recognition",le),O.current=!1,F(!1)}}else F(!1)},re.onerror=le=>{N(`   : ${le.error}`),O.current=!1,F(!1)},re.onresult=le=>{let he="";for(let ie=le.resultIndex;ie<le.results.length;++ie)le.results[ie].isFinal&&(he+=le.results[ie][0].transcript);const _e=he.trim();if(_e&&t){const{actions:ie}=_Fe(_e,t);B(ie)||C(ye=>(ye?ye+" ":"")+_e)}else _e&&C(ie=>(ie?ie+" ":"")+_e)},()=>{U.current&&(O.current=!1,U.current.abort())}},[Y,t,B]);const j=()=>{const re=U.current;re&&(k?(O.current=!1,re.stop()):(N(""),O.current=!0,re.start()))},q=W.useMemo(()=>c.size>0?"rows":f.size>0?"columns":p.size>0?"cells":"none",[c,f,p]),X=W.useMemo(()=>{const re=new Map;return q==="cells"&&Array.from(p).forEach((le,he)=>{re.set(le,he+1)}),re},[p,q]),Q=re=>{var _e;const le=(_e=re.target.files)==null?void 0:_e[0];if(!le)return;l(le.name);const he=new FileReader;he.onload=ie=>{var ce;try{const ye=new Uint8Array((ce=ie.target)==null?void 0:ce.result),xe=pN(ye,{type:"array"}),ke=xe.SheetNames[0],Ue=xe.Sheets[ke],Ce=zx.sheet_to_json(Ue,{header:1});if(Ce.length>0){const Me=Ce[0].map(Ke=>String(Ke)),Oe=Ce.slice(1).map(Ke=>{const rt=Array(Me.length).fill("");return Ke.forEach((it,Ot)=>{Ot<rt.length&&(rt[Ot]=it)}),rt});i(Me),n(JSON.parse(JSON.stringify(Oe))),a(Oe),de()}else N("    .")}catch(ye){console.error(ye),ye instanceof Error?N(`    Excel: ${ye.message}`):N("    Excel.      .")}},he.readAsArrayBuffer(le)},ee=(re,le,he)=>{const _e=Array.from({length:le},(ce,ye)=>String.fromCharCode(65+ye)),ie=Array.from({length:re},()=>Array(le).fill(""));i(_e),a(ie),n(JSON.parse(JSON.stringify(ie))),l(he),de(),I(!1)},ae=()=>{a(JSON.parse(JSON.stringify(e))),x({}),de()},de=()=>{u(new Set),h(new Set),v(new Set),y(null),C(""),N("")},fe=re=>{h(new Set),v(new Set),y(null),u(le=>{const he=new Set(le);return he.has(re)?he.delete(re):he.add(re),he})},Ne=re=>{u(new Set),v(new Set),y(null),h(le=>{const he=new Set(le);return he.has(re)?he.delete(re):he.add(re),he})},Re=(re,le,he)=>{u(new Set),h(new Set),y(null);const _e=`${re}:${le}`;v(ie=>{const ce=he?new Set(ie):new Set;return ce.has(_e)&&he?ce.delete(_e):ce.add(_e),ce})},me=(re,le)=>{y({rowIndex:re,colIndex:le}),u(new Set),h(new Set),v(new Set)},Le=(re,le,he)=>{const _e=JSON.parse(JSON.stringify(s));_e[le][he]=re.target.value,a(_e)},V=()=>{y(null)},ve=re=>{if(!g)return;const{rowIndex:le,colIndex:he}=g;if(re.key==="Enter")re.preventDefault(),le<s.length-1?y({rowIndex:le+1,colIndex:he}):y(null);else if(re.key==="Escape")y(null);else if(re.key==="Tab"){re.preventDefault();const _e=re.shiftKey?he-1:he+1;_e>=0&&_e<r.length?y({rowIndex:le,colIndex:_e}):!re.shiftKey&&le<s.length-1?y({rowIndex:le+1,colIndex:0}):y(null)}},we=async()=>{if(q==="none"){N("         .");return}if(!w.trim()){N("    .");return}N(""),R(!0);try{const re=[];q==="cells"?Array.from(p).forEach((ye,xe)=>{const[ke,Ue]=ye.split(":").map(Number);re.push({value:String(s[ke][Ue]),rowIndex:ke,colIndex:Ue,header:r[Ue],cellNumber:xe+1})}):q==="rows"?Array.from(c).forEach(ye=>r.forEach((xe,ke)=>re.push({value:String(s[Number(ye)][ke]),rowIndex:Number(ye),colIndex:ke,header:xe}))):q==="columns"&&Array.from(f).forEach(ye=>s.forEach((xe,ke)=>re.push({value:String(xe[Number(ye)]),rowIndex:ke,colIndex:Number(ye),header:r[Number(ye)]})));const _e=(await wge(w,re,q==="cells"?"Each selected cell is assigned a unique number (cellNumber). The user might refer to these cells by their number.":"The user has selected entire rows or columns.")).modifications;if(!Array.isArray(_e))throw new Error("AI response format is incorrect.");let ie=JSON.parse(JSON.stringify(s)),ce=JSON.parse(JSON.stringify(_));_e.forEach(ye=>{const{rowIndex:xe,colIndex:ke,newValue:Ue,backgroundColor:Ce}=ye;typeof xe=="number"&&typeof ke=="number"&&(Ue!==void 0&&(ie[Number(xe)][Number(ke)]=Ue),Ce&&(ce[`${xe}:${ke}`]={...ce[`${xe}:${ke}`],backgroundColor:Ce}))}),a(ie),x(ce),de()}catch(re){re instanceof Error?N(re.message):N("     .")}finally{R(!1)}},oe=()=>{const re=zx.aoa_to_sheet([r,...s]),le=zx.book_new();zx.book_append_sheet(le,re,"Sheet1"),sFe(le,`modified_${o||"data.xlsx"}`)};return s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[P&&d.jsx(wFe,{onClose:()=>I(!1),onCreate:ee}),d.jsx(RH,{className:"text-6xl text-gray-300 mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"        Excel    ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("label",{className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors cursor-pointer flex items-center justify-center gap-2",children:[d.jsx(kl,{}),d.jsx("span",{children:" "}),d.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:Q,className:"hidden"})]}),d.jsxs("button",{onClick:()=>I(!0),className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(sc,{}),d.jsx("span",{children:"   "})]})]}),S&&d.jsx("p",{className:"text-red-500 mt-4",children:S})]}):d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsxs("header",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 truncate",title:o,children:o}),d.jsx("button",{type:"button",onClick:j,disabled:!Y,className:`p-3 rounded-full transition-colors ${Y?k?"bg-red-500 text-white animate-pulse":"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"  ",children:k?d.jsx(vc,{}):d.jsx(tI,{})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:ae,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:[d.jsx(rge,{}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:oe,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(ko,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 p-3 rounded-md mb-4 flex items-start gap-3 text-sm",children:[d.jsx(Jme,{className:"flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("strong",{children:" :"}),d.jsxs("ol",{className:"list-decimal list-inside",children:[d.jsx("li",{children:"** :**      ."}),d.jsx("li",{children:'**  :**         (: "  1 ").'}),d.jsx("li",{children:'** :**       ""   .'})]})]})]}),d.jsx("div",{className:"flex-grow overflow-auto border rounded-lg",children:d.jsxs("table",{className:"w-full text-sm text-right border-collapse",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky right-0 bg-gray-100 border-b border-gray-300 p-2 min-w-[50px]",children:"#"}),r.map((re,le)=>d.jsx("th",{onClick:()=>Ne(le),className:`p-2 border-b border-l border-gray-300 font-semibold cursor-pointer whitespace-nowrap ${f.has(le)?"bg-green-200":"hover:bg-gray-200"}`,children:re||String.fromCharCode(65+le)},le))]})}),d.jsx("tbody",{children:s.map((re,le)=>d.jsxs("tr",{className:`${c.has(le)?"bg-green-100":""}`,children:[d.jsx("td",{onClick:()=>fe(le),className:"sticky right-0 p-2 border-b border-l border-gray-300 font-mono text-center cursor-pointer bg-gray-50 hover:bg-gray-200",children:le+1}),re.map((he,_e)=>{const ie=(g==null?void 0:g.rowIndex)===le&&(g==null?void 0:g.colIndex)===_e,ce=`${le}:${_e}`,ye=_[ce]||{},xe=p.has(ce);let ke="border-b border-l border-gray-300 text-black relative";return ie?ke+=" p-0":(ke+=" p-2 whitespace-nowrap truncate max-w-xs cursor-pointer",xe?ke+=" bg-green-200":(c.has(le)||f.has(_e))&&(ke+=" bg-green-100")),d.jsx("td",{style:ye,className:ke,title:ie?void 0:he,onClick:Ue=>!ie&&Re(le,_e,Ue.ctrlKey||Ue.metaKey),onDoubleClick:()=>me(le,_e),children:ie?d.jsx("div",{className:"relative w-full h-full",children:d.jsx("input",{type:"text",value:he||"",onChange:Ue=>Le(Ue,le,_e),onBlur:V,onKeyDown:ve,autoFocus:!0,className:"w-full h-full p-2 box-border border-2 border-blue-500 outline-none rounded-sm bg-white text-black"})}):d.jsxs(d.Fragment,{children:[xe&&d.jsx("span",{className:"absolute top-0 right-0 text-xs bg-blue-500 text-white rounded-bl-md px-1 py-0.5 pointer-events-none z-20",children:X.get(ce)}),he]})},_e)})]},le))})]})}),d.jsx("footer",{className:"flex-shrink-0 mt-4 p-4 bg-white rounded-lg shadow-md border",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("div",{className:"relative flex-grow",children:d.jsx("textarea",{value:w,onChange:re=>C(re.target.value),placeholder:"      ...",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none bg-gray-800 text-white placeholder-gray-400 border-gray-600",rows:2,disabled:D})}),d.jsxs("button",{onClick:we,disabled:D||q==="none",className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[D?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:D?" ...":"  "})]})]}),S&&d.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:S})]})})]})};var qa={},o6="1.13.7",iL=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Vw=Array.prototype,l6=Object.prototype,sL=typeof Symbol<"u"?Symbol.prototype:null,EFe=Vw.push,t1=Vw.slice,iv=l6.toString,CFe=l6.hasOwnProperty,xJ=typeof ArrayBuffer<"u",SFe=typeof DataView<"u",DFe=Array.isArray,aL=Object.keys,oL=Object.create,lL=xJ&&ArrayBuffer.isView,AFe=isNaN,NFe=isFinite,bJ=!{toString:null}.propertyIsEnumerable("toString"),cL=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],kFe=Math.pow(2,53)-1;function Bs(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function ld(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function _J(t){return t===null}function c6(t){return t===void 0}function u6(t){return t===!0||t===!1||iv.call(t)==="[object Boolean]"}function wJ(t){return!!(t&&t.nodeType===1)}function Cs(t){var e="[object "+t+"]";return function(n){return iv.call(n)===e}}const Ww=Cs("String"),d6=Cs("Number"),TJ=Cs("Date"),EJ=Cs("RegExp"),CJ=Cs("Error"),f6=Cs("Symbol"),h6=Cs("ArrayBuffer");var SJ=Cs("Function"),IFe=iL.document&&iL.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof IFe!="function"&&(SJ=function(t){return typeof t=="function"||!1});const ws=SJ,DJ=Cs("Object");var AJ=SFe&&(!/\[native code\]/.test(String(DataView))||DJ(new DataView(new ArrayBuffer(8)))),p6=typeof Map<"u"&&DJ(new Map),RFe=Cs("DataView");function PFe(t){return t!=null&&ws(t.getInt8)&&h6(t.buffer)}const sv=AJ?PFe:RFe,cd=DFe||Cs("Array");function ud(t,e){return t!=null&&CFe.call(t,e)}var mN=Cs("Arguments");(function(){mN(arguments)||(mN=function(t){return ud(t,"callee")})})();const qw=mN;function NJ(t){return!f6(t)&&NFe(t)&&!isNaN(parseFloat(t))}function m6(t){return d6(t)&&AFe(t)}function g6(t){return function(){return t}}function kJ(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=kFe}}function IJ(t){return function(e){return e==null?void 0:e[t]}}const t_=IJ("byteLength"),FFe=kJ(t_);var MFe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function UFe(t){return lL?lL(t)&&!sv(t):FFe(t)&&MFe.test(iv.call(t))}const y6=xJ?UFe:g6(!1),aa=IJ("length");function OFe(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function RJ(t,e){e=OFe(e);var n=cL.length,r=t.constructor,i=ws(r)&&r.prototype||l6,s="constructor";for(ud(t,s)&&!e.contains(s)&&e.push(s);n--;)s=cL[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function wi(t){if(!ld(t))return[];if(aL)return aL(t);var e=[];for(var n in t)ud(t,n)&&e.push(n);return bJ&&RJ(t,e),e}function PJ(t){if(t==null)return!0;var e=aa(t);return typeof e=="number"&&(cd(t)||Ww(t)||qw(t))?e===0:aa(wi(t))===0}function v6(t,e){var n=wi(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Ln(t){if(t instanceof Ln)return t;if(!(this instanceof Ln))return new Ln(t);this._wrapped=t}Ln.VERSION=o6;Ln.prototype.value=function(){return this._wrapped};Ln.prototype.valueOf=Ln.prototype.toJSON=Ln.prototype.value;Ln.prototype.toString=function(){return String(this._wrapped)};function uL(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,t_(t))}var dL="[object DataView]";function gN(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:FJ(t,e,n,r)}function FJ(t,e,n,r){t instanceof Ln&&(t=t._wrapped),e instanceof Ln&&(e=e._wrapped);var i=iv.call(t);if(i!==iv.call(e))return!1;if(AJ&&i=="[object Object]"&&sv(t)){if(!sv(e))return!1;i=dL}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return sL.valueOf.call(t)===sL.valueOf.call(e);case"[object ArrayBuffer]":case dL:return FJ(uL(t),uL(e),n,r)}var s=i==="[object Array]";if(!s&&y6(t)){var a=t_(t);if(a!==t_(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(ws(o)&&o instanceof o&&ws(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!gN(t[c],e[c],n,r))return!1}else{var u=wi(t),f;if(c=u.length,wi(e).length!==c)return!1;for(;c--;)if(f=u[c],!(ud(e,f)&&gN(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function MJ(t,e){return gN(t,e)}function ig(t){if(!ld(t))return[];var e=[];for(var n in t)e.push(n);return bJ&&RJ(t,e),e}function x6(t){var e=aa(t);return function(n){if(n==null)return!1;var r=ig(n);if(aa(r))return!1;for(var i=0;i<e;i++)if(!ws(n[t[i]]))return!1;return t!==LJ||!ws(n[b6])}}var b6="forEach",UJ="has",_6=["clear","delete"],OJ=["get",UJ,"set"],LFe=_6.concat(b6,OJ),LJ=_6.concat(OJ),jFe=["add"].concat(_6,b6,UJ);const jJ=p6?x6(LFe):Cs("Map"),BJ=p6?x6(LJ):Cs("WeakMap"),VJ=p6?x6(jFe):Cs("Set"),WJ=Cs("WeakSet");function uh(t){for(var e=wi(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function qJ(t){for(var e=wi(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function w6(t){for(var e={},n=wi(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function av(t){var e=[];for(var n in t)ws(t[n])&&e.push(n);return e.sort()}function T6(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=t(s),o=a.length,l=0;l<o;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const E6=T6(ig),Tm=T6(wi),C6=T6(ig,!0);function BFe(){return function(){}}function $J(t){if(!ld(t))return{};if(oL)return oL(t);var e=BFe();e.prototype=t;var n=new e;return e.prototype=null,n}function zJ(t,e){var n=$J(t);return e&&Tm(n,e),n}function HJ(t){return ld(t)?cd(t)?t.slice():E6({},t):t}function GJ(t,e){return e(t),t}function S6(t){return cd(t)?t:[t]}Ln.toPath=S6;function n1(t){return Ln.toPath(t)}function D6(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function A6(t,e,n){var r=D6(t,n1(e));return c6(r)?n:r}function KJ(t,e){e=n1(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!ud(t,i))return!1;t=t[i]}return!!n}function $w(t){return t}function qf(t){return t=Tm({},t),function(e){return v6(e,t)}}function zw(t){return t=n1(t),function(e){return D6(e,t)}}function r1(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,a){return t.call(e,r,i,s,a)}}return function(){return t.apply(e,arguments)}}function XJ(t,e,n){return t==null?$w:ws(t)?r1(t,e,n):ld(t)&&!cd(t)?qf(t):zw(t)}function Hw(t,e){return XJ(t,e,1/0)}Ln.iteratee=Hw;function ca(t,e,n){return Ln.iteratee!==Hw?Ln.iteratee(t,e):XJ(t,e,n)}function JJ(t,e,n){e=ca(e,n);for(var r=wi(t),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function N6(){}function YJ(t){return t==null?N6:function(e){return A6(t,e)}}function QJ(t,e,n){var r=Array(Math.max(0,t));e=r1(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function n_(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Em=Date.now||function(){return new Date().getTime()};function ZJ(t){var e=function(s){return t[s]},n="(?:"+wi(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const eY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},tY=ZJ(eY),VFe=w6(eY),nY=ZJ(VFe),rY=Ln.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var vD=/(.)^/,WFe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},qFe=/\\|'|\r|\n|\u2028|\u2029/g;function $Fe(t){return"\\"+WFe[t]}var zFe=/^\s*(\w|\$)+\s*$/;function iY(t,e,n){!e&&n&&(e=n),e=C6({},e,Ln.templateSettings);var r=RegExp([(e.escape||vD).source,(e.interpolate||vD).source,(e.evaluate||vD).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(c,u,f,h,p){return s+=t.slice(i,p).replace(qFe,$Fe),i=p+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),c}),s+=`';
`;var a=e.variable;if(a){if(!zFe.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return o.call(this,c,Ln)};return l.source="function("+a+`){
`+s+"}",l}function sY(t,e,n){e=n1(e);var r=e.length;if(!r)return ws(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=n,i=r),t=ws(s)?s.call(t):s}return t}var HFe=0;function aY(t){var e=++HFe+"";return t?t+e:e}function oY(t){var e=Ln(t);return e._chain=!0,e}function lY(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=$J(t.prototype),a=t.apply(s,i);return ld(a)?a:s}var dh=Bs(function(t,e){var n=dh.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===n?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return lY(t,r,this,this,a)};return r});dh.placeholder=Ln;const k6=Bs(function(t,e,n){if(!ws(t))throw new TypeError("Bind must be called on a function");var r=Bs(function(i){return lY(t,r,e,this,n.concat(i))});return r}),Ia=kJ(aa);function fh(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,a=aa(t);s<a;s++){var o=t[s];if(Ia(o)&&(cd(o)||qw(o)))if(e>1)fh(o,e-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const cY=Bs(function(t,e){e=fh(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=k6(t[r],t)}return t});function uY(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return ud(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const I6=Bs(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),dY=dh(I6,Ln,1);function fY(t,e,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=n.leading===!1?0:Em(),r=null,a=t.apply(i,s),r||(i=s=null)},c=function(){var u=Em();!o&&n.leading===!1&&(o=u);var f=e-(u-o);return i=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),o=u,a=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function hY(t,e,n){var r,i,s,a,o,l=function(){var u=Em()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,s)),r||(s=o=null))},c=Bs(function(u){return o=this,s=u,i=Em(),r||(r=setTimeout(l,e),n&&(a=t.apply(o,s))),a});return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function pY(t,e){return dh(e,t)}function Gw(t){return function(){return!t.apply(this,arguments)}}function mY(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function gY(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function R6(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const yY=dh(R6,2);function P6(t,e,n){e=ca(e,n);for(var r=wi(t),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(t[i],i,t))return i}function vY(t){return function(e,n,r){n=ca(n,r);for(var i=aa(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const Kw=vY(1),F6=vY(-1);function M6(t,e,n,r){n=ca(n,r,1);for(var i=n(e),s=0,a=aa(t);s<a;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s}function xY(t,e,n){return function(r,i,s){var a=0,o=aa(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(t1.call(r,a,o),m6),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===i)return s;return-1}}const U6=xY(1,Kw,M6),bY=xY(-1,F6);function ov(t,e,n){var r=Ia(t)?Kw:P6,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function _Y(t,e){return ov(t,qf(e))}function Vo(t,e,n){e=r1(e,n);var r,i;if(Ia(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=wi(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function bc(t,e,n){e=ca(e,n);for(var r=!Ia(t)&&wi(t),i=(r||t).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function wY(t){var e=function(n,r,i,s){var a=!Ia(n)&&wi(n),o=(a||n).length,l=t>0?0:o-1;for(s||(i=n[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,s){var a=arguments.length>=3;return e(n,r1(r,s,4),i,a)}}const Vp=wY(1),r_=wY(-1);function Gu(t,e,n){var r=[];return e=ca(e,n),Vo(t,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function TY(t,e,n){return Gu(t,Gw(ca(e)),n)}function i_(t,e,n){e=ca(e,n);for(var r=!Ia(t)&&wi(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function s_(t,e,n){e=ca(e,n);for(var r=!Ia(t)&&wi(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function ro(t,e,n,r){return Ia(t)||(t=uh(t)),(typeof n!="number"||r)&&(n=0),U6(t,e,n)>=0}const EY=Bs(function(t,e,n){var r,i;return ws(e)?i=e:(e=n1(e),r=e.slice(0,-1),e=e[e.length-1]),bc(t,function(s){var a=i;if(!a){if(r&&r.length&&(s=D6(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,n)})});function Xw(t,e){return bc(t,zw(e))}function CY(t,e){return Gu(t,qf(e))}function O6(t,e,n){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Ia(t)?t:uh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=ca(e,n),Vo(t,function(c,u,f){a=e(c,u,f),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function SY(t,e,n){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Ia(t)?t:uh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=ca(e,n),Vo(t,function(c,u,f){a=e(c,u,f),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var GFe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function L6(t){return t?cd(t)?t1.call(t):Ww(t)?t.match(GFe):Ia(t)?bc(t,$w):uh(t):[]}function j6(t,e,n){if(e==null||n)return Ia(t)||(t=uh(t)),t[n_(t.length-1)];var r=L6(t),i=aa(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=n_(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function DY(t){return j6(t,1/0)}function AY(t,e,n){var r=0;return e=ca(e,n),Xw(bc(t,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function Jw(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=ca(r,i),Vo(n,function(a,o){var l=r(a,o,n);t(s,a,l)}),s}}const NY=Jw(function(t,e,n){ud(t,n)?t[n].push(e):t[n]=[e]}),kY=Jw(function(t,e,n){t[n]=e}),IY=Jw(function(t,e,n){ud(t,n)?t[n]++:t[n]=1}),RY=Jw(function(t,e,n){t[n?0:1].push(e)},!0);function PY(t){return t==null?0:Ia(t)?t.length:wi(t).length}function KFe(t,e,n){return e in n}const B6=Bs(function(t,e){var n={},r=e[0];if(t==null)return n;ws(r)?(e.length>1&&(r=r1(r,e[1])),e=ig(t)):(r=KFe,e=fh(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=t[a];r(o,a,t)&&(n[a]=o)}return n}),FY=Bs(function(t,e){var n=e[0],r;return ws(n)?(n=Gw(n),e.length>1&&(r=e[1])):(e=bc(fh(e,!1,!1),String),n=function(i,s){return!ro(e,s)}),B6(t,n,r)});function V6(t,e,n){return t1.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Wp(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:V6(t,t.length-e)}function gf(t,e,n){return t1.call(t,e==null||n?1:e)}function MY(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:gf(t,Math.max(0,t.length-e))}function UY(t){return Gu(t,Boolean)}function OY(t,e){return fh(t,e,!1)}const W6=Bs(function(t,e){return e=fh(e,!0,!0),Gu(t,function(n){return!ro(e,n)})}),LY=Bs(function(t,e){return W6(t,e)});function lv(t,e,n,r){u6(e)||(r=n,n=e,e=!1),n!=null&&(n=ca(n,r));for(var i=[],s=[],a=0,o=aa(t);a<o;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||s!==c)&&i.push(l),s=c):n?ro(s,c)||(s.push(c),i.push(l)):ro(i,l)||i.push(l)}return i}const jY=Bs(function(t){return lv(fh(t,!0,!0))});function BY(t){for(var e=[],n=arguments.length,r=0,i=aa(t);r<i;r++){var s=t[r];if(!ro(e,s)){var a;for(a=1;a<n&&ro(arguments[a],s);a++);a===n&&e.push(s)}}return e}function cv(t){for(var e=t&&O6(t,aa).length||0,n=Array(e),r=0;r<e;r++)n[r]=Xw(t,r);return n}const VY=Bs(cv);function WY(t,e){for(var n={},r=0,i=aa(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function qY(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function $Y(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(t1.call(t,r,r+=e));return n}function q6(t,e){return t._chain?Ln(e).chain():e}function $6(t){return Vo(av(t),function(e){var n=Ln[e]=t[e];Ln.prototype[e]=function(){var r=[this._wrapped];return EFe.apply(r,arguments),q6(this,n.apply(Ln,r))}}),Ln}Vo(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Vw[t];Ln.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),q6(this,n)}});Vo(["concat","join","slice"],function(t){var e=Vw[t];Ln.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),q6(this,n)}});const XFe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:o6,after:gY,all:i_,allKeys:ig,any:s_,assign:Tm,before:R6,bind:k6,bindAll:cY,chain:oY,chunk:$Y,clone:HJ,collect:bc,compact:UY,compose:mY,constant:g6,contains:ro,countBy:IY,create:zJ,debounce:hY,default:Ln,defaults:C6,defer:dY,delay:I6,detect:ov,difference:W6,drop:gf,each:Vo,escape:tY,every:i_,extend:E6,extendOwn:Tm,filter:Gu,find:ov,findIndex:Kw,findKey:P6,findLastIndex:F6,findWhere:_Y,first:Wp,flatten:OY,foldl:Vp,foldr:r_,forEach:Vo,functions:av,get:A6,groupBy:NY,has:KJ,head:Wp,identity:$w,include:ro,includes:ro,indexBy:kY,indexOf:U6,initial:V6,inject:Vp,intersection:BY,invert:w6,invoke:EY,isArguments:qw,isArray:cd,isArrayBuffer:h6,isBoolean:u6,isDataView:sv,isDate:TJ,isElement:wJ,isEmpty:PJ,isEqual:MJ,isError:CJ,isFinite:NJ,isFunction:ws,isMap:jJ,isMatch:v6,isNaN:m6,isNull:_J,isNumber:d6,isObject:ld,isRegExp:EJ,isSet:VJ,isString:Ww,isSymbol:f6,isTypedArray:y6,isUndefined:c6,isWeakMap:BJ,isWeakSet:WJ,iteratee:Hw,keys:wi,last:MY,lastIndexOf:bY,map:bc,mapObject:JJ,matcher:qf,matches:qf,max:O6,memoize:uY,methods:av,min:SY,mixin:$6,negate:Gw,noop:N6,now:Em,object:WY,omit:FY,once:yY,pairs:qJ,partial:dh,partition:RY,pick:B6,pluck:Xw,property:zw,propertyOf:YJ,random:n_,range:qY,reduce:Vp,reduceRight:r_,reject:TY,rest:gf,restArguments:Bs,result:sY,sample:j6,select:Gu,shuffle:DY,size:PY,some:s_,sortBy:AY,sortedIndex:M6,tail:gf,take:Wp,tap:GJ,template:iY,templateSettings:rY,throttle:fY,times:QJ,toArray:L6,toPath:S6,transpose:cv,unescape:nY,union:jY,uniq:lv,unique:lv,uniqueId:aY,unzip:cv,values:uh,where:CY,without:LY,wrap:pY,zip:VY},Symbol.toStringTag,{value:"Module"}));var yN=$6(XFe);yN._=yN;const JFe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:o6,after:gY,all:i_,allKeys:ig,any:s_,assign:Tm,before:R6,bind:k6,bindAll:cY,chain:oY,chunk:$Y,clone:HJ,collect:bc,compact:UY,compose:mY,constant:g6,contains:ro,countBy:IY,create:zJ,debounce:hY,default:yN,defaults:C6,defer:dY,delay:I6,detect:ov,difference:W6,drop:gf,each:Vo,escape:tY,every:i_,extend:E6,extendOwn:Tm,filter:Gu,find:ov,findIndex:Kw,findKey:P6,findLastIndex:F6,findWhere:_Y,first:Wp,flatten:OY,foldl:Vp,foldr:r_,forEach:Vo,functions:av,get:A6,groupBy:NY,has:KJ,head:Wp,identity:$w,include:ro,includes:ro,indexBy:kY,indexOf:U6,initial:V6,inject:Vp,intersection:BY,invert:w6,invoke:EY,isArguments:qw,isArray:cd,isArrayBuffer:h6,isBoolean:u6,isDataView:sv,isDate:TJ,isElement:wJ,isEmpty:PJ,isEqual:MJ,isError:CJ,isFinite:NJ,isFunction:ws,isMap:jJ,isMatch:v6,isNaN:m6,isNull:_J,isNumber:d6,isObject:ld,isRegExp:EJ,isSet:VJ,isString:Ww,isSymbol:f6,isTypedArray:y6,isUndefined:c6,isWeakMap:BJ,isWeakSet:WJ,iteratee:Hw,keys:wi,last:MY,lastIndexOf:bY,map:bc,mapObject:JJ,matcher:qf,matches:qf,max:O6,memoize:uY,methods:av,min:SY,mixin:$6,negate:Gw,noop:N6,now:Em,object:WY,omit:FY,once:yY,pairs:qJ,partial:dh,partition:RY,pick:B6,pluck:Xw,property:zw,propertyOf:YJ,random:n_,range:qY,reduce:Vp,reduceRight:r_,reject:TY,rest:gf,restArguments:Bs,result:sY,sample:j6,select:Gu,shuffle:DY,size:PY,some:s_,sortBy:AY,sortedIndex:M6,tail:gf,take:Wp,tap:GJ,template:iY,templateSettings:rY,throttle:fY,times:QJ,toArray:L6,toPath:S6,transpose:cv,unescape:nY,union:jY,uniq:lv,unique:lv,uniqueId:aY,unzip:cv,values:uh,where:CY,without:LY,wrap:pY,zip:VY},Symbol.toStringTag,{value:"Module"})),ii=dZ(JFe);var Hx={},$a={},xD={exports:{}},Gx={exports:{}},fL;function sg(){if(fL)return Gx.exports;fL=1;var t=(function(){return this===void 0})();if(t)Gx.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(u,f){var h=Object.getOwnPropertyDescriptor(u,f);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(u){var f=[];for(var h in u)e.call(u,h)&&f.push(h);return f},s=function(u,f){return{value:u[f]}},a=function(u,f,h){return u[f]=h.value,u},o=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return r}},c=function(u){try{return n.call(u)==="[object Array]"}catch{return!1}};Gx.exports={isArray:c,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return Gx.exports}var i0,hL;function lr(){if(hL)return i0;hL=1;var t={},e=sg(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof ms<"u"?ms:i0!==void 0?i0:null;function a(){try{var q=i;return i=null,q.apply(this,arguments)}catch(X){return r.e=X,r}}function o(q){return i=q,a}var l=function(q,X){var Q={}.hasOwnProperty;function ee(){this.constructor=q,this.constructor$=X;for(var ae in X.prototype)Q.call(X.prototype,ae)&&ae.charAt(ae.length-1)!=="$"&&(this[ae+"$"]=X.prototype[ae])}return ee.prototype=X.prototype,q.prototype=new ee,q.prototype};function c(q){return q==null||q===!0||q===!1||typeof q=="string"||typeof q=="number"}function u(q){return typeof q=="function"||typeof q=="object"&&q!==null}function f(q){return c(q)?new Error(S(q)):q}function h(q,X){var Q=q.length,ee=new Array(Q+1),ae;for(ae=0;ae<Q;++ae)ee[ae]=q[ae];return ee[ae]=X,ee}function p(q,X,Q){if(e.isES5){var ee=Object.getOwnPropertyDescriptor(q,X);if(ee!=null)return ee.get==null&&ee.set==null?ee.value:Q}else return{}.hasOwnProperty.call(q,X)?q[X]:void 0}function v(q,X,Q){if(c(q))return q;var ee={value:Q,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(q,X,ee),q}function g(q){throw q}var y=(function(){var q=[Array.prototype,Object.prototype,Function.prototype],X=function(ae){for(var de=0;de<q.length;++de)if(q[de]===ae)return!0;return!1};if(e.isES5){var Q=Object.getOwnPropertyNames;return function(ae){for(var de=[],fe=Object.create(null);ae!=null&&!X(ae);){var Ne;try{Ne=Q(ae)}catch{return de}for(var Re=0;Re<Ne.length;++Re){var me=Ne[Re];if(!fe[me]){fe[me]=!0;var Le=Object.getOwnPropertyDescriptor(ae,me);Le!=null&&Le.get==null&&Le.set==null&&de.push(me)}}ae=e.getPrototypeOf(ae)}return de}}else{var ee={}.hasOwnProperty;return function(ae){if(X(ae))return[];var de=[];e:for(var fe in ae)if(ee.call(ae,fe))de.push(fe);else{for(var Ne=0;Ne<q.length;++Ne)if(ee.call(q[Ne],fe))continue e;de.push(fe)}return de}}})(),_=/this\s*\.\s*\S+\s*=/;function x(q){try{if(typeof q=="function"){var X=e.names(q.prototype),Q=e.isES5&&X.length>1,ee=X.length>0&&!(X.length===1&&X[0]==="constructor"),ae=_.test(q+"")&&e.names(q).length>0;if(Q||ee||ae)return!0}return!1}catch{return!1}}function w(q){return q}var C=/^[a-z$_][a-z$_0-9]*$/i;function D(q){return C.test(q)}function R(q,X,Q){for(var ee=new Array(q),ae=0;ae<q;++ae)ee[ae]=X+ae+Q;return ee}function S(q){try{return q+""}catch{return"[no string representation]"}}function N(q){return q!==null&&typeof q=="object"&&typeof q.message=="string"&&typeof q.name=="string"}function k(q){try{v(q,"isOperational",!0)}catch{}}function F(q){return q==null?!1:q instanceof Error.__BluebirdErrorTypes__.OperationalError||q.isOperational===!0}function P(q){return N(q)&&e.propertyIsWritable(q,"stack")}var I=(function(){return"stack"in new Error?function(q){return P(q)?q:new Error(S(q))}:function(q){if(P(q))return q;try{throw new Error(S(q))}catch(X){return X}}})();function U(q){return{}.toString.call(q)}function O(q,X,Q){for(var ee=e.names(q),ae=0;ae<ee.length;++ae){var de=ee[ae];if(Q(de))try{e.defineProperty(X,de,e.getDescriptor(q,de))}catch{}}}var G=function(q){return e.isArray(q)?q:null};if(typeof Symbol<"u"&&Symbol.iterator){var K=typeof Array.from=="function"?function(q){return Array.from(q)}:function(q){for(var X=[],Q=q[Symbol.iterator](),ee;!(ee=Q.next()).done;)X.push(ee.value);return X};G=function(q){return e.isArray(q)?q:q!=null&&typeof q[Symbol.iterator]=="function"?K(q):null}}var J=typeof process<"u"&&U(process).toLowerCase()==="[object process]",te=typeof process<"u"&&typeof t<"u";function z(q){return te?t[q]:void 0}function Y(){if(typeof Promise=="function")try{var q=new Promise(function(){});if({}.toString.call(q)==="[object Promise]")return Promise}catch{}}function B(q,X){return q.bind(X)}var j={isClass:x,isIdentifier:D,inheritedDataKeys:y,getDataPropertyOrDefault:p,thrower:g,isArray:e.isArray,asArray:G,notEnumerableProp:v,isPrimitive:c,isObject:u,isError:N,canEvaluate:n,errorObj:r,tryCatch:o,inherits:l,withAppended:h,maybeWrapAsError:f,toFastProperties:w,filledRange:R,toString:S,canAttachTrace:P,ensureErrorObject:I,originatesFromRejection:F,markAsOriginatingFromRejection:k,classString:U,copyDescriptors:O,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:J,hasEnvVariables:te,env:z,global:s,getNativePromise:Y,domainBind:B};j.isRecentNode=j.isNode&&(function(){var q=process.versions.node.split(".").map(Number);return q[0]===0&&q[1]>10||q[0]>0})(),j.isNode&&j.toFastProperties(process);try{throw new Error}catch(q){j.lastLineError=q}return i0=j,i0}var Kx={exports:{}},bD,pL;function YFe(){if(pL)return bD;pL=1;var t=lr(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var i=ms.setImmediate,s=process.nextTick;e=t.isRecentNode?function(o){i.call(ms,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),f=new MutationObserver(function(){o.classList.toggle("foo"),c=!1});f.observe(u,l);var h=function(){c||(c=!0,u.classList.toggle("foo"))};return function(v){var g=new MutationObserver(function(){g.disconnect(),v()});g.observe(o,l),h()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return bD=e,bD}var _D,mL;function QFe(){if(mL)return _D;mL=1;function t(n,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=n[o+r],n[o+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},e.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=n,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,a=i+s&r-1;t(this,0,this,r,a)},_D=e,_D}var gL;function ZFe(){if(gL)return Kx.exports;gL=1;var t;try{throw new Error}catch(l){t=l}var e=YFe(),n=QFe(),r=lr();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function a(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},i.prototype.invoke=function(l,c,u){this._trampolineEnabled?a.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),f=l.shift();c.call(u,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Kx.exports=i,Kx.exports.firstLineError=t,Kx.exports}var wD,yL;function Ku(){if(yL)return wD;yL=1;var t=sg(),e=t.freeze,n=lr(),r=n.inherits,i=n.notEnumerableProp;function s(_,x){function w(C){if(!(this instanceof w))return new w(C);i(this,"message",typeof C=="string"?C:x),i(this,"name",_),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(w,Error),w}var a,o,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);t.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var _=Array(v*4+1).join(" "),x=`
`+_+`AggregateError of:
`;v++,_=Array(v*4+1).join(" ");for(var w=0;w<this.length;++w){for(var C=this[w]===this?"[Circular AggregateError]":this[w]+"",D=C.split(`
`),R=0;R<D.length;++R)D[R]=_+D[R];C=D.join(`
`),x+=C+`
`}return v--,x};function g(_){if(!(this instanceof g))return new g(_);i(this,"name","OperationalError"),i(this,"message",_),this.cause=_,this.isOperational=!0,_ instanceof Error?(i(this,"message",_.message),i(this,"stack",_.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(g,Error);var y=Error.__BluebirdErrorTypes__;return y||(y=e({CancellationError:c,TimeoutError:u,OperationalError:g,RejectionError:g,AggregateError:f}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),wD={Error,TypeError:a,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:l},wD}var TD,vL;function e9e(){return vL||(vL=1,TD=function(t,e){var n=lr(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof t)return f;var p=o(f);if(p===r){h&&h._pushContext();var v=t.reject(p.e);return h&&h._popContext(),v}else if(typeof p=="function"){if(c(f)){var v=new t(e);return f._then(v._fulfill,v._reject,void 0,v,null),v}return u(f,p,h)}}return f}function a(f){return f.then}function o(f){try{return a(f)}catch(h){return r.e=h,r}}var l={}.hasOwnProperty;function c(f){try{return l.call(f,"_promise0")}catch{return!1}}function u(f,h,p){var v=new t(e),g=v;p&&p._pushContext(),v._captureStackTrace(),p&&p._popContext();var y=!0,_=n.tryCatch(h).call(f,x,w);y=!1,v&&_===r&&(v._rejectCallback(_.e,!0,!0),v=null);function x(C){v&&(v._resolveCallback(C),v=null)}function w(C){v&&(v._rejectCallback(C,y,!0),v=null)}return g}return s}),TD}var ED,xL;function t9e(){return xL||(xL=1,ED=function(t,e,n,r,i){var s=lr();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var c=this._promise=new t(e);l instanceof t&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(c,u){var f=n(this._values,this._promise);if(f instanceof t){f=f._target();var h=f._bitField;if(this._values=f,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,u);if((h&33554432)!==0)f=f._value();else return(h&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(f)},o.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=!1,h=null,p=0;p<c;++p){var v=n(l[p],u);v instanceof t?(v=v._target(),h=v._bitField):h=null,f?h!==null&&v.suppressUnhandledRejections():h!==null?(h&50397184)===0?(v._proxy(this,p),this._values[p]=v):(h&33554432)!==0?f=this._promiseFulfilled(v._value(),p):(h&16777216)!==0?f=this._promiseRejected(v._reason(),p):f=this._promiseCancelled(p):f=this._promiseFulfilled(v,p)}f||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof t&&l[c].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),ED}var CD,bL;function n9e(){return bL||(bL=1,CD=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=n.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=n.length-1;if(a>=0)return n[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=t.prototype._pushContext,o=t.prototype._popContext,l=t._peekContext,c=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=a,t.prototype._popContext=o,t._peekContext=l,t.prototype._peekContext=c,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),CD}var SD,_L;function r9e(){return _L||(_L=1,SD=function(t,e){var n=t._getDomain,r=t._async,i=Ku().Warning,s=lr(),a=s.canAttachTrace,o,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,v=!1,g,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),_=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),x=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),w=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(_||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var ce=this._target();ce._bitField=ce._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){me("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ce=this._settledValue();this._setUnhandledRejectionIsNotified(),me("unhandledRejection",l,ce,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(ce,ye,xe){return X(ce,ye,xe||this)},t.onPossiblyUnhandledRejection=function(ce){var ye=n();l=typeof ce=="function"?ye===null?ce:s.domainBind(ye,ce):void 0},t.onUnhandledRejectionHandled=function(ce){var ye=n();o=typeof ce=="function"?ye===null?ce:s.domainBind(ye,ce):void 0};var C=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ie.longStackTraces&&ve()){var ce=t.prototype._captureStackTrace,ye=t.prototype._attachExtraTrace;ie.longStackTraces=!0,C=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=ce,t.prototype._attachExtraTrace=ye,e.deactivateLongStackTraces(),r.enableTrampoline(),ie.longStackTraces=!1},t.prototype._captureStackTrace=Y,t.prototype._attachExtraTrace=B,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return ie.longStackTraces&&ve()};var D=(function(){try{if(typeof CustomEvent=="function"){var ce=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ce),function(ye,xe){var ke=new CustomEvent(ye.toLowerCase(),{detail:xe,cancelable:!0});return!s.global.dispatchEvent(ke)}}else if(typeof Event=="function"){var ce=new Event("CustomEvent");return s.global.dispatchEvent(ce),function(xe,ke){var Ue=new Event(xe.toLowerCase(),{cancelable:!0});return Ue.detail=ke,!s.global.dispatchEvent(Ue)}}else{var ce=document.createEvent("CustomEvent");return ce.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ce),function(xe,ke){var Ue=document.createEvent("CustomEvent");return Ue.initCustomEvent(xe.toLowerCase(),!1,!0,ke),!s.global.dispatchEvent(Ue)}}}catch{}return function(){return!1}})(),R=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ce){var ye="on"+ce.toLowerCase(),xe=s.global[ye];return xe?(xe.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function S(ce,ye){return{promise:ye}}var N={promiseCreated:S,promiseFulfilled:S,promiseRejected:S,promiseResolved:S,promiseCancelled:S,promiseChained:function(ce,ye,xe){return{promise:ye,child:xe}},warning:function(ce,ye){return{warning:ye}},unhandledRejection:function(ce,ye,xe){return{reason:ye,promise:xe}},rejectionHandled:S},k=function(ce){var ye=!1;try{ye=R.apply(null,arguments)}catch(ke){r.throwLater(ke),ye=!0}var xe=!1;try{xe=D(ce,N[ce].apply(null,arguments))}catch(ke){r.throwLater(ke),xe=!0}return xe||ye};t.config=function(ce){if(ce=Object(ce),"longStackTraces"in ce&&(ce.longStackTraces?t.longStackTraces():!ce.longStackTraces&&t.hasLongStackTraces()&&C()),"warnings"in ce){var ye=ce.warnings;ie.warnings=!!ye,w=ie.warnings,s.isObject(ye)&&"wForgottenReturn"in ye&&(w=!!ye.wForgottenReturn)}if("cancellation"in ce&&ce.cancellation&&!ie.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=G,t.prototype._propagateFrom=K,t.prototype._onCancel=U,t.prototype._setOnCancel=O,t.prototype._attachCancellationCallback=I,t.prototype._execute=P,te=K,ie.cancellation=!0}return"monitoring"in ce&&(ce.monitoring&&!ie.monitoring?(ie.monitoring=!0,t.prototype._fireEvent=k):!ce.monitoring&&ie.monitoring&&(ie.monitoring=!1,t.prototype._fireEvent=F)),t};function F(){return!1}t.prototype._fireEvent=F,t.prototype._execute=function(ce,ye,xe){try{ce(ye,xe)}catch(ke){return ke}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(ce){},t.prototype._attachCancellationCallback=function(ce){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(ce,ye){};function P(ce,ye,xe){var ke=this;try{ce(ye,xe,function(Ue){if(typeof Ue!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Ue));ke._attachCancellationCallback(Ue)})}catch(Ue){return Ue}}function I(ce){if(!this._isCancellable())return this;var ye=this._onCancel();ye!==void 0?s.isArray(ye)?ye.push(ce):this._setOnCancel([ye,ce]):this._setOnCancel(ce)}function U(){return this._onCancelField}function O(ce){this._onCancelField=ce}function G(){this._cancellationParent=void 0,this._onCancelField=void 0}function K(ce,ye){if((ye&1)!==0){this._cancellationParent=ce;var xe=ce._branchesRemainingToCancel;xe===void 0&&(xe=0),ce._branchesRemainingToCancel=xe+1}(ye&2)!==0&&ce._isBound()&&this._setBoundTo(ce._boundTo)}function J(ce,ye){(ye&2)!==0&&ce._isBound()&&this._setBoundTo(ce._boundTo)}var te=J;function z(){var ce=this._boundTo;return ce!==void 0&&ce instanceof t?ce.isFulfilled()?ce.value():void 0:ce}function Y(){this._trace=new he(this._peekContext())}function B(ce,ye){if(a(ce)){var xe=this._trace;if(xe!==void 0&&ye&&(xe=xe._parent),xe!==void 0)xe.attachExtraTrace(ce);else if(!ce.__stackCleaned__){var ke=Ne(ce);s.notEnumerableProp(ce,"stack",ke.message+`
`+ke.stack.join(`
`)),s.notEnumerableProp(ce,"__stackCleaned__",!0)}}}function j(ce,ye,xe,ke,Ue){if(ce===void 0&&ye!==null&&w){if(Ue!==void 0&&Ue._returnedNonUndefined()||(ke._bitField&65535)===0)return;xe&&(xe=xe+" ");var Ce="",Me="";if(ye._trace){for(var Oe=ye._trace.stack.split(`
`),Ke=de(Oe),rt=Ke.length-1;rt>=0;--rt){var it=Ke[rt];if(!u.test(it)){var Ot=it.match(f);Ot&&(Ce="at "+Ot[1]+":"+Ot[2]+":"+Ot[3]+" ");break}}if(Ke.length>0){for(var xn=Ke[0],rt=0;rt<Oe.length;++rt)if(Oe[rt]===xn){rt>0&&(Me=`
`+Oe[rt-1]);break}}}var ln="a promise was created in a "+xe+"handler "+Ce+"but was not returned from it, see http://goo.gl/rRqMUw"+Me;ke._warn(ln,!0,ye)}}function q(ce,ye){var xe=ce+" is deprecated and will be removed in a future version.";return ye&&(xe+=" Use "+ye+" instead."),X(xe)}function X(ce,ye,xe){if(ie.warnings){var ke=new i(ce),Ue;if(ye)xe._attachExtraTrace(ke);else if(ie.longStackTraces&&(Ue=t._peekContext()))Ue.attachExtraTrace(ke);else{var Ce=Ne(ke);ke.stack=Ce.message+`
`+Ce.stack.join(`
`)}k("warning",ke)||Re(ke,"",!0)}}function Q(ce,ye){for(var xe=0;xe<ye.length-1;++xe)ye[xe].push("From previous event:"),ye[xe]=ye[xe].join(`
`);return xe<ye.length&&(ye[xe]=ye[xe].join(`
`)),ce+`
`+ye.join(`
`)}function ee(ce){for(var ye=0;ye<ce.length;++ye)(ce[ye].length===0||ye+1<ce.length&&ce[ye][0]===ce[ye+1][0])&&(ce.splice(ye,1),ye--)}function ae(ce){for(var ye=ce[0],xe=1;xe<ce.length;++xe){for(var ke=ce[xe],Ue=ye.length-1,Ce=ye[Ue],Me=-1,Oe=ke.length-1;Oe>=0;--Oe)if(ke[Oe]===Ce){Me=Oe;break}for(var Oe=Me;Oe>=0;--Oe){var Ke=ke[Oe];if(ye[Ue]===Ke)ye.pop(),Ue--;else break}ye=ke}}function de(ce){for(var ye=[],xe=0;xe<ce.length;++xe){var ke=ce[xe],Ue=ke==="    (No stack trace)"||h.test(ke),Ce=Ue&&we(ke);Ue&&!Ce&&(v&&ke.charAt(0)!==" "&&(ke="    "+ke),ye.push(ke))}return ye}function fe(ce){for(var ye=ce.stack.replace(/\s+$/g,"").split(`
`),xe=0;xe<ye.length;++xe){var ke=ye[xe];if(ke==="    (No stack trace)"||h.test(ke))break}return xe>0&&ce.name!="SyntaxError"&&(ye=ye.slice(xe)),ye}function Ne(ce){var ye=ce.stack,xe=ce.toString();return ye=typeof ye=="string"&&ye.length>0?fe(ce):["    (No stack trace)"],{message:xe,stack:ce.name=="SyntaxError"?ye:de(ye)}}function Re(ce,ye,xe){if(typeof console<"u"){var ke;if(s.isObject(ce)){var Ue=ce.stack;ke=ye+p(Ue,ce)}else ke=ye+String(ce);typeof g=="function"?g(ke,xe):(typeof console.log=="function"||typeof console.log=="object")&&console.log(ke)}}function me(ce,ye,xe,ke){var Ue=!1;try{typeof ye=="function"&&(Ue=!0,ce==="rejectionHandled"?ye(ke):ye(xe,ke))}catch(Ce){r.throwLater(Ce)}ce==="unhandledRejection"?!k(ce,xe,ke)&&!Ue&&Re(xe,"Unhandled rejection "):k(ce,ke)}function Le(ce){var ye;if(typeof ce=="function")ye="[function "+(ce.name||"anonymous")+"]";else{ye=ce&&typeof ce.toString=="function"?ce.toString():s.toString(ce);var xe=/\[object [a-zA-Z0-9$_]+\]/;if(xe.test(ye))try{var ke=JSON.stringify(ce);ye=ke}catch{}ye.length===0&&(ye="(empty array)")}return"(<"+V(ye)+">, no stack trace)"}function V(ce){var ye=41;return ce.length<ye?ce:ce.substr(0,ye-3)+"..."}function ve(){return typeof _e=="function"}var we=function(){return!1},oe=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function re(ce){var ye=ce.match(oe);if(ye)return{fileName:ye[1],line:parseInt(ye[2],10)}}function le(ce,ye){if(ve()){for(var xe=ce.stack.split(`
`),ke=ye.stack.split(`
`),Ue=-1,Ce=-1,Me,Oe,Ke=0;Ke<xe.length;++Ke){var rt=re(xe[Ke]);if(rt){Me=rt.fileName,Ue=rt.line;break}}for(var Ke=0;Ke<ke.length;++Ke){var rt=re(ke[Ke]);if(rt){Oe=rt.fileName,Ce=rt.line;break}}Ue<0||Ce<0||!Me||!Oe||Me!==Oe||Ue>=Ce||(we=function(it){if(c.test(it))return!0;var Ot=re(it);return!!(Ot&&Ot.fileName===Me&&Ue<=Ot.line&&Ot.line<=Ce)})}}function he(ce){this._parent=ce,this._promisesCreated=0;var ye=this._length=1+(ce===void 0?0:ce._length);_e(this,he),ye>32&&this.uncycle()}s.inherits(he,Error),e.CapturedTrace=he,he.prototype.uncycle=function(){var ce=this._length;if(!(ce<2)){for(var ye=[],xe={},ke=0,Ue=this;Ue!==void 0;++ke)ye.push(Ue),Ue=Ue._parent;ce=this._length=ke;for(var ke=ce-1;ke>=0;--ke){var Ce=ye[ke].stack;xe[Ce]===void 0&&(xe[Ce]=ke)}for(var ke=0;ke<ce;++ke){var Me=ye[ke].stack,Oe=xe[Me];if(Oe!==void 0&&Oe!==ke){Oe>0&&(ye[Oe-1]._parent=void 0,ye[Oe-1]._length=1),ye[ke]._parent=void 0,ye[ke]._length=1;var Ke=ke>0?ye[ke-1]:this;Oe<ce-1?(Ke._parent=ye[Oe+1],Ke._parent.uncycle(),Ke._length=Ke._parent._length+1):(Ke._parent=void 0,Ke._length=1);for(var rt=Ke._length+1,it=ke-2;it>=0;--it)ye[it]._length=rt,rt++;return}}}},he.prototype.attachExtraTrace=function(ce){if(!ce.__stackCleaned__){this.uncycle();for(var ye=Ne(ce),xe=ye.message,ke=[ye.stack],Ue=this;Ue!==void 0;)ke.push(de(Ue.stack.split(`
`))),Ue=Ue._parent;ae(ke),ee(ke),s.notEnumerableProp(ce,"stack",Q(xe,ke)),s.notEnumerableProp(ce,"__stackCleaned__",!0)}};var _e=(function(){var ye=/^\s*at\s*/,xe=function(Me,Oe){return typeof Me=="string"?Me:Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Le(Oe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=ye,p=xe;var ke=Error.captureStackTrace;return we=function(Me){return c.test(Me)},function(Me,Oe){Error.stackTraceLimit+=6,ke(Me,Oe),Error.stackTraceLimit-=6}}var Ue=new Error;if(typeof Ue.stack=="string"&&Ue.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=xe,v=!0,function(Oe){Oe.stack=new Error().stack};var Ce;try{throw new Error}catch(Me){Ce="stack"in Me}return!("stack"in Ue)&&Ce&&typeof Error.stackTraceLimit=="number"?(h=ye,p=xe,function(Oe){Error.stackTraceLimit+=6;try{throw new Error}catch(Ke){Oe.stack=Ke.stack}Error.stackTraceLimit-=6}):(p=function(Me,Oe){return typeof Me=="string"?Me:(typeof Oe=="object"||typeof Oe=="function")&&Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Le(Oe)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(g=function(ce){console.warn(ce)},s.isNode&&process.stderr.isTTY?g=function(ce,ye){var xe=ye?"\x1B[33m":"\x1B[31m";console.warn(xe+ce+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(g=function(ce,ye){console.warn("%c"+ce,ye?"color: darkorange":"color: red")}));var ie={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&t.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return te},boundValueFunction:function(){return z},checkForgottenReturns:j,setBounds:le,warn:X,deprecated:q,CapturedTrace:he,fireDomEvent:D,fireGlobalEvent:R}}),SD}var DD,wL;function i9e(){return wL||(wL=1,DD=function(t,e){var n=lr(),r=t.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(f){this.finallyHandler=f}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(f){if(!o(this,f))return i.e=f,i}function u(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(v!==void 0){h._setReturnedNonUndefined();var g=e(v,h);if(g instanceof t){if(this.cancelPromise!=null)if(g._isCancelled()){var y=new r("late cancellation observer");return h._attachExtraTrace(y),i.e=y,i}else g.isPending()&&g._attachCancellationCallback(new a(this));return g._then(l,c,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=f,i):(o(this),f)}return t.prototype._passThrough=function(f,h,p,v){return typeof f!="function"?this.then():this._then(p,v,void 0,new s(this,h,f),void 0)},t.prototype.lastly=t.prototype.finally=function(f){return this._passThrough(f,0,u,u)},t.prototype.tap=function(f){return this._passThrough(f,1,u)},s}),DD}var AD,TL;function s9e(){return TL||(TL=1,AD=function(t){var e=lr(),n=sg().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(c){var u=l._boundValue();e:for(var f=0;f<a.length;++f){var h=a[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(c instanceof h)return r(o).call(u,c)}else if(typeof h=="function"){var p=r(h).call(u,c);if(p===i)return p;if(p)return r(o).call(u,c)}else if(e.isObject(c)){for(var v=n(h),g=0;g<v.length;++g){var y=v[g];if(h[y]!=c[y])continue e}return r(o).call(u,c)}}return t}}return s}),AD}var ND,EL;function zY(){if(EL)return ND;EL=1;var t=lr(),e=t.maybeWrapAsError,n=Ku(),r=n.OperationalError,i=sg();function s(c){return c instanceof Error&&i.getPrototypeOf(c)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(c){var u;if(s(c)){u=new r(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var f=i.keys(c),h=0;h<f.length;++h){var p=f[h];a.test(p)||(u[p]=c[p])}return u}return t.markAsOriginatingFromRejection(c),c}function l(c,u){return function(f,h){if(c!==null){if(f){var p=o(e(f));c._attachExtraTrace(p),c._reject(p)}else if(!u)c._fulfill(h);else{for(var v=arguments.length,g=new Array(Math.max(v-1,0)),y=1;y<v;++y)g[y-1]=arguments[y];c._fulfill(g)}c=null}}}return ND=l,ND}var kD,CL;function a9e(){return CL||(CL=1,kD=function(t,e,n,r,i){var s=lr(),a=s.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var c=a(o).apply(this,arguments),u=l._popContext();return i.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},t.attempt=t.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new t(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],f=arguments[2];c=s.isArray(u)?a(o).apply(f,u):a(o).call(f,u)}else c=a(o)();var h=l._popContext();return i.checkForgottenReturns(c,h,"Promise.try",l),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),kD}var ID,SL;function o9e(){return SL||(SL=1,ID=function(t,e,n,r){var i=!1,s=function(c,u){this._reject(u)},a=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},o=function(c,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(c),f=new t(e);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:u};h._then(e,a,void 0,f,p),u._then(o,l,void 0,f,p),f._setOnCancel(u)}else f._resolveCallback(h);return f},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,u){return t.resolve(u).bind(c)}}),ID}var RD,DL;function l9e(){return DL||(DL=1,RD=function(t,e,n,r){var i=lr(),s=i.tryCatch,a=i.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,c){if(i.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var f=s(l).call(this._boundValue());f===a&&(this._attachExtraTrace(f.e),o.throwLater(f.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),RD}var PD,AL;function c9e(){return AL||(AL=1,PD=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),PD}var FD,NL;function u9e(){return NL||(NL=1,FD=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),FD}var MD,kL;function d9e(){return kL||(kL=1,MD=function(t,e,n,r,i,s){var a=lr(),o=a.canEvaluate,l=a.tryCatch,c=a.errorObj,u;if(o){for(var f=function(x){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,x))},h=function(x){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,x))},p=function(x){for(var w=new Array(x),C=0;C<w.length;++C)w[C]="this.p"+(C+1);var D=w.join(" = ")+" = null;",R=`var promise;
`+w.map(function(F){return`                                                         
	                promise = `+F+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),S=w.join(", "),N="Holder$"+x,k=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return k=k.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,x).replace(/\[ThePassedArguments\]/g,S).replace(/\[TheProperties\]/g,D).replace(/\[CancellationCode\]/g,R),new Function("tryCatch","errorObj","Promise","async",k)(l,c,t,i)},v=[],g=[],y=[],_=0;_<8;++_)v.push(p(_+1)),g.push(f(_+1)),y.push(h(_+1));u=function(x){this._reject(x)}}t.join=function(){var x=arguments.length-1,w;if(x>0&&typeof arguments[x]=="function"&&(w=arguments[x],x<=8&&o)){var O=new t(r);O._captureStackTrace();for(var C=v[x-1],D=new C(w),R=g,S=0;S<x;++S){var N=n(arguments[S],O);if(N instanceof t){N=N._target();var k=N._bitField;(k&50397184)===0?(N._then(R[S],u,void 0,O,D),y[S](N,D),D.asyncNeeded=!1):(k&33554432)!==0?R[S].call(O,N._value(),D):(k&16777216)!==0?O._reject(N._reason()):O._cancel()}else R[S].call(O,N,D)}if(!O._isFateSealed()){if(D.asyncNeeded){var F=s();F!==null&&(D.fn=a.domainBind(F,D.fn))}O._setAsyncGuaranteed(),O._setOnCancel(D)}return O}for(var P=arguments.length,I=new Array(P),U=0;U<P;++U)I[U]=arguments[U];w&&I.pop();var O=new e(I).promise();return w!==void 0?O.spread(w):O}}),MD}var UD,IL;function f9e(){return IL||(IL=1,UD=function(t,e,n,r,i,s){var a=t._getDomain,o=lr(),l=o.tryCatch,c=o.errorObj,u=t._async;function f(p,v,g,y){this.constructor$(p),this._promise._captureStackTrace();var _=a();this._callback=_===null?v:o.domainBind(_,v),this._preservedValues=y===i?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,v){var g=this._values,y=this.length(),_=this._preservedValues,x=this._limit;if(v<0){if(v=v*-1-1,g[v]=p,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return g[v]=p,this._queue.push(v),!1;_!==null&&(_[v]=p);var w=this._promise,C=this._callback,D=w._boundValue();w._pushContext();var R=l(C).call(D,p,v,y),S=w._popContext();if(s.checkForgottenReturns(R,S,_!==null?"Promise.filter":"Promise.map",w),R===c)return this._reject(R.e),!0;var N=r(R,this._promise);if(N instanceof t){N=N._target();var k=N._bitField;if((k&50397184)===0)return x>=1&&this._inFlight++,g[v]=N,N._proxy(this,(v+1)*-1),!1;if((k&33554432)!==0)R=N._value();else return(k&16777216)!==0?(this._reject(N._reason()),!0):(this._cancel(),!0)}g[v]=R}var F=++this._totalResolved;return F>=y?(_!==null?this._filter(g,_):this._resolve(g),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,v=this._limit,g=this._values;p.length>0&&this._inFlight<v;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(g[y],y)}},f.prototype._filter=function(p,v){for(var g=v.length,y=new Array(g),_=0,x=0;x<g;++x)p[x]&&(y[_++]=v[x]);y.length=_,this._resolve(y)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,v,g,y){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var _=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(g.concurrency)));_=g.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(g)));return _=typeof _=="number"&&isFinite(_)&&_>=1?_:0,new f(p,v,_,y).promise()}t.prototype.map=function(p,v){return h(this,p,v,null)},t.map=function(p,v,g,y){return h(p,v,g,y)}}),UD}var OD,RL;function h9e(){if(RL)return OD;RL=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return OD=function(r){var i=lr(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var c=function(y){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,y))(h)},u=function(y){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",y))},f=function(y,_,x){var w=x[y];if(typeof w!="function"){if(!a(y))return null;if(w=_(y),x[y]=w,x[" size"]++,x[" size"]>512){for(var C=Object.keys(x),D=0;D<256;++D)delete x[C[D]];x[" size"]=C.length-256}}return w};o=function(y){return f(y,c,e)},l=function(y){return f(y,u,n)}}function h(y,_){var x;if(y!=null&&(x=y[_]),typeof x!="function"){var w="Object "+i.classString(y)+" has no method '"+i.toString(_)+"'";throw new r.TypeError(w)}return x}function p(y){var _=this.pop(),x=h(y,_);return x.apply(y,this)}r.prototype.call=function(y){for(var _=arguments.length,x=new Array(Math.max(_-1,0)),w=1;w<_;++w)x[w-1]=arguments[w];if(s){var C=o(y);if(C!==null)return this._then(C,void 0,void 0,x,void 0)}return x.push(y),this._then(p,void 0,void 0,x,void 0)};function v(y){return y[this]}function g(y){var _=+this;return _<0&&(_=Math.max(0,_+y.length)),y[_]}r.prototype.get=function(y){var _=typeof y=="number",x;if(_)x=g;else if(s){var w=l(y);x=w!==null?w:v}else x=v;return this._then(x,void 0,void 0,y,void 0)}},OD}var LD,PL;function p9e(){return PL||(PL=1,LD=function(t,e,n,r,i,s){var a=lr(),o=Ku().TypeError,l=lr().inherits,c=a.errorObj,u=a.tryCatch,f={};function h(w){setTimeout(function(){throw w},0)}function p(w){var C=n(w);return C!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&C._setDisposable(w._getDisposer()),C}function v(w,C){var D=0,R=w.length,S=new t(i);function N(){if(D>=R)return S._fulfill();var k=p(w[D++]);if(k instanceof t&&k._isDisposable()){try{k=n(k._getDisposer().tryDispose(C),w.promise)}catch(F){return h(F)}if(k instanceof t)return k._then(N,h,null,null,null)}N()}return N(),S}function g(w,C,D){this._data=w,this._promise=C,this._context=D}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(w){var C=this.resource(),D=this._context;D!==void 0&&D._pushContext();var R=C!==f?this.doDispose(C,w):null;return D!==void 0&&D._popContext(),this._promise._unsetDisposable(),this._data=null,R},g.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function y(w,C,D){this.constructor$(w,C,D)}l(y,g),y.prototype.doDispose=function(w,C){var D=this.data();return D.call(w,w,C)};function _(w){return g.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function x(w){this.length=w,this.promise=null,this[w-1]=null}x.prototype._resultCancelled=function(){for(var w=this.length,C=0;C<w;++C){var D=this[C];D instanceof t&&D.cancel()}},t.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var C=arguments[w-1];if(typeof C!="function")return e("expecting a function but got "+a.classString(C));var D,R=!0;w===2&&Array.isArray(arguments[0])?(D=arguments[0],w=D.length,R=!1):(D=arguments,w--);for(var S=new x(w),N=0;N<w;++N){var k=D[N];if(g.isDisposer(k)){var F=k;k=k.promise(),k._setDisposable(F)}else{var P=n(k);P instanceof t&&(k=P._then(_,null,null,{resources:S,index:N},void 0))}S[N]=k}for(var I=new Array(S.length),N=0;N<I.length;++N)I[N]=t.resolve(S[N]).reflect();var U=t.all(I).then(function(G){for(var K=0;K<G.length;++K){var J=G[K];if(J.isRejected())return c.e=J.error(),c;if(!J.isFulfilled()){U.cancel();return}G[K]=J.value()}O._pushContext(),C=u(C);var te=R?C.apply(void 0,G):C(G),z=O._popContext();return s.checkForgottenReturns(te,z,"Promise.using",O),te}),O=U.lastly(function(){var G=new t.PromiseInspection(U);return v(S,G)});return S.promise=O,O._setOnCancel(S),O},t.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(w){if(typeof w=="function")return new y(w,this,r());throw new o}}),LD}var jD,FL;function m9e(){return FL||(FL=1,jD=function(t,e,n){var r=lr(),i=t.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(f){return o(+this).thenReturn(f)},o=t.delay=function(f,h){var p,v;return h!==void 0?(p=t.resolve(h)._then(a,null,null,f,void 0),n.cancellation()&&h instanceof t&&p._setOnCancel(h)):(p=new t(e),v=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(v)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(f){return o(f,this)};var l=function(f,h,p){var v;typeof h!="string"?h instanceof Error?v=h:v=new i("operation timed out"):v=new i(h),r.markAsOriginatingFromRejection(v),f._attachExtraTrace(v),f._reject(v),p!=null&&p.cancel()};function c(f){return clearTimeout(this.handle),f}function u(f){throw clearTimeout(this.handle),f}t.prototype.timeout=function(f,h){f=+f;var p,v,g=new s(setTimeout(function(){p.isPending()&&l(p,h,v)},f));return n.cancellation()?(v=this.then(),p=v._then(c,u,void 0,g,void 0),p._setOnCancel(g)):p=this._then(c,u,void 0,g,void 0),p}}),jD}var BD,ML;function g9e(){return ML||(ML=1,BD=function(t,e,n,r,i,s){var a=Ku(),o=a.TypeError,l=lr(),c=l.errorObj,u=l.tryCatch,f=[];function h(v,g,y){for(var _=0;_<g.length;++_){y._pushContext();var x=u(g[_])(v);if(y._popContext(),x===c){y._pushContext();var w=t.reject(c.e);return y._popContext(),w}var C=r(x,y);if(C instanceof t)return C}return null}function p(v,g,y,_){if(s.cancellation()){var x=new t(n),w=this._finallyPromise=new t(n);this._promise=x.lastly(function(){return w}),x._captureStackTrace(),x._setOnCancel(this)}else{var C=this._promise=new t(n);C._captureStackTrace()}this._stack=_,this._generatorFunction=v,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",g;if(v)this._promise._pushContext(),g=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),g=u(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},p.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var g=u(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var g=u(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(v){var g=this._promise;if(v===c)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(v.e,!1);var y=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(y);var _=r(y,this._promise);if(!(_ instanceof t)&&(_=h(_,this._yieldHandlers,this._promise),_===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}_=_._target();var x=_._bitField;(x&50397184)===0?(this._yieldedPromise=_,_._proxy(this,null)):(x&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,_._value()):(x&16777216)!==0?t._async.invoke(this._promiseRejected,this,_._reason()):this._promiseCancelled()},t.coroutine=function(v,g){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(g).yieldHandler,_=p,x=new Error().stack;return function(){var w=v.apply(this,arguments),C=new _(void 0,void 0,y,x),D=C.promise();return C._generator=w,C._promiseFulfilled(void 0),D}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));f.push(v)},t.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new p(v,this),y=g.promise();return g._run(t.spawn),y}}),BD}var VD,UL;function y9e(){return UL||(UL=1,VD=function(t){var e=lr(),n=t._async,r=e.tryCatch,i=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return a.call(u,l,c);var f=r(c).apply(u._boundValue(),[null].concat(l));f===i&&n.throwLater(f.e)}function a(l,c){var u=this,f=u._boundValue(),h=l===void 0?r(c).call(f,null):r(c).call(f,null,l);h===i&&n.throwLater(h.e)}function o(l,c){var u=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var h=r(c).call(u._boundValue(),l);h===i&&n.throwLater(h.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=a;c!==void 0&&Object(c).spread&&(u=s),this._then(u,o,void 0,this,l)}return this}}),VD}var WD,OL;function v9e(){return OL||(OL=1,WD=function(t,e){var n={},r=lr(),i=zY(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=Ku().TypeError,c="Async",u={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(U){return r.isIdentifier(U)&&U.charAt(0)!=="_"&&U!=="constructor"};function v(U){return!h.test(U)}function g(U){try{return U.__isPromisified__===!0}catch{return!1}}function y(U,O,G){var K=r.getDataPropertyOrDefault(U,O+G,u);return K?g(K):!1}function _(U,O,G){for(var K=0;K<U.length;K+=2){var J=U[K];if(G.test(J)){for(var te=J.replace(G,""),z=0;z<U.length;z+=2)if(U[z]===te)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",O))}}}function x(U,O,G,K){for(var J=r.inheritedDataKeys(U),te=[],z=0;z<J.length;++z){var Y=J[z],B=U[Y],j=K===p?!0:p(Y);typeof B=="function"&&!g(B)&&!y(U,Y,O)&&K(Y,B,U,j)&&te.push(Y,B)}return _(te,O,G),te}var w=function(U){return U.replace(/([$])/,"\\$")},C;{var D=function(U){for(var O=[U],G=Math.max(0,U-1-3),K=U-1;K>=G;--K)O.push(K);for(var K=U+1;K<=3;++K)O.push(K);return O},R=function(U){return r.filledRange(U,"_arg","")},S=function(U){return r.filledRange(Math.max(U,3),"_arg","")},N=function(U){return typeof U.length=="number"?Math.max(Math.min(U.length,1024),0):0};C=function(U,O,G,K,J,te){var z=Math.max(0,N(K)-1),Y=D(z),B=typeof U=="string"||O===n;function j(ee){var ae=R(ee).join(", "),de=ee>0?", ":"",fe;return B?fe=`ret = callback.call(this, {{args}}, nodeback); break;
`:fe=O===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,fe.replace("{{args}}",ae).replace(", ",de)}function q(){for(var ee="",ae=0;ae<Y.length;++ae)ee+="case "+Y[ae]+":"+j(Y[ae]);return ee+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ee}var X=typeof U=="string"?"this != null ? this['"+U+"'] : fn":"fn",Q=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+te+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",q()).replace("[GetFunctionCode]",X);return Q=Q.replace("Parameters",S(z)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Q)(t,K,O,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function k(U,O,G,K,J,te){var z=(function(){return this})(),Y=U;typeof Y=="string"&&(U=K);function B(){var j=O;O===n&&(j=this);var q=new t(e);q._captureStackTrace();var X=typeof Y=="string"&&this!==z?this[Y]:U,Q=i(q,te);try{X.apply(j,s(arguments,Q))}catch(ee){q._rejectCallback(a(ee),!0,!0)}return q._isFateSealed()||q._setAsyncGuaranteed(),q}return r.notEnumerableProp(B,"__isPromisified__",!0),B}var F=o?C:k;function P(U,O,G,K,J){for(var te=new RegExp(w(O)+"$"),z=x(U,O,te,G),Y=0,B=z.length;Y<B;Y+=2){var j=z[Y],q=z[Y+1],X=j+O;if(K===F)U[X]=F(j,n,j,q,O,J);else{var Q=K(q,function(){return F(j,n,j,q,O,J)});r.notEnumerableProp(Q,"__isPromisified__",!0),U[X]=Q}}return r.toFastProperties(U),U}function I(U,O,G){return F(U,O,void 0,U,null,G)}t.promisify=function(U,O){if(typeof U!="function")throw new l("expecting a function but got "+r.classString(U));if(g(U))return U;O=Object(O);var G=O.context===void 0?n:O.context,K=!!O.multiArgs,J=I(U,G,K);return r.copyDescriptors(U,J,v),J},t.promisifyAll=function(U,O){if(typeof U!="function"&&typeof U!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);O=Object(O);var G=!!O.multiArgs,K=O.suffix;typeof K!="string"&&(K=c);var J=O.filter;typeof J!="function"&&(J=p);var te=O.promisifier;if(typeof te!="function"&&(te=F),!r.isIdentifier(K))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var z=r.inheritedDataKeys(U),Y=0;Y<z.length;++Y){var B=U[z[Y]];z[Y]!=="constructor"&&r.isClass(B)&&(P(B.prototype,K,J,te,G),P(B,K,J,te,G))}return P(U,K,J,te,G)}}),WD}var qD,LL;function x9e(){return LL||(LL=1,qD=function(t,e,n,r){var i=lr(),s=i.isObject,a=sg(),o;typeof Map=="function"&&(o=Map);var l=(function(){var h=0,p=0;function v(g,y){this[h]=g,this[h+p]=y,h++}return function(y){p=y.size,h=0;var _=new Array(y.size*2);return y.forEach(v,_),_}})(),c=function(h){for(var p=new o,v=h.length/2|0,g=0;g<v;++g){var y=h[v+g],_=h[g];p.set(y,_)}return p};function u(h){var p=!1,v;if(o!==void 0&&h instanceof o)v=l(h),p=!0;else{var g=a.keys(h),y=g.length;v=new Array(y*2);for(var _=0;_<y;++_){var x=g[_];v[_]=h[x],v[_+y]=x}}this.constructor$(v),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var v=++this._totalResolved;if(v>=this._length){var g;if(this._isMap)g=c(this._values);else{g={};for(var y=this.length(),_=0,x=this.length();_<x;++_)g[this._values[_+y]]=this._values[_]}return this._resolve(g),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function f(h){var p,v=n(h);if(s(v))v instanceof t?p=v._then(t.props,void 0,void 0,void 0,void 0):p=new u(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&p._propagateFrom(v,2),p}t.prototype.props=function(){return f(this)},t.props=function(h){return f(h)}}),qD}var $D,jL;function b9e(){return jL||(jL=1,$D=function(t,e,n,r){var i=lr(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var c=n(o);if(c instanceof t)return s(c);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var u=new t(e);l!==void 0&&u._propagateFrom(l,3);for(var f=u._fulfill,h=u._reject,p=0,v=o.length;p<v;++p){var g=o[p];g===void 0&&!(p in o)||t.cast(g)._then(f,h,void 0,u,null)}return u}t.race=function(o){return a(o,void 0)},t.prototype.race=function(){return a(this,void 0)}}),$D}var zD,BL;function _9e(){return BL||(BL=1,zD=function(t,e,n,r,i,s){var a=t._getDomain,o=lr(),l=o.tryCatch;function c(v,g,y,_){this.constructor$(v);var x=a();this._fn=x===null?g:o.domainBind(x,g),y!==void 0&&(y=t.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,_===i?this._eachValues=Array(this._length):_===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(c,e),c.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},c.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},c.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(v){this._values=v;var g,y,_=v.length;if(this._initialValue!==void 0?(g=this._initialValue,y=0):(g=t.resolve(v[0]),y=1),this._currentCancellable=g,!g.isRejected())for(;y<_;++y){var x={accum:null,value:v[y],index:y,length:_,array:this};g=g._then(h,void 0,void 0,x,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(u,u,void 0,g,this)},t.prototype.reduce=function(v,g){return f(this,v,g,null)},t.reduce=function(v,g,y,_){return f(v,g,y,_)};function u(v,g){this.isFulfilled()?g._resolve(v):g._reject(v)}function f(v,g,y,_){if(typeof g!="function")return n("expecting a function but got "+o.classString(g));var x=new c(v,g,y,_);return x.promise()}function h(v){this.accum=v,this.array._gotAccum(v);var g=r(this.value,this.array._promise);return g instanceof t?(this.array._currentCancellable=g,g._then(p,void 0,void 0,this,void 0)):p.call(this,g)}function p(v){var g=this.array,y=g._promise,_=l(g._fn);y._pushContext();var x;g._eachValues!==void 0?x=_.call(y._boundValue(),v,this.index,this.length):x=_.call(y._boundValue(),this.accum,v,this.index,this.length),x instanceof t&&(g._currentCancellable=x);var w=y._popContext();return s.checkForgottenReturns(x,w,g._eachValues!==void 0?"Promise.each":"Promise.reduce",y),x}}),zD}var HD,VL;function w9e(){return VL||(VL=1,HD=function(t,e,n){var r=t.PromiseInspection,i=lr();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},t.settle=function(a){return n.deprecated(".settle()",".reflect()"),new s(a).promise()},t.prototype.settle=function(){return t.settle(this)}}),HD}var GD,WL;function T9e(){return WL||(WL=1,GD=function(t,e,n){var r=lr(),i=Ku().RangeError,s=Ku().AggregateError,a=r.isArray,o={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,f=this.length();f<this._values.length;++f)this._values[f]!==o&&u.push(this._values[f]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var f="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new l(u),p=h.promise();return h.setHowMany(f),h.init(),p}t.some=function(u,f){return c(u,f)},t.prototype.some=function(u){return c(this,u)},t._SomePromiseArray=l}),GD}var KD,qL;function E9e(){return qL||(qL=1,KD=function(t,e){var n=t.map;t.prototype.filter=function(r,i){return n(this,r,i,e)},t.filter=function(r,i,s){return n(r,i,s,e)}}),KD}var XD,$L;function C9e(){return $L||($L=1,XD=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function s(a,o){return n(a,o,e,e)}t.prototype.each=function(a){return n(this,a,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(a){return n(this,a,e,e)},t.each=function(a,o){return n(a,o,e,0)._then(i,void 0,void 0,a,void 0)},t.mapSeries=s}),XD}var JD,zL;function S9e(){return zL||(zL=1,JD=function(t){var e=t._SomePromiseArray;function n(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),JD}var HL;function D9e(){return HL||(HL=1,(function(t){t.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new I.PromiseInspection(this._target())},r=function(K){return I.reject(new h(K))};function i(){}var s={},a=lr(),o;a.isNode?o=function(){var K=process.domain;return K===void 0&&(K=null),K}:o=function(){return null},a.notEnumerableProp(I,"_getDomain",o);var l=sg(),c=ZFe(),u=new c;l.defineProperty(I,"_async",{value:u});var f=Ku(),h=I.TypeError=f.TypeError;I.RangeError=f.RangeError;var p=I.CancellationError=f.CancellationError;I.TimeoutError=f.TimeoutError,I.OperationalError=f.OperationalError,I.RejectionError=f.OperationalError,I.AggregateError=f.AggregateError;var v=function(){},g={},y={},_=e9e()(I,v),x=t9e()(I,v,_,r,i),w=n9e()(I),C=w.create,D=r9e()(I,w);D.CapturedTrace;var R=i9e()(I,_),S=s9e()(y),N=zY(),k=a.errorObj,F=a.tryCatch;function P(K,J){if(typeof J!="function")throw new h("expecting a function but got "+a.classString(J));if(K.constructor!==I)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function I(K){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,K!==v&&(P(this,K),this._resolveFromExecutor(K)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}I.prototype.toString=function(){return"[object Promise]"},I.prototype.caught=I.prototype.catch=function(K){var J=arguments.length;if(J>1){var te=new Array(J-1),z=0,Y;for(Y=0;Y<J-1;++Y){var B=arguments[Y];if(a.isObject(B))te[z++]=B;else return r("expecting an object but got A catch statement predicate "+a.classString(B))}return te.length=z,K=arguments[Y],this.then(void 0,S(te,K,this))}return this.then(void 0,K)},I.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},I.prototype.then=function(K,J){if(D.warnings()&&arguments.length>0&&typeof K!="function"&&typeof J!="function"){var te=".then() only accepts functions but was passed: "+a.classString(K);arguments.length>1&&(te+=", "+a.classString(J)),this._warn(te)}return this._then(K,J,void 0,void 0,void 0)},I.prototype.done=function(K,J){var te=this._then(K,J,void 0,void 0,void 0);te._setIsFinal()},I.prototype.spread=function(K){return typeof K!="function"?r("expecting a function but got "+a.classString(K)):this.all()._then(K,void 0,void 0,g,void 0)},I.prototype.toJSON=function(){var K={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(K.fulfillmentValue=this.value(),K.isFulfilled=!0):this.isRejected()&&(K.rejectionReason=this.reason(),K.isRejected=!0),K},I.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},I.prototype.error=function(K){return this.caught(a.originatesFromRejection,K)},I.getNewLibraryCopy=t.exports,I.is=function(K){return K instanceof I},I.fromNode=I.fromCallback=function(K){var J=new I(v);J._captureStackTrace();var te=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,z=F(K)(N(J,te));return z===k&&J._rejectCallback(z.e,!0),J._isFateSealed()||J._setAsyncGuaranteed(),J},I.all=function(K){return new x(K).promise()},I.cast=function(K){var J=_(K);return J instanceof I||(J=new I(v),J._captureStackTrace(),J._setFulfilled(),J._rejectionHandler0=K),J},I.resolve=I.fulfilled=I.cast,I.reject=I.rejected=function(K){var J=new I(v);return J._captureStackTrace(),J._rejectCallback(K,!0),J},I.setScheduler=function(K){if(typeof K!="function")throw new h("expecting a function but got "+a.classString(K));return u.setScheduler(K)},I.prototype._then=function(K,J,te,z,Y){var B=Y!==void 0,j=B?Y:new I(v),q=this._target(),X=q._bitField;B||(j._propagateFrom(this,3),j._captureStackTrace(),z===void 0&&(this._bitField&2097152)!==0&&((X&50397184)!==0?z=this._boundValue():z=q===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var Q=o();if((X&50397184)!==0){var ee,ae,de=q._settlePromiseCtx;(X&33554432)!==0?(ae=q._rejectionHandler0,ee=K):(X&16777216)!==0?(ae=q._fulfillmentHandler0,ee=J,q._unsetRejectionIsUnhandled()):(de=q._settlePromiseLateCancellationObserver,ae=new p("late cancellation observer"),q._attachExtraTrace(ae),ee=J),u.invoke(de,q,{handler:Q===null?ee:typeof ee=="function"&&a.domainBind(Q,ee),promise:j,receiver:z,value:ae})}else q._addCallbacks(K,J,j,z,Q);return j},I.prototype._length=function(){return this._bitField&65535},I.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},I.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},I.prototype._setLength=function(K){this._bitField=this._bitField&-65536|K&65535},I.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},I.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},I.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},I.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},I.prototype._isFinal=function(){return(this._bitField&4194304)>0},I.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},I.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},I.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},I.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},I.prototype._receiverAt=function(K){var J=K===0?this._receiver0:this[K*4-4+3];if(J!==s)return J===void 0&&this._isBound()?this._boundValue():J},I.prototype._promiseAt=function(K){return this[K*4-4+2]},I.prototype._fulfillmentHandlerAt=function(K){return this[K*4-4+0]},I.prototype._rejectionHandlerAt=function(K){return this[K*4-4+1]},I.prototype._boundValue=function(){},I.prototype._migrateCallback0=function(K){K._bitField;var J=K._fulfillmentHandler0,te=K._rejectionHandler0,z=K._promise0,Y=K._receiverAt(0);Y===void 0&&(Y=s),this._addCallbacks(J,te,z,Y,null)},I.prototype._migrateCallbackAt=function(K,J){var te=K._fulfillmentHandlerAt(J),z=K._rejectionHandlerAt(J),Y=K._promiseAt(J),B=K._receiverAt(J);B===void 0&&(B=s),this._addCallbacks(te,z,Y,B,null)},I.prototype._addCallbacks=function(K,J,te,z,Y){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=te,this._receiver0=z,typeof K=="function"&&(this._fulfillmentHandler0=Y===null?K:a.domainBind(Y,K)),typeof J=="function"&&(this._rejectionHandler0=Y===null?J:a.domainBind(Y,J));else{var j=B*4-4;this[j+2]=te,this[j+3]=z,typeof K=="function"&&(this[j+0]=Y===null?K:a.domainBind(Y,K)),typeof J=="function"&&(this[j+1]=Y===null?J:a.domainBind(Y,J))}return this._setLength(B+1),B},I.prototype._proxy=function(K,J){this._addCallbacks(void 0,void 0,J,K,null)},I.prototype._resolveCallback=function(K,J){if((this._bitField&117506048)===0){if(K===this)return this._rejectCallback(e(),!1);var te=_(K,this);if(!(te instanceof I))return this._fulfill(K);J&&this._propagateFrom(te,2);var z=te._target();if(z===this){this._reject(e());return}var Y=z._bitField;if((Y&50397184)===0){var B=this._length();B>0&&z._migrateCallback0(this);for(var j=1;j<B;++j)z._migrateCallbackAt(this,j);this._setFollowing(),this._setLength(0),this._setFollowee(z)}else if((Y&33554432)!==0)this._fulfill(z._value());else if((Y&16777216)!==0)this._reject(z._reason());else{var q=new p("late cancellation observer");z._attachExtraTrace(q),this._reject(q)}}},I.prototype._rejectCallback=function(K,J,te){var z=a.ensureErrorObject(K),Y=z===K;if(!Y&&!te&&D.warnings()){var B="a promise was rejected with a non-error: "+a.classString(K);this._warn(B,!0)}this._attachExtraTrace(z,J?Y:!1),this._reject(K)},I.prototype._resolveFromExecutor=function(K){var J=this;this._captureStackTrace(),this._pushContext();var te=!0,z=this._execute(K,function(Y){J._resolveCallback(Y)},function(Y){J._rejectCallback(Y,te)});te=!1,this._popContext(),z!==void 0&&J._rejectCallback(z,!0)},I.prototype._settlePromiseFromHandler=function(K,J,te,z){var Y=z._bitField;if((Y&65536)===0){z._pushContext();var B;J===g?!te||typeof te.length!="number"?(B=k,B.e=new h("cannot .spread() a non-array: "+a.classString(te))):B=F(K).apply(this._boundValue(),te):B=F(K).call(J,te);var j=z._popContext();Y=z._bitField,(Y&65536)===0&&(B===y?z._reject(te):B===k?z._rejectCallback(B.e,!1):(D.checkForgottenReturns(B,j,"",z,this),z._resolveCallback(B)))}},I.prototype._target=function(){for(var K=this;K._isFollowing();)K=K._followee();return K},I.prototype._followee=function(){return this._rejectionHandler0},I.prototype._setFollowee=function(K){this._rejectionHandler0=K},I.prototype._settlePromise=function(K,J,te,z){var Y=K instanceof I,B=this._bitField,j=(B&134217728)!==0;(B&65536)!==0?(Y&&K._invokeInternalOnCancel(),te instanceof R&&te.isFinallyHandler()?(te.cancelPromise=K,F(J).call(te,z)===k&&K._reject(k.e)):J===n?K._fulfill(n.call(te)):te instanceof i?te._promiseCancelled(K):Y||K instanceof x?K._cancel():te.cancel()):typeof J=="function"?Y?(j&&K._setAsyncGuaranteed(),this._settlePromiseFromHandler(J,te,z,K)):J.call(te,z,K):te instanceof i?te._isResolved()||((B&33554432)!==0?te._promiseFulfilled(z,K):te._promiseRejected(z,K)):Y&&(j&&K._setAsyncGuaranteed(),(B&33554432)!==0?K._fulfill(z):K._reject(z))},I.prototype._settlePromiseLateCancellationObserver=function(K){var J=K.handler,te=K.promise,z=K.receiver,Y=K.value;typeof J=="function"?te instanceof I?this._settlePromiseFromHandler(J,z,Y,te):J.call(z,Y,te):te instanceof I&&te._reject(Y)},I.prototype._settlePromiseCtx=function(K){this._settlePromise(K.promise,K.handler,K.receiver,K.value)},I.prototype._settlePromise0=function(K,J,te){var z=this._promise0,Y=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(z,K,Y,J)},I.prototype._clearCallbackDataAtIndex=function(K){var J=K*4-4;this[J+2]=this[J+3]=this[J+0]=this[J+1]=void 0},I.prototype._fulfill=function(K){var J=this._bitField;if(!((J&117506048)>>>16)){if(K===this){var te=e();return this._attachExtraTrace(te),this._reject(te)}this._setFulfilled(),this._rejectionHandler0=K,(J&65535)>0&&((J&134217728)!==0?this._settlePromises():u.settlePromises(this))}},I.prototype._reject=function(K){var J=this._bitField;if(!((J&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=K,this._isFinal())return u.fatalError(K,a.isNode);(J&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},I.prototype._fulfillPromises=function(K,J){for(var te=1;te<K;te++){var z=this._fulfillmentHandlerAt(te),Y=this._promiseAt(te),B=this._receiverAt(te);this._clearCallbackDataAtIndex(te),this._settlePromise(Y,z,B,J)}},I.prototype._rejectPromises=function(K,J){for(var te=1;te<K;te++){var z=this._rejectionHandlerAt(te),Y=this._promiseAt(te),B=this._receiverAt(te);this._clearCallbackDataAtIndex(te),this._settlePromise(Y,z,B,J)}},I.prototype._settlePromises=function(){var K=this._bitField,J=K&65535;if(J>0){if((K&16842752)!==0){var te=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,te,K),this._rejectPromises(J,te)}else{var z=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,z,K),this._fulfillPromises(J,z)}this._setLength(0)}this._clearCancellationData()},I.prototype._settledValue=function(){var K=this._bitField;if((K&33554432)!==0)return this._rejectionHandler0;if((K&16777216)!==0)return this._fulfillmentHandler0};function U(K){this.promise._resolveCallback(K)}function O(K){this.promise._rejectCallback(K,!1)}I.defer=I.pending=function(){D.deprecated("Promise.defer","new Promise");var K=new I(v);return{promise:K,resolve:U,reject:O}},a.notEnumerableProp(I,"_makeSelfResolutionError",e),a9e()(I,v,_,r,D),o9e()(I,v,_,D),l9e()(I,x,r,D),c9e()(I),u9e()(I),d9e()(I,x,_,v,u,o),I.Promise=I,I.version="3.4.7",f9e()(I,x,r,_,v,D),h9e()(I),p9e()(I,r,_,C,v,D),m9e()(I,v,D),g9e()(I,r,v,_,i,D),y9e()(I),v9e()(I,v),x9e()(I,x,_,r),b9e()(I,v,_,r),_9e()(I,x,r,_,v,D),w9e()(I,x,D),T9e()(I,x,r),E9e()(I,v),C9e()(I,v),S9e()(I),a.toFastProperties(I),a.toFastProperties(I.prototype);function G(K){var J=new I(v);J._fulfillmentHandler0=K,J._rejectionHandler0=K,J._promise0=K,J._receiver0=K}return G({a:1}),G({b:2}),G({c:3}),G(1),G(function(){}),G(void 0),G(!1),G(new I(v)),D.setBounds(c.firstLineError,a.lastLineError),I}})(xD)),xD.exports}var GL;function dd(){if(GL)return $a;GL=1;var t=ii,e=D9e()();$a.defer=n,$a.when=e.resolve,$a.resolve=e.resolve,$a.all=e.all,$a.props=e.props,$a.reject=e.reject,$a.promisify=e.promisify,$a.mapSeries=e.mapSeries,$a.attempt=e.attempt,$a.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=t.extend({},i,r(i));return e.props(s)})};function n(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return $a}var qn={},KL;function hh(){if(KL)return qn;KL=1;var t=ii,e=qn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(D,R){return R=R||{},{type:e.document,children:D,notes:R.notes||new u({}),comments:R.comments||[]}}function r(D,R){R=R||{};var S=R.indent||{};return{type:e.paragraph,children:D,styleId:R.styleId||null,styleName:R.styleName||null,numbering:R.numbering||null,alignment:R.alignment||null,indent:{start:S.start||null,end:S.end||null,firstLine:S.firstLine||null,hanging:S.hanging||null}}}function i(D,R){return R=R||{},{type:e.run,children:D,styleId:R.styleId||null,styleName:R.styleName||null,isBold:!!R.isBold,isUnderline:!!R.isUnderline,isItalic:!!R.isItalic,isStrikethrough:!!R.isStrikethrough,isAllCaps:!!R.isAllCaps,isSmallCaps:!!R.isSmallCaps,verticalAlignment:R.verticalAlignment||s.baseline,font:R.font||null,fontSize:R.fontSize||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(D){return{type:e.text,value:D}}function o(){return{type:e.tab}}function l(D,R){return{type:e.hyperlink,children:D,href:R.href,anchor:R.anchor,targetFrame:R.targetFrame}}function c(D){return{type:e.noteReference,noteType:D.noteType,noteId:D.noteId}}function u(D){this._notes=t.indexBy(D,function(R){return v(R.noteType,R.noteId)})}u.prototype.resolve=function(D){return this.findNoteByKey(v(D.noteType,D.noteId))},u.prototype.findNoteByKey=function(D){return this._notes[D]||null};function f(D){return{type:e.note,noteType:D.noteType,noteId:D.noteId,body:D.body}}function h(D){return{type:e.commentReference,commentId:D.commentId}}function p(D){return{type:e.comment,commentId:D.commentId,body:D.body,authorName:D.authorName,authorInitials:D.authorInitials}}function v(D,R){return D+"-"+R}function g(D){return{type:e.image,read:function(R){return R?D.readImage(R):D.readImage().then(function(S){return Buffer.from(S)})},readAsArrayBuffer:function(){return D.readImage()},readAsBase64String:function(){return D.readImage("base64")},readAsBuffer:function(){return D.readImage().then(function(R){return Buffer.from(R)})},altText:D.altText,contentType:D.contentType}}function y(D,R){return R=R||{},{type:e.table,children:D,styleId:R.styleId||null,styleName:R.styleName||null}}function _(D,R){return R=R||{},{type:e.tableRow,children:D,isHeader:R.isHeader||!1}}function x(D,R){return R=R||{},{type:e.tableCell,children:D,colSpan:R.colSpan==null?1:R.colSpan,rowSpan:R.rowSpan==null?1:R.rowSpan}}function w(D){return{type:e.break,breakType:D}}function C(D){return{type:e.bookmarkStart,name:D.name}}return qn.document=qn.Document=n,qn.paragraph=qn.Paragraph=r,qn.run=qn.Run=i,qn.text=qn.Text=a,qn.tab=qn.Tab=o,qn.Hyperlink=l,qn.noteReference=qn.NoteReference=c,qn.Notes=u,qn.Note=f,qn.commentReference=h,qn.comment=p,qn.Image=g,qn.Table=y,qn.TableRow=_,qn.TableCell=x,qn.lineBreak=w("line"),qn.pageBreak=w("page"),qn.columnBreak=w("column"),qn.BookmarkStart=C,qn.verticalAlignment=s,qn}var op={},XL;function _c(){if(XL)return op;XL=1;var t=ii;op.Result=e,op.success=n,op.warning=r,op.error=i;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(u){return new e(u.value,s([c,u]))})},e.combine=function(l){var c=t.flatten(t.pluck(l,"value")),u=s(l);return new e(c,u)};function n(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return t.flatten(t.pluck(l,"messages"),!0).forEach(function(u){a(c,u)||c.push(u)}),c}function a(l,c){return t.find(l,o.bind(null,c))!==void 0}function o(l,c){return l.type===c.type&&l.message===c.message}return op}var s0={},a0={},JL;function A9e(){if(JL)return a0;JL=1,a0.byteLength=o,a0.toByteArray=c,a0.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=v);var y=g===v?0:4-g%4;return[g,y]}function o(p){var v=a(p),g=v[0],y=v[1];return(g+y)*3/4-y}function l(p,v,g){return(v+g)*3/4-g}function c(p){var v,g=a(p),y=g[0],_=g[1],x=new n(l(p,y,_)),w=0,C=_>0?y-4:y,D;for(D=0;D<C;D+=4)v=e[p.charCodeAt(D)]<<18|e[p.charCodeAt(D+1)]<<12|e[p.charCodeAt(D+2)]<<6|e[p.charCodeAt(D+3)],x[w++]=v>>16&255,x[w++]=v>>8&255,x[w++]=v&255;return _===2&&(v=e[p.charCodeAt(D)]<<2|e[p.charCodeAt(D+1)]>>4,x[w++]=v&255),_===1&&(v=e[p.charCodeAt(D)]<<10|e[p.charCodeAt(D+1)]<<4|e[p.charCodeAt(D+2)]>>2,x[w++]=v>>8&255,x[w++]=v&255),x}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,v,g){for(var y,_=[],x=v;x<g;x+=3)y=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(p[x+2]&255),_.push(u(y));return _.join("")}function h(p){for(var v,g=p.length,y=g%3,_=[],x=16383,w=0,C=g-y;w<C;w+=x)_.push(f(p,w,w+x>C?C:w+x));return y===1?(v=p[g-1],_.push(t[v>>2]+t[v<<4&63]+"==")):y===2&&(v=(p[g-2]<<8)+p[g-1],_.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),_.join("")}return a0}var YL;function HY(){if(YL)return s0;YL=1;var t=A9e(),e=bH();s0.openArrayBuffer=n,s0.splitPath=r,s0.joinPath=i;function n(s){return e.loadAsync(s).then(function(a){function o(f){return a.file(f)!==null}function l(f,h){return a.file(f).async("uint8array").then(function(p){if(h==="base64")return t.fromByteArray(p);if(h){var v=new TextDecoder(h);return v.decode(p)}else return p})}function c(f,h){a.file(f,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:c,toArrayBuffer:u}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return s0}var Xx={},Rd={},o0={},QL;function GY(){if(QL)return o0;QL=1;var t=ii;o0.Element=n,o0.element=function(s,a,o){return new n(s,a,o)},o0.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function n(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}n.prototype.first=function(s){return t.find(this.children,function(a){return a.name===s})},n.prototype.firstOrEmpty=function(s){return this.first(s)||e},n.prototype.getElementsByTagName=function(s){var a=t.filter(this.children,function(o){return o.name===s});return i(a)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(t.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return t.extend(s,r)}return o0}var YD={},Jx={},l0={},Kl={},Pd={},ZL;function Yw(){if(ZL)return Pd;ZL=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(a.call(void 0,c,l,s))return c}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Pd.assign=n,Pd.find=t,Pd.freeze=e,Pd.MIME_TYPE=r,Pd.NAMESPACE=i,Pd}var ej;function z6(){if(ej)return Kl;ej=1;var t=Yw(),e=t.find,n=t.NAMESPACE;function r(pe){return pe!==""}function i(pe){return pe?pe.split(/[\t\n\f\r ]+/).filter(r):[]}function s(pe,Ee){return pe.hasOwnProperty(Ee)||(pe[Ee]=!0),pe}function a(pe){if(!pe)return[];var Ee=i(pe);return Object.keys(Ee.reduce(s,{}))}function o(pe){return function(Ee){return pe&&pe.indexOf(Ee)!==-1}}function l(pe,Ee){for(var Fe in pe)Object.prototype.hasOwnProperty.call(pe,Fe)&&(Ee[Fe]=pe[Fe])}function c(pe,Ee){var Fe=pe.prototype;if(!(Fe instanceof Ee)){let lt=function(){};var Je=lt;lt.prototype=Ee.prototype,lt=new lt,l(Fe,lt),pe.prototype=Fe=lt}Fe.constructor!=pe&&(typeof pe!="function"&&console.error("unknown Class:"+pe),Fe.constructor=pe)}var u={},f=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,v=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,y=u.ENTITY_NODE=6,_=u.PROCESSING_INSTRUCTION_NODE=7,x=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,C=u.DOCUMENT_TYPE_NODE=10,D=u.DOCUMENT_FRAGMENT_NODE=11,R=u.NOTATION_NODE=12,S={},N={};S.INDEX_SIZE_ERR=(N[1]="Index size error",1),S.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var k=S.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);S.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),S.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),S.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),S.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var F=S.NOT_FOUND_ERR=(N[8]="Not found",8);S.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var P=S.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);S.INVALID_STATE_ERR=(N[11]="Invalid state",11),S.SYNTAX_ERR=(N[12]="Syntax error",12),S.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),S.NAMESPACE_ERR=(N[14]="Invalid namespace",14),S.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function I(pe,Ee){if(Ee instanceof Error)var Fe=Ee;else Fe=this,Error.call(this,N[pe]),this.message=N[pe],Error.captureStackTrace&&Error.captureStackTrace(this,I);return Fe.code=pe,Ee&&(this.message=this.message+": "+Ee),Fe}I.prototype=Error.prototype,l(S,I);function U(){}U.prototype={length:0,item:function(pe){return pe>=0&&pe<this.length?this[pe]:null},toString:function(pe,Ee){for(var Fe=[],Je=0;Je<this.length;Je++)Zn(this[Je],Fe,pe,Ee);return Fe.join("")},filter:function(pe){return Array.prototype.filter.call(this,pe)},indexOf:function(pe){return Array.prototype.indexOf.call(this,pe)}};function O(pe,Ee){this._node=pe,this._refresh=Ee,G(this)}function G(pe){var Ee=pe._node._inc||pe._node.ownerDocument._inc;if(pe._inc!==Ee){var Fe=pe._refresh(pe._node);if(Gt(pe,"length",Fe.length),!pe.$$length||Fe.length<pe.$$length)for(var Je=Fe.length;Je in pe;Je++)Object.prototype.hasOwnProperty.call(pe,Je)&&delete pe[Je];l(Fe,pe),pe._inc=Ee}}O.prototype.item=function(pe){return G(this),this[pe]||null},c(O,U);function K(){}function J(pe,Ee){for(var Fe=pe.length;Fe--;)if(pe[Fe]===Ee)return Fe}function te(pe,Ee,Fe,Je){if(Je?Ee[J(Ee,Je)]=Fe:Ee[Ee.length++]=Fe,pe){Fe.ownerElement=pe;var lt=pe.ownerDocument;lt&&(Je&&ee(lt,pe,Je),Q(lt,pe,Fe))}}function z(pe,Ee,Fe){var Je=J(Ee,Fe);if(Je>=0){for(var lt=Ee.length-1;Je<lt;)Ee[Je]=Ee[++Je];if(Ee.length=lt,pe){var kt=pe.ownerDocument;kt&&(ee(kt,pe,Fe),Fe.ownerElement=null)}}else throw new I(F,new Error(pe.tagName+"@"+Fe))}K.prototype={length:0,item:U.prototype.item,getNamedItem:function(pe){for(var Ee=this.length;Ee--;){var Fe=this[Ee];if(Fe.nodeName==pe)return Fe}},setNamedItem:function(pe){var Ee=pe.ownerElement;if(Ee&&Ee!=this._ownerElement)throw new I(P);var Fe=this.getNamedItem(pe.nodeName);return te(this._ownerElement,this,pe,Fe),Fe},setNamedItemNS:function(pe){var Ee=pe.ownerElement,Fe;if(Ee&&Ee!=this._ownerElement)throw new I(P);return Fe=this.getNamedItemNS(pe.namespaceURI,pe.localName),te(this._ownerElement,this,pe,Fe),Fe},removeNamedItem:function(pe){var Ee=this.getNamedItem(pe);return z(this._ownerElement,this,Ee),Ee},removeNamedItemNS:function(pe,Ee){var Fe=this.getNamedItemNS(pe,Ee);return z(this._ownerElement,this,Fe),Fe},getNamedItemNS:function(pe,Ee){for(var Fe=this.length;Fe--;){var Je=this[Fe];if(Je.localName==Ee&&Je.namespaceURI==pe)return Je}return null}};function Y(){}Y.prototype={hasFeature:function(pe,Ee){return!0},createDocument:function(pe,Ee,Fe){var Je=new X;if(Je.implementation=this,Je.childNodes=new U,Je.doctype=Fe||null,Fe&&Je.appendChild(Fe),Ee){var lt=Je.createElementNS(pe,Ee);Je.appendChild(lt)}return Je},createDocumentType:function(pe,Ee,Fe){var Je=new Ce;return Je.name=pe,Je.nodeName=pe,Je.publicId=Ee||"",Je.systemId=Fe||"",Je}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(pe,Ee){return le(this,pe,Ee)},replaceChild:function(pe,Ee){le(this,pe,Ee,re),Ee&&this.removeChild(Ee)},removeChild:function(pe){return de(this,pe)},appendChild:function(pe){return this.insertBefore(pe,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(pe){return Xn(this.ownerDocument||this,this,pe)},normalize:function(){for(var pe=this.firstChild;pe;){var Ee=pe.nextSibling;Ee&&Ee.nodeType==p&&pe.nodeType==p?(this.removeChild(Ee),pe.appendData(Ee.data)):(pe.normalize(),pe=Ee)}},isSupported:function(pe,Ee){return this.ownerDocument.implementation.hasFeature(pe,Ee)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(pe){for(var Ee=this;Ee;){var Fe=Ee._nsMap;if(Fe){for(var Je in Fe)if(Object.prototype.hasOwnProperty.call(Fe,Je)&&Fe[Je]===pe)return Je}Ee=Ee.nodeType==h?Ee.ownerDocument:Ee.parentNode}return null},lookupNamespaceURI:function(pe){for(var Ee=this;Ee;){var Fe=Ee._nsMap;if(Fe&&Object.prototype.hasOwnProperty.call(Fe,pe))return Fe[pe];Ee=Ee.nodeType==h?Ee.ownerDocument:Ee.parentNode}return null},isDefaultNamespace:function(pe){var Ee=this.lookupPrefix(pe);return Ee==null}};function j(pe){return pe=="<"&&"&lt;"||pe==">"&&"&gt;"||pe=="&"&&"&amp;"||pe=='"'&&"&quot;"||"&#"+pe.charCodeAt()+";"}l(u,B),l(u,B.prototype);function q(pe,Ee){if(Ee(pe))return!0;if(pe=pe.firstChild)do if(q(pe,Ee))return!0;while(pe=pe.nextSibling)}function X(){this.ownerDocument=this}function Q(pe,Ee,Fe){pe&&pe._inc++;var Je=Fe.namespaceURI;Je===n.XMLNS&&(Ee._nsMap[Fe.prefix?Fe.localName:""]=Fe.value)}function ee(pe,Ee,Fe,Je){pe&&pe._inc++;var lt=Fe.namespaceURI;lt===n.XMLNS&&delete Ee._nsMap[Fe.prefix?Fe.localName:""]}function ae(pe,Ee,Fe){if(pe&&pe._inc){pe._inc++;var Je=Ee.childNodes;if(Fe)Je[Je.length++]=Fe;else{for(var lt=Ee.firstChild,kt=0;lt;)Je[kt++]=lt,lt=lt.nextSibling;Je.length=kt,delete Je[Je.length]}}}function de(pe,Ee){var Fe=Ee.previousSibling,Je=Ee.nextSibling;return Fe?Fe.nextSibling=Je:pe.firstChild=Je,Je?Je.previousSibling=Fe:pe.lastChild=Fe,Ee.parentNode=null,Ee.previousSibling=null,Ee.nextSibling=null,ae(pe.ownerDocument,pe),Ee}function fe(pe){return pe&&(pe.nodeType===B.DOCUMENT_NODE||pe.nodeType===B.DOCUMENT_FRAGMENT_NODE||pe.nodeType===B.ELEMENT_NODE)}function Ne(pe){return pe&&(me(pe)||Le(pe)||Re(pe)||pe.nodeType===B.DOCUMENT_FRAGMENT_NODE||pe.nodeType===B.COMMENT_NODE||pe.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Re(pe){return pe&&pe.nodeType===B.DOCUMENT_TYPE_NODE}function me(pe){return pe&&pe.nodeType===B.ELEMENT_NODE}function Le(pe){return pe&&pe.nodeType===B.TEXT_NODE}function V(pe,Ee){var Fe=pe.childNodes||[];if(e(Fe,me)||Re(Ee))return!1;var Je=e(Fe,Re);return!(Ee&&Je&&Fe.indexOf(Je)>Fe.indexOf(Ee))}function ve(pe,Ee){var Fe=pe.childNodes||[];function Je(kt){return me(kt)&&kt!==Ee}if(e(Fe,Je))return!1;var lt=e(Fe,Re);return!(Ee&&lt&&Fe.indexOf(lt)>Fe.indexOf(Ee))}function we(pe,Ee,Fe){if(!fe(pe))throw new I(k,"Unexpected parent node type "+pe.nodeType);if(Fe&&Fe.parentNode!==pe)throw new I(F,"child not in parent");if(!Ne(Ee)||Re(Ee)&&pe.nodeType!==B.DOCUMENT_NODE)throw new I(k,"Unexpected node type "+Ee.nodeType+" for parent node type "+pe.nodeType)}function oe(pe,Ee,Fe){var Je=pe.childNodes||[],lt=Ee.childNodes||[];if(Ee.nodeType===B.DOCUMENT_FRAGMENT_NODE){var kt=lt.filter(me);if(kt.length>1||e(lt,Le))throw new I(k,"More than one element or text in fragment");if(kt.length===1&&!V(pe,Fe))throw new I(k,"Element in fragment can not be inserted before doctype")}if(me(Ee)&&!V(pe,Fe))throw new I(k,"Only one element can be added and only after doctype");if(Re(Ee)){if(e(Je,Re))throw new I(k,"Only one doctype is allowed");var on=e(Je,me);if(Fe&&Je.indexOf(on)<Je.indexOf(Fe))throw new I(k,"Doctype can only be inserted before an element");if(!Fe&&on)throw new I(k,"Doctype can not be appended since element is present")}}function re(pe,Ee,Fe){var Je=pe.childNodes||[],lt=Ee.childNodes||[];if(Ee.nodeType===B.DOCUMENT_FRAGMENT_NODE){var kt=lt.filter(me);if(kt.length>1||e(lt,Le))throw new I(k,"More than one element or text in fragment");if(kt.length===1&&!ve(pe,Fe))throw new I(k,"Element in fragment can not be inserted before doctype")}if(me(Ee)&&!ve(pe,Fe))throw new I(k,"Only one element can be added and only after doctype");if(Re(Ee)){let nr=function(Pn){return Re(Pn)&&Pn!==Fe};var nn=nr;if(e(Je,nr))throw new I(k,"Only one doctype is allowed");var on=e(Je,me);if(Fe&&Je.indexOf(on)<Je.indexOf(Fe))throw new I(k,"Doctype can only be inserted before an element")}}function le(pe,Ee,Fe,Je){we(pe,Ee,Fe),pe.nodeType===B.DOCUMENT_NODE&&(Je||oe)(pe,Ee,Fe);var lt=Ee.parentNode;if(lt&&lt.removeChild(Ee),Ee.nodeType===D){var kt=Ee.firstChild;if(kt==null)return Ee;var on=Ee.lastChild}else kt=on=Ee;var nn=Fe?Fe.previousSibling:pe.lastChild;kt.previousSibling=nn,on.nextSibling=Fe,nn?nn.nextSibling=kt:pe.firstChild=kt,Fe==null?pe.lastChild=on:Fe.previousSibling=on;do{kt.parentNode=pe;var nr=pe.ownerDocument||pe;he(kt,nr)}while(kt!==on&&(kt=kt.nextSibling));return ae(pe.ownerDocument||pe,pe),Ee.nodeType==D&&(Ee.firstChild=Ee.lastChild=null),Ee}function he(pe,Ee){if(pe.ownerDocument!==Ee){if(pe.ownerDocument=Ee,pe.nodeType===f&&pe.attributes)for(var Fe=0;Fe<pe.attributes.length;Fe++){var Je=pe.attributes.item(Fe);Je&&(Je.ownerDocument=Ee)}for(var lt=pe.firstChild;lt;)he(lt,Ee),lt=lt.nextSibling}}function _e(pe,Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee),Ee.parentNode=pe,Ee.previousSibling=pe.lastChild,Ee.nextSibling=null,Ee.previousSibling?Ee.previousSibling.nextSibling=Ee:pe.firstChild=Ee,pe.lastChild=Ee,ae(pe.ownerDocument,pe,Ee);var Fe=pe.ownerDocument||pe;return he(Ee,Fe),Ee}X.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(pe,Ee){if(pe.nodeType==D){for(var Fe=pe.firstChild;Fe;){var Je=Fe.nextSibling;this.insertBefore(Fe,Ee),Fe=Je}return pe}return le(this,pe,Ee),he(pe,this),this.documentElement===null&&pe.nodeType===f&&(this.documentElement=pe),pe},removeChild:function(pe){return this.documentElement==pe&&(this.documentElement=null),de(this,pe)},replaceChild:function(pe,Ee){le(this,pe,Ee,re),he(pe,this),Ee&&this.removeChild(Ee),me(pe)&&(this.documentElement=pe)},importNode:function(pe,Ee){return Bn(this,pe,Ee)},getElementById:function(pe){var Ee=null;return q(this.documentElement,function(Fe){if(Fe.nodeType==f&&Fe.getAttribute("id")==pe)return Ee=Fe,!0}),Ee},getElementsByClassName:function(pe){var Ee=a(pe);return new O(this,function(Fe){var Je=[];return Ee.length>0&&q(Fe.documentElement,function(lt){if(lt!==Fe&&lt.nodeType===f){var kt=lt.getAttribute("class");if(kt){var on=pe===kt;if(!on){var nn=a(kt);on=Ee.every(o(nn))}on&&Je.push(lt)}}}),Je})},createElement:function(pe){var Ee=new ie;Ee.ownerDocument=this,Ee.nodeName=pe,Ee.tagName=pe,Ee.localName=pe,Ee.childNodes=new U;var Fe=Ee.attributes=new K;return Fe._ownerElement=Ee,Ee},createDocumentFragment:function(){var pe=new rt;return pe.ownerDocument=this,pe.childNodes=new U,pe},createTextNode:function(pe){var Ee=new xe;return Ee.ownerDocument=this,Ee.appendData(pe),Ee},createComment:function(pe){var Ee=new ke;return Ee.ownerDocument=this,Ee.appendData(pe),Ee},createCDATASection:function(pe){var Ee=new Ue;return Ee.ownerDocument=this,Ee.appendData(pe),Ee},createProcessingInstruction:function(pe,Ee){var Fe=new it;return Fe.ownerDocument=this,Fe.tagName=Fe.nodeName=Fe.target=pe,Fe.nodeValue=Fe.data=Ee,Fe},createAttribute:function(pe){var Ee=new ce;return Ee.ownerDocument=this,Ee.name=pe,Ee.nodeName=pe,Ee.localName=pe,Ee.specified=!0,Ee},createEntityReference:function(pe){var Ee=new Ke;return Ee.ownerDocument=this,Ee.nodeName=pe,Ee},createElementNS:function(pe,Ee){var Fe=new ie,Je=Ee.split(":"),lt=Fe.attributes=new K;return Fe.childNodes=new U,Fe.ownerDocument=this,Fe.nodeName=Ee,Fe.tagName=Ee,Fe.namespaceURI=pe,Je.length==2?(Fe.prefix=Je[0],Fe.localName=Je[1]):Fe.localName=Ee,lt._ownerElement=Fe,Fe},createAttributeNS:function(pe,Ee){var Fe=new ce,Je=Ee.split(":");return Fe.ownerDocument=this,Fe.nodeName=Ee,Fe.name=Ee,Fe.namespaceURI=pe,Fe.specified=!0,Je.length==2?(Fe.prefix=Je[0],Fe.localName=Je[1]):Fe.localName=Ee,Fe}},c(X,B);function ie(){this._nsMap={}}ie.prototype={nodeType:f,hasAttribute:function(pe){return this.getAttributeNode(pe)!=null},getAttribute:function(pe){var Ee=this.getAttributeNode(pe);return Ee&&Ee.value||""},getAttributeNode:function(pe){return this.attributes.getNamedItem(pe)},setAttribute:function(pe,Ee){var Fe=this.ownerDocument.createAttribute(pe);Fe.value=Fe.nodeValue=""+Ee,this.setAttributeNode(Fe)},removeAttribute:function(pe){var Ee=this.getAttributeNode(pe);Ee&&this.removeAttributeNode(Ee)},appendChild:function(pe){return pe.nodeType===D?this.insertBefore(pe,null):_e(this,pe)},setAttributeNode:function(pe){return this.attributes.setNamedItem(pe)},setAttributeNodeNS:function(pe){return this.attributes.setNamedItemNS(pe)},removeAttributeNode:function(pe){return this.attributes.removeNamedItem(pe.nodeName)},removeAttributeNS:function(pe,Ee){var Fe=this.getAttributeNodeNS(pe,Ee);Fe&&this.removeAttributeNode(Fe)},hasAttributeNS:function(pe,Ee){return this.getAttributeNodeNS(pe,Ee)!=null},getAttributeNS:function(pe,Ee){var Fe=this.getAttributeNodeNS(pe,Ee);return Fe&&Fe.value||""},setAttributeNS:function(pe,Ee,Fe){var Je=this.ownerDocument.createAttributeNS(pe,Ee);Je.value=Je.nodeValue=""+Fe,this.setAttributeNode(Je)},getAttributeNodeNS:function(pe,Ee){return this.attributes.getNamedItemNS(pe,Ee)},getElementsByTagName:function(pe){return new O(this,function(Ee){var Fe=[];return q(Ee,function(Je){Je!==Ee&&Je.nodeType==f&&(pe==="*"||Je.tagName==pe)&&Fe.push(Je)}),Fe})},getElementsByTagNameNS:function(pe,Ee){return new O(this,function(Fe){var Je=[];return q(Fe,function(lt){lt!==Fe&&lt.nodeType===f&&(pe==="*"||lt.namespaceURI===pe)&&(Ee==="*"||lt.localName==Ee)&&Je.push(lt)}),Je})}},X.prototype.getElementsByTagName=ie.prototype.getElementsByTagName,X.prototype.getElementsByTagNameNS=ie.prototype.getElementsByTagNameNS,c(ie,B);function ce(){}ce.prototype.nodeType=h,c(ce,B);function ye(){}ye.prototype={data:"",substringData:function(pe,Ee){return this.data.substring(pe,pe+Ee)},appendData:function(pe){pe=this.data+pe,this.nodeValue=this.data=pe,this.length=pe.length},insertData:function(pe,Ee){this.replaceData(pe,0,Ee)},appendChild:function(pe){throw new Error(N[k])},deleteData:function(pe,Ee){this.replaceData(pe,Ee,"")},replaceData:function(pe,Ee,Fe){var Je=this.data.substring(0,pe),lt=this.data.substring(pe+Ee);Fe=Je+Fe+lt,this.nodeValue=this.data=Fe,this.length=Fe.length}},c(ye,B);function xe(){}xe.prototype={nodeName:"#text",nodeType:p,splitText:function(pe){var Ee=this.data,Fe=Ee.substring(pe);Ee=Ee.substring(0,pe),this.data=this.nodeValue=Ee,this.length=Ee.length;var Je=this.ownerDocument.createTextNode(Fe);return this.parentNode&&this.parentNode.insertBefore(Je,this.nextSibling),Je}},c(xe,ye);function ke(){}ke.prototype={nodeName:"#comment",nodeType:x},c(ke,ye);function Ue(){}Ue.prototype={nodeName:"#cdata-section",nodeType:v},c(Ue,ye);function Ce(){}Ce.prototype.nodeType=C,c(Ce,B);function Me(){}Me.prototype.nodeType=R,c(Me,B);function Oe(){}Oe.prototype.nodeType=y,c(Oe,B);function Ke(){}Ke.prototype.nodeType=g,c(Ke,B);function rt(){}rt.prototype.nodeName="#document-fragment",rt.prototype.nodeType=D,c(rt,B);function it(){}it.prototype.nodeType=_,c(it,B);function Ot(){}Ot.prototype.serializeToString=function(pe,Ee,Fe){return xn.call(pe,Ee,Fe)},B.prototype.toString=xn;function xn(pe,Ee){var Fe=[],Je=this.nodeType==9&&this.documentElement||this,lt=Je.prefix,kt=Je.namespaceURI;if(kt&&lt==null){var lt=Je.lookupPrefix(kt);if(lt==null)var on=[{namespace:kt,prefix:null}]}return Zn(this,Fe,pe,Ee,on),Fe.join("")}function ln(pe,Ee,Fe){var Je=pe.prefix||"",lt=pe.namespaceURI;if(!lt||Je==="xml"&&lt===n.XML||lt===n.XMLNS)return!1;for(var kt=Fe.length;kt--;){var on=Fe[kt];if(on.prefix===Je)return on.namespace!==lt}return!0}function Ar(pe,Ee,Fe){pe.push(" ",Ee,'="',Fe.replace(/[<>&"\t\n\r]/g,j),'"')}function Zn(pe,Ee,Fe,Je,lt){if(lt||(lt=[]),Je)if(pe=Je(pe),pe){if(typeof pe=="string"){Ee.push(pe);return}}else return;switch(pe.nodeType){case f:var kt=pe.attributes,on=kt.length,De=pe.firstChild,nn=pe.tagName;Fe=n.isHTML(pe.namespaceURI)||Fe;var nr=nn;if(!Fe&&!pe.prefix&&pe.namespaceURI){for(var Pn,Kr=0;Kr<kt.length;Kr++)if(kt.item(Kr).name==="xmlns"){Pn=kt.item(Kr).value;break}if(!Pn)for(var Ye=lt.length-1;Ye>=0;Ye--){var dt=lt[Ye];if(dt.prefix===""&&dt.namespace===pe.namespaceURI){Pn=dt.namespace;break}}if(Pn!==pe.namespaceURI)for(var Ye=lt.length-1;Ye>=0;Ye--){var dt=lt[Ye];if(dt.namespace===pe.namespaceURI){dt.prefix&&(nr=dt.prefix+":"+nn);break}}}Ee.push("<",nr);for(var ue=0;ue<on;ue++){var Se=kt.item(ue);Se.prefix=="xmlns"?lt.push({prefix:Se.localName,namespace:Se.value}):Se.nodeName=="xmlns"&&lt.push({prefix:"",namespace:Se.value})}for(var ue=0;ue<on;ue++){var Se=kt.item(ue);if(ln(Se,Fe,lt)){var ge=Se.prefix||"",Te=Se.namespaceURI;Ar(Ee,ge?"xmlns:"+ge:"xmlns",Te),lt.push({prefix:ge,namespace:Te})}Zn(Se,Ee,Fe,Je,lt)}if(nn===nr&&ln(pe,Fe,lt)){var ge=pe.prefix||"",Te=pe.namespaceURI;Ar(Ee,ge?"xmlns:"+ge:"xmlns",Te),lt.push({prefix:ge,namespace:Te})}if(De||Fe&&!/^(?:meta|link|img|br|hr|input)$/i.test(nn)){if(Ee.push(">"),Fe&&/^script$/i.test(nn))for(;De;)De.data?Ee.push(De.data):Zn(De,Ee,Fe,Je,lt.slice()),De=De.nextSibling;else for(;De;)Zn(De,Ee,Fe,Je,lt.slice()),De=De.nextSibling;Ee.push("</",nr,">")}else Ee.push("/>");return;case w:case D:for(var De=pe.firstChild;De;)Zn(De,Ee,Fe,Je,lt.slice()),De=De.nextSibling;return;case h:return Ar(Ee,pe.name,pe.value);case p:return Ee.push(pe.data.replace(/[<&>]/g,j));case v:return Ee.push("<![CDATA[",pe.data,"]]>");case x:return Ee.push("<!--",pe.data,"-->");case C:var Ie=pe.publicId,We=pe.systemId;if(Ee.push("<!DOCTYPE ",pe.name),Ie)Ee.push(" PUBLIC ",Ie),We&&We!="."&&Ee.push(" ",We),Ee.push(">");else if(We&&We!=".")Ee.push(" SYSTEM ",We,">");else{var Qe=pe.internalSubset;Qe&&Ee.push(" [",Qe,"]"),Ee.push(">")}return;case _:return Ee.push("<?",pe.target," ",pe.data,"?>");case g:return Ee.push("&",pe.nodeName,";");default:Ee.push("??",pe.nodeName)}}function Bn(pe,Ee,Fe){var Je;switch(Ee.nodeType){case f:Je=Ee.cloneNode(!1),Je.ownerDocument=pe;case D:break;case h:Fe=!0;break}if(Je||(Je=Ee.cloneNode(!1)),Je.ownerDocument=pe,Je.parentNode=null,Fe)for(var lt=Ee.firstChild;lt;)Je.appendChild(Bn(pe,lt,Fe)),lt=lt.nextSibling;return Je}function Xn(pe,Ee,Fe){var Je=new Ee.constructor;for(var lt in Ee)if(Object.prototype.hasOwnProperty.call(Ee,lt)){var kt=Ee[lt];typeof kt!="object"&&kt!=Je[lt]&&(Je[lt]=kt)}switch(Ee.childNodes&&(Je.childNodes=new U),Je.ownerDocument=pe,Je.nodeType){case f:var on=Ee.attributes,nn=Je.attributes=new K,nr=on.length;nn._ownerElement=Je;for(var Pn=0;Pn<nr;Pn++)Je.setAttributeNode(Xn(pe,on.item(Pn),!0));break;case h:Fe=!0}if(Fe)for(var Kr=Ee.firstChild;Kr;)Je.appendChild(Xn(pe,Kr,Fe)),Kr=Kr.nextSibling;return Je}function Gt(pe,Ee,Fe){pe[Ee]=Fe}try{if(Object.defineProperty){let pe=function(Ee){switch(Ee.nodeType){case f:case D:var Fe=[];for(Ee=Ee.firstChild;Ee;)Ee.nodeType!==7&&Ee.nodeType!==8&&Fe.push(pe(Ee)),Ee=Ee.nextSibling;return Fe.join("");default:return Ee.nodeValue}};var Cn=pe;Object.defineProperty(O.prototype,"length",{get:function(){return G(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return pe(this)},set:function(Ee){switch(this.nodeType){case f:case D:for(;this.firstChild;)this.removeChild(this.firstChild);(Ee||String(Ee))&&this.appendChild(this.ownerDocument.createTextNode(Ee));break;default:this.data=Ee,this.value=Ee,this.nodeValue=Ee}}}),Gt=function(Ee,Fe,Je){Ee["$$"+Fe]=Je}}}catch{}return Kl.DocumentType=Ce,Kl.DOMException=I,Kl.DOMImplementation=Y,Kl.Element=ie,Kl.Node=B,Kl.NodeList=U,Kl.XMLSerializer=Ot,Kl}var c0={},QD={},tj;function N9e(){return tj||(tj=1,(function(t){var e=Yw().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(QD)),QD}var Yx={},nj;function k9e(){if(nj)return Yx;nj=1;var t=Yw().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,c=5,u=6,f=7;function h(k,F){this.message=k,this.locator=F,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(k,F,P){var I=this.domBuilder;I.startDocument(),C(F,F={}),v(k,F,P,I,this.errorHandler),I.endDocument()}};function v(k,F,P,I,U){function O(_e){if(_e>65535){_e-=65536;var ie=55296+(_e>>10),ce=56320+(_e&1023);return String.fromCharCode(ie,ce)}else return String.fromCharCode(_e)}function G(_e){var ie=_e.slice(1,-1);return Object.hasOwnProperty.call(P,ie)?P[ie]:ie.charAt(0)==="#"?O(parseInt(ie.substr(1).replace("x","0x"))):(U.error("entity not found:"+_e),_e)}function K(_e){if(_e>X){var ie=k.substring(X,_e).replace(/&#?\w+;/g,G);B&&J(X),I.characters(ie,0,_e-X),X=_e}}function J(_e,ie){for(;_e>=z&&(ie=Y.exec(k));)te=ie.index,z=te+ie[0].length,B.lineNumber++;B.columnNumber=_e-te+1}for(var te=0,z=0,Y=/.*(?:\r\n?|\n)|.*$/g,B=I.locator,j=[{currentNSMap:F}],q={},X=0;;){try{var Q=k.indexOf("<",X);if(Q<0){if(!k.substr(X).match(/^\s*$/)){var ee=I.doc,ae=ee.createTextNode(k.substr(X));ee.appendChild(ae),I.currentElement=ae}return}switch(Q>X&&K(Q),k.charAt(Q+1)){case"/":var we=k.indexOf(">",Q+3),de=k.substring(Q+2,we).replace(/[ \t\n\r]+$/g,""),fe=j.pop();we<0?(de=k.substring(Q+2).replace(/[\s<].*/,""),U.error("end tag name: "+de+" is not complete:"+fe.tagName),we=Q+1+de.length):de.match(/\s</)&&(de=de.replace(/[\s<].*/,""),U.error("end tag name: "+de+" maybe not complete"),we=Q+1+de.length);var Ne=fe.localNSMap,Re=fe.tagName==de,me=Re||fe.tagName&&fe.tagName.toLowerCase()==de.toLowerCase();if(me){if(I.endElement(fe.uri,fe.localName,de),Ne)for(var Le in Ne)Object.prototype.hasOwnProperty.call(Ne,Le)&&I.endPrefixMapping(Le);Re||U.fatalError("end tag name: "+de+" is not match the current start tagName:"+fe.tagName)}else j.push(fe);we++;break;case"?":B&&J(Q),we=R(k,Q,I);break;case"!":B&&J(Q),we=D(k,Q,I,U);break;default:B&&J(Q);var V=new S,ve=j[j.length-1].currentNSMap,we=y(k,Q,V,ve,G,U),oe=V.length;if(!V.closed&&w(k,we,V.tagName,q)&&(V.closed=!0,P.nbsp||U.warning("unclosed xml attribute")),B&&oe){for(var re=g(B,{}),le=0;le<oe;le++){var he=V[le];J(he.offset),he.locator=g(B,{})}I.locator=re,_(V,I,ve)&&j.push(V),I.locator=B}else _(V,I,ve)&&j.push(V);t.isHTML(V.uri)&&!V.closed?we=x(k,we,V.tagName,G,I):we++}}catch(_e){if(_e instanceof h)throw _e;U.error("element parse error: "+_e),we=-1}we>X?X=we:K(Math.max(Q,X)+1)}}function g(k,F){return F.lineNumber=k.lineNumber,F.columnNumber=k.columnNumber,F}function y(k,F,P,I,U,O){function G(B,j,q){P.attributeNames.hasOwnProperty(B)&&O.fatalError("Attribute "+B+" redefined"),P.addValue(B,j.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,U),q)}for(var K,J,te=++F,z=i;;){var Y=k.charAt(te);switch(Y){case"=":if(z===s)K=k.slice(F,te),z=o;else if(z===a)z=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(z===o||z===s)if(z===s&&(O.warning('attribute value must after "="'),K=k.slice(F,te)),F=te+1,te=k.indexOf(Y,F),te>0)J=k.slice(F,te),G(K,J,F-1),z=c;else throw new Error("attribute value no end '"+Y+"' match");else if(z==l)J=k.slice(F,te),G(K,J,F),O.warning('attribute "'+K+'" missed start quot('+Y+")!!"),F=te+1,z=c;else throw new Error('attribute value must after "="');break;case"/":switch(z){case i:P.setTagName(k.slice(F,te));case c:case u:case f:z=f,P.closed=!0;case l:case s:break;case a:P.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return O.error("unexpected end of input"),z==i&&P.setTagName(k.slice(F,te)),te;case">":switch(z){case i:P.setTagName(k.slice(F,te));case c:case u:case f:break;case l:case s:J=k.slice(F,te),J.slice(-1)==="/"&&(P.closed=!0,J=J.slice(0,-1));case a:z===a&&(J=K),z==l?(O.warning('attribute "'+J+'" missed quot(")!'),G(K,J,F)):((!t.isHTML(I[""])||!J.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+J+'" missed value!! "'+J+'" instead!!'),G(J,J,F));break;case o:throw new Error("attribute value missed!!")}return te;case"":Y=" ";default:if(Y<=" ")switch(z){case i:P.setTagName(k.slice(F,te)),z=u;break;case s:K=k.slice(F,te),z=a;break;case l:var J=k.slice(F,te);O.warning('attribute "'+J+'" missed quot(")!!'),G(K,J,F);case c:z=u;break}else switch(z){case a:P.tagName,(!t.isHTML(I[""])||!K.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+K+'" missed value!! "'+K+'" instead2!!'),G(K,K,F),F=te,z=s;break;case c:O.warning('attribute space is required"'+K+'"!!');case u:z=s,F=te;break;case o:z=l,F=te;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}te++}}function _(k,F,P){for(var I=k.tagName,U=null,Y=k.length;Y--;){var O=k[Y],G=O.qName,K=O.value,B=G.indexOf(":");if(B>0)var J=O.prefix=G.slice(0,B),te=G.slice(B+1),z=J==="xmlns"&&te;else te=G,J=null,z=G==="xmlns"&&"";O.localName=te,z!==!1&&(U==null&&(U={},C(P,P={})),P[z]=U[z]=K,O.uri=t.XMLNS,F.startPrefixMapping(z,K))}for(var Y=k.length;Y--;){O=k[Y];var J=O.prefix;J&&(J==="xml"&&(O.uri=t.XML),J!=="xmlns"&&(O.uri=P[J||""]))}var B=I.indexOf(":");B>0?(J=k.prefix=I.slice(0,B),te=k.localName=I.slice(B+1)):(J=null,te=k.localName=I);var j=k.uri=P[J||""];if(F.startElement(j,te,I,k),k.closed){if(F.endElement(j,te,I),U)for(J in U)Object.prototype.hasOwnProperty.call(U,J)&&F.endPrefixMapping(J)}else return k.currentNSMap=P,k.localNSMap=U,!0}function x(k,F,P,I,U){if(/^(?:script|textarea)$/i.test(P)){var O=k.indexOf("</"+P+">",F),G=k.substring(F+1,O);if(/[&<]/.test(G))return/^script$/i.test(P)?(U.characters(G,0,G.length),O):(G=G.replace(/&#?\w+;/g,I),U.characters(G,0,G.length),O)}return F+1}function w(k,F,P,I){var U=I[P];return U==null&&(U=k.lastIndexOf("</"+P+">"),U<F&&(U=k.lastIndexOf("</"+P)),I[P]=U),U<F}function C(k,F){for(var P in k)Object.prototype.hasOwnProperty.call(k,P)&&(F[P]=k[P])}function D(k,F,P,I){var U=k.charAt(F+2);switch(U){case"-":if(k.charAt(F+3)==="-"){var O=k.indexOf("-->",F+4);return O>F?(P.comment(k,F+4,O-F-4),O+3):(I.error("Unclosed comment"),-1)}else return-1;default:if(k.substr(F+3,6)=="CDATA["){var O=k.indexOf("]]>",F+9);return P.startCDATA(),P.characters(k,F+9,O-F-9),P.endCDATA(),O+3}var G=N(k,F),K=G.length;if(K>1&&/!doctype/i.test(G[0][0])){var J=G[1][0],te=!1,z=!1;K>3&&(/^public$/i.test(G[2][0])?(te=G[3][0],z=K>4&&G[4][0]):/^system$/i.test(G[2][0])&&(z=G[3][0]));var Y=G[K-1];return P.startDTD(J,te,z),P.endDTD(),Y.index+Y[0].length}}return-1}function R(k,F,P){var I=k.indexOf("?>",F);if(I){var U=k.substring(F,I).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return U?(U[0].length,P.processingInstruction(U[1],U[2]),I+2):-1}return-1}function S(){this.attributeNames={}}S.prototype={setTagName:function(k){if(!r.test(k))throw new Error("invalid tagName:"+k);this.tagName=k},addValue:function(k,F,P){if(!r.test(k))throw new Error("invalid attribute:"+k);this.attributeNames[k]=this.length,this[this.length++]={qName:k,value:F,offset:P}},length:0,getLocalName:function(k){return this[k].localName},getLocator:function(k){return this[k].locator},getQName:function(k){return this[k].qName},getURI:function(k){return this[k].uri},getValue:function(k){return this[k].value}};function N(k,F){var P,I=[],U=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(U.lastIndex=F,U.exec(k);P=U.exec(k);)if(I.push(P),P[1])return I}return Yx.XMLReader=p,Yx.ParseError=h,Yx}var rj;function I9e(){if(rj)return c0;rj=1;var t=Yw(),e=z6(),n=N9e(),r=k9e(),i=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(y){return y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(y){this.options=y||{locator:{}}}c.prototype.parseFromString=function(y,_){var x=this.options,w=new o,C=x.domBuilder||new f,D=x.errorHandler,R=x.locator,S=x.xmlns||{},N=/\/x?html?$/.test(_),k=N?n.HTML_ENTITIES:n.XML_ENTITIES;R&&C.setDocumentLocator(R),w.errorHandler=u(D,C,R),w.domBuilder=x.domBuilder||C,N&&(S[""]=s.HTML),S.xml=S.xml||s.XML;var F=x.normalizeLineEndings||l;return y&&typeof y=="string"?w.parse(F(y),S,k):w.errorHandler.error("invalid doc source"),C.doc};function u(y,_,x){if(!y){if(_ instanceof f)return _;y=_}var w={},C=y instanceof Function;x=x||{};function D(R){var S=y[R];!S&&C&&(S=y.length==2?function(N){y(R,N)}:y),w[R]=S&&function(N){S("[xmldom "+R+"]	"+N+p(x))}||function(){}}return D("warning"),D("error"),D("fatalError"),w}function f(){this.cdata=!1}function h(y,_){_.lineNumber=y.lineNumber,_.columnNumber=y.columnNumber}f.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(y,_,x,w){var C=this.doc,D=C.createElementNS(y,x||_),R=w.length;g(this,D),this.currentElement=D,this.locator&&h(this.locator,D);for(var S=0;S<R;S++){var y=w.getURI(S),N=w.getValue(S),x=w.getQName(S),k=C.createAttributeNS(y,x);this.locator&&h(w.getLocator(S),k),k.value=k.nodeValue=N,D.setAttributeNode(k)}},endElement:function(y,_,x){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(y,_){},endPrefixMapping:function(y){},processingInstruction:function(y,_){var x=this.doc.createProcessingInstruction(y,_);this.locator&&h(this.locator,x),g(this,x)},ignorableWhitespace:function(y,_,x){},characters:function(y,_,x){if(y=v.apply(this,arguments),y){if(this.cdata)var w=this.doc.createCDATASection(y);else var w=this.doc.createTextNode(y);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(y)&&this.doc.appendChild(w),this.locator&&h(this.locator,w)}},skippedEntity:function(y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(y){(this.locator=y)&&(y.lineNumber=0)},comment:function(y,_,x){y=v.apply(this,arguments);var w=this.doc.createComment(y);this.locator&&h(this.locator,w),g(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(y,_,x){var w=this.doc.implementation;if(w&&w.createDocumentType){var C=w.createDocumentType(y,_,x);this.locator&&h(this.locator,C),g(this,C),this.doc.doctype=C}},warning:function(y){console.warn("[xmldom warning]	"+y,p(this.locator))},error:function(y){console.error("[xmldom error]	"+y,p(this.locator))},fatalError:function(y){throw new a(y,this.locator)}};function p(y){if(y)return`
@`+(y.systemId||"")+"#[line:"+y.lineNumber+",col:"+y.columnNumber+"]"}function v(y,_,x){return typeof y=="string"?y.substr(_,x):y.length>=_+x||_?new java.lang.String(y,_,x)+"":y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(y){f.prototype[y]=function(){return null}});function g(y,_){y.currentElement?y.currentElement.appendChild(_):y.doc.appendChild(_)}return c0.__DOMHandler=f,c0.normalizeLineEndings=l,c0.DOMParser=c,c0}var ij;function R9e(){if(ij)return l0;ij=1;var t=z6();return l0.DOMImplementation=t.DOMImplementation,l0.XMLSerializer=t.XMLSerializer,l0.DOMParser=I9e().DOMParser,l0}var sj;function P9e(){if(sj)return Jx;sj=1;var t=R9e(),e=z6();function n(r){var i=null,s=new t.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return Jx.parseFromString=n,Jx.Node=e.Node,Jx}var aj;function F9e(){if(aj)return YD;aj=1;var t=dd(),e=ii,n=P9e(),r=GY(),i=r.Element;YD.readString=a;var s=n.Node;function a(o,l){l=l||{};try{var c=n.parseFromString(o,"text/xml")}catch(p){return t.reject(p)}if(c.documentElement.tagName==="parsererror")return t.resolve(new Error(c.documentElement.textContent));function u(p){switch(p.nodeType){case s.ELEMENT_NODE:return f(p);case s.TEXT_NODE:return r.text(p.nodeValue)}}function f(p){var v=h(p),g=[];e.forEach(p.childNodes,function(_){var x=u(_);x&&g.push(x)});var y={};return e.forEach(p.attributes,function(_){y[h(_)]=_.value}),new i(v,y,g)}function h(p){if(p.namespaceURI){var v=l[p.namespaceURI],g;return v?g=v+":":g="{"+p.namespaceURI+"}",g+p.localName}else return p.localName}return t.resolve(u(c.documentElement))}return YD}var ZD={},Fd={},nl={},oj;function fd(){return oj||(oj=1,(function(){var t,e,n,r,i,s,a,o=[].slice,l={}.hasOwnProperty;t=function(){var c,u,f,h,p,v;if(v=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,f=p.length;c<f;c++)if(h=p[c],h!=null)for(u in h)l.call(h,u)&&(v[u]=h[u]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},n=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var u;if(n(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},a=function(c){var u,f;return s(c)&&(f=Object.getPrototypeOf(c))&&(u=f.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},nl.assign=t,nl.isFunction=i,nl.isObject=s,nl.isArray=n,nl.isEmpty=r,nl.isPlainObject=a,nl.getValue=e}).call(nl)),nl}var D2={exports:{}},A2={exports:{}},N2={exports:{}},k2={exports:{}},M9e=k2.exports,lj;function KY(){return lj||(lj=1,(function(){k2.exports=(function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t})()}).call(M9e)),k2.exports}var U9e=N2.exports,cj;function Qw(){return cj||(cj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=fd(),i=s.isObject,r=s.isFunction,n=s.getValue,e=ua(),t=KY(),N2.exports=(function(l){a(c,l);function c(u,f,h){if(c.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)o.call(p,f)&&(u=p[f],h.attributes[f]=u.clone());return h.children=[],this.children.forEach(function(v){var g;return g=v.clone(),g.parent=h,h.children.push(g)}),h},c.prototype.attribute=function(u,f){var h,p;if(u!=null&&(u=n(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[u]=new t(this,u,f));return this},c.prototype.removeAttribute=function(u){var f,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=n(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)f=u[h],delete this.attributes[f];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,f){return this.attribute(u,f)},c.prototype.a=function(u,f){return this.attribute(u,f)},c})(e)}).call(U9e)),N2.exports}var I2={exports:{}},O9e=I2.exports,uj;function Zw(){return uj||(uj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),I2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i})(t)}).call(O9e)),I2.exports}var R2={exports:{}},L9e=R2.exports,dj;function eT(){return dj||(dj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),R2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i})(t)}).call(L9e)),R2.exports}var P2={exports:{}},j9e=P2.exports,fj;function tT(){return fj||(fj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=fd().isObject,t=ua(),P2.exports=(function(i){n(s,i);function s(a,o,l,c){var u;s.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,l=u.encoding,c=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(t)}).call(j9e)),P2.exports}var F2={exports:{}},M2={exports:{}},B9e=M2.exports,hj;function nT(){return hj||(hj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),M2.exports=(function(r){e(i,r);function i(s,a,o,l,c,u){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i})(t)}).call(B9e)),M2.exports}var U2={exports:{}},V9e=U2.exports,pj;function rT(){return pj||(pj=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=fd().isObject,t=ua(),U2.exports=(function(i){n(s,i);function s(a,o,l,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(t)}).call(V9e)),U2.exports}var O2={exports:{}},W9e=O2.exports,mj;function iT(){return mj||(mj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),O2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i})(t)}).call(W9e)),O2.exports}var L2={exports:{}},q9e=L2.exports,gj;function sT(){return gj||(gj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),L2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i})(t)}).call(q9e)),L2.exports}var $9e=F2.exports,yj;function aT(){return yj||(yj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=fd().isObject,i=ua(),t=nT(),n=rT(),e=iT(),r=sT(),F2.exports=(function(l){a(c,l);function c(u,f,h){var p,v;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(v=[f,h],h=v[0],f=v[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return c.prototype.element=function(u,f){var h;return h=new e(this,u,f),this.children.push(h),this},c.prototype.attList=function(u,f,h,p,v){var g;return g=new t(this,u,f,h,p,v),this.children.push(g),this},c.prototype.entity=function(u,f){var h;return h=new n(this,!1,u,f),this.children.push(h),this},c.prototype.pEntity=function(u,f){var h;return h=new n(this,!0,u,f),this.children.push(h),this},c.prototype.notation=function(u,f){var h;return h=new r(this,u,f),this.children.push(h),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,f){return this.element(u,f)},c.prototype.att=function(u,f,h,p,v){return this.attList(u,f,h,p,v)},c.prototype.ent=function(u,f){return this.entity(u,f)},c.prototype.pent=function(u,f){return this.pEntity(u,f)},c.prototype.not=function(u,f){return this.notation(u,f)},c.prototype.up=function(){return this.root()||this.documentObject},c})(i)}).call($9e)),F2.exports}var j2={exports:{}},z9e=j2.exports,vj;function oT(){return vj||(vj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),j2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i})(t)}).call(z9e)),j2.exports}var B2={exports:{}},H9e=B2.exports,xj;function lT(){return xj||(xj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),B2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i})(t)}).call(H9e)),B2.exports}var V2={exports:{}},G9e=V2.exports,bj;function cT(){return bj||(bj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),V2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i})(t)}).call(G9e)),V2.exports}var W2={exports:{}},K9e=W2.exports,_j;function H6(){return _j||(_j=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ua(),W2.exports=(function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i})(t)}).call(K9e)),W2.exports}var X9e=A2.exports,wj;function ua(){return wj||(wj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v={}.hasOwnProperty;p=fd(),h=p.isObject,f=p.isFunction,u=p.isEmpty,c=p.getValue,s=null,t=null,e=null,n=null,r=null,o=null,l=null,a=null,i=null,A2.exports=(function(){function g(y){this.parent=y,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=Qw(),t=Zw(),e=eT(),n=tT(),r=aT(),o=oT(),l=lT(),a=cT(),i=H6())}return g.prototype.element=function(y,_,x){var w,C,D,R,S,N,k,F,P,I,U;if(N=null,_===null&&x==null&&(P=[{},null],_=P[0],x=P[1]),_==null&&(_={}),_=c(_),h(_)||(I=[_,x],x=I[0],_=I[1]),y!=null&&(y=c(y)),Array.isArray(y))for(D=0,k=y.length;D<k;D++)C=y[D],N=this.element(C);else if(f(y))N=this.element(y.apply());else if(h(y)){for(S in y)if(v.call(y,S))if(U=y[S],f(U)&&(U=U.apply()),h(U)&&u(U)&&(U=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&S.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(S.substr(this.stringify.convertAttKey.length),U);else if(!this.options.separateArrayItems&&Array.isArray(U))for(R=0,F=U.length;R<F;R++)C=U[R],w={},w[S]=C,N=this.element(w);else h(U)?(N=this.element(S),N.element(U)):N=this.element(S,U)}else this.options.skipNullNodes&&x===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&y.indexOf(this.stringify.convertTextKey)===0?N=this.text(x):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&y.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(x):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&y.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(x):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&y.indexOf(this.stringify.convertRawKey)===0?N=this.raw(x):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&y.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(y.substr(this.stringify.convertPIKey.length),x):N=this.node(y,_,x);if(N==null)throw new Error("Could not create any elements with: "+y+". "+this.debugInfo());return N},g.prototype.insertBefore=function(y,_,x){var w,C,D;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),D=this.parent.children.splice(C),w=this.parent.element(y,_,x),Array.prototype.push.apply(this.parent.children,D),w},g.prototype.insertAfter=function(y,_,x){var w,C,D;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return C=this.parent.children.indexOf(this),D=this.parent.children.splice(C+1),w=this.parent.element(y,_,x),Array.prototype.push.apply(this.parent.children,D),w},g.prototype.remove=function(){var y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return y=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[y,y-y+1].concat([])),this.parent},g.prototype.node=function(y,_,x){var w,C;return y!=null&&(y=c(y)),_||(_={}),_=c(_),h(_)||(C=[_,x],x=C[0],_=C[1]),w=new s(this,y,_),x!=null&&w.text(x),this.children.push(w),w},g.prototype.text=function(y){var _;return _=new l(this,y),this.children.push(_),this},g.prototype.cdata=function(y){var _;return _=new t(this,y),this.children.push(_),this},g.prototype.comment=function(y){var _;return _=new e(this,y),this.children.push(_),this},g.prototype.commentBefore=function(y){var _,x;return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.commentAfter=function(y){var _,x;return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_+1),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.raw=function(y){var _;return _=new o(this,y),this.children.push(_),this},g.prototype.dummy=function(){var y;return y=new i(this),this.children.push(y),y},g.prototype.instruction=function(y,_){var x,w,C,D,R;if(y!=null&&(y=c(y)),_!=null&&(_=c(_)),Array.isArray(y))for(D=0,R=y.length;D<R;D++)x=y[D],this.instruction(x);else if(h(y))for(x in y)v.call(y,x)&&(w=y[x],this.instruction(x,w));else f(_)&&(_=_.apply()),C=new a(this,y,_),this.children.push(C);return this},g.prototype.instructionBefore=function(y,_){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x),this.parent.instruction(y,_),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.instructionAfter=function(y,_){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x+1),this.parent.instruction(y,_),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.declaration=function(y,_,x){var w,C;return w=this.document(),C=new n(w,y,_,x),w.children[0]instanceof n?w.children[0]=C:w.children.unshift(C),w.root()||w},g.prototype.doctype=function(y,_){var x,w,C,D,R,S,N,k,F,P;for(w=this.document(),C=new r(w,y,_),F=w.children,D=R=0,N=F.length;R<N;D=++R)if(x=F[D],x instanceof r)return w.children[D]=C,C;for(P=w.children,D=S=0,k=P.length;S<k;D=++S)if(x=P[D],x.isRoot)return w.children.splice(D,0,C),C;return w.children.push(C),C},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var y;for(y=this;y;){if(y.isDocument)return y.rootObject;if(y.isRoot)return y;y=y.parent}},g.prototype.document=function(){var y;for(y=this;y;){if(y.isDocument)return y;y=y.parent}},g.prototype.end=function(y){return this.document().end(y)},g.prototype.prev=function(){var y;for(y=this.parent.children.indexOf(this);y>0&&this.parent.children[y-1].isDummy;)y=y-1;if(y<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[y-1]},g.prototype.next=function(){var y;for(y=this.parent.children.indexOf(this);y<this.parent.children.length-1&&this.parent.children[y+1].isDummy;)y=y+1;if(y===-1||y===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[y+1]},g.prototype.importDocument=function(y){var _;return _=y.root().clone(),_.parent=this,_.isRoot=!1,this.children.push(_),this},g.prototype.debugInfo=function(y){var _,x;return y=y||this.name,y==null&&!((_=this.parent)!=null&&_.name)?"":y==null?"parent: <"+this.parent.name+">":(x=this.parent)!=null&&x.name?"node: <"+y+">, parent: <"+this.parent.name+">":"node: <"+y+">"},g.prototype.ele=function(y,_,x){return this.element(y,_,x)},g.prototype.nod=function(y,_,x){return this.node(y,_,x)},g.prototype.txt=function(y){return this.text(y)},g.prototype.dat=function(y){return this.cdata(y)},g.prototype.com=function(y){return this.comment(y)},g.prototype.ins=function(y,_){return this.instruction(y,_)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(y,_,x){return this.declaration(y,_,x)},g.prototype.dtd=function(y,_){return this.doctype(y,_)},g.prototype.e=function(y,_,x){return this.element(y,_,x)},g.prototype.n=function(y,_,x){return this.node(y,_,x)},g.prototype.t=function(y){return this.text(y)},g.prototype.d=function(y){return this.cdata(y)},g.prototype.c=function(y){return this.comment(y)},g.prototype.r=function(y){return this.raw(y)},g.prototype.i=function(y,_){return this.instruction(y,_)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(y){return this.importDocument(y)},g})()}).call(X9e)),A2.exports}var q2={exports:{}},J9e=q2.exports,Tj;function XY(){return Tj||(Tj=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;q2.exports=(function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(J9e)),q2.exports}var $2={exports:{}},z2={exports:{}},Y9e=z2.exports,Ej;function JY(){return Ej||(Ej=1,(function(){var t={}.hasOwnProperty;z2.exports=(function(){function e(n){var r,i,s,a,o,l,c,u,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(a=n.newline)!=null?a:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=n.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=n.writer||{};for(r in u)t.call(u,r)&&(f=u[r],this[r]=f)}return e.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)t.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e})()}).call(Y9e)),z2.exports}var Q9e=$2.exports,Cj;function G6(){return Cj||(Cj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,_){for(var x in _)g.call(_,x)&&(y[x]=_[x]);function w(){this.constructor=y}return w.prototype=_.prototype,y.prototype=new w,y.__super__=_.prototype,y},g={}.hasOwnProperty;a=tT(),o=aT(),t=Zw(),e=eT(),c=Qw(),f=oT(),h=lT(),u=cT(),l=H6(),n=nT(),r=iT(),i=rT(),s=sT(),p=JY(),$2.exports=(function(y){v(_,y);function _(x){_.__super__.constructor.call(this,x)}return _.prototype.document=function(x){var w,C,D,R,S;for(this.textispresent=!1,R="",S=x.children,C=0,D=S.length;C<D;C++)w=S[C],!(w instanceof l)&&(R+=(function(){switch(!1){case!(w instanceof a):return this.declaration(w);case!(w instanceof o):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof u):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&R.slice(-this.newline.length)===this.newline&&(R=R.slice(0,-this.newline.length)),R},_.prototype.attribute=function(x){return" "+x.name+'="'+x.value+'"'},_.prototype.cdata=function(x,w){return this.space(w)+"<![CDATA["+x.text+"]]>"+this.newline},_.prototype.comment=function(x,w){return this.space(w)+"<!-- "+x.text+" -->"+this.newline},_.prototype.declaration=function(x,w){var C;return C=this.space(w),C+='<?xml version="'+x.version+'"',x.encoding!=null&&(C+=' encoding="'+x.encoding+'"'),x.standalone!=null&&(C+=' standalone="'+x.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline,C},_.prototype.docType=function(x,w){var C,D,R,S,N;if(w||(w=0),S=this.space(w),S+="<!DOCTYPE "+x.root().name,x.pubID&&x.sysID?S+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(S+=' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(S+=" [",S+=this.newline,N=x.children,D=0,R=N.length;D<R;D++)C=N[D],S+=(function(){switch(!1){case!(C instanceof n):return this.dtdAttList(C,w+1);case!(C instanceof r):return this.dtdElement(C,w+1);case!(C instanceof i):return this.dtdEntity(C,w+1);case!(C instanceof s):return this.dtdNotation(C,w+1);case!(C instanceof t):return this.cdata(C,w+1);case!(C instanceof e):return this.comment(C,w+1);case!(C instanceof u):return this.processingInstruction(C,w+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);S+="]"}return S+=this.spacebeforeslash+">",S+=this.newline,S},_.prototype.element=function(x,w){var C,D,R,S,N,k,F,P,I,U,O,G,K;w||(w=0),K=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),G=this.space(w),P="",P+=G+"<"+x.name,I=x.attributes;for(F in I)g.call(I,F)&&(C=I[F],P+=this.attribute(C));if(x.children.length===0||x.children.every(function(J){return J.value===""}))this.allowEmpty?P+="></"+x.name+">"+this.newline:P+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)P+=">",P+=x.children[0].value,P+="</"+x.name+">"+this.newline;else{if(this.dontprettytextnodes){for(U=x.children,R=0,N=U.length;R<N;R++)if(D=U[R],D.value!=null){this.textispresent++,K=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,G=this.space(w)),P+=">"+this.newline,O=x.children,S=0,k=O.length;S<k;S++)D=O[S],P+=(function(){switch(!1){case!(D instanceof t):return this.cdata(D,w+1);case!(D instanceof e):return this.comment(D,w+1);case!(D instanceof c):return this.element(D,w+1);case!(D instanceof f):return this.raw(D,w+1);case!(D instanceof h):return this.text(D,w+1);case!(D instanceof u):return this.processingInstruction(D,w+1);case!(D instanceof l):return"";default:throw new Error("Unknown XML node type: "+D.constructor.name)}}).call(this);K&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),P+=G+"</"+x.name+">"+this.newline}return P},_.prototype.processingInstruction=function(x,w){var C;return C=this.space(w)+"<?"+x.target,x.value&&(C+=" "+x.value),C+=this.spacebeforeslash+"?>"+this.newline,C},_.prototype.raw=function(x,w){return this.space(w)+x.value+this.newline},_.prototype.text=function(x,w){return this.space(w)+x.value+this.newline},_.prototype.dtdAttList=function(x,w){var C;return C=this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType,x.defaultValueType!=="#DEFAULT"&&(C+=" "+x.defaultValueType),x.defaultValue&&(C+=' "'+x.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.dtdElement=function(x,w){return this.space(w)+"<!ELEMENT "+x.name+" "+x.value+this.spacebeforeslash+">"+this.newline},_.prototype.dtdEntity=function(x,w){var C;return C=this.space(w)+"<!ENTITY",x.pe&&(C+=" %"),C+=" "+x.name,x.value?C+=' "'+x.value+'"':(x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),x.nData&&(C+=" NDATA "+x.nData)),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.dtdNotation=function(x,w){var C;return C=this.space(w)+"<!NOTATION "+x.name,x.pubID&&x.sysID?C+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.pubID?C+=' PUBLIC "'+x.pubID+'"':x.sysID&&(C+=' SYSTEM "'+x.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline,C},_.prototype.openNode=function(x,w){var C,D,R,S;if(w||(w=0),x instanceof c){R=this.space(w)+"<"+x.name,S=x.attributes;for(D in S)g.call(S,D)&&(C=S[D],R+=this.attribute(C));return R+=(x.children?">":"/>")+this.newline,R}else return R=this.space(w)+"<!DOCTYPE "+x.rootNodeName,x.pubID&&x.sysID?R+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(R+=' SYSTEM "'+x.sysID+'"'),R+=(x.children?" [":">")+this.newline,R},_.prototype.closeNode=function(x,w){switch(w||(w=0),!1){case!(x instanceof c):return this.space(w)+"</"+x.name+">"+this.newline;case!(x instanceof o):return this.space(w)+"]>"+this.newline}},_})(p)}).call(Q9e)),$2.exports}var Z9e=D2.exports,Sj;function e7e(){return Sj||(Sj=1,(function(){var t,e,n,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function c(){this.constructor=a}return c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=fd().isPlainObject,t=ua(),n=XY(),e=G6(),D2.exports=(function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return o.prototype.end=function(l){var c;return l?r(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(t)}).call(Z9e)),D2.exports}var H2={exports:{}},t7e=H2.exports,Dj;function n7e(){return Dj||(Dj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v,g,y,_,x,w,C={}.hasOwnProperty;w=fd(),_=w.isObject,y=w.isFunction,x=w.isPlainObject,g=w.getValue,c=Qw(),e=Zw(),n=eT(),f=oT(),v=lT(),u=cT(),o=tT(),l=aT(),r=nT(),s=rT(),i=iT(),a=sT(),t=KY(),p=XY(),h=G6(),H2.exports=(function(){function D(R,S,N){var k;this.name="?xml",R||(R={}),R.writer?x(R.writer)&&(k=R.writer,R.writer=new h(k)):R.writer=new h(R),this.options=R,this.writer=R.writer,this.stringify=new p(R),this.onDataCallback=S||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return D.prototype.node=function(R,S,N){var k,F;if(R==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(R));return this.openCurrent(),R=g(R),S===null&&N==null&&(k=[{},null],S=k[0],N=k[1]),S==null&&(S={}),S=g(S),_(S)||(F=[S,N],N=F[0],S=F[1]),this.currentNode=new c(this,R,S),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},D.prototype.element=function(R,S,N){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(R,S,N)},D.prototype.attribute=function(R,S){var N,k;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(R));if(R!=null&&(R=g(R)),_(R))for(N in R)C.call(R,N)&&(k=R[N],this.attribute(N,k));else y(S)&&(S=S.apply()),(!this.options.skipNullAttributes||S!=null)&&(this.currentNode.attributes[R]=new t(this,R,S));return this},D.prototype.text=function(R){var S;return this.openCurrent(),S=new v(this,R),this.onData(this.writer.text(S,this.currentLevel+1),this.currentLevel+1),this},D.prototype.cdata=function(R){var S;return this.openCurrent(),S=new e(this,R),this.onData(this.writer.cdata(S,this.currentLevel+1),this.currentLevel+1),this},D.prototype.comment=function(R){var S;return this.openCurrent(),S=new n(this,R),this.onData(this.writer.comment(S,this.currentLevel+1),this.currentLevel+1),this},D.prototype.raw=function(R){var S;return this.openCurrent(),S=new f(this,R),this.onData(this.writer.raw(S,this.currentLevel+1),this.currentLevel+1),this},D.prototype.instruction=function(R,S){var N,k,F,P,I;if(this.openCurrent(),R!=null&&(R=g(R)),S!=null&&(S=g(S)),Array.isArray(R))for(N=0,P=R.length;N<P;N++)k=R[N],this.instruction(k);else if(_(R))for(k in R)C.call(R,k)&&(F=R[k],this.instruction(k,F));else y(S)&&(S=S.apply()),I=new u(this,R,S),this.onData(this.writer.processingInstruction(I,this.currentLevel+1),this.currentLevel+1);return this},D.prototype.declaration=function(R,S,N){var k;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return k=new o(this,R,S,N),this.onData(this.writer.declaration(k,this.currentLevel+1),this.currentLevel+1),this},D.prototype.doctype=function(R,S,N){if(this.openCurrent(),R==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,S,N),this.currentNode.rootNodeName=R,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},D.prototype.dtdElement=function(R,S){var N;return this.openCurrent(),N=new i(this,R,S),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},D.prototype.attList=function(R,S,N,k,F){var P;return this.openCurrent(),P=new r(this,R,S,N,k,F),this.onData(this.writer.dtdAttList(P,this.currentLevel+1),this.currentLevel+1),this},D.prototype.entity=function(R,S){var N;return this.openCurrent(),N=new s(this,!1,R,S),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},D.prototype.pEntity=function(R,S){var N;return this.openCurrent(),N=new s(this,!0,R,S),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},D.prototype.notation=function(R,S){var N;return this.openCurrent(),N=new a(this,R,S),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},D.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},D.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},D.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},D.prototype.openNode=function(R){if(!R.isOpen)return!this.root&&this.currentLevel===0&&R instanceof c&&(this.root=R),this.onData(this.writer.openNode(R,this.currentLevel),this.currentLevel),R.isOpen=!0},D.prototype.closeNode=function(R){if(!R.isClosed)return this.onData(this.writer.closeNode(R,this.currentLevel),this.currentLevel),R.isClosed=!0},D.prototype.onData=function(R,S){return this.documentStarted=!0,this.onDataCallback(R,S+1)},D.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},D.prototype.debugInfo=function(R){return R==null?"":"node: <"+R+">"},D.prototype.ele=function(){return this.element.apply(this,arguments)},D.prototype.nod=function(R,S,N){return this.node(R,S,N)},D.prototype.txt=function(R){return this.text(R)},D.prototype.dat=function(R){return this.cdata(R)},D.prototype.com=function(R){return this.comment(R)},D.prototype.ins=function(R,S){return this.instruction(R,S)},D.prototype.dec=function(R,S,N){return this.declaration(R,S,N)},D.prototype.dtd=function(R,S,N){return this.doctype(R,S,N)},D.prototype.e=function(R,S,N){return this.element(R,S,N)},D.prototype.n=function(R,S,N){return this.node(R,S,N)},D.prototype.t=function(R){return this.text(R)},D.prototype.d=function(R){return this.cdata(R)},D.prototype.c=function(R){return this.comment(R)},D.prototype.r=function(R){return this.raw(R)},D.prototype.i=function(R,S){return this.instruction(R,S)},D.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},D.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},D.prototype.ent=function(R,S){return this.entity(R,S)},D.prototype.pent=function(R,S){return this.pEntity(R,S)},D.prototype.not=function(R,S){return this.notation(R,S)},D})()}).call(t7e)),H2.exports}var G2={exports:{}},r7e=G2.exports,Aj;function i7e(){return Aj||(Aj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,_){for(var x in _)g.call(_,x)&&(y[x]=_[x]);function w(){this.constructor=y}return w.prototype=_.prototype,y.prototype=new w,y.__super__=_.prototype,y},g={}.hasOwnProperty;a=tT(),o=aT(),t=Zw(),e=eT(),c=Qw(),f=oT(),h=lT(),u=cT(),l=H6(),n=nT(),r=iT(),i=rT(),s=sT(),p=JY(),G2.exports=(function(y){v(_,y);function _(x,w){_.__super__.constructor.call(this,w),this.stream=x}return _.prototype.document=function(x){var w,C,D,R,S,N,k,F;for(N=x.children,C=0,R=N.length;C<R;C++)w=N[C],w.isLastRootNode=!1;for(x.children[x.children.length-1].isLastRootNode=!0,k=x.children,F=[],D=0,S=k.length;D<S;D++)if(w=k[D],!(w instanceof l))switch(!1){case!(w instanceof a):F.push(this.declaration(w));break;case!(w instanceof o):F.push(this.docType(w));break;case!(w instanceof e):F.push(this.comment(w));break;case!(w instanceof u):F.push(this.processingInstruction(w));break;default:F.push(this.element(w))}return F},_.prototype.attribute=function(x){return this.stream.write(" "+x.name+'="'+x.value+'"')},_.prototype.cdata=function(x,w){return this.stream.write(this.space(w)+"<![CDATA["+x.text+"]]>"+this.endline(x))},_.prototype.comment=function(x,w){return this.stream.write(this.space(w)+"<!-- "+x.text+" -->"+this.endline(x))},_.prototype.declaration=function(x,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+x.version+'"'),x.encoding!=null&&this.stream.write(' encoding="'+x.encoding+'"'),x.standalone!=null&&this.stream.write(' standalone="'+x.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(x))},_.prototype.docType=function(x,w){var C,D,R,S;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+x.root().name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(x)),S=x.children,D=0,R=S.length;D<R;D++)switch(C=S[D],!1){case!(C instanceof n):this.dtdAttList(C,w+1);break;case!(C instanceof r):this.dtdElement(C,w+1);break;case!(C instanceof i):this.dtdEntity(C,w+1);break;case!(C instanceof s):this.dtdNotation(C,w+1);break;case!(C instanceof t):this.cdata(C,w+1);break;case!(C instanceof e):this.comment(C,w+1);break;case!(C instanceof u):this.processingInstruction(C,w+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(x))},_.prototype.element=function(x,w){var C,D,R,S,N,k,F,P;w||(w=0),P=this.space(w),this.stream.write(P+"<"+x.name),k=x.attributes;for(N in k)g.call(k,N)&&(C=k[N],this.attribute(C));if(x.children.length===0||x.children.every(function(I){return I.value===""}))this.allowEmpty?this.stream.write("></"+x.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)this.stream.write(">"),this.stream.write(x.children[0].value),this.stream.write("</"+x.name+">");else{for(this.stream.write(">"+this.newline),F=x.children,R=0,S=F.length;R<S;R++)switch(D=F[R],!1){case!(D instanceof t):this.cdata(D,w+1);break;case!(D instanceof e):this.comment(D,w+1);break;case!(D instanceof c):this.element(D,w+1);break;case!(D instanceof f):this.raw(D,w+1);break;case!(D instanceof h):this.text(D,w+1);break;case!(D instanceof u):this.processingInstruction(D,w+1);break;case!(D instanceof l):break;default:throw new Error("Unknown XML node type: "+D.constructor.name)}this.stream.write(P+"</"+x.name+">")}return this.stream.write(this.endline(x))},_.prototype.processingInstruction=function(x,w){return this.stream.write(this.space(w)+"<?"+x.target),x.value&&this.stream.write(" "+x.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(x))},_.prototype.raw=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},_.prototype.text=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},_.prototype.dtdAttList=function(x,w){return this.stream.write(this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType),x.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+x.defaultValueType),x.defaultValue&&this.stream.write(' "'+x.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdElement=function(x,w){return this.stream.write(this.space(w)+"<!ELEMENT "+x.name+" "+x.value),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdEntity=function(x,w){return this.stream.write(this.space(w)+"<!ENTITY"),x.pe&&this.stream.write(" %"),this.stream.write(" "+x.name),x.value?this.stream.write(' "'+x.value+'"'):(x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.nData&&this.stream.write(" NDATA "+x.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.dtdNotation=function(x,w){return this.stream.write(this.space(w)+"<!NOTATION "+x.name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.pubID?this.stream.write(' PUBLIC "'+x.pubID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},_.prototype.endline=function(x){return x.isLastRootNode?"":this.newline},_})(p)}).call(r7e)),G2.exports}var Nj;function s7e(){return Nj||(Nj=1,(function(){var t,e,n,r,i,s,a;a=fd(),i=a.assign,s=a.isFunction,t=e7e(),e=n7e(),r=G6(),n=i7e(),Fd.create=function(o,l,c,u){var f,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},l,c,u),f=new t(u),h=f.element(o),u.headless||(f.declaration(u),(u.pubID!=null||u.sysID!=null)&&f.doctype(u)),h},Fd.begin=function(o,l,c){var u;return s(o)&&(u=[o,l],l=u[0],c=u[1],o={}),l?new e(o,l,c):new t(o)},Fd.stringWriter=function(o){return new r(o)},Fd.streamWriter=function(o,l){return new n(o,l)}}).call(Fd)),Fd}var kj;function a7e(){if(kj)return ZD;kj=1;var t=ii,e=s7e();ZD.writeString=n;function n(i,s){var a=t.invert(s),o={element:c,text:r};function l(h,p){return o[p.type](h,p)}function c(h,p){var v=h.element(u(p.name),p.attributes);p.children.forEach(function(g){l(v,g)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var v=a[p[1]];return v+(v===""?"":":")+p[2]}else return h}function f(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(s,function(v,g){var y="xmlns"+(g===""?"":":"+g);p.attribute(y,v)}),h.children.forEach(function(v){l(p,v)}),p.end()}return f(i)}function r(i,s){i.text(s.value)}return ZD}var Ij;function YY(){if(Ij)return Rd;Ij=1;var t=GY();return Rd.Element=t.Element,Rd.element=t.element,Rd.text=t.text,Rd.readString=F9e().readString,Rd.writeString=a7e().writeString,Rd}var Rj;function o7e(){if(Rj)return Xx;Rj=1;var t=ii,e=dd(),n=YY();Xx.read=i,Xx.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(l){return n.readString(l,r).then(function(c){return o(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=t.flatten(l.children.map(o,!0)),[l]):[l]}return Xx}var Qx={},So={},Zx={},Pj;function l7e(){if(Pj)return Zx;Pj=1,Object.defineProperty(Zx,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Zx.default=t,Zx}var Fj;function c7e(){if(Fj)return So;Fj=1;var t=So&&So.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(So,"__esModule",{value:!0}),So.hex=So.dec=So.codePoint=void 0;for(var e=t(l7e()),n={},r=String.fromCodePoint?String.fromCodePoint:h,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};n[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function c(p,v){return n[p.toUpperCase()+"_"+v]}So.codePoint=c;function u(p,v){return c(p,parseInt(v,10))}So.dec=u;function f(p,v){return c(p,parseInt(v,16))}So.hex=f;function h(p){if(p<=65535)return String.fromCharCode(p);var v=Math.floor((p-65536)/1024)+55296,g=(p-65536)%1024+56320;return String.fromCharCode(v,g)}return So}var e2={},Mj;function u7e(){if(Mj)return e2;Mj=1,e2.uriToZipEntryName=t,e2.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return e2}var Uj;function d7e(){if(Uj)return Qx;Uj=1,Qx.createBodyReader=a,Qx._readNumberingProperties=l;var t=c7e(),e=ii,n=hh(),r=_c().Result,i=_c().warning,s=u7e();function a(w){return{readXmlElement:function(C){return new o(w).readXmlElement(C)},readXmlElements:function(C){return new o(w).readXmlElements(C)}}}function o(w){var C=[],D=[],R=[],S=w.relationships,N=w.contentTypes,k=w.docxFile,F=w.files,P=w.numbering,I=w.styles;function U(Ce){var Me=Ce.map(O);return y(Me)}function O(Ce){if(Ce.type==="element"){var Me=Le[Ce.name];if(Me)return Me(Ce);if(!Object.prototype.hasOwnProperty.call(u,Ce.name)){var Oe=i("An unrecognised element was ignored: "+Ce.name);return f([Oe])}}return h()}function G(Ce){return Y(Ce).map(function(Me){return{type:"paragraphProperties",styleId:Me.styleId,styleName:Me.name,alignment:Ce.firstOrEmpty("w:jc").attributes["w:val"],numbering:l(Me.styleId,Ce.firstOrEmpty("w:numPr"),P),indent:K(Ce.firstOrEmpty("w:ind"))}})}function K(Ce){return{start:Ce.attributes["w:start"]||Ce.attributes["w:left"],end:Ce.attributes["w:end"]||Ce.attributes["w:right"],firstLine:Ce.attributes["w:firstLine"],hanging:Ce.attributes["w:hanging"]}}function J(Ce){return B(Ce).map(function(Me){var Oe=Ce.firstOrEmpty("w:sz").attributes["w:val"],Ke=/^[0-9]+$/.test(Oe)?parseInt(Oe,10)/2:null;return{type:"runProperties",styleId:Me.styleId,styleName:Me.name,verticalAlignment:Ce.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Ce.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Ke,isBold:z(Ce.first("w:b")),isUnderline:te(Ce.first("w:u")),isItalic:z(Ce.first("w:i")),isStrikethrough:z(Ce.first("w:strike")),isAllCaps:z(Ce.first("w:caps")),isSmallCaps:z(Ce.first("w:smallCaps"))}})}function te(Ce){if(Ce){var Me=Ce.attributes["w:val"];return Me!==void 0&&Me!=="false"&&Me!=="0"&&Me!=="none"}else return!1}function z(Ce){if(Ce){var Me=Ce.attributes["w:val"];return Me!=="false"&&Me!=="0"}else return!1}function Y(Ce){return q(Ce,"w:pStyle","Paragraph",I.findParagraphStyleById)}function B(Ce){return q(Ce,"w:rStyle","Run",I.findCharacterStyleById)}function j(Ce){return q(Ce,"w:tblStyle","Table",I.findTableStyleById)}function q(Ce,Me,Oe,Ke){var rt=[],it=Ce.first(Me),Ot=null,xn=null;if(it&&(Ot=it.attributes["w:val"],Ot)){var ln=Ke(Ot);ln?xn=ln.name:rt.push(Ue(Oe,Ot))}return v({styleId:Ot,name:xn},rt)}var X={type:"unknown"};function Q(Ce){var Me=Ce.attributes["w:fldCharType"];if(Me==="begin")C.push(X),D=[];else if(Me==="end")C.pop();else if(Me==="separate"){var Oe=ae(D.join("")),Ke=Oe===null?X:{type:"hyperlink",options:Oe};C.pop(),C.push(Ke)}return h()}function ee(){var Ce=e.last(C.filter(function(Me){return Me.type==="hyperlink"}));return Ce?Ce.options:null}function ae(Ce){var Me=/\s*HYPERLINK "(.*)"/.exec(Ce);if(Me)return{href:Me[1]};var Oe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Ce);return Oe?{anchor:Oe[1]}:null}function de(Ce){return D.push(Ce.text()),h()}function fe(Ce){var Me=Ce.attributes["w:font"],Oe=Ce.attributes["w:char"],Ke=t.hex(Me,Oe);return Ke==null&&/^F0..$/.test(Oe)&&(Ke=t.hex(Me,Oe.substring(2))),Ke==null?f([i("A w:sym element with an unsupported character was ignored: char "+Oe+" in font "+Me)]):p(new n.Text(Ke.string))}function Ne(Ce){return function(Me){var Oe=Me.attributes["w:id"];return p(new n.NoteReference({noteType:Ce,noteId:Oe}))}}function Re(Ce){return p(n.commentReference({commentId:Ce.attributes["w:id"]}))}function me(Ce){return U(Ce.children)}var Le={"w:p":function(Ce){var Me=Ce.firstOrEmpty("w:pPr"),Oe=!!Me.firstOrEmpty("w:rPr").first("w:del");if(Oe)return Ce.children.forEach(function(rt){R.push(rt)}),h();var Ke=Ce.children;return R.length>0&&(Ke=R.concat(Ke),R=[]),g.map(G(Me),U(Ke),function(rt,it){return new n.Paragraph(it,rt)}).insertExtra()},"w:r":function(Ce){return g.map(J(Ce.firstOrEmpty("w:rPr")),U(Ce.children),function(Me,Oe){var Ke=ee();return Ke!==null&&(Oe=[new n.Hyperlink(Oe,Ke)]),new n.Run(Oe,Me)})},"w:fldChar":Q,"w:instrText":de,"w:t":function(Ce){return p(new n.Text(Ce.text()))},"w:tab":function(Ce){return p(new n.Tab)},"w:noBreakHyphen":function(){return p(new n.Text(""))},"w:softHyphen":function(Ce){return p(new n.Text(""))},"w:sym":fe,"w:hyperlink":function(Ce){var Me=Ce.attributes["r:id"],Oe=Ce.attributes["w:anchor"];return U(Ce.children).map(function(Ke){function rt(Ot){var xn=Ce.attributes["w:tgtFrame"]||null;return new n.Hyperlink(Ke,e.extend({targetFrame:xn},Ot))}if(Me){var it=S.findTargetByRelationshipId(Me);return Oe&&(it=s.replaceFragment(it,Oe)),rt({href:it})}else return Oe?rt({anchor:Oe}):Ke})},"w:tbl":V,"w:tr":we,"w:tc":oe,"w:footnoteReference":Ne("footnote"),"w:endnoteReference":Ne("endnote"),"w:commentReference":Re,"w:br":function(Ce){var Me=Ce.attributes["w:type"];return Me==null||Me==="textWrapping"?p(n.lineBreak):Me==="page"?p(n.pageBreak):Me==="column"?p(n.columnBreak):f([i("Unsupported break type: "+Me)])},"w:bookmarkStart":function(Ce){var Me=Ce.attributes["w:name"];return Me==="_GoBack"?h():p(new n.BookmarkStart({name:Me}))},"mc:AlternateContent":function(Ce){return me(Ce.first("mc:Fallback"))},"w:sdt":function(Ce){return U(Ce.firstOrEmpty("w:sdtContent").children)},"w:ins":me,"w:object":me,"w:smartTag":me,"w:drawing":me,"w:pict":function(Ce){return me(Ce).toExtra()},"v:roundrect":me,"v:shape":me,"v:textbox":me,"w:txbxContent":me,"wp:inline":he,"wp:anchor":he,"v:imagedata":ye,"v:group":me,"v:rect":me};return{readXmlElement:O,readXmlElements:U};function V(Ce){var Me=ve(Ce.firstOrEmpty("w:tblPr"));return U(Ce.children).flatMap(le).flatMap(function(Oe){return Me.map(function(Ke){return n.Table(Oe,Ke)})})}function ve(Ce){return j(Ce).map(function(Me){return{styleId:Me.styleId,styleName:Me.name}})}function we(Ce){var Me=Ce.firstOrEmpty("w:trPr"),Oe=!!Me.first("w:tblHeader");return U(Ce.children).map(function(Ke){return n.TableRow(Ke,{isHeader:Oe})})}function oe(Ce){return U(Ce.children).map(function(Me){var Oe=Ce.firstOrEmpty("w:tcPr"),Ke=Oe.firstOrEmpty("w:gridSpan").attributes["w:val"],rt=Ke?parseInt(Ke,10):1,it=n.TableCell(Me,{colSpan:rt});return it._vMerge=re(Oe),it})}function re(Ce){var Me=Ce.first("w:vMerge");if(Me){var Oe=Me.attributes["w:val"];return Oe==="continue"||!Oe}else return null}function le(Ce){var Me=e.any(Ce,function(rt){return rt.type!==n.types.tableRow});if(Me)return v(Ce,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Oe=e.any(Ce,function(rt){return e.any(rt.children,function(it){return it.type!==n.types.tableCell})});if(Oe)return v(Ce,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Ke={};return Ce.forEach(function(rt){var it=0;rt.children.forEach(function(Ot){Ot._vMerge&&Ke[it]?Ke[it].rowSpan++:(Ke[it]=Ot,Ot._vMerge=!1),it+=Ot.colSpan})}),Ce.forEach(function(rt){rt.children=rt.children.filter(function(it){return!it._vMerge}),rt.children.forEach(function(it){delete it._vMerge})}),p(Ce)}function he(Ce){var Me=Ce.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return y(Me.map(_e.bind(null,Ce)))}function _e(Ce,Me){var Oe=Ce.first("wp:docPr").attributes,Ke=ie(Oe.descr)?Oe.title:Oe.descr,rt=ce(Me);return rt===null?f([i("Could not find image file for a:blip element")]):ke(rt,Ke)}function ie(Ce){return Ce==null||/^\s*$/.test(Ce)}function ce(Ce){var Me=Ce.attributes["r:embed"],Oe=Ce.attributes["r:link"];if(Me)return xe(Me);if(Oe){var Ke=S.findTargetByRelationshipId(Oe);return{path:Ke,read:F.read.bind(F,Ke)}}else return null}function ye(Ce){var Me=Ce.attributes["r:id"];return Me?ke(xe(Me),Ce.attributes["o:title"]):f([i("A v:imagedata element without a relationship ID was ignored")])}function xe(Ce){var Me=s.uriToZipEntryName("word",S.findTargetByRelationshipId(Ce));return{path:Me,read:k.read.bind(k,Me)}}function ke(Ce,Me){var Oe=N.findContentType(Ce.path),Ke=n.Image({readImage:Ce.read,altText:Me,contentType:Oe}),rt=c[Oe]?[]:i("Image of type "+Oe+" is unlikely to display in web browsers");return v(Ke,rt)}function Ue(Ce,Me){return i(Ce+" style with ID "+Me+" was referenced but not defined in the document")}}function l(w,C,D){var R=C.firstOrEmpty("w:ilvl").attributes["w:val"],S=C.firstOrEmpty("w:numId").attributes["w:val"];if(R!==void 0&&S!==void 0)return D.findLevel(S,R);if(w!=null){var N=D.findLevelByParagraphStyleId(w);if(N!=null)return N}return null}var c={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(w){return new g(null,null,w)}function h(){return new g(null)}function p(w){return new g(w)}function v(w,C){return new g(w,null,C)}function g(w,C,D){this.value=w||[],this.extra=C||[],this._result=new r({element:this.value,extra:C},D),this.messages=this._result.messages}g.prototype.toExtra=function(){return new g(null,_(this.extra,this.value),this.messages)},g.prototype.insertExtra=function(){var w=this.extra;return w&&w.length?new g(_(this.value,w),null,this.messages):this},g.prototype.map=function(w){var C=this._result.map(function(D){return w(D.element)});return new g(C.value,this.extra,C.messages)},g.prototype.flatMap=function(w){var C=this._result.flatMap(function(D){return w(D.element)._result});return new g(C.value.element,_(this.extra,C.value.extra),C.messages)},g.map=function(w,C,D){return new g(D(w.value,C.value),_(w.extra,C.extra),w.messages.concat(C.messages))};function y(w){var C=r.combine(e.pluck(w,"_result"));return new g(e.flatten(e.pluck(C.value,"element")),e.filter(e.flatten(e.pluck(C.value,"extra")),x),C.messages)}function _(w,C){return e.flatten([w,C])}function x(w){return w}return Qx}var e4={},Oj;function f7e(){if(Oj)return e4;Oj=1,e4.DocumentXmlReader=n;var t=hh(),e=_c().Result;function n(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(c){return new t.Document(c,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return e4}var u0={},Lj;function h7e(){if(Lj)return u0;Lj=1,u0.readRelationships=t,u0.defaultValue=new e([]),u0.Relationships=e;function t(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(n){var r={};n.forEach(function(s){r[s.relationshipId]=s.target});var i={};return n.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return u0}var t2={},jj;function p7e(){if(jj)return t2;jj=1,t2.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};t2.defaultContentTypes=n({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),n(s,i)}function n(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var c=t[l.toLowerCase()];return c?"image/"+c:null}}}return t2}var d0={},Bj;function m7e(){if(Bj)return d0;Bj=1;var t=ii;d0.readNumberingXml=n,d0.Numbering=e,d0.defaultNumbering=new e({},{});function e(a,o,l){var c=t.flatten(t.values(o).map(function(p){return t.values(p.levels)})),u=t.indexBy(c.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function f(p,v){var g=a[p];if(g){var y=o[g.abstractNumId];if(y){if(y.numStyleLink==null)return o[g.abstractNumId].levels[v];var _=l.findNumberingStyleById(y.numStyleLink);return f(_.numId,v)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:f,findLevelByParagraphStyleId:h}}function n(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),c=s(a);return new e(c,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];o[c]=i(l)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(c){var u=c.attributes["w:ilvl"],f=c.firstOrEmpty("w:numFmt").attributes["w:val"],h=c.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:f!=="bullet",level:u,paragraphStyleId:h}});var l=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],u=l.first("w:abstractNumId").attributes["w:val"];o[c]={abstractNumId:u}}),o}return d0}var f0={},Vj;function g7e(){if(Vj)return f0;Vj=1,f0.readStylesXml=e,f0.Styles=t,f0.defaultStyles=new t({},{});function t(s,a,o,l){return{findParagraphStyleById:function(c){return s[c]},findCharacterStyleById:function(c){return a[c]},findTableStyleById:function(c){return o[c]},findNumberingStyleById:function(c){return l[c]}}}t.EMPTY=new t({},{},{},{});function e(s){var a={},o={},l={},c={},u={paragraph:a,character:o,table:l};return s.getElementsByTagName("w:style").forEach(function(f){var h=n(f);if(h.type==="numbering")c[h.styleId]=i(f);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new t(a,o,l,c)}function n(s){var a=s.attributes["w:type"],o=s.attributes["w:styleId"],l=r(s);return{type:a,styleId:o,name:l}}function r(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return f0}var lp={},Wj;function y7e(){if(Wj)return lp;Wj=1;var t=hh(),e=_c().Result;lp.createFootnotesReader=n.bind(lp,"footnote"),lp.createEndnotesReader=n.bind(lp,"endnote");function n(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(u){return t.Note({noteType:r,noteId:c,body:u})})}return s}return lp}var t4={},qj;function v7e(){if(qj)return t4;qj=1;var t=hh(),e=_c().Result;function n(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(c){return(a.attributes[c]||"").trim()||null}return r.readXmlElements(a.children).map(function(c){return t.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return t4.createCommentsReader=n,t4}var n4={},$j;function x7e(){if($j)return n4;$j=1;var t=dd();n4.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return n4}var zj;function b7e(){if(zj)return Hx;zj=1,Hx.read=v,Hx._findPartPaths=g;var t=dd(),e=hh(),n=_c().Result,r=HY(),i=o7e().readXmlFromZipFile,s=d7e().createBodyReader,a=f7e().DocumentXmlReader,o=h7e(),l=p7e(),c=m7e(),u=g7e(),f=y7e(),h=v7e(),p=x7e().Files;function v(k,F){return F=F||{},t.props({contentTypes:D(k),partPaths:g(k),docxFile:k,files:F.path?p.relativeToFile(F.path):new p(null)}).also(function(P){return{styles:S(k,P.partPaths.styles)}}).also(function(P){return{numbering:R(k,P.partPaths.numbering,P.styles)}}).also(function(P){return{footnotes:w(P.partPaths.footnotes,P,function(I,U){return U?f.createFootnotesReader(I)(U):new n([])}),endnotes:w(P.partPaths.endnotes,P,function(I,U){return U?f.createEndnotesReader(I)(U):new n([])}),comments:w(P.partPaths.comments,P,function(I,U){return U?h.createCommentsReader(I)(U):new n([])})}}).also(function(P){return{notes:P.footnotes.flatMap(function(I){return P.endnotes.map(function(U){return new e.Notes(I.concat(U))})})}}).then(function(P){return w(P.partPaths.mainDocument,P,function(I,U){return P.notes.flatMap(function(O){return P.comments.flatMap(function(G){var K=new a({bodyReader:I,notes:O,comments:G});return K.convertXmlToDocument(U)})})})})}function g(k){return N(k).then(function(F){var P=y({docxFile:k,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!k.exists(P))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return x({filename:C(P),readElement:o.readRelationships,defaultValue:o.defaultValue})(k).then(function(I){function U(O){return y({docxFile:k,relationships:I,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+O,basePath:r.splitPath(P).dirname,fallbackPath:"word/"+O+".xml"})}return{mainDocument:P,comments:U("comments"),endnotes:U("endnotes"),footnotes:U("footnotes"),numbering:U("numbering"),styles:U("styles")}})})}function y(k){var F=k.docxFile,P=k.relationships,I=k.relationshipType,U=k.basePath,O=k.fallbackPath,G=P.findTargetsByType(I),K=G.map(function(te){return _(r.joinPath(U,te),"/")}),J=K.filter(function(te){return F.exists(te)});return J.length===0?O:J[0]}function _(k,F){return k.substring(0,F.length)===F?k.substring(F.length):k}function x(k){return function(F){return i(F,k.filename).then(function(P){return P?k.readElement(P):k.defaultValue})}}function w(k,F,P){var I=x({filename:C(k),readElement:o.readRelationships,defaultValue:o.defaultValue});return I(F.docxFile).then(function(U){var O=new s({relationships:U,contentTypes:F.contentTypes,docxFile:F.docxFile,numbering:F.numbering,styles:F.styles,files:F.files});return i(F.docxFile,k).then(function(G){return P(O,G)})})}function C(k){var F=r.splitPath(k);return r.joinPath(F.dirname,"_rels",F.basename+".rels")}var D=x({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function R(k,F,P){return x({filename:F,readElement:function(I){return c.readNumberingXml(I,{styles:P})},defaultValue:c.defaultNumbering})(k)}function S(k,F){return x({filename:F,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(k)}var N=x({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return Hx}var n2={},Hj;function _7e(){if(Hj)return n2;Hj=1;var t=ii,e=dd(),n=YY();n2.writeStyleMap=a,n2.readStyleMap=u;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(f,h){return f.write(i,h),o(f).then(function(){return l(f)})}function o(f){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+p+"}Relationship";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var _={"":p};return f.write(h,n.writeString(g,_))})}function l(f){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+p+"}Override";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var _={"":p};return f.write(h,n.writeString(g,_))})}function c(f,h,p,v){var g=t.find(f,function(y){return y.name===h&&y.attributes[p]===v[p]});g?g.attributes=v:f.push(n.element(h,v))}function u(f){return f.exists(i)?f.read(i,"utf8"):e.resolve(null)}return n2}var r2={},Md={},Xl={},lu={},Gj;function QY(){if(Gj)return lu;Gj=1;var t=dT();function e(l,c,u){return r(t.element(l,c,{fresh:!1}),u)}function n(l,c,u){var f=t.element(l,c,{fresh:!0});return r(f,u)}function r(l,c){return{type:"element",tag:l,children:c||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};lu.freshElement=n,lu.nonFreshElement=e,lu.elementWithTag=r,lu.text=i,lu.forceWrite=s;var a={br:!0,hr:!0,img:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return lu.isVoidElement=o,lu}var r4,Kj;function w7e(){if(Kj)return r4;Kj=1;var t=ii,e=QY();function n(g){return r(c(g))}function r(g){var y=[];return g.map(i).forEach(function(_){l(y,_)}),y}function i(g){return s[g.type](g)}var s={element:a,text:o,forceWrite:o};function a(g){return e.elementWithTag(g.tag,r(g.children))}function o(g){return g}function l(g,y){var _=g[g.length-1];y.type==="element"&&!y.tag.fresh&&_&&_.type==="element"&&y.tag.matchesElement(_.tag)?(y.tag.separator&&l(_.children,e.text(y.tag.separator)),y.children.forEach(function(x){l(_.children,x)})):g.push(y)}function c(g){return u(g,function(y){return f[y.type](y)})}function u(g,y){return t.flatten(t.map(g,y),!0)}var f={element:p,text:v,forceWrite:h};function h(g){return[g]}function p(g){var y=c(g.children);return y.length===0&&!e.isVoidElement(g)?[]:[e.elementWithTag(g.tag,y)]}function v(g){return g.value.length===0?[]:[g]}return r4=n,r4}var Xj;function uT(){if(Xj)return Xl;Xj=1;var t=QY();Xl.freshElement=t.freshElement,Xl.nonFreshElement=t.nonFreshElement,Xl.elementWithTag=t.elementWithTag,Xl.text=t.text,Xl.forceWrite=t.forceWrite,Xl.simplify=w7e();function e(a,o){o.forEach(function(l){n(a,l)})}function n(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){t.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return Xl.write=e,Xl}var Jj;function dT(){if(Jj)return Md;Jj=1;var t=ii,e=uT();Md.topLevelElement=n,Md.elements=r,Md.element=s;function n(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return t.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(o,l,c){return c=c||{},new a(o,l,c)}function a(o,l,c){var u={};t.isArray(o)?(o.forEach(function(f){u[f]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Md.empty=r([]),Md.ignore={wrap:function(){return[]}},Md}var i4={},Yj;function ZY(){return Yj||(Yj=1,(function(t){var e=ii,n=dd(),r=uT();t.imgElement=i;function i(s){return function(a,o){return n.when(s(a)).then(function(l){var c={};return a.altText&&(c.alt=a.altText),e.extend(c,l),[r.freshElement("img",c)]})}}t.inline=t.imgElement,t.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})(i4)),i4}var s4={},a4={},Qj;function T7e(){if(Qj)return a4;Qj=1;var t=ii;a4.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",c=[],u=!0,f=!1,h=i();function p(D,R){n[D]&&w(),c.push(D),h.open(D,R),n[D]&&o++,u=!1}function v(D){n[D]&&(o--,w()),c.pop(),h.close(D)}function g(D){x();var R=C()?D:D.replace(`
`,`
`+l);h.text(R)}function y(D,R){w(),h.selfClosing(D,R)}function _(){return c.length===0||n[c[c.length-1]]}function x(){f||(w(),f=!0)}function w(){if(f=!1,!u&&_()&&!C()){h._append(`
`);for(var D=0;D<o;D++)h._append(l)}}function C(){return t.some(c,function(D){return D==="pre"})}return{asString:h.asString,open:p,close:v,text:g,selfClosing:y}}function i(){var o=[];function l(g,y){var _=f(y);o.push("<"+g+_+">")}function c(g){o.push("</"+g+">")}function u(g,y){var _=f(y);o.push("<"+g+_+" />")}function f(g){return t.map(g,function(y,_){return" "+_+'="'+a(y)+'"'}).join("")}function h(g){o.push(s(g))}function p(g){o.push(g)}function v(){return o.join("")}return{asString:v,open:l,close:c,text:h,selfClosing:u,_append:p}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return a4}var o4={},Zj;function E7e(){if(Zj)return o4;Zj=1;var t=ii;function e(f){return n(f,f)}function n(f,h){return function(){return{start:f,end:h}}}function r(f){var h=f.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(f){var h=f.src||"",p=f.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function s(f){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:f.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(f,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var v=h.isOrdered?h.count+".":"-",g=l("	",h.indent)+v+" ";return{start:g,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:n("",`

`),br:n("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var f=1;f<=6;f++)o["h"+f]=n(l("#",f)+" ",`

`)})();function l(f,h){return new Array(h+1).join(f)}function c(){var f=[],h=[],p=null,v={};function g(D,R){R=R||{};var S=o[D]||function(){return{}},N=S(R,p,v);h.push({end:N.end,list:p}),N.list&&(p=N.list);var k=N.anchorPosition==="before";k&&y(R),f.push(N.start||""),k||y(R)}function y(D){D.id&&f.push('<a id="'+D.id+'"></a>')}function _(D){var R=h.pop();p=R.list;var S=t.isFunction(R.end)?R.end():R.end;f.push(S||"")}function x(D,R){g(D,R),_()}function w(D){f.push(u(D))}function C(){return f.join("")}return{asString:C,open:g,close:_,text:w,selfClosing:x}}o4.writer=c;function u(f){return f.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return o4}var eB;function C7e(){if(eB)return s4;eB=1;var t=T7e(),e=E7e();s4.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return s4}var tB;function S7e(){if(tB)return r2;tB=1;var t=ii,e=dd(),n=hh(),r=dT(),i=_c(),s=ZY(),a=uT(),o=C7e();r2.DocumentConverter=l;function l(y){return{convertToHtml:function(_){var x=t.indexBy(_.type===n.types.document?_.comments:[],"commentId"),w=new c(y,x);return w.convertToHtml(_)}}}function c(y,_){var x=1,w=[],C=[];y=t.extend({ignoreEmptyParagraphs:!0},y);var D=y.idPrefix===void 0?"":y.idPrefix,R=y.ignoreEmptyParagraphs,S=r.topLevelElement("p"),N=y.styleMap||[];function k(V){var ve=[],we=P(V,ve,{}),oe=[];v(we,function(le){le.type==="deferred"&&oe.push(le)});var re={};return e.mapSeries(oe,function(le){return le.value().then(function(he){re[le.id]=he})}).then(function(){function le(_e){return p(_e,function(ie){return ie.type==="deferred"?re[ie.id]:ie.children?[t.extend({},ie,{children:le(ie.children)})]:[ie]})}var he=o.writer({prettyPrint:y.prettyPrint,outputFormat:y.outputFormat});return a.write(he,a.simplify(le(we))),new i.Result(he.asString(),ve)})}function F(V,ve,we){return p(V,function(oe){return P(oe,ve,we)})}function P(V,ve,we){if(!we)throw new Error("options not set");var oe=Le[V.type];return oe?oe(V,ve,we):[]}function I(V,ve,we){return U(V,ve).wrap(function(){var oe=F(V.children,ve,we);return R?oe:[a.forceWrite].concat(oe)})}function U(V,ve){var we=J(V);return we?we.to:(V.styleId&&ve.push(h("paragraph",V)),S)}function O(V,ve,we){var oe=function(){return F(V.children,ve,we)},re=[];V.isSmallCaps&&re.push(G("smallCaps")),V.isAllCaps&&re.push(G("allCaps")),V.isStrikethrough&&re.push(G("strikethrough","s")),V.isUnderline&&re.push(G("underline")),V.verticalAlignment===n.verticalAlignment.subscript&&re.push(r.element("sub",{},{fresh:!1})),V.verticalAlignment===n.verticalAlignment.superscript&&re.push(r.element("sup",{},{fresh:!1})),V.isItalic&&re.push(G("italic","em")),V.isBold&&re.push(G("bold","strong"));var le=r.empty,he=J(V);return he?le=he.to:V.styleId&&ve.push(h("run",V)),re.push(le),re.forEach(function(_e){oe=_e.wrap.bind(_e,oe)}),oe()}function G(V,ve){var we=K({type:V});return we||(ve?r.element(ve,{},{fresh:!1}):r.empty)}function K(V,ve){var we=J(V);return we?we.to:ve}function J(V){for(var ve=0;ve<N.length;ve++)if(N[ve].from.matches(V))return N[ve]}function te(V){return function(ve,we){return e.attempt(function(){return V(ve,we)}).caught(function(oe){return we.push(i.error(oe)),[]})}}function z(V){return B(V.noteType,V.noteId)}function Y(V){return j(V.noteType,V.noteId)}function B(V,ve){return q(V+"-"+ve)}function j(V,ve){return q(V+"-ref-"+ve)}function q(V){return D+V}var X=r.elements([r.element("table",{},{fresh:!0})]);function Q(V,ve,we){return K(V,X).wrap(function(){return ee(V,ve,we)})}function ee(V,ve,we){var oe=t.findIndex(V.children,function(_e){return!_e.type===n.types.tableRow||!_e.isHeader});oe===-1&&(oe=V.children.length);var re;if(oe===0)re=F(V.children,ve,t.extend({},we,{isTableHeader:!1}));else{var le=F(V.children.slice(0,oe),ve,t.extend({},we,{isTableHeader:!0})),he=F(V.children.slice(oe),ve,t.extend({},we,{isTableHeader:!1}));re=[a.freshElement("thead",{},le),a.freshElement("tbody",{},he)]}return[a.forceWrite].concat(re)}function ae(V,ve,we){var oe=F(V.children,ve,we);return[a.freshElement("tr",{},[a.forceWrite].concat(oe))]}function de(V,ve,we){var oe=we.isTableHeader?"th":"td",re=F(V.children,ve,we),le={};return V.colSpan!==1&&(le.colspan=V.colSpan.toString()),V.rowSpan!==1&&(le.rowspan=V.rowSpan.toString()),[a.freshElement(oe,le,[a.forceWrite].concat(re))]}function fe(V,ve,we){return K(V,r.ignore).wrap(function(){var oe=_[V.commentId],re=C.length+1,le="["+g(oe)+re+"]";return C.push({label:le,comment:oe}),[a.freshElement("a",{href:"#"+B("comment",V.commentId),id:j("comment",V.commentId)},[a.text(le)])]})}function Ne(V,ve,we){var oe=V.label,re=V.comment,le=F(re.body,ve,we).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+j("comment",re.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:B("comment",re.commentId)},[a.text("Comment "+oe)]),a.freshElement("dd",{},le)]}function Re(V,ve,we){return me(V).wrap(function(){return[]})}function me(V){var ve=J(V);return ve?ve.to:V.breakType==="line"?r.topLevelElement("br"):r.empty}var Le={document:function(V,ve,we){var oe=F(V.children,ve,we),re=w.map(function(he){return V.notes.resolve(he)}),le=F(re,ve,we);return oe.concat([a.freshElement("ol",{},le),a.freshElement("dl",{},p(C,function(he){return Ne(he,ve,we)}))])},paragraph:I,run:O,text:function(V,ve,we){return[a.text(V.value)]},tab:function(V,ve,we){return[a.text("	")]},hyperlink:function(V,ve,we){var oe=V.anchor?"#"+q(V.anchor):V.href,re={href:oe};V.targetFrame!=null&&(re.target=V.targetFrame);var le=F(V.children,ve,we);return[a.nonFreshElement("a",re,le)]},bookmarkStart:function(V,ve,we){var oe=a.freshElement("a",{id:q(V.name)},[a.forceWrite]);return[oe]},noteReference:function(V,ve,we){w.push(V);var oe=a.freshElement("a",{href:"#"+z(V),id:Y(V)},[a.text("["+x+++"]")]);return[a.freshElement("sup",{},[oe])]},note:function(V,ve,we){var oe=F(V.body,ve,we),re=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+Y(V)},[a.text("")])]),le=oe.concat([re]);return a.freshElement("li",{id:z(V)},le)},commentReference:fe,comment:Ne,image:f(te(y.convertImage||s.dataUri)),table:Q,tableRow:ae,tableCell:de,break:Re};return{convertToHtml:k}}var u=1;function f(y){return function(_,x,w){return[{type:"deferred",id:u++,value:function(){return y(_,x,w)}}]}}function h(y,_){return i.warning("Unrecognised "+y+" style: '"+_.styleName+"' (Style ID: "+_.styleId+")")}function p(y,_){return t.flatten(y.map(_),!0)}function v(y,_){y.forEach(function(x){_(x),x.children&&v(x.children,_)})}var g=r2.commentAuthorLabel=function(_){return _.authorInitials||""};return r2}var l4={},nB;function D7e(){if(nB)return l4;nB=1;var t=hh();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return l4.convertElementToRawText=e,l4}var h0={},Do={},c4={},u4={exports:{}},rB;function A7e(){if(rB)return u4.exports;rB=1;var t=u4.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},u4.exports}var iB;function N7e(){if(iB)return c4;iB=1;var t=A7e();return c4.Parser=function(e){var n=function(r,i){return r(new t(i))};return{parseTokens:n}},c4}var d4={},f4={},sB;function k7e(){return sB||(sB=1,(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}})(f4)),f4}var h4,aB;function K6(){if(aB)return h4;aB=1,h4={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},h4}var p4={},oB;function eQ(){if(oB)return p4;oB=1,p4.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},p4}var m4={},lB;function I7e(){if(lB)return m4;lB=1,m4.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)s=n.next(),i=e(s)};return new t({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},m4}var cB;function tQ(){return cB||(cB=1,(function(t){var e=ii,n=k7e(),r=K6(),i=eQ(),s=I7e();t.token=function(h,p){var v=p!==void 0;return function(g){var y=g.head();if(y&&y.name===h&&(!v||y.value===p))return r.success(y.value,g.tail(),y.source);var _=u({name:h,value:p});return f(g,_)}},t.tokenOfType=function(h){return t.token(h)},t.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(p).map(function(g){return g(v)}).filter(function(g){return g.isSuccess()||g.isError()}).first()||f(v,h)}},t.then=function(h,p){return function(v){var g=h(v);return g.map||console.log(g),g.map(p)}},t.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(g){var y=e.foldl(h,function(x,w){var C=x.result,D=x.hasCut;if(!C.isSuccess())return{result:C,hasCut:D};var R=w(C.remaining());if(R.isCut())return{result:C,hasCut:!0};if(R.isSuccess()){var S;w.isCaptured?S=C.value().withValue(w,R.value()):S=C.value();var N=R.remaining(),k=g.to(N);return{result:r.success(S,N,k),hasCut:D}}else return D?{result:r.error(R.errors(),R.remaining()),hasCut:D}:{result:R,hasCut:D}},{result:r.success(new a,g),hasCut:!1}).result,_=g.to(y.remaining());return y.map(function(x){return x.withValue(t.sequence.source,_)})};p.head=function(){var g=e.find(h,v);return t.then(p,t.sequence.extract(g))},p.map=function(g){return t.then(p,function(y){return g.apply(this,y.toArray())})};function v(g){return g.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var v=e.clone(this._values);v[h.captureName]=p;var g=this._valuesArray.concat([p]);return new a(v,g)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(h,p){var v=function(){return h.apply(this,arguments)};return v.captureName=p,v.isCaptured=!0,v},t.sequence.extract=function(h){return function(p){return p.get(h)}},t.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(v){var g=p.map(function(y){return v.get(y)});return h.apply(this,g)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(h){return r.cut(h)}},t.optional=function(h){return function(p){var v=h(p);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,p):v}},t.zeroOrMoreWithSeparator=function(h,p){return c(h,p,!1)},t.oneOrMoreWithSeparator=function(h,p){return c(h,p,!0)};var o=t.zeroOrMore=function(h){return function(p){for(var v=[],g;(g=h(p))&&g.isSuccess();)p=g.remaining(),v.push(g.value());return g.isError()?g:r.success(v,p)}};t.oneOrMore=function(h){return t.oneOrMoreWithSeparator(h,l)};function l(h){return r.success(null,h)}var c=function(h,p,v){return function(g){var y=h(g);if(y.isSuccess()){var _=t.sequence.capture(h,"main"),x=o(t.then(t.sequence(p,_),t.sequence.extract(_))),w=x(y.remaining());return r.success([y.value()].concat(w.value()),w.remaining())}else return v||y.isError()?y:r.success([],g)}};t.leftAssociative=function(h,p,v){var g;v?g=[{func:v,rule:p}]:g=p,g=g.map(function(_){return t.then(_.rule,function(x){return function(w,C){return _.func(w,x,C)}})});var y=t.firstOf.apply(null,["rules"].concat(g));return function(_){var x=_,w=h(_);if(!w.isSuccess())return w;for(var C=y(w.remaining());C.isSuccess();){var D=C.remaining(),R=x.to(C.remaining()),S=C.value();w=r.success(S(w.value(),R),D,R),C=y(w.remaining())}return C.isError()?C:w}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var v,g=h.head();return g?v=i.error({expected:p,actual:u(g),location:g.source}):v=i.error({expected:p,actual:"end of tokens"}),r.failure([v],h)}})(d4)),d4}var g4={exports:{}},uB;function nQ(){if(uB)return g4.exports;uB=1,g4.exports=function(e,n){var r={asString:function(){return e},range:function(i,s){return new t(e,n,i,s)}};return r};var t=function(e,n,r,i){this._string=e,this._description=n,this._startIndex=r,this._endIndex=i};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var s=this._startIndex-n+1;return{lineNumber:i,characterNumber:s}},g4.exports}var y4,dB;function rQ(){return dB||(dB=1,y4=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),y4}var v4={},fB;function R7e(){return fB||(fB=1,(function(t){var e=tQ(),n=K6();t.parser=function(s,a,o){var l={rule:h,leftAssociative:p,rightAssociative:v},c=new r(o.map(f)),u=e.firstOf(s,a);function f(_){return{name:_.name,rule:i(_.ruleBuilder.bind(null,l))}}function h(){return g(c)}function p(_){return g(c.untilExclusive(_))}function v(_){return g(c.untilInclusive(_))}function g(_){return y.bind(null,_)}function y(_,x){var w=u(x);return w.isSuccess()?_.apply(w):w}return l};function r(s){function a(f){return new r(s.slice(0,l().indexOf(f)))}function o(f){return new r(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function c(f){for(var h,p;;)if(h=u(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function u(f){return e.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:c,untilExclusive:a,untilInclusive:o}}t.infix=function(s,a){function o(l){return t.infix(s,function(c){var u=a(c);return function(f){var h=u(f);return h.map(function(p){return function(v,g){return l(v,p,g)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}})(v4)),v4}var x4={},hB;function P7e(){if(hB)return x4;hB=1;var t=rQ(),e=nQ();x4.RegexTokeniser=n;function n(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var c=new e(o,l),u=0,f=[];u<o.length;){var h=s(o,u,c);u=h.endIndex,f.push(h.token)}return f.push(a(o,c)),f}function s(o,l,c){for(var u=0;u<r.length;u++){var f=r[u].regex;f.lastIndex=l;var h=f.exec(o);if(h){var v=l+h[0].length;if(h.index===l&&v>l){var p=h[1],g=new t(r[u].name,p,c.range(l,v));return{token:g,endIndex:v}}}}var v=l+1,g=new t("unrecognisedCharacter",o.substring(l,v),c.range(l,v));return{token:g,endIndex:v}}function a(o,l){return new t("end",null,l.range(o.length,o.length))}return{tokenise:i}}return x4}var pB;function iQ(){return pB||(pB=1,Do.Parser=N7e().Parser,Do.rules=tQ(),Do.errors=eQ(),Do.results=K6(),Do.StringSource=nQ(),Do.Token=rQ(),Do.bottomUp=R7e(),Do.RegexTokeniser=P7e().RegexTokeniser,Do.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),Do}var Hi={},mB;function F7e(){if(mB)return Hi;mB=1,Hi.paragraph=t,Hi.run=e,Hi.table=n,Hi.bold=new r("bold"),Hi.italic=new r("italic"),Hi.underline=new r("underline"),Hi.strikethrough=new r("strikethrough"),Hi.allCaps=new r("allCaps"),Hi.smallCaps=new r("smallCaps"),Hi.commentReference=new r("commentReference"),Hi.lineBreak=new r("break",{breakType:"line"}),Hi.pageBreak=new r("break",{breakType:"page"}),Hi.columnBreak=new r("break",{breakType:"column"}),Hi.equalTo=s,Hi.startsWith=a;function t(c){return new r("paragraph",c)}function e(c){return new r("run",c)}function n(c){return new r("table",c)}function r(c,u){u=u||{},this._elementType=c,this._styleId=u.styleId,this._styleName=u.styleName,u.list&&(this._listIndex=u.list.levelIndex,this._listIsOrdered=u.list.isOrdered)}r.prototype.matches=function(c){return c.type===this._elementType&&(this._styleId===void 0||c.styleId===this._styleId)&&(this._styleName===void 0||c.styleName&&this._styleName.operator(this._styleName.operand,c.styleName))&&(this._listIndex===void 0||i(c,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===c.breakType)};function i(c,u,f){return c.numbering&&c.numbering.level==u&&c.numbering.isOrdered==f}function s(c){return{operator:o,operand:c}}function a(c){return{operator:l,operand:c}}function o(c,u){return c.toUpperCase()===u.toUpperCase()}function l(c,u){return u.toUpperCase().indexOf(c.toUpperCase())===0}return Hi}var b4={},gB;function M7e(){if(gB)return b4;gB=1;var t=iQ(),e=t.RegexTokeniser;b4.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return b4}var yB;function U7e(){if(yB)return h0;yB=1;var t=ii,e=iQ(),n=F7e(),r=dT(),i=M7e().tokenise,s=_c();h0.readHtmlPath=u,h0.readDocumentMatcher=l,h0.readStyle=a;function a(N){return C(S,N)}function o(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(f())).head())),e.rules.tokenOfType("end")).map(function(N,k){return{from:N,to:k.valueOrElse(r.empty)}})}function l(N){return C(c(),N)}function c(){var N=e.rules.sequence,k=function(fe,Ne){return e.rules.then(e.rules.token("identifier",fe),function(){return Ne})},F=k("p",n.paragraph),P=k("r",n.run),I=e.rules.firstOf("p or r or table",F,P),U=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(fe){return{styleId:fe}}),O=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(fe){return{styleName:n.equalTo(fe)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(fe){return{styleName:n.startsWith(fe)}})),G=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(O),e.rules.tokenOfType("close-square-bracket")).head(),K=e.rules.firstOf("list type",k("ordered-list",{isOrdered:!0}),k("unordered-list",{isOrdered:!1})),J=N(e.rules.tokenOfType("colon"),N.capture(K),N.cut(),e.rules.tokenOfType("open-paren"),N.capture(p),e.rules.tokenOfType("close-paren")).map(function(fe,Ne){return{list:{isOrdered:fe.isOrdered,levelIndex:Ne-1}}});function te(fe){var Ne=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(fe)),Re=e.rules.zeroOrMore(Ne);return e.rules.then(Re,function(me){var Le={};return me.forEach(function(V){t.extend(Le,V)}),Le})}var z=N(N.capture(I),N.capture(te([U,G,J]))).map(function(fe,Ne){return fe(Ne)}),Y=N(e.rules.token("identifier","table"),N.capture(te([U,G]))).map(function(fe){return n.table(fe)}),B=k("b",n.bold),j=k("i",n.italic),q=k("u",n.underline),X=k("strike",n.strikethrough),Q=k("all-caps",n.allCaps),ee=k("small-caps",n.smallCaps),ae=k("comment-reference",n.commentReference),de=N(e.rules.token("identifier","br"),N.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),N.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(fe){switch(fe){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",z,Y,B,j,q,X,Q,ee,ae,de)}function u(N){return C(f(),N)}function f(){var N=e.rules.sequence.capture,k=e.rules.tokenOfType("whitespace"),F=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(O){return O.map(function(){return!0}).valueOrElse(!1)}),P=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),N(v),e.rules.tokenOfType("close-paren")).head()),function(O){return O.valueOrElse("")}),I=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),U=e.rules.sequence(N(I),N(e.rules.zeroOrMore(w)),N(F),N(P)).map(function(O,G,K,J){var te={},z={};return G.forEach(function(Y){Y.append&&te[Y.name]?te[Y.name]+=" "+Y.value:te[Y.name]=Y.value}),K&&(z.fresh=!0),J&&(z.separator=J),r.element(O,te,z)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(U,e.rules.sequence(k,e.rules.tokenOfType("gt"),k)),r.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),y),p=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),y),g={n:`
`,r:"\r",t:"	"};function y(N){return N.replace(/\\(.)/g,function(k,F){return g[F]||F})}var _=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(N,k){return{name:N,value:k,append:!1}}),x=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(N){return{name:"class",value:N,append:!0}}),w=e.rules.firstOf("attribute or class",_,x);function C(N,k){var F=i(k),P=e.Parser(),I=P.parseTokens(N,F);return I.isSuccess()?s.success(I.value()):new s.Result(null,[s.warning(D(k,I))])}function D(N,k){return"Did not understand this style mapping, so ignored it: "+N+`
`+k.errors().map(R).join(`
`)}function R(N){return"Error was at character number "+N.characterNumber()+": Expected "+N.expected+" but got "+N.actual}var S=o();return h0}var p0={},vB;function O7e(){if(vB)return p0;vB=1,p0.readOptions=r;var t=ii,e=p0._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=p0._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},t.extend({},n,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?t.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return p0}var _4={},xB;function L7e(){if(xB)return _4;xB=1;var t=dd(),e=HY();_4.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return _4}var Ud={},bB;function j7e(){if(bB)return Ud;bB=1;var t=ii;Ud.paragraph=e,Ud.run=n,Ud._elements=i,Ud.getDescendantsOfType=s,Ud.getDescendants=a;function e(l){return r("paragraph",l)}function n(l){return r("run",l)}function r(l,c){return i(function(u){return u.type===l?c(u):u})}function i(l){return function c(u){if(u.children){var f=t.map(u.children,c);u=t.extend(u,{children:f})}return l(u)}}function s(l,c){return a(l).filter(function(u){return u.type===c})}function a(l){var c=[];return o(l,function(u){c.push(u)}),c}function o(l,c){l.children&&l.children.forEach(function(u){o(u,c),c(u)})}return Ud}var w4={},_B;function B7e(){if(_B)return w4;_B=1;var t=dT(),e=uT();w4.element=n;function n(r){return function(i){return e.elementWithTag(t.element(r),[i])}}return w4}var wB;function V7e(){if(wB)return qa;wB=1;var t=ii,e=b7e(),n=_7e(),r=S7e().DocumentConverter,i=D7e().convertElementToRawText,s=U7e().readStyle,a=O7e().readOptions,o=L7e(),l=_c().Result;qa.convertToHtml=c,qa.convertToMarkdown=u,qa.convert=f,qa.extractRawText=g,qa.images=ZY(),qa.transforms=j7e(),qa.underline=B7e(),qa.embedStyleMap=y,qa.readEmbeddedStyleMap=h;function c(_,x){return f(_,x)}function u(_,x){var w=Object.create(x||{});return w.outputFormat="markdown",f(_,w)}function f(_,x){return x=a(x),o.openZip(_).tap(function(w){return n.readStyleMap(w).then(function(C){x.embeddedStyleMap=C})}).then(function(w){return e.read(w,_).then(function(C){return C.map(x.transformDocument)}).then(function(C){return p(C,x)})})}function h(_){return o.openZip(_).then(n.readStyleMap)}function p(_,x){var w=v(x.readStyleMap()),C=t.extend({},x,{styleMap:w.value}),D=new r(C);return _.flatMapThen(function(R){return w.flatMapThen(function(S){return D.convertToHtml(R)})})}function v(_){return l.combine((_||[]).map(s)).map(function(x){return x.filter(function(w){return!!w})})}function g(_){return o.openZip(_).then(e.read).then(function(x){return x.map(i)})}function y(_,x){return o.openZip(_).tap(function(w){return n.writeStyleMap(w,x)}).then(function(w){return w.toArrayBuffer()}).then(function(w){return{toArrayBuffer:function(){return w},toBuffer:function(){return Buffer.from(w)}}})}return qa.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},qa}var W7e=V7e();const q7e={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},TB={:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray",:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray"},$7e={bold:/(|| | | | | |  |  |    | | | | ||||| )/i,increaseFontSize:/(|  | | |  |  |  | |  |  | ||| | )/i,justifyCenter:/(|  | |  |  | | |   |  |   | |  |  | |||)/i,justifyRight:/(|  | |  | | |   |  |   | |  |  | ||)/i,justifyLeft:/(|  | |  | | |   |  |   | |  |  | ||)/i,underline:/(|  |  |  |  |  | |    |   | |  | |  ||| | | )/i,foreColor:/( | | | )?(|||||||||||||||)/i,backColor:/( |  |  )?(|||||||||||||||)/i,cut:/(| || |  )/i,copy:/(||| |  )/i,paste:/(|| | )/i,delete:/(||| )/i,replaceImage:/( | ||)/i},z7e=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),sQ=({initialContent:t,docToEdit:e,onClose:n})=>{const{user:r}=Dr(),{cafes:i,codes:s}=tn(),a=W.useMemo(()=>s.map(V=>V.key),[s]),[o,l]=W.useState("visual"),[c,u]=W.useState(t.body),[f,h]=W.useState(t.styles),[p,v]=W.useState((e==null?void 0:e.name)||t.name),[g,y]=W.useState((e==null?void 0:e.description)||""),[_,x]=W.useState((e==null?void 0:e.tags)||""),w=W.useRef(null),C=W.useRef(null),D=W.useRef(null),[R,S]=W.useState(!1),N=W.useRef(null),k=W.useRef(null),F=W.useRef(null),[P,I]=W.useState(!1),[U,O]=W.useState(""),[G,K]=W.useState(!1),[J,te]=W.useState(!1),[z,Y]=W.useState(!1),[B,j]=W.useState(null),q=W.useRef(null),X=W.useRef(!1);W.useEffect(()=>{const V=ve=>{q.current&&!q.current.contains(ve.target)&&te(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),W.useEffect(()=>{if(o==="visual"){const V=w.current;if(V){const ve=V.contentDocument;if(ve){const we=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><style>${f}</style></head><body>${c}</body></html>`;ve.open(),ve.write(we),ve.close(),ve.body.contentEditable="true"}}}else if(o==="grapesjs"&&!D.current&&C.current){const V=grapesjs.init({container:C.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:q7e});V.setComponents(c),V.setStyle(f),D.current=V}},[o,c,f]);const Q=W.useCallback(V=>{var we,oe;const ve=(we=w.current)==null?void 0:we.contentDocument;if(ve)for(const[re,le]of Object.entries($7e)){const he=V.match(le);if(he){if(re==="replaceImage"){const _e=ve.getSelection();if(_e&&!_e.isCollapsed&&_e.rangeCount>0){const ce=_e.getRangeAt(0).commonAncestorContainer;let ye=null;ce.nodeName==="IMG"?ye=ce:ce.nodeType===Node.ELEMENT_NODE&&(ye=ce.querySelector("img")),ye&&(F.current=ye,(oe=k.current)==null||oe.click())}return}if(re==="foreColor"||re==="backColor"){const _e=he.find(ie=>ie&&TB[ie]);if(_e){const ie=TB[_e],ce=re==="foreColor"?"foreColor":"hiliteColor",ye=ve.getSelection();ce==="hiliteColor"&&(ye!=null&&ye.isCollapsed)?ve.body.style.backgroundColor=ie:ve.execCommand(ce,!1,ie)}}else ve.execCommand(re,!1,void 0);return}}},[]);W.useEffect(()=>{const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(V)return N.current=new V,N.current.continuous=!0,N.current.interimResults=!1,N.current.lang="ar-SA",N.current.onstart=()=>{X.current=!0,S(!0)},N.current.onend=()=>{if(X.current){console.log("Speech recognition stopped unexpectedly. Restarting...");try{N.current.start()}catch(ve){console.error("Could not restart speech recognition:",ve),X.current=!1,S(!1)}}else S(!1)},N.current.onerror=ve=>{console.error("Speech error:",ve.error),X.current=!1,S(!1)},N.current.onresult=ve=>{let we="";for(let oe=ve.resultIndex;oe<ve.results.length;++oe)ve.results[oe].isFinal&&(we+=ve.results[oe][0].transcript);we.trim()&&Q(we.trim())},()=>{X.current=!1,N.current&&N.current.abort()}},[Q]);const ee=()=>{var V;o==="visual"&&w.current?(u(((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c),l("grapesjs")):o==="grapesjs"&&D.current&&(u(D.current.getHtml()),h(D.current.getCss()),D.current.destroy(),D.current=null,l("visual"))},ae=async()=>{var V;I(!0),O("");try{let ve=c,we=f;o==="grapesjs"&&D.current?(ve=D.current.getHtml(),we=D.current.getCss()):o==="visual"&&w.current&&(ve=((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c);const oe=K0(ve);await Nme({previewHtml:ve,templateHtml:ve,sharedStyles:we,fileNameBase:e?e.id:z7e(p),docToEdit:e,prompt:p,description:g,tags:_,requiredFields:oe,complexFields:(e==null?void 0:e.complexFields)||[]}),alert("   !"),n()}catch(ve){console.error("Publishing error:",ve),O(ve instanceof Error?ve.message:"     .")}finally{I(!1)}},de=V=>{var we;const ve=(we=V.target.files)==null?void 0:we[0];if(ve&&F.current){const oe=new FileReader;oe.onload=re=>{var le;F.current&&((le=re.target)!=null&&le.result)&&(F.current.src=re.target.result),F.current=null,V.target&&(V.target.value="")},oe.readAsDataURL(ve)}},fe=()=>{const V=w.current;if(V&&V.contentDocument){const ve=window.open("","_blank");ve==null||ve.document.write(`<html><head><title>Print</title><style>${f}</style></head><body>${V.contentDocument.body.innerHTML}</body></html>`),ve==null||ve.document.close(),ve==null||ve.focus(),ve==null||ve.print()}},Ne=()=>{N.current&&(R?(X.current=!1,N.current.stop()):(X.current=!0,N.current.start()))},Re=async()=>{var V,ve;te(!1),Y(!0),O("");try{const we=((ve=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:ve.body.innerHTML)||c,oe=yge(we,a);u("");for await(const re of oe)u(le=>le+re)}catch(we){O(we instanceof Error?we.message:"AI task failed.")}finally{Y(!1)}},me=async()=>{var V,ve;te(!1),Y(!0),O("");try{const we=((ve=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:ve.body.innerHTML)||c,oe=await vge(we);j(JSON.stringify(oe,null,2))}catch(we){O(we instanceof Error?we.message:"AI task failed.")}finally{Y(!1)}},Le=()=>{if(!B)return;const V=new Blob([B],{type:"application/json"}),ve=URL.createObjectURL(V),we=document.createElement("a");we.href=ve,we.download=`${p.replace(/\s+/g,"_")}.json`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(ve)};return d.jsxs("div",{className:"fixed inset-0 bg-gray-800 z-[100] flex flex-col p-4",children:[d.jsx("input",{type:"file",ref:k,onChange:de,accept:"image/*",className:"hidden"}),d.jsxs("header",{className:"flex-shrink-0 bg-gray-900 text-white p-3 flex justify-between items-center rounded-t-lg",children:[d.jsx("h2",{className:"font-bold",children:o==="visual"?"  /":"  (GrapesJS)"}),d.jsxs("div",{className:"flex items-center gap-3",children:[o==="visual"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Ne,className:`p-2 rounded-full transition-colors ${R?"bg-red-500 text-white animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,title:"/  ",children:R?d.jsx(vc,{}):d.jsx(tI,{})}),d.jsxs("div",{className:"relative",ref:q,children:[d.jsx("button",{onClick:()=>te(V=>!V),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full text-white",title:"  ",disabled:z,children:z?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{})}),J&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 text-gray-700 text-sm",children:[d.jsx("li",{children:d.jsx("button",{onClick:Re,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (Placeholders)"})}),d.jsx("li",{children:d.jsx("button",{onClick:me,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (JSON)"})})]})})]}),d.jsx("button",{onClick:()=>K(!0),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:" ",children:d.jsx(kH,{})})]}),d.jsx("button",{onClick:ee,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:o==="visual"?"   ":"   ",children:o==="visual"?d.jsx(vw,{}):d.jsx(qA,{})}),d.jsxs("button",{onClick:fe,className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-md",title:"",children:[" ",d.jsx(_w,{})," "]}),d.jsxs("button",{onClick:ae,disabled:P,className:"bg-green-600 hover:bg-green-700 p-2 rounded-md",title:" ",children:[" ",P?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ww,{})," "]}),d.jsxs("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 p-2 rounded-full",title:"  ",children:[" ",d.jsx(Ff,{})," "]})]})]}),U&&d.jsx("p",{className:"text-red-400 bg-red-900 p-2 text-xs text-center",children:U}),d.jsx("div",{className:"flex-grow bg-gray-700 p-2 rounded-b-lg",children:o==="visual"?d.jsx("iframe",{ref:w,title:"Visual Editor",className:"w-full h-full border-0 bg-white shadow-lg"}):d.jsx("div",{ref:C,className:"h-full",id:"gjs-editor"})}),G&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[101] flex justify-center items-center p-4",onClick:()=>K(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800",onClick:V=>V.stopPropagation(),children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:" "}),d.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(Ff,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docNameModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"docNameModal",value:p,onChange:V=>v(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docDescriptionModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("textarea",{id:"docDescriptionModal",rows:3,value:g,onChange:V=>y(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docTagsModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"docTagsModal",value:_,onChange:V=>x(V.target.value),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:d.jsx("button",{type:"button",onClick:()=>K(!1),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})})]})}),B&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[102] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800 flex flex-col h-[70vh]",children:[d.jsx("h3",{className:"p-4 border-b font-bold text-lg",children:" JSON "}),d.jsx("pre",{className:"flex-grow p-4 bg-gray-900 text-green-300 text-sm overflow-auto",dir:"ltr",children:B}),d.jsxs("div",{className:"p-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>j(null),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{onClick:Le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})]})},H7e=t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):null},G7e=(t,e)=>{let n=t.toLowerCase().trim();const r={actions:[],raw:t};for(const o of e.actions.replace){const l=new RegExp(`${o}\\s+(.+)`),c=n.match(l);if(c&&c[1])return r.actions.push({intent:"replace",newText:c[1].trim()}),r}for(const o of e.actions.paste)for(const l of["before","after"])for(const c of e.positions[l]){const u=new RegExp(`${o}\\s+${c}\\s+(.+)`),f=n.match(u);if(f&&f[1])return r.actions.push({intent:"paste",pastePosition:l,pasteTarget:f[1].trim()}),r}for(const o of e.actions.createList)if(n.includes(o)){let l="bullet";e.listTypes.numbered.some(c=>n.includes(c))&&(l="numbered");for(const c of e.actions.addListItem){const u=n.indexOf(c);if(u!==-1){const f=n.substring(u+c.length).trim(),h=new RegExp(`\\s+(?:${e.listSeparators.newLine.join("|")}|${e.conjunctions.join("|")})\\s+`,"g"),p=f.split(h).map(v=>v.replace(new RegExp(`^(${e.actions.addListItem.join("|")})\\s*`),"").trim()).filter(Boolean);if(p.length>0)return r.actions.push({intent:"createList",listType:l,listItems:p}),r}}return r.actions.push({intent:"createList",listType:l,listItems:[]}),r}const i=[{intent:"delete",keywords:e.actions.delete},{intent:"copy",keywords:e.actions.copy},{intent:"paste",keywords:e.actions.paste},{intent:"addListItem",keywords:e.actions.addListItem},{intent:"newLine",keywords:e.listSeparators.newLine}];for(const o of i)for(const l of o.keywords)if(n.includes(l)){let c=n.replace(l,"").trim();return o.intent==="addListItem"&&c?r.actions.push({intent:"addListItem",value:c}):r.actions.push({intent:o.intent}),r}for(const o of e.targets.text){const l=new RegExp(`${o}\\s+([^]+)`),c=n.match(l);if(c&&c[1]){r.targetText=c[1].trim(),n=n.replace(c[0],"").trim();break}}const s=new RegExp(`\\s+(?:${e.conjunctions.join("|")})\\s+`,"g"),a=n.split(s).filter(o=>o&&o.trim()!=="");if(a.length===1&&e.general.next.some(o=>a[0].includes(o)))return r.actions.push({intent:"color",value:"random"}),r;for(const o of a){let l=!1;for(const c in e.colors)if(e.colors[c].some(u=>o.includes(u))){r.actions.push({intent:"color",value:c}),l=!0;break}if(!l){if(e.actions.changeColor.some(c=>o.includes(c))){r.actions.push({intent:"color",value:"random"}),l=!0;continue}if(e.actions.changeSize.some(c=>o.includes(c))){const c=H7e(o);c!==null?r.actions.push({intent:"size",value:`${c}px`}):e.sizeKeywords.increase.some(u=>o.includes(u))?r.actions.push({intent:"size",value:"+2px"}):e.sizeKeywords.decrease.some(u=>o.includes(u))&&r.actions.push({intent:"size",value:"-2px"}),l=!0;continue}if(e.actions.align.some(c=>o.includes(c))){for(const c in e.alignments)if(e.alignments[c].some(u=>o.includes(u))){r.actions.push({intent:"align",value:c}),l=!0;break}}if(!l&&e.actions.makeBold.some(c=>o.includes(c))){r.actions.push({intent:"bold",value:"true"}),l=!0;continue}}}return r},K7e={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},X7e=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],J7e=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:X7e.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),Y7e=({onClose:t,onCapture:e})=>{const n=W.useRef(null),r=W.useRef(null),i=W.useRef(null),[s,a]=W.useState(null),[o,l]=W.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};W.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(_=>_.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Q7e=({initialContent:t,onExit:e,onPreview:n,editorRef:r})=>{const{user:i}=Dr(),{cafes:s,documentCommands:a}=tn(),o=W.useRef(null),[l,c]=W.useState((t==null?void 0:t.name)||" "),[u,f]=W.useState(!1),[h,p]=W.useState(""),[v,g]=W.useState(!1),[y,_]=W.useState(!1),x=W.useRef(null),[w,C]=W.useState(!1),[D,R]=W.useState({top:0,left:0,visible:!1,component:null,type:null}),S=W.useRef(null),[N,k]=W.useState(""),F=W.useMemo(()=>s.find(j=>j.id===(i==null?void 0:i.cafeId)),[s,i]),P=(F==null?void 0:F.speechToTextLanguage)||"ar-SA",I=window.SpeechRecognition||window.webkitSpeechRecognition,U=W.useRef(null),O=W.useRef(!1),G=W.useCallback(j=>{if(!a||!r.current)return;const q=r.current,X=q.getRichTextEditor(),Q=G7e(j,a);let ee=q.getSelected();if(!ee&&Q.targetText){const ae=q.getComponents(),de=(fe,Ne)=>{var Re;for(const me of fe.models){if((Re=me.get("content"))!=null&&Re.includes(Ne))return me;const Le=de(me.components(),Ne);if(Le)return Le}return null};ee=de(ae,Q.targetText),ee&&q.select(ee)}ee||(ee=S.current);for(const ae of Q.actions)switch(ae.intent){case"color":{let de=ae.value;if(de==="random"){const fe=Object.keys(a.colors);de=fe[Math.floor(Math.random()*fe.length)]}ee&&ee.setStyle({...ee.getStyle(),color:de});break}case"size":{if(ee){const de=ee.getStyle(),fe=ae.value;if(fe.startsWith("+")||fe.startsWith("-")){const Ne=parseInt(de["font-size"]||"16px",10),Re=parseInt(fe,10);ee.setStyle({...de,"font-size":`${Ne+Re}px`})}else ee.setStyle({...de,"font-size":fe})}break}case"align":ee&&ee.setStyle({...ee.getStyle(),"text-align":ae.value});break;case"bold":if(ee){const de=ee.getStyle()["font-weight"]==="bold";ee.setStyle({...ee.getStyle(),"font-weight":de?"normal":"bold"})}break;case"replace":ae.newText&&X&&X.insertHTML(ae.newText);break;case"delete":ee?ee.remove():X&&X.exec("delete");break;case"copy":ee&&k(ee.toHTML());break;case"paste":if(N)if(ae.pasteTarget&&ae.pastePosition){const de=q.getWrapper().find("div, p, span, h1, h2, h3, h4, h5, h6");let fe=!1;de.forEach(Ne=>{var Re;if(!fe&&(Re=Ne.get("content"))!=null&&Re.includes(ae.pasteTarget)){const me=Ne.parent(),Le=Ne.index();me.append(N,{at:ae.pastePosition==="after"?Le+1:Le}),fe=!0}})}else X.insertHTML(N);break;case"createList":{const de=ae.listType==="numbered"?"ol":"ul";let fe=`<${de}>`;ae.listItems&&ae.listItems.length>0?fe+=ae.listItems.map(Ne=>`<li>${Ne}</li>`).join(""):fe+="<li> </li>",fe+=`</${de}>`,X.insertHTML(fe);break}case"addListItem":{const de=q.getSelected(),fe=de==null?void 0:de.closest("ul, ol");fe&&fe.append(`<li>${ae.value||" "}</li>`);break}case"newLine":{const de=q.getSelected(),fe=de==null?void 0:de.closest("ul, ol");fe&&fe.append("<li></li>");break}}ee&&(S.current=ee)},[a,r,N]);W.useEffect(()=>{if(!I)return;const j=new I;return U.current=j,j.continuous=!0,j.interimResults=!1,j.lang=P,j.onstart=()=>C(!0),j.onend=()=>{if(O.current){console.log("Document Studio: Speech recognition ended, attempting restart.");try{j.start()}catch(q){console.error("Document Studio: Could not restart recognition",q),O.current=!1,C(!1)}}else C(!1)},j.onresult=q=>{const X=q.results[q.results.length-1][0].transcript.trim();X&&G(X)},j.onerror=q=>{console.error("Speech recognition error:",q.error),O.current=!1,C(!1)},()=>{U.current&&(O.current=!1,U.current.abort())}},[I,P,G]);const K=W.useCallback(()=>{if(!I)return;const j=U.current;w?(O.current=!1,j==null||j.stop()):(O.current=!0,j==null||j.start())},[I,w]);W.useEffect(()=>{if(r.current||!o.current)return;const j=grapesjs.init({container:o.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,assetManager:{custom:!0},canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:K7e});return j.setComponents(t.body),j.setStyle(t.styles),j.on("component:toggled",q=>{const X=j.Canvas.getElement(),Q=q.getEl();if(S.current=q,Q){const{top:ee,left:ae}=Q.getBoundingClientRect(),de=X.getBoundingClientRect(),fe=q.is("image"),Ne=q.get("type")==="text";R(fe||Ne?{top:ee+de.top-45,left:ae+de.left,visible:!0,component:q,type:fe?"image":"text"}:Re=>({...Re,visible:!1}))}else R(ee=>({...ee,visible:!1}))}),r.current=j,()=>{r.current&&(r.current.destroy(),r.current=null)}},[t,r]);const J=W.useCallback(()=>{if(!D.component)return;const j=window.prompt("   :");j&&D.component.set("src",j)},[D.component]),te=W.useCallback(j=>{var X;const q=(X=j.target.files)==null?void 0:X[0];if(q&&D.component){const Q=new FileReader;Q.onload=ee=>{var ae;D.component.set("src",(ae=ee.target)==null?void 0:ae.result)},Q.readAsDataURL(q)}},[D.component]),z=W.useCallback(j=>{D.component&&D.component.set("src",j),g(!1)},[D.component]),Y=W.useCallback(async()=>{if(!D.component)return;const j=window.prompt("     :");if(j){_(!0);try{const q=await xge(j);if(q.base64Image){const X=`data:image/jpeg;base64,${q.base64Image}`;D.component.set("src",X)}}catch{alert("  .")}finally{_(!1)}}},[D.component]),B=async()=>{const j=i==null?void 0:i.cafeId,q=r.current;if(!j||!q){p("      .");return}f(!0),p("");try{const X=q.getHtml(),Q=q.getCss(),ee=l.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),ae=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${l}</title><style>${Q}</style></head><body>${X}</body></html>`,de=new File([ae],`0-${ee}.html`,{type:"text/html"}),fe=new File([ae],`${ee}.html`,{type:"text/html"}),[Ne,Re]=await Promise.all([vm(de),vm(fe)]),me={id:ee,groupId:ee,name:l,description:"     ",countryCode:i.countryCode,requiredFields:[],previewTemplateUrl:Ne,finalTemplateUrl:Re,cafeId:j};await fl.create(me),alert(`   "${me.name}" !`),e()}catch(X){console.error("Publishing error:",X),p(X instanceof Error?X.message:"     .")}finally{f(!1)}};return d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsx("input",{type:"file",ref:x,onChange:te,accept:"image/*",className:"hidden"}),v&&d.jsx(Y7e,{onClose:()=>g(!1),onCapture:z}),d.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:e,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600",children:[d.jsx(IH,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:B,disabled:u,className:"flex items-center justify-center gap-2 bg-green-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-800 disabled:bg-gray-400",children:[u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ww,{}),d.jsx("span",{children:u?" ...":"  "})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"doc-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx("input",{type:"text",id:"doc-name",value:l,onChange:j=>c(j.target.value),className:"w-full p-3 border rounded-lg"})]}),h&&d.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:h}),D.visible&&d.jsxs("div",{className:"absolute z-40 bg-white shadow-lg rounded-lg flex items-center gap-2 p-2 border",style:{top:D.top,left:D.left},children:[D.type==="text"&&d.jsx("button",{onClick:K,disabled:!I,className:`p-2 rounded-md transition-colors ${w?"bg-red-100 text-red-700 animate-pulse":"hover:bg-gray-100"}`,title:"     ",children:w?d.jsx(vc,{}):d.jsx(tI,{})}),D.type==="image"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:J,className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(UH,{})}),d.jsx("button",{onClick:()=>{var j;return(j=x.current)==null?void 0:j.click()},className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(kl,{})}),d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Hm,{})}),d.jsx("button",{onClick:Y,disabled:y,className:"p-2 hover:bg-gray-100 rounded-md",title:"  ",children:y?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{})})]})]}),d.jsx("div",{ref:o,className:"flex-grow",id:"gjs"})]})},Z7e=()=>{const{user:t}=Dr(),{fullDocuments:e,loadingFullDocuments:n,documentCommands:r}=tn(),[i,s]=W.useState("dashboard"),[a,o]=W.useState(null),[l,c]=W.useState(!1),[u,f]=W.useState(!1),[h,p]=W.useState(""),[v,g]=W.useState(""),[y,_]=W.useState(""),x=W.useRef(null),w=W.useRef(null),[C,D]=W.useState(!1),R=W.useMemo(()=>t!=null&&t.cafeId?e.filter(G=>G.cafeId===t.cafeId):[],[e,t]),S=G=>{var J;const K=(J=G.target.files)==null?void 0:J[0];K&&N(K)},N=async G=>{f(!0),p("");try{let K=G.name.replace(/\.(html|pdf|docx)$/i,""),J="",te="";if(G.type==="text/html"){const z=await G.text(),Y=z.match(/<style[^>]*>([\s\S]*?)<\/style>/i);te=Y?Y[1]:"";const B=z.match(/<body[^>]*>([\s\S]*)<\/body>/i);J=B?B[1]:z}else if(G.type==="application/pdf"){const z=new FileReader,Y=await new Promise(j=>{z.onloadend=()=>j(z.result.split(",")[1]),z.readAsDataURL(G)});J=(await QH(Y)).html}else if(G.type.includes("wordprocessingml")){const z=new FileReader,Y=await new Promise(j=>{z.onloadend=()=>j(z.result),z.readAsArrayBuffer(G)});J=(await W7e.convertToHtml({arrayBuffer:Y})).value}else throw new Error("Unsupported file type.");o({name:K,body:J,styles:te}),s("editor")}catch(K){p(K instanceof Error?K.message:"File processing failed.")}finally{f(!1)}},k=async G=>{var K;f(!0),p(""),c(!1);try{const J=await fetch(G);if(!J.ok)throw new Error("Could not fetch template");const te=await J.text();let z=((K=G.split("/").pop())==null?void 0:K.replace("0-","").replace(".html",""))||"template";const Y=te.match(/<style[^>]*>([\s\S]*?)<\/style>/i),B=Y?Y[1]:"",j=te.match(/<body[^>]*>([\s\S]*)<\/body>/i),q=j?j[1]:te;o({name:z,body:q,styles:B}),s("editor")}catch(J){p(J instanceof Error?J.message:"Template loading failed.")}finally{f(!1)}},F=async()=>{if(v.trim()){f(!0),p(""),_("");try{const G=await oc({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${v}".               <style>   <head>.     .`});_(G.text||"")}catch(G){p(G instanceof Error?G.message:"AI generation failed.")}finally{f(!1)}}},P=()=>{if(!y)return;const G=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),K=G?G[1]:"",J=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),te=J?J[1]:y;o({name:v,body:te,styles:K}),D(!1),s("editor")},I=()=>{if(!y)return;const G=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),K=G?G[1]:"",J=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),te=J?J[1]:y;o({name:v,body:te,styles:K}),D(!0),s("editor")},U=async G=>{window.confirm("        ")&&(await fl.delete(G),alert(" .      ."))},O=()=>{w.current&&(o({...a,body:w.current.getHtml(),styles:w.current.getCss()}),D(!0))};return i==="editor"?d.jsxs(d.Fragment,{children:[d.jsx(Q7e,{initialContent:a,onExit:()=>s("dashboard"),onPreview:O,editorRef:w}),C&&a&&d.jsx(sQ,{initialContent:a,docToEdit:null,onClose:()=>D(!1)})]}):i==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>s("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(Yk,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:v,onChange:G=>g(G.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:F,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[u?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:u?" ...":"  "})]}),h&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:h}),(y||u)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:I,disabled:!y||u,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 disabled:opacity-50",children:[d.jsx(IH,{}),d.jsx("span",{children:"  "})]}),d.jsx("button",{onClick:P,disabled:!y||u,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})]})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[u&&!y&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:y,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-600",children:'     .        " ".'}),d.jsx("input",{type:"file",ref:x,onChange:S,accept:".html,.pdf,.docx,.doc",className:"hidden"}),l&&d.jsx(J7e,{onClose:()=>c(!1),onSelect:k}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>s("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ra,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var G;return(G=x.current)==null?void 0:G.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(kl,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  DOCX, PDF,  HTML   ."})]}),d.jsxs("button",{onClick:()=>c(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(jH,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),u&&d.jsx("div",{className:"text-center",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),h&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-700 p-2",children:["  (",R.length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto"})})}):R.length>0?R.map(G=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:G.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:G.description}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{disabled:!0,className:"text-gray-400 text-sm font-semibold cursor-not-allowed",children:""}),d.jsx("button",{onClick:()=>U(G.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},G.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6 text-gray-500",children:"    .      ."})})})]})})]})]})},eMe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],tMe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:eMe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),nMe=()=>{var S;const t=Sr(),e=Ti(),n=(S=t.state)==null?void 0:S.doc,[r,i]=W.useState("dashboard"),[s,a]=W.useState(null),[o,l]=W.useState(!1),[c,u]=W.useState(!1),[f,h]=W.useState(""),[p,v]=W.useState(""),[g,y]=W.useState(""),_=W.useRef(null);W.useEffect(()=>{n&&((async()=>{u(!0);try{let k="",F="";if(n.previewTemplateUrl){const P=await fetch(n.previewTemplateUrl);if(P.ok){const I=await P.text(),U=I.match(/<style[^>]*>([\s\S]*?)<\/style>/i);F=U?U[1]:"";const O=I.match(/<body[^>]*>([\s\S]*)<\/body>/i);k=O?O[1]:I}else console.warn(`Could not fetch template file from ${n.previewTemplateUrl}. Starting with an empty editor.`)}a({initialContent:{name:n.name,body:k,styles:F},docToEdit:n})}catch(k){h(`Failed to load document: ${k.message}`),a({initialContent:{name:n.name,body:"<p>   .</p>",styles:""},docToEdit:n})}finally{u(!1)}})(),e(t.pathname,{replace:!0,state:{}}))},[n,t.pathname,e]);const x=N=>{var F;const k=(F=N.target.files)==null?void 0:F[0];k&&w(k)},w=async N=>{u(!0),h("");try{let k=N.name.replace(/\.(html|pdf|docx)$/i,""),F="",P="";if(N.type==="text/html"){const I=await N.text(),U=I.match(/<style[^>]*>([\s\S]*?)<\/style>/i);P=U?U[1]:"";const O=I.match(/<body[^>]*>([\s\S]*)<\/body>/i);F=O?O[1]:I}else if(N.type==="application/pdf"){const I=new FileReader,U=await new Promise(G=>{I.onloadend=()=>G(I.result.split(",")[1]),I.readAsDataURL(N)});F=(await QH(U)).html}else throw new Error("Unsupported file type.");a({initialContent:{name:k,body:F,styles:P},docToEdit:null})}catch(k){h(k instanceof Error?k.message:"File processing failed.")}finally{u(!1)}},C=async N=>{var k;u(!0),h(""),l(!1);try{const F=await fetch(N);if(!F.ok)throw new Error("Could not fetch template");const P=await F.text(),I=((k=N.split("/").pop())==null?void 0:k.replace("0-","").replace(".html",""))||"template",U=P.match(/<style[^>]*>([\s\S]*?)<\/style>/i),O=U?U[1]:"",G=P.match(/<body[^>]*>([\s\S]*)<\/body>/i),K=G?G[1]:P;a({initialContent:{name:I,body:K,styles:O},docToEdit:null})}catch(F){h(F instanceof Error?F.message:"Template loading failed.")}finally{u(!1)}},D=async()=>{if(p.trim()){u(!0),h(""),y("");try{const N=await oc({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${p}".               <style>   <head>.     .`});y(N.text||"")}catch(N){h(N instanceof Error?N.message:"AI generation failed.")}finally{u(!1)}}},R=()=>{if(!g)return;const N=g.match(/<style[^>]*>([\s\S]*?)<\/style>/i),k=N?N[1]:"",F=g.match(/<body[^>]*>([\s\S]*)<\/body>/i),P=F?F[1]:g;a({initialContent:{name:p,body:P,styles:k},docToEdit:null}),i("dashboard")};return s?d.jsx(sQ,{initialContent:s.initialContent,docToEdit:s.docToEdit,onClose:()=>{a(null),window.location.reload()}}):r==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>i("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx(Yk,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:p,onChange:N=>v(N.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:D,disabled:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[c?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:c?" ...":"  "})]}),f&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:f}),(g||c)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("button",{onClick:R,disabled:!g||c,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[c&&!g&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Ct,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:g,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  ()"}),d.jsx("input",{type:"file",ref:_,onChange:x,accept:".html,.pdf",className:"hidden"}),o&&d.jsx(tMe,{onClose:()=>l(!1),onSelect:C}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>i("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ra,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var N;return(N=_.current)==null?void 0:N.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(kl,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  PDF  HTML   ."})]}),d.jsxs("button",{onClick:()=>l(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(jH,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),c&&d.jsx("div",{className:"text-center",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),f&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("button",{onClick:()=>e("/admin/app/documents"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"    "})})]})},aQ=()=>{const{t}=Ci();return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mt-4",children:t("notFound.title")}),d.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:t("notFound.message")}),d.jsx(Zt,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:t("notFound.button")})]})},ls=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},rMe=()=>{const{siteSettings:t,loading:e}=tn(),{countryCode:n,language:r}=Ci(),i=Sr(),s=i.pathname.startsWith("/admin"),a=/^\/[a-z]{2}\/app/.test(i.pathname),o="G-2BKKWGCXWX";return W.useEffect(()=>{if(e||!o||document.getElementById("gtag-script")||s||a)return;const l=document.createElement("script");l.id="gtag-script",l.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,l.async=!0,document.head.appendChild(l),window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}window.gtag=c,c("js",new Date),c("config",o)},[e,o,s,a]),W.useEffect(()=>{!e&&o&&typeof window.gtag=="function"&&!s&&!a&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,o,s,a]),W.useEffect(()=>{var g,y;if(e||!t)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(_=>_.remove());const l=((g=t.seo)==null?void 0:g[n])||((y=t.seo)==null?void 0:y.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},c="https://datas.gitut.com/data/image/gitut-og-main.png",u=i.pathname.match(/\/profile\/(\d+)/),f=i.pathname.match(/\/site\/([^/]+)/),h=i.pathname.match(/\/doc\/([^/]+)/),p=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!u&&!f&&!h&&!p){const _=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,x=l.metaDescription;let w="en_US";switch(r){case"ar":w="ar_AR";break;case"fr":w="fr_FR";break;case"de":w="de_DE";break;case"es":w="es_ES";break;case"tr":w="tr_TR";break;case"ja":w="ja_JP";break}document.title=_,ls("description",x,!1),ls("og:title",_),ls("og:description",x),ls("og:site_name",l.siteName),ls("og:url",window.location.href),ls("og:image",c),ls("og:image:secure_url",c),ls("og:image:width","1200"),ls("og:image:height","630"),ls("og:type","website"),ls("og:locale",w),ls("twitter:card","summary_large_image",!1),ls("twitter:url",window.location.href,!1),ls("twitter:title",_,!1),ls("twitter:description",x,!1),ls("twitter:image",c,!1)}let v=document.querySelector("link[rel*='icon']");v||(v=document.createElement("link"),v.rel="icon",document.head.appendChild(v)),v.href="https://datas.gitut.com/data/image/icon.png"},[i.pathname,t,n,e,s,a,r]),null},iMe=()=>{const{countryCode:t,siteId:e}=oa(),n=Sr(),r=Ti(),[i]=Bee(),{sites:s,siteSettings:a,loading:o}=tn(),l=W.useMemo(()=>{var _;const v=i.get("redirect"),g=i.get("name");if(v)return{name:g||" ",url:v,isInternal:!0};if((_=n.state)!=null&&_.targetUrl)return{name:n.state.siteName||" ",url:n.state.targetUrl,isInternal:!0};const y=s.find(x=>x.id===e);return y?{...y,isInternal:!1}:null},[s,e,n.state,i]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=W.useState(c),[h,p]=W.useState(!1);return W.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),W.useEffect(()=>{if(!(o||!(l!=null&&l.url)))if(u>0){const v=setTimeout(()=>{f(g=>g-1)},1e3);return()=>clearTimeout(v)}else h||(p(!0),l.isInternal?r(l.url,{replace:!0}):window.location.href=l.url)},[u,o,l,h,r]),o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Ct,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]}):l?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(ac,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(Zt,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},sMe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,"");if(gr.Quill){const t=gr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],gr.Quill.register("attributors/style/size",t,!0)}const aMe=({isOpen:t,onClose:e,onSave:n,initialData:r,codes:i})=>{const[s,a]=W.useState(""),[o,l]=W.useState(""),[c,u]=W.useState(""),[f,h]=W.useState(""),[p,v]=W.useState(!1),g=W.useRef(null),y=W.useRef(null);W.useEffect(()=>{r?(a(r.name),l(r.previewTemplateHtml),u(r.finalTemplateHtml),h(r.textPlaceholderExample||"")):(a(""),l("<!--    -->"),u("<!--    -->"),h(""))},[r]);const _=(C,D)=>{var N;const R=(N=C.target.files)==null?void 0:N[0];if(!R)return;const S=new FileReader;S.onload=k=>{var P;const F=(P=k.target)==null?void 0:P.result;D==="preview"?l(F):u(F)},S.readAsText(R)},x=(C,D)=>{if(!D)return;const S=(C==="preview"?g:y).current;if(S){const N=S.selectionStart,k=S.selectionEnd,F=S.value,P=F.substring(0,N)+D+F.substring(k);C==="preview"?l(P):u(P),setTimeout(()=>{S&&(S.selectionStart=S.selectionEnd=N+D.length,S.focus())},0)}},w=async C=>{C.preventDefault(),v(!0);const D=S=>S.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),R={name:s,previewTemplateHtml:D(o),finalTemplateHtml:D(c),textPlaceholderExample:f};try{r?await xm.update(r.id,R):await xm.create(R),n(),e()}catch(S){console.error(S),alert("   .")}finally{v(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:w,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:[r?"":"","  "]})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:p&&!r?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(Ct,{className:"animate-spin text-3xl text-gray-400"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",id:"base-template-name",value:s,onChange:C=>a(C.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-example",className:"block text-sm font-medium text-gray-700 mb-1",children:"   (  )"}),d.jsx("textarea",{id:"base-template-example",value:f,onChange:C=>h(C.target.value),className:"w-full h-24 p-2 border rounded-md",placeholder:"       [TEXT] .      ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:g,value:o,onChange:C=>l(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(kl,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>_(C,"preview"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{x("preview",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>x("preview","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>x("preview","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:y,value:c,onChange:C=>u(C.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(kl,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:C=>_(C,"final"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:C=>{x("final",C.target.value),C.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(C=>d.jsxs("option",{value:C.key,children:[C.description," (",C.key,")"]},C.id))]}),d.jsx("button",{type:"button",onClick:()=>x("final","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>x("final","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]})]})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:p&&!r,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:p?" ...":""})]})]})})}):null},EB={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},oMe=({isOpen:t,onClose:e,onSave:n,fullDocuments:r})=>{const{baseTemplates:i}=tn(),[s,a]=W.useState(""),[o,l]=W.useState(""),[c,u]=W.useState("dz"),[f,h]=W.useState(""),[p,v]=W.useState(""),[g,y]=W.useState(!1),[_,x]=W.useState(!1),[w,C]=W.useState(!1),D=async()=>{if(!o||!c){alert("      .");return}x(!0),h("");try{const N=i.find(P=>P.id===s);let k="";N!=null&&N.textPlaceholderExample?k=`       .             .           HTML  ( <p>  <ul>).

  : "${o}"
 : "${c}"
   : "${N.textPlaceholderExample}"

      .`:k=`         "${o}"    "${c}".            .      HTML  ( <p>  <ul>).`;const F=await oc({model:"gemini-2.5-flash",contents:k});h(F.text||"")}catch(N){console.error("AI description generation failed:",N),alert("  .")}finally{x(!1)}},R=async()=>{if(!o){alert("    .");return}const N=i.find(k=>k.id===s);C(!0),v("");try{let k="";N!=null&&N.textPlaceholderExample?k=`You are an assistant for official documents in Arabic. Your task is to adapt a generic text example to fit a specific document title. The output must be simple HTML.
    Document Title: "${o}"
    Country Code: "${c}"
    Generic Text Example to Adapt: "${N.textPlaceholderExample}"
    
    Rewrite the generic text example to be specific and appropriate for the given document title and country. For example, if the title is "Request to change address", the text should be a formal request for an address change. Return only the generated HTML content, without any explanations.`:k=`   ( HTML    <p>  <ul>)      "${o}"    "${c}".         [TEXT]   .`;const F=await oc({model:"gemini-2.5-flash",contents:k});v(F.text||"")}catch(k){console.error("AI text generation failed:",k),alert("  .")}finally{C(!1)}},S=async N=>{N.preventDefault();const k=i.find(I=>I.id===s);if(!k||!o.trim()||!p.trim()){alert("   .");return}y(!0);let F=sMe(o);if(r.find(I=>I.slug===F)){if(!window.confirm("     (    ).        ")){y(!1);return}const U=Date.now().toString().slice(-6);F=`${F}-${U}`}try{const I=te=>te.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),U=k.previewTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),O=k.finalTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),G=K0(O),K=F,J={name:o,groupId:K,slug:F,description:f,countryCode:c||void 0,requiredFields:G,previewTemplateHtml:I(U),finalTemplateHtml:I(O),tags:k.name};await fl.create({...J,id:K}),n(),e()}catch(I){console.error("Failed to create document from base template:",I),alert("  .")}finally{y(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:S,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"     "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:s,onChange:N=>a(N.target.value),required:!0,className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",disabled:!0,children:"--  --"}),i.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (: dz)"}),d.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value.toLowerCase()),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(gr,{theme:"snow",value:f,onChange:h,modules:EB})}),d.jsx("button",{type:"button",onClick:D,disabled:_,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"   ",children:_?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{})})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    [TEXT] "}),d.jsxs("button",{type:"button",onClick:R,disabled:w,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200",children:[w?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(gr,{theme:"snow",value:p,onChange:v,modules:EB})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:g?" ...":" "})]})]})})}):null},lMe=()=>{const{baseTemplates:t,loading:e,codes:n,fullDocuments:r}=tn(),[i,s]=W.useState(!1),[a,o]=W.useState(!1),[l,c]=W.useState(null),u=async()=>{},f=async p=>{s(!0),c({...p,name:" ..."});try{const v=await xm.get(p.id);c(v||p)}catch(v){console.error("Failed to fetch fresh template:",v),c(p),alert("Could not fetch the latest template data. Displaying cached version.")}},h=async p=>{window.confirm("       ")&&(await xm.delete(p),u())};return d.jsxs("div",{children:[i&&d.jsx(aMe,{isOpen:i,onClose:()=>{s(!1),c(null)},onSave:u,initialData:l,codes:n}),a&&d.jsx(oMe,{isOpen:a,onClose:()=>o(!1),onSave:u,fullDocuments:r}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(sc,{className:"inline-block"}),"  "]}),d.jsxs("button",{onClick:()=>{c({id:"",name:" ...",previewTemplateHtml:"",finalTemplateHtml:""}),s(!0)},className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(sc,{className:"inline-block"}),"   "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"  "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:2,className:"text-center p-6",children:d.jsx(Ct,{className:"animate-spin text-2xl mx-auto"})})}):t.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 font-semibold",children:p.name}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsxs("button",{onClick:()=>f(p),className:"text-blue-600 hover:underline text-sm font-semibold",children:[d.jsx(vw,{className:"inline-block"})," "]}),d.jsxs("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:[d.jsx(Gm,{className:"inline-block"})," "]})]})]},p.id))})]})})})]})},T4={intents:{sum:["","","","",""],subtract:["","","","",""],multiply:["",""," ",""],divide:["","","",""],average:[""," ","",""],count:[" "," ","","",""],max:[" "," "," ","",""],min:[" "," "," ","",""],copy:["","","","",""," "],paste:["","",""],cut:["","","","",""," "],insert:["","","","","",""],search:[""," ","",""," "],color:["",""," ","","",""],resize:["",""," ","",""," "],select:["","","","",""],delete:["","","",""," ","","","",""],clear:[""," ",""," "],merge:["","","",""],split:["","","","",""],transpose:["","","","",""],filter:[""," ","   ",""],conditionalColor:[" ","  "," "," "],replace:["",""," ","",""," "," "],concatenate:[" "," "," "," "],sort:["","","","",""," "," "],removeDuplicates:[" "," "," "," "],groupBy:[""," ",""," "],createChart:["","  ","  ","  "," "],formatNumber:[" "," "," ","  "," "," ","  "],calculatePercentage:["  "," ","  "],move:["","","","","","",""]},targets:{cell:["","","",""],row:["","","","",""],column:["","","",""],horizontalColumn:[" "," ","",""],verticalColumn:[" "," ","",""],range:[""," "," "," "],sheet:["","",""," "],workbook:["","","",""],selectedTable:[" "," "," "]},movements:{right:["",""],left:["",""]},numbers:{1:["","","","","1"],2:["","","","","2"],3:["","","","","3"],4:["","","","","4"],5:["","","","","5"],6:["","","","","6"],7:["","","","","7"],8:["","","","","8"],9:["","","","","9"],10:["","","","","10"],last:["","","",""],all:["","",""]},positions:{after:["","",""],before:["","",""],at:["","","",""],start:[""," ",""],end:[""," ",""]},colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""],brown:["",""],cyan:["",""],gold:["",""],silver:["",""]},conditions:{contains:[" ",""," ","",""],equals:["","","",""," "],greaterThan:[" "," ",""],lessThan:[" "," ",""],startsWith:[" "," "],endsWith:[" "," "],between:[""," "],empty:["",""],notEmpty:[" "," "," "]},references:{lastResult:["","","output",""," "," "],lastSearch:["","",""," "," "],lastColumn:["","","  "," "],lastSelection:["",""," ",""," "],thisTarget:["","",""],previous:[""," "]},referenceWords:["","","","","",""],negationWords:["","","",""],rangeWords:["","",""]},cMe=()=>{const[t,e]=W.useState(null),[n,r]=W.useState(""),[i,s]=W.useState(!0),[a,o]=W.useState(!1),[l,c]=W.useState(""),[u,f]=W.useState("");W.useEffect(()=>{s(!0),BA().then(p=>{const v=p||T4;e(v),r(JSON.stringify(v,null,2)),p||f("   .       .")}).catch(()=>{c("    .      ."),e(T4),r(JSON.stringify(T4,null,2))}).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await Ame(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ww,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".             .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},uMe={colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""]},actions:{changeColor:[""," "," "],changeSize:[""," "," "],makeBold:["","","",""," "],align:["",""," "," "],replace:[" "," "],delete:["",""],copy:["",""],paste:["",""],createList:[" "," "," "],addListItem:["","",""]},sizeKeywords:{increase:["","",""],decrease:["","",""]},alignments:{center:["","","",""],right:["",""],left:["",""]},targets:{text:["","","",""],selection:["",""]},conjunctions:[""],general:{next:["","",""," "]},listTypes:{bullet:["",""],numbered:["","",""]},positions:{before:[""],after:[""]},listSeparators:{newLine:[" "," "," "]}},dMe=()=>{const[t,e]=W.useState(null),[n,r]=W.useState(""),[i,s]=W.useState(!0),[a,o]=W.useState(!1),[l,c]=W.useState(""),[u,f]=W.useState("");W.useEffect(()=>{s(!0),VA().then(p=>{const v=p||uMe;e(v),r(JSON.stringify(v,null,2))}).catch(()=>c("    .")).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await kme(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Ct,{className:"animate-spin"}):d.jsx(ww,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".               .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},fMe=()=>{var o;const{useAdminChatManager:t}=th(),{conversations:e,messages:n,currentConversationId:r,selectConversation:i,sendMessage:s}=t(),a=Array.from(e.entries()).sort(([,l],[,c])=>c.lastMessage.timestamp-l.lastMessage.timestamp);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:[" (",e.size,")"]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map(([l,c])=>d.jsxs("button",{onClick:()=>i(l),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${r===l?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-800",children:c.cafeName||"  "}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[c.lastMessage.senderId==="admin"?": ":"",c.lastMessage.text]})]}),c.unread&&d.jsx(WA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},l))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:r?d.jsx(nI,{messages:n,onSendMessage:s,currentUserId:"admin",title:`  ${((o=e.get(r))==null?void 0:o.cafeName)||""}`,isOnline:!0}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[d.jsx(Zk,{className:"text-5xl text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-500 mt-1",children:"           ."})]})})]})]})},hMe=()=>{var h,p;const{user:t}=Dr(),{useCafeChatManager:e}=th(),{adminConversation:n,visitorConversations:r,sendMessageToAdmin:i,sendMessageToVisitor:s,markAdminAsRead:a,markVisitorAsRead:o}=e(),[l,c]=W.useState({type:"admin",id:"admin"});W.useEffect(()=>{l.type==="admin"?a():o(l.id)},[l,a,o]);const u=W.useMemo(()=>Array.from(r.entries()).sort(([,v],[,g])=>{var y,_;return(((y=g.lastMessage)==null?void 0:y.timestamp)||0)-(((_=v.lastMessage)==null?void 0:_.timestamp)||0)}),[r]),f=W.useMemo(()=>l.type==="admin"?n:r.get(l.id),[l,n,r]);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsx("h2",{className:"font-bold text-lg mb-3",children:""}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>c({type:"admin",id:"admin"}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id==="admin"?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(ige,{className:"text-gray-500"}),"  "]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((h=n.lastMessage)==null?void 0:h.senderId)===(t==null?void 0:t.id)?": ":"",((p=n.lastMessage)==null?void 0:p.text)||"  "]})]}),n.unread&&d.jsx(WA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]}),u.map(([v,g])=>{var y,_;return d.jsxs("button",{onClick:()=>c({type:"visitor",id:v}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id===v?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(sge,{className:"text-gray-500"}),"  ",v.substring(8,12)]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((y=g.lastMessage)==null?void 0:y.senderId)===(t==null?void 0:t.id)?": ":"",(_=g.lastMessage)==null?void 0:_.text]})]}),g.unread&&d.jsx(WA,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},v)})]})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:f&&t?d.jsx(nI,{messages:f.messages,onSendMessage:l.type==="admin"?i:v=>s(l.id,v),currentUserId:t.id,title:l.type==="admin"?"   ":`   ${l.id.substring(8,12)}`,isOnline:!0}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{children:"  "})})})]})]})},pMe=()=>{const{countryCode:t,docId:e}=oa(),{siteSettings:n}=tn(),{t:r}=Ci(),[i,s]=W.useState(null),[a,o]=W.useState(!0),[l,c]=W.useState(null),[u,f]=W.useState("form"),[h,p]=W.useState({}),[v,g]=W.useState(null),[y,_]=W.useState((n==null?void 0:n.ads.pdfInterstitialTimer)??5);W.useEffect(()=>{if(!e){c("   ."),o(!1);return}(async()=>{o(!0),c(null);try{const N=await fetch(`https://datas.gitut.com/data/json/documents/${e}.json`);if(!N.ok)throw new Error(`   . : ${N.status}`);const k=await N.json();s(k)}catch(N){console.error("    :",N),c(N instanceof Error?N.message:"   .")}finally{o(!1)}})()},[e]);const x=W.useMemo(()=>i?(i.requiredFields||[]).filter(S=>S!=="DateToday").map(S=>ei[S]):[],[i]),w=async S=>{if(!i||!S)return;const N=[i];if(S==="word"){let k=i.finalTemplateHtml||"";if(!k){alert("   .");return}const P=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});k=k.replace(/\[DateToday\]/g,P),Object.keys(h).forEach(O=>{const G=new RegExp(`\\[${O}\\]`,"g");k=k.replace(G,h[O]||"")}),k=k.replace(/\[[^\]]+\]/g,"");const I=new Blob([`
                <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                <head><meta charset='utf-8'><title>${i.name}</title></head>
                <body>${k}</body>
                </html>
            `],{type:"application/msword"}),U=document.createElement("a");U.href=URL.createObjectURL(I),U.download=`${i.slug||"document"}.doc`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(U.href);return}S==="pdf"&&await qy(N,i.id,h,{action:"download",targetLang:"ar",templateType:"final"})};W.useEffect(()=>{if(u==="ad")if(y>0){const S=setTimeout(()=>_(N=>N-1),1e3);return()=>clearTimeout(S)}else w(v)},[u,y,v]);const C=(S,N)=>{p(k=>({...k,[S]:N}))},D=S=>{S.preventDefault(),f("select_format")},R=S=>{g(S),_((n==null?void 0:n.ads.pdfInterstitialTimer)??5),f("ad")};return a?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})}):l||!i?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:l||"    "}),d.jsx(Zt,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):u==="select_format"?d.jsx("div",{className:"max-w-xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" :   "}),d.jsx("p",{className:"text-gray-600",children:"      ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[d.jsxs("button",{onClick:()=>R("pdf"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-red-100 text-red-800 font-bold p-6 rounded-lg hover:bg-red-200 border border-red-200 transition-colors",children:[d.jsx(bw,{size:40}),d.jsx("span",{children:"  PDF"})]}),d.jsxs("button",{onClick:()=>R("word"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-blue-100 text-blue-800 font-bold p-6 rounded-lg hover:bg-blue-200 border border-blue-200 transition-colors",children:[d.jsx(eI,{size:40}),d.jsx("span",{children:"  Word"})]})]})]})}):u==="ad"?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:y}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(ac,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(ac,{placement:"PUBLIC_FORM_RIGHT"})}),d.jsx("main",{className:"lg:col-span-3",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-4 text-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[" : ",i.name]}),d.jsx("p",{className:"text-gray-600",children:"      ."})]}),d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[x.map(S=>{if(!S)return null;const N=S.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:S.id,className:"block text-sm font-medium text-gray-700 mb-1",children:r(S.label)}),S.type==="file"?d.jsx(zv,{value:h[S.id]||"",onChange:k=>C(S.id,k)}):S.type==="select"&&S.options?d.jsxs("select",{id:S.id,name:S.id,value:h[N]||"",onChange:k=>C(k.target.name,k.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",required:!0,children:[d.jsx("option",{value:"",children:r(S.placeholder)}),S.options.map(k=>d.jsx("option",{value:k.value,children:r(k.label)},k.value))]}):d.jsx("input",{type:S.type,id:S.id,name:S.id,value:h[N]||"",onChange:k=>C(k.target.name,k.target.value),placeholder:r(S.placeholder),className:"w-full p-2 border rounded-md",required:!0})]},S.id)}),d.jsx("div",{className:"pt-4",children:d.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(PH,{}),d.jsx("span",{children:" "})]})})]})]})}),d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(ac,{placement:"PUBLIC_FORM_LEFT"})})]})},mMe=()=>{const{pathname:t}=Sr();return W.useEffect(()=>{window.scrollTo(0,0)},[t]),null},gMe=()=>{const{user:t,loading:e}=Dr(),n=W.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:t?{user:{email:t.email},credits:t.credits}:null};window.postMessage(r,"*")},[t,e]);return W.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&n()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[n]),W.useEffect(()=>{n()},[n]),null},yMe=()=>{const{countryCode:t}=oa(),e=W.useMemo(()=>gi.en.map(n=>n.code),[]);return t&&/^[a-z]{2}$/.test(t)&&e.includes(t)?d.jsx(TN,{}):d.jsx(aQ,{})},vMe=()=>{const{user:t,loading:e}=Dr(),{error:n}=tn(),{t:r}=Ci(),i=Sr(),s=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),a=s?s[1]:null;if(n)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(xw,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:r("app.error.title")}),d.jsx("p",{className:"text-sm",children:r("app.error.message")}),d.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:n}})]})]})})});if(e)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx(Ct,{className:"animate-spin text-4xl text-green-600"})});const o=i.pathname.startsWith("/admin");if(t&&t.countryCode&&a&&t.countryCode!==a&&!o){const h=i.pathname.replace(`/${a}`,`/${t.countryCode}`);return d.jsx(xp,{to:h,replace:!0})}const l=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(i.pathname),c=/^\/admin\/app\/document-studio/.test(i.pathname),f=l||c?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return d.jsx("main",{className:f,children:d.jsxs(fee,{children:[d.jsx(qt,{path:"/",element:d.jsx(C9,{})}),d.jsx(qt,{path:"/admin/login",element:d.jsx(vye,{})}),d.jsxs(qt,{path:"/admin/app",element:d.jsx(_ye,{children:d.jsx(bye,{})}),children:[d.jsx(qt,{index:!0,element:d.jsx(wye,{})}),d.jsx(qt,{path:"users",element:d.jsx(Tye,{})}),d.jsx(qt,{path:"billing",element:d.jsx(Eye,{})}),d.jsx(qt,{path:"settings",element:d.jsx(Cye,{})}),d.jsx(qt,{path:"seo",element:d.jsx(Dye,{})}),d.jsx(qt,{path:"pages",element:d.jsx(Gve,{})}),d.jsx(qt,{path:"ads",element:d.jsx(Xve,{})}),d.jsx(qt,{path:"blog",element:d.jsx(zSe,{})}),d.jsx(qt,{path:"data",element:d.jsx(ZSe,{})}),d.jsx(qt,{path:"sites",element:d.jsx(eDe,{})}),d.jsx(qt,{path:"documents",element:d.jsx(rDe,{})}),d.jsx(qt,{path:"document-studio",element:d.jsx(nMe,{})}),d.jsx(qt,{path:"base-templates",element:d.jsx(lMe,{})}),d.jsx(qt,{path:"static-docs",element:d.jsx(cDe,{})}),d.jsx(qt,{path:"excel-commands",element:d.jsx(cMe,{})}),d.jsx(qt,{path:"document-commands",element:d.jsx(dMe,{})}),d.jsx(qt,{path:"chat",element:d.jsx(fMe,{})})]}),d.jsx(qt,{path:"/login",element:d.jsx(xp,{to:"/dz/login",replace:!0})}),d.jsx(qt,{path:"/signup",element:d.jsx(xp,{to:"/dz/signup",replace:!0})}),d.jsx(qt,{path:"/app/*",element:d.jsx(xp,{to:"/",replace:!0})}),d.jsxs(qt,{path:"/:countryCode",element:d.jsx(yMe,{}),children:[d.jsx(qt,{index:!0,element:d.jsx(C9,{})}),d.jsx(qt,{path:"profile/:numericId",element:d.jsx(mge,{})}),d.jsx(qt,{path:"form",element:d.jsx(Cge,{})}),d.jsx(qt,{path:"public-form/:docId",element:d.jsx(pMe,{})}),d.jsx(qt,{path:"confirmation/:jobId",element:d.jsx(Sge,{})}),d.jsx(qt,{path:"page/:slug",element:d.jsx(Kve,{})}),d.jsx(qt,{path:"service/:type/:id",element:d.jsx(oDe,{})}),d.jsx(qt,{path:"view/:docId",element:d.jsx(dDe,{})}),d.jsx(qt,{path:"go-to-site/:siteId",element:d.jsx(iMe,{})}),d.jsx(qt,{path:"find-cafe",element:d.jsx(pDe,{})}),d.jsx(qt,{path:"login",element:d.jsx(Dge,{})}),d.jsx(qt,{path:"signup",element:d.jsx(Nge,{})}),d.jsxs(qt,{path:"app",element:d.jsx(Xge,{children:d.jsx(Rge,{children:d.jsx(Oge,{})})}),children:[d.jsx(qt,{index:!0,element:d.jsx(Bge,{})}),d.jsx(qt,{path:"pending-jobs",element:d.jsx($ge,{})}),d.jsx(qt,{path:"generate",element:d.jsx(Kge,{})}),d.jsx(qt,{path:"excel-studio",element:d.jsx(TFe,{})}),d.jsx(qt,{path:"document-studio",element:d.jsx(Z7e,{})}),d.jsx(qt,{path:"settings",element:d.jsx(uye,{})}),d.jsx(qt,{path:"multi-person-job",element:d.jsx(hye,{})}),d.jsx(qt,{path:"billing",element:d.jsx(yye,{})}),d.jsx(qt,{path:"fill-site/:siteId",element:d.jsx(tDe,{})}),d.jsx(qt,{path:"clients",element:d.jsx(iDe,{})}),d.jsx(qt,{path:"view-pdf/:docId",element:d.jsx(uDe,{})}),d.jsx(qt,{path:"chat",element:d.jsx(hMe,{})})]})]}),d.jsx(qt,{path:"*",element:d.jsx(aQ,{})})]})})},xMe=()=>d.jsx(Rme,{children:d.jsx(lge,{children:d.jsx(Uee,{children:d.jsx(cge,{children:d.jsxs(hge,{children:[d.jsx(rMe,{}),d.jsx(mMe,{}),d.jsx(gMe,{}),d.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[d.jsx(oge,{}),d.jsx(vMe,{}),d.jsx(uge,{})]})]})})})})}),oQ=document.getElementById("root");if(!oQ)throw new Error("Could not find root element to mount to");const bMe=bZ.createRoot(oQ);bMe.render(d.jsx(xl.StrictMode,{children:d.jsx(xMe,{})}));
