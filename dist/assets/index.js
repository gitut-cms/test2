(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function JQ(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var AE={exports:{}},kg={},NE={exports:{}},cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y5;function YQ(){if(Y5)return cn;Y5=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(B,j,W){this.props=B,this.context=j,this.refs=g,this.updater=W||p}y.prototype.isReactComponent={},y.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},y.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function b(){}b.prototype=y.prototype;function x(B,j,W){this.props=B,this.context=j,this.refs=g,this.updater=W||p}var w=x.prototype=new b;w.constructor=x,v(w,y.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function N(B,j,W){var H,Q={},Z=null,se=null;if(j!=null)for(H in j.ref!==void 0&&(se=j.ref),j.key!==void 0&&(Z=""+j.key),j)S.call(j,H)&&!D.hasOwnProperty(H)&&(Q[H]=j[H]);var ce=arguments.length-2;if(ce===1)Q.children=W;else if(1<ce){for(var ue=Array(ce),Ee=0;Ee<ce;Ee++)ue[Ee]=arguments[Ee+2];Q.children=ue}if(B&&B.defaultProps)for(H in ce=B.defaultProps,ce)Q[H]===void 0&&(Q[H]=ce[H]);return{$$typeof:t,type:B,key:Z,ref:se,props:Q,_owner:R.current}}function I(B,j){return{$$typeof:t,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function P(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(W){return j[W]})}var k=/\/+/g;function U(B,j){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):j.toString(36)}function O(B,j,W,H,Q){var Z=typeof B;(Z==="undefined"||Z==="boolean")&&(B=null);var se=!1;if(B===null)se=!0;else switch(Z){case"string":case"number":se=!0;break;case"object":switch(B.$$typeof){case t:case e:se=!0}}if(se)return se=B,Q=Q(se),B=H===""?"."+U(se,0):H,E(Q)?(W="",B!=null&&(W=B.replace(k,"$&/")+"/"),O(Q,j,W,"",function(Ee){return Ee})):Q!=null&&(F(Q)&&(Q=I(Q,W+(!Q.key||se&&se.key===Q.key?"":(""+Q.key).replace(k,"$&/")+"/")+B)),j.push(Q)),1;if(se=0,H=H===""?".":H+":",E(B))for(var ce=0;ce<B.length;ce++){Z=B[ce];var ue=H+U(Z,ce);se+=O(Z,j,W,ue,Q)}else if(ue=h(B),typeof ue=="function")for(B=ue.call(B),ce=0;!(Z=B.next()).done;)Z=Z.value,ue=H+U(Z,ce++),se+=O(Z,j,W,ue,Q);else if(Z==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return se}function X(B,j,W){if(B==null)return B;var H=[],Q=0;return O(B,H,"","",function(Z){return j.call(W,Z,Q++)}),H}function J(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(W){(B._status===0||B._status===-1)&&(B._status=1,B._result=W)},function(W){(B._status===0||B._status===-1)&&(B._status=2,B._result=W)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var Y={current:null},ne={transition:null},z={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:ne,ReactCurrentOwner:R};function K(){throw Error("act(...) is not supported in production builds of React.")}return cn.Children={map:X,forEach:function(B,j,W){X(B,function(){j.apply(this,arguments)},W)},count:function(B){var j=0;return X(B,function(){j++}),j},toArray:function(B){return X(B,function(j){return j})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},cn.Component=y,cn.Fragment=n,cn.Profiler=i,cn.PureComponent=x,cn.StrictMode=r,cn.Suspense=l,cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,cn.act=K,cn.cloneElement=function(B,j,W){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var H=v({},B.props),Q=B.key,Z=B.ref,se=B._owner;if(j!=null){if(j.ref!==void 0&&(Z=j.ref,se=R.current),j.key!==void 0&&(Q=""+j.key),B.type&&B.type.defaultProps)var ce=B.type.defaultProps;for(ue in j)S.call(j,ue)&&!D.hasOwnProperty(ue)&&(H[ue]=j[ue]===void 0&&ce!==void 0?ce[ue]:j[ue])}var ue=arguments.length-2;if(ue===1)H.children=W;else if(1<ue){ce=Array(ue);for(var Ee=0;Ee<ue;Ee++)ce[Ee]=arguments[Ee+2];H.children=ce}return{$$typeof:t,type:B.type,key:Q,ref:Z,props:H,_owner:se}},cn.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},cn.createElement=N,cn.createFactory=function(B){var j=N.bind(null,B);return j.type=B,j},cn.createRef=function(){return{current:null}},cn.forwardRef=function(B){return{$$typeof:o,render:B}},cn.isValidElement=F,cn.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:J}},cn.memo=function(B,j){return{$$typeof:c,type:B,compare:j===void 0?null:j}},cn.startTransition=function(B){var j=ne.transition;ne.transition={};try{B()}finally{ne.transition=j}},cn.unstable_act=K,cn.useCallback=function(B,j){return Y.current.useCallback(B,j)},cn.useContext=function(B){return Y.current.useContext(B)},cn.useDebugValue=function(){},cn.useDeferredValue=function(B){return Y.current.useDeferredValue(B)},cn.useEffect=function(B,j){return Y.current.useEffect(B,j)},cn.useId=function(){return Y.current.useId()},cn.useImperativeHandle=function(B,j,W){return Y.current.useImperativeHandle(B,j,W)},cn.useInsertionEffect=function(B,j){return Y.current.useInsertionEffect(B,j)},cn.useLayoutEffect=function(B,j){return Y.current.useLayoutEffect(B,j)},cn.useMemo=function(B,j){return Y.current.useMemo(B,j)},cn.useReducer=function(B,j,W){return Y.current.useReducer(B,j,W)},cn.useRef=function(B){return Y.current.useRef(B)},cn.useState=function(B){return Y.current.useState(B)},cn.useSyncExternalStore=function(B,j,W){return Y.current.useSyncExternalStore(B,j,W)},cn.useTransition=function(){return Y.current.useTransition()},cn.version="18.3.1",cn}var Q5;function eb(){return Q5||(Q5=1,NE.exports=YQ()),NE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5;function QQ(){if(Z5)return kg;Z5=1;var t=eb(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:o,key:h,ref:p,props:f,_owner:i.current}}return kg.Fragment=n,kg.jsx=a,kg.jsxs=a,kg}var eP;function ZQ(){return eP||(eP=1,AE.exports=QQ()),AE.exports}var d=ZQ(),q=eb();const Ro=Z_(q);var s1={},kE={exports:{}},Ks={},IE={exports:{}},RE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP;function eZ(){return tP||(tP=1,(function(t){function e(ne,z){var K=ne.length;ne.push(z);e:for(;0<K;){var B=K-1>>>1,j=ne[B];if(0<i(j,z))ne[B]=z,ne[K]=j,K=B;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var z=ne[0],K=ne.pop();if(K!==z){ne[0]=K;e:for(var B=0,j=ne.length,W=j>>>1;B<W;){var H=2*(B+1)-1,Q=ne[H],Z=H+1,se=ne[Z];if(0>i(Q,K))Z<j&&0>i(se,Q)?(ne[B]=se,ne[Z]=K,B=Z):(ne[B]=Q,ne[H]=K,B=H);else if(Z<j&&0>i(se,K))ne[B]=se,ne[Z]=K,B=Z;else break e}}return z}function i(ne,z){var K=ne.sortIndex-z.sortIndex;return K!==0?K:ne.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ne){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=ne)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function E(ne){if(g=!1,w(ne),!v)if(n(l)!==null)v=!0,J(S);else{var z=n(c);z!==null&&Y(E,z.startTime-ne)}}function S(ne,z){v=!1,g&&(g=!1,b(N),N=-1),p=!0;var K=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||ne&&!P());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var j=B(f.expirationTime<=z);z=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var H=n(c);H!==null&&Y(E,H.startTime-z),W=!1}return W}finally{f=null,h=K,p=!1}}var R=!1,D=null,N=-1,I=5,F=-1;function P(){return!(t.unstable_now()-F<I)}function k(){if(D!==null){var ne=t.unstable_now();F=ne;var z=!0;try{z=D(!0,ne)}finally{z?U():(R=!1,D=null)}}else R=!1}var U;if(typeof x=="function")U=function(){x(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,X=O.port2;O.port1.onmessage=k,U=function(){X.postMessage(null)}}else U=function(){y(k,0)};function J(ne){D=ne,R||(R=!0,U())}function Y(ne,z){N=y(function(){ne(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,J(S))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var K=h;h=z;try{return ne()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,z){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var K=h;h=ne;try{return z()}finally{h=K}},t.unstable_scheduleCallback=function(ne,z,K){var B=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?B+K:B):K=B,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=K+j,ne={id:u++,callback:z,priorityLevel:ne,startTime:K,expirationTime:j,sortIndex:-1},K>B?(ne.sortIndex=K,e(c,ne),n(l)===null&&ne===n(c)&&(g?(b(N),N=-1):g=!0,Y(E,K-B))):(ne.sortIndex=j,e(l,ne),v||p||(v=!0,J(S))),ne},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ne){var z=h;return function(){var K=h;h=z;try{return ne.apply(this,arguments)}finally{h=K}}}})(RE)),RE}var nP;function tZ(){return nP||(nP=1,IE.exports=eZ()),IE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function nZ(){if(rP)return Ks;rP=1;var t=eb(),e=tZ();function n(m){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+m,A=1;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(m,_){a(m,_),a(m+"Capture",_)}function a(m,_){for(i[m]=_,m=0;m<_.length;m++)r.add(_[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(m){return l.call(f,m)?!0:l.call(u,m)?!1:c.test(m)?f[m]=!0:(u[m]=!0,!1)}function p(m,_,A,L){if(A!==null&&A.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return L?!1:A!==null?!A.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function v(m,_,A,L){if(_===null||typeof _>"u"||p(m,_,A,L))return!0;if(L)return!1;if(A!==null)switch(A.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function g(m,_,A,L,G,te,ge){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=L,this.attributeNamespace=G,this.mustUseProperty=A,this.propertyName=m,this.type=_,this.sanitizeURL=te,this.removeEmptyString=ge}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){y[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var _=m[0];y[_]=new g(_,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){y[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){y[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){y[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){y[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){y[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){y[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){y[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var _=m.replace(b,x);y[_]=new g(_,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var _=m.replace(b,x);y[_]=new g(_,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var _=m.replace(b,x);y[_]=new g(_,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function w(m,_,A,L){var G=y.hasOwnProperty(_)?y[_]:null;(G!==null?G.type!==0:L||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(v(_,A,G,L)&&(A=null),L||G===null?h(_)&&(A===null?m.removeAttribute(_):m.setAttribute(_,""+A)):G.mustUseProperty?m[G.propertyName]=A===null?G.type===3?!1:"":A:(_=G.attributeName,L=G.attributeNamespace,A===null?m.removeAttribute(_):(G=G.type,A=G===3||G===4&&A===!0?"":""+A,L?m.setAttributeNS(L,_,A):m.setAttribute(_,A))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ne=Symbol.iterator;function z(m){return m===null||typeof m!="object"?null:(m=ne&&m[ne]||m["@@iterator"],typeof m=="function"?m:null)}var K=Object.assign,B;function j(m){if(B===void 0)try{throw Error()}catch(A){var _=A.stack.trim().match(/\n( *(at )?)/);B=_&&_[1]||""}return`
`+B+m}var W=!1;function H(m,_){if(!m||W)return"";W=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(Ye){var L=Ye}Reflect.construct(m,[],_)}else{try{_.call()}catch(Ye){L=Ye}m.call(_.prototype)}else{try{throw Error()}catch(Ye){L=Ye}m()}}catch(Ye){if(Ye&&L&&typeof Ye.stack=="string"){for(var G=Ye.stack.split(`
`),te=L.stack.split(`
`),ge=G.length-1,Pe=te.length-1;1<=ge&&0<=Pe&&G[ge]!==te[Pe];)Pe--;for(;1<=ge&&0<=Pe;ge--,Pe--)if(G[ge]!==te[Pe]){if(ge!==1||Pe!==1)do if(ge--,Pe--,0>Pe||G[ge]!==te[Pe]){var je=`
`+G[ge].replace(" at new "," at ");return m.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",m.displayName)),je}while(1<=ge&&0<=Pe);break}}}finally{W=!1,Error.prepareStackTrace=A}return(m=m?m.displayName||m.name:"")?j(m):""}function Q(m){switch(m.tag){case 5:return j(m.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return m=H(m.type,!1),m;case 11:return m=H(m.type.render,!1),m;case 1:return m=H(m.type,!0),m;default:return""}}function Z(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case D:return"Fragment";case R:return"Portal";case I:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case O:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case P:return(m.displayName||"Context")+".Consumer";case F:return(m._context.displayName||"Context")+".Provider";case k:var _=m.render;return m=m.displayName,m||(m=_.displayName||_.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case X:return _=m.displayName||null,_!==null?_:Z(m.type)||"Memo";case J:_=m._payload,m=m._init;try{return Z(m(_))}catch{}}return null}function se(m){var _=m.type;switch(m.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=_.render,m=m.displayName||m.name||"",_.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(_);case 8:return _===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function ce(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function ue(m){var _=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Ee(m){var _=ue(m)?"checked":"value",A=Object.getOwnPropertyDescriptor(m.constructor.prototype,_),L=""+m[_];if(!m.hasOwnProperty(_)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var G=A.get,te=A.set;return Object.defineProperty(m,_,{configurable:!0,get:function(){return G.call(this)},set:function(ge){L=""+ge,te.call(this,ge)}}),Object.defineProperty(m,_,{enumerable:A.enumerable}),{getValue:function(){return L},setValue:function(ge){L=""+ge},stopTracking:function(){m._valueTracker=null,delete m[_]}}}}function Ie(m){m._valueTracker||(m._valueTracker=Ee(m))}function fe(m){if(!m)return!1;var _=m._valueTracker;if(!_)return!0;var A=_.getValue(),L="";return m&&(L=ue(m)?m.checked?"true":"false":m.value),m=L,m!==A?(_.setValue(m),!0):!1}function Le(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function V(m,_){var A=_.checked;return K({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??m._wrapperState.initialChecked})}function ye(m,_){var A=_.defaultValue==null?"":_.defaultValue,L=_.checked!=null?_.checked:_.defaultChecked;A=ce(_.value!=null?_.value:A),m._wrapperState={initialChecked:L,initialValue:A,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function be(m,_){_=_.checked,_!=null&&w(m,"checked",_,!1)}function oe(m,_){be(m,_);var A=ce(_.value),L=_.type;if(A!=null)L==="number"?(A===0&&m.value===""||m.value!=A)&&(m.value=""+A):m.value!==""+A&&(m.value=""+A);else if(L==="submit"||L==="reset"){m.removeAttribute("value");return}_.hasOwnProperty("value")?le(m,_.type,A):_.hasOwnProperty("defaultValue")&&le(m,_.type,ce(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(m.defaultChecked=!!_.defaultChecked)}function re(m,_,A){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var L=_.type;if(!(L!=="submit"&&L!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+m._wrapperState.initialValue,A||_===m.value||(m.value=_),m.defaultValue=_}A=m.name,A!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,A!==""&&(m.name=A)}function le(m,_,A){(_!=="number"||Le(m.ownerDocument)!==m)&&(A==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+A&&(m.defaultValue=""+A))}var he=Array.isArray;function _e(m,_,A,L){if(m=m.options,_){_={};for(var G=0;G<A.length;G++)_["$"+A[G]]=!0;for(A=0;A<m.length;A++)G=_.hasOwnProperty("$"+m[A].value),m[A].selected!==G&&(m[A].selected=G),G&&L&&(m[A].defaultSelected=!0)}else{for(A=""+ce(A),_=null,G=0;G<m.length;G++){if(m[G].value===A){m[G].selected=!0,L&&(m[G].defaultSelected=!0);return}_!==null||m[G].disabled||(_=m[G])}_!==null&&(_.selected=!0)}}function ie(m,_){if(_.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},_,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function de(m,_){var A=_.value;if(A==null){if(A=_.children,_=_.defaultValue,A!=null){if(_!=null)throw Error(n(92));if(he(A)){if(1<A.length)throw Error(n(93));A=A[0]}_=A}_==null&&(_=""),A=_}m._wrapperState={initialValue:ce(A)}}function me(m,_){var A=ce(_.value),L=ce(_.defaultValue);A!=null&&(A=""+A,A!==m.value&&(m.value=A),_.defaultValue==null&&m.defaultValue!==A&&(m.defaultValue=A)),L!=null&&(m.defaultValue=""+L)}function ve(m){var _=m.textContent;_===m._wrapperState.initialValue&&_!==""&&_!==null&&(m.value=_)}function De(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(m,_){return m==null||m==="http://www.w3.org/1999/xhtml"?De(_):m==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Te,Me=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,A,L,G){MSApp.execUnsafeLocalFunction(function(){return m(_,A,L,G)})}:m})(function(m,_){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=_;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=Te.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;_.firstChild;)m.appendChild(_.firstChild)}});function Oe(m,_){if(_){var A=m.firstChild;if(A&&A===m.lastChild&&A.nodeType===3){A.nodeValue=_;return}}m.textContent=_}var Ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nt=["Webkit","ms","Moz","O"];Object.keys(Ge).forEach(function(m){nt.forEach(function(_){_=_+m.charAt(0).toUpperCase()+m.substring(1),Ge[_]=Ge[m]})});function st(m,_,A){return _==null||typeof _=="boolean"||_===""?"":A||typeof _!="number"||_===0||Ge.hasOwnProperty(m)&&Ge[m]?(""+_).trim():_+"px"}function Ot(m,_){m=m.style;for(var A in _)if(_.hasOwnProperty(A)){var L=A.indexOf("--")===0,G=st(A,_[A],L);A==="float"&&(A="cssFloat"),L?m.setProperty(A,G):m[A]=G}}var wn=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hn(m,_){if(_){if(wn[m]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(n(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(n(61))}if(_.style!=null&&typeof _.style!="object")throw Error(n(62))}}function zr(m,_){if(m.indexOf("-")===-1)return typeof _.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=null;function rr(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var wr=null,Qt=null,Nn=null;function pe(m){if(m=mg(m)){if(typeof wr!="function")throw Error(n(280));var _=m.stateNode;_&&(_=_x(_),wr(m.stateNode,m.type,_))}}function we(m){Qt?Nn?Nn.push(m):Nn=[m]:Qt=m}function Fe(){if(Qt){var m=Qt,_=Nn;if(Nn=Qt=null,pe(m),_)for(m=0;m<_.length;m++)pe(_[m])}}function He(m,_){return m(_)}function rt(){}var kt=!1;function ln(m,_,A){if(kt)return m(_,A);kt=!0;try{return He(m,_,A)}finally{kt=!1,(Qt!==null||Nn!==null)&&(rt(),Fe())}}function nn(m,_){var A=m.stateNode;if(A===null)return null;var L=_x(A);if(L===null)return null;A=L[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(m=m.type,L=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!L;break e;default:m=!1}if(m)return null;if(A&&typeof A!="function")throw Error(n(231,_,typeof A));return A}var Rr=!1;if(o)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Rr=!1}function ui(m,_,A,L,G,te,ge,Pe,je){var Ye=Array.prototype.slice.call(arguments,3);try{_.apply(A,Ye)}catch(ct){this.onError(ct)}}var Oi=!1,Yi=null,xe=!1,ke=null,Se={onError:function(m){Oi=!0,Yi=m}};function Ae(m,_,A,L,G,te,ge,Pe,je){Oi=!1,Yi=null,ui.apply(Se,arguments)}function Ne(m,_,A,L,G,te,ge,Pe,je){if(Ae.apply(this,arguments),Oi){if(Oi){var Ye=Yi;Oi=!1,Yi=null}else throw Error(n(198));xe||(xe=!0,ke=Ye)}}function Re(m){var _=m,A=m;if(m.alternate)for(;_.return;)_=_.return;else{m=_;do _=m,(_.flags&4098)!==0&&(A=_.return),m=_.return;while(m)}return _.tag===3?A:null}function We(m){if(m.tag===13){var _=m.memoizedState;if(_===null&&(m=m.alternate,m!==null&&(_=m.memoizedState)),_!==null)return _.dehydrated}return null}function Ze(m){if(Re(m)!==m)throw Error(n(188))}function $e(m){var _=m.alternate;if(!_){if(_=Re(m),_===null)throw Error(n(188));return _!==m?null:m}for(var A=m,L=_;;){var G=A.return;if(G===null)break;var te=G.alternate;if(te===null){if(L=G.return,L!==null){A=L;continue}break}if(G.child===te.child){for(te=G.child;te;){if(te===A)return Ze(G),m;if(te===L)return Ze(G),_;te=te.sibling}throw Error(n(188))}if(A.return!==L.return)A=G,L=te;else{for(var ge=!1,Pe=G.child;Pe;){if(Pe===A){ge=!0,A=G,L=te;break}if(Pe===L){ge=!0,L=G,A=te;break}Pe=Pe.sibling}if(!ge){for(Pe=te.child;Pe;){if(Pe===A){ge=!0,A=te,L=G;break}if(Pe===L){ge=!0,L=te,A=G;break}Pe=Pe.sibling}if(!ge)throw Error(n(189))}}if(A.alternate!==L)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?m:_}function Xe(m){return m=$e(m),m!==null?Je(m):null}function Je(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var _=Je(m);if(_!==null)return _;m=m.sibling}return null}var ut=e.unstable_scheduleCallback,vt=e.unstable_cancelCallback,Tt=e.unstable_shouldYield,pt=e.unstable_requestPaint,dt=e.unstable_now,Gt=e.unstable_getCurrentPriorityLevel,kn=e.unstable_ImmediatePriority,Tn=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,co=e.unstable_LowPriority,qo=e.unstable_IdlePriority,ua=null,Hr=null;function Ic(m){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(ua,m,void 0,(m.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:Qv,Zm=Math.log,Yv=Math.LN2;function Qv(m){return m>>>=0,m===0?32:31-(Zm(m)/Yv|0)|0}var dh=64,fh=4194304;function Rc(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function hd(m,_){var A=m.pendingLanes;if(A===0)return 0;var L=0,G=m.suspendedLanes,te=m.pingedLanes,ge=A&268435455;if(ge!==0){var Pe=ge&~G;Pe!==0?L=Rc(Pe):(te&=ge,te!==0&&(L=Rc(te)))}else ge=A&~G,ge!==0?L=Rc(ge):te!==0&&(L=Rc(te));if(L===0)return 0;if(_!==0&&_!==L&&(_&G)===0&&(G=L&-L,te=_&-_,G>=te||G===16&&(te&4194240)!==0))return _;if((L&4)!==0&&(L|=A&16),_=m.entangledLanes,_!==0)for(m=m.entanglements,_&=L;0<_;)A=31-ir(_),G=1<<A,L|=m[A],_&=~G;return L}function iT(m,_){switch(m){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(m,_){for(var A=m.suspendedLanes,L=m.pingedLanes,G=m.expirationTimes,te=m.pendingLanes;0<te;){var ge=31-ir(te),Pe=1<<ge,je=G[ge];je===-1?((Pe&A)===0||(Pe&L)!==0)&&(G[ge]=iT(Pe,_)):je<=_&&(m.expiredLanes|=Pe),te&=~Pe}}function da(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function pd(){var m=dh;return dh<<=1,(dh&4194240)===0&&(dh=64),m}function Pc(m){for(var _=[],A=0;31>A;A++)_.push(m);return _}function Fc(m,_,A){m.pendingLanes|=_,_!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,_=31-ir(_),m[_]=A}function Gn(m,_){var A=m.pendingLanes&~_;m.pendingLanes=_,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=_,m.mutableReadLanes&=_,m.entangledLanes&=_,_=m.entanglements;var L=m.eventTimes;for(m=m.expirationTimes;0<A;){var G=31-ir(A),te=1<<G;_[G]=0,L[G]=-1,m[G]=-1,A&=~te}}function Mc(m,_){var A=m.entangledLanes|=_;for(m=m.entanglements;A;){var L=31-ir(A),G=1<<L;G&_|m[L]&_&&(m[L]|=_),A&=~G}}var gn=0;function Uc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var Zv,hh,ex,tx,nx,eg=!1,zo=[],Li=null,uo=null,fo=null,Oc=new Map,Ia=new Map,Ho=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rx(m,_){switch(m){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Oc.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(_.pointerId)}}function Vs(m,_,A,L,G,te){return m===null||m.nativeEvent!==te?(m={blockedOn:_,domEventName:A,eventSystemFlags:L,nativeEvent:te,targetContainers:[G]},_!==null&&(_=mg(_),_!==null&&hh(_)),m):(m.eventSystemFlags|=L,_=m.targetContainers,G!==null&&_.indexOf(G)===-1&&_.push(G),m)}function aT(m,_,A,L,G){switch(_){case"focusin":return Li=Vs(Li,m,_,A,L,G),!0;case"dragenter":return uo=Vs(uo,m,_,A,L,G),!0;case"mouseover":return fo=Vs(fo,m,_,A,L,G),!0;case"pointerover":var te=G.pointerId;return Oc.set(te,Vs(Oc.get(te)||null,m,_,A,L,G)),!0;case"gotpointercapture":return te=G.pointerId,Ia.set(te,Vs(Ia.get(te)||null,m,_,A,L,G)),!0}return!1}function ix(m){var _=xd(m.target);if(_!==null){var A=Re(_);if(A!==null){if(_=A.tag,_===13){if(_=We(A),_!==null){m.blockedOn=_,nx(m.priority,function(){ex(A)});return}}else if(_===3&&A.stateNode.current.memoizedState.isDehydrated){m.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Fl(m){if(m.blockedOn!==null)return!1;for(var _=m.targetContainers;0<_.length;){var A=ph(m.domEventName,m.eventSystemFlags,_[0],m.nativeEvent);if(A===null){A=m.nativeEvent;var L=new A.constructor(A.type,A);nr=L,A.target.dispatchEvent(L),nr=null}else return _=mg(A),_!==null&&hh(_),m.blockedOn=A,!1;_.shift()}return!0}function md(m,_,A){Fl(m)&&A.delete(_)}function sx(){eg=!1,Li!==null&&Fl(Li)&&(Li=null),uo!==null&&Fl(uo)&&(uo=null),fo!==null&&Fl(fo)&&(fo=null),Oc.forEach(md),Ia.forEach(md)}function ho(m,_){m.blockedOn===_&&(m.blockedOn=null,eg||(eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sx)))}function po(m){function _(G){return ho(G,m)}if(0<zo.length){ho(zo[0],m);for(var A=1;A<zo.length;A++){var L=zo[A];L.blockedOn===m&&(L.blockedOn=null)}}for(Li!==null&&ho(Li,m),uo!==null&&ho(uo,m),fo!==null&&ho(fo,m),Oc.forEach(_),Ia.forEach(_),A=0;A<Ho.length;A++)L=Ho[A],L.blockedOn===m&&(L.blockedOn=null);for(;0<Ho.length&&(A=Ho[0],A.blockedOn===null);)ix(A),A.blockedOn===null&&Ho.shift()}var Ml=E.ReactCurrentBatchConfig,Lc=!0;function pr(m,_,A,L){var G=gn,te=Ml.transition;Ml.transition=null;try{gn=1,tg(m,_,A,L)}finally{gn=G,Ml.transition=te}}function oT(m,_,A,L){var G=gn,te=Ml.transition;Ml.transition=null;try{gn=4,tg(m,_,A,L)}finally{gn=G,Ml.transition=te}}function tg(m,_,A,L){if(Lc){var G=ph(m,_,A,L);if(G===null)vT(m,_,L,gd,A),rx(m,L);else if(aT(G,m,_,A,L))L.stopPropagation();else if(rx(m,L),_&4&&-1<sT.indexOf(m)){for(;G!==null;){var te=mg(G);if(te!==null&&Zv(te),te=ph(m,_,A,L),te===null&&vT(m,_,L,gd,A),te===G)break;G=te}G!==null&&L.stopPropagation()}else vT(m,_,L,null,A)}}var gd=null;function ph(m,_,A,L){if(gd=null,m=rr(L),m=xd(m),m!==null)if(_=Re(m),_===null)m=null;else if(A=_.tag,A===13){if(m=We(_),m!==null)return m;m=null}else if(A===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;m=null}else _!==m&&(m=null);return gd=m,null}function ng(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gt()){case kn:return 1;case Tn:return 4;case Mn:case co:return 16;case qo:return 536870912;default:return 16}default:return 16}}var fa=null,mh=null,Ws=null;function rg(){if(Ws)return Ws;var m,_=mh,A=_.length,L,G="value"in fa?fa.value:fa.textContent,te=G.length;for(m=0;m<A&&_[m]===G[m];m++);var ge=A-m;for(L=1;L<=ge&&_[A-L]===G[te-L];L++);return Ws=G.slice(m,1<L?1-L:void 0)}function gh(m){var _=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&_===13&&(m=13)):m=_,m===10&&(m=13),32<=m||m===13?m:0}function $o(){return!0}function ig(){return!1}function ji(m){function _(A,L,G,te,ge){this._reactName=A,this._targetInst=G,this.type=L,this.nativeEvent=te,this.target=ge,this.currentTarget=null;for(var Pe in m)m.hasOwnProperty(Pe)&&(A=m[Pe],this[Pe]=A?A(te):te[Pe]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?$o:ig,this.isPropagationStopped=ig,this}return K(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),_}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=ji(mo),Go=K({},mo,{view:0,detail:0}),lT=ji(Go),vh,Ul,jc,yd=K({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==jc&&(jc&&m.type==="mousemove"?(vh=m.screenX-jc.screenX,Ul=m.screenY-jc.screenY):Ul=vh=0,jc=m),vh)},movementY:function(m){return"movementY"in m?m.movementY:Ul}}),xh=ji(yd),sg=K({},yd,{dataTransfer:0}),ax=ji(sg),_h=K({},Go,{relatedTarget:0}),bh=ji(_h),ox=K({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ol=ji(ox),lx=K({},mo,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),cx=ji(lx),ux=K({},mo,{data:0}),ag=ji(ux),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fx(m){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(m):(m=dx[m])?!!_[m]:!1}function Ko(){return fx}var M=K({},Go,{key:function(m){if(m.key){var _=wh[m.key]||m.key;if(_!=="Unidentified")return _}return m.type==="keypress"?(m=gh(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Cs[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(m){return m.type==="keypress"?gh(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?gh(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),ee=ji(M),ae=K({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ce=ji(ae),qe=K({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),et=ji(qe),_t=K({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Un=ji(_t),di=K({},yd,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),yn=ji(di),bi=[9,13,27,32],ti=o&&"CompositionEvent"in window,Ra=null;o&&"documentMode"in document&&(Ra=document.documentMode);var ha=o&&"TextEvent"in window&&!Ra,vd=o&&(!ti||Ra&&8<Ra&&11>=Ra),Th=" ",H6=!1;function $6(m,_){switch(m){case"keyup":return bi.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G6(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var Eh=!1;function GY(m,_){switch(m){case"compositionend":return G6(_);case"keypress":return _.which!==32?null:(H6=!0,Th);case"textInput":return m=_.data,m===Th&&H6?null:m;default:return null}}function KY(m,_){if(Eh)return m==="compositionend"||!ti&&$6(m,_)?(m=rg(),Ws=mh=fa=null,Eh=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return vd&&_.locale!=="ko"?null:_.data;default:return null}}var XY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K6(m){var _=m&&m.nodeName&&m.nodeName.toLowerCase();return _==="input"?!!XY[m.type]:_==="textarea"}function X6(m,_,A,L){we(L),_=yx(_,"onChange"),0<_.length&&(A=new yh("onChange","change",null,A,L),m.push({event:A,listeners:_}))}var og=null,lg=null;function JY(m){hR(m,0)}function hx(m){var _=Nh(m);if(fe(_))return m}function YY(m,_){if(m==="change")return _}var J6=!1;if(o){var cT;if(o){var uT="oninput"in document;if(!uT){var Y6=document.createElement("div");Y6.setAttribute("oninput","return;"),uT=typeof Y6.oninput=="function"}cT=uT}else cT=!1;J6=cT&&(!document.documentMode||9<document.documentMode)}function Q6(){og&&(og.detachEvent("onpropertychange",Z6),lg=og=null)}function Z6(m){if(m.propertyName==="value"&&hx(lg)){var _=[];X6(_,lg,m,rr(m)),ln(JY,_)}}function QY(m,_,A){m==="focusin"?(Q6(),og=_,lg=A,og.attachEvent("onpropertychange",Z6)):m==="focusout"&&Q6()}function ZY(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return hx(lg)}function eQ(m,_){if(m==="click")return hx(_)}function tQ(m,_){if(m==="input"||m==="change")return hx(_)}function nQ(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var go=typeof Object.is=="function"?Object.is:nQ;function cg(m,_){if(go(m,_))return!0;if(typeof m!="object"||m===null||typeof _!="object"||_===null)return!1;var A=Object.keys(m),L=Object.keys(_);if(A.length!==L.length)return!1;for(L=0;L<A.length;L++){var G=A[L];if(!l.call(_,G)||!go(m[G],_[G]))return!1}return!0}function eR(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function tR(m,_){var A=eR(m);m=0;for(var L;A;){if(A.nodeType===3){if(L=m+A.textContent.length,m<=_&&L>=_)return{node:A,offset:_-m};m=L}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=eR(A)}}function nR(m,_){return m&&_?m===_?!0:m&&m.nodeType===3?!1:_&&_.nodeType===3?nR(m,_.parentNode):"contains"in m?m.contains(_):m.compareDocumentPosition?!!(m.compareDocumentPosition(_)&16):!1:!1}function rR(){for(var m=window,_=Le();_ instanceof m.HTMLIFrameElement;){try{var A=typeof _.contentWindow.location.href=="string"}catch{A=!1}if(A)m=_.contentWindow;else break;_=Le(m.document)}return _}function dT(m){var _=m&&m.nodeName&&m.nodeName.toLowerCase();return _&&(_==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||_==="textarea"||m.contentEditable==="true")}function rQ(m){var _=rR(),A=m.focusedElem,L=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&nR(A.ownerDocument.documentElement,A)){if(L!==null&&dT(A)){if(_=L.start,m=L.end,m===void 0&&(m=_),"selectionStart"in A)A.selectionStart=_,A.selectionEnd=Math.min(m,A.value.length);else if(m=(_=A.ownerDocument||document)&&_.defaultView||window,m.getSelection){m=m.getSelection();var G=A.textContent.length,te=Math.min(L.start,G);L=L.end===void 0?te:Math.min(L.end,G),!m.extend&&te>L&&(G=L,L=te,te=G),G=tR(A,te);var ge=tR(A,L);G&&ge&&(m.rangeCount!==1||m.anchorNode!==G.node||m.anchorOffset!==G.offset||m.focusNode!==ge.node||m.focusOffset!==ge.offset)&&(_=_.createRange(),_.setStart(G.node,G.offset),m.removeAllRanges(),te>L?(m.addRange(_),m.extend(ge.node,ge.offset)):(_.setEnd(ge.node,ge.offset),m.addRange(_)))}}for(_=[],m=A;m=m.parentNode;)m.nodeType===1&&_.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<_.length;A++)m=_[A],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var iQ=o&&"documentMode"in document&&11>=document.documentMode,Ch=null,fT=null,ug=null,hT=!1;function iR(m,_,A){var L=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;hT||Ch==null||Ch!==Le(L)||(L=Ch,"selectionStart"in L&&dT(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),ug&&cg(ug,L)||(ug=L,L=yx(fT,"onSelect"),0<L.length&&(_=new yh("onSelect","select",null,_,A),m.push({event:_,listeners:L}),_.target=Ch)))}function px(m,_){var A={};return A[m.toLowerCase()]=_.toLowerCase(),A["Webkit"+m]="webkit"+_,A["Moz"+m]="moz"+_,A}var Sh={animationend:px("Animation","AnimationEnd"),animationiteration:px("Animation","AnimationIteration"),animationstart:px("Animation","AnimationStart"),transitionend:px("Transition","TransitionEnd")},pT={},sR={};o&&(sR=document.createElement("div").style,"AnimationEvent"in window||(delete Sh.animationend.animation,delete Sh.animationiteration.animation,delete Sh.animationstart.animation),"TransitionEvent"in window||delete Sh.transitionend.transition);function mx(m){if(pT[m])return pT[m];if(!Sh[m])return m;var _=Sh[m],A;for(A in _)if(_.hasOwnProperty(A)&&A in sR)return pT[m]=_[A];return m}var aR=mx("animationend"),oR=mx("animationiteration"),lR=mx("animationstart"),cR=mx("transitionend"),uR=new Map,dR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bc(m,_){uR.set(m,_),s(_,[m])}for(var mT=0;mT<dR.length;mT++){var gT=dR[mT],sQ=gT.toLowerCase(),aQ=gT[0].toUpperCase()+gT.slice(1);Bc(sQ,"on"+aQ)}Bc(aR,"onAnimationEnd"),Bc(oR,"onAnimationIteration"),Bc(lR,"onAnimationStart"),Bc("dblclick","onDoubleClick"),Bc("focusin","onFocus"),Bc("focusout","onBlur"),Bc(cR,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(dg));function fR(m,_,A){var L=m.type||"unknown-event";m.currentTarget=A,Ne(L,_,void 0,m),m.currentTarget=null}function hR(m,_){_=(_&4)!==0;for(var A=0;A<m.length;A++){var L=m[A],G=L.event;L=L.listeners;e:{var te=void 0;if(_)for(var ge=L.length-1;0<=ge;ge--){var Pe=L[ge],je=Pe.instance,Ye=Pe.currentTarget;if(Pe=Pe.listener,je!==te&&G.isPropagationStopped())break e;fR(G,Pe,Ye),te=je}else for(ge=0;ge<L.length;ge++){if(Pe=L[ge],je=Pe.instance,Ye=Pe.currentTarget,Pe=Pe.listener,je!==te&&G.isPropagationStopped())break e;fR(G,Pe,Ye),te=je}}}if(xe)throw m=ke,xe=!1,ke=null,m}function sr(m,_){var A=_[ET];A===void 0&&(A=_[ET]=new Set);var L=m+"__bubble";A.has(L)||(pR(_,m,2,!1),A.add(L))}function yT(m,_,A){var L=0;_&&(L|=4),pR(A,m,L,_)}var gx="_reactListening"+Math.random().toString(36).slice(2);function fg(m){if(!m[gx]){m[gx]=!0,r.forEach(function(A){A!=="selectionchange"&&(oQ.has(A)||yT(A,!1,m),yT(A,!0,m))});var _=m.nodeType===9?m:m.ownerDocument;_===null||_[gx]||(_[gx]=!0,yT("selectionchange",!1,_))}}function pR(m,_,A,L){switch(ng(_)){case 1:var G=pr;break;case 4:G=oT;break;default:G=tg}A=G.bind(null,_,A,m),G=void 0,!Rr||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(G=!0),L?G!==void 0?m.addEventListener(_,A,{capture:!0,passive:G}):m.addEventListener(_,A,!0):G!==void 0?m.addEventListener(_,A,{passive:G}):m.addEventListener(_,A,!1)}function vT(m,_,A,L,G){var te=L;if((_&1)===0&&(_&2)===0&&L!==null)e:for(;;){if(L===null)return;var ge=L.tag;if(ge===3||ge===4){var Pe=L.stateNode.containerInfo;if(Pe===G||Pe.nodeType===8&&Pe.parentNode===G)break;if(ge===4)for(ge=L.return;ge!==null;){var je=ge.tag;if((je===3||je===4)&&(je=ge.stateNode.containerInfo,je===G||je.nodeType===8&&je.parentNode===G))return;ge=ge.return}for(;Pe!==null;){if(ge=xd(Pe),ge===null)return;if(je=ge.tag,je===5||je===6){L=te=ge;continue e}Pe=Pe.parentNode}}L=L.return}ln(function(){var Ye=te,ct=rr(A),ht=[];e:{var ot=uR.get(m);if(ot!==void 0){var Ct=yh,It=m;switch(m){case"keypress":if(gh(A)===0)break e;case"keydown":case"keyup":Ct=ee;break;case"focusin":It="focus",Ct=bh;break;case"focusout":It="blur",Ct=bh;break;case"beforeblur":case"afterblur":Ct=bh;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=et;break;case aR:case oR:case lR:Ct=Ol;break;case cR:Ct=Un;break;case"scroll":Ct=lT;break;case"wheel":Ct=yn;break;case"copy":case"cut":case"paste":Ct=cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Ce}var Ft=(_&4)!==0,$r=!Ft&&m==="scroll",ze=Ft?ot!==null?ot+"Capture":null:ot;Ft=[];for(var Be=Ye,Ke;Be!==null;){Ke=Be;var gt=Ke.stateNode;if(Ke.tag===5&&gt!==null&&(Ke=gt,ze!==null&&(gt=nn(Be,ze),gt!=null&&Ft.push(hg(Be,gt,Ke)))),$r)break;Be=Be.return}0<Ft.length&&(ot=new Ct(ot,It,null,A,ct),ht.push({event:ot,listeners:Ft}))}}if((_&7)===0){e:{if(ot=m==="mouseover"||m==="pointerover",Ct=m==="mouseout"||m==="pointerout",ot&&A!==nr&&(It=A.relatedTarget||A.fromElement)&&(xd(It)||It[Ll]))break e;if((Ct||ot)&&(ot=ct.window===ct?ct:(ot=ct.ownerDocument)?ot.defaultView||ot.parentWindow:window,Ct?(It=A.relatedTarget||A.toElement,Ct=Ye,It=It?xd(It):null,It!==null&&($r=Re(It),It!==$r||It.tag!==5&&It.tag!==6)&&(It=null)):(Ct=null,It=Ye),Ct!==It)){if(Ft=xh,gt="onMouseLeave",ze="onMouseEnter",Be="mouse",(m==="pointerout"||m==="pointerover")&&(Ft=Ce,gt="onPointerLeave",ze="onPointerEnter",Be="pointer"),$r=Ct==null?ot:Nh(Ct),Ke=It==null?ot:Nh(It),ot=new Ft(gt,Be+"leave",Ct,A,ct),ot.target=$r,ot.relatedTarget=Ke,gt=null,xd(ct)===Ye&&(Ft=new Ft(ze,Be+"enter",It,A,ct),Ft.target=Ke,Ft.relatedTarget=$r,gt=Ft),$r=gt,Ct&&It)t:{for(Ft=Ct,ze=It,Be=0,Ke=Ft;Ke;Ke=Dh(Ke))Be++;for(Ke=0,gt=ze;gt;gt=Dh(gt))Ke++;for(;0<Be-Ke;)Ft=Dh(Ft),Be--;for(;0<Ke-Be;)ze=Dh(ze),Ke--;for(;Be--;){if(Ft===ze||ze!==null&&Ft===ze.alternate)break t;Ft=Dh(Ft),ze=Dh(ze)}Ft=null}else Ft=null;Ct!==null&&mR(ht,ot,Ct,Ft,!1),It!==null&&$r!==null&&mR(ht,$r,It,Ft,!0)}}e:{if(ot=Ye?Nh(Ye):window,Ct=ot.nodeName&&ot.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&ot.type==="file")var Mt=YY;else if(K6(ot))if(J6)Mt=tQ;else{Mt=ZY;var Bt=QY}else(Ct=ot.nodeName)&&Ct.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(Mt=eQ);if(Mt&&(Mt=Mt(m,Ye))){X6(ht,Mt,A,ct);break e}Bt&&Bt(m,ot,Ye),m==="focusout"&&(Bt=ot._wrapperState)&&Bt.controlled&&ot.type==="number"&&le(ot,"number",ot.value)}switch(Bt=Ye?Nh(Ye):window,m){case"focusin":(K6(Bt)||Bt.contentEditable==="true")&&(Ch=Bt,fT=Ye,ug=null);break;case"focusout":ug=fT=Ch=null;break;case"mousedown":hT=!0;break;case"contextmenu":case"mouseup":case"dragend":hT=!1,iR(ht,A,ct);break;case"selectionchange":if(iQ)break;case"keydown":case"keyup":iR(ht,A,ct)}var Vt;if(ti)e:{switch(m){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else Eh?$6(m,A)&&(Xt="onCompositionEnd"):m==="keydown"&&A.keyCode===229&&(Xt="onCompositionStart");Xt&&(vd&&A.locale!=="ko"&&(Eh||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&Eh&&(Vt=rg()):(fa=ct,mh="value"in fa?fa.value:fa.textContent,Eh=!0)),Bt=yx(Ye,Xt),0<Bt.length&&(Xt=new ag(Xt,m,null,A,ct),ht.push({event:Xt,listeners:Bt}),Vt?Xt.data=Vt:(Vt=G6(A),Vt!==null&&(Xt.data=Vt)))),(Vt=ha?GY(m,A):KY(m,A))&&(Ye=yx(Ye,"onBeforeInput"),0<Ye.length&&(ct=new ag("onBeforeInput","beforeinput",null,A,ct),ht.push({event:ct,listeners:Ye}),ct.data=Vt))}hR(ht,_)})}function hg(m,_,A){return{instance:m,listener:_,currentTarget:A}}function yx(m,_){for(var A=_+"Capture",L=[];m!==null;){var G=m,te=G.stateNode;G.tag===5&&te!==null&&(G=te,te=nn(m,A),te!=null&&L.unshift(hg(m,te,G)),te=nn(m,_),te!=null&&L.push(hg(m,te,G))),m=m.return}return L}function Dh(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function mR(m,_,A,L,G){for(var te=_._reactName,ge=[];A!==null&&A!==L;){var Pe=A,je=Pe.alternate,Ye=Pe.stateNode;if(je!==null&&je===L)break;Pe.tag===5&&Ye!==null&&(Pe=Ye,G?(je=nn(A,te),je!=null&&ge.unshift(hg(A,je,Pe))):G||(je=nn(A,te),je!=null&&ge.push(hg(A,je,Pe)))),A=A.return}ge.length!==0&&m.push({event:_,listeners:ge})}var lQ=/\r\n?/g,cQ=/\u0000|\uFFFD/g;function gR(m){return(typeof m=="string"?m:""+m).replace(lQ,`
`).replace(cQ,"")}function vx(m,_,A){if(_=gR(_),gR(m)!==_&&A)throw Error(n(425))}function xx(){}var xT=null,_T=null;function bT(m,_){return m==="textarea"||m==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var wT=typeof setTimeout=="function"?setTimeout:void 0,uQ=typeof clearTimeout=="function"?clearTimeout:void 0,yR=typeof Promise=="function"?Promise:void 0,dQ=typeof queueMicrotask=="function"?queueMicrotask:typeof yR<"u"?function(m){return yR.resolve(null).then(m).catch(fQ)}:wT;function fQ(m){setTimeout(function(){throw m})}function TT(m,_){var A=_,L=0;do{var G=A.nextSibling;if(m.removeChild(A),G&&G.nodeType===8)if(A=G.data,A==="/$"){if(L===0){m.removeChild(G),po(_);return}L--}else A!=="$"&&A!=="$?"&&A!=="$!"||L++;A=G}while(A);po(_)}function Vc(m){for(;m!=null;m=m.nextSibling){var _=m.nodeType;if(_===1||_===3)break;if(_===8){if(_=m.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return m}function vR(m){m=m.previousSibling;for(var _=0;m;){if(m.nodeType===8){var A=m.data;if(A==="$"||A==="$!"||A==="$?"){if(_===0)return m;_--}else A==="/$"&&_++}m=m.previousSibling}return null}var Ah=Math.random().toString(36).slice(2),Xo="__reactFiber$"+Ah,pg="__reactProps$"+Ah,Ll="__reactContainer$"+Ah,ET="__reactEvents$"+Ah,hQ="__reactListeners$"+Ah,pQ="__reactHandles$"+Ah;function xd(m){var _=m[Xo];if(_)return _;for(var A=m.parentNode;A;){if(_=A[Ll]||A[Xo]){if(A=_.alternate,_.child!==null||A!==null&&A.child!==null)for(m=vR(m);m!==null;){if(A=m[Xo])return A;m=vR(m)}return _}m=A,A=m.parentNode}return null}function mg(m){return m=m[Xo]||m[Ll],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Nh(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function _x(m){return m[pg]||null}var CT=[],kh=-1;function Wc(m){return{current:m}}function ar(m){0>kh||(m.current=CT[kh],CT[kh]=null,kh--)}function Jn(m,_){kh++,CT[kh]=m.current,m.current=_}var qc={},Qi=Wc(qc),qs=Wc(!1),_d=qc;function Ih(m,_){var A=m.type.contextTypes;if(!A)return qc;var L=m.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===_)return L.__reactInternalMemoizedMaskedChildContext;var G={},te;for(te in A)G[te]=_[te];return L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=_,m.__reactInternalMemoizedMaskedChildContext=G),G}function zs(m){return m=m.childContextTypes,m!=null}function bx(){ar(qs),ar(Qi)}function xR(m,_,A){if(Qi.current!==qc)throw Error(n(168));Jn(Qi,_),Jn(qs,A)}function _R(m,_,A){var L=m.stateNode;if(_=_.childContextTypes,typeof L.getChildContext!="function")return A;L=L.getChildContext();for(var G in L)if(!(G in _))throw Error(n(108,se(m)||"Unknown",G));return K({},A,L)}function wx(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||qc,_d=Qi.current,Jn(Qi,m),Jn(qs,qs.current),!0}function bR(m,_,A){var L=m.stateNode;if(!L)throw Error(n(169));A?(m=_R(m,_,_d),L.__reactInternalMemoizedMergedChildContext=m,ar(qs),ar(Qi),Jn(Qi,m)):ar(qs),Jn(qs,A)}var jl=null,Tx=!1,ST=!1;function wR(m){jl===null?jl=[m]:jl.push(m)}function mQ(m){Tx=!0,wR(m)}function zc(){if(!ST&&jl!==null){ST=!0;var m=0,_=gn;try{var A=jl;for(gn=1;m<A.length;m++){var L=A[m];do L=L(!0);while(L!==null)}jl=null,Tx=!1}catch(G){throw jl!==null&&(jl=jl.slice(m+1)),ut(kn,zc),G}finally{gn=_,ST=!1}}return null}var Rh=[],Ph=0,Ex=null,Cx=0,Pa=[],Fa=0,bd=null,Bl=1,Vl="";function wd(m,_){Rh[Ph++]=Cx,Rh[Ph++]=Ex,Ex=m,Cx=_}function TR(m,_,A){Pa[Fa++]=Bl,Pa[Fa++]=Vl,Pa[Fa++]=bd,bd=m;var L=Bl;m=Vl;var G=32-ir(L)-1;L&=~(1<<G),A+=1;var te=32-ir(_)+G;if(30<te){var ge=G-G%5;te=(L&(1<<ge)-1).toString(32),L>>=ge,G-=ge,Bl=1<<32-ir(_)+G|A<<G|L,Vl=te+m}else Bl=1<<te|A<<G|L,Vl=m}function DT(m){m.return!==null&&(wd(m,1),TR(m,1,0))}function AT(m){for(;m===Ex;)Ex=Rh[--Ph],Rh[Ph]=null,Cx=Rh[--Ph],Rh[Ph]=null;for(;m===bd;)bd=Pa[--Fa],Pa[Fa]=null,Vl=Pa[--Fa],Pa[Fa]=null,Bl=Pa[--Fa],Pa[Fa]=null}var pa=null,ma=null,mr=!1,yo=null;function ER(m,_){var A=La(5,null,null,0);A.elementType="DELETED",A.stateNode=_,A.return=m,_=m.deletions,_===null?(m.deletions=[A],m.flags|=16):_.push(A)}function CR(m,_){switch(m.tag){case 5:var A=m.type;return _=_.nodeType!==1||A.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(m.stateNode=_,pa=m,ma=Vc(_.firstChild),!0):!1;case 6:return _=m.pendingProps===""||_.nodeType!==3?null:_,_!==null?(m.stateNode=_,pa=m,ma=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(A=bd!==null?{id:Bl,overflow:Vl}:null,m.memoizedState={dehydrated:_,treeContext:A,retryLane:1073741824},A=La(18,null,null,0),A.stateNode=_,A.return=m,m.child=A,pa=m,ma=null,!0):!1;default:return!1}}function NT(m){return(m.mode&1)!==0&&(m.flags&128)===0}function kT(m){if(mr){var _=ma;if(_){var A=_;if(!CR(m,_)){if(NT(m))throw Error(n(418));_=Vc(A.nextSibling);var L=pa;_&&CR(m,_)?ER(L,A):(m.flags=m.flags&-4097|2,mr=!1,pa=m)}}else{if(NT(m))throw Error(n(418));m.flags=m.flags&-4097|2,mr=!1,pa=m}}}function SR(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;pa=m}function Sx(m){if(m!==pa)return!1;if(!mr)return SR(m),mr=!0,!1;var _;if((_=m.tag!==3)&&!(_=m.tag!==5)&&(_=m.type,_=_!=="head"&&_!=="body"&&!bT(m.type,m.memoizedProps)),_&&(_=ma)){if(NT(m))throw DR(),Error(n(418));for(;_;)ER(m,_),_=Vc(_.nextSibling)}if(SR(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,_=0;m;){if(m.nodeType===8){var A=m.data;if(A==="/$"){if(_===0){ma=Vc(m.nextSibling);break e}_--}else A!=="$"&&A!=="$!"&&A!=="$?"||_++}m=m.nextSibling}ma=null}}else ma=pa?Vc(m.stateNode.nextSibling):null;return!0}function DR(){for(var m=ma;m;)m=Vc(m.nextSibling)}function Fh(){ma=pa=null,mr=!1}function IT(m){yo===null?yo=[m]:yo.push(m)}var gQ=E.ReactCurrentBatchConfig;function gg(m,_,A){if(m=A.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var L=A.stateNode}if(!L)throw Error(n(147,m));var G=L,te=""+m;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===te?_.ref:(_=function(ge){var Pe=G.refs;ge===null?delete Pe[te]:Pe[te]=ge},_._stringRef=te,_)}if(typeof m!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,m))}return m}function Dx(m,_){throw m=Object.prototype.toString.call(_),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":m))}function AR(m){var _=m._init;return _(m._payload)}function NR(m){function _(ze,Be){if(m){var Ke=ze.deletions;Ke===null?(ze.deletions=[Be],ze.flags|=16):Ke.push(Be)}}function A(ze,Be){if(!m)return null;for(;Be!==null;)_(ze,Be),Be=Be.sibling;return null}function L(ze,Be){for(ze=new Map;Be!==null;)Be.key!==null?ze.set(Be.key,Be):ze.set(Be.index,Be),Be=Be.sibling;return ze}function G(ze,Be){return ze=Qc(ze,Be),ze.index=0,ze.sibling=null,ze}function te(ze,Be,Ke){return ze.index=Ke,m?(Ke=ze.alternate,Ke!==null?(Ke=Ke.index,Ke<Be?(ze.flags|=2,Be):Ke):(ze.flags|=2,Be)):(ze.flags|=1048576,Be)}function ge(ze){return m&&ze.alternate===null&&(ze.flags|=2),ze}function Pe(ze,Be,Ke,gt){return Be===null||Be.tag!==6?(Be=wE(Ke,ze.mode,gt),Be.return=ze,Be):(Be=G(Be,Ke),Be.return=ze,Be)}function je(ze,Be,Ke,gt){var Mt=Ke.type;return Mt===D?ct(ze,Be,Ke.props.children,gt,Ke.key):Be!==null&&(Be.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===J&&AR(Mt)===Be.type)?(gt=G(Be,Ke.props),gt.ref=gg(ze,Be,Ke),gt.return=ze,gt):(gt=Yx(Ke.type,Ke.key,Ke.props,null,ze.mode,gt),gt.ref=gg(ze,Be,Ke),gt.return=ze,gt)}function Ye(ze,Be,Ke,gt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Ke.containerInfo||Be.stateNode.implementation!==Ke.implementation?(Be=TE(Ke,ze.mode,gt),Be.return=ze,Be):(Be=G(Be,Ke.children||[]),Be.return=ze,Be)}function ct(ze,Be,Ke,gt,Mt){return Be===null||Be.tag!==7?(Be=kd(Ke,ze.mode,gt,Mt),Be.return=ze,Be):(Be=G(Be,Ke),Be.return=ze,Be)}function ht(ze,Be,Ke){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Be=wE(""+Be,ze.mode,Ke),Be.return=ze,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case S:return Ke=Yx(Be.type,Be.key,Be.props,null,ze.mode,Ke),Ke.ref=gg(ze,null,Be),Ke.return=ze,Ke;case R:return Be=TE(Be,ze.mode,Ke),Be.return=ze,Be;case J:var gt=Be._init;return ht(ze,gt(Be._payload),Ke)}if(he(Be)||z(Be))return Be=kd(Be,ze.mode,Ke,null),Be.return=ze,Be;Dx(ze,Be)}return null}function ot(ze,Be,Ke,gt){var Mt=Be!==null?Be.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Mt!==null?null:Pe(ze,Be,""+Ke,gt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case S:return Ke.key===Mt?je(ze,Be,Ke,gt):null;case R:return Ke.key===Mt?Ye(ze,Be,Ke,gt):null;case J:return Mt=Ke._init,ot(ze,Be,Mt(Ke._payload),gt)}if(he(Ke)||z(Ke))return Mt!==null?null:ct(ze,Be,Ke,gt,null);Dx(ze,Ke)}return null}function Ct(ze,Be,Ke,gt,Mt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return ze=ze.get(Ke)||null,Pe(Be,ze,""+gt,Mt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case S:return ze=ze.get(gt.key===null?Ke:gt.key)||null,je(Be,ze,gt,Mt);case R:return ze=ze.get(gt.key===null?Ke:gt.key)||null,Ye(Be,ze,gt,Mt);case J:var Bt=gt._init;return Ct(ze,Be,Ke,Bt(gt._payload),Mt)}if(he(gt)||z(gt))return ze=ze.get(Ke)||null,ct(Be,ze,gt,Mt,null);Dx(Be,gt)}return null}function It(ze,Be,Ke,gt){for(var Mt=null,Bt=null,Vt=Be,Xt=Be=0,Ei=null;Vt!==null&&Xt<Ke.length;Xt++){Vt.index>Xt?(Ei=Vt,Vt=null):Ei=Vt.sibling;var En=ot(ze,Vt,Ke[Xt],gt);if(En===null){Vt===null&&(Vt=Ei);break}m&&Vt&&En.alternate===null&&_(ze,Vt),Be=te(En,Be,Xt),Bt===null?Mt=En:Bt.sibling=En,Bt=En,Vt=Ei}if(Xt===Ke.length)return A(ze,Vt),mr&&wd(ze,Xt),Mt;if(Vt===null){for(;Xt<Ke.length;Xt++)Vt=ht(ze,Ke[Xt],gt),Vt!==null&&(Be=te(Vt,Be,Xt),Bt===null?Mt=Vt:Bt.sibling=Vt,Bt=Vt);return mr&&wd(ze,Xt),Mt}for(Vt=L(ze,Vt);Xt<Ke.length;Xt++)Ei=Ct(Vt,ze,Xt,Ke[Xt],gt),Ei!==null&&(m&&Ei.alternate!==null&&Vt.delete(Ei.key===null?Xt:Ei.key),Be=te(Ei,Be,Xt),Bt===null?Mt=Ei:Bt.sibling=Ei,Bt=Ei);return m&&Vt.forEach(function(Zc){return _(ze,Zc)}),mr&&wd(ze,Xt),Mt}function Ft(ze,Be,Ke,gt){var Mt=z(Ke);if(typeof Mt!="function")throw Error(n(150));if(Ke=Mt.call(Ke),Ke==null)throw Error(n(151));for(var Bt=Mt=null,Vt=Be,Xt=Be=0,Ei=null,En=Ke.next();Vt!==null&&!En.done;Xt++,En=Ke.next()){Vt.index>Xt?(Ei=Vt,Vt=null):Ei=Vt.sibling;var Zc=ot(ze,Vt,En.value,gt);if(Zc===null){Vt===null&&(Vt=Ei);break}m&&Vt&&Zc.alternate===null&&_(ze,Vt),Be=te(Zc,Be,Xt),Bt===null?Mt=Zc:Bt.sibling=Zc,Bt=Zc,Vt=Ei}if(En.done)return A(ze,Vt),mr&&wd(ze,Xt),Mt;if(Vt===null){for(;!En.done;Xt++,En=Ke.next())En=ht(ze,En.value,gt),En!==null&&(Be=te(En,Be,Xt),Bt===null?Mt=En:Bt.sibling=En,Bt=En);return mr&&wd(ze,Xt),Mt}for(Vt=L(ze,Vt);!En.done;Xt++,En=Ke.next())En=Ct(Vt,ze,Xt,En.value,gt),En!==null&&(m&&En.alternate!==null&&Vt.delete(En.key===null?Xt:En.key),Be=te(En,Be,Xt),Bt===null?Mt=En:Bt.sibling=En,Bt=En);return m&&Vt.forEach(function(XQ){return _(ze,XQ)}),mr&&wd(ze,Xt),Mt}function $r(ze,Be,Ke,gt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===D&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case S:e:{for(var Mt=Ke.key,Bt=Be;Bt!==null;){if(Bt.key===Mt){if(Mt=Ke.type,Mt===D){if(Bt.tag===7){A(ze,Bt.sibling),Be=G(Bt,Ke.props.children),Be.return=ze,ze=Be;break e}}else if(Bt.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===J&&AR(Mt)===Bt.type){A(ze,Bt.sibling),Be=G(Bt,Ke.props),Be.ref=gg(ze,Bt,Ke),Be.return=ze,ze=Be;break e}A(ze,Bt);break}else _(ze,Bt);Bt=Bt.sibling}Ke.type===D?(Be=kd(Ke.props.children,ze.mode,gt,Ke.key),Be.return=ze,ze=Be):(gt=Yx(Ke.type,Ke.key,Ke.props,null,ze.mode,gt),gt.ref=gg(ze,Be,Ke),gt.return=ze,ze=gt)}return ge(ze);case R:e:{for(Bt=Ke.key;Be!==null;){if(Be.key===Bt)if(Be.tag===4&&Be.stateNode.containerInfo===Ke.containerInfo&&Be.stateNode.implementation===Ke.implementation){A(ze,Be.sibling),Be=G(Be,Ke.children||[]),Be.return=ze,ze=Be;break e}else{A(ze,Be);break}else _(ze,Be);Be=Be.sibling}Be=TE(Ke,ze.mode,gt),Be.return=ze,ze=Be}return ge(ze);case J:return Bt=Ke._init,$r(ze,Be,Bt(Ke._payload),gt)}if(he(Ke))return It(ze,Be,Ke,gt);if(z(Ke))return Ft(ze,Be,Ke,gt);Dx(ze,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,Be!==null&&Be.tag===6?(A(ze,Be.sibling),Be=G(Be,Ke),Be.return=ze,ze=Be):(A(ze,Be),Be=wE(Ke,ze.mode,gt),Be.return=ze,ze=Be),ge(ze)):A(ze,Be)}return $r}var Mh=NR(!0),kR=NR(!1),Ax=Wc(null),Nx=null,Uh=null,RT=null;function PT(){RT=Uh=Nx=null}function FT(m){var _=Ax.current;ar(Ax),m._currentValue=_}function MT(m,_,A){for(;m!==null;){var L=m.alternate;if((m.childLanes&_)!==_?(m.childLanes|=_,L!==null&&(L.childLanes|=_)):L!==null&&(L.childLanes&_)!==_&&(L.childLanes|=_),m===A)break;m=m.return}}function Oh(m,_){Nx=m,RT=Uh=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&_)!==0&&(Hs=!0),m.firstContext=null)}function Ma(m){var _=m._currentValue;if(RT!==m)if(m={context:m,memoizedValue:_,next:null},Uh===null){if(Nx===null)throw Error(n(308));Uh=m,Nx.dependencies={lanes:0,firstContext:m}}else Uh=Uh.next=m;return _}var Td=null;function UT(m){Td===null?Td=[m]:Td.push(m)}function IR(m,_,A,L){var G=_.interleaved;return G===null?(A.next=A,UT(_)):(A.next=G.next,G.next=A),_.interleaved=A,Wl(m,L)}function Wl(m,_){m.lanes|=_;var A=m.alternate;for(A!==null&&(A.lanes|=_),A=m,m=m.return;m!==null;)m.childLanes|=_,A=m.alternate,A!==null&&(A.childLanes|=_),A=m,m=m.return;return A.tag===3?A.stateNode:null}var Hc=!1;function OT(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RR(m,_){m=m.updateQueue,_.updateQueue===m&&(_.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function ql(m,_){return{eventTime:m,lane:_,tag:0,payload:null,callback:null,next:null}}function $c(m,_,A){var L=m.updateQueue;if(L===null)return null;if(L=L.shared,(xn&2)!==0){var G=L.pending;return G===null?_.next=_:(_.next=G.next,G.next=_),L.pending=_,Wl(m,A)}return G=L.interleaved,G===null?(_.next=_,UT(L)):(_.next=G.next,G.next=_),L.interleaved=_,Wl(m,A)}function kx(m,_,A){if(_=_.updateQueue,_!==null&&(_=_.shared,(A&4194240)!==0)){var L=_.lanes;L&=m.pendingLanes,A|=L,_.lanes=A,Mc(m,A)}}function PR(m,_){var A=m.updateQueue,L=m.alternate;if(L!==null&&(L=L.updateQueue,A===L)){var G=null,te=null;if(A=A.firstBaseUpdate,A!==null){do{var ge={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};te===null?G=te=ge:te=te.next=ge,A=A.next}while(A!==null);te===null?G=te=_:te=te.next=_}else G=te=_;A={baseState:L.baseState,firstBaseUpdate:G,lastBaseUpdate:te,shared:L.shared,effects:L.effects},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=_:m.next=_,A.lastBaseUpdate=_}function Ix(m,_,A,L){var G=m.updateQueue;Hc=!1;var te=G.firstBaseUpdate,ge=G.lastBaseUpdate,Pe=G.shared.pending;if(Pe!==null){G.shared.pending=null;var je=Pe,Ye=je.next;je.next=null,ge===null?te=Ye:ge.next=Ye,ge=je;var ct=m.alternate;ct!==null&&(ct=ct.updateQueue,Pe=ct.lastBaseUpdate,Pe!==ge&&(Pe===null?ct.firstBaseUpdate=Ye:Pe.next=Ye,ct.lastBaseUpdate=je))}if(te!==null){var ht=G.baseState;ge=0,ct=Ye=je=null,Pe=te;do{var ot=Pe.lane,Ct=Pe.eventTime;if((L&ot)===ot){ct!==null&&(ct=ct.next={eventTime:Ct,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var It=m,Ft=Pe;switch(ot=_,Ct=A,Ft.tag){case 1:if(It=Ft.payload,typeof It=="function"){ht=It.call(Ct,ht,ot);break e}ht=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ft.payload,ot=typeof It=="function"?It.call(Ct,ht,ot):It,ot==null)break e;ht=K({},ht,ot);break e;case 2:Hc=!0}}Pe.callback!==null&&Pe.lane!==0&&(m.flags|=64,ot=G.effects,ot===null?G.effects=[Pe]:ot.push(Pe))}else Ct={eventTime:Ct,lane:ot,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},ct===null?(Ye=ct=Ct,je=ht):ct=ct.next=Ct,ge|=ot;if(Pe=Pe.next,Pe===null){if(Pe=G.shared.pending,Pe===null)break;ot=Pe,Pe=ot.next,ot.next=null,G.lastBaseUpdate=ot,G.shared.pending=null}}while(!0);if(ct===null&&(je=ht),G.baseState=je,G.firstBaseUpdate=Ye,G.lastBaseUpdate=ct,_=G.shared.interleaved,_!==null){G=_;do ge|=G.lane,G=G.next;while(G!==_)}else te===null&&(G.shared.lanes=0);Sd|=ge,m.lanes=ge,m.memoizedState=ht}}function FR(m,_,A){if(m=_.effects,_.effects=null,m!==null)for(_=0;_<m.length;_++){var L=m[_],G=L.callback;if(G!==null){if(L.callback=null,L=A,typeof G!="function")throw Error(n(191,G));G.call(L)}}}var yg={},Jo=Wc(yg),vg=Wc(yg),xg=Wc(yg);function Ed(m){if(m===yg)throw Error(n(174));return m}function LT(m,_){switch(Jn(xg,_),Jn(vg,m),Jn(Jo,yg),m=_.nodeType,m){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:Ue(null,"");break;default:m=m===8?_.parentNode:_,_=m.namespaceURI||null,m=m.tagName,_=Ue(_,m)}ar(Jo),Jn(Jo,_)}function Lh(){ar(Jo),ar(vg),ar(xg)}function MR(m){Ed(xg.current);var _=Ed(Jo.current),A=Ue(_,m.type);_!==A&&(Jn(vg,m),Jn(Jo,A))}function jT(m){vg.current===m&&(ar(Jo),ar(vg))}var Tr=Wc(0);function Rx(m){for(var _=m;_!==null;){if(_.tag===13){var A=_.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if((_.flags&128)!==0)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var BT=[];function VT(){for(var m=0;m<BT.length;m++)BT[m]._workInProgressVersionPrimary=null;BT.length=0}var Px=E.ReactCurrentDispatcher,WT=E.ReactCurrentBatchConfig,Cd=0,Er=null,fi=null,wi=null,Fx=!1,_g=!1,bg=0,yQ=0;function Zi(){throw Error(n(321))}function qT(m,_){if(_===null)return!1;for(var A=0;A<_.length&&A<m.length;A++)if(!go(m[A],_[A]))return!1;return!0}function zT(m,_,A,L,G,te){if(Cd=te,Er=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Px.current=m===null||m.memoizedState===null?bQ:wQ,m=A(L,G),_g){te=0;do{if(_g=!1,bg=0,25<=te)throw Error(n(301));te+=1,wi=fi=null,_.updateQueue=null,Px.current=TQ,m=A(L,G)}while(_g)}if(Px.current=Ox,_=fi!==null&&fi.next!==null,Cd=0,wi=fi=Er=null,Fx=!1,_)throw Error(n(300));return m}function HT(){var m=bg!==0;return bg=0,m}function Yo(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wi===null?Er.memoizedState=wi=m:wi=wi.next=m,wi}function Ua(){if(fi===null){var m=Er.alternate;m=m!==null?m.memoizedState:null}else m=fi.next;var _=wi===null?Er.memoizedState:wi.next;if(_!==null)wi=_,fi=m;else{if(m===null)throw Error(n(310));fi=m,m={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},wi===null?Er.memoizedState=wi=m:wi=wi.next=m}return wi}function wg(m,_){return typeof _=="function"?_(m):_}function $T(m){var _=Ua(),A=_.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=fi,G=L.baseQueue,te=A.pending;if(te!==null){if(G!==null){var ge=G.next;G.next=te.next,te.next=ge}L.baseQueue=G=te,A.pending=null}if(G!==null){te=G.next,L=L.baseState;var Pe=ge=null,je=null,Ye=te;do{var ct=Ye.lane;if((Cd&ct)===ct)je!==null&&(je=je.next={lane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),L=Ye.hasEagerState?Ye.eagerState:m(L,Ye.action);else{var ht={lane:ct,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null};je===null?(Pe=je=ht,ge=L):je=je.next=ht,Er.lanes|=ct,Sd|=ct}Ye=Ye.next}while(Ye!==null&&Ye!==te);je===null?ge=L:je.next=Pe,go(L,_.memoizedState)||(Hs=!0),_.memoizedState=L,_.baseState=ge,_.baseQueue=je,A.lastRenderedState=L}if(m=A.interleaved,m!==null){G=m;do te=G.lane,Er.lanes|=te,Sd|=te,G=G.next;while(G!==m)}else G===null&&(A.lanes=0);return[_.memoizedState,A.dispatch]}function GT(m){var _=Ua(),A=_.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=m;var L=A.dispatch,G=A.pending,te=_.memoizedState;if(G!==null){A.pending=null;var ge=G=G.next;do te=m(te,ge.action),ge=ge.next;while(ge!==G);go(te,_.memoizedState)||(Hs=!0),_.memoizedState=te,_.baseQueue===null&&(_.baseState=te),A.lastRenderedState=te}return[te,L]}function UR(){}function OR(m,_){var A=Er,L=Ua(),G=_(),te=!go(L.memoizedState,G);if(te&&(L.memoizedState=G,Hs=!0),L=L.queue,KT(BR.bind(null,A,L,m),[m]),L.getSnapshot!==_||te||wi!==null&&wi.memoizedState.tag&1){if(A.flags|=2048,Tg(9,jR.bind(null,A,L,G,_),void 0,null),Ti===null)throw Error(n(349));(Cd&30)!==0||LR(A,_,G)}return G}function LR(m,_,A){m.flags|=16384,m={getSnapshot:_,value:A},_=Er.updateQueue,_===null?(_={lastEffect:null,stores:null},Er.updateQueue=_,_.stores=[m]):(A=_.stores,A===null?_.stores=[m]:A.push(m))}function jR(m,_,A,L){_.value=A,_.getSnapshot=L,VR(_)&&WR(m)}function BR(m,_,A){return A(function(){VR(_)&&WR(m)})}function VR(m){var _=m.getSnapshot;m=m.value;try{var A=_();return!go(m,A)}catch{return!0}}function WR(m){var _=Wl(m,1);_!==null&&bo(_,m,1,-1)}function qR(m){var _=Yo();return typeof m=="function"&&(m=m()),_.memoizedState=_.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:m},_.queue=m,m=m.dispatch=_Q.bind(null,Er,m),[_.memoizedState,m]}function Tg(m,_,A,L){return m={tag:m,create:_,destroy:A,deps:L,next:null},_=Er.updateQueue,_===null?(_={lastEffect:null,stores:null},Er.updateQueue=_,_.lastEffect=m.next=m):(A=_.lastEffect,A===null?_.lastEffect=m.next=m:(L=A.next,A.next=m,m.next=L,_.lastEffect=m)),m}function zR(){return Ua().memoizedState}function Mx(m,_,A,L){var G=Yo();Er.flags|=m,G.memoizedState=Tg(1|_,A,void 0,L===void 0?null:L)}function Ux(m,_,A,L){var G=Ua();L=L===void 0?null:L;var te=void 0;if(fi!==null){var ge=fi.memoizedState;if(te=ge.destroy,L!==null&&qT(L,ge.deps)){G.memoizedState=Tg(_,A,te,L);return}}Er.flags|=m,G.memoizedState=Tg(1|_,A,te,L)}function HR(m,_){return Mx(8390656,8,m,_)}function KT(m,_){return Ux(2048,8,m,_)}function $R(m,_){return Ux(4,2,m,_)}function GR(m,_){return Ux(4,4,m,_)}function KR(m,_){if(typeof _=="function")return m=m(),_(m),function(){_(null)};if(_!=null)return m=m(),_.current=m,function(){_.current=null}}function XR(m,_,A){return A=A!=null?A.concat([m]):null,Ux(4,4,KR.bind(null,_,m),A)}function XT(){}function JR(m,_){var A=Ua();_=_===void 0?null:_;var L=A.memoizedState;return L!==null&&_!==null&&qT(_,L[1])?L[0]:(A.memoizedState=[m,_],m)}function YR(m,_){var A=Ua();_=_===void 0?null:_;var L=A.memoizedState;return L!==null&&_!==null&&qT(_,L[1])?L[0]:(m=m(),A.memoizedState=[m,_],m)}function QR(m,_,A){return(Cd&21)===0?(m.baseState&&(m.baseState=!1,Hs=!0),m.memoizedState=A):(go(A,_)||(A=pd(),Er.lanes|=A,Sd|=A,m.baseState=!0),_)}function vQ(m,_){var A=gn;gn=A!==0&&4>A?A:4,m(!0);var L=WT.transition;WT.transition={};try{m(!1),_()}finally{gn=A,WT.transition=L}}function ZR(){return Ua().memoizedState}function xQ(m,_,A){var L=Jc(m);if(A={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null},e5(m))t5(_,A);else if(A=IR(m,_,A,L),A!==null){var G=Ds();bo(A,m,L,G),n5(A,_,L)}}function _Q(m,_,A){var L=Jc(m),G={lane:L,action:A,hasEagerState:!1,eagerState:null,next:null};if(e5(m))t5(_,G);else{var te=m.alternate;if(m.lanes===0&&(te===null||te.lanes===0)&&(te=_.lastRenderedReducer,te!==null))try{var ge=_.lastRenderedState,Pe=te(ge,A);if(G.hasEagerState=!0,G.eagerState=Pe,go(Pe,ge)){var je=_.interleaved;je===null?(G.next=G,UT(_)):(G.next=je.next,je.next=G),_.interleaved=G;return}}catch{}finally{}A=IR(m,_,G,L),A!==null&&(G=Ds(),bo(A,m,L,G),n5(A,_,L))}}function e5(m){var _=m.alternate;return m===Er||_!==null&&_===Er}function t5(m,_){_g=Fx=!0;var A=m.pending;A===null?_.next=_:(_.next=A.next,A.next=_),m.pending=_}function n5(m,_,A){if((A&4194240)!==0){var L=_.lanes;L&=m.pendingLanes,A|=L,_.lanes=A,Mc(m,A)}}var Ox={readContext:Ma,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useInsertionEffect:Zi,useLayoutEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useMutableSource:Zi,useSyncExternalStore:Zi,useId:Zi,unstable_isNewReconciler:!1},bQ={readContext:Ma,useCallback:function(m,_){return Yo().memoizedState=[m,_===void 0?null:_],m},useContext:Ma,useEffect:HR,useImperativeHandle:function(m,_,A){return A=A!=null?A.concat([m]):null,Mx(4194308,4,KR.bind(null,_,m),A)},useLayoutEffect:function(m,_){return Mx(4194308,4,m,_)},useInsertionEffect:function(m,_){return Mx(4,2,m,_)},useMemo:function(m,_){var A=Yo();return _=_===void 0?null:_,m=m(),A.memoizedState=[m,_],m},useReducer:function(m,_,A){var L=Yo();return _=A!==void 0?A(_):_,L.memoizedState=L.baseState=_,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:_},L.queue=m,m=m.dispatch=xQ.bind(null,Er,m),[L.memoizedState,m]},useRef:function(m){var _=Yo();return m={current:m},_.memoizedState=m},useState:qR,useDebugValue:XT,useDeferredValue:function(m){return Yo().memoizedState=m},useTransition:function(){var m=qR(!1),_=m[0];return m=vQ.bind(null,m[1]),Yo().memoizedState=m,[_,m]},useMutableSource:function(){},useSyncExternalStore:function(m,_,A){var L=Er,G=Yo();if(mr){if(A===void 0)throw Error(n(407));A=A()}else{if(A=_(),Ti===null)throw Error(n(349));(Cd&30)!==0||LR(L,_,A)}G.memoizedState=A;var te={value:A,getSnapshot:_};return G.queue=te,HR(BR.bind(null,L,te,m),[m]),L.flags|=2048,Tg(9,jR.bind(null,L,te,A,_),void 0,null),A},useId:function(){var m=Yo(),_=Ti.identifierPrefix;if(mr){var A=Vl,L=Bl;A=(L&~(1<<32-ir(L)-1)).toString(32)+A,_=":"+_+"R"+A,A=bg++,0<A&&(_+="H"+A.toString(32)),_+=":"}else A=yQ++,_=":"+_+"r"+A.toString(32)+":";return m.memoizedState=_},unstable_isNewReconciler:!1},wQ={readContext:Ma,useCallback:JR,useContext:Ma,useEffect:KT,useImperativeHandle:XR,useInsertionEffect:$R,useLayoutEffect:GR,useMemo:YR,useReducer:$T,useRef:zR,useState:function(){return $T(wg)},useDebugValue:XT,useDeferredValue:function(m){var _=Ua();return QR(_,fi.memoizedState,m)},useTransition:function(){var m=$T(wg)[0],_=Ua().memoizedState;return[m,_]},useMutableSource:UR,useSyncExternalStore:OR,useId:ZR,unstable_isNewReconciler:!1},TQ={readContext:Ma,useCallback:JR,useContext:Ma,useEffect:KT,useImperativeHandle:XR,useInsertionEffect:$R,useLayoutEffect:GR,useMemo:YR,useReducer:GT,useRef:zR,useState:function(){return GT(wg)},useDebugValue:XT,useDeferredValue:function(m){var _=Ua();return fi===null?_.memoizedState=m:QR(_,fi.memoizedState,m)},useTransition:function(){var m=GT(wg)[0],_=Ua().memoizedState;return[m,_]},useMutableSource:UR,useSyncExternalStore:OR,useId:ZR,unstable_isNewReconciler:!1};function vo(m,_){if(m&&m.defaultProps){_=K({},_),m=m.defaultProps;for(var A in m)_[A]===void 0&&(_[A]=m[A]);return _}return _}function JT(m,_,A,L){_=m.memoizedState,A=A(L,_),A=A==null?_:K({},_,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var Lx={isMounted:function(m){return(m=m._reactInternals)?Re(m)===m:!1},enqueueSetState:function(m,_,A){m=m._reactInternals;var L=Ds(),G=Jc(m),te=ql(L,G);te.payload=_,A!=null&&(te.callback=A),_=$c(m,te,G),_!==null&&(bo(_,m,G,L),kx(_,m,G))},enqueueReplaceState:function(m,_,A){m=m._reactInternals;var L=Ds(),G=Jc(m),te=ql(L,G);te.tag=1,te.payload=_,A!=null&&(te.callback=A),_=$c(m,te,G),_!==null&&(bo(_,m,G,L),kx(_,m,G))},enqueueForceUpdate:function(m,_){m=m._reactInternals;var A=Ds(),L=Jc(m),G=ql(A,L);G.tag=2,_!=null&&(G.callback=_),_=$c(m,G,L),_!==null&&(bo(_,m,L,A),kx(_,m,L))}};function r5(m,_,A,L,G,te,ge){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(L,te,ge):_.prototype&&_.prototype.isPureReactComponent?!cg(A,L)||!cg(G,te):!0}function i5(m,_,A){var L=!1,G=qc,te=_.contextType;return typeof te=="object"&&te!==null?te=Ma(te):(G=zs(_)?_d:Qi.current,L=_.contextTypes,te=(L=L!=null)?Ih(m,G):qc),_=new _(A,te),m.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Lx,m.stateNode=_,_._reactInternals=m,L&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=G,m.__reactInternalMemoizedMaskedChildContext=te),_}function s5(m,_,A,L){m=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(A,L),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(A,L),_.state!==m&&Lx.enqueueReplaceState(_,_.state,null)}function YT(m,_,A,L){var G=m.stateNode;G.props=A,G.state=m.memoizedState,G.refs={},OT(m);var te=_.contextType;typeof te=="object"&&te!==null?G.context=Ma(te):(te=zs(_)?_d:Qi.current,G.context=Ih(m,te)),G.state=m.memoizedState,te=_.getDerivedStateFromProps,typeof te=="function"&&(JT(m,_,te,A),G.state=m.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(_=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),_!==G.state&&Lx.enqueueReplaceState(G,G.state,null),Ix(m,A,G,L),G.state=m.memoizedState),typeof G.componentDidMount=="function"&&(m.flags|=4194308)}function jh(m,_){try{var A="",L=_;do A+=Q(L),L=L.return;while(L);var G=A}catch(te){G=`
Error generating stack: `+te.message+`
`+te.stack}return{value:m,source:_,stack:G,digest:null}}function QT(m,_,A){return{value:m,source:null,stack:A??null,digest:_??null}}function ZT(m,_){try{console.error(_.value)}catch(A){setTimeout(function(){throw A})}}var EQ=typeof WeakMap=="function"?WeakMap:Map;function a5(m,_,A){A=ql(-1,A),A.tag=3,A.payload={element:null};var L=_.value;return A.callback=function(){Hx||(Hx=!0,pE=L),ZT(m,_)},A}function o5(m,_,A){A=ql(-1,A),A.tag=3;var L=m.type.getDerivedStateFromError;if(typeof L=="function"){var G=_.value;A.payload=function(){return L(G)},A.callback=function(){ZT(m,_)}}var te=m.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(A.callback=function(){ZT(m,_),typeof L!="function"&&(Kc===null?Kc=new Set([this]):Kc.add(this));var ge=_.stack;this.componentDidCatch(_.value,{componentStack:ge!==null?ge:""})}),A}function l5(m,_,A){var L=m.pingCache;if(L===null){L=m.pingCache=new EQ;var G=new Set;L.set(_,G)}else G=L.get(_),G===void 0&&(G=new Set,L.set(_,G));G.has(A)||(G.add(A),m=LQ.bind(null,m,_,A),_.then(m,m))}function c5(m){do{var _;if((_=m.tag===13)&&(_=m.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return m;m=m.return}while(m!==null);return null}function u5(m,_,A,L,G){return(m.mode&1)===0?(m===_?m.flags|=65536:(m.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(_=ql(-1,1),_.tag=2,$c(A,_,1))),A.lanes|=1),m):(m.flags|=65536,m.lanes=G,m)}var CQ=E.ReactCurrentOwner,Hs=!1;function Ss(m,_,A,L){_.child=m===null?kR(_,null,A,L):Mh(_,m.child,A,L)}function d5(m,_,A,L,G){A=A.render;var te=_.ref;return Oh(_,G),L=zT(m,_,A,L,te,G),A=HT(),m!==null&&!Hs?(_.updateQueue=m.updateQueue,_.flags&=-2053,m.lanes&=~G,zl(m,_,G)):(mr&&A&&DT(_),_.flags|=1,Ss(m,_,L,G),_.child)}function f5(m,_,A,L,G){if(m===null){var te=A.type;return typeof te=="function"&&!bE(te)&&te.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(_.tag=15,_.type=te,h5(m,_,te,L,G)):(m=Yx(A.type,null,L,_,_.mode,G),m.ref=_.ref,m.return=_,_.child=m)}if(te=m.child,(m.lanes&G)===0){var ge=te.memoizedProps;if(A=A.compare,A=A!==null?A:cg,A(ge,L)&&m.ref===_.ref)return zl(m,_,G)}return _.flags|=1,m=Qc(te,L),m.ref=_.ref,m.return=_,_.child=m}function h5(m,_,A,L,G){if(m!==null){var te=m.memoizedProps;if(cg(te,L)&&m.ref===_.ref)if(Hs=!1,_.pendingProps=L=te,(m.lanes&G)!==0)(m.flags&131072)!==0&&(Hs=!0);else return _.lanes=m.lanes,zl(m,_,G)}return eE(m,_,A,L,G)}function p5(m,_,A){var L=_.pendingProps,G=L.children,te=m!==null?m.memoizedState:null;if(L.mode==="hidden")if((_.mode&1)===0)_.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Vh,ga),ga|=A;else{if((A&1073741824)===0)return m=te!==null?te.baseLanes|A:A,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:m,cachePool:null,transitions:null},_.updateQueue=null,Jn(Vh,ga),ga|=m,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=te!==null?te.baseLanes:A,Jn(Vh,ga),ga|=L}else te!==null?(L=te.baseLanes|A,_.memoizedState=null):L=A,Jn(Vh,ga),ga|=L;return Ss(m,_,G,A),_.child}function m5(m,_){var A=_.ref;(m===null&&A!==null||m!==null&&m.ref!==A)&&(_.flags|=512,_.flags|=2097152)}function eE(m,_,A,L,G){var te=zs(A)?_d:Qi.current;return te=Ih(_,te),Oh(_,G),A=zT(m,_,A,L,te,G),L=HT(),m!==null&&!Hs?(_.updateQueue=m.updateQueue,_.flags&=-2053,m.lanes&=~G,zl(m,_,G)):(mr&&L&&DT(_),_.flags|=1,Ss(m,_,A,G),_.child)}function g5(m,_,A,L,G){if(zs(A)){var te=!0;wx(_)}else te=!1;if(Oh(_,G),_.stateNode===null)Bx(m,_),i5(_,A,L),YT(_,A,L,G),L=!0;else if(m===null){var ge=_.stateNode,Pe=_.memoizedProps;ge.props=Pe;var je=ge.context,Ye=A.contextType;typeof Ye=="object"&&Ye!==null?Ye=Ma(Ye):(Ye=zs(A)?_d:Qi.current,Ye=Ih(_,Ye));var ct=A.getDerivedStateFromProps,ht=typeof ct=="function"||typeof ge.getSnapshotBeforeUpdate=="function";ht||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Pe!==L||je!==Ye)&&s5(_,ge,L,Ye),Hc=!1;var ot=_.memoizedState;ge.state=ot,Ix(_,L,ge,G),je=_.memoizedState,Pe!==L||ot!==je||qs.current||Hc?(typeof ct=="function"&&(JT(_,A,ct,L),je=_.memoizedState),(Pe=Hc||r5(_,A,Pe,L,ot,je,Ye))?(ht||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount()),typeof ge.componentDidMount=="function"&&(_.flags|=4194308)):(typeof ge.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=L,_.memoizedState=je),ge.props=L,ge.state=je,ge.context=Ye,L=Pe):(typeof ge.componentDidMount=="function"&&(_.flags|=4194308),L=!1)}else{ge=_.stateNode,RR(m,_),Pe=_.memoizedProps,Ye=_.type===_.elementType?Pe:vo(_.type,Pe),ge.props=Ye,ht=_.pendingProps,ot=ge.context,je=A.contextType,typeof je=="object"&&je!==null?je=Ma(je):(je=zs(A)?_d:Qi.current,je=Ih(_,je));var Ct=A.getDerivedStateFromProps;(ct=typeof Ct=="function"||typeof ge.getSnapshotBeforeUpdate=="function")||typeof ge.UNSAFE_componentWillReceiveProps!="function"&&typeof ge.componentWillReceiveProps!="function"||(Pe!==ht||ot!==je)&&s5(_,ge,L,je),Hc=!1,ot=_.memoizedState,ge.state=ot,Ix(_,L,ge,G);var It=_.memoizedState;Pe!==ht||ot!==It||qs.current||Hc?(typeof Ct=="function"&&(JT(_,A,Ct,L),It=_.memoizedState),(Ye=Hc||r5(_,A,Ye,L,ot,It,je)||!1)?(ct||typeof ge.UNSAFE_componentWillUpdate!="function"&&typeof ge.componentWillUpdate!="function"||(typeof ge.componentWillUpdate=="function"&&ge.componentWillUpdate(L,It,je),typeof ge.UNSAFE_componentWillUpdate=="function"&&ge.UNSAFE_componentWillUpdate(L,It,je)),typeof ge.componentDidUpdate=="function"&&(_.flags|=4),typeof ge.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof ge.componentDidUpdate!="function"||Pe===m.memoizedProps&&ot===m.memoizedState||(_.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Pe===m.memoizedProps&&ot===m.memoizedState||(_.flags|=1024),_.memoizedProps=L,_.memoizedState=It),ge.props=L,ge.state=It,ge.context=je,L=Ye):(typeof ge.componentDidUpdate!="function"||Pe===m.memoizedProps&&ot===m.memoizedState||(_.flags|=4),typeof ge.getSnapshotBeforeUpdate!="function"||Pe===m.memoizedProps&&ot===m.memoizedState||(_.flags|=1024),L=!1)}return tE(m,_,A,L,te,G)}function tE(m,_,A,L,G,te){m5(m,_);var ge=(_.flags&128)!==0;if(!L&&!ge)return G&&bR(_,A,!1),zl(m,_,te);L=_.stateNode,CQ.current=_;var Pe=ge&&typeof A.getDerivedStateFromError!="function"?null:L.render();return _.flags|=1,m!==null&&ge?(_.child=Mh(_,m.child,null,te),_.child=Mh(_,null,Pe,te)):Ss(m,_,Pe,te),_.memoizedState=L.state,G&&bR(_,A,!0),_.child}function y5(m){var _=m.stateNode;_.pendingContext?xR(m,_.pendingContext,_.pendingContext!==_.context):_.context&&xR(m,_.context,!1),LT(m,_.containerInfo)}function v5(m,_,A,L,G){return Fh(),IT(G),_.flags|=256,Ss(m,_,A,L),_.child}var nE={dehydrated:null,treeContext:null,retryLane:0};function rE(m){return{baseLanes:m,cachePool:null,transitions:null}}function x5(m,_,A){var L=_.pendingProps,G=Tr.current,te=!1,ge=(_.flags&128)!==0,Pe;if((Pe=ge)||(Pe=m!==null&&m.memoizedState===null?!1:(G&2)!==0),Pe?(te=!0,_.flags&=-129):(m===null||m.memoizedState!==null)&&(G|=1),Jn(Tr,G&1),m===null)return kT(_),m=_.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((_.mode&1)===0?_.lanes=1:m.data==="$!"?_.lanes=8:_.lanes=1073741824,null):(ge=L.children,m=L.fallback,te?(L=_.mode,te=_.child,ge={mode:"hidden",children:ge},(L&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=ge):te=Qx(ge,L,0,null),m=kd(m,L,A,null),te.return=_,m.return=_,te.sibling=m,_.child=te,_.child.memoizedState=rE(A),_.memoizedState=nE,m):iE(_,ge));if(G=m.memoizedState,G!==null&&(Pe=G.dehydrated,Pe!==null))return SQ(m,_,ge,L,Pe,G,A);if(te){te=L.fallback,ge=_.mode,G=m.child,Pe=G.sibling;var je={mode:"hidden",children:L.children};return(ge&1)===0&&_.child!==G?(L=_.child,L.childLanes=0,L.pendingProps=je,_.deletions=null):(L=Qc(G,je),L.subtreeFlags=G.subtreeFlags&14680064),Pe!==null?te=Qc(Pe,te):(te=kd(te,ge,A,null),te.flags|=2),te.return=_,L.return=_,L.sibling=te,_.child=L,L=te,te=_.child,ge=m.child.memoizedState,ge=ge===null?rE(A):{baseLanes:ge.baseLanes|A,cachePool:null,transitions:ge.transitions},te.memoizedState=ge,te.childLanes=m.childLanes&~A,_.memoizedState=nE,L}return te=m.child,m=te.sibling,L=Qc(te,{mode:"visible",children:L.children}),(_.mode&1)===0&&(L.lanes=A),L.return=_,L.sibling=null,m!==null&&(A=_.deletions,A===null?(_.deletions=[m],_.flags|=16):A.push(m)),_.child=L,_.memoizedState=null,L}function iE(m,_){return _=Qx({mode:"visible",children:_},m.mode,0,null),_.return=m,m.child=_}function jx(m,_,A,L){return L!==null&&IT(L),Mh(_,m.child,null,A),m=iE(_,_.pendingProps.children),m.flags|=2,_.memoizedState=null,m}function SQ(m,_,A,L,G,te,ge){if(A)return _.flags&256?(_.flags&=-257,L=QT(Error(n(422))),jx(m,_,ge,L)):_.memoizedState!==null?(_.child=m.child,_.flags|=128,null):(te=L.fallback,G=_.mode,L=Qx({mode:"visible",children:L.children},G,0,null),te=kd(te,G,ge,null),te.flags|=2,L.return=_,te.return=_,L.sibling=te,_.child=L,(_.mode&1)!==0&&Mh(_,m.child,null,ge),_.child.memoizedState=rE(ge),_.memoizedState=nE,te);if((_.mode&1)===0)return jx(m,_,ge,null);if(G.data==="$!"){if(L=G.nextSibling&&G.nextSibling.dataset,L)var Pe=L.dgst;return L=Pe,te=Error(n(419)),L=QT(te,L,void 0),jx(m,_,ge,L)}if(Pe=(ge&m.childLanes)!==0,Hs||Pe){if(L=Ti,L!==null){switch(ge&-ge){case 4:G=2;break;case 16:G=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:G=32;break;case 536870912:G=268435456;break;default:G=0}G=(G&(L.suspendedLanes|ge))!==0?0:G,G!==0&&G!==te.retryLane&&(te.retryLane=G,Wl(m,G),bo(L,m,G,-1))}return _E(),L=QT(Error(n(421))),jx(m,_,ge,L)}return G.data==="$?"?(_.flags|=128,_.child=m.child,_=jQ.bind(null,m),G._reactRetry=_,null):(m=te.treeContext,ma=Vc(G.nextSibling),pa=_,mr=!0,yo=null,m!==null&&(Pa[Fa++]=Bl,Pa[Fa++]=Vl,Pa[Fa++]=bd,Bl=m.id,Vl=m.overflow,bd=_),_=iE(_,L.children),_.flags|=4096,_)}function _5(m,_,A){m.lanes|=_;var L=m.alternate;L!==null&&(L.lanes|=_),MT(m.return,_,A)}function sE(m,_,A,L,G){var te=m.memoizedState;te===null?m.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:L,tail:A,tailMode:G}:(te.isBackwards=_,te.rendering=null,te.renderingStartTime=0,te.last=L,te.tail=A,te.tailMode=G)}function b5(m,_,A){var L=_.pendingProps,G=L.revealOrder,te=L.tail;if(Ss(m,_,L.children,A),L=Tr.current,(L&2)!==0)L=L&1|2,_.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=_.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&_5(m,A,_);else if(m.tag===19)_5(m,A,_);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===_)break e;for(;m.sibling===null;){if(m.return===null||m.return===_)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}L&=1}if(Jn(Tr,L),(_.mode&1)===0)_.memoizedState=null;else switch(G){case"forwards":for(A=_.child,G=null;A!==null;)m=A.alternate,m!==null&&Rx(m)===null&&(G=A),A=A.sibling;A=G,A===null?(G=_.child,_.child=null):(G=A.sibling,A.sibling=null),sE(_,!1,G,A,te);break;case"backwards":for(A=null,G=_.child,_.child=null;G!==null;){if(m=G.alternate,m!==null&&Rx(m)===null){_.child=G;break}m=G.sibling,G.sibling=A,A=G,G=m}sE(_,!0,A,null,te);break;case"together":sE(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function Bx(m,_){(_.mode&1)===0&&m!==null&&(m.alternate=null,_.alternate=null,_.flags|=2)}function zl(m,_,A){if(m!==null&&(_.dependencies=m.dependencies),Sd|=_.lanes,(A&_.childLanes)===0)return null;if(m!==null&&_.child!==m.child)throw Error(n(153));if(_.child!==null){for(m=_.child,A=Qc(m,m.pendingProps),_.child=A,A.return=_;m.sibling!==null;)m=m.sibling,A=A.sibling=Qc(m,m.pendingProps),A.return=_;A.sibling=null}return _.child}function DQ(m,_,A){switch(_.tag){case 3:y5(_),Fh();break;case 5:MR(_);break;case 1:zs(_.type)&&wx(_);break;case 4:LT(_,_.stateNode.containerInfo);break;case 10:var L=_.type._context,G=_.memoizedProps.value;Jn(Ax,L._currentValue),L._currentValue=G;break;case 13:if(L=_.memoizedState,L!==null)return L.dehydrated!==null?(Jn(Tr,Tr.current&1),_.flags|=128,null):(A&_.child.childLanes)!==0?x5(m,_,A):(Jn(Tr,Tr.current&1),m=zl(m,_,A),m!==null?m.sibling:null);Jn(Tr,Tr.current&1);break;case 19:if(L=(A&_.childLanes)!==0,(m.flags&128)!==0){if(L)return b5(m,_,A);_.flags|=128}if(G=_.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),Jn(Tr,Tr.current),L)break;return null;case 22:case 23:return _.lanes=0,p5(m,_,A)}return zl(m,_,A)}var w5,aE,T5,E5;w5=function(m,_){for(var A=_.child;A!==null;){if(A.tag===5||A.tag===6)m.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===_)break;for(;A.sibling===null;){if(A.return===null||A.return===_)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},aE=function(){},T5=function(m,_,A,L){var G=m.memoizedProps;if(G!==L){m=_.stateNode,Ed(Jo.current);var te=null;switch(A){case"input":G=V(m,G),L=V(m,L),te=[];break;case"select":G=K({},G,{value:void 0}),L=K({},L,{value:void 0}),te=[];break;case"textarea":G=ie(m,G),L=ie(m,L),te=[];break;default:typeof G.onClick!="function"&&typeof L.onClick=="function"&&(m.onclick=xx)}hn(A,L);var ge;A=null;for(Ye in G)if(!L.hasOwnProperty(Ye)&&G.hasOwnProperty(Ye)&&G[Ye]!=null)if(Ye==="style"){var Pe=G[Ye];for(ge in Pe)Pe.hasOwnProperty(ge)&&(A||(A={}),A[ge]="")}else Ye!=="dangerouslySetInnerHTML"&&Ye!=="children"&&Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&Ye!=="autoFocus"&&(i.hasOwnProperty(Ye)?te||(te=[]):(te=te||[]).push(Ye,null));for(Ye in L){var je=L[Ye];if(Pe=G!=null?G[Ye]:void 0,L.hasOwnProperty(Ye)&&je!==Pe&&(je!=null||Pe!=null))if(Ye==="style")if(Pe){for(ge in Pe)!Pe.hasOwnProperty(ge)||je&&je.hasOwnProperty(ge)||(A||(A={}),A[ge]="");for(ge in je)je.hasOwnProperty(ge)&&Pe[ge]!==je[ge]&&(A||(A={}),A[ge]=je[ge])}else A||(te||(te=[]),te.push(Ye,A)),A=je;else Ye==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,Pe=Pe?Pe.__html:void 0,je!=null&&Pe!==je&&(te=te||[]).push(Ye,je)):Ye==="children"?typeof je!="string"&&typeof je!="number"||(te=te||[]).push(Ye,""+je):Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ye)?(je!=null&&Ye==="onScroll"&&sr("scroll",m),te||Pe===je||(te=[])):(te=te||[]).push(Ye,je))}A&&(te=te||[]).push("style",A);var Ye=te;(_.updateQueue=Ye)&&(_.flags|=4)}},E5=function(m,_,A,L){A!==L&&(_.flags|=4)};function Eg(m,_){if(!mr)switch(m.tailMode){case"hidden":_=m.tail;for(var A=null;_!==null;)_.alternate!==null&&(A=_),_=_.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var L=null;A!==null;)A.alternate!==null&&(L=A),A=A.sibling;L===null?_||m.tail===null?m.tail=null:m.tail.sibling=null:L.sibling=null}}function es(m){var _=m.alternate!==null&&m.alternate.child===m.child,A=0,L=0;if(_)for(var G=m.child;G!==null;)A|=G.lanes|G.childLanes,L|=G.subtreeFlags&14680064,L|=G.flags&14680064,G.return=m,G=G.sibling;else for(G=m.child;G!==null;)A|=G.lanes|G.childLanes,L|=G.subtreeFlags,L|=G.flags,G.return=m,G=G.sibling;return m.subtreeFlags|=L,m.childLanes=A,_}function AQ(m,_,A){var L=_.pendingProps;switch(AT(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(_),null;case 1:return zs(_.type)&&bx(),es(_),null;case 3:return L=_.stateNode,Lh(),ar(qs),ar(Qi),VT(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(m===null||m.child===null)&&(Sx(_)?_.flags|=4:m===null||m.memoizedState.isDehydrated&&(_.flags&256)===0||(_.flags|=1024,yo!==null&&(yE(yo),yo=null))),aE(m,_),es(_),null;case 5:jT(_);var G=Ed(xg.current);if(A=_.type,m!==null&&_.stateNode!=null)T5(m,_,A,L,G),m.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!L){if(_.stateNode===null)throw Error(n(166));return es(_),null}if(m=Ed(Jo.current),Sx(_)){L=_.stateNode,A=_.type;var te=_.memoizedProps;switch(L[Xo]=_,L[pg]=te,m=(_.mode&1)!==0,A){case"dialog":sr("cancel",L),sr("close",L);break;case"iframe":case"object":case"embed":sr("load",L);break;case"video":case"audio":for(G=0;G<dg.length;G++)sr(dg[G],L);break;case"source":sr("error",L);break;case"img":case"image":case"link":sr("error",L),sr("load",L);break;case"details":sr("toggle",L);break;case"input":ye(L,te),sr("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!te.multiple},sr("invalid",L);break;case"textarea":de(L,te),sr("invalid",L)}hn(A,te),G=null;for(var ge in te)if(te.hasOwnProperty(ge)){var Pe=te[ge];ge==="children"?typeof Pe=="string"?L.textContent!==Pe&&(te.suppressHydrationWarning!==!0&&vx(L.textContent,Pe,m),G=["children",Pe]):typeof Pe=="number"&&L.textContent!==""+Pe&&(te.suppressHydrationWarning!==!0&&vx(L.textContent,Pe,m),G=["children",""+Pe]):i.hasOwnProperty(ge)&&Pe!=null&&ge==="onScroll"&&sr("scroll",L)}switch(A){case"input":Ie(L),re(L,te,!0);break;case"textarea":Ie(L),ve(L);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(L.onclick=xx)}L=G,_.updateQueue=L,L!==null&&(_.flags|=4)}else{ge=G.nodeType===9?G:G.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=De(A)),m==="http://www.w3.org/1999/xhtml"?A==="script"?(m=ge.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof L.is=="string"?m=ge.createElement(A,{is:L.is}):(m=ge.createElement(A),A==="select"&&(ge=m,L.multiple?ge.multiple=!0:L.size&&(ge.size=L.size))):m=ge.createElementNS(m,A),m[Xo]=_,m[pg]=L,w5(m,_,!1,!1),_.stateNode=m;e:{switch(ge=zr(A,L),A){case"dialog":sr("cancel",m),sr("close",m),G=L;break;case"iframe":case"object":case"embed":sr("load",m),G=L;break;case"video":case"audio":for(G=0;G<dg.length;G++)sr(dg[G],m);G=L;break;case"source":sr("error",m),G=L;break;case"img":case"image":case"link":sr("error",m),sr("load",m),G=L;break;case"details":sr("toggle",m),G=L;break;case"input":ye(m,L),G=V(m,L),sr("invalid",m);break;case"option":G=L;break;case"select":m._wrapperState={wasMultiple:!!L.multiple},G=K({},L,{value:void 0}),sr("invalid",m);break;case"textarea":de(m,L),G=ie(m,L),sr("invalid",m);break;default:G=L}hn(A,G),Pe=G;for(te in Pe)if(Pe.hasOwnProperty(te)){var je=Pe[te];te==="style"?Ot(m,je):te==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Me(m,je)):te==="children"?typeof je=="string"?(A!=="textarea"||je!=="")&&Oe(m,je):typeof je=="number"&&Oe(m,""+je):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?je!=null&&te==="onScroll"&&sr("scroll",m):je!=null&&w(m,te,je,ge))}switch(A){case"input":Ie(m),re(m,L,!1);break;case"textarea":Ie(m),ve(m);break;case"option":L.value!=null&&m.setAttribute("value",""+ce(L.value));break;case"select":m.multiple=!!L.multiple,te=L.value,te!=null?_e(m,!!L.multiple,te,!1):L.defaultValue!=null&&_e(m,!!L.multiple,L.defaultValue,!0);break;default:typeof G.onClick=="function"&&(m.onclick=xx)}switch(A){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return es(_),null;case 6:if(m&&_.stateNode!=null)E5(m,_,m.memoizedProps,L);else{if(typeof L!="string"&&_.stateNode===null)throw Error(n(166));if(A=Ed(xg.current),Ed(Jo.current),Sx(_)){if(L=_.stateNode,A=_.memoizedProps,L[Xo]=_,(te=L.nodeValue!==A)&&(m=pa,m!==null))switch(m.tag){case 3:vx(L.nodeValue,A,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&vx(L.nodeValue,A,(m.mode&1)!==0)}te&&(_.flags|=4)}else L=(A.nodeType===9?A:A.ownerDocument).createTextNode(L),L[Xo]=_,_.stateNode=L}return es(_),null;case 13:if(ar(Tr),L=_.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(mr&&ma!==null&&(_.mode&1)!==0&&(_.flags&128)===0)DR(),Fh(),_.flags|=98560,te=!1;else if(te=Sx(_),L!==null&&L.dehydrated!==null){if(m===null){if(!te)throw Error(n(318));if(te=_.memoizedState,te=te!==null?te.dehydrated:null,!te)throw Error(n(317));te[Xo]=_}else Fh(),(_.flags&128)===0&&(_.memoizedState=null),_.flags|=4;es(_),te=!1}else yo!==null&&(yE(yo),yo=null),te=!0;if(!te)return _.flags&65536?_:null}return(_.flags&128)!==0?(_.lanes=A,_):(L=L!==null,L!==(m!==null&&m.memoizedState!==null)&&L&&(_.child.flags|=8192,(_.mode&1)!==0&&(m===null||(Tr.current&1)!==0?hi===0&&(hi=3):_E())),_.updateQueue!==null&&(_.flags|=4),es(_),null);case 4:return Lh(),aE(m,_),m===null&&fg(_.stateNode.containerInfo),es(_),null;case 10:return FT(_.type._context),es(_),null;case 17:return zs(_.type)&&bx(),es(_),null;case 19:if(ar(Tr),te=_.memoizedState,te===null)return es(_),null;if(L=(_.flags&128)!==0,ge=te.rendering,ge===null)if(L)Eg(te,!1);else{if(hi!==0||m!==null&&(m.flags&128)!==0)for(m=_.child;m!==null;){if(ge=Rx(m),ge!==null){for(_.flags|=128,Eg(te,!1),L=ge.updateQueue,L!==null&&(_.updateQueue=L,_.flags|=4),_.subtreeFlags=0,L=A,A=_.child;A!==null;)te=A,m=L,te.flags&=14680066,ge=te.alternate,ge===null?(te.childLanes=0,te.lanes=m,te.child=null,te.subtreeFlags=0,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=ge.childLanes,te.lanes=ge.lanes,te.child=ge.child,te.subtreeFlags=0,te.deletions=null,te.memoizedProps=ge.memoizedProps,te.memoizedState=ge.memoizedState,te.updateQueue=ge.updateQueue,te.type=ge.type,m=ge.dependencies,te.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A=A.sibling;return Jn(Tr,Tr.current&1|2),_.child}m=m.sibling}te.tail!==null&&dt()>Wh&&(_.flags|=128,L=!0,Eg(te,!1),_.lanes=4194304)}else{if(!L)if(m=Rx(ge),m!==null){if(_.flags|=128,L=!0,A=m.updateQueue,A!==null&&(_.updateQueue=A,_.flags|=4),Eg(te,!0),te.tail===null&&te.tailMode==="hidden"&&!ge.alternate&&!mr)return es(_),null}else 2*dt()-te.renderingStartTime>Wh&&A!==1073741824&&(_.flags|=128,L=!0,Eg(te,!1),_.lanes=4194304);te.isBackwards?(ge.sibling=_.child,_.child=ge):(A=te.last,A!==null?A.sibling=ge:_.child=ge,te.last=ge)}return te.tail!==null?(_=te.tail,te.rendering=_,te.tail=_.sibling,te.renderingStartTime=dt(),_.sibling=null,A=Tr.current,Jn(Tr,L?A&1|2:A&1),_):(es(_),null);case 22:case 23:return xE(),L=_.memoizedState!==null,m!==null&&m.memoizedState!==null!==L&&(_.flags|=8192),L&&(_.mode&1)!==0?(ga&1073741824)!==0&&(es(_),_.subtreeFlags&6&&(_.flags|=8192)):es(_),null;case 24:return null;case 25:return null}throw Error(n(156,_.tag))}function NQ(m,_){switch(AT(_),_.tag){case 1:return zs(_.type)&&bx(),m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 3:return Lh(),ar(qs),ar(Qi),VT(),m=_.flags,(m&65536)!==0&&(m&128)===0?(_.flags=m&-65537|128,_):null;case 5:return jT(_),null;case 13:if(ar(Tr),m=_.memoizedState,m!==null&&m.dehydrated!==null){if(_.alternate===null)throw Error(n(340));Fh()}return m=_.flags,m&65536?(_.flags=m&-65537|128,_):null;case 19:return ar(Tr),null;case 4:return Lh(),null;case 10:return FT(_.type._context),null;case 22:case 23:return xE(),null;case 24:return null;default:return null}}var Vx=!1,ts=!1,kQ=typeof WeakSet=="function"?WeakSet:Set,At=null;function Bh(m,_){var A=m.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(L){Pr(m,_,L)}else A.current=null}function oE(m,_,A){try{A()}catch(L){Pr(m,_,L)}}var C5=!1;function IQ(m,_){if(xT=Lc,m=rR(),dT(m)){if("selectionStart"in m)var A={start:m.selectionStart,end:m.selectionEnd};else e:{A=(A=m.ownerDocument)&&A.defaultView||window;var L=A.getSelection&&A.getSelection();if(L&&L.rangeCount!==0){A=L.anchorNode;var G=L.anchorOffset,te=L.focusNode;L=L.focusOffset;try{A.nodeType,te.nodeType}catch{A=null;break e}var ge=0,Pe=-1,je=-1,Ye=0,ct=0,ht=m,ot=null;t:for(;;){for(var Ct;ht!==A||G!==0&&ht.nodeType!==3||(Pe=ge+G),ht!==te||L!==0&&ht.nodeType!==3||(je=ge+L),ht.nodeType===3&&(ge+=ht.nodeValue.length),(Ct=ht.firstChild)!==null;)ot=ht,ht=Ct;for(;;){if(ht===m)break t;if(ot===A&&++Ye===G&&(Pe=ge),ot===te&&++ct===L&&(je=ge),(Ct=ht.nextSibling)!==null)break;ht=ot,ot=ht.parentNode}ht=Ct}A=Pe===-1||je===-1?null:{start:Pe,end:je}}else A=null}A=A||{start:0,end:0}}else A=null;for(_T={focusedElem:m,selectionRange:A},Lc=!1,At=_;At!==null;)if(_=At,m=_.child,(_.subtreeFlags&1028)!==0&&m!==null)m.return=_,At=m;else for(;At!==null;){_=At;try{var It=_.alternate;if((_.flags&1024)!==0)switch(_.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var Ft=It.memoizedProps,$r=It.memoizedState,ze=_.stateNode,Be=ze.getSnapshotBeforeUpdate(_.elementType===_.type?Ft:vo(_.type,Ft),$r);ze.__reactInternalSnapshotBeforeUpdate=Be}break;case 3:var Ke=_.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(gt){Pr(_,_.return,gt)}if(m=_.sibling,m!==null){m.return=_.return,At=m;break}At=_.return}return It=C5,C5=!1,It}function Cg(m,_,A){var L=_.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var G=L=L.next;do{if((G.tag&m)===m){var te=G.destroy;G.destroy=void 0,te!==void 0&&oE(_,A,te)}G=G.next}while(G!==L)}}function Wx(m,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var A=_=_.next;do{if((A.tag&m)===m){var L=A.create;A.destroy=L()}A=A.next}while(A!==_)}}function lE(m){var _=m.ref;if(_!==null){var A=m.stateNode;switch(m.tag){case 5:m=A;break;default:m=A}typeof _=="function"?_(m):_.current=m}}function S5(m){var _=m.alternate;_!==null&&(m.alternate=null,S5(_)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(_=m.stateNode,_!==null&&(delete _[Xo],delete _[pg],delete _[ET],delete _[hQ],delete _[pQ])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function D5(m){return m.tag===5||m.tag===3||m.tag===4}function A5(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||D5(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function cE(m,_,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,_?A.nodeType===8?A.parentNode.insertBefore(m,_):A.insertBefore(m,_):(A.nodeType===8?(_=A.parentNode,_.insertBefore(m,A)):(_=A,_.appendChild(m)),A=A._reactRootContainer,A!=null||_.onclick!==null||(_.onclick=xx));else if(L!==4&&(m=m.child,m!==null))for(cE(m,_,A),m=m.sibling;m!==null;)cE(m,_,A),m=m.sibling}function uE(m,_,A){var L=m.tag;if(L===5||L===6)m=m.stateNode,_?A.insertBefore(m,_):A.appendChild(m);else if(L!==4&&(m=m.child,m!==null))for(uE(m,_,A),m=m.sibling;m!==null;)uE(m,_,A),m=m.sibling}var Bi=null,xo=!1;function Gc(m,_,A){for(A=A.child;A!==null;)N5(m,_,A),A=A.sibling}function N5(m,_,A){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(ua,A)}catch{}switch(A.tag){case 5:ts||Bh(A,_);case 6:var L=Bi,G=xo;Bi=null,Gc(m,_,A),Bi=L,xo=G,Bi!==null&&(xo?(m=Bi,A=A.stateNode,m.nodeType===8?m.parentNode.removeChild(A):m.removeChild(A)):Bi.removeChild(A.stateNode));break;case 18:Bi!==null&&(xo?(m=Bi,A=A.stateNode,m.nodeType===8?TT(m.parentNode,A):m.nodeType===1&&TT(m,A),po(m)):TT(Bi,A.stateNode));break;case 4:L=Bi,G=xo,Bi=A.stateNode.containerInfo,xo=!0,Gc(m,_,A),Bi=L,xo=G;break;case 0:case 11:case 14:case 15:if(!ts&&(L=A.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){G=L=L.next;do{var te=G,ge=te.destroy;te=te.tag,ge!==void 0&&((te&2)!==0||(te&4)!==0)&&oE(A,_,ge),G=G.next}while(G!==L)}Gc(m,_,A);break;case 1:if(!ts&&(Bh(A,_),L=A.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=A.memoizedProps,L.state=A.memoizedState,L.componentWillUnmount()}catch(Pe){Pr(A,_,Pe)}Gc(m,_,A);break;case 21:Gc(m,_,A);break;case 22:A.mode&1?(ts=(L=ts)||A.memoizedState!==null,Gc(m,_,A),ts=L):Gc(m,_,A);break;default:Gc(m,_,A)}}function k5(m){var _=m.updateQueue;if(_!==null){m.updateQueue=null;var A=m.stateNode;A===null&&(A=m.stateNode=new kQ),_.forEach(function(L){var G=BQ.bind(null,m,L);A.has(L)||(A.add(L),L.then(G,G))})}}function _o(m,_){var A=_.deletions;if(A!==null)for(var L=0;L<A.length;L++){var G=A[L];try{var te=m,ge=_,Pe=ge;e:for(;Pe!==null;){switch(Pe.tag){case 5:Bi=Pe.stateNode,xo=!1;break e;case 3:Bi=Pe.stateNode.containerInfo,xo=!0;break e;case 4:Bi=Pe.stateNode.containerInfo,xo=!0;break e}Pe=Pe.return}if(Bi===null)throw Error(n(160));N5(te,ge,G),Bi=null,xo=!1;var je=G.alternate;je!==null&&(je.return=null),G.return=null}catch(Ye){Pr(G,_,Ye)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)I5(_,m),_=_.sibling}function I5(m,_){var A=m.alternate,L=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(_o(_,m),Qo(m),L&4){try{Cg(3,m,m.return),Wx(3,m)}catch(Ft){Pr(m,m.return,Ft)}try{Cg(5,m,m.return)}catch(Ft){Pr(m,m.return,Ft)}}break;case 1:_o(_,m),Qo(m),L&512&&A!==null&&Bh(A,A.return);break;case 5:if(_o(_,m),Qo(m),L&512&&A!==null&&Bh(A,A.return),m.flags&32){var G=m.stateNode;try{Oe(G,"")}catch(Ft){Pr(m,m.return,Ft)}}if(L&4&&(G=m.stateNode,G!=null)){var te=m.memoizedProps,ge=A!==null?A.memoizedProps:te,Pe=m.type,je=m.updateQueue;if(m.updateQueue=null,je!==null)try{Pe==="input"&&te.type==="radio"&&te.name!=null&&be(G,te),zr(Pe,ge);var Ye=zr(Pe,te);for(ge=0;ge<je.length;ge+=2){var ct=je[ge],ht=je[ge+1];ct==="style"?Ot(G,ht):ct==="dangerouslySetInnerHTML"?Me(G,ht):ct==="children"?Oe(G,ht):w(G,ct,ht,Ye)}switch(Pe){case"input":oe(G,te);break;case"textarea":me(G,te);break;case"select":var ot=G._wrapperState.wasMultiple;G._wrapperState.wasMultiple=!!te.multiple;var Ct=te.value;Ct!=null?_e(G,!!te.multiple,Ct,!1):ot!==!!te.multiple&&(te.defaultValue!=null?_e(G,!!te.multiple,te.defaultValue,!0):_e(G,!!te.multiple,te.multiple?[]:"",!1))}G[pg]=te}catch(Ft){Pr(m,m.return,Ft)}}break;case 6:if(_o(_,m),Qo(m),L&4){if(m.stateNode===null)throw Error(n(162));G=m.stateNode,te=m.memoizedProps;try{G.nodeValue=te}catch(Ft){Pr(m,m.return,Ft)}}break;case 3:if(_o(_,m),Qo(m),L&4&&A!==null&&A.memoizedState.isDehydrated)try{po(_.containerInfo)}catch(Ft){Pr(m,m.return,Ft)}break;case 4:_o(_,m),Qo(m);break;case 13:_o(_,m),Qo(m),G=m.child,G.flags&8192&&(te=G.memoizedState!==null,G.stateNode.isHidden=te,!te||G.alternate!==null&&G.alternate.memoizedState!==null||(hE=dt())),L&4&&k5(m);break;case 22:if(ct=A!==null&&A.memoizedState!==null,m.mode&1?(ts=(Ye=ts)||ct,_o(_,m),ts=Ye):_o(_,m),Qo(m),L&8192){if(Ye=m.memoizedState!==null,(m.stateNode.isHidden=Ye)&&!ct&&(m.mode&1)!==0)for(At=m,ct=m.child;ct!==null;){for(ht=At=ct;At!==null;){switch(ot=At,Ct=ot.child,ot.tag){case 0:case 11:case 14:case 15:Cg(4,ot,ot.return);break;case 1:Bh(ot,ot.return);var It=ot.stateNode;if(typeof It.componentWillUnmount=="function"){L=ot,A=ot.return;try{_=L,It.props=_.memoizedProps,It.state=_.memoizedState,It.componentWillUnmount()}catch(Ft){Pr(L,A,Ft)}}break;case 5:Bh(ot,ot.return);break;case 22:if(ot.memoizedState!==null){F5(ht);continue}}Ct!==null?(Ct.return=ot,At=Ct):F5(ht)}ct=ct.sibling}e:for(ct=null,ht=m;;){if(ht.tag===5){if(ct===null){ct=ht;try{G=ht.stateNode,Ye?(te=G.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none"):(Pe=ht.stateNode,je=ht.memoizedProps.style,ge=je!=null&&je.hasOwnProperty("display")?je.display:null,Pe.style.display=st("display",ge))}catch(Ft){Pr(m,m.return,Ft)}}}else if(ht.tag===6){if(ct===null)try{ht.stateNode.nodeValue=Ye?"":ht.memoizedProps}catch(Ft){Pr(m,m.return,Ft)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===m)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===m)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===m)break e;ct===ht&&(ct=null),ht=ht.return}ct===ht&&(ct=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:_o(_,m),Qo(m),L&4&&k5(m);break;case 21:break;default:_o(_,m),Qo(m)}}function Qo(m){var _=m.flags;if(_&2){try{e:{for(var A=m.return;A!==null;){if(D5(A)){var L=A;break e}A=A.return}throw Error(n(160))}switch(L.tag){case 5:var G=L.stateNode;L.flags&32&&(Oe(G,""),L.flags&=-33);var te=A5(m);uE(m,te,G);break;case 3:case 4:var ge=L.stateNode.containerInfo,Pe=A5(m);cE(m,Pe,ge);break;default:throw Error(n(161))}}catch(je){Pr(m,m.return,je)}m.flags&=-3}_&4096&&(m.flags&=-4097)}function RQ(m,_,A){At=m,R5(m)}function R5(m,_,A){for(var L=(m.mode&1)!==0;At!==null;){var G=At,te=G.child;if(G.tag===22&&L){var ge=G.memoizedState!==null||Vx;if(!ge){var Pe=G.alternate,je=Pe!==null&&Pe.memoizedState!==null||ts;Pe=Vx;var Ye=ts;if(Vx=ge,(ts=je)&&!Ye)for(At=G;At!==null;)ge=At,je=ge.child,ge.tag===22&&ge.memoizedState!==null?M5(G):je!==null?(je.return=ge,At=je):M5(G);for(;te!==null;)At=te,R5(te),te=te.sibling;At=G,Vx=Pe,ts=Ye}P5(m)}else(G.subtreeFlags&8772)!==0&&te!==null?(te.return=G,At=te):P5(m)}}function P5(m){for(;At!==null;){var _=At;if((_.flags&8772)!==0){var A=_.alternate;try{if((_.flags&8772)!==0)switch(_.tag){case 0:case 11:case 15:ts||Wx(5,_);break;case 1:var L=_.stateNode;if(_.flags&4&&!ts)if(A===null)L.componentDidMount();else{var G=_.elementType===_.type?A.memoizedProps:vo(_.type,A.memoizedProps);L.componentDidUpdate(G,A.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var te=_.updateQueue;te!==null&&FR(_,te,L);break;case 3:var ge=_.updateQueue;if(ge!==null){if(A=null,_.child!==null)switch(_.child.tag){case 5:A=_.child.stateNode;break;case 1:A=_.child.stateNode}FR(_,ge,A)}break;case 5:var Pe=_.stateNode;if(A===null&&_.flags&4){A=Pe;var je=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&A.focus();break;case"img":je.src&&(A.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var Ye=_.alternate;if(Ye!==null){var ct=Ye.memoizedState;if(ct!==null){var ht=ct.dehydrated;ht!==null&&po(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ts||_.flags&512&&lE(_)}catch(ot){Pr(_,_.return,ot)}}if(_===m){At=null;break}if(A=_.sibling,A!==null){A.return=_.return,At=A;break}At=_.return}}function F5(m){for(;At!==null;){var _=At;if(_===m){At=null;break}var A=_.sibling;if(A!==null){A.return=_.return,At=A;break}At=_.return}}function M5(m){for(;At!==null;){var _=At;try{switch(_.tag){case 0:case 11:case 15:var A=_.return;try{Wx(4,_)}catch(je){Pr(_,A,je)}break;case 1:var L=_.stateNode;if(typeof L.componentDidMount=="function"){var G=_.return;try{L.componentDidMount()}catch(je){Pr(_,G,je)}}var te=_.return;try{lE(_)}catch(je){Pr(_,te,je)}break;case 5:var ge=_.return;try{lE(_)}catch(je){Pr(_,ge,je)}}}catch(je){Pr(_,_.return,je)}if(_===m){At=null;break}var Pe=_.sibling;if(Pe!==null){Pe.return=_.return,At=Pe;break}At=_.return}}var PQ=Math.ceil,qx=E.ReactCurrentDispatcher,dE=E.ReactCurrentOwner,Oa=E.ReactCurrentBatchConfig,xn=0,Ti=null,ni=null,Vi=0,ga=0,Vh=Wc(0),hi=0,Sg=null,Sd=0,zx=0,fE=0,Dg=null,$s=null,hE=0,Wh=1/0,Hl=null,Hx=!1,pE=null,Kc=null,$x=!1,Xc=null,Gx=0,Ag=0,mE=null,Kx=-1,Xx=0;function Ds(){return(xn&6)!==0?dt():Kx!==-1?Kx:Kx=dt()}function Jc(m){return(m.mode&1)===0?1:(xn&2)!==0&&Vi!==0?Vi&-Vi:gQ.transition!==null?(Xx===0&&(Xx=pd()),Xx):(m=gn,m!==0||(m=window.event,m=m===void 0?16:ng(m.type)),m)}function bo(m,_,A,L){if(50<Ag)throw Ag=0,mE=null,Error(n(185));Fc(m,A,L),((xn&2)===0||m!==Ti)&&(m===Ti&&((xn&2)===0&&(zx|=A),hi===4&&Yc(m,Vi)),Gs(m,L),A===1&&xn===0&&(_.mode&1)===0&&(Wh=dt()+500,Tx&&zc()))}function Gs(m,_){var A=m.callbackNode;Pl(m,_);var L=hd(m,m===Ti?Vi:0);if(L===0)A!==null&&vt(A),m.callbackNode=null,m.callbackPriority=0;else if(_=L&-L,m.callbackPriority!==_){if(A!=null&&vt(A),_===1)m.tag===0?mQ(O5.bind(null,m)):wR(O5.bind(null,m)),dQ(function(){(xn&6)===0&&zc()}),A=null;else{switch(Uc(L)){case 1:A=kn;break;case 4:A=Tn;break;case 16:A=Mn;break;case 536870912:A=qo;break;default:A=Mn}A=H5(A,U5.bind(null,m))}m.callbackPriority=_,m.callbackNode=A}}function U5(m,_){if(Kx=-1,Xx=0,(xn&6)!==0)throw Error(n(327));var A=m.callbackNode;if(qh()&&m.callbackNode!==A)return null;var L=hd(m,m===Ti?Vi:0);if(L===0)return null;if((L&30)!==0||(L&m.expiredLanes)!==0||_)_=Jx(m,L);else{_=L;var G=xn;xn|=2;var te=j5();(Ti!==m||Vi!==_)&&(Hl=null,Wh=dt()+500,Ad(m,_));do try{UQ();break}catch(Pe){L5(m,Pe)}while(!0);PT(),qx.current=te,xn=G,ni!==null?_=0:(Ti=null,Vi=0,_=hi)}if(_!==0){if(_===2&&(G=da(m),G!==0&&(L=G,_=gE(m,G))),_===1)throw A=Sg,Ad(m,0),Yc(m,L),Gs(m,dt()),A;if(_===6)Yc(m,L);else{if(G=m.current.alternate,(L&30)===0&&!FQ(G)&&(_=Jx(m,L),_===2&&(te=da(m),te!==0&&(L=te,_=gE(m,te))),_===1))throw A=Sg,Ad(m,0),Yc(m,L),Gs(m,dt()),A;switch(m.finishedWork=G,m.finishedLanes=L,_){case 0:case 1:throw Error(n(345));case 2:Nd(m,$s,Hl);break;case 3:if(Yc(m,L),(L&130023424)===L&&(_=hE+500-dt(),10<_)){if(hd(m,0)!==0)break;if(G=m.suspendedLanes,(G&L)!==L){Ds(),m.pingedLanes|=m.suspendedLanes&G;break}m.timeoutHandle=wT(Nd.bind(null,m,$s,Hl),_);break}Nd(m,$s,Hl);break;case 4:if(Yc(m,L),(L&4194240)===L)break;for(_=m.eventTimes,G=-1;0<L;){var ge=31-ir(L);te=1<<ge,ge=_[ge],ge>G&&(G=ge),L&=~te}if(L=G,L=dt()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*PQ(L/1960))-L,10<L){m.timeoutHandle=wT(Nd.bind(null,m,$s,Hl),L);break}Nd(m,$s,Hl);break;case 5:Nd(m,$s,Hl);break;default:throw Error(n(329))}}}return Gs(m,dt()),m.callbackNode===A?U5.bind(null,m):null}function gE(m,_){var A=Dg;return m.current.memoizedState.isDehydrated&&(Ad(m,_).flags|=256),m=Jx(m,_),m!==2&&(_=$s,$s=A,_!==null&&yE(_)),m}function yE(m){$s===null?$s=m:$s.push.apply($s,m)}function FQ(m){for(var _=m;;){if(_.flags&16384){var A=_.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var L=0;L<A.length;L++){var G=A[L],te=G.getSnapshot;G=G.value;try{if(!go(te(),G))return!1}catch{return!1}}}if(A=_.child,_.subtreeFlags&16384&&A!==null)A.return=_,_=A;else{if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Yc(m,_){for(_&=~fE,_&=~zx,m.suspendedLanes|=_,m.pingedLanes&=~_,m=m.expirationTimes;0<_;){var A=31-ir(_),L=1<<A;m[A]=-1,_&=~L}}function O5(m){if((xn&6)!==0)throw Error(n(327));qh();var _=hd(m,0);if((_&1)===0)return Gs(m,dt()),null;var A=Jx(m,_);if(m.tag!==0&&A===2){var L=da(m);L!==0&&(_=L,A=gE(m,L))}if(A===1)throw A=Sg,Ad(m,0),Yc(m,_),Gs(m,dt()),A;if(A===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=_,Nd(m,$s,Hl),Gs(m,dt()),null}function vE(m,_){var A=xn;xn|=1;try{return m(_)}finally{xn=A,xn===0&&(Wh=dt()+500,Tx&&zc())}}function Dd(m){Xc!==null&&Xc.tag===0&&(xn&6)===0&&qh();var _=xn;xn|=1;var A=Oa.transition,L=gn;try{if(Oa.transition=null,gn=1,m)return m()}finally{gn=L,Oa.transition=A,xn=_,(xn&6)===0&&zc()}}function xE(){ga=Vh.current,ar(Vh)}function Ad(m,_){m.finishedWork=null,m.finishedLanes=0;var A=m.timeoutHandle;if(A!==-1&&(m.timeoutHandle=-1,uQ(A)),ni!==null)for(A=ni.return;A!==null;){var L=A;switch(AT(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&bx();break;case 3:Lh(),ar(qs),ar(Qi),VT();break;case 5:jT(L);break;case 4:Lh();break;case 13:ar(Tr);break;case 19:ar(Tr);break;case 10:FT(L.type._context);break;case 22:case 23:xE()}A=A.return}if(Ti=m,ni=m=Qc(m.current,null),Vi=ga=_,hi=0,Sg=null,fE=zx=Sd=0,$s=Dg=null,Td!==null){for(_=0;_<Td.length;_++)if(A=Td[_],L=A.interleaved,L!==null){A.interleaved=null;var G=L.next,te=A.pending;if(te!==null){var ge=te.next;te.next=G,L.next=ge}A.pending=L}Td=null}return m}function L5(m,_){do{var A=ni;try{if(PT(),Px.current=Ox,Fx){for(var L=Er.memoizedState;L!==null;){var G=L.queue;G!==null&&(G.pending=null),L=L.next}Fx=!1}if(Cd=0,wi=fi=Er=null,_g=!1,bg=0,dE.current=null,A===null||A.return===null){hi=1,Sg=_,ni=null;break}e:{var te=m,ge=A.return,Pe=A,je=_;if(_=Vi,Pe.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Ye=je,ct=Pe,ht=ct.tag;if((ct.mode&1)===0&&(ht===0||ht===11||ht===15)){var ot=ct.alternate;ot?(ct.updateQueue=ot.updateQueue,ct.memoizedState=ot.memoizedState,ct.lanes=ot.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var Ct=c5(ge);if(Ct!==null){Ct.flags&=-257,u5(Ct,ge,Pe,te,_),Ct.mode&1&&l5(te,Ye,_),_=Ct,je=Ye;var It=_.updateQueue;if(It===null){var Ft=new Set;Ft.add(je),_.updateQueue=Ft}else It.add(je);break e}else{if((_&1)===0){l5(te,Ye,_),_E();break e}je=Error(n(426))}}else if(mr&&Pe.mode&1){var $r=c5(ge);if($r!==null){($r.flags&65536)===0&&($r.flags|=256),u5($r,ge,Pe,te,_),IT(jh(je,Pe));break e}}te=je=jh(je,Pe),hi!==4&&(hi=2),Dg===null?Dg=[te]:Dg.push(te),te=ge;do{switch(te.tag){case 3:te.flags|=65536,_&=-_,te.lanes|=_;var ze=a5(te,je,_);PR(te,ze);break e;case 1:Pe=je;var Be=te.type,Ke=te.stateNode;if((te.flags&128)===0&&(typeof Be.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(Kc===null||!Kc.has(Ke)))){te.flags|=65536,_&=-_,te.lanes|=_;var gt=o5(te,Pe,_);PR(te,gt);break e}}te=te.return}while(te!==null)}V5(A)}catch(Mt){_=Mt,ni===A&&A!==null&&(ni=A=A.return);continue}break}while(!0)}function j5(){var m=qx.current;return qx.current=Ox,m===null?Ox:m}function _E(){(hi===0||hi===3||hi===2)&&(hi=4),Ti===null||(Sd&268435455)===0&&(zx&268435455)===0||Yc(Ti,Vi)}function Jx(m,_){var A=xn;xn|=2;var L=j5();(Ti!==m||Vi!==_)&&(Hl=null,Ad(m,_));do try{MQ();break}catch(G){L5(m,G)}while(!0);if(PT(),xn=A,qx.current=L,ni!==null)throw Error(n(261));return Ti=null,Vi=0,hi}function MQ(){for(;ni!==null;)B5(ni)}function UQ(){for(;ni!==null&&!Tt();)B5(ni)}function B5(m){var _=z5(m.alternate,m,ga);m.memoizedProps=m.pendingProps,_===null?V5(m):ni=_,dE.current=null}function V5(m){var _=m;do{var A=_.alternate;if(m=_.return,(_.flags&32768)===0){if(A=AQ(A,_,ga),A!==null){ni=A;return}}else{if(A=NQ(A,_),A!==null){A.flags&=32767,ni=A;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{hi=6,ni=null;return}}if(_=_.sibling,_!==null){ni=_;return}ni=_=m}while(_!==null);hi===0&&(hi=5)}function Nd(m,_,A){var L=gn,G=Oa.transition;try{Oa.transition=null,gn=1,OQ(m,_,A,L)}finally{Oa.transition=G,gn=L}return null}function OQ(m,_,A,L){do qh();while(Xc!==null);if((xn&6)!==0)throw Error(n(327));A=m.finishedWork;var G=m.finishedLanes;if(A===null)return null;if(m.finishedWork=null,m.finishedLanes=0,A===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var te=A.lanes|A.childLanes;if(Gn(m,te),m===Ti&&(ni=Ti=null,Vi=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||$x||($x=!0,H5(Mn,function(){return qh(),null})),te=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||te){te=Oa.transition,Oa.transition=null;var ge=gn;gn=1;var Pe=xn;xn|=4,dE.current=null,IQ(m,A),I5(A,m),rQ(_T),Lc=!!xT,_T=xT=null,m.current=A,RQ(A),pt(),xn=Pe,gn=ge,Oa.transition=te}else m.current=A;if($x&&($x=!1,Xc=m,Gx=G),te=m.pendingLanes,te===0&&(Kc=null),Ic(A.stateNode),Gs(m,dt()),_!==null)for(L=m.onRecoverableError,A=0;A<_.length;A++)G=_[A],L(G.value,{componentStack:G.stack,digest:G.digest});if(Hx)throw Hx=!1,m=pE,pE=null,m;return(Gx&1)!==0&&m.tag!==0&&qh(),te=m.pendingLanes,(te&1)!==0?m===mE?Ag++:(Ag=0,mE=m):Ag=0,zc(),null}function qh(){if(Xc!==null){var m=Uc(Gx),_=Oa.transition,A=gn;try{if(Oa.transition=null,gn=16>m?16:m,Xc===null)var L=!1;else{if(m=Xc,Xc=null,Gx=0,(xn&6)!==0)throw Error(n(331));var G=xn;for(xn|=4,At=m.current;At!==null;){var te=At,ge=te.child;if((At.flags&16)!==0){var Pe=te.deletions;if(Pe!==null){for(var je=0;je<Pe.length;je++){var Ye=Pe[je];for(At=Ye;At!==null;){var ct=At;switch(ct.tag){case 0:case 11:case 15:Cg(8,ct,te)}var ht=ct.child;if(ht!==null)ht.return=ct,At=ht;else for(;At!==null;){ct=At;var ot=ct.sibling,Ct=ct.return;if(S5(ct),ct===Ye){At=null;break}if(ot!==null){ot.return=Ct,At=ot;break}At=Ct}}}var It=te.alternate;if(It!==null){var Ft=It.child;if(Ft!==null){It.child=null;do{var $r=Ft.sibling;Ft.sibling=null,Ft=$r}while(Ft!==null)}}At=te}}if((te.subtreeFlags&2064)!==0&&ge!==null)ge.return=te,At=ge;else e:for(;At!==null;){if(te=At,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:Cg(9,te,te.return)}var ze=te.sibling;if(ze!==null){ze.return=te.return,At=ze;break e}At=te.return}}var Be=m.current;for(At=Be;At!==null;){ge=At;var Ke=ge.child;if((ge.subtreeFlags&2064)!==0&&Ke!==null)Ke.return=ge,At=Ke;else e:for(ge=Be;At!==null;){if(Pe=At,(Pe.flags&2048)!==0)try{switch(Pe.tag){case 0:case 11:case 15:Wx(9,Pe)}}catch(Mt){Pr(Pe,Pe.return,Mt)}if(Pe===ge){At=null;break e}var gt=Pe.sibling;if(gt!==null){gt.return=Pe.return,At=gt;break e}At=Pe.return}}if(xn=G,zc(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(ua,m)}catch{}L=!0}return L}finally{gn=A,Oa.transition=_}}return!1}function W5(m,_,A){_=jh(A,_),_=a5(m,_,1),m=$c(m,_,1),_=Ds(),m!==null&&(Fc(m,1,_),Gs(m,_))}function Pr(m,_,A){if(m.tag===3)W5(m,m,A);else for(;_!==null;){if(_.tag===3){W5(_,m,A);break}else if(_.tag===1){var L=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(Kc===null||!Kc.has(L))){m=jh(A,m),m=o5(_,m,1),_=$c(_,m,1),m=Ds(),_!==null&&(Fc(_,1,m),Gs(_,m));break}}_=_.return}}function LQ(m,_,A){var L=m.pingCache;L!==null&&L.delete(_),_=Ds(),m.pingedLanes|=m.suspendedLanes&A,Ti===m&&(Vi&A)===A&&(hi===4||hi===3&&(Vi&130023424)===Vi&&500>dt()-hE?Ad(m,0):fE|=A),Gs(m,_)}function q5(m,_){_===0&&((m.mode&1)===0?_=1:(_=fh,fh<<=1,(fh&130023424)===0&&(fh=4194304)));var A=Ds();m=Wl(m,_),m!==null&&(Fc(m,_,A),Gs(m,A))}function jQ(m){var _=m.memoizedState,A=0;_!==null&&(A=_.retryLane),q5(m,A)}function BQ(m,_){var A=0;switch(m.tag){case 13:var L=m.stateNode,G=m.memoizedState;G!==null&&(A=G.retryLane);break;case 19:L=m.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(_),q5(m,A)}var z5;z5=function(m,_,A){if(m!==null)if(m.memoizedProps!==_.pendingProps||qs.current)Hs=!0;else{if((m.lanes&A)===0&&(_.flags&128)===0)return Hs=!1,DQ(m,_,A);Hs=(m.flags&131072)!==0}else Hs=!1,mr&&(_.flags&1048576)!==0&&TR(_,Cx,_.index);switch(_.lanes=0,_.tag){case 2:var L=_.type;Bx(m,_),m=_.pendingProps;var G=Ih(_,Qi.current);Oh(_,A),G=zT(null,_,L,m,G,A);var te=HT();return _.flags|=1,typeof G=="object"&&G!==null&&typeof G.render=="function"&&G.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,zs(L)?(te=!0,wx(_)):te=!1,_.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,OT(_),G.updater=Lx,_.stateNode=G,G._reactInternals=_,YT(_,L,m,A),_=tE(null,_,L,!0,te,A)):(_.tag=0,mr&&te&&DT(_),Ss(null,_,G,A),_=_.child),_;case 16:L=_.elementType;e:{switch(Bx(m,_),m=_.pendingProps,G=L._init,L=G(L._payload),_.type=L,G=_.tag=WQ(L),m=vo(L,m),G){case 0:_=eE(null,_,L,m,A);break e;case 1:_=g5(null,_,L,m,A);break e;case 11:_=d5(null,_,L,m,A);break e;case 14:_=f5(null,_,L,vo(L.type,m),A);break e}throw Error(n(306,L,""))}return _;case 0:return L=_.type,G=_.pendingProps,G=_.elementType===L?G:vo(L,G),eE(m,_,L,G,A);case 1:return L=_.type,G=_.pendingProps,G=_.elementType===L?G:vo(L,G),g5(m,_,L,G,A);case 3:e:{if(y5(_),m===null)throw Error(n(387));L=_.pendingProps,te=_.memoizedState,G=te.element,RR(m,_),Ix(_,L,null,A);var ge=_.memoizedState;if(L=ge.element,te.isDehydrated)if(te={element:L,isDehydrated:!1,cache:ge.cache,pendingSuspenseBoundaries:ge.pendingSuspenseBoundaries,transitions:ge.transitions},_.updateQueue.baseState=te,_.memoizedState=te,_.flags&256){G=jh(Error(n(423)),_),_=v5(m,_,L,A,G);break e}else if(L!==G){G=jh(Error(n(424)),_),_=v5(m,_,L,A,G);break e}else for(ma=Vc(_.stateNode.containerInfo.firstChild),pa=_,mr=!0,yo=null,A=kR(_,null,L,A),_.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Fh(),L===G){_=zl(m,_,A);break e}Ss(m,_,L,A)}_=_.child}return _;case 5:return MR(_),m===null&&kT(_),L=_.type,G=_.pendingProps,te=m!==null?m.memoizedProps:null,ge=G.children,bT(L,G)?ge=null:te!==null&&bT(L,te)&&(_.flags|=32),m5(m,_),Ss(m,_,ge,A),_.child;case 6:return m===null&&kT(_),null;case 13:return x5(m,_,A);case 4:return LT(_,_.stateNode.containerInfo),L=_.pendingProps,m===null?_.child=Mh(_,null,L,A):Ss(m,_,L,A),_.child;case 11:return L=_.type,G=_.pendingProps,G=_.elementType===L?G:vo(L,G),d5(m,_,L,G,A);case 7:return Ss(m,_,_.pendingProps,A),_.child;case 8:return Ss(m,_,_.pendingProps.children,A),_.child;case 12:return Ss(m,_,_.pendingProps.children,A),_.child;case 10:e:{if(L=_.type._context,G=_.pendingProps,te=_.memoizedProps,ge=G.value,Jn(Ax,L._currentValue),L._currentValue=ge,te!==null)if(go(te.value,ge)){if(te.children===G.children&&!qs.current){_=zl(m,_,A);break e}}else for(te=_.child,te!==null&&(te.return=_);te!==null;){var Pe=te.dependencies;if(Pe!==null){ge=te.child;for(var je=Pe.firstContext;je!==null;){if(je.context===L){if(te.tag===1){je=ql(-1,A&-A),je.tag=2;var Ye=te.updateQueue;if(Ye!==null){Ye=Ye.shared;var ct=Ye.pending;ct===null?je.next=je:(je.next=ct.next,ct.next=je),Ye.pending=je}}te.lanes|=A,je=te.alternate,je!==null&&(je.lanes|=A),MT(te.return,A,_),Pe.lanes|=A;break}je=je.next}}else if(te.tag===10)ge=te.type===_.type?null:te.child;else if(te.tag===18){if(ge=te.return,ge===null)throw Error(n(341));ge.lanes|=A,Pe=ge.alternate,Pe!==null&&(Pe.lanes|=A),MT(ge,A,_),ge=te.sibling}else ge=te.child;if(ge!==null)ge.return=te;else for(ge=te;ge!==null;){if(ge===_){ge=null;break}if(te=ge.sibling,te!==null){te.return=ge.return,ge=te;break}ge=ge.return}te=ge}Ss(m,_,G.children,A),_=_.child}return _;case 9:return G=_.type,L=_.pendingProps.children,Oh(_,A),G=Ma(G),L=L(G),_.flags|=1,Ss(m,_,L,A),_.child;case 14:return L=_.type,G=vo(L,_.pendingProps),G=vo(L.type,G),f5(m,_,L,G,A);case 15:return h5(m,_,_.type,_.pendingProps,A);case 17:return L=_.type,G=_.pendingProps,G=_.elementType===L?G:vo(L,G),Bx(m,_),_.tag=1,zs(L)?(m=!0,wx(_)):m=!1,Oh(_,A),i5(_,L,G),YT(_,L,G,A),tE(null,_,L,!0,m,A);case 19:return b5(m,_,A);case 22:return p5(m,_,A)}throw Error(n(156,_.tag))};function H5(m,_){return ut(m,_)}function VQ(m,_,A,L){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(m,_,A,L){return new VQ(m,_,A,L)}function bE(m){return m=m.prototype,!(!m||!m.isReactComponent)}function WQ(m){if(typeof m=="function")return bE(m)?1:0;if(m!=null){if(m=m.$$typeof,m===k)return 11;if(m===X)return 14}return 2}function Qc(m,_){var A=m.alternate;return A===null?(A=La(m.tag,_,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=_,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&14680064,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,_=m.dependencies,A.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A}function Yx(m,_,A,L,G,te){var ge=2;if(L=m,typeof m=="function")bE(m)&&(ge=1);else if(typeof m=="string")ge=5;else e:switch(m){case D:return kd(A.children,G,te,_);case N:ge=8,G|=8;break;case I:return m=La(12,A,_,G|2),m.elementType=I,m.lanes=te,m;case U:return m=La(13,A,_,G),m.elementType=U,m.lanes=te,m;case O:return m=La(19,A,_,G),m.elementType=O,m.lanes=te,m;case Y:return Qx(A,G,te,_);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case F:ge=10;break e;case P:ge=9;break e;case k:ge=11;break e;case X:ge=14;break e;case J:ge=16,L=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return _=La(ge,A,_,G),_.elementType=m,_.type=L,_.lanes=te,_}function kd(m,_,A,L){return m=La(7,m,L,_),m.lanes=A,m}function Qx(m,_,A,L){return m=La(22,m,L,_),m.elementType=Y,m.lanes=A,m.stateNode={isHidden:!1},m}function wE(m,_,A){return m=La(6,m,null,_),m.lanes=A,m}function TE(m,_,A){return _=La(4,m.children!==null?m.children:[],m.key,_),_.lanes=A,_.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},_}function qQ(m,_,A,L,G){this.tag=_,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=L,this.onRecoverableError=G,this.mutableSourceEagerHydrationData=null}function EE(m,_,A,L,G,te,ge,Pe,je){return m=new qQ(m,_,A,Pe,je),_===1?(_=1,te===!0&&(_|=8)):_=0,te=La(3,null,null,_),m.current=te,te.stateNode=m,te.memoizedState={element:L,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},OT(te),m}function zQ(m,_,A){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:L==null?null:""+L,children:m,containerInfo:_,implementation:A}}function $5(m){if(!m)return qc;m=m._reactInternals;e:{if(Re(m)!==m||m.tag!==1)throw Error(n(170));var _=m;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(zs(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(n(171))}if(m.tag===1){var A=m.type;if(zs(A))return _R(m,A,_)}return _}function G5(m,_,A,L,G,te,ge,Pe,je){return m=EE(A,L,!0,m,G,te,ge,Pe,je),m.context=$5(null),A=m.current,L=Ds(),G=Jc(A),te=ql(L,G),te.callback=_??null,$c(A,te,G),m.current.lanes=G,Fc(m,G,L),Gs(m,L),m}function Zx(m,_,A,L){var G=_.current,te=Ds(),ge=Jc(G);return A=$5(A),_.context===null?_.context=A:_.pendingContext=A,_=ql(te,ge),_.payload={element:m},L=L===void 0?null:L,L!==null&&(_.callback=L),m=$c(G,_,ge),m!==null&&(bo(m,G,ge,te),kx(m,G,ge)),ge}function e1(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function K5(m,_){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<_?A:_}}function CE(m,_){K5(m,_),(m=m.alternate)&&K5(m,_)}function HQ(){return null}var X5=typeof reportError=="function"?reportError:function(m){console.error(m)};function SE(m){this._internalRoot=m}t1.prototype.render=SE.prototype.render=function(m){var _=this._internalRoot;if(_===null)throw Error(n(409));Zx(m,_,null,null)},t1.prototype.unmount=SE.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var _=m.containerInfo;Dd(function(){Zx(null,m,null,null)}),_[Ll]=null}};function t1(m){this._internalRoot=m}t1.prototype.unstable_scheduleHydration=function(m){if(m){var _=tx();m={blockedOn:null,target:m,priority:_};for(var A=0;A<Ho.length&&_!==0&&_<Ho[A].priority;A++);Ho.splice(A,0,m),A===0&&ix(m)}};function DE(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function n1(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function J5(){}function $Q(m,_,A,L,G){if(G){if(typeof L=="function"){var te=L;L=function(){var Ye=e1(ge);te.call(Ye)}}var ge=G5(_,L,m,0,null,!1,!1,"",J5);return m._reactRootContainer=ge,m[Ll]=ge.current,fg(m.nodeType===8?m.parentNode:m),Dd(),ge}for(;G=m.lastChild;)m.removeChild(G);if(typeof L=="function"){var Pe=L;L=function(){var Ye=e1(je);Pe.call(Ye)}}var je=EE(m,0,!1,null,null,!1,!1,"",J5);return m._reactRootContainer=je,m[Ll]=je.current,fg(m.nodeType===8?m.parentNode:m),Dd(function(){Zx(_,je,A,L)}),je}function r1(m,_,A,L,G){var te=A._reactRootContainer;if(te){var ge=te;if(typeof G=="function"){var Pe=G;G=function(){var je=e1(ge);Pe.call(je)}}Zx(_,ge,m,G)}else ge=$Q(A,_,m,G,L);return e1(ge)}Zv=function(m){switch(m.tag){case 3:var _=m.stateNode;if(_.current.memoizedState.isDehydrated){var A=Rc(_.pendingLanes);A!==0&&(Mc(_,A|1),Gs(_,dt()),(xn&6)===0&&(Wh=dt()+500,zc()))}break;case 13:Dd(function(){var L=Wl(m,1);if(L!==null){var G=Ds();bo(L,m,1,G)}}),CE(m,1)}},hh=function(m){if(m.tag===13){var _=Wl(m,134217728);if(_!==null){var A=Ds();bo(_,m,134217728,A)}CE(m,134217728)}},ex=function(m){if(m.tag===13){var _=Jc(m),A=Wl(m,_);if(A!==null){var L=Ds();bo(A,m,_,L)}CE(m,_)}},tx=function(){return gn},nx=function(m,_){var A=gn;try{return gn=m,_()}finally{gn=A}},wr=function(m,_,A){switch(_){case"input":if(oe(m,A),_=A.name,A.type==="radio"&&_!=null){for(A=m;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<A.length;_++){var L=A[_];if(L!==m&&L.form===m.form){var G=_x(L);if(!G)throw Error(n(90));fe(L),oe(L,G)}}}break;case"textarea":me(m,A);break;case"select":_=A.value,_!=null&&_e(m,!!A.multiple,_,!1)}},He=vE,rt=Dd;var GQ={usingClientEntryPoint:!1,Events:[mg,Nh,_x,we,Fe,vE]},Ng={findFiberByHostInstance:xd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KQ={bundleType:Ng.bundleType,version:Ng.version,rendererPackageName:Ng.rendererPackageName,rendererConfig:Ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=Xe(m),m===null?null:m.stateNode},findFiberByHostInstance:Ng.findFiberByHostInstance||HQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i1.isDisabled&&i1.supportsFiber)try{ua=i1.inject(KQ),Hr=i1}catch{}}return Ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GQ,Ks.createPortal=function(m,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DE(_))throw Error(n(200));return zQ(m,_,null,A)},Ks.createRoot=function(m,_){if(!DE(m))throw Error(n(299));var A=!1,L="",G=X5;return _!=null&&(_.unstable_strictMode===!0&&(A=!0),_.identifierPrefix!==void 0&&(L=_.identifierPrefix),_.onRecoverableError!==void 0&&(G=_.onRecoverableError)),_=EE(m,1,!1,null,null,A,!1,L,G),m[Ll]=_.current,fg(m.nodeType===8?m.parentNode:m),new SE(_)},Ks.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var _=m._reactInternals;if(_===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=Xe(_),m=m===null?null:m.stateNode,m},Ks.flushSync=function(m){return Dd(m)},Ks.hydrate=function(m,_,A){if(!n1(_))throw Error(n(200));return r1(null,m,_,!0,A)},Ks.hydrateRoot=function(m,_,A){if(!DE(m))throw Error(n(405));var L=A!=null&&A.hydratedSources||null,G=!1,te="",ge=X5;if(A!=null&&(A.unstable_strictMode===!0&&(G=!0),A.identifierPrefix!==void 0&&(te=A.identifierPrefix),A.onRecoverableError!==void 0&&(ge=A.onRecoverableError)),_=G5(_,null,m,1,A??null,G,!1,te,ge),m[Ll]=_.current,fg(m),L)for(m=0;m<L.length;m++)A=L[m],G=A._getVersion,G=G(A._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[A,G]:_.mutableSourceEagerHydrationData.push(A,G);return new t1(_)},Ks.render=function(m,_,A){if(!n1(_))throw Error(n(200));return r1(null,m,_,!1,A)},Ks.unmountComponentAtNode=function(m){if(!n1(m))throw Error(n(40));return m._reactRootContainer?(Dd(function(){r1(null,null,m,!1,function(){m._reactRootContainer=null,m[Ll]=null})}),!0):!1},Ks.unstable_batchedUpdates=vE,Ks.unstable_renderSubtreeIntoContainer=function(m,_,A,L){if(!n1(A))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return r1(m,_,A,!1,L)},Ks.version="18.3.1-next-f1338f8080-20240426",Ks}var iP;function dB(){if(iP)return kE.exports;iP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kE.exports=nZ(),kE.exports}var sP;function rZ(){if(sP)return s1;sP=1;var t=dB();return s1.createRoot=t.createRoot,s1.hydrateRoot=t.hydrateRoot,s1}var iZ=rZ();const sZ=Z_(iZ);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aP="popstate";function aZ(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return _A("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J0(i)}return lZ(e,n,null,t)}function _r(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ro(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oZ(){return Math.random().toString(36).substring(2,10)}function oP(t,e){return{usr:t.state,key:t.key,idx:e}}function _A(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xm(e):e,state:n,key:e&&e.key||r||oZ()}}function J0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function lZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function f(){o="POP";let y=u(),b=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:b})}function h(y,b){o="PUSH";let x=_A(g.location,y,b);c=u()+1;let w=oP(x,c),E=g.createHref(x);try{a.pushState(w,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:o,location:g.location,delta:1})}function p(y,b){o="REPLACE";let x=_A(g.location,y,b);c=u();let w=oP(x,c),E=g.createHref(x);a.replaceState(w,"",E),s&&l&&l({action:o,location:g.location,delta:0})}function v(y){return cZ(y)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(aP,f),l=y,()=>{i.removeEventListener(aP,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let b=v(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return a.go(y)}};return g}function cZ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_r(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:J0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function fB(t,e,n="/"){return uZ(t,e,n,!1)}function uZ(t,e,n,r){let i=typeof e=="string"?xm(e):e,s=cc(i.pathname||"/",n);if(s==null)return null;let a=hB(t);dZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=wZ(s);o=_Z(a[l],c,r)}return o}function hB(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;_r(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=tc([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(_r(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),hB(a.children,e,h,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:vZ(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of pB(a.path))s(a,o,!0,c)}),e}function pB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=pB(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function dZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var fZ=/^:[\w-]+$/,hZ=3,pZ=2,mZ=1,gZ=10,yZ=-2,lP=t=>t==="*";function vZ(t,e){let n=t.split("/"),r=n.length;return n.some(lP)&&(r+=yZ),e&&(r+=pZ),n.filter(i=>!lP(i)).reduce((i,s)=>i+(fZ.test(s)?hZ:s===""?mZ:gZ),r)}function xZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _Z(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=V2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=V2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:tc([s,f.pathname]),pathnameBase:SZ(tc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=tc([s,f.pathnameBase]))}return a}function V2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function bZ(t,e=!1,n=!0){ro(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ro(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TZ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xm(t):t;return{pathname:n?n.startsWith("/")?n:EZ(n,e):e,search:DZ(r),hash:AZ(i)}}function EZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function PE(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pN(t){let e=CZ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function mN(t,e,n,r=!1){let i;typeof t=="string"?i=xm(t):(i={...t},_r(!i.pathname||!i.pathname.includes("?"),PE("?","pathname","search",i)),_r(!i.pathname||!i.pathname.includes("#"),PE("#","pathname","hash",i)),_r(!i.search||!i.search.includes("#"),PE("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=TZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var tc=t=>t.join("/").replace(/\/\/+/g,"/"),SZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var mB=["POST","PUT","PATCH","DELETE"];new Set(mB);var kZ=["GET",...mB];new Set(kZ);var _m=q.createContext(null);_m.displayName="DataRouter";var tb=q.createContext(null);tb.displayName="DataRouterState";q.createContext(!1);var gB=q.createContext({isTransitioning:!1});gB.displayName="ViewTransition";var IZ=q.createContext(new Map);IZ.displayName="Fetchers";var RZ=q.createContext(null);RZ.displayName="Await";var Bo=q.createContext(null);Bo.displayName="Navigation";var tv=q.createContext(null);tv.displayName="Location";var ao=q.createContext({outlet:null,matches:[],isDataRoute:!1});ao.displayName="Route";var gN=q.createContext(null);gN.displayName="RouteError";function PZ(t,{relative:e}={}){_r(bm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(Bo),{hash:i,pathname:s,search:a}=nv(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:tc([n,s])),r.createHref({pathname:o,search:a,hash:i})}function bm(){return q.useContext(tv)!=null}function Ir(){return _r(bm(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(tv).location}var yB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vB(t){q.useContext(Bo).static||q.useLayoutEffect(t)}function ci(){let{isDataRoute:t}=q.useContext(ao);return t?KZ():FZ()}function FZ(){_r(bm(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(_m),{basename:e,navigator:n}=q.useContext(Bo),{matches:r}=q.useContext(ao),{pathname:i}=Ir(),s=JSON.stringify(pN(r)),a=q.useRef(!1);return vB(()=>{a.current=!0}),q.useCallback((l,c={})=>{if(ro(a.current,yB),!a.current)return;if(typeof l=="number"){n.go(l);return}let u=mN(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:tc([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var MZ=q.createContext(null);function UZ(t){let e=q.useContext(ao).outlet;return e&&q.createElement(MZ.Provider,{value:t},e)}function Bs(){let{matches:t}=q.useContext(ao),e=t[t.length-1];return e?e.params:{}}function nv(t,{relative:e}={}){let{matches:n}=q.useContext(ao),{pathname:r}=Ir(),i=JSON.stringify(pN(n));return q.useMemo(()=>mN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function OZ(t,e){return xB(t,e)}function xB(t,e,n,r,i){var x;_r(bm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=q.useContext(Bo),{matches:a}=q.useContext(ao),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";_B(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Ir(),p;if(e){let w=typeof e=="string"?xm(e):e;_r(u==="/"||((x=w.pathname)==null?void 0:x.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let v=p.pathname||"/",g=v;if(u!=="/"){let w=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=fB(t,{pathname:g});ro(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ro(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=WZ(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:tc([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:tc([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r,i);return e&&b?q.createElement(tv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function LZ(){let t=GZ(),e=NZ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:s},"ErrorBoundary")," or"," ",q.createElement("code",{style:s},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,a)}var jZ=q.createElement(LZ,null),BZ=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?q.createElement(ao.Provider,{value:this.props.routeContext},q.createElement(gN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VZ({routeContext:t,match:e,children:n}){let r=q.useContext(_m);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ao.Provider,{value:t},n)}function WZ(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);_r(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:h}=n,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,f)=>{let h,p=!1,v=null,g=null;n&&(h=a&&u.route.id?a[u.route.id]:void 0,v=u.route.errorElement||jZ,o&&(l<0&&f===0?(_B("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===f&&(p=!0,g=u.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),b=()=>{let x;return h?x=v:p?x=g:u.route.Component?x=q.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=c,q.createElement(VZ,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?q.createElement(BZ,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):b()},null)}function yN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qZ(t){let e=q.useContext(_m);return _r(e,yN(t)),e}function zZ(t){let e=q.useContext(tb);return _r(e,yN(t)),e}function HZ(t){let e=q.useContext(ao);return _r(e,yN(t)),e}function vN(t){let e=HZ(t),n=e.matches[e.matches.length-1];return _r(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $Z(){return vN("useRouteId")}function GZ(){var r;let t=q.useContext(gN),e=zZ("useRouteError"),n=vN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function KZ(){let{router:t}=qZ("useNavigate"),e=vN("useNavigate"),n=q.useRef(!1);return vB(()=>{n.current=!0}),q.useCallback(async(i,s={})=>{ro(n.current,yB),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var cP={};function _B(t,e,n){!e&&!cP[t]&&(cP[t]=!0,ro(!1,n))}q.memo(XZ);function XZ({routes:t,future:e,state:n,unstable_onError:r}){return xB(t,void 0,n,r,e)}function hp({to:t,replace:e,state:n,relative:r}){_r(bm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=q.useContext(Bo);ro(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=q.useContext(ao),{pathname:a}=Ir(),o=ci(),l=mN(t,pN(s),a,r==="path"),c=JSON.stringify(l);return q.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function xN(t){return UZ(t.context)}function jt(t){_r(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JZ({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){_r(!bm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=q.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=xm(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=q.useMemo(()=>{let v=cc(l,a);return v==null?null:{location:{pathname:v,search:c,hash:u,state:f,key:h},navigationType:r}},[a,l,c,u,f,h,r]);return ro(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:q.createElement(Bo.Provider,{value:o},q.createElement(tv.Provider,{children:e,value:p}))}function YZ({children:t,location:e}){return OZ(bA(t),e)}function bA(t,e=[]){let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let s=[...e,i];if(r.type===q.Fragment){n.push.apply(n,bA(r.props.children,s));return}_r(r.type===jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_r(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bA(r.props.children,s)),n.push(a)}),n}var Z1="get",e2="application/x-www-form-urlencoded";function nb(t){return t!=null&&typeof t.tagName=="string"}function QZ(t){return nb(t)&&t.tagName.toLowerCase()==="button"}function ZZ(t){return nb(t)&&t.tagName.toLowerCase()==="form"}function eee(t){return nb(t)&&t.tagName.toLowerCase()==="input"}function tee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nee(t,e){return t.button===0&&(!e||e==="_self")&&!tee(t)}function wA(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function ree(t,e){let n=wA(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var a1=null;function iee(){if(a1===null)try{new FormData(document.createElement("form"),0),a1=!1}catch{a1=!0}return a1}var see=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function FE(t){return t!=null&&!see.has(t)?(ro(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${e2}"`),null):t}function aee(t,e){let n,r,i,s,a;if(ZZ(t)){let o=t.getAttribute("action");r=o?cc(o,e):null,n=t.getAttribute("method")||Z1,i=FE(t.getAttribute("enctype"))||e2,s=new FormData(t)}else if(QZ(t)||eee(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?cc(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Z1,i=FE(t.getAttribute("formenctype"))||FE(o.getAttribute("enctype"))||e2,s=new FormData(o,t),!iee()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(nb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Z1,r=null,i=e2,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _N(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oee(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&cc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lee(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uee(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await lee(s,n);return a.links?a.links():[]}return[]}));return pee(r.flat(1).filter(cee).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function uP(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function dee(t,e,{includeHydrateFallback:n}={}){return fee(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function fee(t){return[...new Set(t)]}function hee(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pee(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(hee(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function bB(){let t=q.useContext(_m);return _N(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mee(){let t=q.useContext(tb);return _N(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bN=q.createContext(void 0);bN.displayName="FrameworkContext";function wB(){let t=q.useContext(bN);return _N(t,"You must render this element inside a <HydratedRouter> element"),t}function gee(t,e){let n=q.useContext(bN),[r,i]=q.useState(!1),[s,a]=q.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=q.useRef(null);q.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=b=>{b.forEach(x=>{a(x.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),q.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Ig(o,p),onBlur:Ig(l,v),onMouseEnter:Ig(c,p),onMouseLeave:Ig(u,v),onTouchStart:Ig(f,p)}]:[!1,h,{}]}function Ig(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yee({page:t,...e}){let{router:n}=bB(),r=q.useMemo(()=>fB(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?q.createElement(xee,{page:t,matches:r,...e}):null}function vee(t){let{manifest:e,routeModules:n}=wB(),[r,i]=q.useState([]);return q.useEffect(()=>{let s=!1;return uee(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function xee({page:t,matches:e,...n}){let r=Ir(),{manifest:i,routeModules:s}=wB(),{basename:a}=bB(),{loaderData:o,matches:l}=mee(),c=q.useMemo(()=>uP(t,e,l,i,r,"data"),[t,e,l,i,r]),u=q.useMemo(()=>uP(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=q.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(e.forEach(b=>{var w;let x=i.routes[b.route.id];!x||!x.hasLoader||(!c.some(E=>E.route.id===b.route.id)&&b.route.id in o&&((w=s[b.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?g=!0:v.add(b.route.id))}),v.size===0)return[];let y=oee(t,a,"data");return g&&v.size>0&&y.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[y.pathname+y.search]},[a,o,r,i,c,e,t,s]),h=q.useMemo(()=>dee(u,i),[u,i]),p=vee(u);return q.createElement(q.Fragment,null,f.map(v=>q.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>q.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:g})=>q.createElement("link",{key:v,nonce:n.nonce,...g})))}function _ee(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TB&&(window.__reactRouterVersion="7.8.2")}catch{}function bee({basename:t,children:e,window:n}){let r=q.useRef();r.current==null&&(r.current=aZ({window:n,v5Compat:!0}));let i=r.current,[s,a]=q.useState({action:i.action,location:i.location}),o=q.useCallback(l=>{q.startTransition(()=>a(l))},[a]);return q.useLayoutEffect(()=>i.listen(o),[i,o]),q.createElement(JZ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var EB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=q.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:v}=q.useContext(Bo),g=typeof c=="string"&&EB.test(c),y,b=!1;if(typeof c=="string"&&g&&(y=c,TB))try{let I=new URL(window.location.href),F=c.startsWith("//")?new URL(I.protocol+c):new URL(c),P=cc(F.pathname,v);F.origin===I.origin&&P!=null?c=P+F.search+F.hash:b=!0}catch{ro(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=PZ(c,{relative:i}),[w,E,S]=gee(r,h),R=Eee(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function D(I){e&&e(I),I.defaultPrevented||R(I)}let N=q.createElement("a",{...h,...S,href:y||x,onClick:b||s?e:D,ref:_ee(p,E),target:l,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?q.createElement(q.Fragment,null,N,q.createElement(yee,{page:x})):N});en.displayName="Link";var zn=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let f=nv(a,{relative:c.relative}),h=Ir(),p=q.useContext(tb),{navigator:v,basename:g}=q.useContext(Bo),y=p!=null&&kee(f)&&o===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&g&&(w=cc(w,g)||w);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=x===b||!i&&x.startsWith(b)&&x.charAt(E)==="/",R=w!=null&&(w===b||!i&&w.startsWith(b)&&w.charAt(b.length)==="/"),D={isActive:S,isPending:R,isTransitioning:y},N=S?e:void 0,I;typeof r=="function"?I=r(D):I=[r,S?"active":null,R?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(D):s;return q.createElement(en,{...c,"aria-current":N,className:I,ref:u,style:F,to:a,viewTransition:o},typeof l=="function"?l(D):l)});zn.displayName="NavLink";var wee=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Z1,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let v=Aee(),g=Nee(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&EB.test(o),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let E=w.nativeEvent.submitter,S=(E==null?void 0:E.getAttribute("formmethod"))||a;v(E||w.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return q.createElement("form",{ref:p,method:y,action:g,onSubmit:r?l:x,...h,"data-discover":!b&&t==="render"?"true":void 0})});wee.displayName="Form";function Tee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CB(t){let e=q.useContext(_m);return _r(e,Tee(t)),e}function Eee(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=ci(),l=Ir(),c=nv(t,{relative:s});return q.useCallback(u=>{if(nee(u,e)){u.preventDefault();let f=n!==void 0?n:J0(l)===J0(c);o(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}function Cee(t){ro(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(wA(t)),n=q.useRef(!1),r=Ir(),i=q.useMemo(()=>ree(r.search,n.current?null:e.current),[r.search]),s=ci(),a=q.useCallback((o,l)=>{const c=wA(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var See=0,Dee=()=>`__${String(++See)}__`;function Aee(){let{router:t}=CB("useSubmit"),{basename:e}=q.useContext(Bo),n=$Z();return q.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=aee(r,e);if(i.navigate===!1){let u=i.fetcherKey||Dee();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Nee(t,{relative:e}={}){let{basename:n}=q.useContext(Bo),r=q.useContext(ao);_r(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...nv(t||".",{relative:e})},a=Ir();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:tc([n,s.pathname])),J0(s)}function kee(t,{relative:e}={}){let n=q.useContext(gB);_r(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CB("useViewTransitionState"),i=nv(t,{relative:e});if(!n.isTransitioning)return!1;let s=cc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=cc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return V2(i.pathname,a)!=null||V2(i.pathname,s)!=null}const Iee=()=>{};var dP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt=function(t,e){if(!t)throw wm(e)},wm=function(t){return new Error("Firebase Database ("+SB.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ree=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},wN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ree(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new Pee;const h=s<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AB=function(t){const e=DB(t);return wN.encodeByteArray(e,!0)},W2=function(t){return AB(t).replace(/\./g,"")},Y0=function(t){try{return wN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(t){return Q0(void 0,t)}function Q0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Mee(n)||(t[n]=Q0(t[n],e[n]));return t}function Mee(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=()=>TN().__FIREBASE_DEFAULTS__,Oee=()=>{if(typeof process>"u"||typeof dP>"u")return;const t=dP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y0(t[1]);return e&&JSON.parse(e)},rb=()=>{try{return Iee()||Uee()||Oee()||Lee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jee=t=>{var e,n;return(n=(e=rb())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Bee=t=>{const e=jee(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},EN=()=>{var t;return(t=rb())==null?void 0:t.config},Vee=t=>{var e;return(e=rb())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[W2(JSON.stringify(n)),W2(JSON.stringify(a)),""].join(".")}const v0={};function Wee(){const t={prod:[],emulator:[]};for(const e of Object.keys(v0))v0[e]?t.emulator.push(e):t.prod.push(e);return t}function qee(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fP=!1;function sb(t,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||v0[t]===e||v0[t]||fP)return;v0[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=Wee().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{fP=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=qee(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),x=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,g);const E=c();l(x,b),w.append(x,v,y,E),document.body.appendChild(w)}s?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function ab(){var e;const t=(e=rb())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zee(){return typeof window<"u"||NB()}function NB(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Hee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ob(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IB(){const t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $ee(){return SB.NODE_ADMIN===!0}function RB(){return!ab()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PB(){return!ab()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Z0(){try{return typeof indexedDB=="object"}catch{return!1}}function Gee(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kee,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vf.prototype.create)}}class Vf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Xee(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new gs(i,o,r)}}function Xee(t,e){return t.replace(Jee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jee=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t){return JSON.parse(t)}function pi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ey(Y0(s[0])||""),n=ey(Y0(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Yee=function(t){const e=FB(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Qee=function(t){const e=FB(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pf(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function q2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function z2(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(hP(s)&&hP(a)){if(!uc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function a0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=o^s&(a^o),u=1518500249):(c=s^a^o,u=1859775393):f<60?(c=s&a|o&(s|a),u=2400959708):(c=s^a^o,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function MB(t,e){const n=new ete(t,e);return n.subscribe.bind(n)}class ete{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tte(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ME),i.error===void 0&&(i.error=ME),i.complete===void 0&&(i.complete=ME);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ME(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function na(t,e){return`${t} failed: ${e} argument `}function Ni(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(na(t,e)+"must be a valid function.")}function pP(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(na(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,mt(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lb=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ys;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ite(e))try{this.getOrInitializeService({instanceIdentifier:Od})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Od){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Od){return this.instances.has(e)}getOptions(e=Od){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Od){return this.component?this.component.multipleInstances?e:Od:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rte(t){return t===Od?void 0:t}function ite(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=[];var dn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dn||(dn={}));const UB={debug:dn.DEBUG,verbose:dn.VERBOSE,info:dn.INFO,warn:dn.WARN,error:dn.ERROR,silent:dn.SILENT},ste=dn.INFO,ate={[dn.DEBUG]:"log",[dn.VERBOSE]:"log",[dn.INFO]:"info",[dn.WARN]:"warn",[dn.ERROR]:"error"},ote=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ate[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=ste,this._logHandler=ote,this._userLogHandler=null,AN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dn.DEBUG,...e),this._logHandler(this,dn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dn.VERBOSE,...e),this._logHandler(this,dn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dn.INFO,...e),this._logHandler(this,dn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dn.WARN,...e),this._logHandler(this,dn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dn.ERROR,...e),this._logHandler(this,dn.ERROR,...e)}}function lte(t){AN.forEach(e=>{e.setLogLevel(t)})}function cte(t,e){for(const n of AN){let r=null;e&&e.level&&(r=UB[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:dn[s].toLowerCase(),message:o,args:a,type:i.name})}}}const ute=(t,e)=>e.some(n=>t instanceof n);let mP,gP;function dte(){return mP||(mP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fte(){return gP||(gP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OB=new WeakMap,EA=new WeakMap,LB=new WeakMap,UE=new WeakMap,NN=new WeakMap;function hte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(xu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&OB.set(n,t)}).catch(()=>{}),NN.set(e,t),e}function pte(t){if(EA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});EA.set(t,e)}let CA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return EA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mte(t){CA=t(CA)}function gte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(OE(this),e,...n);return LB.set(r,e.sort?e.sort():[e]),xu(r)}:fte().includes(t)?function(...e){return t.apply(OE(this),e),xu(OB.get(this))}:function(...e){return xu(t.apply(OE(this),e))}}function yte(t){return typeof t=="function"?gte(t):(t instanceof IDBTransaction&&pte(t),ute(t,dte())?new Proxy(t,CA):t)}function xu(t){if(t instanceof IDBRequest)return hte(t);if(UE.has(t))return UE.get(t);const e=yte(t);return e!==t&&(UE.set(t,e),NN.set(e,t)),e}const OE=t=>NN.get(t);function vte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=xu(a);return r&&a.addEventListener("upgradeneeded",l=>{r(xu(a.result),l.oldVersion,l.newVersion,xu(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const xte=["get","getKey","getAll","getAllKeys","count"],_te=["put","add","delete","clear"],LE=new Map;function yP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(LE.get(e))return LE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_te.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xte.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return LE.set(e,s),s}mte(t=>({...t,get:(e,n,r)=>yP(e,n)||t.get(e,n,r),has:(e,n)=>!!yP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wte(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const H2="@firebase/app",SA="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Tm("@firebase/app"),Tte="@firebase/app-compat",Ete="@firebase/analytics-compat",Cte="@firebase/analytics",Ste="@firebase/app-check-compat",Dte="@firebase/app-check",Ate="@firebase/auth",Nte="@firebase/auth-compat",kte="@firebase/database",Ite="@firebase/data-connect",Rte="@firebase/database-compat",Pte="@firebase/functions",Fte="@firebase/functions-compat",Mte="@firebase/installations",Ute="@firebase/installations-compat",Ote="@firebase/messaging",Lte="@firebase/messaging-compat",jte="@firebase/performance",Bte="@firebase/performance-compat",Vte="@firebase/remote-config",Wte="@firebase/remote-config-compat",qte="@firebase/storage",zte="@firebase/storage-compat",Hte="@firebase/firestore",$te="@firebase/ai",Gte="@firebase/firestore-compat",Kte="firebase",Xte="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="[DEFAULT]",Jte={[H2]:"fire-core",[Tte]:"fire-core-compat",[Cte]:"fire-analytics",[Ete]:"fire-analytics-compat",[Dte]:"fire-app-check",[Ste]:"fire-app-check-compat",[Ate]:"fire-auth",[Nte]:"fire-auth-compat",[kte]:"fire-rtdb",[Ite]:"fire-data-connect",[Rte]:"fire-rtdb-compat",[Pte]:"fire-fn",[Fte]:"fire-fn-compat",[Mte]:"fire-iid",[Ute]:"fire-iid-compat",[Ote]:"fire-fcm",[Lte]:"fire-fcm-compat",[jte]:"fire-perf",[Bte]:"fire-perf-compat",[Vte]:"fire-rc",[Wte]:"fire-rc-compat",[qte]:"fire-gcs",[zte]:"fire-gcs-compat",[Hte]:"fire-fst",[Gte]:"fire-fst-compat",[$te]:"fire-vertex","fire-js":"fire-js",[Kte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Map,Op=new Map,Lp=new Map;function ty(t,e){try{t.container.addComponent(e)}catch(n){dc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jB(t,e){t.container.addOrOverwriteComponent(e)}function wl(t){const e=t.name;if(Lp.has(e))return dc.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,t);for(const n of Iu.values())ty(n,t);for(const n of Op.values())ty(n,t);return!0}function kN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yte(t,e,n=ku){kN(t,e).clearInstance(n)}function IN(t){return t.options!==void 0}function BB(t){return IN(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function Qn(t){return t==null?!1:t.settings!==void 0}function Qte(){Lp.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new Vf("app","Firebase",Zte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VB=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){const n=Y0(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class ene extends VB{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,a,i);else{const o=e;super(o.options,a,i)}this._serverConfig={automaticDataCollectionEnabled:s,...n},this._serverConfig.authIdToken&&vP(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&vP(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Ps(H2,SA,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){PN(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ca.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=Xte;function RN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ku,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ca.create("bad-app-name",{appName:String(i)});if(n||(n=EN()),!n)throw Ca.create("no-options");const s=Iu.get(i);if(s){if(uc(n,s.options)&&uc(r,s.config))return s;throw Ca.create("duplicate-app",{appName:i})}const a=new DN(i);for(const l of Lp.values())a.addComponent(l);const o=new VB(n,r,a);return Iu.set(i,o),o}function tne(t,e={}){if(zee()&&!NB())throw Ca.create("invalid-server-app-environment");let n,r=e||{};if(t&&(IN(t)?n=t.options:BB(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=EN()),!n)throw Ca.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=u=>[...u].reduce((f,h)=>Math.imul(31,f)+h.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ca.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(i)),o=Op.get(a);if(o)return o.incRefCount(r.releaseOnDeref),o;const l=new DN(a);for(const u of Lp.values())l.addComponent(u);const c=new ene(n,r,a,l);return Op.set(a,c),c}function WB(t=ku){const e=Iu.get(t);if(!e&&t===ku&&EN())return RN();if(!e)throw Ca.create("no-app",{appName:t});return e}function nne(){return Array.from(Iu.values())}async function PN(t){let e=!1;const n=t.name;Iu.has(n)?(e=!0,Iu.delete(n)):Op.has(n)&&t.decRefCount()<=0&&(Op.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Ps(t,e,n){let r=Jte[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dc.warn(a.join(" "));return}wl(new Os(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function qB(t,e){if(t!==null&&typeof t!="function")throw Ca.create("invalid-log-argument");cte(t,e)}function zB(t){lte(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne="firebase-heartbeat-database",ine=1,ny="firebase-heartbeat-store";let jE=null;function HB(){return jE||(jE=vte(rne,ine,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ny)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ca.create("idb-open",{originalErrorMessage:t.message})})),jE}async function sne(t){try{const n=(await HB()).transaction(ny),r=await n.objectStore(ny).get($B(t));return await n.done,r}catch(e){if(e instanceof gs)dc.warn(e.message);else{const n=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dc.warn(n.message)}}}async function xP(t,e){try{const r=(await HB()).transaction(ny,"readwrite");await r.objectStore(ny).put(e,$B(t)),await r.done}catch(n){if(n instanceof gs)dc.warn(n.message);else{const r=Ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dc.warn(r.message)}}}function $B(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ane=1024,one=30;class lne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new une(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_P();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>one){const a=dne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_P(),{heartbeatsToSend:r,unsentEntries:i}=cne(this._heartbeatsCache.heartbeats),s=W2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return dc.warn(n),""}}}function _P(){return new Date().toISOString().substring(0,10)}function cne(t,e=ane){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),bP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class une{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z0()?Gee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bP(t){return W2(JSON.stringify({version:2,heartbeats:t})).length}function dne(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(t){wl(new Os("platform-logger",e=>new bte(e),"PRIVATE")),wl(new Os("heartbeat",e=>new lne(e),"PRIVATE")),Ps(H2,SA,t),Ps(H2,SA,"esm2020"),Ps("fire-js","")}fne("");const hne=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:gs,SDK_VERSION:kl,_DEFAULT_ENTRY_NAME:ku,_addComponent:ty,_addOrOverwriteComponent:jB,_apps:Iu,_clearComponents:Qte,_components:Lp,_getProvider:kN,_isFirebaseApp:IN,_isFirebaseServerApp:Qn,_isFirebaseServerAppSettings:BB,_registerComponent:wl,_removeServiceInstance:Yte,_serverApps:Op,deleteApp:PN,getApp:WB,getApps:nne,initializeApp:RN,initializeServerApp:tne,onLog:qB,registerVersion:Ps,setLogLevel:zB},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(e,n){this._delegate=e,this.firebase=n,ty(e,new Os("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),PN(this._delegate)))}_getService(e,n=ku){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=ku){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ty(this._delegate,e)}_addOrOverwriteComponent(e){jB(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},wP=new Vf("app-compat","Firebase",mne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gne(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Ps,setLogLevel:zB,onLog:qB,apps:null,SDK_VERSION:kl,INTERNAL:{registerComponent:o,removeApp:r,useAsService:l,modularAPIs:hne}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(c){delete e[c]}function i(c){if(c=c||ku,!Sa(e,c))throw wP.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const f=RN(c,u);if(Sa(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function a(){return Object.keys(e).map(c=>e[c])}function o(c){const u=c.name,f=u.replace("-compat","");if(wl(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw wP.create("invalid-app-argument",{appName:u});return p[f]()};c.serviceProps!==void 0&&Q0(h,c.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(){const t=gne(pne);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:GB,extendNamespace:e,createSubscribe:MB,ErrorFactory:Vf,deepExtend:Q0};function e(n){Q0(t,n)}return t}const yne=GB();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Tm("@firebase/app-compat"),vne="@firebase/app-compat",xne="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(t){Ps(vne,xne,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=TN();if(t.firebase!==void 0){TP.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&TP.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ur=yne;_ne();var bne="firebase",wne="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.registerVersion(bne,wne,"app-compat");var EP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _u,KB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function I(){}I.prototype=N.prototype,D.D=N.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(F,P,k){for(var U=Array(arguments.length-2),O=2;O<arguments.length;O++)U[O-2]=arguments[O];return N.prototype[P].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,I){I||(I=0);var F=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)F[P]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(P=0;16>P;++P)F[P]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=D.g[0],I=D.g[1],P=D.g[2];var k=D.g[3],U=N+(k^I&(P^k))+F[0]+3614090360&4294967295;N=I+(U<<7&4294967295|U>>>25),U=k+(P^N&(I^P))+F[1]+3905402710&4294967295,k=N+(U<<12&4294967295|U>>>20),U=P+(I^k&(N^I))+F[2]+606105819&4294967295,P=k+(U<<17&4294967295|U>>>15),U=I+(N^P&(k^N))+F[3]+3250441966&4294967295,I=P+(U<<22&4294967295|U>>>10),U=N+(k^I&(P^k))+F[4]+4118548399&4294967295,N=I+(U<<7&4294967295|U>>>25),U=k+(P^N&(I^P))+F[5]+1200080426&4294967295,k=N+(U<<12&4294967295|U>>>20),U=P+(I^k&(N^I))+F[6]+2821735955&4294967295,P=k+(U<<17&4294967295|U>>>15),U=I+(N^P&(k^N))+F[7]+4249261313&4294967295,I=P+(U<<22&4294967295|U>>>10),U=N+(k^I&(P^k))+F[8]+1770035416&4294967295,N=I+(U<<7&4294967295|U>>>25),U=k+(P^N&(I^P))+F[9]+2336552879&4294967295,k=N+(U<<12&4294967295|U>>>20),U=P+(I^k&(N^I))+F[10]+4294925233&4294967295,P=k+(U<<17&4294967295|U>>>15),U=I+(N^P&(k^N))+F[11]+2304563134&4294967295,I=P+(U<<22&4294967295|U>>>10),U=N+(k^I&(P^k))+F[12]+1804603682&4294967295,N=I+(U<<7&4294967295|U>>>25),U=k+(P^N&(I^P))+F[13]+4254626195&4294967295,k=N+(U<<12&4294967295|U>>>20),U=P+(I^k&(N^I))+F[14]+2792965006&4294967295,P=k+(U<<17&4294967295|U>>>15),U=I+(N^P&(k^N))+F[15]+1236535329&4294967295,I=P+(U<<22&4294967295|U>>>10),U=N+(P^k&(I^P))+F[1]+4129170786&4294967295,N=I+(U<<5&4294967295|U>>>27),U=k+(I^P&(N^I))+F[6]+3225465664&4294967295,k=N+(U<<9&4294967295|U>>>23),U=P+(N^I&(k^N))+F[11]+643717713&4294967295,P=k+(U<<14&4294967295|U>>>18),U=I+(k^N&(P^k))+F[0]+3921069994&4294967295,I=P+(U<<20&4294967295|U>>>12),U=N+(P^k&(I^P))+F[5]+3593408605&4294967295,N=I+(U<<5&4294967295|U>>>27),U=k+(I^P&(N^I))+F[10]+38016083&4294967295,k=N+(U<<9&4294967295|U>>>23),U=P+(N^I&(k^N))+F[15]+3634488961&4294967295,P=k+(U<<14&4294967295|U>>>18),U=I+(k^N&(P^k))+F[4]+3889429448&4294967295,I=P+(U<<20&4294967295|U>>>12),U=N+(P^k&(I^P))+F[9]+568446438&4294967295,N=I+(U<<5&4294967295|U>>>27),U=k+(I^P&(N^I))+F[14]+3275163606&4294967295,k=N+(U<<9&4294967295|U>>>23),U=P+(N^I&(k^N))+F[3]+4107603335&4294967295,P=k+(U<<14&4294967295|U>>>18),U=I+(k^N&(P^k))+F[8]+1163531501&4294967295,I=P+(U<<20&4294967295|U>>>12),U=N+(P^k&(I^P))+F[13]+2850285829&4294967295,N=I+(U<<5&4294967295|U>>>27),U=k+(I^P&(N^I))+F[2]+4243563512&4294967295,k=N+(U<<9&4294967295|U>>>23),U=P+(N^I&(k^N))+F[7]+1735328473&4294967295,P=k+(U<<14&4294967295|U>>>18),U=I+(k^N&(P^k))+F[12]+2368359562&4294967295,I=P+(U<<20&4294967295|U>>>12),U=N+(I^P^k)+F[5]+4294588738&4294967295,N=I+(U<<4&4294967295|U>>>28),U=k+(N^I^P)+F[8]+2272392833&4294967295,k=N+(U<<11&4294967295|U>>>21),U=P+(k^N^I)+F[11]+1839030562&4294967295,P=k+(U<<16&4294967295|U>>>16),U=I+(P^k^N)+F[14]+4259657740&4294967295,I=P+(U<<23&4294967295|U>>>9),U=N+(I^P^k)+F[1]+2763975236&4294967295,N=I+(U<<4&4294967295|U>>>28),U=k+(N^I^P)+F[4]+1272893353&4294967295,k=N+(U<<11&4294967295|U>>>21),U=P+(k^N^I)+F[7]+4139469664&4294967295,P=k+(U<<16&4294967295|U>>>16),U=I+(P^k^N)+F[10]+3200236656&4294967295,I=P+(U<<23&4294967295|U>>>9),U=N+(I^P^k)+F[13]+681279174&4294967295,N=I+(U<<4&4294967295|U>>>28),U=k+(N^I^P)+F[0]+3936430074&4294967295,k=N+(U<<11&4294967295|U>>>21),U=P+(k^N^I)+F[3]+3572445317&4294967295,P=k+(U<<16&4294967295|U>>>16),U=I+(P^k^N)+F[6]+76029189&4294967295,I=P+(U<<23&4294967295|U>>>9),U=N+(I^P^k)+F[9]+3654602809&4294967295,N=I+(U<<4&4294967295|U>>>28),U=k+(N^I^P)+F[12]+3873151461&4294967295,k=N+(U<<11&4294967295|U>>>21),U=P+(k^N^I)+F[15]+530742520&4294967295,P=k+(U<<16&4294967295|U>>>16),U=I+(P^k^N)+F[2]+3299628645&4294967295,I=P+(U<<23&4294967295|U>>>9),U=N+(P^(I|~k))+F[0]+4096336452&4294967295,N=I+(U<<6&4294967295|U>>>26),U=k+(I^(N|~P))+F[7]+1126891415&4294967295,k=N+(U<<10&4294967295|U>>>22),U=P+(N^(k|~I))+F[14]+2878612391&4294967295,P=k+(U<<15&4294967295|U>>>17),U=I+(k^(P|~N))+F[5]+4237533241&4294967295,I=P+(U<<21&4294967295|U>>>11),U=N+(P^(I|~k))+F[12]+1700485571&4294967295,N=I+(U<<6&4294967295|U>>>26),U=k+(I^(N|~P))+F[3]+2399980690&4294967295,k=N+(U<<10&4294967295|U>>>22),U=P+(N^(k|~I))+F[10]+4293915773&4294967295,P=k+(U<<15&4294967295|U>>>17),U=I+(k^(P|~N))+F[1]+2240044497&4294967295,I=P+(U<<21&4294967295|U>>>11),U=N+(P^(I|~k))+F[8]+1873313359&4294967295,N=I+(U<<6&4294967295|U>>>26),U=k+(I^(N|~P))+F[15]+4264355552&4294967295,k=N+(U<<10&4294967295|U>>>22),U=P+(N^(k|~I))+F[6]+2734768916&4294967295,P=k+(U<<15&4294967295|U>>>17),U=I+(k^(P|~N))+F[13]+1309151649&4294967295,I=P+(U<<21&4294967295|U>>>11),U=N+(P^(I|~k))+F[4]+4149444226&4294967295,N=I+(U<<6&4294967295|U>>>26),U=k+(I^(N|~P))+F[11]+3174756917&4294967295,k=N+(U<<10&4294967295|U>>>22),U=P+(N^(k|~I))+F[2]+718787259&4294967295,P=k+(U<<15&4294967295|U>>>17),U=I+(k^(P|~N))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,N){N===void 0&&(N=D.length);for(var I=N-this.blockSize,F=this.B,P=this.h,k=0;k<N;){if(P==0)for(;k<=I;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<N;)if(F[P++]=D.charCodeAt(k++),P==this.blockSize){i(this,F),P=0;break}}else for(;k<N;)if(F[P++]=D[k++],P==this.blockSize){i(this,F),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;var I=8*this.o;for(N=D.length-8;N<D.length;++N)D[N]=I&255,I/=256;for(this.u(D),D=Array(16),N=I=0;4>N;++N)for(var F=0;32>F;F+=8)D[I++]=this.g[N]>>>F&255;return D};function s(D,N){var I=o;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=N(D)}function a(D,N){this.h=N;for(var I=[],F=!0,P=D.length-1;0<=P;P--){var k=D[P]|0;F&&k==N||(I[P]=k,F=!1)}this.g=I}var o={};function l(D){return-128<=D&&128>D?s(D,function(N){return new a([N|0],0>N?-1:0)}):new a([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return y(c(-D));for(var N=[],I=1,F=0;D>=I;F++)N[F]=D/I|0,I*=4294967296;return new a(N,0)}function u(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return y(u(D.substring(1),N));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(N,8)),F=f,P=0;P<D.length;P+=8){var k=Math.min(8,D.length-P),U=parseInt(D.substring(P,P+k),N);8>k?(k=c(Math.pow(N,k)),F=F.j(k).add(c(U))):(F=F.j(I),F=F.add(c(U)))}return F}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var D=0,N=1,I=0;I<this.g.length;I++){var F=this.i(I);D+=(0<=F?F:4294967296+F)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(v(this))return"0";if(g(this))return"-"+y(this).toString(D);for(var N=c(Math.pow(D,6)),I=this,F="";;){var P=E(I,N).g;I=b(I,P.j(N));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=P,v(I))return k+F;for(;6>k.length;)k="0"+k;F=k+F}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function v(D){if(D.h!=0)return!1;for(var N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function g(D){return D.h==-1}t.l=function(D){return D=b(this,D),g(D)?-1:v(D)?0:1};function y(D){for(var N=D.g.length,I=[],F=0;F<N;F++)I[F]=~D.g[F];return new a(I,~D.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(D){for(var N=Math.max(this.g.length,D.g.length),I=[],F=0,P=0;P<=N;P++){var k=F+(this.i(P)&65535)+(D.i(P)&65535),U=(k>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);F=U>>>16,k&=65535,U&=65535,I[P]=U<<16|k}return new a(I,I[I.length-1]&-2147483648?-1:0)};function b(D,N){return D.add(y(N))}t.j=function(D){if(v(this)||v(D))return f;if(g(this))return g(D)?y(this).j(y(D)):y(y(this).j(D));if(g(D))return y(this.j(y(D)));if(0>this.l(p)&&0>D.l(p))return c(this.m()*D.m());for(var N=this.g.length+D.g.length,I=[],F=0;F<2*N;F++)I[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<D.g.length;P++){var k=this.i(F)>>>16,U=this.i(F)&65535,O=D.i(P)>>>16,X=D.i(P)&65535;I[2*F+2*P]+=U*X,x(I,2*F+2*P),I[2*F+2*P+1]+=k*X,x(I,2*F+2*P+1),I[2*F+2*P+1]+=U*O,x(I,2*F+2*P+1),I[2*F+2*P+2]+=k*O,x(I,2*F+2*P+2)}for(F=0;F<N;F++)I[F]=I[2*F+1]<<16|I[2*F];for(F=N;F<2*N;F++)I[F]=0;return new a(I,0)};function x(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function w(D,N){this.g=D,this.h=N}function E(D,N){if(v(N))throw Error("division by zero");if(v(D))return new w(f,f);if(g(D))return N=E(y(D),N),new w(y(N.g),y(N.h));if(g(N))return N=E(D,y(N)),new w(y(N.g),N.h);if(30<D.g.length){if(g(D)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var I=h,F=N;0>=F.l(D);)I=S(I),F=S(F);var P=R(I,1),k=R(F,1);for(F=R(F,2),I=R(I,2);!v(F);){var U=k.add(F);0>=U.l(D)&&(P=P.add(I),k=U),F=R(F,1),I=R(I,1)}return N=b(D,P.j(N)),new w(P,N)}for(P=f;0<=D.l(N);){for(I=Math.max(1,Math.floor(D.m()/N.m())),F=Math.ceil(Math.log(I)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),k=c(I),U=k.j(N);g(U)||0<U.l(D);)I-=F,k=c(I),U=k.j(N);v(k)&&(k=h),P=P.add(k),D=b(D,U)}return new w(P,D)}t.A=function(D){return E(this,D).h},t.and=function(D){for(var N=Math.max(this.g.length,D.g.length),I=[],F=0;F<N;F++)I[F]=this.i(F)&D.i(F);return new a(I,this.h&D.h)},t.or=function(D){for(var N=Math.max(this.g.length,D.g.length),I=[],F=0;F<N;F++)I[F]=this.i(F)|D.i(F);return new a(I,this.h|D.h)},t.xor=function(D){for(var N=Math.max(this.g.length,D.g.length),I=[],F=0;F<N;F++)I[F]=this.i(F)^D.i(F);return new a(I,this.h^D.h)};function S(D){for(var N=D.g.length+1,I=[],F=0;F<N;F++)I[F]=D.i(F)<<1|D.i(F-1)>>>31;return new a(I,D.h)}function R(D,N){var I=N>>5;N%=32;for(var F=D.g.length-I,P=[],k=0;k<F;k++)P[k]=0<N?D.i(k+I)>>>N|D.i(k+I+1)<<32-N:D.i(k+I);return new a(P,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KB=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,_u=a}).apply(typeof EP<"u"?EP:typeof self<"u"?self:typeof window<"u"?window:{});var o1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XB,o0,JB,t2,DA,YB,QB,ZB;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,ee,ae){return M==Array.prototype||M==Object.prototype||(M[ee]=ae.value),M};function n(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof o1=="object"&&o1];for(var ee=0;ee<M.length;++ee){var ae=M[ee];if(ae&&ae.Math==Math)return ae}throw Error("Cannot find global object")}var r=n(this);function i(M,ee){if(ee)e:{var ae=r;M=M.split(".");for(var Ce=0;Ce<M.length-1;Ce++){var qe=M[Ce];if(!(qe in ae))break e;ae=ae[qe]}M=M[M.length-1],Ce=ae[M],ee=ee(Ce),ee!=Ce&&ee!=null&&e(ae,M,{configurable:!0,writable:!0,value:ee})}}function s(M,ee){M instanceof String&&(M+="");var ae=0,Ce=!1,qe={next:function(){if(!Ce&&ae<M.length){var et=ae++;return{value:ee(et,M[et]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return qe[Symbol.iterator]=function(){return qe},qe}i("Array.prototype.values",function(M){return M||function(){return s(this,function(ee,ae){return ae})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(M){var ee=typeof M;return ee=ee!="object"?ee:M?Array.isArray(M)?"array":ee:"null",ee=="array"||ee=="object"&&typeof M.length=="number"}function c(M){var ee=typeof M;return ee=="object"&&M!=null||ee=="function"}function u(M,ee,ae){return M.call.apply(M.bind,arguments)}function f(M,ee,ae){if(!M)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var qe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(qe,Ce),M.apply(ee,qe)}}return function(){return M.apply(ee,arguments)}}function h(M,ee,ae){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(M,ee){var ae=Array.prototype.slice.call(arguments,1);return function(){var Ce=ae.slice();return Ce.push.apply(Ce,arguments),M.apply(this,Ce)}}function v(M,ee){function ae(){}ae.prototype=ee.prototype,M.aa=ee.prototype,M.prototype=new ae,M.prototype.constructor=M,M.Qb=function(Ce,qe,et){for(var _t=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)_t[Un-2]=arguments[Un];return ee.prototype[qe].apply(Ce,_t)}}function g(M){const ee=M.length;if(0<ee){const ae=Array(ee);for(let Ce=0;Ce<ee;Ce++)ae[Ce]=M[Ce];return ae}return[]}function y(M,ee){for(let ae=1;ae<arguments.length;ae++){const Ce=arguments[ae];if(l(Ce)){const qe=M.length||0,et=Ce.length||0;M.length=qe+et;for(let _t=0;_t<et;_t++)M[qe+_t]=Ce[_t]}else M.push(Ce)}}class b{constructor(ee,ae){this.i=ee,this.j=ae,this.h=0,this.g=null}get(){let ee;return 0<this.h?(this.h--,ee=this.g,this.g=ee.next,ee.next=null):ee=this.i(),ee}}function x(M){return/^[\s\xa0]*$/.test(M)}function w(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function E(M){return E[" "](M),M}E[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(M,ee,ae){for(const Ce in M)ee.call(ae,M[Ce],Ce,M)}function D(M,ee){for(const ae in M)ee.call(void 0,M[ae],ae,M)}function N(M){const ee={};for(const ae in M)ee[ae]=M[ae];return ee}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(M,ee){let ae,Ce;for(let qe=1;qe<arguments.length;qe++){Ce=arguments[qe];for(ae in Ce)M[ae]=Ce[ae];for(let et=0;et<I.length;et++)ae=I[et],Object.prototype.hasOwnProperty.call(Ce,ae)&&(M[ae]=Ce[ae])}}function P(M){var ee=1;M=M.split(":");const ae=[];for(;0<ee&&M.length;)ae.push(M.shift()),ee--;return M.length&&ae.push(M.join(":")),ae}function k(M){o.setTimeout(()=>{throw M},0)}function U(){var M=z;let ee=null;return M.g&&(ee=M.g,M.g=M.g.next,M.g||(M.h=null),ee.next=null),ee}class O{constructor(){this.h=this.g=null}add(ee,ae){const Ce=X.get();Ce.set(ee,ae),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}}var X=new b(()=>new J,M=>M.reset());class J{constructor(){this.next=this.g=this.h=null}set(ee,ae){this.h=ee,this.g=ae,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,ne=!1,z=new O,K=()=>{const M=o.Promise.resolve(void 0);Y=()=>{M.then(B)}};var B=()=>{for(var M;M=U();){try{M.h.call(M.g)}catch(ae){k(ae)}var ee=X;ee.j(M),100>ee.h&&(ee.h++,M.next=ee.g,ee.g=M)}ne=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(M,ee){this.type=M,this.g=this.target=ee,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,ee=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const ae=()=>{};o.addEventListener("test",ae,ee),o.removeEventListener("test",ae,ee)}catch{}return M})();function Q(M,ee){if(W.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var ae=this.type=M.type,Ce=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=ee,ee=M.relatedTarget){if(S){e:{try{E(ee.nodeName);var qe=!0;break e}catch{}qe=!1}qe||(ee=null)}}else ae=="mouseover"?ee=M.fromElement:ae=="mouseout"&&(ee=M.toElement);this.relatedTarget=ee,Ce?(this.clientX=Ce.clientX!==void 0?Ce.clientX:Ce.pageX,this.clientY=Ce.clientY!==void 0?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:Z[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&Q.aa.h.call(this)}}v(Q,W);var Z={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ce=0;function ue(M,ee,ae,Ce,qe){this.listener=M,this.proxy=null,this.src=ee,this.type=ae,this.capture=!!Ce,this.ha=qe,this.key=++ce,this.da=this.fa=!1}function Ee(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function Ie(M){this.src=M,this.g={},this.h=0}Ie.prototype.add=function(M,ee,ae,Ce,qe){var et=M.toString();M=this.g[et],M||(M=this.g[et]=[],this.h++);var _t=Le(M,ee,Ce,qe);return-1<_t?(ee=M[_t],ae||(ee.fa=!1)):(ee=new ue(ee,this.src,et,!!Ce,qe),ee.fa=ae,M.push(ee)),ee};function fe(M,ee){var ae=ee.type;if(ae in M.g){var Ce=M.g[ae],qe=Array.prototype.indexOf.call(Ce,ee,void 0),et;(et=0<=qe)&&Array.prototype.splice.call(Ce,qe,1),et&&(Ee(ee),M.g[ae].length==0&&(delete M.g[ae],M.h--))}}function Le(M,ee,ae,Ce){for(var qe=0;qe<M.length;++qe){var et=M[qe];if(!et.da&&et.listener==ee&&et.capture==!!ae&&et.ha==Ce)return qe}return-1}var V="closure_lm_"+(1e6*Math.random()|0),ye={};function be(M,ee,ae,Ce,qe){if(Array.isArray(ee)){for(var et=0;et<ee.length;et++)be(M,ee[et],ae,Ce,qe);return null}return ae=ve(ae),M&&M[se]?M.K(ee,ae,c(Ce)?!!Ce.capture:!1,qe):oe(M,ee,ae,!1,Ce,qe)}function oe(M,ee,ae,Ce,qe,et){if(!ee)throw Error("Invalid event type");var _t=c(qe)?!!qe.capture:!!qe,Un=de(M);if(Un||(M[V]=Un=new Ie(M)),ae=Un.add(ee,ae,Ce,_t,et),ae.proxy)return ae;if(Ce=re(),ae.proxy=Ce,Ce.src=M,Ce.listener=ae,M.addEventListener)H||(qe=_t),qe===void 0&&(qe=!1),M.addEventListener(ee.toString(),Ce,qe);else if(M.attachEvent)M.attachEvent(_e(ee.toString()),Ce);else if(M.addListener&&M.removeListener)M.addListener(Ce);else throw Error("addEventListener and attachEvent are unavailable.");return ae}function re(){function M(ae){return ee.call(M.src,M.listener,ae)}const ee=ie;return M}function le(M,ee,ae,Ce,qe){if(Array.isArray(ee))for(var et=0;et<ee.length;et++)le(M,ee[et],ae,Ce,qe);else Ce=c(Ce)?!!Ce.capture:!!Ce,ae=ve(ae),M&&M[se]?(M=M.i,ee=String(ee).toString(),ee in M.g&&(et=M.g[ee],ae=Le(et,ae,Ce,qe),-1<ae&&(Ee(et[ae]),Array.prototype.splice.call(et,ae,1),et.length==0&&(delete M.g[ee],M.h--)))):M&&(M=de(M))&&(ee=M.g[ee.toString()],M=-1,ee&&(M=Le(ee,ae,Ce,qe)),(ae=-1<M?ee[M]:null)&&he(ae))}function he(M){if(typeof M!="number"&&M&&!M.da){var ee=M.src;if(ee&&ee[se])fe(ee.i,M);else{var ae=M.type,Ce=M.proxy;ee.removeEventListener?ee.removeEventListener(ae,Ce,M.capture):ee.detachEvent?ee.detachEvent(_e(ae),Ce):ee.addListener&&ee.removeListener&&ee.removeListener(Ce),(ae=de(ee))?(fe(ae,M),ae.h==0&&(ae.src=null,ee[V]=null)):Ee(M)}}}function _e(M){return M in ye?ye[M]:ye[M]="on"+M}function ie(M,ee){if(M.da)M=!0;else{ee=new Q(ee,this);var ae=M.listener,Ce=M.ha||M.src;M.fa&&he(M),M=ae.call(Ce,ee)}return M}function de(M){return M=M[V],M instanceof Ie?M:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(M){return typeof M=="function"?M:(M[me]||(M[me]=function(ee){return M.handleEvent(ee)}),M[me])}function De(){j.call(this),this.i=new Ie(this),this.M=this,this.F=null}v(De,j),De.prototype[se]=!0,De.prototype.removeEventListener=function(M,ee,ae,Ce){le(this,M,ee,ae,Ce)};function Ue(M,ee){var ae,Ce=M.F;if(Ce)for(ae=[];Ce;Ce=Ce.F)ae.push(Ce);if(M=M.M,Ce=ee.type||ee,typeof ee=="string")ee=new W(ee,M);else if(ee instanceof W)ee.target=ee.target||M;else{var qe=ee;ee=new W(Ce,M),F(ee,qe)}if(qe=!0,ae)for(var et=ae.length-1;0<=et;et--){var _t=ee.g=ae[et];qe=Te(_t,Ce,!0,ee)&&qe}if(_t=ee.g=M,qe=Te(_t,Ce,!0,ee)&&qe,qe=Te(_t,Ce,!1,ee)&&qe,ae)for(et=0;et<ae.length;et++)_t=ee.g=ae[et],qe=Te(_t,Ce,!1,ee)&&qe}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var M=this.i,ee;for(ee in M.g){for(var ae=M.g[ee],Ce=0;Ce<ae.length;Ce++)Ee(ae[Ce]);delete M.g[ee],M.h--}}this.F=null},De.prototype.K=function(M,ee,ae,Ce){return this.i.add(String(M),ee,!1,ae,Ce)},De.prototype.L=function(M,ee,ae,Ce){return this.i.add(String(M),ee,!0,ae,Ce)};function Te(M,ee,ae,Ce){if(ee=M.i.g[String(ee)],!ee)return!0;ee=ee.concat();for(var qe=!0,et=0;et<ee.length;++et){var _t=ee[et];if(_t&&!_t.da&&_t.capture==ae){var Un=_t.listener,di=_t.ha||_t.src;_t.fa&&fe(M.i,_t),qe=Un.call(di,Ce)!==!1&&qe}}return qe&&!Ce.defaultPrevented}function Me(M,ee,ae){if(typeof M=="function")ae&&(M=h(M,ae));else if(M&&typeof M.handleEvent=="function")M=h(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(ee)?-1:o.setTimeout(M,ee||0)}function Oe(M){M.g=Me(()=>{M.g=null,M.i&&(M.i=!1,Oe(M))},M.l);const ee=M.h;M.h=null,M.m.apply(null,ee)}class Ge extends j{constructor(ee,ae){super(),this.m=ee,this.l=ae,this.h=null,this.i=!1,this.g=null}j(ee){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(M){j.call(this),this.h=M,this.g={}}v(nt,j);var st=[];function Ot(M){R(M.g,function(ee,ae){this.g.hasOwnProperty(ae)&&he(ee)},M),M.g={}}nt.prototype.N=function(){nt.aa.N.call(this),Ot(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=o.JSON.stringify,hn=o.JSON.parse,zr=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function nr(){}nr.prototype.h=null;function rr(M){return M.h||(M.h=M.i())}function wr(){}var Qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){W.call(this,"d")}v(Nn,W);function pe(){W.call(this,"c")}v(pe,W);var we={},Fe=null;function He(){return Fe=Fe||new De}we.La="serverreachability";function rt(M){W.call(this,we.La,M)}v(rt,W);function kt(M){const ee=He();Ue(ee,new rt(ee))}we.STAT_EVENT="statevent";function ln(M,ee){W.call(this,we.STAT_EVENT,M),this.stat=ee}v(ln,W);function nn(M){const ee=He();Ue(ee,new ln(ee,M))}we.Ma="timingevent";function Rr(M,ee){W.call(this,we.Ma,M),this.size=ee}v(Rr,W);function $n(M,ee){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},ee)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function Oi(M,ee,ae,Ce,qe,et){M.info(function(){if(M.g)if(et)for(var _t="",Un=et.split("&"),di=0;di<Un.length;di++){var yn=Un[di].split("=");if(1<yn.length){var bi=yn[0];yn=yn[1];var ti=bi.split("_");_t=2<=ti.length&&ti[1]=="type"?_t+(bi+"="+yn+"&"):_t+(bi+"=redacted&")}}else _t=null;else _t=et;return"XMLHTTP REQ ("+Ce+") [attempt "+qe+"]: "+ee+`
`+ae+`
`+_t})}function Yi(M,ee,ae,Ce,qe,et,_t){M.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+qe+"]: "+ee+`
`+ae+`
`+et+" "+_t})}function xe(M,ee,ae,Ce){M.info(function(){return"XMLHTTP TEXT ("+ee+"): "+Se(M,ae)+(Ce?" "+Ce:"")})}function ke(M,ee){M.info(function(){return"TIMEOUT: "+ee})}ui.prototype.info=function(){};function Se(M,ee){if(!M.g)return ee;if(!ee)return null;try{var ae=JSON.parse(ee);if(ae){for(M=0;M<ae.length;M++)if(Array.isArray(ae[M])){var Ce=ae[M];if(!(2>Ce.length)){var qe=Ce[1];if(Array.isArray(qe)&&!(1>qe.length)){var et=qe[0];if(et!="noop"&&et!="stop"&&et!="close")for(var _t=1;_t<qe.length;_t++)qe[_t]=""}}}}return wn(ae)}catch{return ee}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Re;function We(){}v(We,nr),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},Re=new We;function Ze(M,ee,ae,Ce){this.j=M,this.i=ee,this.l=ae,this.R=Ce||1,this.U=new nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}var Xe={},Je={};function ut(M,ee,ae){M.L=1,M.v=Mc(da(ee)),M.m=ae,M.P=!0,vt(M,null)}function vt(M,ee){M.F=Date.now(),dt(M),M.A=da(M.v);var ae=M.A,Ce=M.R;Array.isArray(Ce)||(Ce=[String(Ce)]),Oc(ae.i,"t",Ce),M.C=0,ae=M.j.J,M.h=new $e,M.g=ux(M.j,ae?ee:null,!M.m),0<M.O&&(M.M=new Ge(h(M.Y,M,M.g),M.O)),ee=M.U,ae=M.g,Ce=M.ca;var qe="readystatechange";Array.isArray(qe)||(qe&&(st[0]=qe.toString()),qe=st);for(var et=0;et<qe.length;et++){var _t=be(ae,qe[et],Ce||ee.handleEvent,!1,ee.h||ee);if(!_t)break;ee.g[_t.key]=_t}ee=M.H?N(M.H):{},M.m?(M.u||(M.u="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,ee)):(M.u="GET",M.g.ea(M.A,M.u,null,ee)),kt(),Oi(M.i,M.u,M.A,M.l,M.R,M.m)}Ze.prototype.ca=function(M){M=M.target;const ee=this.M;ee&&Ws(M)==3?ee.j():this.Y(M)},Ze.prototype.Y=function(M){try{if(M==this.g)e:{const ti=Ws(this.g);var ee=this.g.Ba();const Ra=this.g.Z();if(!(3>ti)&&(ti!=3||this.g&&(this.h.h||this.g.oa()||rg(this.g)))){this.J||ti!=4||ee==7||(ee==8||0>=Ra?kt(3):kt(2)),kn(this);var ae=this.g.Z();this.X=ae;t:if(Tt(this)){var Ce=rg(this.g);M="";var qe=Ce.length,et=Ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Tn(this);var _t="";break t}this.h.i=new o.TextDecoder}for(ee=0;ee<qe;ee++)this.h.h=!0,M+=this.h.i.decode(Ce[ee],{stream:!(et&&ee==qe-1)});Ce.length=0,this.h.g+=M,this.C=0,_t=this.h.g}else _t=this.g.oa();if(this.o=ae==200,Yi(this.i,this.u,this.A,this.l,this.R,ti,ae),this.o){if(this.T&&!this.K){t:{if(this.g){var Un,di=this.g;if((Un=di.g?di.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Un)){var yn=Un;break t}}yn=null}if(ae=yn)xe(this.i,this.l,ae,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,ae);else{this.o=!1,this.s=3,nn(12),Mn(this),Tn(this);break e}}if(this.P){ae=!0;let ha;for(;!this.J&&this.C<_t.length;)if(ha=pt(this,_t),ha==Je){ti==4&&(this.s=4,nn(14),ae=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(ha==Xe){this.s=4,nn(15),xe(this.i,this.l,_t,"[Invalid Chunk]"),ae=!1;break}else xe(this.i,this.l,ha,null),co(this,ha);if(Tt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ti!=4||_t.length!=0||this.h.h||(this.s=1,nn(16),ae=!1),this.o=this.o&&ae,!ae)xe(this.i,this.l,_t,"[Invalid Chunked Response]"),Mn(this),Tn(this);else if(0<_t.length&&!this.W){this.W=!0;var bi=this.j;bi.g==this&&bi.ba&&!bi.M&&(bi.j.info("Great, no buffering proxy detected. Bytes received: "+_t.length),sg(bi),bi.M=!0,nn(11))}}else xe(this.i,this.l,_t,null),co(this,_t);ti==4&&Mn(this),this.o&&!this.J&&(ti==4?bh(this.j,this):(this.o=!1,dt(this)))}else gh(this.g),ae==400&&0<_t.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),Mn(this),Tn(this)}}}catch{}finally{}};function Tt(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function pt(M,ee){var ae=M.C,Ce=ee.indexOf(`
`,ae);return Ce==-1?Je:(ae=Number(ee.substring(ae,Ce)),isNaN(ae)?Xe:(Ce+=1,Ce+ae>ee.length?Je:(ee=ee.slice(Ce,Ce+ae),M.C=Ce+ae,ee)))}Ze.prototype.cancel=function(){this.J=!0,Mn(this)};function dt(M){M.S=Date.now()+M.I,Gt(M,M.I)}function Gt(M,ee){if(M.B!=null)throw Error("WatchDog timer not null");M.B=$n(h(M.ba,M),ee)}function kn(M){M.B&&(o.clearTimeout(M.B),M.B=null)}Ze.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(ke(this.i,this.A),this.L!=2&&(kt(),nn(17)),Mn(this),this.s=2,Tn(this)):Gt(this,this.S-M)};function Tn(M){M.j.G==0||M.J||bh(M.j,M)}function Mn(M){kn(M);var ee=M.M;ee&&typeof ee.ma=="function"&&ee.ma(),M.M=null,Ot(M.U),M.g&&(ee=M.g,M.g=null,ee.abort(),ee.ma())}function co(M,ee){try{var ae=M.j;if(ae.G!=0&&(ae.g==M||ir(ae.h,M))){if(!M.K&&ir(ae.h,M)&&ae.G==3){try{var Ce=ae.Da.g.parse(ee)}catch{Ce=null}if(Array.isArray(Ce)&&Ce.length==3){var qe=Ce;if(qe[0]==0){e:if(!ae.u){if(ae.g)if(ae.g.F+3e3<M.F)_h(ae),mo(ae);else break e;xh(ae),nn(18)}}else ae.za=qe[1],0<ae.za-ae.T&&37500>qe[2]&&ae.F&&ae.v==0&&!ae.C&&(ae.C=$n(h(ae.Za,ae),6e3));if(1>=Ic(ae.h)&&ae.ca){try{ae.ca()}catch{}ae.ca=void 0}}else Ol(ae,11)}else if((M.K||ae.g==M)&&_h(ae),!x(ee))for(qe=ae.Da.g.parse(ee),ee=0;ee<qe.length;ee++){let yn=qe[ee];if(ae.T=yn[0],yn=yn[1],ae.G==2)if(yn[0]=="c"){ae.K=yn[1],ae.ia=yn[2];const bi=yn[3];bi!=null&&(ae.la=bi,ae.j.info("VER="+ae.la));const ti=yn[4];ti!=null&&(ae.Aa=ti,ae.j.info("SVER="+ae.Aa));const Ra=yn[5];Ra!=null&&typeof Ra=="number"&&0<Ra&&(Ce=1.5*Ra,ae.L=Ce,ae.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=ae;const ha=M.g;if(ha){const vd=ha.g?ha.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vd){var et=Ce.h;et.g||vd.indexOf("spdy")==-1&&vd.indexOf("quic")==-1&&vd.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Zm(et,et.h),et.h=null))}if(Ce.D){const Th=ha.g?ha.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(Ce.ya=Th,Gn(Ce.I,Ce.D,Th))}}ae.G=3,ae.l&&ae.l.ua(),ae.ba&&(ae.R=Date.now()-M.F,ae.j.info("Handshake RTT: "+ae.R+"ms")),Ce=ae;var _t=M;if(Ce.qa=cx(Ce,Ce.J?Ce.ia:null,Ce.W),_t.K){Yv(Ce.h,_t);var Un=_t,di=Ce.L;di&&(Un.I=di),Un.B&&(kn(Un),dt(Un)),Ce.g=_t}else yd(Ce);0<ae.i.length&&Go(ae)}else yn[0]!="stop"&&yn[0]!="close"||Ol(ae,7);else ae.G==3&&(yn[0]=="stop"||yn[0]=="close"?yn[0]=="stop"?Ol(ae,7):ji(ae):yn[0]!="noop"&&ae.l&&ae.l.ta(yn),ae.v=0)}}kt(4)}catch{}}var qo=class{constructor(M,ee){this.g=M,this.map=ee}};function ua(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hr(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Ic(M){return M.h?1:M.g?M.g.size:0}function ir(M,ee){return M.h?M.h==ee:M.g?M.g.has(ee):!1}function Zm(M,ee){M.g?M.g.add(ee):M.h=ee}function Yv(M,ee){M.h&&M.h==ee?M.h=null:M.g&&M.g.has(ee)&&M.g.delete(ee)}ua.prototype.cancel=function(){if(this.i=Qv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function Qv(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let ee=M.i;for(const ae of M.g.values())ee=ee.concat(ae.D);return ee}return g(M.i)}function dh(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var ee=[],ae=M.length,Ce=0;Ce<ae;Ce++)ee.push(M[Ce]);return ee}ee=[],ae=0;for(Ce in M)ee[ae++]=M[Ce];return ee}function fh(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var ee=[];M=M.length;for(var ae=0;ae<M;ae++)ee.push(ae);return ee}ee=[],ae=0;for(const Ce in M)ee[ae++]=Ce;return ee}}}function Rc(M,ee){if(M.forEach&&typeof M.forEach=="function")M.forEach(ee,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,ee,void 0);else for(var ae=fh(M),Ce=dh(M),qe=Ce.length,et=0;et<qe;et++)ee.call(void 0,Ce[et],ae&&ae[et],M)}var hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iT(M,ee){if(M){M=M.split("&");for(var ae=0;ae<M.length;ae++){var Ce=M[ae].indexOf("="),qe=null;if(0<=Ce){var et=M[ae].substring(0,Ce);qe=M[ae].substring(Ce+1)}else et=M[ae];ee(et,qe?decodeURIComponent(qe.replace(/\+/g," ")):"")}}}function Pl(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof Pl){this.h=M.h,pd(this,M.j),this.o=M.o,this.g=M.g,Pc(this,M.s),this.l=M.l;var ee=M.i,ae=new zo;ae.i=ee.i,ee.g&&(ae.g=new Map(ee.g),ae.h=ee.h),Fc(this,ae),this.m=M.m}else M&&(ee=String(M).match(hd))?(this.h=!1,pd(this,ee[1]||"",!0),this.o=gn(ee[2]||""),this.g=gn(ee[3]||"",!0),Pc(this,ee[4]),this.l=gn(ee[5]||"",!0),Fc(this,ee[6]||"",!0),this.m=gn(ee[7]||"")):(this.h=!1,this.i=new zo(null,this.h))}Pl.prototype.toString=function(){var M=[],ee=this.j;ee&&M.push(Uc(ee,hh,!0),":");var ae=this.g;return(ae||ee=="file")&&(M.push("//"),(ee=this.o)&&M.push(Uc(ee,hh,!0),"@"),M.push(encodeURIComponent(String(ae)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ae=this.s,ae!=null&&M.push(":",String(ae))),(ae=this.l)&&(this.g&&ae.charAt(0)!="/"&&M.push("/"),M.push(Uc(ae,ae.charAt(0)=="/"?tx:ex,!0))),(ae=this.i.toString())&&M.push("?",ae),(ae=this.m)&&M.push("#",Uc(ae,eg)),M.join("")};function da(M){return new Pl(M)}function pd(M,ee,ae){M.j=ae?gn(ee,!0):ee,M.j&&(M.j=M.j.replace(/:$/,""))}function Pc(M,ee){if(ee){if(ee=Number(ee),isNaN(ee)||0>ee)throw Error("Bad port number "+ee);M.s=ee}else M.s=null}function Fc(M,ee,ae){ee instanceof zo?(M.i=ee,Ho(M.i,M.h)):(ae||(ee=Uc(ee,nx)),M.i=new zo(ee,M.h))}function Gn(M,ee,ae){M.i.set(ee,ae)}function Mc(M){return Gn(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function gn(M,ee){return M?ee?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Uc(M,ee,ae){return typeof M=="string"?(M=encodeURI(M).replace(ee,Zv),ae&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function Zv(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var hh=/[#\/\?@]/g,ex=/[#\?:]/g,tx=/[#\?]/g,nx=/[#\?@]/g,eg=/#/g;function zo(M,ee){this.h=this.g=null,this.i=M||null,this.j=!!ee}function Li(M){M.g||(M.g=new Map,M.h=0,M.i&&iT(M.i,function(ee,ae){M.add(decodeURIComponent(ee.replace(/\+/g," ")),ae)}))}t=zo.prototype,t.add=function(M,ee){Li(this),this.i=null,M=Ia(this,M);var ae=this.g.get(M);return ae||this.g.set(M,ae=[]),ae.push(ee),this.h+=1,this};function uo(M,ee){Li(M),ee=Ia(M,ee),M.g.has(ee)&&(M.i=null,M.h-=M.g.get(ee).length,M.g.delete(ee))}function fo(M,ee){return Li(M),ee=Ia(M,ee),M.g.has(ee)}t.forEach=function(M,ee){Li(this),this.g.forEach(function(ae,Ce){ae.forEach(function(qe){M.call(ee,qe,Ce,this)},this)},this)},t.na=function(){Li(this);const M=Array.from(this.g.values()),ee=Array.from(this.g.keys()),ae=[];for(let Ce=0;Ce<ee.length;Ce++){const qe=M[Ce];for(let et=0;et<qe.length;et++)ae.push(ee[Ce])}return ae},t.V=function(M){Li(this);let ee=[];if(typeof M=="string")fo(this,M)&&(ee=ee.concat(this.g.get(Ia(this,M))));else{M=Array.from(this.g.values());for(let ae=0;ae<M.length;ae++)ee=ee.concat(M[ae])}return ee},t.set=function(M,ee){return Li(this),this.i=null,M=Ia(this,M),fo(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[ee]),this.h+=1,this},t.get=function(M,ee){return M?(M=this.V(M),0<M.length?String(M[0]):ee):ee};function Oc(M,ee,ae){uo(M,ee),0<ae.length&&(M.i=null,M.g.set(Ia(M,ee),g(ae)),M.h+=ae.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],ee=Array.from(this.g.keys());for(var ae=0;ae<ee.length;ae++){var Ce=ee[ae];const et=encodeURIComponent(String(Ce)),_t=this.V(Ce);for(Ce=0;Ce<_t.length;Ce++){var qe=et;_t[Ce]!==""&&(qe+="="+encodeURIComponent(String(_t[Ce]))),M.push(qe)}}return this.i=M.join("&")};function Ia(M,ee){return ee=String(ee),M.j&&(ee=ee.toLowerCase()),ee}function Ho(M,ee){ee&&!M.j&&(Li(M),M.i=null,M.g.forEach(function(ae,Ce){var qe=Ce.toLowerCase();Ce!=qe&&(uo(this,Ce),Oc(this,qe,ae))},M)),M.j=ee}function sT(M,ee){const ae=new ui;if(o.Image){const Ce=new Image;Ce.onload=p(Vs,ae,"TestLoadImage: loaded",!0,ee,Ce),Ce.onerror=p(Vs,ae,"TestLoadImage: error",!1,ee,Ce),Ce.onabort=p(Vs,ae,"TestLoadImage: abort",!1,ee,Ce),Ce.ontimeout=p(Vs,ae,"TestLoadImage: timeout",!1,ee,Ce),o.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=M}else ee(!1)}function rx(M,ee){const ae=new ui,Ce=new AbortController,qe=setTimeout(()=>{Ce.abort(),Vs(ae,"TestPingServer: timeout",!1,ee)},1e4);fetch(M,{signal:Ce.signal}).then(et=>{clearTimeout(qe),et.ok?Vs(ae,"TestPingServer: ok",!0,ee):Vs(ae,"TestPingServer: server error",!1,ee)}).catch(()=>{clearTimeout(qe),Vs(ae,"TestPingServer: error",!1,ee)})}function Vs(M,ee,ae,Ce,qe){try{qe&&(qe.onload=null,qe.onerror=null,qe.onabort=null,qe.ontimeout=null),Ce(ae)}catch{}}function aT(){this.g=new zr}function ix(M,ee,ae){const Ce=ae||"";try{Rc(M,function(qe,et){let _t=qe;c(qe)&&(_t=wn(qe)),ee.push(Ce+et+"="+encodeURIComponent(_t))})}catch(qe){throw ee.push(Ce+"type="+encodeURIComponent("_badmap")),qe}}function Fl(M){this.l=M.Ub||null,this.j=M.eb||!1}v(Fl,nr),Fl.prototype.g=function(){return new md(this.l,this.j)},Fl.prototype.i=(function(M){return function(){return M}})({});function md(M,ee){De.call(this),this.D=M,this.o=ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(md,De),t=md.prototype,t.open=function(M,ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=ee,this.readyState=1,po(this)},t.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ee={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(ee.body=M),(this.D||o).fetch(new Request(this.A,ee)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=0},t.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sx(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function sx(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}t.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var ee=M.value?M.value:new Uint8Array(0);(ee=this.v.decode(ee,{stream:!M.done}))&&(this.response=this.responseText+=ee)}M.done?ho(this):po(this),this.readyState==3&&sx(this)}},t.Ra=function(M){this.g&&(this.response=this.responseText=M,ho(this))},t.Qa=function(M){this.g&&(this.response=M,ho(this))},t.ga=function(){this.g&&ho(this)};function ho(M){M.readyState=4,M.l=null,M.j=null,M.v=null,po(M)}t.setRequestHeader=function(M,ee){this.u.append(M,ee)},t.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],ee=this.h.entries();for(var ae=ee.next();!ae.done;)ae=ae.value,M.push(ae[0]+": "+ae[1]),ae=ee.next();return M.join(`\r
`)};function po(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Ml(M){let ee="";return R(M,function(ae,Ce){ee+=Ce,ee+=":",ee+=ae,ee+=`\r
`}),ee}function Lc(M,ee,ae){e:{for(Ce in ae){var Ce=!1;break e}Ce=!0}Ce||(ae=Ml(ae),typeof M=="string"?ae!=null&&encodeURIComponent(String(ae)):Gn(M,ee,ae))}function pr(M){De.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(pr,De);var oT=/^https?$/i,tg=["POST","PUT"];t=pr.prototype,t.Ha=function(M){this.J=M},t.ea=function(M,ee,ae,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);ee=ee?ee.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?rr(this.o):rr(Re),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(ee,String(M),!0),this.B=!1}catch(et){gd(this,et);return}if(M=ae||"",ae=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var qe in Ce)ae.set(qe,Ce[qe]);else if(typeof Ce.keys=="function"&&typeof Ce.get=="function")for(const et of Ce.keys())ae.set(et,Ce.get(et));else throw Error("Unknown input type for opt_headers: "+String(Ce));Ce=Array.from(ae.keys()).find(et=>et.toLowerCase()=="content-type"),qe=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(tg,ee,void 0))||Ce||qe||ae.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,_t]of ae)this.g.setRequestHeader(et,_t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mh(this),this.u=!0,this.g.send(M),this.u=!1}catch(et){gd(this,et)}};function gd(M,ee){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=ee,M.m=5,ph(M),fa(M)}function ph(M){M.A||(M.A=!0,Ue(M,"complete"),Ue(M,"error"))}t.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,Ue(this,"complete"),Ue(this,"abort"),fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),pr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ng(this):this.bb())},t.bb=function(){ng(this)};function ng(M){if(M.h&&typeof a<"u"&&(!M.v[1]||Ws(M)!=4||M.Z()!=2)){if(M.u&&Ws(M)==4)Me(M.Ea,0,M);else if(Ue(M,"readystatechange"),Ws(M)==4){M.h=!1;try{const _t=M.Z();e:switch(_t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee=!0;break e;default:ee=!1}var ae;if(!(ae=ee)){var Ce;if(Ce=_t===0){var qe=String(M.D).match(hd)[1]||null;!qe&&o.self&&o.self.location&&(qe=o.self.location.protocol.slice(0,-1)),Ce=!oT.test(qe?qe.toLowerCase():"")}ae=Ce}if(ae)Ue(M,"complete"),Ue(M,"success");else{M.m=6;try{var et=2<Ws(M)?M.g.statusText:""}catch{et=""}M.l=et+" ["+M.Z()+"]",ph(M)}}finally{fa(M)}}}}function fa(M,ee){if(M.g){mh(M);const ae=M.g,Ce=M.v[0]?()=>{}:null;M.g=null,M.v=null,ee||Ue(M,"ready");try{ae.onreadystatechange=Ce}catch{}}}function mh(M){M.I&&(o.clearTimeout(M.I),M.I=null)}t.isActive=function(){return!!this.g};function Ws(M){return M.g?M.g.readyState:0}t.Z=function(){try{return 2<Ws(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(M){if(this.g){var ee=this.g.responseText;return M&&ee.indexOf(M)==0&&(ee=ee.substring(M.length)),hn(ee)}};function rg(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(M){const ee={};M=(M.g&&2<=Ws(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ce=0;Ce<M.length;Ce++){if(x(M[Ce]))continue;var ae=P(M[Ce]);const qe=ae[0];if(ae=ae[1],typeof ae!="string")continue;ae=ae.trim();const et=ee[qe]||[];ee[qe]=et,et.push(ae)}D(ee,function(Ce){return Ce.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(M,ee,ae){return ae&&ae.internalChannelParams&&ae.internalChannelParams[M]||ee}function ig(M){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,M),this.cb=$o("retryDelaySeedMs",1e4,M),this.Wa=$o("forwardChannelMaxRetries",2,M),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new ua(M&&M.concurrentRequestLimit),this.Da=new aT,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ig.prototype,t.la=8,t.G=1,t.connect=function(M,ee,ae,Ce){nn(0),this.W=M,this.H=ee||{},ae&&Ce!==void 0&&(this.H.OSID=ae,this.H.OAID=Ce),this.F=this.X,this.I=cx(this,null,this.W),Go(this)};function ji(M){if(yh(M),M.G==3){var ee=M.U++,ae=da(M.I);if(Gn(ae,"SID",M.K),Gn(ae,"RID",ee),Gn(ae,"TYPE","terminate"),Ul(M,ae),ee=new Ze(M,M.j,ee),ee.L=2,ee.v=Mc(da(ae)),ae=!1,o.navigator&&o.navigator.sendBeacon)try{ae=o.navigator.sendBeacon(ee.v.toString(),"")}catch{}!ae&&o.Image&&(new Image().src=ee.v,ae=!0),ae||(ee.g=ux(ee.j,null),ee.g.ea(ee.v)),ee.F=Date.now(),dt(ee)}lx(M)}function mo(M){M.g&&(sg(M),M.g.cancel(),M.g=null)}function yh(M){mo(M),M.u&&(o.clearTimeout(M.u),M.u=null),_h(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function Go(M){if(!Hr(M.h)&&!M.s){M.s=!0;var ee=M.Ga;Y||K(),ne||(Y(),ne=!0),z.add(ee,M),M.B=0}}function lT(M,ee){return Ic(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=ee.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=$n(h(M.Ga,M,ee),ox(M,M.B)),M.B++,!0)}t.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const qe=new Ze(this,this.j,M);let et=this.o;if(this.S&&(et?(et=N(et),F(et,this.S)):et=this.S),this.m!==null||this.O||(qe.H=et,et=null),this.P)e:{for(var ee=0,ae=0;ae<this.i.length;ae++){t:{var Ce=this.i[ae];if("__data__"in Ce.map&&(Ce=Ce.map.__data__,typeof Ce=="string")){Ce=Ce.length;break t}Ce=void 0}if(Ce===void 0)break;if(ee+=Ce,4096<ee){ee=ae;break e}if(ee===4096||ae===this.i.length-1){ee=ae+1;break e}}ee=1e3}else ee=1e3;ee=jc(this,qe,ee),ae=da(this.I),Gn(ae,"RID",M),Gn(ae,"CVER",22),this.D&&Gn(ae,"X-HTTP-Session-Id",this.D),Ul(this,ae),et&&(this.O?ee="headers="+encodeURIComponent(String(Ml(et)))+"&"+ee:this.m&&Lc(ae,this.m,et)),Zm(this.h,qe),this.Ua&&Gn(ae,"TYPE","init"),this.P?(Gn(ae,"$req",ee),Gn(ae,"SID","null"),qe.T=!0,ut(qe,ae,null)):ut(qe,ae,ee),this.G=2}}else this.G==3&&(M?vh(this,M):this.i.length==0||Hr(this.h)||vh(this))};function vh(M,ee){var ae;ee?ae=ee.l:ae=M.U++;const Ce=da(M.I);Gn(Ce,"SID",M.K),Gn(Ce,"RID",ae),Gn(Ce,"AID",M.T),Ul(M,Ce),M.m&&M.o&&Lc(Ce,M.m,M.o),ae=new Ze(M,M.j,ae,M.B+1),M.m===null&&(ae.H=M.o),ee&&(M.i=ee.D.concat(M.i)),ee=jc(M,ae,1e3),ae.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),Zm(M.h,ae),ut(ae,Ce,ee)}function Ul(M,ee){M.H&&R(M.H,function(ae,Ce){Gn(ee,Ce,ae)}),M.l&&Rc({},function(ae,Ce){Gn(ee,Ce,ae)})}function jc(M,ee,ae){ae=Math.min(M.i.length,ae);var Ce=M.l?h(M.l.Na,M.l,M):null;e:{var qe=M.i;let et=-1;for(;;){const _t=["count="+ae];et==-1?0<ae?(et=qe[0].g,_t.push("ofs="+et)):et=0:_t.push("ofs="+et);let Un=!0;for(let di=0;di<ae;di++){let yn=qe[di].g;const bi=qe[di].map;if(yn-=et,0>yn)et=Math.max(0,qe[di].g-100),Un=!1;else try{ix(bi,_t,"req"+yn+"_")}catch{Ce&&Ce(bi)}}if(Un){Ce=_t.join("&");break e}}}return M=M.i.splice(0,ae),ee.D=M,Ce}function yd(M){if(!M.g&&!M.u){M.Y=1;var ee=M.Fa;Y||K(),ne||(Y(),ne=!0),z.add(ee,M),M.v=0}}function xh(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=$n(h(M.Fa,M),ox(M,M.v)),M.v++,!0)}t.Fa=function(){if(this.u=null,ax(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=$n(h(this.ab,this),M)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),mo(this),ax(this))};function sg(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function ax(M){M.g=new Ze(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var ee=da(M.qa);Gn(ee,"RID","rpc"),Gn(ee,"SID",M.K),Gn(ee,"AID",M.T),Gn(ee,"CI",M.F?"0":"1"),!M.F&&M.ja&&Gn(ee,"TO",M.ja),Gn(ee,"TYPE","xmlhttp"),Ul(M,ee),M.m&&M.o&&Lc(ee,M.m,M.o),M.L&&(M.g.I=M.L);var ae=M.g;M=M.ia,ae.L=1,ae.v=Mc(da(ee)),ae.m=null,ae.P=!0,vt(ae,M)}t.Za=function(){this.C!=null&&(this.C=null,mo(this),xh(this),nn(19))};function _h(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function bh(M,ee){var ae=null;if(M.g==ee){_h(M),sg(M),M.g=null;var Ce=2}else if(ir(M.h,ee))ae=ee.D,Yv(M.h,ee),Ce=1;else return;if(M.G!=0){if(ee.o)if(Ce==1){ae=ee.m?ee.m.length:0,ee=Date.now()-ee.F;var qe=M.B;Ce=He(),Ue(Ce,new Rr(Ce,ae)),Go(M)}else yd(M);else if(qe=ee.s,qe==3||qe==0&&0<ee.X||!(Ce==1&&lT(M,ee)||Ce==2&&xh(M)))switch(ae&&0<ae.length&&(ee=M.h,ee.i=ee.i.concat(ae)),qe){case 1:Ol(M,5);break;case 4:Ol(M,10);break;case 3:Ol(M,6);break;default:Ol(M,2)}}}function ox(M,ee){let ae=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(ae*=2),ae*ee}function Ol(M,ee){if(M.j.info("Error code "+ee),ee==2){var ae=h(M.fb,M),Ce=M.Xa;const qe=!Ce;Ce=new Pl(Ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||pd(Ce,"https"),Mc(Ce),qe?sT(Ce.toString(),ae):rx(Ce.toString(),ae)}else nn(2);M.G=0,M.l&&M.l.sa(ee),lx(M),yh(M)}t.fb=function(M){M?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function lx(M){if(M.G=0,M.ka=[],M.l){const ee=Qv(M.h);(ee.length!=0||M.i.length!=0)&&(y(M.ka,ee),y(M.ka,M.i),M.h.i.length=0,g(M.i),M.i.length=0),M.l.ra()}}function cx(M,ee,ae){var Ce=ae instanceof Pl?da(ae):new Pl(ae);if(Ce.g!="")ee&&(Ce.g=ee+"."+Ce.g),Pc(Ce,Ce.s);else{var qe=o.location;Ce=qe.protocol,ee=ee?ee+"."+qe.hostname:qe.hostname,qe=+qe.port;var et=new Pl(null);Ce&&pd(et,Ce),ee&&(et.g=ee),qe&&Pc(et,qe),ae&&(et.l=ae),Ce=et}return ae=M.D,ee=M.ya,ae&&ee&&Gn(Ce,ae,ee),Gn(Ce,"VER",M.la),Ul(M,Ce),Ce}function ux(M,ee,ae){if(ee&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return ee=M.Ca&&!M.pa?new pr(new Fl({eb:ae})):new pr(M.pa),ee.Ha(M.J),ee}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ag(){}t=ag.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wh(){}wh.prototype.g=function(M,ee){return new Cs(M,ee)};function Cs(M,ee){De.call(this),this.g=new ig(ee),this.l=M,this.h=ee&&ee.messageUrlParams||null,M=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&(M?M["X-WebChannel-Content-Type"]=ee.messageContentType:M={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.va&&(M?M["X-WebChannel-Client-Profile"]=ee.va:M={"X-WebChannel-Client-Profile":ee.va}),this.g.S=M,(M=ee&&ee.Sb)&&!x(M)&&(this.g.m=M),this.v=ee&&ee.supportsCrossDomainXhr||!1,this.u=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!x(ee)&&(this.g.D=ee,M=this.h,M!==null&&ee in M&&(M=this.h,ee in M&&delete M[ee])),this.j=new Ko(this)}v(Cs,De),Cs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cs.prototype.close=function(){ji(this.g)},Cs.prototype.o=function(M){var ee=this.g;if(typeof M=="string"){var ae={};ae.__data__=M,M=ae}else this.u&&(ae={},ae.__data__=wn(M),M=ae);ee.i.push(new qo(ee.Ya++,M)),ee.G==3&&Go(ee)},Cs.prototype.N=function(){this.g.l=null,delete this.j,ji(this.g),delete this.g,Cs.aa.N.call(this)};function dx(M){Nn.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var ee=M.__sm__;if(ee){e:{for(const ae in ee){M=ae;break e}M=void 0}(this.i=M)&&(M=this.i,ee=ee!==null&&M in ee?ee[M]:void 0),this.data=ee}else this.data=M}v(dx,Nn);function fx(){pe.call(this),this.status=1}v(fx,pe);function Ko(M){this.g=M}v(Ko,ag),Ko.prototype.ua=function(){Ue(this.g,"a")},Ko.prototype.ta=function(M){Ue(this.g,new dx(M))},Ko.prototype.sa=function(M){Ue(this.g,new fx)},Ko.prototype.ra=function(){Ue(this.g,"b")},wh.prototype.createWebChannel=wh.prototype.g,Cs.prototype.send=Cs.prototype.o,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,ZB=function(){return new wh},QB=function(){return He()},YB=we,DA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,t2=Ae,Ne.COMPLETE="complete",JB=Ne,wr.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",De.prototype.listen=De.prototype.K,o0=wr,pr.prototype.listenOnce=pr.prototype.L,pr.prototype.getLastError=pr.prototype.Ka,pr.prototype.getLastErrorCode=pr.prototype.Ba,pr.prototype.getStatus=pr.prototype.Z,pr.prototype.getResponseJson=pr.prototype.Oa,pr.prototype.getResponseText=pr.prototype.oa,pr.prototype.send=pr.prototype.ea,pr.prototype.setWithCredentials=pr.prototype.Ha,XB=pr}).apply(typeof o1<"u"?o1:typeof self<"u"?self:typeof window<"u"?window:{});const CP="@firebase/firestore",SP="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Tm("@firebase/firestore");function ip(){return Ru.logLevel}function Tne(t){Ru.setLogLevel(t)}function lt(t,...e){if(Ru.logLevel<=dn.DEBUG){const n=e.map(FN);Ru.debug(`Firestore (${Em}): ${t}`,...n)}}function Kr(t,...e){if(Ru.logLevel<=dn.ERROR){const n=e.map(FN);Ru.error(`Firestore (${Em}): ${t}`,...n)}}function Tl(t,...e){if(Ru.logLevel<=dn.WARN){const n=e.map(FN);Ru.warn(`Firestore (${Em}): ${t}`,...n)}}function FN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eV(t,r,n)}function eV(t,e,n){let r=`FIRESTORE (${Em}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Kr(r),new Error(r)}function Rt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||eV(e,i,r)}function Ene(t,e){t||Et(57014,e)}function wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ki.UNAUTHENTICATED)))}shutdown(){}}class Sne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Dne{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ki,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ki)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new tV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new ki(e)}}class Ane{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nne{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Ane(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ki.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kne{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Rt(this.o===void 0,3512);const r=s=>{s.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,lt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Ine(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Yt(t,e){return t<e?-1:t>e?1:0}function AA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return BE(i)===BE(s)?Yt(i,s):BE(i)?1:-1}return Yt(t.length,e.length)}const Rne=55296,Pne=57343;function BE(t){const e=t.charCodeAt(0);return e>=Rne&&e<=Pne}function jp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function nV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="__name__";class sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Et(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Et(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=sl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Yt(e.length,n.length)}static compareSegments(e,n){const r=sl.isNumericId(e),i=sl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?sl.extractNumericId(e).compare(sl.extractNumericId(n)):AA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _u.fromString(e.substring(4,e.length-2))}}class pn extends sl{construct(e,n,r){return new pn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new pn(n)}static emptyPath(){return new pn([])}}const Fne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends sl{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return Fne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AP}static keyField(){return new yr([AP])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new it(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new it(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new it(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new it(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(pn.fromString(e))}static fromName(e){return new bt(pn.fromString(e).popFirst(5))}static empty(){return new bt(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new pn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e,n){if(!n)throw new it(Qe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rV(t,e,n,r){if(e===!0&&r===!0)throw new it(Qe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NP(t){if(!bt.isDocumentKey(t))throw new it(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kP(t){if(bt.isDocumentKey(t))throw new it(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Et(12329,{type:typeof t})}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new it(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cb(t);throw new it(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sV(t,e){if(e<=0)throw new it(Qe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){const n={typeString:t};return e&&(n.value=e),n}function rv(t,e){if(!iV(t))throw new it(Qe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new it(Qe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=-62135596800,RP=1e6;class Rn{static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RP);return new Rn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new it(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IP)throw new it(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RP}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rv(e,Rn._jsonSchema))return new Rn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rn._jsonSchemaVersion="firestore/timestamp/1.0",Rn._jsonSchema={type:li("string",Rn._jsonSchemaVersion),seconds:li("number"),nanoseconds:li("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Rn(0,0))}static max(){return new Ut(new Rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;class $2{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function NA(t){return t.fields.find((e=>e.kind===2))}function Ld(t){return t.fields.filter((e=>e.kind!==2))}$2.UNKNOWN_ID=-1;class n2{constructor(e,n){this.fieldPath=e,this.kind=n}}class ry{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ry(0,Da.min())}}function aV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(r===1e9?new Rn(n+1,0):new Rn(n,r));return new Da(i,bt.empty(),e)}function oV(t){return new Da(t.readTime,t.key,Bp)}class Da{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Da(Ut.min(),bt.empty(),Bp)}static max(){return new Da(Ut.max(),bt.empty(),Bp)}}function ON(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=bt.comparator(t.documentKey,e.documentKey),n!==0?n:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t){if(t.code!==Qe.FAILED_PRECONDITION||t.message!==lV)throw t;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ve(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ve?n:Ve.resolve(n)}catch(n){return Ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ve.reject(n)}static resolve(e){return new Ve(((n,r)=>{n(e)}))}static reject(e){return new Ve(((n,r)=>{r(e)}))}static waitFor(e){return new Ve(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(l=>r(l)))})),a=!0,s===i&&n()}))}static or(e){let n=Ve.resolve(!1);for(const r of e)n=n.next((i=>i?Ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ve(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next((u=>{a[c]=u,++o,o===s&&r(a)}),(u=>i(u)))}}))}static doWhile(e,n){return new Ve(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="SimpleDb";class ub{static open(e,n,r,i){try{return new ub(n,e.transaction(i,r))}catch(s){throw new x0(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ki,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new x0(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=LN(r.target.error);this.S.reject(new x0(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(lt(ya,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Une(n)}}class yl{static delete(e){return lt(ya,"Removing database:",e),Wd(TN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Z0())return!1;if(yl.F())return!0;const e=Ar(),n=yl.M(e),r=0<n&&n<10,i=uV(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,yl.M(Ar())===12.2&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(lt(ya,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new x0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new it(Qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new it(Qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new x0(e,a))},i.onupgradeneeded=s=>{lt(ya,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{lt(ya,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=ub.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next((c=>(o.C(),c))).catch((c=>(o.abort(c),Ve.reject(c)))).toPromise();return l.catch((()=>{})),await o.D,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(lt(ya,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function uV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Mne{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Wd(this.U.delete())}}class x0 extends it{constructor(e,n){super(Qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Qu(t){return t.name==="IndexedDbTransactionError"}class Une{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(lt(ya,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(lt(ya,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wd(r)}add(e){return lt(ya,"ADD",this.store.name,e,e),Wd(this.store.add(e))}get(e){return Wd(this.store.get(e)).next((n=>(n===void 0&&(n=null),lt(ya,"GET",this.store.name,e,n),n)))}delete(e){return lt(ya,"DELETE",this.store.name,e),Wd(this.store.delete(e))}count(){return lt(ya,"COUNT",this.store.name),Wd(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Ve(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,l)=>{a.push(l)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ve(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){lt(ya,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Ve(((r,i)=>{n.onerror=s=>{const a=LN(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Ve(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new Mne(o),c=n(o.primaryKey,o.value,l);if(c instanceof Ve){const u=c.catch((f=>(l.done(),Ve.reject(f))));r.push(u)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}})).next((()=>Ve.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Wd(t){return new Ve(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=LN(r.target.error);n(i)}}))}let PP=!1;function LN(t){const e=yl.M(Ar());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new it("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PP||(PP=!0,setTimeout((()=>{throw r}),0)),r}}return t}const _0="IndexBackfiller";class One{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){lt(_0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();lt(_0,`Documents written: ${n}`)}catch(n){Qu(n)?lt(_0,"Ignoring IndexedDB error during index backfill: ",n):await Yu(n)}await this.re(6e4)}))}}class Lne{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return Ve.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return lt(_0,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(lt(_0,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=oV(s);ON(a,r)>0&&(r=a)})),new Da(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qs.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function iv(t){return t==null}function iy(t){return t===0&&1/t==-1/0}function dV(t){return typeof t=="number"&&Number.isInteger(t)&&!iy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="";function ys(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FP(e)),e=jne(t.get(n),e);return FP(e)}function jne(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case G2:n+="";break;default:n+=s}}return n}function FP(t){return t+G2+""}function fl(t){const e=t.length;if(Rt(e>=2,64408,{path:t}),e===2)return Rt(t.charAt(0)===G2&&t.charAt(1)==="",56145,{path:t}),pn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(G2,s);switch((a<0||a>n)&&Et(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Et(61167,{path:t})}s=a+2}return new pn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="remoteDocuments",sv="owner",zh="owner",sy="mutationQueues",Bne="userId",Do="mutations",MP="batchId",Xd="userMutationsIndex",UP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e){return[t,ys(e)]}function fV(t,e,n){return[t,ys(e),n]}const Vne={},Vp="documentMutations",K2="remoteDocumentsV14",Wne=["prefixPath","collectionGroup","readTime","documentId"],i2="documentKeyIndex",qne=["prefixPath","collectionGroup","documentId"],hV="collectionGroupIndex",zne=["collectionGroup","readTime","prefixPath","documentId"],ay="remoteDocumentGlobal",kA="remoteDocumentGlobalKey",Wp="targets",pV="queryTargetsIndex",Hne=["canonicalId","targetId"],qp="targetDocuments",$ne=["targetId","path"],jN="documentTargetsIndex",Gne=["path","targetId"],X2="targetGlobalKey",rf="targetGlobal",oy="collectionParents",Kne=["collectionId","parent"],zp="clientMetadata",Xne="clientId",db="bundles",Jne="bundleId",fb="namedQueries",Yne="name",BN="indexConfiguration",Qne="indexId",IA="collectionGroupIndex",Zne="collectionGroup",b0="indexState",ere=["indexId","uid"],mV="sequenceNumberIndex",tre=["uid","sequenceNumber"],w0="indexEntries",nre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gV="documentKeyIndex",rre=["indexId","uid","orderedDocumentKey"],hb="documentOverlays",ire=["userId","collectionPath","documentId"],RA="collectionPathOverlayIndex",sre=["userId","collectionPath","largestBatchId"],yV="collectionGroupOverlayIndex",are=["userId","collectionGroup","largestBatchId"],VN="globals",ore="name",vV=[sy,Do,Vp,jd,Wp,sv,rf,qp,zp,ay,oy,db,fb],lre=[...vV,hb],xV=[sy,Do,Vp,K2,Wp,sv,rf,qp,zp,ay,oy,db,fb,hb],_V=xV,WN=[..._V,BN,b0,w0],cre=WN,bV=[...WN,VN],ure=bV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends cV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function _i(t,e){const n=wt(t);return yl.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nr=class FA{constructor(e,n){this.comparator=e,this.root=n||wu.EMPTY}insert(e,n){return new FA(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wu.BLACK,null,null))}remove(e){return new FA(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wu.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new l1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new l1(this.root,e,this.comparator,!1)}getReverseIterator(){return new l1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new l1(this.root,e,this.comparator,!0)}},l1=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wu=class Kl{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Kl.RED,this.left=i??Kl.EMPTY,this.right=s??Kl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Kl(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kl.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}};wu.EMPTY=null,wu.RED=!0,wu.BLACK=!1;wu.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new wu(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LP(this.data.getIterator())}getIteratorFrom(e){return new LP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class LP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Zs([])}unionWith(e){let n=new Wn(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TV("Invalid base64 string: "+s):s}})(e);return new Lr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Lr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const fre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fc(t){if(Rt(!!t,39018),typeof t=="string"){let e=0;const n=fre.exec(t);if(Rt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gr(t.seconds),nanos:gr(t.nanos)}}function gr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hc(t){return typeof t=="string"?Lr.fromBase64String(t):Lr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="server_timestamp",CV="__type__",SV="__previous_value__",DV="__local_write_time__";function pb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CV])==null?void 0:r.stringValue)===EV}function mb(t){const e=t.mapValue.fields[SV];return pb(e)?mb(e):e}function ly(t){const e=fc(t.mapValue.fields[DV].timestampValue);return new Rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const MA="(default)";class Pu{constructor(e,n){this.projectId=e,this.database=n||MA}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===MA}isEqual(e){return e instanceof Pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="__type__",AV="__max__",du={mapValue:{fields:{__type__:{stringValue:AV}}}},zN="__vector__",Hp="value",s2={nullValue:"NULL_VALUE"};function Fu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pb(t)?4:NV(t)?9007199254740991:gb(t)?10:11:Et(28295,{value:t})}function El(t,e){if(t===e)return!0;const n=Fu(t);if(n!==Fu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ly(t).isEqual(ly(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=fc(i.timestampValue),o=fc(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return hc(i.bytesValue).isEqual(hc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return gr(i.geoPointValue.latitude)===gr(s.geoPointValue.latitude)&&gr(i.geoPointValue.longitude)===gr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return gr(i.integerValue)===gr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=gr(i.doubleValue),o=gr(s.doubleValue);return a===o?iy(a)===iy(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return jp(t.arrayValue.values||[],e.arrayValue.values||[],El);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(OP(a)!==OP(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!El(a[l],o[l])))return!1;return!0})(t,e);default:return Et(52216,{left:t})}}function cy(t,e){return(t.values||[]).find((n=>El(n,e)))!==void 0}function Mu(t,e){if(t===e)return 0;const n=Fu(t),r=Fu(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=gr(s.integerValue||s.doubleValue),l=gr(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return jP(t.timestampValue,e.timestampValue);case 4:return jP(ly(t),ly(e));case 5:return AA(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=hc(s),l=hc(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Yt(o[c],l[c]);if(u!==0)return u}return Yt(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=Yt(gr(s.latitude),gr(a.latitude));return o!==0?o:Yt(gr(s.longitude),gr(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return BP(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var h,p,v,g;const o=s.fields||{},l=a.fields||{},c=(h=o[Hp])==null?void 0:h.arrayValue,u=(p=l[Hp])==null?void 0:p.arrayValue,f=Yt(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:BP(c,u)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===du.mapValue&&a===du.mapValue)return 0;if(s===du.mapValue)return 1;if(a===du.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=AA(l[f],u[f]);if(h!==0)return h;const p=Mu(o[l[f]],c[u[f]]);if(p!==0)return p}return Yt(l.length,u.length)})(t.mapValue,e.mapValue);default:throw Et(23264,{he:n})}}function jP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const n=fc(t),r=fc(e),i=Yt(n.seconds,r.seconds);return i!==0?i:Yt(n.nanos,r.nanos)}function BP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Mu(n[i],r[i]);if(s)return s}return Yt(n.length,r.length)}function $p(t){return UA(t)}function UA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=fc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return hc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return bt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=UA(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${UA(n.fields[a])}`;return i+"}"})(t.mapValue):Et(61005,{value:t})}function a2(t){switch(Fu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mb(t);return e?16+a2(e):16;case 5:return 2*t.stringValue.length;case 6:return hc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+a2(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Zu(r.fields,((s,a)=>{i+=s.length+a2(a)})),i})(t.mapValue);default:throw Et(13486,{value:t})}}function mf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function OA(t){return!!t&&"integerValue"in t}function uy(t){return!!t&&"arrayValue"in t}function VP(t){return!!t&&"nullValue"in t}function WP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function o2(t){return!!t&&"mapValue"in t}function gb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qN])==null?void 0:r.stringValue)===zN}function T0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=T0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=T0(t.arrayValue.values[n]);return e}return{...t}}function NV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AV}const kV={mapValue:{fields:{[qN]:{stringValue:zN},[Hp]:{arrayValue:{}}}}};function pre(t){return"nullValue"in t?s2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?mf(Pu.empty(),bt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?gb(t)?kV:{mapValue:{}}:Et(35942,{value:t})}function mre(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?mf(Pu.empty(),bt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?kV:"mapValue"in t?gb(t)?{mapValue:{}}:du:Et(61959,{value:t})}function qP(t,e){const n=Mu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zP(t,e){const n=Mu(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!o2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=T0(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=T0(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());o2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return El(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];o2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zu(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new $i(T0(this.value))}}function IV(t){const e=[];return Zu(t.fields,((n,r)=>{const i=new yr([n]);if(o2(r)){const s=IV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Zs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new cr(e,0,Ut.min(),Ut.min(),Ut.min(),$i.empty(),0)}static newFoundDocument(e,n,r,i){return new cr(e,1,n,Ut.min(),r,i,0)}static newNoDocument(e,n){return new cr(e,2,n,Ut.min(),Ut.min(),$i.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,Ut.min(),Ut.min(),$i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.position=e,this.inclusive=n}}function HP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=bt.comparator(bt.fromName(a.referenceValue),n.key):r=Mu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $P(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!El(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n="asc"){this.field=e,this.dir=n}}function gre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{}class mn extends RV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yre(e,n,r):n==="array-contains"?new _re(e,r):n==="in"?new LV(e,r):n==="not-in"?new bre(e,r):n==="array-contains-any"?new wre(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vre(e,r):new xre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mu(n,this.value)):n!==null&&Fu(this.value)===Fu(n)&&this.matchesComparison(Mu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends RV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Bn(e,n)}matches(e){return Gp(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gp(t){return t.op==="and"}function LA(t){return t.op==="or"}function HN(t){return PV(t)&&Gp(t)}function PV(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function jA(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+$p(t.value);if(HN(t))return t.filters.map((e=>jA(e))).join(",");{const e=t.filters.map((n=>jA(n))).join(",");return`${t.op}(${e})`}}function FV(t,e){return t instanceof mn?(function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&El(r.value,i.value)})(t,e):t instanceof Bn?(function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&FV(a,i.filters[o])),!0):!1})(t,e):void Et(19439)}function MV(t,e){const n=t.filters.concat(e);return Bn.create(n,t.op)}function UV(t){return t instanceof mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${$p(n.value)}`})(t):t instanceof Bn?(function(n){return n.op.toString()+" {"+n.getFilters().map(UV).join(" ,")+"}"})(t):"Filter"}class yre extends mn{constructor(e,n,r){super(e,n,r),this.key=bt.fromName(r.referenceValue)}matches(e){const n=bt.comparator(e.key,this.key);return this.matchesComparison(n)}}class vre extends mn{constructor(e,n){super(e,"in",n),this.keys=OV("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xre extends mn{constructor(e,n){super(e,"not-in",n),this.keys=OV("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function OV(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>bt.fromName(r.referenceValue)))}class _re extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uy(n)&&cy(n.arrayValue,this.value)}}class LV extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cy(this.value.arrayValue,n)}}class bre extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(cy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cy(this.value.arrayValue,n)}}class wre extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>cy(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function BA(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Tre(t,e,n,r,i,s,a)}function gf(t){const e=wt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),iv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>$p(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>$p(r))).join(",")),e.Te=n}return e.Te}function av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$P(t.startAt,e.startAt)&&$P(t.endAt,e.endAt)}function J2(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Y2(t,e){return t.filters.filter((n=>n instanceof mn&&n.field.isEqual(e)))}function GP(t,e,n){let r=s2,i=!0;for(const s of Y2(t,e)){let a=s2,o=!0;switch(s.op){case"<":case"<=":a=pre(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=s2}qP({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];qP({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function KP(t,e,n){let r=du,i=!0;for(const s of Y2(t,e)){let a=du,o=!0;switch(s.op){case">=":case">":a=mre(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=du}zP({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];zP({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jV(t,e,n,r,i,s,a,o){return new _c(t,e,n,r,i,s,a,o)}function Cm(t){return new _c(t)}function XP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $N(t){return t.collectionGroup!==null}function xp(t){const e=wt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Wn(yr.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new dy(s,r))})),n.has(yr.keyField().canonicalString())||e.Ie.push(new dy(yr.keyField(),r))}return e.Ie}function Fs(t){const e=wt(t);return e.Ee||(e.Ee=Ere(e,xp(t))),e.Ee}function Ere(t,e){if(t.limitType==="F")return BA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new dy(i.field,s)}));const n=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;return BA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function VA(t,e){const n=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Q2(t,e,n){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ov(t,e){return av(Fs(t),Fs(e))&&t.limitType===e.limitType}function BV(t){return`${gf(Fs(t))}|lt:${t.limitType}`}function sp(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>UV(i))).join(", ")}]`),iv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>$p(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>$p(i))).join(",")),`Target(${r})`})(Fs(t))}; limitType=${t.limitType})`}function lv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):bt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of xp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,l){const c=HP(a,o,l);return a.inclusive?c<=0:c<0})(r.startAt,xp(r),i)||r.endAt&&!(function(a,o,l){const c=HP(a,o,l);return a.inclusive?c>=0:c>0})(r.endAt,xp(r),i))})(t,e)}function VV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WV(t){return(e,n)=>{let r=!1;for(const i of xp(t)){const s=Cre(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Cre(t,e,n){const r=t.field.isKeyField()?bt.comparator(e.key,n.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Mu(l,c):Et(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zu(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return wV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sre=new Nr(bt.comparator);function ea(){return Sre}const qV=new Nr(bt.comparator);function l0(...t){let e=qV;for(const n of t)e=e.insert(n.key,n);return e}function zV(t){let e=qV;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function hl(){return E0()}function HV(){return E0()}function E0(){return new bc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Dre=new Nr(bt.comparator),Are=new Wn(bt.comparator);function Zt(...t){let e=Are;for(const n of t)e=e.add(n);return e}const Nre=new Wn(Yt);function GN(){return Nre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iy(e)?"-0":e}}function $V(t){return{integerValue:""+t}}function GV(t,e){return dV(e)?$V(e):KN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this._=void 0}}function kre(t,e,n){return t instanceof Kp?(function(i,s){const a={fields:{[CV]:{stringValue:EV},[DV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pb(s)&&(s=mb(s)),s&&(a.fields[SV]=s),{mapValue:a}})(n,e):t instanceof yf?XV(t,e):t instanceof vf?JV(t,e):(function(i,s){const a=KV(i,s),o=JP(a)+JP(i.Ae);return OA(a)&&OA(i.Ae)?$V(o):KN(i.serializer,o)})(t,e)}function Ire(t,e,n){return t instanceof yf?XV(t,e):t instanceof vf?JV(t,e):n}function KV(t,e){return t instanceof Xp?(function(r){return OA(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Kp extends yb{}class yf extends yb{constructor(e){super(),this.elements=e}}function XV(t,e){const n=YV(e);for(const r of t.elements)n.some((i=>El(i,r)))||n.push(r);return{arrayValue:{values:n}}}class vf extends yb{constructor(e){super(),this.elements=e}}function JV(t,e){let n=YV(e);for(const r of t.elements)n=n.filter((i=>!El(i,r)));return{arrayValue:{values:n}}}class Xp extends yb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function JP(t){return gr(t.integerValue||t.doubleValue)}function YV(t){return uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.field=e,this.transform=n}}function Rre(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof yf&&i instanceof yf||r instanceof vf&&i instanceof vf?jp(r.elements,i.elements,El):r instanceof Xp&&i instanceof Xp?El(r.Ae,i.Ae):r instanceof Kp&&i instanceof Kp})(t.transform,e.transform)}class Pre{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function l2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vb{}function QV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dm(t.key,vr.none()):new Sm(t.key,t.data,vr.none());{const n=t.data,r=$i.empty();let i=new Wn(yr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new wc(t.key,r,new Zs(i.toArray()),vr.none())}}function Fre(t,e,n){t instanceof Sm?(function(i,s,a){const o=i.value.clone(),l=QP(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof wc?(function(i,s,a){if(!l2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=QP(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(ZV(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function C0(t,e,n,r){return t instanceof Sm?(function(s,a,o,l){if(!l2(s.precondition,a))return o;const c=s.value.clone(),u=ZP(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof wc?(function(s,a,o,l){if(!l2(s.precondition,a))return o;const c=ZP(s.fieldTransforms,l,a),u=a.data;return u.setAll(ZV(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(s,a,o){return l2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function Mre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KV(r.transform,i||null);s!=null&&(n===null&&(n=$i.empty()),n.set(r.field,s))}return n||null}function YP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jp(r,i,((s,a)=>Rre(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sm extends vb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wc extends vb{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZV(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function QP(t,e,n){const r=new Map;Rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,Ire(a,o,n[i]))}return r}function ZP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,kre(s,a,e))}return r}class Dm extends vb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XN extends vb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Fre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=C0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=C0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HV();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=QV(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ut.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Zt())}isEqual(e){return this.batchId===e.batchId&&jp(this.mutations,e.mutations,((n,r)=>YP(n,r)))&&jp(this.baseMutations,e.baseMutations,((n,r)=>YP(n,r)))}}class YN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Dre})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new YN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii,vn;function eW(t){switch(t){case Qe.OK:return Et(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return Et(15467,{code:t})}}function tW(t){if(t===void 0)return Kr("GRPC error has no .code"),Qe.UNKNOWN;switch(t){case ii.OK:return Qe.OK;case ii.CANCELLED:return Qe.CANCELLED;case ii.UNKNOWN:return Qe.UNKNOWN;case ii.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case ii.INTERNAL:return Qe.INTERNAL;case ii.UNAVAILABLE:return Qe.UNAVAILABLE;case ii.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case ii.NOT_FOUND:return Qe.NOT_FOUND;case ii.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case ii.ABORTED:return Qe.ABORTED;case ii.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case ii.DATA_LOSS:return Qe.DATA_LOSS;default:return Et(39323,{code:t})}}(vn=ii||(ii={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore=new _u([4294967295,4294967295],0);function e8(t){const e=nW().encode(t),n=new KB;return n.update(e),new Uint8Array(n.digest())}function t8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _u([n,r],0),new _u([i,s],0)]}class ZN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new c0(`Invalid padding: ${n}`);if(r<0)throw new c0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new c0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new c0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_u.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_u.fromNumber(r)));return i.compare(Ore)===1&&(i=new _u([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=e8(e),[r,i]=t8(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new ZN(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=e8(e),[r,i]=t8(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class c0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uv(Ut.min(),i,new Nr(Yt),ea(),Zt())}}class dv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dv(r,n,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class rW{constructor(e,n){this.targetId=e,this.Ce=n}}class iW{constructor(e,n,r=Lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class n8{constructor(){this.ve=0,this.Fe=r8(),this.Me=Lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Zt(),n=Zt(),r=Zt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Et(38017,{changeType:s})}})),new dv(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=r8()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lre{constructor(e){this.Ge=e,this.ze=new Map,this.je=ea(),this.Je=c1(),this.He=c1(),this.Ye=new Nr(Yt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(J2(s))if(r===0){const a=new bt(s.path);this.et(n,a,cr.newNoDocument(a,Ut.min()))}else Rt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=hc(r).toUint8Array()}catch(l){if(l instanceof TV)return Tl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new ZN(a,i,s)}catch(l){return Tl(l instanceof c0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&J2(o.target)){const l=new bt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,cr.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=Zt();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new uv(e,n,this.Ye,this.je,r);return this.je=ea(),this.Je=c1(),this.He=c1(),this.Ye=new Nr(Yt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new n8,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wn(Yt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wn(Yt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n8),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function c1(){return new Nr(bt.comparator)}function r8(){return new Nr(bt.comparator)}const jre={asc:"ASCENDING",desc:"DESCENDING"},Bre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vre={and:"AND",or:"OR"};class Wre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function WA(t,e){return t.useProto3Json||iv(e)?e:{value:e}}function Jp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qre(t,e){return Jp(t,e.toTimestamp())}function Xr(t){return Rt(!!t,49232),Ut.fromTimestamp((function(n){const r=fc(n);return new Rn(r.seconds,r.nanos)})(t))}function ek(t,e){return qA(t,e).canonicalString()}function qA(t,e){const n=(function(i){return new pn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aW(t){const e=pn.fromString(t);return Rt(gW(e),10190,{key:e.toString()}),e}function fy(t,e){return ek(t.databaseId,e.path)}function vl(t,e){const n=aW(e);if(n.get(1)!==t.databaseId.projectId)throw new it(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new it(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bt(cW(n))}function oW(t,e){return ek(t.databaseId,e)}function lW(t){const e=aW(t);return e.length===4?pn.emptyPath():cW(e)}function zA(t){return new pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cW(t){return Rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function i8(t,e,n){return{name:fy(t,e),fields:n.value.mapValue.fields}}function uW(t,e,n){const r=vl(t,e.name),i=Xr(e.updateTime),s=e.createTime?Xr(e.createTime):Ut.min(),a=new $i({mapValue:{fields:e.fields}}),o=cr.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function zre(t,e){return"found"in e?(function(r,i){Rt(!!i.found,43571),i.found.name,i.found.updateTime;const s=vl(r,i.found.name),a=Xr(i.found.updateTime),o=i.found.createTime?Xr(i.found.createTime):Ut.min(),l=new $i({mapValue:{fields:i.found.fields}});return cr.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(r,i){Rt(!!i.missing,3894),Rt(!!i.readTime,22933);const s=vl(r,i.missing),a=Xr(i.readTime);return cr.newNoDocument(s,a)})(t,e):Et(7234,{result:e})}function Hre(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Et(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(Rt(u===void 0||typeof u=="string",58123),Lr.fromBase64String(u||"")):(Rt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Lr.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?Qe.UNKNOWN:tW(c.code);return new it(u,c.message||"")})(a);n=new iW(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vl(t,r.document.name),s=Xr(r.document.updateTime),a=r.document.createTime?Xr(r.document.createTime):Ut.min(),o=new $i({mapValue:{fields:r.document.fields}}),l=cr.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new c2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vl(t,r.document),s=r.readTime?Xr(r.readTime):Ut.min(),a=cr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new c2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vl(t,r.document),s=r.removedTargetIds||[];n=new c2([],s,i,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Ure(i,s),o=r.targetId;n=new rW(o,a)}}return n}function hy(t,e){let n;if(e instanceof Sm)n={update:i8(t,e.key,e.value)};else if(e instanceof Dm)n={delete:fy(t,e.key)};else if(e instanceof wc)n={update:i8(t,e.key,e.data),updateMask:Yre(e.fieldMask)};else{if(!(e instanceof XN))return Et(16599,{Vt:e.type});n={verify:fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof Kp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xp)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Et(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:qre(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Et(27497)})(t,e.precondition)),n}function HA(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?vr.updateTime(Xr(s.updateTime)):s.exists!==void 0?vr.exists(s.exists):vr.none()})(e.currentDocument):vr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)Rt(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new Kp;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new yf(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new vf(u)}else"increment"in o?l=new Xp(a,o.increment):Et(16584,{proto:o});const c=yr.fromServerFormat(o.fieldPath);return new cv(c,l)})(t,i))):[];if(e.update){e.update.name;const i=vl(t,e.update.name),s=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new Zs(c.map((u=>yr.fromServerFormat(u))))})(e.updateMask);return new wc(i,s,a,n,r)}return new Sm(i,s,n,r)}if(e.delete){const i=vl(t,e.delete);return new Dm(i,n)}if(e.verify){const i=vl(t,e.verify);return new XN(i,n)}return Et(1463,{proto:e})}function $re(t,e){return t&&t.length>0?(Rt(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Xr(i.updateTime):Xr(s);return a.isEqual(Ut.min())&&(a=Xr(s)),new Pre(a,i.transformResults||[])})(n,e)))):[]}function dW(t,e){return{documents:[oW(t,e.path)]}}function fW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oW(t,i);const s=(function(c){if(c.length!==0)return mW(Bn.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(h){return{field:ap(h.field),direction:Kre(h.dir)}})(u)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=WA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function hW(t){let e=lW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=(function(f){const h=pW(f);return h instanceof Bn&&HN(h)?h.getFilters():[h]})(n.where));let a=[];n.orderBy&&(a=(function(f){return f.map((h=>(function(v){return new dy(op(v.field),(function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(h)))})(n.orderBy));let o=null;n.limit&&(o=(function(f){let h;return h=typeof f=="object"?f.value:f,iv(h)?null:h})(n.limit));let l=null;n.startAt&&(l=(function(f){const h=!!f.before,p=f.values||[];return new Uu(p,h)})(n.startAt));let c=null;return n.endAt&&(c=(function(f){const h=!f.before,p=f.values||[];return new Uu(p,h)})(n.endAt)),jV(e,i,a,s,o,"F",l,c)}function Gre(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pW(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=op(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=op(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=op(n.unaryFilter.field);return mn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=op(n.unaryFilter.field);return mn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(t):t.fieldFilter!==void 0?(function(n){return mn.create(op(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Bn.create(n.compositeFilter.filters.map((r=>pW(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(t):Et(30097,{filter:t})}function Kre(t){return jre[t]}function Xre(t){return Bre[t]}function Jre(t){return Vre[t]}function ap(t){return{fieldPath:t.canonicalString()}}function op(t){return yr.fromServerFormat(t.fieldPath)}function mW(t){return t instanceof mn?(function(n){if(n.op==="=="){if(WP(n.value))return{unaryFilter:{field:ap(n.field),op:"IS_NAN"}};if(VP(n.value))return{unaryFilter:{field:ap(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WP(n.value))return{unaryFilter:{field:ap(n.field),op:"IS_NOT_NAN"}};if(VP(n.value))return{unaryFilter:{field:ap(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ap(n.field),op:Xre(n.op),value:n.value}}})(t):t instanceof Bn?(function(n){const r=n.getFilters().map((i=>mW(i)));return r.length===1?r[0]:{compositeFilter:{op:Jre(n.op),filters:r}}})(t):Et(54877,{filter:t})}function Yre(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i,s=Ut.min(),a=Ut.min(),o=Lr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e){this.yt=e}}function Qre(t,e){let n;if(e.document)n=uW(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=bt.fromSegments(e.noDocument.path),i=_f(e.noDocument.readTime);n=cr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Et(56709);{const r=bt.fromSegments(e.unknownDocument.path),i=_f(e.unknownDocument.version);n=cr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Rn(i[0],i[1]);return Ut.fromTimestamp(s)})(e.readTime)),n}function s8(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Z2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:fy(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Jp(s,a.version.toTimestamp()),createTime:Jp(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xf(e.version)};else{if(!e.isUnknownDocument())return Et(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:xf(e.version)}}return r}function Z2(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _f(t){const e=new Rn(t.seconds,t.nanoseconds);return Ut.fromTimestamp(e)}function qd(t,e){const n=(e.baseMutations||[]).map((s=>HA(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>HA(t.yt,s))),i=Rn.fromMillis(e.localWriteTimeMs);return new JN(e.batchId,i,n,r)}function u0(t){const e=_f(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?_f(t.lastLimboFreeSnapshotVersion):Ut.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return Rt(a===1,1966,{count:a}),Fs(Cm(lW(s.documents[0])))})(t.query):(function(s){return Fs(hW(s))})(t.query),new Jl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Lr.fromBase64String(t.resumeToken))}function vW(t,e){const n=xf(e.snapshotVersion),r=xf(e.lastLimboFreeSnapshotVersion);let i;i=J2(e.target)?dW(t.yt,e.target):fW(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gf(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tk(t){const e=hW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Q2(e,e.limit,"L"):e}function VE(t,e){return new QN(e.largestBatchId,HA(t.yt,e.overlayMutation))}function a8(t,e){const n=e.path.lastSegment();return[t,ys(e.path.popLast()),n]}function o8(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:xf(r.readTime),documentKey:ys(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{getBundleMetadata(e,n){return l8(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:_f(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return l8(e).put((function(i){return{bundleId:i.id,createTime:xf(Xr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return c8(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:tk(s.bundledQuery),readTime:_f(s.readTime)}})(r)}))}saveNamedQuery(e,n){return c8(e).put((function(i){return{name:i.name,readTime:xf(Xr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function l8(t){return _i(t,db)}function c8(t){return _i(t,fb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new xb(e,r)}getOverlay(e,n){return Rg(e).get(a8(this.userId,n)).next((r=>r?VE(this.serializer,r):null))}getOverlays(e,n){const r=hl();return Ve.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new QN(n,a);i.push(this.St(e,o))})),Ve.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(ys(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Rg(e).Z(RA,o))})),Ve.waitFor(s)}getOverlaysForCollection(e,n,r){const i=hl(),s=ys(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Rg(e).J(RA,a).next((o=>{for(const l of o){const c=VE(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=hl();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Rg(e).ee({index:yV,range:o},((l,c,u)=>{const f=VE(this.serializer,c);s.size()<i||f.largestBatchId===a?(s.set(f.getKey(),f),a=f.largestBatchId):u.done()})).next((()=>s))}St(e,n){return Rg(e).put((function(i,s,a){const[o,l,c]=a8(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:hy(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Rg(t){return _i(t,hb)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{bt(e){return _i(e,VN)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Lr.fromUint8Array(r):Lr.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(gr(e.integerValue));else if("doubleValue"in e){const r=gr(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),iy(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=fc(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(hc(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?NV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):gb(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Et(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,o;const r=e.fields||{};this.Ft(n,53);const i=Hp,s=((o=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(gr(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),bt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}zd.Kt=new zd;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=255;function tie(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function u8(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=tie(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class nie{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=u8(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=u8(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn($h),this.sn(255)}_n(){this.an($h),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===$h?(this.sn($h),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===$h?(this.an($h),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class rie{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class iie{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Pg{constructor(){this.cn=new nie,this.ln=new rie(this.cn),this.hn=new iie(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Hd(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:u2(this.En),directionalValue:u2(this.dn),orderedDocumentKey:u2(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function eu(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=d8(t.En,e.En),n!==0?n:(n=d8(t.dn,e.dn),n!==0?n:bt.comparator(t.In,e.In)))}function d8(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function u2(t){return PB()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function f8(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class h8{constructor(e){this.mn=new Wn(((n,r)=>yr.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Rt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=NA(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ld(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.bn(this.fn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Wn(yr.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new n2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new n2(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new n2(r.field,r.dir==="asc"?0:1)));return new $2($2.UNKNOWN_ID,this.collectionId,n,ry.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(t){var n,r;if(Rt(t instanceof mn||t instanceof Bn,20012),t instanceof mn){if(t instanceof LV){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>mn.create(t.field,"==",s))))||[];return Bn.create(i,"or")}return t}const e=t.filters.map((i=>xW(i)));return Bn.create(e,t.op)}function sie(t){if(t.getFilters().length===0)return[];const e=KA(xW(t));return Rt(_W(e),7391),$A(e)||GA(e)?[e]:e.getFilters()}function $A(t){return t instanceof mn}function GA(t){return t instanceof Bn&&HN(t)}function _W(t){return $A(t)||GA(t)||(function(n){if(n instanceof Bn&&LA(n)){for(const r of n.getFilters())if(!$A(r)&&!GA(r))return!1;return!0}return!1})(t)}function KA(t){if(Rt(t instanceof mn||t instanceof Bn,34018),t instanceof mn)return t;if(t.filters.length===1)return KA(t.filters[0]);const e=t.filters.map((r=>KA(r)));let n=Bn.create(e,t.op);return n=e_(n),_W(n)?n:(Rt(n instanceof Bn,64498),Rt(Gp(n),40251),Rt(n.filters.length>1,57927),n.filters.reduce(((r,i)=>nk(r,i))))}function nk(t,e){let n;return Rt(t instanceof mn||t instanceof Bn,38388),Rt(e instanceof mn||e instanceof Bn,25473),n=t instanceof mn?e instanceof mn?(function(i,s){return Bn.create([i,s],"and")})(t,e):p8(t,e):e instanceof mn?p8(e,t):(function(i,s){if(Rt(i.filters.length>0&&s.filters.length>0,48005),Gp(i)&&Gp(s))return MV(i,s.getFilters());const a=LA(i)?i:s,o=LA(i)?s:i,l=a.filters.map((c=>nk(c,o)));return Bn.create(l,"or")})(t,e),e_(n)}function p8(t,e){if(Gp(e))return MV(e,t.getFilters());{const n=e.filters.map((r=>nk(t,r)));return Bn.create(n,"or")}}function e_(t){if(Rt(t instanceof mn||t instanceof Bn,11850),t instanceof mn)return t;const e=t.getFilters();if(e.length===1)return e_(e[0]);if(PV(t))return t;const n=e.map((i=>e_(i))),r=[];return n.forEach((i=>{i instanceof mn?r.push(i):i instanceof Bn&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Bn.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(){this.Cn=new rk}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ve.resolve()}getCollectionParents(e,n){return Ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ve.resolve()}deleteFieldIndex(e,n){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,n){return Ve.resolve()}getDocumentsMatchingTarget(e,n){return Ve.resolve(null)}getIndexType(e,n){return Ve.resolve(0)}getFieldIndexes(e,n){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,n){return Ve.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,n){return Ve.resolve(Da.min())}updateCollectionGroup(e,n,r){return Ve.resolve()}updateIndexEntries(e,n){return Ve.resolve()}}class rk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wn(pn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="IndexedDbIndexManager",u1=new Uint8Array(0);class oie{constructor(e,n){this.databaseId=n,this.vn=new rk,this.Fn=new bc((r=>gf(r)),((r,i)=>av(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:ys(i)};return g8(e).put(s)}return Ve.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[nV(n),""],!1,!0);return g8(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(fl(a.parent))}return r}))}addFieldIndex(e,n){const r=Fg(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Kh(e);return s.next((o=>{a.put(o8(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Fg(e),i=Kh(e),s=Gh(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Fg(e),r=Gh(e),i=Kh(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Ve.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new h8(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Gh(e);let i=!0;const s=new Map;return Ve.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=Zt();const o=[];return Ve.forEach(s,((l,c)=>{lt(m8,`Using index ${(function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map((E=>`${E.fieldPath}:${E.kind}`)).join(",")}`})(l)} to execute ${gf(n)}`);const u=(function(w,E){const S=NA(E);if(S===void 0)return null;for(const R of Y2(w,S.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null})(c,l),f=(function(w,E){const S=new Map;for(const R of Ld(E))for(const D of Y2(w,R.fieldPath))switch(D.op){case"==":case"in":S.set(R.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return S.set(R.fieldPath.canonicalString(),D.value),Array.from(S.values())}return null})(c,l),h=(function(w,E){const S=[];let R=!0;for(const D of Ld(E)){const N=D.kind===0?GP(w,D.fieldPath,w.startAt):KP(w,D.fieldPath,w.startAt);S.push(N.value),R&&(R=N.inclusive)}return new Uu(S,R)})(c,l),p=(function(w,E){const S=[];let R=!0;for(const D of Ld(E)){const N=D.kind===0?KP(w,D.fieldPath,w.endAt):GP(w,D.fieldPath,w.endAt);S.push(N.value),R&&(R=N.inclusive)}return new Uu(S,R)})(c,l),v=this.On(l,c,h),g=this.On(l,c,p),y=this.Nn(l,c,f),b=this.Bn(l.indexId,u,v,h.inclusive,g,p.inclusive,y);return Ve.forEach(b,(x=>r.Y(x,n.limit).next((w=>{w.forEach((E=>{const S=bt.fromSegments(E.documentKey);a.has(S)||(a=a.add(S),o.push(S))}))}))))})).next((()=>o))}return Ve.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=sie(Bn.create(e.filters,"and")).map((r=>BA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let f=0;f<l;++f){const h=n?this.Ln(n[f/c]):u1,p=this.kn(e,h,r[f%c],i),v=this.qn(e,h,s[f%c],a),g=o.map((y=>this.kn(e,h,y,!0)));u.push(...this.createRange(p,v,g))}return u}kn(e,n,r,i){const s=new Hd(e,bt.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new Hd(e,bt.empty(),n,r);return i?s.An():s}xn(e,n){const r=new h8(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Ve.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(l){let c=new Wn(yr.comparator),u=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Pg;for(const i of Ld(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);zd.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new Pg;return zd.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Pg;return zd.Kt.Dt(mf(this.databaseId,n),r.Pn((function(s){const a=Ld(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Pg);let s=0;for(const a of Ld(e)){const o=r[s++];for(const l of i)if(this.Un(n,a.fieldPath)&&uy(o))i=this.Kn(i,a,o);else{const c=l.Pn(a.kind);zd.Kt.Dt(o,c)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new Pg;l.seed(o.un()),zd.Kt.Dt(a,l.Pn(n.kind)),s.push(l)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof mn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Fg(e),i=Kh(e);return(n?r.J(IA,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return Ve.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(u,f){const h=f?new ry(f.sequenceNumber,new Da(_f(f.readTime),new bt(fl(f.documentKey)),f.largestBatchId)):ry.empty(),p=u.fields.map((([v,g])=>new n2(yr.fromServerFormat(v),g)));return new $2(u.indexId,u.collectionGroup,p,h)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Yt(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Fg(e),s=Kh(e);return this.Gn(e).next((a=>i.J(IA,IDBKeyRange.bound(n,n)).next((o=>Ve.forEach(o,(l=>s.put(o8(l.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Ve.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?Ve.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),Ve.forEach(o,(l=>this.zn(e,i,l).next((c=>{const u=this.jn(s,l);return c.isEqual(u)?Ve.resolve():this.Jn(e,s,l,c,u)})))))))}))}Hn(e,n,r,i){return Gh(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Gh(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Gh(e);let s=new Wn(eu);return i.ee({index:gV,range:IDBKeyRange.only([r.indexId,this.uid,u2(this.$n(r,n))])},((a,o)=>{s=s.add(new Hd(r.indexId,n,f8(o.arrayValue),f8(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Wn(eu);const i=this.Qn(n,e);if(i==null)return r;const s=NA(n);if(s!=null){const a=e.data.field(s.fieldPath);if(uy(a))for(const o of a.arrayValue.values||[])r=r.add(new Hd(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new Hd(n.indexId,e.key,u1,i));return r}Jn(e,n,r,i,s){lt(m8,"Updating index entries for document '%s'",n.key);const a=[];return(function(l,c,u,f,h){const p=l.getIterator(),v=c.getIterator();let g=Hh(p),y=Hh(v);for(;g||y;){let b=!1,x=!1;if(g&&y){const w=u(g,y);w<0?x=!0:w>0&&(b=!0)}else g!=null?x=!0:b=!0;b?(f(y),y=Hh(v)):x?(h(g),g=Hh(p)):(g=Hh(p),y=Hh(v))}})(i,s,eu,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),Ve.waitFor(a)}Gn(e){let n=1;return Kh(e).ee({index:mV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>eu(a,o))).filter(((a,o,l)=>!o||eu(a,l[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=eu(a,e),l=eu(a,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(a),i.push(a.An());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,u1,bt.empty()),l=i[a+1].Vn(this.uid,u1,bt.empty());s.push(IDBKeyRange.bound(o,l))}return s}Zn(e,n){return eu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(y8)}getMinOffset(e,n){return Ve.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Et(44426))))).next(y8)}}function g8(t){return _i(t,oy)}function Gh(t){return _i(t,w0)}function Fg(t){return _i(t,BN)}function Kh(t){return _i(t,b0)}function y8(t){Rt(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;ON(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Da(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bW=41943040;class ls{static withCacheSize(e){return new ls(e,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t,e,n){const r=t.store(Do),i=t.store(Vp),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:a},((u,f,h)=>(o++,h.delete())));s.push(l.next((()=>{Rt(o===1,47070,{batchId:n.batchId})})));const c=[];for(const u of n.mutations){const f=fV(e,u.key.path,n.batchId);s.push(i.delete(f)),c.push(u.key)}return Ve.waitFor(s).next((()=>c))}function t_(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Et(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(bW,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);class _b{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Rt(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new _b(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).ee({index:Xd,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=lp(e),a=tu(e);return a.add({}).next((o=>{Rt(typeof o=="number",49019);const l=new JN(o,n,r,i),c=(function(p,v,g){const y=g.baseMutations.map((x=>hy(p.yt,x))),b=g.mutations.map((x=>hy(p.yt,x)));return{userId:v,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:b}})(this.serializer,this.userId,l),u=[];let f=new Wn(((h,p)=>Yt(h.canonicalString(),p.canonicalString())));for(const h of i){const p=fV(this.userId,h.key.path,o);f=f.add(h.key.path.popLast()),u.push(a.put(c)),u.push(s.put(p,Vne))}return f.forEach((h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))})),e.addOnCommittedListener((()=>{this.Xn[o]=l.keys()})),Ve.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,n){return tu(e).get(n).next((r=>r?(Rt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),qd(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Ve.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return tu(e).ee({index:Xd,range:i},((a,o,l)=>{o.userId===this.userId&&(Rt(o.batchId>=r,47524,{tr:r}),s=qd(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=bu;return tu(e).ee({index:Xd,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,bu],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).J(Xd,n).next((r=>r.map((i=>qd(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=r2(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return lp(e).ee({range:i},((a,o,l)=>{const[c,u,f]=a,h=fl(u);if(c===this.userId&&n.path.isEqual(h))return tu(e).get(f).next((p=>{if(!p)throw Et(61480,{nr:a,batchId:f});Rt(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),s.push(qd(this.serializer,p))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(Yt);const i=[];return n.forEach((s=>{const a=r2(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=lp(e).ee({range:o},((c,u,f)=>{const[h,p,v]=c,g=fl(p);h===this.userId&&s.path.isEqual(g)?r=r.add(v):f.done()}));i.push(l)})),Ve.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=r2(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Wn(Yt);return lp(e).ee({range:a},((l,c,u)=>{const[f,h,p]=l,v=fl(h);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(o=o.add(p)):u.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(tu(e).get(s).next((a=>{if(a===null)throw Et(35274,{batchId:s});Rt(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(qd(this.serializer,a))})))})),Ve.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return wW(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Ve.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Ve.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return lp(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const l=fl(s[1]);i.push(l)}else o.done()})).next((()=>{Rt(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return TW(e,this.userId,n)}_r(e){return EW(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:bu,lastStreamToken:""}))}}function TW(t,e,n){const r=r2(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return lp(t).ee({range:s,X:!0},((o,l,c)=>{const[u,f,h]=o;u===e&&f===i&&(a=!0),c.done()})).next((()=>a))}function tu(t){return _i(t,Do)}function lp(t){return _i(t,Vp)}function EW(t){return _i(t,sy)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bf(0)}static cr(){return new bf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new bf(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ut.fromTimestamp(new Rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Xh(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Rt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Xh(e).ee(((a,o)=>{const l=u0(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>Ve.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Xh(e).ee(((r,i)=>{const s=u0(i);n(s)}))}lr(e){return x8(e).get(X2).next((n=>(Rt(n!==null,2888),n)))}hr(e,n){return x8(e).put(X2,n)}Pr(e,n){return Xh(e).put(vW(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=gf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Xh(e).ee({range:i,index:pV},((a,o,l)=>{const c=u0(o);av(n,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=cu(e);return n.forEach((a=>{const o=ys(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),Ve.waitFor(i)}removeMatchingKeys(e,n,r){const i=cu(e);return Ve.forEach(n,(s=>{const a=ys(s.path);return Ve.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=cu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=cu(e);let s=Zt();return i.ee({range:r,X:!0},((a,o,l)=>{const c=fl(a[1]),u=new bt(c);s=s.add(u)})).next((()=>s))}containsKey(e,n){const r=ys(n.path),i=IDBKeyRange.bound([r],[nV(r)],!1,!0);let s=0;return cu(e).ee({index:jN,X:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}At(e,n){return Xh(e).get(n).next((r=>r?u0(r):null))}}function Xh(t){return _i(t,Wp)}function x8(t){return _i(t,rf)}function cu(t){return _i(t,qp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="LruGarbageCollector",cie=1048576;function b8([t,e],[n,r]){const i=Yt(t,n);return i===0?Yt(e,r):i}class uie{constructor(e){this.Ir=e,this.buffer=new Wn(b8),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();b8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(_8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qu(n)?lt(_8,"Ignoring IndexedDB error during garbage collection: ",n):await Yu(n)}await this.Vr(3e5)}))}}class die{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ve.resolve(Qs.ce);const r=new uie(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(v8)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v8):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(r=f,o=Date.now(),this.removeTargets(e,r,n)))).next((f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(c=Date.now(),ip()<=dn.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function SW(t,e){return new die(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fie{constructor(e,n){this.db=e,this.garbageCollector=SW(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return d1(e,r)}removeReference(e,n,r){return d1(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return d1(e,n)}br(e,n){return(function(i,s){let a=!1;return EW(i).te((o=>TW(i,o,s).next((l=>(l&&(a=!0),Ve.resolve(!l)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const l=this.br(e,a).next((c=>{if(!c)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ut.min()),cu(e).delete((function(f){return[0,ys(f.path)]})(a)))))}));i.push(l)}})).next((()=>Ve.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return d1(e,n)}Sr(e,n){const r=cu(e);let i,s=Qs.ce;return r.ee({index:jN},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==Qs.ce&&n(new bt(fl(i)),s),s=c,i=l):s=Qs.ce})).next((()=>{s!==Qs.ce&&n(new bt(fl(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function d1(t,e){return cu(t).put((function(r,i){return{targetId:0,path:ys(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(){this.changes=new bc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Id(e).put(r)}removeEntry(e,n,r){return Id(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Z2(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=cr.newInvalidDocument(n);return Id(e).ee({index:i2,range:IDBKeyRange.only(Mg(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:cr.newInvalidDocument(n)};return Id(e).ee({index:i2,range:IDBKeyRange.only(Mg(n))},((i,s)=>{r={document:this.Cr(n,s),size:t_(s)}})).next((()=>r))}getEntries(e,n){let r=ea();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=ea(),i=new Nr(bt.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,t_(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Ve.resolve();let i=new Wn(E8);n.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(Mg(i.first()),Mg(i.last())),a=i.getIterator();let o=a.getNext();return Id(e).ee({index:i2,range:s},((l,c,u)=>{const f=bt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&E8(o,f)<0;)r(o,null),o=a.getNext();o&&o.isEqual(f)&&(r(o,c),o=a.hasNext()?a.getNext():null),o?u.j(Mg(o)):u.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),Z2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Id(e).J(IDBKeyRange.bound(o,l,!0)).next((c=>{s==null||s.incrementDocumentReadCount(c.length);let u=ea();for(const f of c){const h=this.Cr(bt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(lv(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u}))}getAllFromCollectionGroup(e,n,r,i){let s=ea();const a=T8(n,r),o=T8(n,Da.max());return Id(e).ee({index:hV,range:IDBKeyRange.bound(a,o,!0)},((l,c,u)=>{const f=this.Cr(bt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&u.done()})).next((()=>s))}newChangeBuffer(e){return new pie(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return w8(e).get(kA).next((n=>(Rt(!!n,20021),n)))}Dr(e,n){return w8(e).put(kA,n)}Cr(e,n){if(n){const r=Qre(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ut.min())))return r}return cr.newInvalidDocument(e)}}function AW(t){return new hie(t)}class pie extends DW{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new bc((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Wn(((s,a)=>Yt(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=s8(this.Nr.serializer,a);i=i.add(s.path.popLast());const c=t_(l);r+=c-o.size,n.push(this.Nr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=s8(this.Nr.serializer,a.convertToNoDocument(Ut.min()));n.push(this.Nr.addEntry(e,s,l))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),Ve.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function w8(t){return _i(t,ay)}function Id(t){return _i(t,K2)}function Mg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function T8(t,e){const n=e.documentKey.path.toArray();return[t,Z2(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function E8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Yt(n[s],r[s]),i)return i;return i=Yt(n.length,r.length),i||(i=Yt(n[n.length-2],r[r.length-2]),i||Yt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&C0(r.mutation,i,Zs.empty(),Rn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Zt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Zt()){const i=hl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=l0();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=hl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Zt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=ea();const a=E0(),o=(function(){return E0()})();return n.forEach(((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof wc)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),C0(u.mutation,c,u.mutation.getFieldMask(),Rn.now())):a.set(c.key,Zs.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),n.forEach(((c,u)=>o.set(c,new mie(u,a.get(c)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=E0();let i=new Nr(((a,o)=>a-o)),s=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Zs.empty();u=o.applyToLocalView(c,u),r.set(l,u);const f=(i.get(o.batchId)||Zt()).add(l);i=i.insert(o.batchId,f)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=HV();u.forEach((h=>{if(!s.has(h)){const p=QV(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Ve.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return bt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$N(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ve.resolve(hl());let o=Bp,l=s;return a.next((c=>Ve.forEach(c,((u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(u)?Ve.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{l=l.insert(u,h)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,Zt()))).next((u=>({batchId:o,changes:zV(u)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new bt(n)).next((r=>{let i=l0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=l0();return this.indexManager.getCollectionParents(e,s).next((o=>Ve.forEach(o,(l=>{const c=(function(f,h){return new _c(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((u=>{u.forEach(((f,h)=>{a=a.insert(f,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,cr.newInvalidDocument(u)))}));let o=l0();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&C0(u.mutation,c,Zs.empty(),Rn.now()),lv(n,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Xr(i.createTime)}})(n)),Ve.resolve()}getNamedQuery(e,n){return Ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:tk(i.bundledQuery),readTime:Xr(i.readTime)}})(n)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{constructor(){this.overlays=new Nr(bt.comparator),this.qr=new Map}getOverlay(e,n){return Ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hl();return Ve.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ve.resolve()}getOverlaysForCollection(e,n,r){const i=hl(),s=n.length+1,a=new bt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nr(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=hl(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=hl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=i)););return Ve.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new QN(n,r));let s=this.qr.get(n);s===void 0&&(s=Zt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(){this.sessionToken=Lr.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.Qr=new Wn(Di.$r),this.Ur=new Wn(Di.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Di(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Di(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new bt(new pn([])),r=new Di(n,e),i=new Di(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new bt(new pn([])),r=new Di(n,e),i=new Di(n,e+1);let s=Zt();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new Di(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Di{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return bt.comparator(e.key,n.key)||Yt(e.Yr,n.Yr)}static Kr(e,n){return Yt(e.Yr,n.Yr)||bt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(Di.$r)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new JN(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Di(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ve.resolve(a)}lookupMutationBatch(e,n){return Ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?bu:this.tr-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Di(n,0),i=new Di(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),Ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(Yt);return n.forEach((i=>{const s=new Di(i,0),a=new Di(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),Ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;bt.isDocumentKey(s)||(s=s.child(""));const a=new Di(new bt(s),0);let o=new Wn(Yt);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)}),a),Ve.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ve.forEach(n.mutations,(i=>{const s=new Di(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Di(n,0),i=this.Zr.firstAfterOrEqual(r);return Ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e){this.ri=e,this.docs=(function(){return new Nr(bt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ve.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let r=ea();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cr.newInvalidDocument(i))})),Ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ea();const a=n.path,o=new bt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||ON(oV(u),r)<=0||(i.has(u.key)||lv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Et(9500)}ii(e,n){return Ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new bie(this)}getSize(e){return Ve.resolve(this.size)}}class bie extends DW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e){this.persistence=e,this.si=new bc((n=>gf(n)),av),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.oi=0,this._i=new ik,this.targetCount=0,this.ai=bf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ve.resolve()}updateTargetData(e,n){return this.Pr(n),Ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Ve.waitFor(s).next((()=>i))}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),Ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ve.resolve(r)}containsKey(e,n){return Ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qs(0),this.li=!1,this.li=!0,this.hi=new vie,this.referenceDelegate=e(this),this.Pi=new wie(this),this.indexManager=new aie,this.remoteDocumentCache=(function(i){return new _ie(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yW(n),this.Ii=new gie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new xie(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){lt("MemoryPersistence","Starting transaction:",e);const i=new Tie(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Tie extends cV{constructor(e){super(),this.currentSequenceNumber=e}}class bb{constructor(e){this.persistence=e,this.Ri=new ik,this.Vi=null}static mi(e){return new bb(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.fi,(r=>{const i=bt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ut.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ve.or([()=>Ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class n_{constructor(e,n){this.persistence=e,this.pi=new bc((r=>ys(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=SW(this,n)}static mi(e,n){return new n_(e,n)}Ei(){}di(e){return Ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Ut.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=a2(e.data.value)),n}br(e,n,r){return Ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(e){this.serializer=e}k(e,n,r,i){const s=new ub("createOrUpgrade",n);r<1&&i>=1&&((function(l){l.createObjectStore(sv)})(e),(function(l){l.createObjectStore(sy,{keyPath:Bne}),l.createObjectStore(Do,{keyPath:MP,autoIncrement:!0}).createIndex(Xd,UP,{unique:!0}),l.createObjectStore(Vp)})(e),C8(e),(function(l){l.createObjectStore(jd)})(e));let a=Ve.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore(qp),l.deleteObjectStore(Wp),l.deleteObjectStore(rf)})(e),C8(e)),a=a.next((()=>(function(l){const c=l.store(rf),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return c.put(X2,u)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(l,c){return c.store(Do).J().next((f=>{l.deleteObjectStore(Do),l.createObjectStore(Do,{keyPath:MP,autoIncrement:!0}).createIndex(Xd,UP,{unique:!0});const h=c.store(Do),p=f.map((v=>h.put(v)));return Ve.waitFor(p)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore(zp,{keyPath:Xne})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore(ay)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore(db,{keyPath:Jne})})(e),(function(l){l.createObjectStore(fb,{keyPath:Yne})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore(hb,{keyPath:ire});c.createIndex(RA,sre,{unique:!1}),c.createIndex(yV,are,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore(K2,{keyPath:Wne});c.createIndex(i2,qne),c.createIndex(hV,zne)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(jd)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore(BN,{keyPath:Qne,autoIncrement:!0}).createIndex(IA,Zne,{unique:!1}),l.createObjectStore(b0,{keyPath:ere}).createIndex(mV,tre,{unique:!1}),l.createObjectStore(w0,{keyPath:nre}).createIndex(gV,rre,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(b0).clear()})).next((()=>{n.objectStore(w0).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore(VN,{keyPath:ore})})(e)}))),r<18&&i>=18&&PB()&&(a=a.next((()=>{n.objectStore(b0).clear()})).next((()=>{n.objectStore(w0).clear()}))),a}wi(e){let n=0;return e.store(jd).ee(((r,i)=>{n+=t_(i)})).next((()=>{const r={byteSize:n};return e.store(ay).put(kA,r)}))}yi(e){const n=e.store(sy),r=e.store(Do);return n.J().next((i=>Ve.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,bu],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Xd,a).next((o=>Ve.forEach(o,(l=>{Rt(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=qd(this.serializer,l);return wW(e,s.userId,c).next((()=>{}))}))))}))))}Si(e){const n=e.store(qp),r=e.store(jd);return e.store(rf).get(X2).next((i=>{const s=[];return r.ee(((a,o)=>{const l=new pn(a),c=(function(f){return[0,ys(f)]})(l);s.push(n.get(c).next((u=>u?Ve.resolve():(f=>n.put({targetId:0,path:ys(f),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>Ve.waitFor(s)))}))}bi(e,n){e.createObjectStore(oy,{keyPath:Kne});const r=n.store(oy),i=new rk,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:ys(l)})}};return n.store(jd).ee({X:!0},((a,o)=>{const l=new pn(a);return s(l.popLast())})).next((()=>n.store(Vp).ee({X:!0},(([a,o,l],c)=>{const u=fl(o);return s(u.popLast())}))))}Di(e){const n=e.store(Wp);return n.ee(((r,i)=>{const s=u0(i),a=vW(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(jd),i=[];return r.ee(((s,a)=>{const o=n.store(K2),l=(function(f){return f.document?new bt(pn.fromString(f.document.name).popFirst(5)):f.noDocument?bt.fromSegments(f.noDocument.path):f.unknownDocument?bt.fromSegments(f.unknownDocument.path):Et(36783)})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>Ve.waitFor(i)))}Fi(e,n){const r=n.store(Do),i=AW(this.serializer),s=new sk(bb.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((l=>{let c=o.get(l.userId)??Zt();qd(this.serializer,l).keys().forEach((u=>c=c.add(u))),o.set(l.userId,c)})),Ve.forEach(o,((l,c)=>{const u=new ki(c),f=xb.wt(this.serializer,u),h=s.getIndexManager(u),p=_b.wt(u,this.serializer,h,s.referenceDelegate);return new NW(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new PA(n,Qs.ce),l).next()}))}))}}function C8(t){t.createObjectStore(qp,{keyPath:$ne}).createIndex(jN,Gne,{unique:!0}),t.createObjectStore(Wp,{keyPath:"targetId"}).createIndex(pV,Hne,{unique:!0}),t.createObjectStore(rf)}const nu="IndexedDbPersistence",WE=18e5,qE=5e3,zE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kW="main";class ak{constructor(e,n,r,i,s,a,o,l,c,u,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=c,this.Oi=u,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!ak.v())throw new it(Qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fie(this,i),this.$i=n+kW,this.serializer=new yW(l),this.Ui=new yl(this.$i,this.Ni,new Eie(this.serializer)),this.hi=new eie,this.Pi=new lie(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AW(this.serializer),this.Ii=new Zre,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&Kr(nu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new it(Qe.FAILED_PRECONDITION,zE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Qs(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>f1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Qu(e))return lt(nu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt(nu,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ug(e).get(zh).next((n=>Ve.resolve(this.es(n))))}ts(e){return f1(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,WE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=_i(n,zp);return r.J().next((i=>{const s=this.ss(i,WE),a=i.filter((o=>s.indexOf(o)===-1));return Ve.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Ve.resolve(!0):Ug(e).get(zh).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,qE)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new it(Qe.FAILED_PRECONDITION,zE);return!1}}return!(!this.networkEnabled||!this.inForeground)||f1(e).J().next((r=>this.ss(r,qE).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&lt(nu,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[sv,zp],(e=>{const n=new PA(e,Qs.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>f1(e).J().next((n=>this.ss(n,WE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return _b.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oie(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return xb.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){lt(nu,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(l){return l===18?ure:l===17?bV:l===16?cre:l===15?WN:l===14?_V:l===13?xV:l===12?lre:l===11?vV:void Et(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new PA(o,this.ci?this.ci.next():Qs.ce),n==="readwrite-primary"?this.Hi(a).next((l=>!!l||this.Yi(a))).next((l=>{if(!l)throw Kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new it(Qe.FAILED_PRECONDITION,lV);return r(a)})).next((l=>this.Xi(a).next((()=>l)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Ug(e).get(zh).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,qE)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new it(Qe.FAILED_PRECONDITION,zE)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ug(e).put(zh,n)}static v(){return yl.v()}Zi(e){const n=Ug(e);return n.get(zh).next((r=>this.es(r)?(lt(nu,"Releasing primary lease."),n.delete(zh)):Ve.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Kr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;RB()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return lt(nu,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kr(nu,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Kr("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ug(t){return _i(t,sv)}function f1(t){return _i(t,zp)}function ok(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Zt(),i=Zt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lk(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RB()?8:uV(Ar())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Cie;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ip()<=dn.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",sp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ve.resolve()):(ip()<=dn.DEBUG&&lt("QueryEngine","Query:",sp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ip()<=dn.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",sp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(n))):Ve.resolve())}ys(e,n){if(XP(n))return Ve.resolve(null);let r=Fs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Q2(n,null,"F"),r=Fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=Zt(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,Q2(n,null,"F")):this.vs(e,c,n,l)}))))})))))}ws(e,n,r,i){return XP(n)||i.isEqual(Ut.min())?Ve.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?Ve.resolve(null):(ip()<=dn.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sp(n)),this.vs(e,a,n,aV(i,Bp)).next((o=>o)))}))}Ds(e,n){let r=new Wn(WV(e));return n.forEach(((i,s)=>{lv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ip()<=dn.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",sp(n)),this.ps.getDocumentsMatchingQuery(e,n,Da.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="LocalStore",Sie=3e8;class Die{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Nr(Yt),this.xs=new bc((s=>gf(s)),av),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RW(t,e,n,r){return new Die(t,e,n,r)}async function PW(t,e){const n=wt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let l=Zt();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next((c=>({Ls:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function Aie(t,e){const n=wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const f=c.batch,h=f.keys();let p=Ve.resolve();return h.forEach((v=>{p=p.next((()=>u.getEntry(l,v))).next((g=>{const y=c.docVersions.get(v);Rt(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))}))})),p.next((()=>o.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let l=Zt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function FW(t){const e=wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Nie(t,e){const n=wt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(s,u.addedDocuments,f))));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Lr.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),(function(g,y,b){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Sie?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0})(h,p,u)&&o.push(n.Pi.updateTargetData(s,p))}));let l=ea(),c=Zt();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(MW(s,a,e.documentUpdates).next((u=>{l=u.ks,c=u.qs}))),!r.isEqual(Ut.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next((f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(u)}return Ve.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function MW(t,e,n){let r=Zt(),i=Zt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=ea();return n.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ut.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):lt(ck,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function kie(t,e){const n=wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Yp(t,e){const n=wt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ve.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Jl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Qp(t,e,n){const r=wt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Qu(a))throw a;lt(ck,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function r_(t,e,n){const r=wt(t);let i=Ut.min(),s=Zt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const f=wt(l),h=f.xs.get(u);return h!==void 0?Ve.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)})(r,a,Fs(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Ut.min(),n?s:Zt()))).next((o=>(LW(r,VV(e),o),{documents:o,Qs:s})))))}function UW(t,e){const n=wt(t),r=wt(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function OW(t,e){const n=wt(t),r=n.Os.get(e)||Ut.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,aV(r,Bp),Number.MAX_SAFE_INTEGER))).then((i=>(LW(n,e,i),i)))}function LW(t,e,n){let r=t.Os.get(e)||Ut.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}async function Iie(t,e,n,r){const i=wt(t);let s=Zt(),a=ea();for(const c of n){const u=e.$s(c.metadata.name);c.document&&(s=s.add(u));const f=e.Us(c);f.setReadTime(e.Ks(c.metadata.readTime)),a=a.insert(u,f)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await Yp(i,(function(u){return Fs(Cm(pn.fromString(`__bundle__/docs/${u}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>MW(c,o,a).next((u=>(o.apply(c),u))).next((u=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Pi.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,u.ks,u.qs))).next((()=>u.ks))))))}async function Rie(t,e,n=Zt()){const r=await Yp(t,Fs(tk(e.bundledQuery))),i=wt(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Xr(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ii.saveNamedQuery(s,e);const o=r.withResumeToken(Lr.EMPTY_BYTE_STRING,a);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(s,o).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW="firestore_clients";function S8(t,e){return`${jW}_${t}_${e}`}const BW="firestore_mutations";function D8(t,e,n){let r=`${BW}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const VW="firestore_targets";function HE(t,e){return`${VW}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="SharedClientState";class i_{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new it(i.error.code,i.error.message))),a?new i_(e,n,i.state,s):(Kr(al,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class S0{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new it(r.error.code,r.error.message))),s?new S0(e,r.state,i):(Kr(al,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class s_{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=GN();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=dV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new s_(e,s):(Kr(al,`Failed to parse client data for instance '${e}': ${n}`),null)}}class uk{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new uk(n.clientId,n.onlineState):(Kr(al,`Failed to parse online state: ${e}`),null)}}class XA{constructor(){this.activeTargetIds=GN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $E{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Nr(Yt),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=S8(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new XA),this.ro=new RegExp(`^${jW}_${a}_([^_]*)$`),this.io=new RegExp(`^${BW}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${VW}_${a}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(S8(this.persistenceKey,r));if(i){const s=s_.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(HE(this.persistenceKey,e));if(i){const s=S0.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(HE(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return lt(al,"READ",e,n),n}setItem(e,n){lt(al,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){lt(al,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(lt(al,"EVENT",n.key,n.newValue),n.key===this.eo)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let a=Qs.ce;if(s!=null)try{const o=JSON.parse(s);Rt(typeof o=="number",30636,{So:s}),a=o}catch(o){Kr(al,"Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==Qs.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new i_(this.currentUser,e,n,r),s=D8(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=D8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=HE(this.persistenceKey,e),s=new S0(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return s_.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return i_.Ws(new ki(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return S0.Ws(i,n)}uo(e){return uk.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);lt(al,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.Fo(a,o).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=GN();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class WW{constructor(){this.Mo=new XA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="ConnectivityMonitor";class N8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(A8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(A8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h1=null;function JA(){return h1===null?h1=(function(){return 268435456+Math.round(2147483648*Math.random())})():h1++,"0x"+h1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="RestConnection",Fie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mie{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===MA?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=JA(),o=this.zo(e,n.toUriEncodedString());lt(GE,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=Nl(c);return this.Jo(e,o,l,r,u).then((f=>(lt(GE,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw Tl(GE,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Em})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Fie[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="WebChannelConnection";class Oie extends Mie{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=JA();return new Promise(((o,l)=>{const c=new XB;c.setWithCredentials(!0),c.listenOnce(JB.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case t2.NO_ERROR:const f=c.getResponseJson();lt(ns,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case t2.TIMEOUT:lt(ns,`RPC '${e}' ${a} timed out`),l(new it(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case t2.HTTP_ERROR:const h=c.getStatus();if(lt(ns,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=(function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(x)>=0?x:Qe.UNKNOWN})(v.status);l(new it(g,v.message))}else l(new it(Qe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new it(Qe.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{lt(ns,`RPC '${e}' ${a} completed.`)}}));const u=JSON.stringify(i);lt(ns,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)}))}T_(e,n,r){const i=JA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ZB(),o=QB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");lt(ns,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);this.I_(f);let h=!1,p=!1;const v=new Uie({Yo:y=>{p?lt(ns,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(lt(ns,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),lt(ns,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,b,x)=>{y.listen(b,(w=>{try{x(w)}catch(E){setTimeout((()=>{throw E}),0)}}))};return g(f,o0.EventType.OPEN,(()=>{p||(lt(ns,`RPC '${e}' stream ${i} transport opened.`),v.o_())})),g(f,o0.EventType.CLOSE,(()=>{p||(p=!0,lt(ns,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))})),g(f,o0.EventType.ERROR,(y=>{p||(p=!0,Tl(ns,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new it(Qe.UNAVAILABLE,"The operation could not be completed")))})),g(f,o0.EventType.MESSAGE,(y=>{var b;if(!p){const x=y.data[0];Rt(!!x,16349);const w=x,E=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(E){lt(ns,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let R=(function(I){const F=ii[I];if(F!==void 0)return tW(F)})(S),D=E.message;R===void 0&&(R=Qe.INTERNAL,D="Unknown error status: "+S+" with message "+E.message),p=!0,v.a_(new it(R,D)),f.close()}else lt(ns,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}})),g(o,YB.STAT_EVENT,(y=>{y.stat===DA.PROXY?lt(ns,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===DA.NOPROXY&&lt(ns,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(){return typeof window<"u"?window:null}function d2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){return new Wre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="PersistentStream";class zW{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Qe.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new it(Qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(k8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(lt(k8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lie extends zW{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Hre(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ut.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ut.min():a.readTime?Xr(a.readTime):Ut.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=zA(this.serializer),n.addTarget=(function(s,a){let o;const l=a.target;if(o=J2(l)?{documents:dW(s,l)}:{query:fW(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=sW(s,a.resumeToken);const c=WA(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Ut.min())>0){o.readTime=Jp(s,a.snapshotVersion.toTimestamp());const c=WA(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=Gre(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=zA(this.serializer),n.removeTarget=e,this.q_(n)}}class jie extends zW{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$re(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>hy(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{}class Vie extends Bie{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new it(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,qA(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Qe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,qA(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(Qe.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RemoteStore";class qie{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{ed(this)&&(lt(wf,"Restarting streams for network reachability change."),await(async function(l){const c=wt(l);c.Ea.add(4),await Am(c),c.Ra.set("Unknown"),c.Ea.delete(4),await hv(c)})(this))}))})),this.Ra=new Wie(r,i)}}async function hv(t){if(ed(t))for(const e of t.da)await e(!0)}async function Am(t){for(const e of t.da)await e(!1)}function wb(t,e){const n=wt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pk(n)?hk(n):km(n).O_()&&fk(n,e))}function Zp(t,e){const n=wt(t),r=km(n);n.Ia.delete(e),r.O_()&&HW(n,e),n.Ia.size===0&&(r.O_()?r.L_():ed(n)&&n.Ra.set("Unknown"))}function fk(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}km(t).Y_(e)}function HW(t,e){t.Va.Ue(e),km(t).Z_(e)}function hk(t){t.Va=new Lre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),km(t).start(),t.Ra.ua()}function pk(t){return ed(t)&&!km(t).x_()&&t.Ia.size>0}function ed(t){return wt(t).Ea.size===0}function $W(t){t.Va=void 0}async function zie(t){t.Ra.set("Online")}async function Hie(t){t.Ia.forEach(((e,n)=>{fk(t,e)}))}async function $ie(t,e){$W(t),pk(t)?(t.Ra.ha(e),hk(t)):t.Ra.set("Unknown")}async function Gie(t,e,n){if(t.Ra.set("Online"),e instanceof iW&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){lt(wf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await a_(t,r)}else if(e instanceof c2?t.Va.Ze(e):e instanceof rW?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ut.min()))try{const r=await FW(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Lr.EMPTY_BYTE_STRING,u.snapshotVersion)),HW(s,l);const f=new Jl(u.target,l,c,u.sequenceNumber);fk(s,f)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){lt(wf,"Failed to raise snapshot:",r),await a_(t,r)}}async function a_(t,e,n){if(!Qu(e))throw e;t.Ea.add(1),await Am(t),t.Ra.set("Offline"),n||(n=()=>FW(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{lt(wf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hv(t)}))}function GW(t,e){return e().catch((n=>a_(t,n,e)))}async function Nm(t){const e=wt(t),n=Ou(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bu;for(;Kie(e);)try{const i=await kie(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Xie(e,i)}catch(i){await a_(e,i)}KW(e)&&XW(e)}function Kie(t){return ed(t)&&t.Ta.length<10}function Xie(t,e){t.Ta.push(e);const n=Ou(t);n.O_()&&n.X_&&n.ea(e.mutations)}function KW(t){return ed(t)&&!Ou(t).x_()&&t.Ta.length>0}function XW(t){Ou(t).start()}async function Jie(t){Ou(t).ra()}async function Yie(t){const e=Ou(t);for(const n of t.Ta)e.ea(n.mutations)}async function Qie(t,e,n){const r=t.Ta.shift(),i=YN.from(r,e,n);await GW(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Nm(t)}async function Zie(t,e){e&&Ou(t).X_&&await(async function(r,i){if((function(a){return eW(a)&&a!==Qe.ABORTED})(i.code)){const s=r.Ta.shift();Ou(r).B_(),await GW(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Nm(r)}})(t,e),KW(t)&&XW(t)}async function I8(t,e){const n=wt(t);n.asyncQueue.verifyOperationInProgress(),lt(wf,"RemoteStore received new credentials");const r=ed(n);n.Ea.add(3),await Am(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hv(n)}async function YA(t,e){const n=wt(t);e?(n.Ea.delete(2),await hv(n)):e||(n.Ea.add(2),await Am(n),n.Ra.set("Unknown"))}function km(t){return t.ma||(t.ma=(function(n,r,i){const s=wt(n);return s.sa(),new Lie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:zie.bind(null,t),t_:Hie.bind(null,t),r_:$ie.bind(null,t),H_:Gie.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),pk(t)?hk(t):t.Ra.set("Unknown")):(await t.ma.stop(),$W(t))}))),t.ma}function Ou(t){return t.fa||(t.fa=(function(n,r,i){const s=wt(n);return s.sa(),new jie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Jie.bind(null,t),r_:Zie.bind(null,t),ta:Yie.bind(null,t),na:Qie.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Nm(t)):(await t.fa.stop(),t.Ta.length>0&&(lt(wf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new mk(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),Qu(t))return new it(Qe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{static emptySet(e){return new _p(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||bt.comparator(n.key,r.key):(n,r)=>bt.comparator(n.key,r.key),this.keyedMap=l0(),this.sortedSet=new Nr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _p)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _p;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.ga=new Nr(bt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class em{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new em(e,n,_p.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tse{constructor(){this.queries=P8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=wt(n),s=i.queries;i.queries=P8(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(r)}))})(this,new it(Qe.ABORTED,"Firestore shutting down"))}}function P8(){return new bc((t=>BV(t)),ov)}async function gk(t,e){const n=wt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new ese,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Im(a,`Initialization of query '${sp(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&vk(n)}async function yk(t,e){const n=wt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nse(t,e){const n=wt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&vk(n)}function rse(t,e,n){const r=wt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function vk(t){t.Ca.forEach((e=>{e.next()}))}var QA,F8;(F8=QA||(QA={})).Ma="default",F8.Cache="cache";class xk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new em(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==QA.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.serializer=e}$s(e){return vl(this.serializer,e)}Us(e){return e.metadata.exists?uW(this.serializer,e.document,!1):cr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Xr(e)}}class sse{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=JW(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=pn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new M8(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||Zt()).add(s);n.set(a,o)}}return n}async ja(e){const n=await Iie(e,new M8(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Rie(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function JW(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.key=e}}class QW{constructor(e){this.key=e}}class ZW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zt(),this.mutatedKeys=Zt(),this.eu=WV(e),this.tu=new _p(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new R8,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const h=i.get(u),p=lv(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(a=a.add(p),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((u,f)=>(function(p,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:y})}};return g(p)-g(v)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new em(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new QW(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new YW(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Zt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return em.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const td="SyncEngine";class ase{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ose{constructor(e){this.key=e,this.hu=!1}}class lse{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new bc((o=>BV(o)),ov),this.Iu=new Map,this.Eu=new Set,this.du=new Nr(bt.comparator),this.Au=new Map,this.Ru=new ik,this.Vu={},this.mu=new Map,this.fu=bf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cse(t,e,n=!0){const r=Tb(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await eq(r,e,n,!0),i}async function use(t,e){const n=Tb(t);await eq(n,e,!0,!1)}async function eq(t,e,n,r){const i=await Yp(t.localStore,Fs(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await _k(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&wb(t.remoteStore,i),o}async function _k(t,e,n,r,i){t.pu=(f,h,p)=>(async function(g,y,b,x){let w=y.view.ru(b);w.Cs&&(w=await r_(g.localStore,y.query,!1).then((({documents:D})=>y.view.ru(D,w))));const E=x&&x.targetChanges.get(y.targetId),S=x&&x.targetMismatches.get(y.targetId)!=null,R=y.view.applyChanges(w,g.isPrimaryClient,E,S);return ZA(g,y.targetId,R.au),R.snapshot})(t,f,h,p);const s=await r_(t.localStore,e,!0),a=new ZW(e,s.Qs),o=a.ru(s.documents),l=dv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);ZA(t,n,c.au);const u=new ase(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function dse(t,e,n){const r=wt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!ov(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zp(r.remoteStore,i.targetId),tm(r,i.targetId)})).catch(Yu)):(tm(r,i.targetId),await Qp(r.localStore,i.targetId,!0))}async function fse(t,e){const n=wt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zp(n.remoteStore,r.targetId))}async function hse(t,e,n){const r=Ek(t);try{const i=await(function(a,o){const l=wt(a),c=Rn.now(),u=o.reduce(((p,v)=>p.add(v.key)),Zt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let v=ea(),g=Zt();return l.Ns.getEntries(p,u).next((y=>{v=y,v.forEach(((b,x)=>{x.isValidDocument()||(g=g.add(b))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,v))).next((y=>{f=y;const b=[];for(const x of o){const w=Mre(x,f.get(x.key).overlayedDocument);w!=null&&b.push(new wc(x.key,w,IV(w.value.mapValue),vr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,o)})).next((y=>{h=y;const b=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,b)}))})).then((()=>({batchId:h.batchId,changes:zV(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Nr(Yt)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c})(r,i.batchId,n),await Tc(r,i.changes),await Nm(r.remoteStore)}catch(i){const s=Im(i,"Failed to persist write");n.reject(s)}}async function tq(t,e){const n=wt(t);try{const r=await Nie(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Rt(a.hu,14607):i.removedDocuments.size>0&&(Rt(a.hu,42227),a.hu=!1))})),await Tc(n,r,e)}catch(r){await Yu(r)}}function U8(t,e,n){const r=wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=wt(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)})),c&&vk(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pse(t,e,n){const r=wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Nr(bt.comparator);a=a.insert(s,cr.newNoDocument(s,Ut.min()));const o=Zt().add(s),l=new uv(Ut.min(),new Map,new Nr(Yt),a,o);await tq(r,l),r.du=r.du.remove(s),r.Au.delete(e),Tk(r)}else await Qp(r.localStore,e,!1).then((()=>tm(r,e,n))).catch(Yu)}async function mse(t,e){const n=wt(t),r=e.batch.batchId;try{const i=await Aie(n.localStore,e);wk(n,r,null),bk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,i)}catch(i){await Yu(i)}}async function gse(t,e,n){const r=wt(t);try{const i=await(function(a,o){const l=wt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((f=>(Rt(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(r.localStore,e);wk(r,e,n),bk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tc(r,i)}catch(i){await Yu(i)}}async function yse(t,e){const n=wt(t);ed(n.remoteStore)||lt(td,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=wt(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(n.localStore);if(r===bu)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Im(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function bk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wk(t,e,n){const r=wt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||nq(t,r)}))}function nq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Tk(t))}function ZA(t,e,n){for(const r of n)r instanceof YW?(t.Ru.addReference(r.key,e),vse(t,r)):r instanceof QW?(lt(td,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||nq(t,r.key)):Et(19791,{wu:r})}function vse(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(lt(td,"New document in limbo: "+n),t.Eu.add(r),Tk(t))}function Tk(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new bt(pn.fromString(e)),r=t.fu.next();t.Au.set(r,new ose(n)),t.du=t.du.insert(n,r),wb(t.remoteStore,new Jl(Fs(Cm(n.path)),r,"TargetPurposeLimboResolution",Qs.ce))}}async function Tc(t,e,n){const r=wt(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,l)=>{a.push(r.pu(l,e,n).then((c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=lk.As(l.targetId,c);s.push(f)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(l,c){const u=wt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>Ve.forEach(c,(h=>Ve.forEach(h.Es,(p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p))).next((()=>Ve.forEach(h.ds,(p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))))))}catch(f){if(!Qu(f))throw f;lt(ck,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ms.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(h,g)}}})(r.localStore,s))}async function xse(t,e){const n=wt(t);if(!n.currentUser.isEqual(e)){lt(td,"User change. New user:",e.toKey());const r=await PW(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new it(Qe.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.Ls)}}function _se(t,e){const n=wt(t),r=n.Au.get(e);if(r&&r.hu)return Zt().add(r.key);{let i=Zt();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function bse(t,e){const n=wt(t),r=await r_(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&ZA(n,e.targetId,i.au),i}async function wse(t,e){const n=wt(t);return OW(n.localStore,e).then((r=>Tc(n,r)))}async function Tse(t,e,n,r){const i=wt(t),s=await(function(o,l){const c=wt(o),u=wt(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(f=>u.er(f,l).next((h=>h?c.localDocuments.getDocuments(f,h):Ve.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Nm(i.remoteStore):n==="acknowledged"||n==="rejected"?(wk(i,e,r||null),bk(i,e),(function(o,l){wt(wt(o).mutationQueue).ir(l)})(i.localStore,e)):Et(6720,"Unknown batchState",{Su:n}),await Tc(i,s)):lt(td,"Cannot apply mutation batch with id: "+e)}async function Ese(t,e){const n=wt(t);if(Tb(n),Ek(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await O8(n,r.toArray());n.gu=!0,await YA(n.remoteStore,!0);for(const s of i)wb(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(tm(n,a),Qp(n.localStore,a,!0)))),Zp(n.remoteStore,a)})),await i,await O8(n,r),(function(a){const o=wt(a);o.Au.forEach(((l,c)=>{Zp(o.remoteStore,c)})),o.Ru.Jr(),o.Au=new Map,o.du=new Nr(bt.comparator)})(n),n.gu=!1,await YA(n.remoteStore,!1)}}async function O8(t,e,n){const r=wt(t),i=[],s=[];for(const a of e){let o;const l=r.Iu.get(a);if(l&&l.length!==0){o=await Yp(r.localStore,Fs(l[0]));for(const c of l){const u=r.Tu.get(c),f=await bse(r,u);f.snapshot&&s.push(f.snapshot)}}else{const c=await UW(r.localStore,a);o=await Yp(r.localStore,c),await _k(r,rq(c),a,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(s),i}function rq(t){return jV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cse(t){return(function(n){return wt(wt(n).persistence).Ts()})(wt(t).localStore)}async function Sse(t,e,n,r){const i=wt(t);if(i.gu)return void lt(td,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await OW(i.localStore,VV(s[0])),o=uv.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Lr.EMPTY_BYTE_STRING);await Tc(i,a,o);break}case"rejected":await Qp(i.localStore,e,!0),tm(i,e,r);break;default:Et(64155,n)}}async function Dse(t,e,n){const r=Tb(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){lt(td,"Adding an already active target "+i);continue}const s=await UW(r.localStore,i),a=await Yp(r.localStore,s);await _k(r,rq(s),a.targetId,!1,a.resumeToken),wb(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await Qp(r.localStore,i,!1).then((()=>{Zp(r.remoteStore,i),tm(r,i)})).catch(Yu)}}function Tb(t){const e=wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_se.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pse.bind(null,e),e.Pu.H_=nse.bind(null,e.eventManager),e.Pu.yu=rse.bind(null,e.eventManager),e}function Ek(t){const e=wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gse.bind(null,e),e}function Ase(t,e,n){const r=wt(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(p,v){const g=wt(p),y=Xr(v.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",(b=>g.Ii.getBundleMetadata(b,v.id))).then((b=>!!b&&b.createTime.compareTo(y)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(JW(l));const c=new sse(l,a.serializer);let u=await a.bu();for(;u;){const h=await c.Ga(u);h&&o._updateProgress(h),u=await a.bu()}const f=await c.ja(s.localStore);return await Tc(s,f.Ha,void 0),await(function(p,v){const g=wt(p);return g.persistence.runTransaction("Save bundle","readwrite",(y=>g.Ii.saveBundleMetadata(y,v)))})(s.localStore,l),o._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return Tl(td,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class py{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RW(this.persistence,new IW,e.initialUser,this.serializer)}Cu(e){return new sk(bb.mi,this.serializer)}Du(e){return new WW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}py.provider={build:()=>new py};class Nse extends py{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Rt(this.persistence.referenceDelegate instanceof n_,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new sk((r=>n_.mi(r,n)),this.serializer)}}class iq extends py{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Ek(this.xu.syncEngine),await Nm(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return RW(this.persistence,new IW,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new CW(r,e.asyncQueue,n)}Mu(e,n){const r=new Lne(n,this.persistence);return new One(e.asyncQueue,r)}Cu(e){const n=ok(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new ak(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,qW(),d2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new WW}}class kse extends iq{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof $E&&(this.sharedClientState.syncEngine={Co:Tse.bind(null,n),vo:Sse.bind(null,n),Fo:Dse.bind(null,n),Ts:Cse.bind(null,n),Do:wse.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await Ese(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=qW();if(!$E.v(n))throw new it(Qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ok(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $E(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class my{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xse.bind(null,this.syncEngine),await YA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tse})()}createDatastore(e){const n=fv(e.databaseInfo.databaseId),r=(function(s){return new Oie(s)})(e.databaseInfo);return(function(s,a,o,l){return new Vie(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new qie(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>U8(this.syncEngine,n,0)),(function(){return N8.v()?new N8:new Pie})())}createSyncEngine(e,n){return(function(i,s,a,o,l,c,u){const f=new lse(i,s,a,o,l,c);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=wt(i);lt(wf,"RemoteStore shutting down."),s.Ea.add(5),await Am(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}my.provider={build:()=>new my};function L8(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Ki,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new ise(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new it(Qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=wt(i),o={documents:s.map((f=>fy(a.serializer,f)))},l=await a.Ho("BatchGetDocuments",a.serializer.databaseId,pn.emptyPath(),o,s.length),c=new Map;l.forEach((f=>{const h=zre(a.serializer,f);c.set(h.key.toString(),h)}));const u=[];return s.forEach((f=>{const h=c.get(f.toString());Rt(!!h,55234,{key:f}),u.push(h)})),u})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=bt.fromPath(r);this.mutations.push(new XN(i,this.precondition(i)))})),await(async function(r,i){const s=wt(r),a={writes:i.map((o=>hy(s.serializer,o)))};await s.Go("Commit",s.serializer.databaseId,pn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Et(50498,{Gu:e.constructor.name});n=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new it(Qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ut.min())?vr.exists(!1):vr.updateTime(n):vr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ut.min()))throw new it(Qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(n)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new dk(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Rse(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!iv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!eW(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="FirestoreClient";class Fse{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ki.UNAUTHENTICATED,this.clientId=MN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{lt(Lu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(lt(Lu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Im(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function KE(t,e){t.asyncQueue.verifyOperationInProgress(),lt(Lu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await PW(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function j8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ck(t);lt(Lu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>I8(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>I8(e.remoteStore,i))),t._onlineComponents=e}async function Ck(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){lt(Lu,"Using user provided OfflineComponentProvider");try{await KE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Qe.FAILED_PRECONDITION||i.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await KE(t,new py)}}else lt(Lu,"Using default OfflineComponentProvider"),await KE(t,new Nse(void 0));return t._offlineComponents}async function Cb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(lt(Lu,"Using user provided OnlineComponentProvider"),await j8(t,t._uninitializedComponentsProvider._online)):(lt(Lu,"Using default OnlineComponentProvider"),await j8(t,new my))),t._onlineComponents}function sq(t){return Ck(t).then((e=>e.persistence))}function Sk(t){return Ck(t).then((e=>e.localStore))}function aq(t){return Cb(t).then((e=>e.remoteStore))}function Dk(t){return Cb(t).then((e=>e.syncEngine))}function Mse(t){return Cb(t).then((e=>e.datastore))}async function nm(t){const e=await Cb(t),n=e.eventManager;return n.onListen=cse.bind(null,e.syncEngine),n.onUnlisten=dse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=use.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fse.bind(null,e.syncEngine),n}function Use(t){return t.asyncQueue.enqueue((async()=>{const e=await sq(t),n=await aq(t);return e.setNetworkEnabled(!0),(function(i){const s=wt(i);return s.Ea.delete(0),hv(s)})(n)}))}function Ose(t){return t.asyncQueue.enqueue((async()=>{const e=await sq(t),n=await aq(t);return e.setNetworkEnabled(!1),(async function(i){const s=wt(i);s.Ea.add(0),await Am(s),s.Ra.set("Offline")})(n)}))}function Lse(t,e){const n=new Ki;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,u){const f=wt(c);return f.persistence.runTransaction("read document","readonly",(h=>f.localDocuments.getDocument(h,u)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new it(Qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Im(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await Sk(t),e,n))),n.promise}function oq(t,e,n={}){const r=new Ki;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new Eb({next:h=>{u.Nu(),a.enqueueAndForget((()=>yk(s,f)));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new it(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new it(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new xk(Cm(o.path),u,{includeMetadataChanges:!0,qa:!0});return gk(s,f)})(await nm(t),t.asyncQueue,e,n,r))),r.promise}function jse(t,e){const n=new Ki;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await r_(i,s,!0),l=new ZW(s,o.Qs),c=l.ru(o.documents),u=l.applyChanges(c,!1);a.resolve(u.snapshot)}catch(o){const l=Im(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await Sk(t),e,n))),n.promise}function lq(t,e,n={}){const r=new Ki;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new Eb({next:h=>{u.Nu(),a.enqueueAndForget((()=>yk(s,f))),h.fromCache&&l.source==="server"?c.reject(new it(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new xk(o,u,{includeMetadataChanges:!0,qa:!0});return gk(s,f)})(await nm(t),t.asyncQueue,e,n,r))),r.promise}function Bse(t,e){const n=new Eb(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){wt(i).Ca.add(s),s.next()})(await nm(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){wt(i).Ca.delete(s)})(await nm(t),n)))}}function Vse(t,e,n,r){const i=(function(a,o){let l;return l=typeof a=="string"?nW().encode(a):a,(function(u,f){return new Ise(u,f)})((function(u,f){if(u instanceof Uint8Array)return L8(u,f);if(u instanceof ArrayBuffer)return L8(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(n,fv(e));t.asyncQueue.enqueueAndForget((async()=>{Ase(await Dk(t),i,r)}))}function Wse(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=wt(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Ii.getNamedQuery(a,i)))})(await Sk(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="firestore.googleapis.com",V8=!0;class W8{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uq,this.ssl=V8}else this.host=e.host,this.ssl=e.ssl??V8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cie)throw new it(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W8(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Cne;switch(r.type){case"firstParty":return new Nne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=B8.get(n);r&&(lt("ComponentProvider","Removing Datastore"),B8.delete(n),r.terminate())})(this),Promise.resolve()}}function qse(t,e,n,r={}){var c;t=Dn(t,pv);const i=Nl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(ib(`https://${o}`),sb("Firestore",!0)),s.host!==uq&&s.host!==o&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!uc(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=ki.MOCK_USER;else{u=CN(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new it(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ki(h)}t._authCredentials=new Sne(new tV(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls=class dq{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dq(this.firestore,e,this._query)}},er=class d0{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new d0(this.firestore,e,this._key)}toJSON(){return{type:d0._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rv(n,d0._jsonSchema))return new d0(e,r||null,new bt(pn.fromString(n.referencePath)))}};er._jsonSchemaVersion="firestore/documentReference/1.0",er._jsonSchema={type:li("string",er._jsonSchemaVersion),referencePath:li("string")};let Tu=class fq extends Ls{constructor(e,n,r){super(e,n,Cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new bt(e))}withConverter(e){return new fq(this.firestore,e,this._path)}};function hq(t,e,...n){if(t=St(t),UN("collection","path",e),t instanceof pv){const r=pn.fromString(e,...n);return kP(r),new Tu(t,null,r)}{if(!(t instanceof er||t instanceof Tu))throw new it(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return kP(r),new Tu(t.firestore,null,r)}}function zse(t,e){if(t=Dn(t,pv),UN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new it(Qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ls(t,null,(function(r){return new _c(pn.emptyPath(),r)})(e))}function o_(t,e,...n){if(t=St(t),arguments.length===1&&(e=MN.newId()),UN("doc","path",e),t instanceof pv){const r=pn.fromString(e,...n);return NP(r),new er(t,null,new bt(r))}{if(!(t instanceof er||t instanceof Tu))throw new it(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pn.fromString(e,...n));return NP(r),new er(t.firestore,t instanceof Tu?t.converter:null,new bt(r))}}function pq(t,e){return t=St(t),e=St(e),(t instanceof er||t instanceof Tu)&&(e instanceof er||e instanceof Tu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function mq(t,e){return t=St(t),e=St(e),t instanceof Ls&&e instanceof Ls&&t.firestore===e.firestore&&ov(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="AsyncQueue";class z8{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dk(this,"async_queue_retry"),this._c=()=>{const r=d2();r&&lt(q8,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=d2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=d2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qu(e))throw e;lt(q8,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",H8(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mk.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Et(47125,{Pc:H8(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function H8(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Hse{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $se=-1;let Qr=class extends pv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new z8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z8(e),this._firestoreClient=void 0,await e}}};function ws(t){if(t._terminated)throw new it(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gq(t),t._firestoreClient}function gq(t){var r,i,s;const e=t._freezeSettings(),n=(function(o,l,c,u){return new hre(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cq(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Fse(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}function Gse(t,e){Tl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return yq(t,my.provider,{build:r=>new iq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Kse(t){Tl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();yq(t,my.provider,{build:n=>new kse(n,e.cacheSizeBytes)})}function yq(t,e,n){if((t=Dn(t,Qr))._firestoreClient||t._terminated)throw new it(Qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new it(Qe.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},gq(t)}function Xse(t){if(t._initialized&&!t._terminated)throw new it(Qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ki;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!yl.v())return Promise.resolve();const i=r+kW;await yl.delete(i)})(ok(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function Jse(t){return(function(n){const r=new Ki;return n.asyncQueue.enqueueAndForget((async()=>yse(await Dk(n),r))),r.promise})(ws(t=Dn(t,Qr)))}function Yse(t){return Use(ws(t=Dn(t,Qr)))}function Qse(t){return Ose(ws(t=Dn(t,Qr)))}function Zse(t,e){const n=ws(t=Dn(t,Qr)),r=new Hse;return Vse(n,t._databaseId,e,r),r}function eae(t,e){return Wse(ws(t=Dn(t,Qr)),e).then((n=>n?new Ls(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fs(Lr.fromBase64String(e))}catch(n){throw new it(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fs(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rv(e,fs._jsonSchema))return fs.fromBase64String(e.bytes)}}fs._jsonSchemaVersion="firestore/bytes/1.0",fs._jsonSchema={type:li("string",fs._jsonSchemaVersion),bytes:li("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new it(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new it(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new it(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Po._jsonSchemaVersion}}static fromJSON(e){if(rv(e,Po._jsonSchema))return new Po(e.latitude,e.longitude)}}Po._jsonSchemaVersion="firestore/geoPoint/1.0",Po._jsonSchema={type:li("string",Po._jsonSchemaVersion),latitude:li("number"),longitude:li("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rv(e,xl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xl(e.vectorValues);throw new it(Qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xl._jsonSchemaVersion="firestore/vectorValue/1.0",xl._jsonSchema={type:li("string",xl._jsonSchemaVersion),vectorValues:li("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tae=/^__.*__$/;class nae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sm(e,this.data,n,this.fieldTransforms)}}class vq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:t})}}class Sb{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return l_(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xq(this.Ac)&&tae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fv(e)}Cc(e,n,r,i=!1){return new Sb({Ac:e,methodName:n,Dc:r,path:yr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zf(t){const e=t._freezeSettings(),n=fv(t._databaseId);return new rae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Db(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Fk("Data must be an object, but it was:",a,r);const o=wq(r,a);let l,c;if(s.merge)l=new Zs(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=t4(e,f,n);if(!a.contains(h))throw new it(Qe.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Eq(u,h)||u.push(h)}l=new Zs(u),c=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,c=a.fieldTransforms;return new nae(new $i(o),l,c)}class mv extends qf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mv}}function _q(t,e,n){return new Sb({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ak extends qf{_toFieldTransform(e){return new cv(e.path,new Kp)}isEqual(e){return e instanceof Ak}}class Nk extends qf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_q(this,e,!0),r=this.vc.map((s=>Hf(s,n))),i=new yf(r);return new cv(e.path,i)}isEqual(e){return e instanceof Nk&&uc(this.vc,e.vc)}}class kk extends qf{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_q(this,e,!0),r=this.vc.map((s=>Hf(s,n))),i=new vf(r);return new cv(e.path,i)}isEqual(e){return e instanceof kk&&uc(this.vc,e.vc)}}class Ik extends qf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Xp(e.serializer,GV(e.serializer,this.Fc));return new cv(e.path,n)}isEqual(e){return e instanceof Ik&&this.Fc===e.Fc}}function Rk(t,e,n,r){const i=t.Cc(1,e,n);Fk("Data must be an object, but it was:",i,r);const s=[],a=$i.empty();Zu(r,((l,c)=>{const u=Mk(e,l,n);c=St(c);const f=i.yc(u);if(c instanceof mv)s.push(u);else{const h=Hf(c,f);h!=null&&(s.push(u),a.set(u,h))}}));const o=new Zs(s);return new vq(a,o,i.fieldTransforms)}function Pk(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[t4(e,r,n)],l=[i];if(s.length%2!=0)throw new it(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(t4(e,s[h])),l.push(s[h+1]);const c=[],u=$i.empty();for(let h=o.length-1;h>=0;--h)if(!Eq(c,o[h])){const p=o[h];let v=l[h];v=St(v);const g=a.yc(p);if(v instanceof mv)c.push(p);else{const y=Hf(v,g);y!=null&&(c.push(p),u.set(p,y))}}const f=new Zs(c);return new vq(u,f,a.fieldTransforms)}function bq(t,e,n,r=!1){return Hf(n,t.Cc(r?4:3,e))}function Hf(t,e){if(Tq(t=St(t)))return Fk("Unsupported field value:",e,t),wq(t,e);if(t instanceof qf)return(function(r,i){if(!xq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let l=Hf(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Rn.fromDate(r);return{timestampValue:Jp(i.serializer,s)}}if(r instanceof Rn){const s=new Rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jp(i.serializer,s)}}if(r instanceof Po)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fs)return{bytesValue:sW(i.serializer,r._byteString)};if(r instanceof er){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ek(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xl)return(function(a,o){return{mapValue:{fields:{[qN]:{stringValue:zN},[Hp]:{arrayValue:{values:a.toArray().map((c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return KN(o.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${cb(r)}`)})(t,e)}function wq(t,e){const n={};return wV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zu(t,((r,i)=>{const s=Hf(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Tq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rn||t instanceof Po||t instanceof fs||t instanceof er||t instanceof qf||t instanceof xl)}function Fk(t,e,n){if(!Tq(n)||!iV(n)){const r=cb(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function t4(t,e,n){if((e=St(e))instanceof ju)return e._internalPath;if(typeof e=="string")return Mk(t,e);throw l_("Field path arguments must be of type string or ",t,!1,void 0,n)}const iae=new RegExp("[~\\*/\\[\\]]");function Mk(t,e,n){if(e.search(iae)>=0)throw l_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ju(...e.split("."))._internalPath}catch{throw l_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function l_(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new it(Qe.INVALID_ARGUMENT,o+t+l)}function Eq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ab("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sae extends gy{data(){return super.data()}}function Ab(t,e){return typeof e=="string"?Mk(t,e):e instanceof ju?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new it(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uk{}let gv=class extends Uk{};function ru(t,e,...n){let r=[];e instanceof Uk&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((l=>l instanceof Ok)).length,o=s.filter((l=>l instanceof Nb)).length;if(a>1||a>0&&o>0)throw new it(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Nb extends gv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nb(e,n,r)}_apply(e){const n=this._parse(e);return Iq(e._query,n),new Ls(e.firestore,e.converter,VA(e._query,n))}_parse(e){const n=zf(e.firestore);return(function(s,a,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new it(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){G8(f,u);const v=[];for(const g of f)v.push($8(l,s,g));h={arrayValue:{values:v}}}else h=$8(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||G8(f,u),h=bq(o,a,f,u==="in"||u==="not-in");return mn.create(c,u,h)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function aae(t,e,n){const r=e,i=Ab("where",t);return Nb._create(i,r,n)}class Ok extends Uk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ok(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)Iq(a,l),a=VA(a,l)})(e._query,n),new Ls(e.firestore,e.converter,VA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lk extends gv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lk(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new it(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new it(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dy(s,a)})(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new _c(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function oae(t,e="asc"){const n=e,r=Ab("orderBy",t);return Lk._create(r,n)}class kb extends gv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new kb(e,n,r)}_apply(e){return new Ls(e.firestore,e.converter,Q2(e._query,this._limit,this._limitType))}}function lae(t){return sV("limit",t),kb._create("limit",t,"F")}function cae(t){return sV("limitToLast",t),kb._create("limitToLast",t,"L")}let Sq=class Dq extends gv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Dq(e,n,r)}_apply(e){const n=kq(e,this.type,this._docOrFields,this._inclusive);return new Ls(e.firestore,e.converter,(function(i,s){return new _c(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}};function uae(...t){return Sq._create("startAt",t,!0)}function dae(...t){return Sq._create("startAfter",t,!1)}let Aq=class Nq extends gv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Nq(e,n,r)}_apply(e){const n=kq(e,this.type,this._docOrFields,this._inclusive);return new Ls(e.firestore,e.converter,(function(i,s){return new _c(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}};function fae(...t){return Aq._create("endBefore",t,!1)}function hae(...t){return Aq._create("endAt",t,!0)}function kq(t,e,n,r){if(n[0]=St(n[0]),n[0]instanceof gy)return(function(s,a,o,l,c){if(!l)throw new it(Qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const f of xp(s))if(f.field.isKeyField())u.push(mf(a,l.key));else{const h=l.data.field(f.field);if(pb(h))throw new it(Qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new it(Qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Uu(u,c)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=zf(t.firestore);return(function(a,o,l,c,u,f){const h=a.explicitOrderBy;if(u.length>h.length)throw new it(Qe.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const g=u[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new it(Qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!$N(a)&&g.indexOf("/")!==-1)throw new it(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const y=a.path.child(pn.fromString(g));if(!bt.isDocumentKey(y))throw new it(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const b=new bt(y);p.push(mf(o,b))}else{const y=bq(l,c,g);p.push(y)}}return new Uu(p,f)})(t._query,t.firestore._databaseId,i,e,n,r)}}function $8(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new it(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$N(e)&&n.indexOf("/")!==-1)throw new it(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pn.fromString(n));if(!bt.isDocumentKey(r))throw new it(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mf(t,new bt(r))}if(n instanceof er)return mf(t,n._key);throw new it(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cb(n)}.`)}function G8(t,e){if(!Array.isArray(t)||t.length===0)throw new it(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iq(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new it(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jk{convertValue(e,n="none"){switch(Fu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zu(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Hp].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>gr(a.doubleValue)));return new xl(n)}convertGeoPoint(e){return new Po(gr(e.latitude),gr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ly(e));default:return null}}convertTimestamp(e){const n=fc(e);return new Rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pn.fromString(e);Rt(gW(r),9688,{name:e});const i=new Pu(r.get(1),r.get(3)),s=new bt(r.popFirst(5));return i.isEqual(n)||Kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class pae extends jk{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}class Jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Za=class Rq extends gy{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new D0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ab("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Rq._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:li("string",Za._jsonSchemaVersion),bundleSource:li("string","DocumentSnapshot"),bundleName:li("string"),bundle:li("string")};let D0=class extends Za{data(e={}){return super.data(e)}},Fo=class Pq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new D0(this._firestore,this._userDataWriter,r.key,r,new Jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new D0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new D0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:mae(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pq._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=MN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function mae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:t})}}function Fq(t,e){return t instanceof Za&&e instanceof Za?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Fo&&e instanceof Fo&&t._firestore===e._firestore&&mq(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gae(t){t=Dn(t,er);const e=Dn(t.firestore,Qr);return oq(ws(e),t._key).then((n=>Bk(e,t,n)))}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:li("string",Fo._jsonSchemaVersion),bundleSource:li("string","QuerySnapshot"),bundleName:li("string"),bundle:li("string")};class $f extends jk{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function yae(t){t=Dn(t,er);const e=Dn(t.firestore,Qr),n=ws(e),r=new $f(e);return Lse(n,t._key).then((i=>new Za(e,r,t._key,i,new Jd(i!==null&&i.hasLocalMutations,!0),t.converter)))}function vae(t){t=Dn(t,er);const e=Dn(t.firestore,Qr);return oq(ws(e),t._key,{source:"server"}).then((n=>Bk(e,t,n)))}function xae(t){t=Dn(t,Ls);const e=Dn(t.firestore,Qr),n=ws(e),r=new $f(e);return Cq(t._query),lq(n,t._query).then((i=>new Fo(e,r,t,i)))}function _ae(t){t=Dn(t,Ls);const e=Dn(t.firestore,Qr),n=ws(e),r=new $f(e);return jse(n,t._query).then((i=>new Fo(e,r,t,i)))}function bae(t){t=Dn(t,Ls);const e=Dn(t.firestore,Qr),n=ws(e),r=new $f(e);return lq(n,t._query,{source:"server"}).then((i=>new Fo(e,r,t,i)))}function K8(t,e,n){t=Dn(t,er);const r=Dn(t.firestore,Qr),i=Ib(t.converter,e,n);return yv(r,[Db(zf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vr.none())])}function X8(t,e,n,...r){t=Dn(t,er);const i=Dn(t.firestore,Qr),s=zf(i);let a;return a=typeof(e=St(e))=="string"||e instanceof ju?Pk(s,"updateDoc",t._key,e,n,r):Rk(s,"updateDoc",t._key,e),yv(i,[a.toMutation(t._key,vr.exists(!0))])}function wae(t){return yv(Dn(t.firestore,Qr),[new Dm(t._key,vr.none())])}function Tae(t,e){const n=Dn(t.firestore,Qr),r=o_(t),i=Ib(t.converter,e);return yv(n,[Db(zf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then((()=>r))}function Mq(t,...e){var l,c,u;t=St(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||e4(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(e4(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(u=f.complete)==null?void 0:u.bind(f)}let s,a,o;if(t instanceof er)a=Dn(t.firestore,Qr),o=Cm(t._key.path),s={next:f=>{e[r]&&e[r](Bk(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Dn(t,Ls);a=Dn(f.firestore,Qr),o=f._query;const h=new $f(a);s={next:p=>{e[r]&&e[r](new Fo(a,h,f,p))},error:e[r+1],complete:e[r+2]},Cq(t._query)}return(function(h,p,v,g){const y=new Eb(g),b=new xk(p,y,v);return h.asyncQueue.enqueueAndForget((async()=>gk(await nm(h),b))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>yk(await nm(h),b)))}})(ws(a),o,i,s)}function Eae(t,e){return Bse(ws(t=Dn(t,Qr)),e4(e)?e:{next:e})}function yv(t,e){return(function(r,i){const s=new Ki;return r.asyncQueue.enqueueAndForget((async()=>hse(await Dk(r),i,s))),s.promise})(ws(t),e)}function Bk(t,e,n){const r=n.docs.get(e._key),i=new $f(t);return new Za(t,i,e._key,r,new Jd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sae=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zf(e)}set(e,n,r){this._verifyNotCommitted();const i=fu(e,this._firestore),s=Ib(i.converter,n,r),a=Db(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,vr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=fu(e,this._firestore);let a;return a=typeof(n=St(n))=="string"||n instanceof ju?Pk(this._dataReader,"WriteBatch.update",s._key,n,r,i):Rk(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fu(e,this._firestore);return this._mutations=this._mutations.concat(new Dm(n._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function fu(t,e){if((t=St(t)).firestore!==e)throw new it(Qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zf(e)}get(e){const n=fu(e,this._firestore),r=new pae(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Et(24041);const s=i[0];if(s.isFoundDocument())return new gy(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new gy(this._firestore,r,n._key,null,n.converter);throw Et(18433,{doc:s})}))}set(e,n,r){const i=fu(e,this._firestore),s=Ib(i.converter,n,r),a=Db(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=fu(e,this._firestore);let a;return a=typeof(n=St(n))=="string"||n instanceof ju?Pk(this._dataReader,"Transaction.update",s._key,n,r,i):Rk(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=fu(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aae=class extends Dae{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=fu(e,this._firestore),r=new $f(this._firestore);return super.get(e).then((i=>new Za(this._firestore,r,n._key,i._document,new Jd(!1,!1),n.converter)))}};function Nae(t,e,n){t=Dn(t,Qr);const r={...Cae,...n};return(function(s){if(s.maxAttempts<1)throw new it(Qe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,o){const l=new Ki;return s.asyncQueue.enqueueAndForget((async()=>{const c=await Mse(s);new Pse(s.asyncQueue,c,o,a,l).ju()})),l.promise})(ws(t),(i=>e(new Aae(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kae(){return new mv("deleteField")}function Iae(){return new Ak("serverTimestamp")}function Rae(...t){return new Nk("arrayUnion",t)}function Pae(...t){return new kk("arrayRemove",t)}function Fae(t){return new Ik("increment",t)}(function(e,n=!0){(function(i){Em=i})(kl),wl(new Os("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Qr(new Dne(r.getProvider("auth-internal")),new kne(a,r.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new it(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(c.options.projectId,u)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Ps(CP,SP,e),Ps(CP,SP,"esm2020")})();const Mae="@firebase/firestore-compat",Uae="0.4.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new it("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(){if(typeof Uint8Array>"u")throw new it("unimplemented","Uint8Arrays are not available in this environment.")}function Y8(){if(!dre())throw new it("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Uq=class n4{constructor(e){this._delegate=e}static fromBase64String(e){return Y8(),new n4(fs.fromBase64String(e))}static fromUint8Array(e){return J8(),new n4(fs.fromUint8Array(e))}toBase64(){return Y8(),this._delegate.toBase64()}toUint8Array(){return J8(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){return Oae(t,["next","error","complete"])}function Oae(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{enableIndexedDbPersistence(e,n){return Gse(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Kse(e._delegate)}clearIndexedDbPersistence(e){return Xse(e._delegate)}}class Oq{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Pu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Tl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){qse(this._delegate,e,n,r)}enableNetwork(){return Yse(this._delegate)}disableNetwork(){return Qse(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Jse(this._delegate)}onSnapshotsInSync(e){return Eae(this._delegate,e)}get app(){if(!this._appCompat)throw new it("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rm(this,hq(this._delegate,e))}catch(n){throw Ns(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ja(this,o_(this._delegate,e))}catch(n){throw Ns(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xy(this,zse(this._delegate,e))}catch(n){throw Ns(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Nae(this._delegate,n=>e(new Lq(this,n)))}batch(){return ws(this._delegate),new jq(new Sae(this._delegate,e=>yv(this._delegate,e)))}loadBundle(e){return Zse(this._delegate,e)}namedQuery(e){return eae(this._delegate,e).then(n=>n?new xy(this,n):null)}}class Rb extends jk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uq(new fs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ja.forKey(n,this.firestore,null)}}function jae(t){Tne(t)}class Lq{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Rb(e)}get(e){const n=Yd(e);return this._delegate.get(n).then(r=>new yy(this._firestore,new Za(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Yd(e);return r?(Vk("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Yd(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Yd(e);return this._delegate.delete(n),this}}class jq{constructor(e){this._delegate=e}set(e,n,r){const i=Yd(e);return r?(Vk("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Yd(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Yd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Tf{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new D0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Tf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Tf(e,new Rb(e),n),i.set(n,s)),s}}Tf.INSTANCES=new WeakMap;class Ja{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Rb(e)}static forPath(e,n,r){if(e.length%2!==0)throw new it("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ja(n,new er(n._delegate,r,new bt(e)))}static forKey(e,n,r){return new Ja(n,new er(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new rm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rm(this.firestore,hq(this._delegate,e))}catch(n){throw Ns(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=St(e),e instanceof er?pq(this._delegate,e):!1}set(e,n){n=Vk("DocumentReference.set",n);try{return n?K8(this._delegate,e,n):K8(this._delegate,e)}catch(r){throw Ns(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?X8(this._delegate,e):X8(this._delegate,e,n,...r)}catch(i){throw Ns(i,"updateDoc()","DocumentReference.update()")}}delete(){return wae(this._delegate)}onSnapshot(...e){const n=Bq(e),r=Vq(e,i=>new yy(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Mq(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=yae(this._delegate):(e==null?void 0:e.source)==="server"?n=vae(this._delegate):n=gae(this._delegate),n.then(r=>new yy(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ja(this.firestore,e?this._delegate.withConverter(Tf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ns(t,e,n){return t.message=t.message.replace(e,n),t}function Bq(t){for(const e of t)if(typeof e=="object"&&!r4(e))return e;return{}}function Vq(t,e){var r,i;let n;return r4(t[0])?n=t[0]:r4(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class yy{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Fq(this._delegate,e._delegate)}}class vy extends yy{data(e){const n=this._delegate.data(e);return this._delegate._converter||Ene(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}let xy=class nl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Rb(e)}where(e,n,r){try{return new nl(this.firestore,ru(this._delegate,aae(e,n,r)))}catch(i){throw Ns(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new nl(this.firestore,ru(this._delegate,oae(e,n)))}catch(r){throw Ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new nl(this.firestore,ru(this._delegate,lae(e)))}catch(n){throw Ns(n,"limit()","Query.limit()")}}limitToLast(e){try{return new nl(this.firestore,ru(this._delegate,cae(e)))}catch(n){throw Ns(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new nl(this.firestore,ru(this._delegate,uae(...e)))}catch(n){throw Ns(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new nl(this.firestore,ru(this._delegate,dae(...e)))}catch(n){throw Ns(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new nl(this.firestore,ru(this._delegate,fae(...e)))}catch(n){throw Ns(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new nl(this.firestore,ru(this._delegate,hae(...e)))}catch(n){throw Ns(n,"endAt()","Query.endAt()")}}isEqual(e){return mq(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=_ae(this._delegate):(e==null?void 0:e.source)==="server"?n=bae(this._delegate):n=xae(this._delegate),n.then(r=>new i4(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Bq(e),r=Vq(e,i=>new i4(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Mq(this._delegate,n,r)}withConverter(e){return new nl(this.firestore,e?this._delegate.withConverter(Tf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};class Bae{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new vy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class i4{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new xy(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Bae(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new vy(this._firestore,r))})}isEqual(e){return Fq(this._delegate,e._delegate)}}class rm extends xy{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ja(this.firestore,e):null}doc(e){try{return e===void 0?new Ja(this.firestore,o_(this._delegate)):new Ja(this.firestore,o_(this._delegate,e))}catch(n){throw Ns(n,"doc()","CollectionReference.doc()")}}add(e){return Tae(this._delegate,e).then(n=>new Ja(this.firestore,n))}isEqual(e){return pq(this._delegate,e._delegate)}withConverter(e){return new rm(this.firestore,e?this._delegate.withConverter(Tf.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Yd(t){return Dn(t,er)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(...e){this._delegate=new ju(...e)}static documentId(){return new Wk(yr.keyField().canonicalString())}isEqual(e){return e=St(e),e instanceof ju?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{static serverTimestamp(){const e=Iae();return e._methodName="FieldValue.serverTimestamp",new $d(e)}static delete(){const e=kae();return e._methodName="FieldValue.delete",new $d(e)}static arrayUnion(...e){const n=Rae(...e);return n._methodName="FieldValue.arrayUnion",new $d(n)}static arrayRemove(...e){const n=Pae(...e);return n._methodName="FieldValue.arrayRemove",new $d(n)}static increment(e){const n=Fae(e);return n._methodName="FieldValue.increment",new $d(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vae={Firestore:Oq,GeoPoint:Po,Timestamp:Rn,Blob:Uq,Transaction:Lq,WriteBatch:jq,DocumentReference:Ja,DocumentSnapshot:yy,Query:xy,QueryDocumentSnapshot:vy,QuerySnapshot:i4,CollectionReference:rm,FieldPath:Wk,FieldValue:$d,setLogLevel:jae,CACHE_SIZE_UNLIMITED:$se};function Wae(t,e){t.INTERNAL.registerComponent(new Os("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...Vae}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(t){Wae(t,(e,n)=>new Oq(e,n,new Lae)),t.registerVersion(Mae,Uae)}qae(Ur);const Og={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Jh={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Wq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hae=zae,$ae=Wq,qq=new Vf("auth","Firebase",Wq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Tm("@firebase/auth");function Gae(t,...e){c_.logLevel<=dn.WARN&&c_.warn(`Auth (${kl}): ${t}`,...e)}function f2(t,...e){c_.logLevel<=dn.ERROR&&c_.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,...e){throw zk(t,...e)}function yi(t,...e){return zk(t,...e)}function qk(t,e,n){const r={...$ae(),[e]:n};return new Vf("auth","Firebase",r).create(e,{appName:t.name})}function Mi(t){return qk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xi(t,"argument-error"),qk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zk(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qq.create(t,...e)}function ft(t,e,...n){if(!t)throw zk(e,...n)}function pl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw f2(e),new Error(e)}function Lo(t,e){t||pl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Hk(){return Q8()==="http:"||Q8()==="https:"}function Q8(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hk()||kB()||"connection"in navigator)?navigator.onLine:!0}function Xae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lo(n>e,"Short delay should be less than long delay!"),this.isMobile=SN()||ob()}get(){return Kae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){Lo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qae=new vv(3e4,6e4);function Vr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wr(t,e,n,r,i={}){return Hq(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Wf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return Hee()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Nl(t.emulatorConfig.host)&&(c.credentials="include"),zq.fetch()(await $q(t,t.config.apiHost,n,o),c)})}async function Hq(t,e,n){t._canInitEmulator=!1;const r={...Jae,...e};try{const i=new eoe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw f0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw f0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw f0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw f0(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qk(t,u,c);Xi(t,u)}}catch(i){if(i instanceof gs)throw i;Xi(t,"network-request-failed",{message:String(i)})}}async function Ec(t,e,n,r,i={}){const s=await Wr(t,e,n,r,i);return"mfaPendingCredential"in s&&Xi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function $q(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?$k(t.config,i):`${t.config.apiScheme}://${i}`;return Yae.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Zae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),Qae.get())})}}function f0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){return t!==void 0&&t.getResponse!==void 0}function eF(t){return t!==void 0&&t.enterprise!==void 0}class Gq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Zae(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function toe(t){return(await Wr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Kq(t,e){return Wr(t,"GET","/v2/recaptchaConfig",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function noe(t,e){return Wr(t,"POST","/v1/accounts:delete",e)}async function roe(t,e){return Wr(t,"POST","/v1/accounts:update",e)}async function u_(t,e){return Wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ioe(t,e=!1){const n=St(t),r=await n.getIdToken(e),i=Pb(r);ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:A0(XE(i.auth_time)),issuedAtTime:A0(XE(i.iat)),expirationTime:A0(XE(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function XE(t){return Number(t)*1e3}function Pb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return f2("JWT malformed, contained fewer than 3 sections"),null;try{const i=Y0(n);return i?JSON.parse(i):(f2("Failed to decode base64 JWT payload"),null)}catch(i){return f2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tF(t){const e=Pb(t);return ft(e,"internal-error"),ft(typeof e.exp<"u","internal-error"),ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&soe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function soe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=A0(this.lastLoginAt),this.creationTime=A0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function by(t){var f;const e=t.auth,n=await t.getIdToken(),r=await pc(t,u_(e,{idToken:n}));ft(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?Xq(i.providerUserInfo):[],a=loe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new s4(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function ooe(t){const e=St(t);await by(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function loe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xq(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function coe(t,e){const n=await Hq(t,{},async()=>{const r=Wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await $q(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Nl(t.emulatorConfig.host)&&(l.credentials="include"),zq.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uoe(t,e){return Wr(t,"POST","/v2/accounts:revokeToken",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ft(e.idToken,"internal-error"),ft(typeof e.idToken<"u","internal-error"),ft(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ft(e.length!==0,"internal-error");const n=tF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await coe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new bp;return r&&(ft(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ft(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ft(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bp,this.toJSON())}_performRefresh(){return pl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t,e){ft(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ao{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new aoe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new s4(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await pc(this,this.stsTokenManager.getToken(this.auth,e));return ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ioe(this,e)}reload(){return ooe(this)}_assign(e){this!==e&&(ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ao({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await by(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await pc(this,noe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:g}=n;ft(f&&g,e,"internal-error");const y=bp.fromJSON(this.name,g);ft(typeof f=="string",e,"internal-error"),iu(r,e.name),iu(i,e.name),ft(typeof h=="boolean",e,"internal-error"),ft(typeof p=="boolean",e,"internal-error"),iu(s,e.name),iu(a,e.name),iu(o,e.name),iu(l,e.name),iu(c,e.name),iu(u,e.name);const b=new Ao({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(b.providerData=v.map(x=>({...x}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new bp;i.updateFromServerResponse(n);const s=new Ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await by(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ft(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Xq(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new bp;o.updateFromIdToken(r);const l=new Ao({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new s4(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=new Map;function Ta(t){Lo(t instanceof Function,"Expected a class definition");let e=nF.get(t);return e?(Lo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jq.type="NONE";const im=Jq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class wp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sf(this.userKey,i.apiKey,s),this.fullPersistenceKey=sf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await u_(this.auth,{idToken:e}).catch(()=>{});return n?Ao._fromGetAccountInfoResponse(this.auth,n,e):null}return Ao._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wp(Ta(im),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ta(im);const a=sf(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let f;if(typeof u=="string"){const h=await u_(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Ao._fromGetAccountInfoResponse(e,h,u)}else f=Ao._fromJSON(e,u);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wp(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new wp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ez(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tz(e))return"Blackberry";if(nz(e))return"Webos";if(Qq(e))return"Safari";if((e.includes("chrome/")||Zq(e))&&!e.includes("edge/"))return"Chrome";if(xv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Yq(t=Ar()){return/firefox\//i.test(t)}function Qq(t=Ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zq(t=Ar()){return/crios\//i.test(t)}function ez(t=Ar()){return/iemobile/i.test(t)}function xv(t=Ar()){return/android/i.test(t)}function tz(t=Ar()){return/blackberry/i.test(t)}function nz(t=Ar()){return/webos/i.test(t)}function _v(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function doe(t=Ar()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function foe(t=Ar()){var e;return _v(t)&&!!((e=window.navigator)!=null&&e.standalone)}function hoe(){return IB()&&document.documentMode===10}function rz(t=Ar()){return _v(t)||xv(t)||nz(t)||tz(t)||/windows phone/i.test(t)||ez(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t,e=[]){let n;switch(t){case"Browser":n=rF(Ar());break;case"Worker":n=`${rF(Ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function moe(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",Vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe=6;class yoe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??goe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iF(this),this.idTokenSubscription=new iF(this),this.beforeStateQueue=new poe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ta(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await wp.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await u_(this,{idToken:e}),r=await Ao._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await by(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Mi(this));const n=e?St(e):null;return n&&ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await moe(this),n=new yoe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ta(e)||this._popupRedirectResolver;ft(n,this,"argument-error"),this.redirectPersistenceManager=await wp.create(this,[Ta(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Gae(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function kr(t){return St(t)}class iF{constructor(e){this.auth=e,this.observer=null,this.addObserver=MB(n=>this.observer=n)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xoe(t){bv=t}function Gk(t){return bv.loadJS(t)}function _oe(){return bv.recaptchaV2Script}function boe(){return bv.recaptchaEnterpriseScript}function woe(){return bv.gapiScript}function sz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Toe=500,Eoe=6e4,p1=1e12;class Coe{constructor(e){this.auth=e,this.counter=p1,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Aoe(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||p1;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||p1;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||p1;return(r=this._widgets.get(n))==null||r.execute(),""}}class Soe{constructor(){this.enterprise=new Doe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Doe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Aoe{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ft(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Noe(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Eoe)},Toe))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Noe(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const koe="recaptcha-enterprise",N0="NO_RECAPTCHA";class az{constructor(e){this.type=koe,this.auth=kr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{Kq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Gq(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;eF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(N0)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Soe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&eF(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=boe();l.length!==0&&(l+=o),Gk(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function Lg(t,e,n,r=!1,i=!1){const s=new az(t);let a;if(i)a=N0;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Eu(t,e,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Lg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Lg(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await Lg(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Lg(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await Lg(t,e,n,!1,!0);return r(t,o)}else return Promise.reject(i+" provider is not supported.")}async function Ioe(t){const e=kr(t),n=await Kq(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Gq(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new az(e).verify()}function Roe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ta);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Poe(t,e,n){const r=kr(t);ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=oz(e),{host:a,port:o}=Foe(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ft(uc(c,r.config.emulator)&&uc(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Nl(a)?(ib(`${s}//${a}${l}`),sb("Auth",!0)):i||Moe()}function oz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Foe(t){const e=oz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sF(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:sF(a)}}}function sF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Moe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pl("not implemented")}_getIdTokenResponse(e){return pl("not implemented")}_linkToIdToken(e,n){return pl("not implemented")}_getReauthenticationResolver(e){return pl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(t,e){return Wr(t,"POST","/v1/accounts:resetPassword",Vr(t,e))}async function Uoe(t,e){return Wr(t,"POST","/v1/accounts:update",e)}async function Ooe(t,e){return Wr(t,"POST","/v1/accounts:signUp",e)}async function Loe(t,e){return Wr(t,"POST","/v1/accounts:update",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function joe(t,e){return Ec(t,"POST","/v1/accounts:signInWithPassword",Vr(t,e))}async function Fb(t,e){return Wr(t,"POST","/v1/accounts:sendOobCode",Vr(t,e))}async function Boe(t,e){return Fb(t,e)}async function Voe(t,e){return Fb(t,e)}async function Woe(t,e){return Fb(t,e)}async function qoe(t,e){return Fb(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zoe(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}async function Hoe(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends Pm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wy(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wy(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eu(e,n,"signInWithPassword",joe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zoe(e,{email:this._email,oobCode:this._password});default:Xi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eu(e,r,"signUpPassword",Ooe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Hoe(e,{idToken:n,email:this._email,oobCode:this._password});default:Xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e){return Ec(t,"POST","/v1/accounts:signInWithIdp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $oe="http://localhost";class Cl extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Cl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}buildRequest(){const e={requestUri:$oe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e){return Wr(t,"POST","/v1/accounts:sendVerificationCode",Vr(t,e))}async function Goe(t,e){return Ec(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,e))}async function Koe(t,e){const n=await Ec(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,e));if(n.temporaryProof)throw f0(t,"account-exists-with-different-credential",n);return n}const Xoe={USER_NOT_FOUND:"user-not-found"};async function Joe(t,e){const n={...e,operation:"REAUTH"};return Ec(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,n),Xoe)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Pm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new af({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new af({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Goe(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Koe(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Joe(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new af({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yoe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qoe(t){const e=pp(a0(t)).link,n=e?pp(a0(e)).deep_link_id:null,r=pp(a0(t)).deep_link_id;return(r?pp(a0(r)).link:null)||r||n||e||t}class Mb{constructor(e){const n=pp(a0(e)),r=n.apiKey??null,i=n.oobCode??null,s=Yoe(n.mode??null);ft(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Qoe(e);try{return new Mb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.providerId=nd.PROVIDER_ID}static credential(e,n){return wy._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mb.parseLink(n);return ft(r,"argument-error"),wy._fromEmailAndCode(e,r.code,r.tenantId)}}nd.PROVIDER_ID="password";nd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Cc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Tp extends Fm{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ft("providerId"in n&&"signInMethod"in n,"argument-error"),Cl._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ft(e.idToken||e.accessToken,"argument-error"),Cl._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Tp.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Tp.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!n&&!s||!o)return null;try{return new Tp(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Fm{constructor(){super("facebook.com")}static credential(e){return Cl._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ol.credential(e.oauthAccessToken)}catch{return null}}}ol.FACEBOOK_SIGN_IN_METHOD="facebook.com";ol.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Fm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cl._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ll.credential(n,r)}catch{return null}}}ll.GOOGLE_SIGN_IN_METHOD="google.com";ll.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Fm{constructor(){super("github.com")}static credential(e){return Cl._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cl.credential(e.oauthAccessToken)}catch{return null}}}cl.GITHUB_SIGN_IN_METHOD="github.com";cl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe="http://localhost";class sm extends Pm{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new sm(r,s)}static _create(e,n){return new sm(e,n)}buildRequest(){return{requestUri:Zoe,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ele="saml.";class d_ extends Cc{constructor(e){ft(e.startsWith(ele),"argument-error"),super(e)}static credentialFromResult(e){return d_.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return d_.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=sm.fromJSON(e);return ft(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return sm._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Fm{constructor(){super("twitter.com")}static credential(e,n){return Cl._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ul.credential(n,r)}catch{return null}}}ul.TWITTER_SIGN_IN_METHOD="twitter.com";ul.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(t,e){return Ec(t,"POST","/v1/accounts:signUp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ao._fromIdTokenResponse(e,r,i),a=oF(r);return new io({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oF(r);return new io({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tle(t){var i;if(Qn(t.app))return Promise.reject(Mi(t));const e=kr(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new io({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await cz(e,{returnSecureToken:!0}),r=await io._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends gs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,f_.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new f_(e,n,r,i)}}function uz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?f_._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nle(t,e){const n=St(t);await Ub(!0,n,e);const{providerUserInfo:r}=await roe(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=dz(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Kk(t,e,n=!1){const r=await pc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return io._forOperation(t,"link",r)}async function Ub(t,e,n){await by(e);const r=dz(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ft(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(Mi(r));const i="reauthenticate";try{const s=await pc(t,uz(r,i,e,t),n);ft(s.idToken,r,"internal-error");const a=Pb(s.idToken);ft(a,r,"internal-error");const{sub:o}=a;return ft(t.uid===o,r,"user-mismatch"),io._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e,n=!1){if(Qn(t.app))return Promise.reject(Mi(t));const r="signIn",i=await uz(t,r,e),s=await io._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ob(t,e){return hz(kr(t),e)}async function pz(t,e){const n=St(t);return await Ub(!1,n,e.providerId),Kk(n,e)}async function mz(t,e){return fz(St(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rle(t,e){return Ec(t,"POST","/v1/accounts:signInWithCustomToken",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ile(t,e){if(Qn(t.app))return Promise.reject(Mi(t));const n=kr(t),r=await rle(n,{token:e,returnSecureToken:!0}),i=await io._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Xk._fromServerResponse(e,n):"totpInfo"in n?Jk._fromServerResponse(e,n):Xi(e,"internal-error")}}class Xk extends wv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Xk(n)}}class Jk extends wv{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Jk(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e,n){var r;ft(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),ft(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ft(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ft(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ft(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t){const e=kr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sle(t,e,n){const r=kr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Lb(r,i,n),await Eu(r,i,"getOobCode",Voe,"EMAIL_PASSWORD_PROVIDER")}async function ale(t,e,n){await lz(St(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yk(t),r})}async function ole(t,e){await Loe(St(t),{oobCode:e})}async function gz(t,e){const n=St(t),r=await lz(n,{oobCode:e}),i=r.requestType;switch(ft(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ft(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ft(r.mfaInfo,n,"internal-error");default:ft(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=wv._fromServerResponse(kr(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function lle(t,e){const{data:n}=await gz(St(t),e);return n.email}async function cle(t,e,n){if(Qn(t.app))return Promise.reject(Mi(t));const r=kr(t),a=await Eu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cz,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Yk(t),l}),o=await io._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function ule(t,e,n){return Qn(t.app)?Promise.reject(Mi(t)):Ob(St(t),nd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dle(t,e,n){const r=kr(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){ft(o.handleCodeInApp,r,"argument-error"),o&&Lb(r,a,o)}s(i,n),await Eu(r,i,"getOobCode",Woe,"EMAIL_PASSWORD_PROVIDER")}function fle(t,e){const n=Mb.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function hle(t,e,n){if(Qn(t.app))return Promise.reject(Mi(t));const r=St(t),i=nd.credentialWithLink(e,n||_y());return ft(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ob(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ple(t,e){return Wr(t,"POST","/v1/accounts:createAuthUri",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mle(t,e){const n=Hk()?_y():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await ple(St(t),r);return i||[]}async function gle(t,e){const n=St(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Lb(n.auth,i,e);const{email:s}=await Boe(n.auth,i);s!==t.email&&await t.reload()}async function yle(t,e,n){const r=St(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Lb(r.auth,s,n);const{email:a}=await qoe(r.auth,s);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vle(t,e){return Wr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xle(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=St(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await pc(r,vle(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function _le(t,e){const n=St(t);return Qn(n.auth.app)?Promise.reject(Mi(n.auth)):yz(n,e,null)}function ble(t,e){return yz(St(t),null,e)}async function yz(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await pc(t,Uoe(r,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(s=(i=Pb(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new Ep(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Tle(r,n);case"github.com":return new Ele(r,n);case"google.com":return new Cle(r,n);case"twitter.com":return new Sle(r,n,t.screenName||null);case"custom":case"anonymous":return new Ep(r,null);default:return new Ep(r,e,n)}}class Ep{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class vz extends Ep{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Tle extends Ep{constructor(e,n){super(e,"facebook.com",n)}}class Ele extends vz{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Cle extends Ep{constructor(e,n){super(e,"google.com",n)}}class Sle extends vz{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Dle(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:wle(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Qd("enroll",e,n)}static _fromMfaPendingCredential(e){return new Qd("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Qd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Qd._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=kr(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>wv._fromServerResponse(r,o));ft(i.mfaPendingCredential,r,"internal-error");const a=Qd._fromMfaPendingCredential(i.mfaPendingCredential);return new Qk(a,s,async o=>{const l=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(n.operationType){case"signIn":const u=await io._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return ft(n.user,r,"internal-error"),io._forOperation(n.user,n.operationType,c);default:Xi(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Ale(t,e){var i;const n=St(t),r=e;return ft(e.customData.operationType,n,"argument-error"),ft((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),Qk._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t,e){return Wr(t,"POST","/v2/accounts/mfaEnrollment:start",Vr(t,e))}function Nle(t,e){return Wr(t,"POST","/v2/accounts/mfaEnrollment:finalize",Vr(t,e))}function kle(t,e){return Wr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Vr(t,e))}class Zk{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>wv._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Zk(e)}async getSession(){return Qd._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await pc(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await pc(this.user,kle(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const JE=new WeakMap;function Ile(t){const e=St(t);return JE.has(e)||JE.set(e,Zk._fromUser(e)),JE.get(e)}const h_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(h_,"1"),this.storage.removeItem(h_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rle=1e3,Ple=10;class _z extends xz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);hoe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ple):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Rle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_z.type="LOCAL";const eI=_z;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz extends xz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bz.type="SESSION";const Ef=bz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await Fle(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Tv("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function Ule(t){oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function Ole(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function jle(){return tI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz="firebaseLocalStorageDb",Ble=1,p_="firebaseLocalStorage",Tz="fbase_key";class Ev{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bb(t,e){return t.transaction([p_],e?"readwrite":"readonly").objectStore(p_)}function Vle(){const t=indexedDB.deleteDatabase(wz);return new Ev(t).toPromise()}function a4(){const t=indexedDB.open(wz,Ble);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(p_,{keyPath:Tz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(p_)?e(r):(r.close(),await Vle(),e(await a4()))})})}async function cF(t,e,n){const r=Bb(t,!0).put({[Tz]:e,value:n});return new Ev(r).toPromise()}async function Wle(t,e){const n=Bb(t,!1).get(e),r=await new Ev(n).toPromise();return r===void 0?null:r.value}function uF(t,e){const n=Bb(t,!0).delete(e);return new Ev(n).toPromise()}const qle=800,zle=3;class Ez{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a4(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jb._getInstance(jle()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ole(),!this.activeServiceWorker)return;this.sender=new Mle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a4();return await cF(e,h_,"1"),await uF(e,h_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Wle(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bb(i,!1).getAll();return new Ev(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ez.type="LOCAL";const Ty=Ez;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){return Wr(t,"POST","/v2/accounts/mfaSignIn:start",Vr(t,e))}function Hle(t,e){return Wr(t,"POST","/v2/accounts/mfaSignIn:finalize",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=sz("rcb"),$le=new vv(3e4,6e4);class Gle{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=oi().grecaptcha)!=null&&e.render)}load(e,n=""){return ft(Kle(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Z8(oi().grecaptcha)?Promise.resolve(oi().grecaptcha):new Promise((r,i)=>{const s=oi().setTimeout(()=>{i(yi(e,"network-request-failed"))},$le.get());oi()[YE]=()=>{oi().clearTimeout(s),delete oi()[YE];const o=oi().grecaptcha;if(!o||!Z8(o)){i(yi(e,"internal-error"));return}const l=o.render;o.render=(c,u)=>{const f=l(c,u);return this.counter++,f},this.hostLanguage=n,r(o)};const a=`${_oe()}?${Wf({onload:YE,render:"explicit",hl:n})}`;Gk(a).catch(()=>{clearTimeout(s),i(yi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=oi().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Kle(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Xle{async load(e){return new Coe(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="recaptcha",Jle={theme:"light",type:"image"};let Yle=class{constructor(e,n,r={...Jle}){this.parameters=r,this.type=k0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kr(e),this.isInvisible=this.parameters.size==="invisible",ft(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;ft(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xle:new Gle,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ft(!this.parameters.sitekey,this.auth,"argument-error"),ft(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ft(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=oi()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ft(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ft(Hk()&&!tI(),this.auth,"internal-error"),await Qle(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await toe(this.auth);ft(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ft(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Qle(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=af._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Zle(t,e,n){if(Qn(t.app))return Promise.reject(Mi(t));const r=kr(t),i=await Vb(r,e,St(n));return new nI(i,s=>Ob(r,s))}async function ece(t,e,n){const r=St(t);await Ub(!1,r,"phone");const i=await Vb(r.auth,e,St(n));return new nI(i,s=>pz(r,s))}async function tce(t,e,n){const r=St(t);if(Qn(r.auth.app))return Promise.reject(Mi(r.auth));const i=await Vb(r.auth,e,St(n));return new nI(i,s=>mz(r,s))}async function Vb(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Ioe(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){ft(s.type==="enroll",t,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Eu(t,a,"mfaSmsEnrollment",async(u,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===N0){ft((n==null?void 0:n.type)===k0,u,"argument-error");const h=await QE(u,f,n);return lF(u,h)}return lF(u,f)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{ft(s.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;ft(a,t,"missing-multi-factor-info");const o={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Eu(t,o,"mfaSmsSignIn",async(f,h)=>{if(h.phoneSignInInfo.captchaResponse===N0){ft((n==null?void 0:n.type)===k0,f,"argument-error");const p=await QE(f,h,n);return dF(f,p)}return dF(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Eu(t,s,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===N0){ft((n==null?void 0:n.type)===k0,c,"argument-error");const f=await QE(c,u,n);return aF(c,f)}return aF(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{n==null||n._reset()}}async function nce(t,e){const n=St(t);if(Qn(n.auth.app))return Promise.reject(Mi(n.auth));await Kk(n,e)}async function QE(t,e,n){ft(n.type===k0,t,"argument-error");const r=await n.verify();ft(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=class h2{constructor(e){this.providerId=h2.PROVIDER_ID,this.auth=kr(e)}verifyPhoneNumber(e,n){return Vb(this.auth,e,St(n))}static credential(e,n){return af._fromVerification(e,n)}static credentialFromResult(e){const n=e;return h2.credentialFromTaggedObject(n)}static credentialFromError(e){return h2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?af._fromTokenResponse(n,r):null}};Cf.PROVIDER_ID="phone";Cf.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){return e?Ta(e):(ft(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rce(t){return hz(t.auth,new rI(t),t.bypassAuthState)}function ice(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),fz(n,new rI(t),t.bypassAuthState)}async function sce(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),Kk(n,new rI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rce;case"linkViaPopup":case"linkViaRedirect":return sce;case"reauthViaPopup":case"reauthViaRedirect":return ice;default:Xi(this.auth,"internal-error")}}resolve(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=new vv(2e3,1e4);async function oce(t,e,n){if(Qn(t.app))return Promise.reject(yi(t,"operation-not-supported-in-this-environment"));const r=kr(t);Rm(t,e,Cc);const i=Gf(r,n);return new Yl(r,"signInViaPopup",e,i).executeNotNull()}async function lce(t,e,n){const r=St(t);if(Qn(r.auth.app))return Promise.reject(yi(r.auth,"operation-not-supported-in-this-environment"));Rm(r.auth,e,Cc);const i=Gf(r.auth,n);return new Yl(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function cce(t,e,n){const r=St(t);Rm(r.auth,e,Cc);const i=Gf(r.auth,n);return new Yl(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Yl extends Cz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ft(e,this.auth,"internal-error"),e}async onExecution(){Lo(this.filter.length===1,"Popup operations only handle one event");const e=Tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ace.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce="pendingRedirect",I0=new Map;class dce extends Cz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=I0.get(this.auth._key());if(!e){try{const r=await fce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}I0.set(this.auth._key(),e)}return this.bypassAuthState||I0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fce(t,e){const n=Dz(e),r=Sz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function iI(t,e){return Sz(t)._set(Dz(e),"true")}function hce(){I0.clear()}function sI(t,e){I0.set(t._key(),e)}function Sz(t){return Ta(t._redirectPersistence)}function Dz(t){return sf(uce,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pce(t,e,n){return mce(t,e,n)}async function mce(t,e,n){if(Qn(t.app))return Promise.reject(Mi(t));const r=kr(t);Rm(t,e,Cc),await r._initializationPromise;const i=Gf(r,n);return await iI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function gce(t,e,n){return yce(t,e,n)}async function yce(t,e,n){const r=St(t);if(Rm(r.auth,e,Cc),Qn(r.auth.app))return Promise.reject(Mi(r.auth));await r.auth._initializationPromise;const i=Gf(r.auth,n);await iI(i,r.auth);const s=await Az(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function vce(t,e,n){return xce(t,e,n)}async function xce(t,e,n){const r=St(t);Rm(r.auth,e,Cc),await r.auth._initializationPromise;const i=Gf(r.auth,n);await Ub(!1,r,e.providerId),await iI(i,r.auth);const s=await Az(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function _ce(t,e){return await kr(t)._initializationPromise,Wb(t,e,!1)}async function Wb(t,e,n=!1){if(Qn(t.app))return Promise.reject(Mi(t));const r=kr(t),i=Gf(r,e),a=await new dce(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function Az(t){const e=Tv(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bce=600*1e3;class Nz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kz(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bce&&this.cachedEventUids.clear(),this.cachedEventUids.has(fF(e))}saveEventToCache(e){this.cachedEventUids.add(fF(e)),this.lastProcessedEventTime=Date.now()}}function fF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(t,e={}){return Wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ece=/^https?/;async function Cce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Iz(t);for(const n of e)try{if(Sce(n))return}catch{}Xi(t,"unauthorized-domain")}function Sce(t){const e=_y(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Ece.test(n))return!1;if(Tce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce=new vv(3e4,6e4);function hF(){const t=oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ace(t){return new Promise((e,n)=>{var i,s,a;function r(){hF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hF(),n(yi(t,"network-request-failed"))},timeout:Dce.get()})}if((s=(i=oi().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=oi().gapi)!=null&&a.load)r();else{const o=sz("iframefcb");return oi()[o]=()=>{gapi.load?r():n(yi(t,"network-request-failed"))},Gk(`${woe()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw p2=null,e})}let p2=null;function Nce(t){return p2=p2||Ace(t),p2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce=new vv(5e3,15e3),Ice="__/auth/iframe",Rce="emulator/auth/iframe",Pce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mce(t){const e=t.config;ft(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$k(e,Rce):`https://${t.config.authDomain}/${Ice}`,r={apiKey:e.apiKey,appName:t.name,v:kl},i=Fce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wf(r).slice(1)}`}async function Uce(t){const e=await Nce(t),n=oi().gapi;return ft(n,t,"internal-error"),e.open({where:document.body,url:Mce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pce,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=yi(t,"network-request-failed"),o=oi().setTimeout(()=>{s(a)},kce.get());function l(){oi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lce=500,jce=600,Bce="_blank",Vce="http://localhost";class pF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wce(t,e,n,r=Lce,i=jce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Oce,width:r.toString(),height:i.toString(),top:s,left:a},c=Ar().toLowerCase();n&&(o=Zq(c)?Bce:n),Yq(c)&&(e=e||Vce,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(foe(c)&&o!=="_self")return qce(e||"",o),new pF(null);const f=window.open(e||"",o,u);ft(f,t,"popup-blocked");try{f.focus()}catch{}return new pF(f)}function qce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce="__/auth/handler",Hce="emulator/auth/handler",$ce=encodeURIComponent("fac");async function o4(t,e,n,r,i,s){ft(t.config.authDomain,t,"auth-domain-config-required"),ft(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:kl,eventId:i};if(e instanceof Cc){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",q2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof Fm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${$ce}=${encodeURIComponent(l)}`:"";return`${Gce(t)}?${Wf(o).slice(1)}${c}`}function Gce({config:t}){return t.emulator?$k(t,Hce):`https://${t.authDomain}/${zce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="webStorageSupport";class Kce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ef,this._completeRedirectFn=Wb,this._overrideRedirectResult=sI}async _openPopup(e,n,r,i){var a;Lo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await o4(e,n,r,_y(),i);return Wce(e,s,Tv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await o4(e,n,r,_y(),i);return Ule(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Lo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Uce(e),r=new Nz(e);return n.register("authEvent",i=>(ft(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ZE,{type:ZE},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[ZE];s!==void 0&&n(!!s),Xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Cce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rz()||Qq()||_v()}}const Xce=Kce;class Jce{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return pl("unexpected MultiFactorSessionType")}}}class aI extends Jce{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new aI(e)}_finalizeEnroll(e,n,r){return Nle(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Hle(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Rz{constructor(){}static assertion(e){return aI._fromCredential(e)}}Rz.FACTOR_ID="phone";var mF="@firebase/auth",gF="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zce(t){wl(new Os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ft(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iz(t)},c=new voe(r,i,s,l);return Roe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wl(new Os("auth-internal",e=>{const n=kr(e.getProvider("auth").getImmediate());return(r=>new Yce(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(mF,gF,Qce(t)),Ps(mF,gF,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue=300;Vee("authIdTokenMaxAge");function tue(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xoe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zce("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nue=2e3;async function rue(t,e,n){const{BuildInfo:r}=Sf();Lo(e.sessionId,"AuthEvent did not contain a session ID");const i=await lue(e.sessionId),s={};return _v()?s.ibi=r.packageName:xv()?s.apn=r.packageName:Xi(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,o4(t,n,e.type,void 0,e.eventId??void 0,s)}async function iue(t){const{BuildInfo:e}=Sf(),n={};_v()?n.iosBundleId=e.packageName:xv()?n.androidPackageName=e.packageName:Xi(t,"operation-not-supported-in-this-environment"),await Iz(t,n)}function sue(t){const{cordova:e}=Sf();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,doe()?"_blank":"_system","location=yes"),n(i)})})}async function aue(t,e,n){const{cordova:r}=Sf();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function l(){var h;s();const f=(h=r.plugins.browsertab)==null?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){o||(o=window.setTimeout(()=>{a(yi(t,"redirect-cancelled-by-user"))},nue))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),xv()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}})}finally{i()}}function oue(t){var n,r,i,s,a,o,l,c,u,f;const e=Sf();ft(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ft(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ft(typeof((a=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ft(typeof((c=(l=(o=e==null?void 0:e.cordova)==null?void 0:o.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ft(typeof((f=(u=e==null?void 0:e.cordova)==null?void 0:u.InAppBrowser)==null?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function lue(t){const e=cue(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function cue(t){if(Lo(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uue=20;class due extends Nz{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function fue(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:mue(),postBody:null,tenantId:t.tenantId,error:yi(t,"no-auth-event")}}function hue(t,e){return l4()._set(c4(t),e)}async function yF(t){const e=await l4()._get(c4(t));return e&&await l4()._remove(c4(t)),e}function pue(t,e){var r,i;const n=yue(e);if(n.includes("/__/auth/callback")){const s=m2(n),a=s.firebaseError?gue(decodeURIComponent(s.firebaseError)):null,o=(i=(r=a==null?void 0:a.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=o?yi(o):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function mue(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<uue;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function l4(){return Ta(eI)}function c4(t){return sf("authEvent",t.config.apiKey,t.name)}function gue(t){try{return JSON.parse(t)}catch{return null}}function yue(t){const e=m2(t),n=e.link?decodeURIComponent(e.link):void 0,r=m2(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return m2(i).link||i||r||n||t}function m2(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return pp(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vue=500;class xue{constructor(){this._redirectPersistence=Ef,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wb,this._overrideRedirectResult=sI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new due(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Xi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){oue(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),hce(),await this._originValidation(e);const a=fue(e,r,i);await hue(e,a);const o=await rue(e,a,n),l=await sue(o);return aue(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iue(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Sf(),a=setTimeout(async()=>{await yF(e),n.onEvent(vF())},vue),o=async u=>{clearTimeout(a);const f=await yF(e);let h=null;f&&(u!=null&&u.url)&&(h=pue(f,u.url)),n.onEvent(h||vF())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const l=i,c=`${s.packageName.toLowerCase()}://`;Sf().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&o({url:u}),typeof l=="function")try{l(u)}catch(f){console.error(f)}}}}const _ue=xue;function vF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yi("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(t,e){kr(t)._logFramework(e)}var wue="@firebase/auth-compat",Tue="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue=1e3;function R0(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function Cue(){return R0()==="http:"||R0()==="https:"}function Pz(t=Ar()){return!!((R0()==="file:"||R0()==="ionic:"||R0()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sue(){return ob()||ab()}function Due(){return IB()&&(document==null?void 0:document.documentMode)===11}function Aue(t=Ar()){return/Edge\/\d+/.test(t)}function Nue(t=Ar()){return Due()||Aue(t)}function Fz(){try{const t=self.localStorage,e=Tv();if(t)return t.setItem(e,"1"),t.removeItem(e),Nue()?Z0():!0}catch{return oI()&&Z0()}return!1}function oI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function eC(){return(Cue()||kB()||Pz())&&!Sue()&&Fz()&&!oI()}function Mz(){return Pz()&&typeof document<"u"}async function kue(){return Mz()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Eue);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Iue(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va={LOCAL:"local",NONE:"none",SESSION:"session"},jg=ft,Uz="persistence";function Rue(t,e){if(jg(Object.values(va).includes(e),t,"invalid-persistence-type"),ob()){jg(e!==va.SESSION,t,"unsupported-persistence-type");return}if(ab()){jg(e===va.NONE,t,"unsupported-persistence-type");return}if(oI()){jg(e===va.NONE||e===va.LOCAL&&Z0(),t,"unsupported-persistence-type");return}jg(e===va.NONE||Fz(),t,"unsupported-persistence-type")}async function u4(t){await t._initializationPromise;const e=Oz(),n=sf(Uz,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function Pue(t,e){const n=Oz();if(!n)return[];const r=sf(Uz,t,e);switch(n.getItem(r)){case va.NONE:return[im];case va.LOCAL:return[Ty,Ef];case va.SESSION:return[Ef];default:return[]}}function Oz(){var t;try{return((t=Iue())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fue=ft;class hu{constructor(){this.browserResolver=Ta(Xce),this.cordovaResolver=Ta(_ue),this.underlyingResolver=null,this._redirectPersistence=Ef,this._completeRedirectFn=Wb,this._overrideRedirectResult=sI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Mz()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fue(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await kue();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t){return t.unwrap()}function Mue(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uue(t){return jz(t)}function Oue(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Lue(t,Ale(t,e))}else if(n){const i=jz(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function jz(t){const{_tokenResponse:e}=t instanceof gs?t.customData:t;if(!e)return null;if(!(t instanceof gs)&&"temporaryProof"in e&&"phoneNumber"in e)return Cf.credentialFromResult(t);const n=e.providerId;if(!n||n===Og.PASSWORD)return null;let r;switch(n){case Og.GOOGLE:r=ll;break;case Og.FACEBOOK:r=ol;break;case Og.GITHUB:r=cl;break;case Og.TWITTER:r=ul;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:l}=e;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?sm._create(n,o):Cl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new Tp(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof gs?r.credentialFromError(t):r.credentialFromResult(t)}function Js(t,e){return e.catch(n=>{throw n instanceof gs&&Oue(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:Uue(n),additionalUserInfo:Dle(n),user:Ql.getOrCreate(i)}})}async function d4(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Js(t,n.confirm(r))}}class Lue{constructor(e,n){this.resolver=n,this.auth=Mue(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Js(Lz(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._delegate=e,this.multiFactor=Ile(e)}static getOrCreate(e){return Ql.USER_MAP.has(e)||Ql.USER_MAP.set(e,new Ql(e)),Ql.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Js(this.auth,pz(this._delegate,e))}async linkWithPhoneNumber(e,n){return d4(this.auth,ece(this._delegate,e,n))}async linkWithPopup(e){return Js(this.auth,cce(this._delegate,e,hu))}async linkWithRedirect(e){return await u4(kr(this.auth)),vce(this._delegate,e,hu)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Js(this.auth,mz(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return d4(this.auth,tce(this._delegate,e,n))}reauthenticateWithPopup(e){return Js(this.auth,lce(this._delegate,e,hu))}async reauthenticateWithRedirect(e){return await u4(kr(this.auth)),gce(this._delegate,e,hu)}sendEmailVerification(e){return gle(this._delegate,e)}async unlink(e){return await nle(this._delegate,e),this}updateEmail(e){return _le(this._delegate,e)}updatePassword(e){return ble(this._delegate,e)}updatePhoneNumber(e){return nce(this._delegate,e)}updateProfile(e){return xle(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return yle(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ql.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=ft;class f4{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Bg(r,"invalid-api-key",{appName:e.name}),Bg(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?hu:void 0;this._delegate=n.initialize({options:{persistence:jue(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Hae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ql.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Poe(this._delegate,e,n)}applyActionCode(e){return ole(this._delegate,e)}checkActionCode(e){return gz(this._delegate,e)}confirmPasswordReset(e,n){return ale(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Js(this._delegate,cle(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return mle(this._delegate,e)}isSignInWithEmailLink(e){return fle(this._delegate,e)}async getRedirectResult(){Bg(eC(),this._delegate,"operation-not-supported-in-this-environment");const e=await _ce(this._delegate,hu);return e?Js(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){bue(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:a}=xF(e,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:a}=xF(e,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(e,n){return dle(this._delegate,e,n)}sendPasswordResetEmail(e,n){return sle(this._delegate,e,n||void 0)}async setPersistence(e){Rue(this._delegate,e);let n;switch(e){case va.SESSION:n=Ef;break;case va.LOCAL:n=await Ta(Ty)._isAvailable()?Ty:eI;break;case va.NONE:n=im;break;default:return Xi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Js(this._delegate,tle(this._delegate))}signInWithCredential(e){return Js(this._delegate,Ob(this._delegate,e))}signInWithCustomToken(e){return Js(this._delegate,ile(this._delegate,e))}signInWithEmailAndPassword(e,n){return Js(this._delegate,ule(this._delegate,e,n))}signInWithEmailLink(e,n){return Js(this._delegate,hle(this._delegate,e,n))}signInWithPhoneNumber(e,n){return d4(this._delegate,Zle(this._delegate,e,n))}async signInWithPopup(e){return Bg(eC(),this._delegate,"operation-not-supported-in-this-environment"),Js(this._delegate,oce(this._delegate,e,hu))}async signInWithRedirect(e){return Bg(eC(),this._delegate,"operation-not-supported-in-this-environment"),await u4(this._delegate),pce(this._delegate,e,hu)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return lle(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}f4.Persistence=va;function xF(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&Ql.getOrCreate(a)),error:e,complete:n}}function jue(t,e){const n=Pue(t,e);if(typeof self<"u"&&!n.includes(Ty)&&n.push(Ty),typeof window<"u")for(const r of[eI,Ef])n.includes(r)||n.push(r);return n.includes(im)||n.push(im),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{static credential(e,n){return Cf.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Cf(Lz(Ur.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}lI.PHONE_SIGN_IN_METHOD=Cf.PHONE_SIGN_IN_METHOD;lI.PROVIDER_ID=Cf.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bue=ft;class Vue{constructor(e,n,r=Ur.app()){var i;Bue((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Yle(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wue="auth-compat";function que(t){t.INTERNAL.registerComponent(new Os(Wue,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new f4(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jh.EMAIL_SIGNIN,PASSWORD_RESET:Jh.PASSWORD_RESET,RECOVER_EMAIL:Jh.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Jh.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Jh.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Jh.VERIFY_EMAIL}},EmailAuthProvider:nd,FacebookAuthProvider:ol,GithubAuthProvider:cl,GoogleAuthProvider:ll,OAuthProvider:Tp,SAMLAuthProvider:d_,PhoneAuthProvider:lI,PhoneMultiFactorGenerator:Rz,RecaptchaVerifier:Vue,TwitterAuthProvider:ul,Auth:f4,AuthCredential:Pm,Error:gs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(wue,Tue)}que(Ur);var _F={};const bF="@firebase/database",wF="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bz="";function Vz(t){Bz=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ey(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Sa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zue(e)}}catch{}return new Hue},Zd=Wz("localStorage"),h4=Wz("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Tm("@firebase/database"),qz=(function(){let t=1;return function(){return t++}})(),zz=function(t){const e=nte(t),n=new Zee;n.update(e);const r=n.digest();return wN.encodeByteArray(r)},Cv=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Cv.apply(null,r):typeof r=="object"?e+=pi(r):e+=r,e+=" "}return e};let of=null,TF=!0;const Hz=function(t,e){mt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Cp.logLevel=dn.VERBOSE,of=Cp.log.bind(Cp),e&&h4.set("logging_enabled",!0)):typeof t=="function"?of=t:(of=null,h4.remove("logging_enabled"))},Ri=function(...t){if(TF===!0&&(TF=!1,of===null&&h4.get("logging_enabled")===!0&&Hz(!0)),of){const e=Cv.apply(null,t);of(e)}},Sv=function(t){return function(...e){Ri(t,...e)}},p4=function(...t){const e="FIREBASE INTERNAL ERROR: "+Cv(...t);Cp.error(e)},Sl=function(...t){const e=`FIREBASE FATAL ERROR: ${Cv(...t)}`;throw Cp.error(e),new Error(e)},vs=function(...t){const e="FIREBASE WARNING: "+Cv(...t);Cp.warn(e)},$ue=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Gue=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bu="[MIN_NAME]",mc="[MAX_NAME]",Kf=function(t,e){if(t===e)return 0;if(t===Bu||e===mc)return-1;if(e===Bu||t===mc)return 1;{const n=EF(t),r=EF(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Kue=function(t,e){return t===e?0:t<e?-1:1},Vg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+pi(e))},cI=function(t){if(typeof t!="object"||t===null)return pi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=pi(e[r]),n+=":",n+=cI(t[e[r]]);return n+="}",n},$z=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ui(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Gz=function(t){mt(!qb(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=o+r,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Xue=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Jue=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Yue(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Que=new RegExp("^-?(0*)\\d{1,10}$"),Zue=-2147483648,ede=2147483647,EF=function(t){if(Que.test(t)){const e=Number(t);if(e>=Zue&&e<=ede)return e}return null},Mm=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vs("Exception was thrown by user callback.",n),e},Math.floor(0))}},tde=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},P0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Qn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vs(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rde{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ri("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vs(e)}}class Sp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Sp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="5",Kz="v",Xz="s",Jz="r",Yz="f",Qz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zz="ls",eH="p",m4="ac",tH="websocket",nH="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,n,r,i,s=!1,a="",o=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zd.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ide(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function iH(t,e,n){mt(typeof e=="string","typeof type must == string"),mt(typeof n=="object","typeof params must == object");let r;if(e===tH)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===nH)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ide(t)&&(n.ns=t.namespace);const i=[];return Ui(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde{constructor(){this.counters_={}}incrementCounter(e,n=1){Sa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Fee(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={},nC={};function dI(t){const e=t.toString();return tC[e]||(tC[e]=new sde),tC[e]}function ade(t,e){const n=t.toString();return nC[n]||(nC[n]=e()),nC[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ode{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Mm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="start",lde="close",cde="pLPCommand",ude="pRTLPCB",sH="id",aH="pw",oH="ser",dde="cb",fde="seg",hde="ts",pde="d",mde="dframe",lH=1870,cH=30,gde=lH-cH,yde=25e3,vde=3e4;class pu{constructor(e,n,r,i,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sv(e),this.stats_=dI(n),this.urlFn=l=>(this.appCheckToken&&(l[m4]=this.appCheckToken),iH(n,nH,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ode(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vde)),Gue(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fI((...s)=>{const[a,o,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===CF)this.id=o,this.password=l;else if(a===lde)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[CF]="t",r[oH]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dde]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Kz]=uI,this.transportSessionId&&(r[Xz]=this.transportSessionId),this.lastSessionId&&(r[Zz]=this.lastSessionId),this.applicationId&&(r[eH]=this.applicationId),this.appCheckToken&&(r[m4]=this.appCheckToken),typeof location<"u"&&location.hostname&&Qz.test(location.hostname)&&(r[Jz]=Yz);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pu.forceAllow_=!0}static forceDisallow(){pu.forceDisallow_=!0}static isAvailable(){return pu.forceAllow_?!0:!pu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Xue()&&!Jue()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=pi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=AB(n),i=$z(r,gde);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mde]="t",r[sH]=e,r[aH]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=pi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class fI{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qz(),window[cde+this.uniqueCallbackIdentifier]=e,window[ude+this.uniqueCallbackIdentifier]=n,this.myIFrame=fI.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Ri("frame writing exception"),o.stack&&Ri(o.stack),Ri(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ri("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[sH]=this.myID,e[aH]=this.myPW,e[oH]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cH+r.length<=lH;){const a=this.pendingSegs.shift();r=r+"&"+fde+i+"="+a.seg+"&"+hde+i+"="+a.ts+"&"+pde+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(yde)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ri("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xde=16384,_de=45e3;let m_=null;typeof MozWebSocket<"u"?m_=MozWebSocket:typeof WebSocket<"u"&&(m_=WebSocket);class Xa{constructor(e,n,r,i,s,a,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sv(this.connId),this.stats_=dI(n),this.connURL=Xa.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[Kz]=uI,typeof location<"u"&&location.hostname&&Qz.test(location.hostname)&&(a[Jz]=Yz),n&&(a[Xz]=n),r&&(a[Zz]=r),i&&(a[m4]=i),s&&(a[eH]=s),iH(e,tH,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zd.set("previous_websocket_failure",!0);try{let r;$ee(),this.mySock=new m_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Xa.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&m_!==null&&!Xa.forceDisallow_}static previouslyFailed(){return Zd.isInMemoryStorage||Zd.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ey(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(mt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=pi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$z(n,xde);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_de))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xa.responsesRequiredToBeHealthy=2;Xa.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static get ALL_TRANSPORTS(){return[pu,Xa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xa&&Xa.isAvailable();let r=n&&!Xa.previouslyFailed();if(e.webSocketOnly&&(n||vs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xa];else{const i=this.transports_=[];for(const s of am.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);am.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}am.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bde=6e4,wde=5e3,Tde=10*1024,Ede=100*1024,rC="t",SF="d",Cde="s",DF="r",Sde="e",AF="o",NF="a",kF="n",IF="p",Dde="h";class Ade{constructor(e,n,r,i,s,a,o,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sv("c:"+this.id+":"),this.transportManager_=new am(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=P0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ede?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Tde?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rC in e){const n=e[rC];n===NF?this.upgradeIfSecondaryHealthy_():n===DF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===AF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vg("t",e),r=Vg("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:IF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:NF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vg("t",e),r=Vg("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vg(rC,e);if(SF in e){const r=e[SF];if(n===Dde){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===kF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Cde?this.onConnectionShutdown_(r):n===DF?this.onReset_(r):n===Sde?p4("Server Error: "+r):n===AF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):p4("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),uI!==r&&vs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),P0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bde))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):P0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wde))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:IF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e){this.allowedEvents_=e,this.listeners_={},mt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){mt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends dH{static getInstance(){return new g_}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!SN()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return mt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=32,PF=768;class Fn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Sn(){return new Fn("")}function sn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Vu(t){return t.pieces_.length-t.pieceNum_}function Xn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Fn(t.pieces_,e)}function hI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Nde(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ey(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fH(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Fn(e,0)}function xr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Fn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Fn(n,0)}function an(t){return t.pieceNum_>=t.pieces_.length}function Rs(t,e){const n=sn(t),r=sn(e);if(n===null)return e;if(n===r)return Rs(Xn(t),Xn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function kde(t,e){const n=Ey(t,0),r=Ey(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Kf(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function pI(t,e){if(Vu(t)!==Vu(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ya(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Vu(t)>Vu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Ide{constructor(e,n){this.errorPrefix_=n,this.parts_=Ey(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lb(this.parts_[r]);hH(this)}}function Rde(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=lb(e),hH(t)}function Pde(t){const e=t.parts_.pop();t.byteLength_-=lb(e),t.parts_.length>0&&(t.byteLength_-=1)}function hH(t){if(t.byteLength_>PF)throw new Error(t.errorPrefix_+"has a key path longer than "+PF+" bytes ("+t.byteLength_+").");if(t.parts_.length>RF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+RF+") or object contains a cycle "+Bd(t))}function Bd(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI extends dH{static getInstance(){return new mI}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return mt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=1e3,Fde=300*1e3,FF=30*1e3,Mde=1.3,Ude=3e4,Ode="server_kill",MF=3;class rc extends uH{constructor(e,n,r,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=rc.nextPersistentConnectionId_++,this.log_=Sv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wg,this.maxReconnectDelay_=Fde,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&g_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(pi(s)),mt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ys,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),mt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),mt(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;rc.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Sa(e,"w")){const r=pf(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();vs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Qee(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=FF)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Yee(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),mt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+pi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):p4("Unrecognized action received from server: "+pi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){mt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wg,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ude&&(this.reconnectDelay_=Wg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Mde)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+rc.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,r())},c=function(f){mt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Ri("getToken() completed but was canceled"):(Ri("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,o=new Ade(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{vs(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ode)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&vs(f),l())}}}interrupt(e){Ri("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ri("Resuming connection for reason: "+e),delete this.interruptReasons_[e],q2(this.interruptReasons_)&&(this.reconnectDelay_=Wg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>cI(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Fn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ri("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=MF&&(this.reconnectDelay_=FF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ri("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=MF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Bz.replace(/\./g,"-")]=1,SN()?e["framework.cordova"]=1:ob()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=g_.getInstance().currentlyOnline();return q2(this.interruptReasons_)&&e}}rc.nextPersistentConnectionId_=0;rc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new fn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new fn(Bu,e),i=new fn(Bu,n);return this.compare(r,i)!==0}minPost(){return fn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1;class pH extends zb{static get __EMPTY_NODE(){return m1}static set __EMPTY_NODE(e){m1=e}compare(e,n){return Kf(e.name,n.name)}isDefinedOn(e){throw wm("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return fn.MIN}maxPost(){return new fn(mc,m1)}makePost(e,n){return mt(typeof e=="string","KeyIndex indexValue must always be a string."),new fn(e,m1)}toString(){return".key"}}const _l=new pH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ii{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ii.RED,this.left=i??ta.EMPTY_NODE,this.right=s??ta.EMPTY_NODE}copy(e,n,r,i,s){return new Ii(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ta.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ta.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ii.RED=!0;Ii.BLACK=!1;class Lde{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ii(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ta{constructor(e,n=ta.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ta(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ii.BLACK,null,null))}remove(e){return new ta(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ii.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new g1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new g1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new g1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new g1(this.root_,null,this.comparator_,!0,e)}}ta.EMPTY_NODE=new Lde;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jde(t,e){return Kf(t.name,e.name)}function gI(t,e){return Kf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g4;function Bde(t){g4=t}const mH=function(t){return typeof t=="number"?"number:"+Gz(t):"string:"+t},gH=function(t){if(t.isLeafNode()){const e=t.val();mt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sa(e,".sv"),"Priority must be a string or number.")}else mt(t===g4||t.isEmpty(),"priority of unexpected type.");mt(t===g4||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UF;class Si{static set __childrenNodeConstructor(e){UF=e}static get __childrenNodeConstructor(){return UF}constructor(e,n=Si.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,mt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gH(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Si(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Si.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return an(e)?this:sn(e)===".priority"?this.priorityNode_:Si.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Si.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=sn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(mt(r!==".priority"||Vu(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Si.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+mH(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Gz(this.value_):e+=this.value_,this.lazyHash_=zz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Si.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Si.__childrenNodeConstructor?-1:(mt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Si.VALUE_TYPE_ORDER.indexOf(n),s=Si.VALUE_TYPE_ORDER.indexOf(r);return mt(i>=0,"Unknown leaf type: "+n),mt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Si.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yH,vH;function Vde(t){yH=t}function Wde(t){vH=t}class qde extends zb{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Kf(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return fn.MIN}maxPost(){return new fn(mc,new Si("[PRIORITY-POST]",vH))}makePost(e,n){const r=yH(e);return new fn(n,new Si("[PRIORITY-POST]",r))}toString(){return".priority"}}const Zn=new qde;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zde=Math.log(2);class Hde{constructor(e){const n=s=>parseInt(Math.log(s)/zde,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const y_=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=n?n(f):f,new Ii(h,f.node,Ii.BLACK,null,null);{const p=parseInt(u/2,10)+l,v=i(l,p),g=i(p+1,c);return f=t[p],h=n?n(f):f,new Ii(h,f.node,Ii.BLACK,v,g)}},s=function(l){let c=null,u=null,f=t.length;const h=function(v,g){const y=f-v,b=f;f-=v;const x=i(y+1,b),w=t[y],E=n?n(w):w;p(new Ii(E,w.node,g,null,x))},p=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));g?h(y,Ii.BLACK):(h(y,Ii.BLACK),h(y,Ii.RED))}return u},a=new Hde(t.length),o=s(a);return new ta(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iC;const Yh={};class Zl{static get Default(){return mt(Yh&&Zn,"ChildrenNode.ts has not been loaded"),iC=iC||new Zl({".priority":Yh},{".priority":Zn}),iC}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=pf(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ta?n:null}hasIndex(e){return Sa(this.indexSet_,e.toString())}addIndex(e,n){mt(e!==_l,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(fn.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=y_(r,e.getCompare()):o=Yh;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=o,new Zl(u,c)}addToIndexes(e,n){const r=z2(this.indexes_,(i,s)=>{const a=pf(this.indexSet_,s);if(mt(a,"Missing index implementation for "+s),i===Yh)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(fn.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),y_(o,a.getCompare())}else return Yh;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new fn(e.name,o))),l.insert(e,e.node)}});return new Zl(r,this.indexSet_)}removeFromIndexes(e,n){const r=z2(this.indexes_,i=>{if(i===Yh)return i;{const s=n.get(e.name);return s?i.remove(new fn(e.name,s)):i}});return new Zl(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg;class qt{static get EMPTY_NODE(){return qg||(qg=new qt(new ta(gI),null,Zl.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&gH(this.priorityNode_),this.children_.isEmpty()&&mt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qg}updatePriority(e){return this.children_.isEmpty()?this:new qt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?qg:n}}getChild(e){const n=sn(e);return n===null?this:this.getImmediateChild(n).getChild(Xn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(mt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new fn(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?qg:this.priorityNode_;return new qt(i,a,s)}}updateChild(e,n){const r=sn(e);if(r===null)return n;{mt(sn(e)!==".priority"||Vu(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Xn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Zn,(a,o)=>{n[a]=o.val(e),r++,s&&qt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+mH(this.getPriority().val())+":"),this.forEachChild(Zn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":zz(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new fn(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new fn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new fn(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,fn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,fn.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dv?-1:0}withIndex(e){if(e===_l||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new qt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===_l||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Zn),i=n.getIterator(Zn);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===_l?null:this.indexMap_.get(e.toString())}}qt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $de extends qt{constructor(){super(new ta(gI),qt.EMPTY_NODE,Zl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qt.EMPTY_NODE}isEmpty(){return!1}}const Dv=new $de;Object.defineProperties(fn,{MIN:{value:new fn(Bu,qt.EMPTY_NODE)},MAX:{value:new fn(mc,Dv)}});pH.__EMPTY_NODE=qt.EMPTY_NODE;Si.__childrenNodeConstructor=qt;Bde(Dv);Wde(Dv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde=!0;function Cr(t,e=null){if(t===null)return qt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),mt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Si(n,Cr(e))}if(!(t instanceof Array)&&Gde){const n=[];let r=!1;if(Ui(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Cr(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new fn(a,l)))}}),n.length===0)return qt.EMPTY_NODE;const s=y_(n,jde,a=>a.name,gI);if(r){const a=y_(n,Zn.getCompare());return new qt(s,Cr(e),new Zl({".priority":a},{".priority":Zn}))}else return new qt(s,Cr(e),Zl.Default)}else{let n=qt.EMPTY_NODE;return Ui(t,(r,i)=>{if(Sa(t,r)&&r.substring(0,1)!=="."){const s=Cr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Cr(e))}}Vde(Cr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends zb{constructor(e){super(),this.indexPath_=e,mt(!an(e)&&sn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Kf(e.name,n.name):s}makePost(e,n){const r=Cr(e),i=qt.EMPTY_NODE.updateChild(this.indexPath_,r);return new fn(n,i)}maxPost(){const e=qt.EMPTY_NODE.updateChild(this.indexPath_,Dv);return new fn(mc,e)}toString(){return Ey(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kde extends zb{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Kf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return fn.MIN}maxPost(){return fn.MAX}makePost(e,n){const r=Cr(e);return new fn(n,r)}toString(){return".value"}}const vI=new Kde;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(t){return{type:"value",snapshotNode:t}}function om(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Cy(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Sy(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Xde(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){mt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Cy(n,o)):mt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(om(n,r)):a.trackChildChange(Sy(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Zn,(i,s)=>{n.hasChild(i)||r.trackChildChange(Cy(i,s))}),n.isLeafNode()||n.forEachChild(Zn,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Sy(i,s,a))}else r.trackChildChange(om(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?qt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.indexedFilter_=new xI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Dy.getStartPost_(e),this.endPost_=Dy.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new fn(n,r))||(r=qt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=qt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(qt.EMPTY_NODE);const s=this;return n.forEachChild(Zn,(a,o)=>{s.matches(new fn(a,o))||(i=i.updateImmediateChild(a,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jde{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Dy(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new fn(n,r))||(r=qt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=qt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=qt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(qt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(h,p)=>f(p,h)}else a=this.index_.getCompare();const o=e;mt(o.numChildren()===this.limit_,"");const l=new fn(n,r),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||o.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:a(h,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Sy(n,r,f)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Cy(n,f));const g=o.updateImmediateChild(n,qt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(om(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:u&&a(c,l)>=0?(s!=null&&(s.trackChildChange(Cy(c.name,c.node)),s.trackChildChange(om(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(c.name,qt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return mt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return mt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bu}hasEnd(){return this.endSet_}getIndexEndValue(){return mt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return mt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return mt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zn}copy(){const e=new Hb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Yde(t){return t.loadsAllData()?new xI(t.getIndex()):t.hasLimit()?new Jde(t):new Dy(t)}function Qde(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Zde(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function y4(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function efe(t,e,n){let r;return t.index_===_l||n?r=y4(t,e,n):r=y4(t,e,mc),r.startAfterSet_=!0,r}function v4(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function tfe(t,e,n){let r;return t.index_===_l||n?r=v4(t,e,n):r=v4(t,e,Bu),r.endBeforeSet_=!0,r}function $b(t,e){const n=t.copy();return n.index_=e,n}function OF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Zn?n="$priority":t.index_===vI?n="$value":t.index_===_l?n="$key":(mt(t.index_ instanceof yI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=pi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=pi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+pi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=pi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+pi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function LF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Zn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends uH{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(mt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Sv("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=v_.getListenId_(e,r),o={};this.listens_[a]=o;const l=OF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),pf(this.listens_,a)===o){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=v_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=OF(e._queryParams),r=e._path.toString(),i=new Ys;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wf(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=ey(o.responseText)}catch{vs("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&vs("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nfe{constructor(){this.rootNode_=qt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(){return{value:null,children:new Map}}function Um(t,e,n){if(an(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=sn(e);t.children.has(r)||t.children.set(r,x_());const i=t.children.get(r);e=Xn(e),Um(i,e,n)}}function x4(t,e){if(an(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Zn,(r,i)=>{Um(t,new Fn(r),i)}),x4(t,e)}}else if(t.children.size>0){const n=sn(e);return e=Xn(e),t.children.has(n)&&x4(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function _4(t,e,n){t.value!==null?n(e,t.value):rfe(t,(r,i)=>{const s=new Fn(e.toString()+"/"+r);_4(i,s,n)})}function rfe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ife{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ui(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=10*1e3,sfe=30*1e3,afe=300*1e3;class ofe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ife(e);const r=jF+(sfe-jF)*Math.random();P0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ui(e,(i,s)=>{s>0&&Sa(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),P0(this.reportStats_.bind(this),Math.floor(Math.random()*2*afe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(No||(No={}));function _I(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=No.ACK_USER_WRITE,this.source=_I()}operationForChild(e){if(an(this.path)){if(this.affectedTree.value!=null)return mt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Fn(e));return new __(Sn(),n,this.revert)}}else return mt(sn(this.path)===e,"operationForChild called for unrelated child."),new __(Xn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this.source=e,this.path=n,this.type=No.LISTEN_COMPLETE}operationForChild(e){return an(this.path)?new Ay(this.source,Sn()):new Ay(this.source,Xn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=No.OVERWRITE}operationForChild(e){return an(this.path)?new Df(this.source,Sn(),this.snap.getImmediateChild(e)):new Df(this.source,Xn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=No.MERGE}operationForChild(e){if(an(this.path)){const n=this.children.subtree(new Fn(e));return n.isEmpty()?null:n.value?new Df(this.source,Sn(),n.value):new lm(this.source,Sn(),n)}else return mt(sn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lm(this.source,Xn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(an(e))return this.isFullyInitialized()&&!this.filtered_;const n=sn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function cfe(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(Xde(a.childName,a.snapshotNode))}),zg(t,i,"child_removed",e,r,n),zg(t,i,"child_added",e,r,n),zg(t,i,"child_moved",s,r,n),zg(t,i,"child_changed",e,r,n),zg(t,i,"value",e,r,n),i}function zg(t,e,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,l)=>dfe(t,o,l)),a.forEach(o=>{const l=ufe(t,o,s);i.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function ufe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function dfe(t,e,n){if(e.childName==null||n.childName==null)throw wm("Should only compare child_ events.");const r=new fn(e.childName,e.snapshotNode),i=new fn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){return{eventCache:t,serverCache:e}}function F0(t,e,n,r){return Gb(new Wu(e,n,r),t.serverCache)}function _H(t,e,n,r){return Gb(t.eventCache,new Wu(e,n,r))}function b_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Af(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sC;const ffe=()=>(sC||(sC=new ta(Kue)),sC);class Yn{static fromObject(e){let n=new Yn(null);return Ui(e,(r,i)=>{n=n.set(new Fn(r),i)}),n}constructor(e,n=ffe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Sn(),value:this.value};if(an(e))return null;{const r=sn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Xn(e),n);return s!=null?{path:xr(new Fn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(an(e))return this;{const n=sn(e),r=this.children.get(n);return r!==null?r.subtree(Xn(e)):new Yn(null)}}set(e,n){if(an(e))return new Yn(n,this.children);{const r=sn(e),s=(this.children.get(r)||new Yn(null)).set(Xn(e),n),a=this.children.insert(r,s);return new Yn(this.value,a)}}remove(e){if(an(e))return this.children.isEmpty()?new Yn(null):new Yn(null,this.children);{const n=sn(e),r=this.children.get(n);if(r){const i=r.remove(Xn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Yn(null):new Yn(this.value,s)}else return this}}get(e){if(an(e))return this.value;{const n=sn(e),r=this.children.get(n);return r?r.get(Xn(e)):null}}setTree(e,n){if(an(e))return n;{const r=sn(e),s=(this.children.get(r)||new Yn(null)).setTree(Xn(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new Yn(this.value,a)}}fold(e){return this.fold_(Sn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(xr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Sn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(an(e))return null;{const s=sn(e),a=this.children.get(s);return a?a.findOnPath_(Xn(e),xr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Sn(),n)}foreachOnPath_(e,n,r){if(an(e))return this;{this.value&&r(n,this.value);const i=sn(e),s=this.children.get(i);return s?s.foreachOnPath_(Xn(e),xr(n,i),r):new Yn(null)}}foreach(e){this.foreach_(Sn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(xr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.writeTree_=e}static empty(){return new Mo(new Yn(null))}}function M0(t,e,n){if(an(e))return new Mo(new Yn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=Rs(i,e);return s=s.updateChild(a,n),new Mo(t.writeTree_.set(i,s))}else{const i=new Yn(n),s=t.writeTree_.setTree(e,i);return new Mo(s)}}}function b4(t,e,n){let r=t;return Ui(n,(i,s)=>{r=M0(r,xr(e,i),s)}),r}function BF(t,e){if(an(e))return Mo.empty();{const n=t.writeTree_.setTree(e,new Yn(null));return new Mo(n)}}function w4(t,e){return Xf(t,e)!=null}function Xf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rs(n.path,e)):null}function VF(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Zn,(r,i)=>{e.push(new fn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new fn(r,i.value))}),e}function Cu(t,e){if(an(e))return t;{const n=Xf(t,e);return n!=null?new Mo(new Yn(n)):new Mo(t.writeTree_.subtree(e))}}function T4(t){return t.writeTree_.isEmpty()}function cm(t,e){return bH(Sn(),t.writeTree_,e)}function bH(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(mt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=bH(xr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t,e){return CH(e,t)}function hfe(t,e,n,r,i){mt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=M0(t.visibleWrites,e,n)),t.lastWriteId=r}function pfe(t,e,n,r){mt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=b4(t.visibleWrites,e,n),t.lastWriteId=r}function mfe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function gfe(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);mt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&yfe(o,r.path)?i=!1:Ya(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return vfe(t),!0;if(r.snap)t.visibleWrites=BF(t.visibleWrites,r.path);else{const o=r.children;Ui(o,l=>{t.visibleWrites=BF(t.visibleWrites,xr(r.path,l))})}return!0}else return!1}function yfe(t,e){if(t.snap)return Ya(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ya(xr(t.path,n),e))return!0;return!1}function vfe(t){t.visibleWrites=wH(t.allWrites,xfe,Sn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function xfe(t){return t.visible}function wH(t,e,n){let r=Mo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)Ya(n,a)?(o=Rs(n,a),r=M0(r,o,s.snap)):Ya(a,n)&&(o=Rs(a,n),r=M0(r,Sn(),s.snap.getChild(o)));else if(s.children){if(Ya(n,a))o=Rs(n,a),r=b4(r,o,s.children);else if(Ya(a,n))if(o=Rs(a,n),an(o))r=b4(r,Sn(),s.children);else{const l=pf(s.children,sn(o));if(l){const c=l.getChild(Xn(o));r=M0(r,Sn(),c)}}}else throw wm("WriteRecord should have .snap or .children")}}return r}function TH(t,e,n,r,i){if(!r&&!i){const s=Xf(t.visibleWrites,e);if(s!=null)return s;{const a=Cu(t.visibleWrites,e);if(T4(a))return n;if(n==null&&!w4(a,Sn()))return null;{const o=n||qt.EMPTY_NODE;return cm(a,o)}}}else{const s=Cu(t.visibleWrites,e);if(!i&&T4(s))return n;if(!i&&n==null&&!w4(s,Sn()))return null;{const a=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ya(c.path,e)||Ya(e,c.path))},o=wH(t.allWrites,a,e),l=n||qt.EMPTY_NODE;return cm(o,l)}}}function _fe(t,e,n){let r=qt.EMPTY_NODE;const i=Xf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zn,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Cu(t.visibleWrites,e);return n.forEachChild(Zn,(a,o)=>{const l=cm(Cu(s,new Fn(a)),o);r=r.updateImmediateChild(a,l)}),VF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Cu(t.visibleWrites,e);return VF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function bfe(t,e,n,r,i){mt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=xr(e,n);if(w4(t.visibleWrites,s))return null;{const a=Cu(t.visibleWrites,s);return T4(a)?i.getChild(n):cm(a,i.getChild(n))}}function wfe(t,e,n,r){const i=xr(e,n),s=Xf(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Cu(t.visibleWrites,i);return cm(a,r.getNode().getImmediateChild(n))}else return null}function Tfe(t,e){return Xf(t.visibleWrites,e)}function Efe(t,e,n,r,i,s,a){let o;const l=Cu(t.visibleWrites,e),c=Xf(l,Sn());if(c!=null)o=c;else if(n!=null)o=cm(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const u=[],f=a.getCompare(),h=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let p=h.getNext();for(;p&&u.length<i;)f(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Cfe(){return{visibleWrites:Mo.empty(),allWrites:[],lastWriteId:-1}}function w_(t,e,n,r){return TH(t.writeTree,t.treePath,e,n,r)}function TI(t,e){return _fe(t.writeTree,t.treePath,e)}function WF(t,e,n,r){return bfe(t.writeTree,t.treePath,e,n,r)}function T_(t,e){return Tfe(t.writeTree,xr(t.treePath,e))}function Sfe(t,e,n,r,i,s){return Efe(t.writeTree,t.treePath,e,n,r,i,s)}function EI(t,e,n){return wfe(t.writeTree,t.treePath,e,n)}function EH(t,e){return CH(xr(t.treePath,e),t.writeTree)}function CH(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;mt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),mt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Sy(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Cy(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,om(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Sy(r,e.snapshotNode,i.oldSnap));else throw wm("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const SH=new Afe;class CI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Wu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return EI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Af(this.viewCache_),s=Sfe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nfe(t){return{filter:t}}function kfe(t,e){mt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),mt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ife(t,e,n,r,i){const s=new Dfe;let a,o;if(n.type===No.OVERWRITE){const c=n;c.source.fromUser?a=E4(t,e,c.path,c.snap,r,i,s):(mt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!an(c.path),a=E_(t,e,c.path,c.snap,r,i,o,s))}else if(n.type===No.MERGE){const c=n;c.source.fromUser?a=Pfe(t,e,c.path,c.children,r,i,s):(mt(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=C4(t,e,c.path,c.children,r,i,o,s))}else if(n.type===No.ACK_USER_WRITE){const c=n;c.revert?a=Ufe(t,e,c.path,r,i,s):a=Ffe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===No.LISTEN_COMPLETE)a=Mfe(t,e,n.path,r,s);else throw wm("Unknown operation type: "+n.type);const l=s.getChanges();return Rfe(e,a,l),{viewCache:a,changes:l}}function Rfe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=b_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(xH(b_(e)))}}function DH(t,e,n,r,i,s){const a=e.eventCache;if(T_(r,n)!=null)return e;{let o,l;if(an(n))if(mt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Af(e),u=c instanceof qt?c:qt.EMPTY_NODE,f=TI(r,u);o=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=w_(r,Af(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=sn(n);if(c===".priority"){mt(Vu(n)===1,"Can't have a priority with additional path components");const u=a.getNode();l=e.serverCache.getNode();const f=WF(r,n,u,l);f!=null?o=t.filter.updatePriority(u,f):o=a.getNode()}else{const u=Xn(n);let f;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const h=WF(r,n,a.getNode(),l);h!=null?f=a.getNode().getImmediateChild(c).updateChild(u,h):f=a.getNode().getImmediateChild(c)}else f=EI(r,c,e.serverCache);f!=null?o=t.filter.updateChild(a.getNode(),c,f,u,i,s):o=a.getNode()}}return F0(e,o,a.isFullyInitialized()||an(n),t.filter.filtersNodes())}}function E_(t,e,n,r,i,s,a,o){const l=e.serverCache;let c;const u=a?t.filter:t.filter.getIndexedFilter();if(an(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=sn(n);if(!l.isCompleteForPath(n)&&Vu(n)>1)return e;const v=Xn(n),y=l.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,v,SH,null)}const f=_H(e,c,l.isFullyInitialized()||an(n),u.filtersNodes()),h=new CI(i,f,s);return DH(t,f,n,i,h,o)}function E4(t,e,n,r,i,s,a){const o=e.eventCache;let l,c;const u=new CI(i,e,s);if(an(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=F0(e,c,!0,t.filter.filtersNodes());else{const f=sn(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=F0(e,c,o.isFullyInitialized(),o.isFiltered());else{const h=Xn(n),p=o.getNode().getImmediateChild(f);let v;if(an(h))v=r;else{const g=u.getCompleteChild(f);g!=null?hI(h)===".priority"&&g.getChild(fH(h)).isEmpty()?v=g:v=g.updateChild(h,r):v=qt.EMPTY_NODE}if(p.equals(v))l=e;else{const g=t.filter.updateChild(o.getNode(),f,v,h,u,a);l=F0(e,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function qF(t,e){return t.eventCache.isCompleteForChild(e)}function Pfe(t,e,n,r,i,s,a){let o=e;return r.foreach((l,c)=>{const u=xr(n,l);qF(e,sn(u))&&(o=E4(t,o,u,c,i,s,a))}),r.foreach((l,c)=>{const u=xr(n,l);qF(e,sn(u))||(o=E4(t,o,u,c,i,s,a))}),o}function zF(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function C4(t,e,n,r,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;an(n)?c=r:c=new Yn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),v=zF(t,p,h);l=E_(t,l,new Fn(f),v,i,s,a,o)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const v=e.serverCache.getNode().getImmediateChild(f),g=zF(t,v,h);l=E_(t,l,new Fn(f),g,i,s,a,o)}}),l}function Ffe(t,e,n,r,i,s,a){if(T_(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(an(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return E_(t,e,n,l.getNode().getChild(n),i,s,o,a);if(an(n)){let c=new Yn(null);return l.getNode().forEachChild(_l,(u,f)=>{c=c.set(new Fn(u),f)}),C4(t,e,n,c,i,s,o,a)}else return e}else{let c=new Yn(null);return r.foreach((u,f)=>{const h=xr(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),C4(t,e,n,c,i,s,o,a)}}function Mfe(t,e,n,r,i){const s=e.serverCache,a=_H(e,s.getNode(),s.isFullyInitialized()||an(n),s.isFiltered());return DH(t,a,n,r,SH,i)}function Ufe(t,e,n,r,i,s){let a;if(T_(r,n)!=null)return e;{const o=new CI(r,e,i),l=e.eventCache.getNode();let c;if(an(n)||sn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=w_(r,Af(e));else{const f=e.serverCache.getNode();mt(f instanceof qt,"serverChildren would be complete if leaf node"),u=TI(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=sn(n);let f=EI(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,Xn(n),o,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,qt.EMPTY_NODE,Xn(n),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=w_(r,Af(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||T_(r,Sn())!=null,F0(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ofe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new xI(r.getIndex()),s=Yde(r);this.processor_=Nfe(s);const a=n.serverCache,o=n.eventCache,l=i.updateFullNode(qt.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(qt.EMPTY_NODE,o.getNode(),null),u=new Wu(l,a.isFullyInitialized(),i.filtersNodes()),f=new Wu(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=Gb(f,u),this.eventGenerator_=new lfe(this.query_)}get query(){return this.query_}}function Lfe(t){return t.viewCache_.serverCache.getNode()}function jfe(t){return b_(t.viewCache_)}function Bfe(t,e){const n=Af(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!an(e)&&!n.getImmediateChild(sn(e)).isEmpty())?n.getChild(e):null}function HF(t){return t.eventRegistrations_.length===0}function Vfe(t,e){t.eventRegistrations_.push(e)}function $F(t,e,n){const r=[];if(n){mt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function GF(t,e,n,r){e.type===No.MERGE&&e.source.queryId!==null&&(mt(Af(t.viewCache_),"We should always have a full cache before handling merges"),mt(b_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Ife(t.processor_,i,e,n,r);return kfe(t.processor_,s.viewCache),mt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,AH(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Wfe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Zn,(s,a)=>{r.push(om(s,a))}),n.isFullyInitialized()&&r.push(xH(n.getNode())),AH(t,r,n.getNode(),e)}function AH(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return cfe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_;class NH{constructor(){this.views=new Map}}function qfe(t){mt(!C_,"__referenceConstructor has already been defined"),C_=t}function zfe(){return mt(C_,"Reference.ts has not been loaded"),C_}function Hfe(t){return t.views.size===0}function SI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return mt(s!=null,"SyncTree gave us an op for an invalid query."),GF(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(GF(a,e,n,r));return s}}function kH(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=w_(n,i?r:null),l=!1;o?l=!0:r instanceof qt?(o=TI(n,r),l=!1):(o=qt.EMPTY_NODE,l=!1);const c=Gb(new Wu(o,l,!1),new Wu(r,i,!1));return new Ofe(e,c)}return a}function $fe(t,e,n,r,i,s){const a=kH(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),Vfe(a,n),Wfe(a,n)}function Gfe(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const o=qu(t);if(i==="default")for(const[l,c]of t.views.entries())a=a.concat($F(c,n,r)),HF(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(a=a.concat($F(l,n,r)),HF(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!qu(t)&&s.push(new(zfe())(e._repo,e._path)),{removed:s,events:a}}function IH(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Su(t,e){let n=null;for(const r of t.views.values())n=n||Bfe(r,e);return n}function RH(t,e){if(e._queryParams.loadsAllData())return Xb(t);{const r=e._queryIdentifier;return t.views.get(r)}}function PH(t,e){return RH(t,e)!=null}function qu(t){return Xb(t)!=null}function Xb(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_;function Kfe(t){mt(!S_,"__referenceConstructor has already been defined"),S_=t}function Xfe(){return mt(S_,"Reference.ts has not been loaded"),S_}let Jfe=1;class KF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Yn(null),this.pendingWriteTree_=Cfe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DI(t,e,n,r,i){return hfe(t.pendingWriteTree_,e,n,r,i),i?Om(t,new Df(_I(),e,n)):[]}function Yfe(t,e,n,r){pfe(t.pendingWriteTree_,e,n,r);const i=Yn.fromObject(n);return Om(t,new lm(_I(),e,i))}function mu(t,e,n=!1){const r=mfe(t.pendingWriteTree_,e);if(gfe(t.pendingWriteTree_,e)){let s=new Yn(null);return r.snap!=null?s=s.set(Sn(),!0):Ui(r.children,a=>{s=s.set(new Fn(a),!0)}),Om(t,new __(r.path,s,n))}else return[]}function Av(t,e,n){return Om(t,new Df(bI(),e,n))}function Qfe(t,e,n){const r=Yn.fromObject(n);return Om(t,new lm(bI(),e,r))}function Zfe(t,e){return Om(t,new Ay(bI(),e))}function ehe(t,e,n){const r=AI(t,n);if(r){const i=NI(r),s=i.path,a=i.queryId,o=Rs(s,e),l=new Ay(wI(a),o);return kI(t,s,l)}else return[]}function D_(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||PH(a,e))){const l=Gfe(a,e,n,r);Hfe(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,p)=>qu(p));if(u&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const p=rhe(h);for(let v=0;v<p.length;++v){const g=p[v],y=g.query,b=OH(t,g);t.listenProvider_.startListening(U0(y),Ny(t,y),b.hashFn,b.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(U0(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(Yb(h));t.listenProvider_.stopListening(U0(h),p)}))}ihe(t,c)}return o}function FH(t,e,n,r){const i=AI(t,r);if(i!=null){const s=NI(i),a=s.path,o=s.queryId,l=Rs(a,e),c=new Df(wI(o),l,n);return kI(t,a,c)}else return[]}function the(t,e,n,r){const i=AI(t,r);if(i){const s=NI(i),a=s.path,o=s.queryId,l=Rs(a,e),c=Yn.fromObject(n),u=new lm(wI(o),l,c);return kI(t,a,u)}else return[]}function S4(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const v=Rs(h,i);s=s||Su(p,v),a=a||qu(p)});let o=t.syncPointTree_.get(i);o?(a=a||qu(o),s=s||Su(o,Sn())):(o=new NH,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=qt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const g=Su(v,Sn());g&&(s=s.updateImmediateChild(p,g))}));const c=PH(o,e);if(!c&&!e._queryParams.loadsAllData()){const h=Yb(e);mt(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=she();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=Kb(t.pendingWriteTree_,i);let f=$fe(o,e,n,u,s,l);if(!c&&!a&&!r){const h=RH(o,e);f=f.concat(ahe(t,e,h))}return f}function Jb(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Rs(a,e),c=Su(o,l);if(c)return c});return TH(i,e,s,n,!0)}function nhe(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const f=Rs(c,n);r=r||Su(u,f)});let i=t.syncPointTree_.get(n);i?r=r||Su(i,Sn()):(i=new NH,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new Wu(r,!0,!1):null,o=Kb(t.pendingWriteTree_,e._path),l=kH(i,e,o,s?a.getNode():qt.EMPTY_NODE,s);return jfe(l)}function Om(t,e){return MH(e,t.syncPointTree_,null,Kb(t.pendingWriteTree_,Sn()))}function MH(t,e,n,r){if(an(t.path))return UH(t,e,n,r);{const i=e.get(Sn());n==null&&i!=null&&(n=Su(i,Sn()));let s=[];const a=sn(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,u=EH(r,a);s=s.concat(MH(o,l,c,u))}return i&&(s=s.concat(SI(i,t,r,n))),s}}function UH(t,e,n,r){const i=e.get(Sn());n==null&&i!=null&&(n=Su(i,Sn()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=EH(r,a),u=t.operationForChild(a);u&&(s=s.concat(UH(u,o,l,c)))}),i&&(s=s.concat(SI(i,t,r,n))),s}function OH(t,e){const n=e.query,r=Ny(t,n);return{hashFn:()=>(Lfe(e)||qt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ehe(t,n._path,r):Zfe(t,n._path);{const s=Yue(i,n);return D_(t,n,null,s)}}}}function Ny(t,e){const n=Yb(e);return t.queryToTagMap.get(n)}function Yb(t){return t._path.toString()+"$"+t._queryIdentifier}function AI(t,e){return t.tagToQueryMap.get(e)}function NI(t){const e=t.indexOf("$");return mt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Fn(t.substr(0,e))}}function kI(t,e,n){const r=t.syncPointTree_.get(e);mt(r,"Missing sync point for query tag that we're tracking");const i=Kb(t.pendingWriteTree_,e);return SI(r,n,i,null)}function rhe(t){return t.fold((e,n,r)=>{if(n&&qu(n))return[Xb(n)];{let i=[];return n&&(i=IH(n)),Ui(r,(s,a)=>{i=i.concat(a)}),i}})}function U0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Xfe())(t._repo,t._path):t}function ihe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Yb(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function she(){return Jfe++}function ahe(t,e,n){const r=e._path,i=Ny(t,e),s=OH(t,n),a=t.listenProvider_.startListening(U0(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(r);if(i)mt(!qu(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,u,f)=>{if(!an(c)&&u&&qu(u))return[Xb(u).query];{let h=[];return u&&(h=h.concat(IH(u).map(p=>p.query))),Ui(f,(p,v)=>{h=h.concat(v)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(U0(u),Ny(t,u))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new II(n)}node(){return this.node_}}class RI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xr(this.path_,e);return new RI(this.syncTree_,n)}node(){return Jb(this.syncTree_,this.path_)}}const ohe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},XF=function(t,e,n){if(!t||typeof t!="object")return t;if(mt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lhe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return che(t[".sv"],e);mt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lhe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:mt(!1,"Unexpected server value: "+t)}},che=function(t,e,n){t.hasOwnProperty("increment")||mt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&mt(!1,"Unexpected increment value: "+r);const i=e.node();if(mt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},LH=function(t,e,n,r){return FI(e,new RI(n,t),r)},PI=function(t,e,n){return FI(t,new II(e),n)};function FI(t,e,n){const r=t.getPriority().val(),i=XF(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=XF(a.getValue(),e,n);return o!==a.getValue()||i!==a.getPriority().val()?new Si(o,Cr(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Si(i))),a.forEachChild(Zn,(o,l)=>{const c=FI(l,e.getImmediateChild(o),n);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Qb(t,e){let n=e instanceof Fn?e:new Fn(e),r=t,i=sn(n);for(;i!==null;){const s=pf(r.node.children,i)||{children:{},childCount:0};r=new MI(i,r,s),n=Xn(n),i=sn(n)}return r}function Jf(t){return t.node.value}function UI(t,e){t.node.value=e,D4(t)}function jH(t){return t.node.childCount>0}function uhe(t){return Jf(t)===void 0&&!jH(t)}function Zb(t,e){Ui(t.node.children,(n,r)=>{e(new MI(n,t,r))})}function BH(t,e,n,r){n&&e(t),Zb(t,i=>{BH(i,e,!0)})}function dhe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Nv(t){return new Fn(t.parent===null?t.name:Nv(t.parent)+"/"+t.name)}function D4(t){t.parent!==null&&fhe(t.parent,t.name,t)}function fhe(t,e,n){const r=uhe(n),i=Sa(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,D4(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,D4(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hhe=/[\[\].#$\/\u0000-\u001F\u007F]/,phe=/[\[\].#$\u0000-\u001F\u007F]/,aC=10*1024*1024,ew=function(t){return typeof t=="string"&&t.length!==0&&!hhe.test(t)},VH=function(t){return typeof t=="string"&&t.length!==0&&!phe.test(t)},mhe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),VH(t)},ky=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!qb(t)||t&&typeof t=="object"&&Sa(t,".sv")},Dl=function(t,e,n,r){r&&e===void 0||kv(na(t,"value"),e,n)},kv=function(t,e,n){const r=n instanceof Fn?new Ide(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bd(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bd(r)+" with contents = "+e.toString());if(qb(e))throw new Error(t+"contains "+e.toString()+" "+Bd(r));if(typeof e=="string"&&e.length>aC/3&&lb(e)>aC)throw new Error(t+"contains a string greater than "+aC+" utf8 bytes "+Bd(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ui(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!ew(a)))throw new Error(t+" contains an invalid key ("+a+") "+Bd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Rde(r,a),kv(t,o,r),Pde(r)}),i&&s)throw new Error(t+' contains ".value" child '+Bd(r)+" in addition to actual children.")}},ghe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Ey(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!ew(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(kde);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ya(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},WH=function(t,e,n,r){const i=na(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ui(e,(a,o)=>{const l=new Fn(a);if(kv(i,o,xr(n,l)),hI(l)===".priority"&&!ky(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),ghe(i,s)},OI=function(t,e,n){if(qb(e))throw new Error(na(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ky(e))throw new Error(na(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Iv=function(t,e,n,r){if(n!==void 0&&!ew(n))throw new Error(na(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Iy=function(t,e,n,r){if(!VH(n))throw new Error(na(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yhe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Iy(t,e,n)},Qa=function(t,e){if(sn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},qH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ew(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!mhe(n))throw new Error(na(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tw(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!pI(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function zH(t,e,n){tw(t,n),HH(t,r=>pI(r,e))}function Aa(t,e,n){tw(t,n),HH(t,r=>Ya(r,e)||Ya(e,r))}function HH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(xhe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function xhe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();of&&Ri("event: "+n.toString()),Mm(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H="repo_interrupt",_he=25;class bhe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vhe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=x_(),this.transactionQueueTree_=new MI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function whe(t,e,n){if(t.stats_=dI(t.repoInfo_),t.forceRestClient_||tde())t.server_=new v_(t.repoInfo_,(r,i,s,a)=>{JF(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>YF(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new rc(t.repoInfo_,e,(r,i,s,a)=>{JF(t,r,i,s,a)},r=>{YF(t,r)},r=>{The(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ade(t.repoInfo_,()=>new ofe(t.stats_,t.server_)),t.infoData_=new nfe,t.infoSyncTree_=new KF({startListening:(r,i,s,a)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=Av(t.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),LI(t,"connected",!1),t.serverSyncTree_=new KF({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(o,l)=>{const c=a(o,l);Aa(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function GH(t){const n=t.infoData_.getNode(new Fn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Rv(t){return ohe({timestamp:GH(t)})}function JF(t,e,n,r,i){t.dataUpdateCount++;const s=new Fn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const l=z2(n,c=>Cr(c));a=the(t.serverSyncTree_,s,l,i)}else{const l=Cr(n);a=FH(t.serverSyncTree_,s,l,i)}else if(r){const l=z2(n,c=>Cr(c));a=Qfe(t.serverSyncTree_,s,l)}else{const l=Cr(n);a=Av(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=um(t,s)),Aa(t.eventQueue_,o,a)}function YF(t,e){LI(t,"connected",e),e===!1&&She(t)}function The(t,e){Ui(e,(n,r)=>{LI(t,n,r)})}function LI(t,e,n){const r=new Fn("/.info/"+e),i=Cr(n);t.infoData_.updateSnapshot(r,i);const s=Av(t.infoSyncTree_,r,i);Aa(t.eventQueue_,r,s)}function nw(t){return t.nextWriteId_++}function Ehe(t,e,n){const r=nhe(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Cr(i).withIndex(e._queryParams.getIndex());S4(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=Av(t.serverSyncTree_,e._path,s);else{const o=Ny(t.serverSyncTree_,e);a=FH(t.serverSyncTree_,e._path,s,o)}return Aa(t.eventQueue_,e._path,a),D_(t.serverSyncTree_,e,n,null,!0),s},i=>(Lm(t,"get for query "+pi(e)+" failed: "+i),Promise.reject(new Error(i))))}function jI(t,e,n,r,i){Lm(t,"set",{path:e.toString(),value:n,priority:r});const s=Rv(t),a=Cr(n,r),o=Jb(t.serverSyncTree_,e),l=PI(a,o,s),c=nw(t),u=DI(t.serverSyncTree_,e,l,c,!0);tw(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),(h,p)=>{const v=h==="ok";v||vs("set at "+e+" failed: "+h);const g=mu(t.serverSyncTree_,c,!v);Aa(t.eventQueue_,e,g),zu(t,i,h,p)});const f=VI(t,e);um(t,f),Aa(t.eventQueue_,f,[])}function Che(t,e,n,r){Lm(t,"update",{path:e.toString(),value:n});let i=!0;const s=Rv(t),a={};if(Ui(n,(o,l)=>{i=!1,a[o]=LH(xr(e,o),Cr(l),t.serverSyncTree_,s)}),i)Ri("update() called with empty data.  Don't do anything."),zu(t,r,"ok",void 0);else{const o=nw(t),l=Yfe(t.serverSyncTree_,e,a,o);tw(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const f=c==="ok";f||vs("update at "+e+" failed: "+c);const h=mu(t.serverSyncTree_,o,!f),p=h.length>0?um(t,e):e;Aa(t.eventQueue_,p,h),zu(t,r,c,u)}),Ui(n,c=>{const u=VI(t,xr(e,c));um(t,u)}),Aa(t.eventQueue_,e,[])}}function She(t){Lm(t,"onDisconnectEvents");const e=Rv(t),n=x_();_4(t.onDisconnect_,Sn(),(i,s)=>{const a=LH(i,s,t.serverSyncTree_,e);Um(n,i,a)});let r=[];_4(n,Sn(),(i,s)=>{r=r.concat(Av(t.serverSyncTree_,i,s));const a=VI(t,i);um(t,a)}),t.onDisconnect_=x_(),Aa(t.eventQueue_,Sn(),r)}function Dhe(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&x4(t.onDisconnect_,e),zu(t,n,r,i)})}function QF(t,e,n,r){const i=Cr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&Um(t.onDisconnect_,e,i),zu(t,r,s,a)})}function Ahe(t,e,n,r,i){const s=Cr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&Um(t.onDisconnect_,e,s),zu(t,i,a,o)})}function Nhe(t,e,n,r){if(q2(n)){Ri("onDisconnect().update() called with empty data.  Don't do anything."),zu(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&Ui(n,(a,o)=>{const l=Cr(o);Um(t.onDisconnect_,xr(e,a),l)}),zu(t,r,i,s)})}function khe(t,e,n){let r;sn(e._path)===".info"?r=S4(t.infoSyncTree_,e,n):r=S4(t.serverSyncTree_,e,n),zH(t.eventQueue_,e._path,r)}function A4(t,e,n){let r;sn(e._path)===".info"?r=D_(t.infoSyncTree_,e,n):r=D_(t.serverSyncTree_,e,n),zH(t.eventQueue_,e._path,r)}function KH(t){t.persistentConnection_&&t.persistentConnection_.interrupt($H)}function Ihe(t){t.persistentConnection_&&t.persistentConnection_.resume($H)}function Lm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ri(n,...e)}function zu(t,e,n,r){e&&Mm(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function Rhe(t,e,n,r,i,s){Lm(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:qz(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=BI(t,e,void 0);a.currentInputSnapshot=o;const l=a.update(o.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{kv("transaction failed: Data returned ",l,a.path),a.status=0;const c=Qb(t.transactionQueueTree_,e),u=Jf(c)||[];u.push(a),UI(c,u);let f;typeof l=="object"&&l!==null&&Sa(l,".priority")?(f=pf(l,".priority"),mt(ky(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Jb(t.serverSyncTree_,e)||qt.EMPTY_NODE).getPriority().val();const h=Rv(t),p=Cr(l,f),v=PI(p,o,h);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=v,a.currentWriteId=nw(t);const g=DI(t.serverSyncTree_,e,v,a.currentWriteId,a.applyLocally);Aa(t.eventQueue_,e,g),rw(t,t.transactionQueueTree_)}}function BI(t,e,n){return Jb(t.serverSyncTree_,e,n)||qt.EMPTY_NODE}function rw(t,e=t.transactionQueueTree_){if(e||iw(t,e),Jf(e)){const n=JH(t,e);mt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Phe(t,Nv(e),n)}else jH(e)&&Zb(e,n=>{rw(t,n)})}function Phe(t,e,n){const r=n.map(c=>c.currentWriteId),i=BI(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const u=n[c];mt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Rs(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,c=>{Lm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(mu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();iw(t,Qb(t.transactionQueueTree_,e)),rw(t,t.transactionQueueTree_),Aa(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)Mm(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{vs("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}um(t,e)}},a)}function um(t,e){const n=XH(t,e),r=Nv(n),i=JH(t,n);return Fhe(t,i,r),r}function Fhe(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Rs(n,l.path);let u=!1,f;if(mt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=_he)u=!0,f="maxretry",i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=BI(t,l.path,a);l.currentInputSnapshot=h;const p=e[o].update(h.val());if(p!==void 0){kv("transaction failed: Data returned ",p,l.path);let v=Cr(p);typeof p=="object"&&p!=null&&Sa(p,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,b=Rv(t),x=PI(v,h,b);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=x,l.currentWriteId=nw(t),a.splice(a.indexOf(y),1),i=i.concat(DI(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(mu(t.serverSyncTree_,y,!0))}else u=!0,f="nodata",i=i.concat(mu(t.serverSyncTree_,l.currentWriteId,!0))}Aa(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,(function(h){setTimeout(h,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(f),!1,null))))}iw(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)Mm(r[o]);rw(t,t.transactionQueueTree_)}function XH(t,e){let n,r=t.transactionQueueTree_;for(n=sn(e);n!==null&&Jf(r)===void 0;)r=Qb(r,n),e=Xn(e),n=sn(e);return r}function JH(t,e){const n=[];return YH(t,e,n),n.sort((r,i)=>r.order-i.order),n}function YH(t,e,n){const r=Jf(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Zb(e,i=>{YH(t,i,n)})}function iw(t,e){const n=Jf(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,UI(e,n.length>0?n:void 0)}Zb(e,r=>{iw(t,r)})}function VI(t,e){const n=Nv(XH(t,e)),r=Qb(t.transactionQueueTree_,e);return dhe(r,i=>{oC(t,i)}),oC(t,r),BH(r,i=>{oC(t,i)}),n}function oC(t,e){const n=Jf(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(mt(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(mt(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(mu(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?UI(e,void 0):n.length=s+1,Aa(t.eventQueue_,Nv(e),i);for(let a=0;a<r.length;a++)Mm(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mhe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Uhe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vs(`Invalid query segment '${n}' in query '${t}'`)}return e}const N4=function(t,e){const n=Ohe(t),r=n.namespace;n.domain==="firebase.com"&&Sl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Sl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$ue();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rH(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Fn(n.pathString)}},Ohe=function(t){let e="",n="",r="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=Mhe(t.substring(u,f)));const h=Uhe(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lhe=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=ZF.charAt(n%64),n=Math.floor(n/64);mt(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=ZF.charAt(e[i]);return mt(a.length===20,"nextPushId: Length should be 20."),a}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+pi(this.snapshot.exportVal())}}class ZH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return mt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jhe=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Ys;return Dhe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Qa("OnDisconnect.remove",this._path);const e=new Ys;return QF(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Qa("OnDisconnect.set",this._path),Dl("OnDisconnect.set",e,this._path,!1);const n=new Ys;return QF(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Qa("OnDisconnect.setWithPriority",this._path),Dl("OnDisconnect.setWithPriority",e,this._path,!1),OI("OnDisconnect.setWithPriority",n);const r=new Ys;return Ahe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Qa("OnDisconnect.update",this._path),WH("OnDisconnect.update",e,this._path);const n=new Ys;return Nhe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return an(this._path)?null:hI(this._path)}get ref(){return new oo(this._repo,this._path)}get _queryIdentifier(){const e=LF(this._queryParams),n=cI(e);return n==="{}"?"default":n}get _queryObject(){return LF(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof oa))return!1;const n=this._repo===e._repo,r=pI(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Nde(this._path)}}function sw(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function rd(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===_l){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Bu)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==mc)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Zn){if(e!=null&&!ky(e)||n!=null&&!ky(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(mt(t.getIndex()instanceof yI||t.getIndex()===vI,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function aw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class oo extends oa{constructor(e,n){super(e,n,new Hb,!1)}get parent(){const e=fH(this._path);return e===null?null:new oo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let ow=class k4{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Fn(e),r=Nf(this.ref,e);return new k4(this._node.getChild(n),r,Zn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new k4(i,Nf(this.ref,r),Zn)))}hasChild(e){const n=new Fn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function e$(t,e){return t=St(t),t._checkNotDeleted("ref"),e!==void 0?Nf(t._root,e):t._root}function eM(t,e){t=St(t),t._checkNotDeleted("refFromURL");const n=N4(e,t._repo.repoInfo_.nodeAdmin);qH("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Sl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),e$(t,n.path.toString())}function Nf(t,e){return t=St(t),sn(t._path)===null?yhe("child","path",e):Iy("child","path",e),new oo(t._repo,xr(t._path,e))}function Bhe(t,e){t=St(t),Qa("push",t._path),Dl("push",e,t._path,!0);const n=GH(t._repo),r=Lhe(n),i=Nf(t,r),s=Nf(t,r);let a;return e!=null?a=qI(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Vhe(t){return Qa("remove",t._path),qI(t,null)}function qI(t,e){t=St(t),Qa("set",t._path),Dl("set",e,t._path,!1);const n=new Ys;return jI(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Whe(t,e){t=St(t),Qa("setPriority",t._path),OI("setPriority",e);const n=new Ys;return jI(t._repo,xr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function qhe(t,e,n){if(Qa("setWithPriority",t._path),Dl("setWithPriority",e,t._path,!1),OI("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Ys;return jI(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function zhe(t,e){WH("update",e,t._path);const n=new Ys;return Che(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Hhe(t){t=St(t);const e=new WI(()=>{}),n=new Pv(e);return Ehe(t._repo,t,n).then(r=>new ow(r,new oo(t._repo,t._path),t._queryParams.getIndex()))}class Pv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new QH("value",this,new ow(e.snapshotNode,new oo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ZH(this,e,n):null}matches(e){return e instanceof Pv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class lw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ZH(this,e,n):null}createEvent(e,n){mt(e.childName!=null,"Child events should have a childName.");const r=Nf(new oo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new QH(e.type,this,new ow(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof lw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Fv(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,f)=>{A4(t._repo,t,o),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new WI(n,s||void 0),o=e==="value"?new Pv(a):new lw(e,a);return khe(t._repo,t,o),()=>A4(t._repo,t,o)}function I4(t,e,n,r){return Fv(t,"value",e,n,r)}function tM(t,e,n,r){return Fv(t,"child_added",e,n,r)}function nM(t,e,n,r){return Fv(t,"child_changed",e,n,r)}function rM(t,e,n,r){return Fv(t,"child_moved",e,n,r)}function iM(t,e,n,r){return Fv(t,"child_removed",e,n,r)}function sM(t,e,n){let r=null;const i=n?new WI(n):null;e==="value"?r=new Pv(i):e&&(r=new lw(e,i)),A4(t._repo,t,r)}class Vo{}class t$ extends Vo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Dl("endAt",this._value,e._path,!0);const n=v4(e._queryParams,this._value,this._key);if(aw(n),rd(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(e._repo,e._path,n,e._orderByCalled)}}function $he(t,e){return Iv("endAt","key",e),new t$(t,e)}class Ghe extends Vo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Dl("endBefore",this._value,e._path,!1);const n=tfe(e._queryParams,this._value,this._key);if(aw(n),rd(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(e._repo,e._path,n,e._orderByCalled)}}function Khe(t,e){return Iv("endBefore","key",e),new Ghe(t,e)}class n$ extends Vo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Dl("startAt",this._value,e._path,!0);const n=y4(e._queryParams,this._value,this._key);if(aw(n),rd(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new oa(e._repo,e._path,n,e._orderByCalled)}}function Xhe(t=null,e){return Iv("startAt","key",e),new n$(t,e)}class Jhe extends Vo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Dl("startAfter",this._value,e._path,!1);const n=efe(e._queryParams,this._value,this._key);if(aw(n),rd(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new oa(e._repo,e._path,n,e._orderByCalled)}}function Yhe(t,e){return Iv("startAfter","key",e),new Jhe(t,e)}class Qhe extends Vo{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(e._repo,e._path,Qde(e._queryParams,this._limit),e._orderByCalled)}}function Zhe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Qhe(t)}class epe extends Vo{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(e._repo,e._path,Zde(e._queryParams,this._limit),e._orderByCalled)}}function tpe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new epe(t)}class npe extends Vo{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){sw(e,"orderByChild");const n=new Fn(this._path);if(an(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new yI(n),i=$b(e._queryParams,r);return rd(i),new oa(e._repo,e._path,i,!0)}}function rpe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Iy("orderByChild","path",t),new npe(t)}class ipe extends Vo{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){sw(e,"orderByKey");const n=$b(e._queryParams,_l);return rd(n),new oa(e._repo,e._path,n,!0)}}function spe(){return new ipe}class ape extends Vo{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){sw(e,"orderByPriority");const n=$b(e._queryParams,Zn);return rd(n),new oa(e._repo,e._path,n,!0)}}function ope(){return new ape}class lpe extends Vo{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){sw(e,"orderByValue");const n=$b(e._queryParams,vI);return rd(n),new oa(e._repo,e._path,n,!0)}}function cpe(){return new lpe}class upe extends Vo{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Dl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new t$(this._value,this._key)._apply(new n$(this._value,this._key)._apply(e))}}function dpe(t,e){return Iv("equalTo","key",e),new upe(t,e)}function wo(t,...e){let n=St(t);for(const r of e)n=r._apply(n);return n}qfe(oo);Kfe(oo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fpe="FIREBASE_DATABASE_EMULATOR_HOST",R4={};let hpe=!1;function ppe(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Nl(s);t.repoInfo_=new rH(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function r$(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Sl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ri("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=N4(s,i),o=a.repoInfo,l,c;typeof process<"u"&&_F&&(c=_F[fpe]),c?(l=!0,s=`http://${c}?ns=${o.namespace}`,a=N4(s,i),o=a.repoInfo):l=!a.repoInfo.secure;const u=i&&l?new Sp(Sp.OWNER):new rde(t.name,t.options,e);qH("Invalid Firebase Database URL",a),an(a.path)||Sl("Database URL must point to the root of a Firebase Database (not including a child path).");const f=gpe(o,t,u,new nde(t,n));return new ype(f,t)}function mpe(t,e){const n=R4[e];(!n||n[t.key]!==t)&&Sl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),KH(t),delete n[t.key]}function gpe(t,e,n,r){let i=R4[e.name];i||(i={},R4[e.name]=i);let s=i[t.toURLString()];return s&&Sl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bhe(t,hpe,n,r),i[t.toURLString()]=s,s}let ype=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(whe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oo(this._repo,Sn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mpe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Sl("Cannot call "+e+" on a deleted database.")}};function i$(){am.IS_TRANSPORT_INITIALIZED&&vs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function vpe(){i$(),pu.forceDisallow()}function xpe(){i$(),Xa.forceDisallow(),pu.forceAllow()}function _pe(t,e,n,r={}){t=St(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&uc(r,s.repoInfo_.emulatorOptions))return;Sl("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Sl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Sp(Sp.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:CN(r.mockUserToken,t.app.options.projectId);a=new Sp(o)}Nl(e)&&(ib(e),sb("Database",!0)),ppe(s,i,r,a)}function bpe(t){t=St(t),t._checkNotDeleted("goOffline"),KH(t._repo)}function wpe(t){t=St(t),t._checkNotDeleted("goOnline"),Ihe(t._repo)}function Tpe(t,e){Hz(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Epe(t){Vz(kl),wl(new Os("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return r$(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ps(bF,wF,t),Ps(bF,wF,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpe={".sv":"timestamp"};function Spe(){return Cpe}function Dpe(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ape=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Npe(t,e,n){if(t=St(t),Qa("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(n==null?void 0:n.applyLocally)??!0,i=new Ys,s=(o,l,c)=>{let u=null;o?i.reject(o):(u=new ow(c,new oo(t._repo,t._path),Zn),i.resolve(new Ape(l,u)))},a=I4(t,()=>{});return Rhe(t._repo,t._path,e,s,a,r),i.promise}rc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Epe();const kpe="@firebase/database-compat",Ipe="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rpe=new Tm("@firebase/database-compat"),s$=function(t){const e="FIREBASE WARNING: "+t;Rpe.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ppe=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(na(t,e)+"must be a boolean.")},Fpe=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(na(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(e){this._delegate=e}cancel(e){Ht("OnDisconnect.cancel",0,1,arguments.length),Ni("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Ht("OnDisconnect.remove",0,1,arguments.length),Ni("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Ht("OnDisconnect.set",1,2,arguments.length),Ni("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Ht("OnDisconnect.setWithPriority",2,3,arguments.length),Ni("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(Ht("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,s$("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ni("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Upe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Ht("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this._database=e,this._delegate=n}val(){return Ht("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Ht("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Ht("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Ht("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Ht("DataSnapshot.child",0,1,arguments.length),e=String(e),Iy("DataSnapshot.child","path",e),new Du(this._database,this._delegate.child(e))}hasChild(e){return Ht("DataSnapshot.hasChild",1,1,arguments.length),Iy("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return Ht("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Ht("DataSnapshot.forEach",1,1,arguments.length),Ni("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Du(this._database,n)))}hasChildren(){return Ht("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Ht("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Ht("DataSnapshot.ref",0,0,arguments.length),new ef(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class zi{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var l;Ht("Query.on",2,4,arguments.length),Ni("Query.on","callback",n,!1);const s=zi.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Du(this.database,c),u)};a.userCallback=n,a.context=s.context;const o=(l=s.cancel)==null?void 0:l.bind(s.context);switch(e){case"value":return I4(this._delegate,a,o),n;case"child_added":return tM(this._delegate,a,o),n;case"child_removed":return iM(this._delegate,a,o),n;case"child_changed":return nM(this._delegate,a,o),n;case"child_moved":return rM(this._delegate,a,o),n;default:throw new Error(na("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Ht("Query.off",0,3,arguments.length),Fpe("Query.off",e),Ni("Query.off","callback",n,!0),pP("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,sM(this._delegate,e,i)}else sM(this._delegate,e)}get(){return Hhe(this._delegate).then(e=>new Du(this.database,e))}once(e,n,r,i){Ht("Query.once",1,4,arguments.length),Ni("Query.once","callback",n,!0);const s=zi.getCancelAndContextArgs_("Query.once",r,i),a=new Ys,o=(c,u)=>{const f=new Du(this.database,c);n&&n.call(s.context,f,u),a.resolve(f)};o.userCallback=n,o.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),a.reject(c)};switch(e){case"value":I4(this._delegate,o,l,{onlyOnce:!0});break;case"child_added":tM(this._delegate,o,l,{onlyOnce:!0});break;case"child_removed":iM(this._delegate,o,l,{onlyOnce:!0});break;case"child_changed":nM(this._delegate,o,l,{onlyOnce:!0});break;case"child_moved":rM(this._delegate,o,l,{onlyOnce:!0});break;default:throw new Error(na("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return Ht("Query.limitToFirst",1,1,arguments.length),new zi(this.database,wo(this._delegate,Zhe(e)))}limitToLast(e){return Ht("Query.limitToLast",1,1,arguments.length),new zi(this.database,wo(this._delegate,tpe(e)))}orderByChild(e){return Ht("Query.orderByChild",1,1,arguments.length),new zi(this.database,wo(this._delegate,rpe(e)))}orderByKey(){return Ht("Query.orderByKey",0,0,arguments.length),new zi(this.database,wo(this._delegate,spe()))}orderByPriority(){return Ht("Query.orderByPriority",0,0,arguments.length),new zi(this.database,wo(this._delegate,ope()))}orderByValue(){return Ht("Query.orderByValue",0,0,arguments.length),new zi(this.database,wo(this._delegate,cpe()))}startAt(e=null,n){return Ht("Query.startAt",0,2,arguments.length),new zi(this.database,wo(this._delegate,Xhe(e,n)))}startAfter(e=null,n){return Ht("Query.startAfter",0,2,arguments.length),new zi(this.database,wo(this._delegate,Yhe(e,n)))}endAt(e=null,n){return Ht("Query.endAt",0,2,arguments.length),new zi(this.database,wo(this._delegate,$he(e,n)))}endBefore(e=null,n){return Ht("Query.endBefore",0,2,arguments.length),new zi(this.database,wo(this._delegate,Khe(e,n)))}equalTo(e,n){return Ht("Query.equalTo",1,2,arguments.length),new zi(this.database,wo(this._delegate,dpe(e,n)))}toString(){return Ht("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Ht("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Ht("Query.isEqual",1,1,arguments.length),!(e instanceof zi)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ni(e,"cancel",i.cancel,!0),i.context=r,pP(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(na(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new ef(this.database,new oo(this._delegate._repo,this._delegate._path))}}let ef=class cp extends zi{constructor(e,n){super(e,new oa(n._repo,n._path,new Hb,!1)),this.database=e,this._delegate=n}getKey(){return Ht("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Ht("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new cp(this.database,Nf(this._delegate,e))}getParent(){Ht("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new cp(this.database,e):null}getRoot(){return Ht("Reference.root",0,0,arguments.length),new cp(this.database,this._delegate.root)}set(e,n){Ht("Reference.set",1,2,arguments.length),Ni("Reference.set","onComplete",n,!0);const r=qI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Ht("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,s$("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qa("Reference.update",this._delegate._path),Ni("Reference.update","onComplete",n,!0);const r=zhe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Ht("Reference.setWithPriority",2,3,arguments.length),Ni("Reference.setWithPriority","onComplete",r,!0);const i=qhe(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){Ht("Reference.remove",0,1,arguments.length),Ni("Reference.remove","onComplete",e,!0);const n=Vhe(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Ht("Reference.transaction",1,3,arguments.length),Ni("Reference.transaction","transactionUpdate",e,!1),Ni("Reference.transaction","onComplete",n,!0),Ppe("Reference.transaction","applyLocally",r);const i=Npe(this._delegate,e,{applyLocally:r}).then(s=>new Upe(s.committed,new Du(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){Ht("Reference.setPriority",1,2,arguments.length),Ni("Reference.setPriority","onComplete",n,!0);const r=Whe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Ht("Reference.push",0,2,arguments.length),Ni("Reference.push","onComplete",n,!0);const r=Bhe(this._delegate,e),i=r.then(a=>new cp(this.database,a));n&&i.then(()=>n(null),a=>n(a));const s=new cp(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Qa("Reference.onDisconnect",this._delegate._path),new Mpe(new jhe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:vpe,forceLongPolling:xpe}}useEmulator(e,n,r={}){_pe(this._delegate,e,n,r)}ref(e){if(Ht("database.ref",0,1,arguments.length),e instanceof ef){const n=eM(this._delegate,e.toString());return new ef(this,n)}else{const n=e$(this._delegate,e);return new ef(this,n)}}refFromURL(e){Ht("database.refFromURL",1,1,arguments.length);const r=eM(this._delegate,e);return new ef(this,r)}goOffline(){return Ht("database.goOffline",0,0,arguments.length),bpe(this._delegate)}goOnline(){return Ht("database.goOnline",0,0,arguments.length),wpe(this._delegate)}}Ry.ServerValue={TIMESTAMP:Spe(),increment:t=>Dpe(t)};function Ope({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){Vz(n);const o=new DN("database-standalone"),l=new TA("auth-internal",o);l.setComponent(new Os("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new TA("app-check-internal",o),c.setComponent(new Os("app-check-internal",()=>i,"PRIVATE"))),{instance:new Ry(r$(t,l,c,e,a),t),namespace:s}}var Lpe=Object.freeze({__proto__:null,initStandalone:Ope});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jpe=Ry.ServerValue;function Bpe(t){t.INTERNAL.registerComponent(new Os("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Ry(i,r)},"PUBLIC").setServiceProps({Reference:ef,Query:zi,Database:Ry,DataSnapshot:Du,enableLogging:Tpe,INTERNAL:Lpe,ServerValue:jpe}).setMultipleInstances(!0)),t.registerVersion(kpe,Ipe)}Bpe(Ur);const Vpe={apiKey:"AIzaSyDocJGqJzx5N4AmpyPzObYQ8azLy790K9s",authDomain:"gitut-docx.firebaseapp.com",databaseURL:"https://gitut-docx-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"gitut-docx",storageBucket:"gitut-docx.firebasestorage.app",messagingSenderId:"110741096033",appId:"1:110741096033:web:ae402f349829c4209e4c20"};Ur.apps.length||Ur.initializeApp(Vpe);const Fr=Ur.auth(),dm=Ur.firestore();Ur.database();const Jr={profilePicture:{id:"profilePicture",label:"formFields.profilePicture",type:"file",placeholder:"formFields.placeholders.profilePicture"},fullName:{id:"fullName",label:"formFields.fullName",type:"text",placeholder:"formFields.placeholders.fullName"},firstName:{id:"firstName",label:"formFields.firstName",type:"text",placeholder:"formFields.placeholders.firstName"},lastName:{id:"lastName",label:"formFields.lastName",type:"text",placeholder:"formFields.placeholders.lastName"},firstNameFr:{id:"firstNameFr",label:"formFields.firstNameFr",type:"text",placeholder:"formFields.placeholders.firstNameFr"},lastNameFr:{id:"lastNameFr",label:"formFields.lastNameFr",type:"text",placeholder:"formFields.placeholders.lastNameFr"},birthdaydate:{id:"birthdaydate",label:"formFields.birthdaydate",type:"date",placeholder:""},birthdayplace:{id:"birthdayplace",label:"formFields.birthdayplace",type:"text",placeholder:"formFields.placeholders.birthdayplace"},address:{id:"address",label:"formFields.address",type:"text",placeholder:"formFields.placeholders.address"},phone:{id:"phone",label:"formFields.phone",type:"tel",placeholder:"formFields.placeholders.phone"},email:{id:"email",label:"formFields.email",type:"email",placeholder:"formFields.placeholders.email"},jobTitle:{id:"jobTitle",label:"formFields.jobTitle",type:"text",placeholder:"formFields.placeholders.jobTitle"},nationalId:{id:"nationalId",label:"formFields.nationalId",type:"text",placeholder:"formFields.placeholders.nationalId"},birthCertificateNumber:{id:"birthCertificateNumber",label:"formFields.birthCertificateNumber",type:"text",placeholder:"formFields.placeholders.birthCertificateNumber"},socialSecurityNumber:{id:"socialSecurityNumber",label:"formFields.socialSecurityNumber",type:"text",placeholder:"formFields.placeholders.socialSecurityNumber"},nationality:{id:"nationality",label:"formFields.nationality",type:"text",placeholder:"formFields.placeholders.nationality"},maritalStatus:{id:"maritalStatus",label:"formFields.maritalStatus",type:"select",placeholder:"formFields.placeholders.maritalStatus",options:[{value:"married",label:"formFields.maritalStatusOptions.married"},{value:"single",label:"formFields.maritalStatusOptions.single"},{value:"divorced",label:"formFields.maritalStatusOptions.divorced"}]},motherFirstName:{id:"motherFirstName",label:"formFields.motherFirstName",type:"text",placeholder:"formFields.placeholders.motherFirstName"},motherLastName:{id:"motherLastName",label:"formFields.motherLastName",type:"text",placeholder:"formFields.placeholders.motherLastName"},motherDob:{id:"motherDob",label:"formFields.motherDob",type:"date",placeholder:""},motherPob:{id:"motherPob",label:"formFields.motherPob",type:"text",placeholder:"formFields.placeholders.motherPob"},fatherFirstName:{id:"fatherFirstName",label:"formFields.fatherFirstName",type:"text",placeholder:"formFields.placeholders.fatherFirstName"},fatherLastName:{id:"fatherLastName",label:"formFields.fatherLastName",type:"text",placeholder:"formFields.placeholders.fatherLastName"},fatherDob:{id:"fatherDob",label:"formFields.fatherDob",type:"date",placeholder:""},fatherPob:{id:"fatherPob",label:"formFields.fatherPob",type:"text",placeholder:"formFields.placeholders.fatherPob"},residenceWilaya:{id:"residenceWilaya",label:"formFields.residenceWilaya",type:"text",placeholder:"formFields.placeholders.residenceWilaya"},residenceDaira:{id:"residenceDaira",label:"formFields.residenceDaira",type:"text",placeholder:"formFields.placeholders.residenceDaira"},residenceCommune:{id:"residenceCommune",label:"formFields.residenceCommune",type:"text",placeholder:"formFields.placeholders.residenceCommune"},residenceStreet:{id:"residenceStreet",label:"formFields.residenceStreet",type:"text",placeholder:"formFields.placeholders.residenceStreet"},birthWilaya:{id:"birthWilaya",label:"formFields.birthWilaya",type:"text",placeholder:"formFields.placeholders.birthWilaya"},birthDaira:{id:"birthDaira",label:"formFields.birthDaira",type:"text",placeholder:"formFields.placeholders.birthDaira"},birthCommune:{id:"birthCommune",label:"formFields.birthCommune",type:"text",placeholder:"formFields.placeholders.birthCommune"},bloodType:{id:"bloodType",label:"formFields.bloodType",type:"text",placeholder:"formFields.placeholders.bloodType"},DateToday:{id:"DateToday",label:"formFields.dateToday",type:"text",placeholder:""},gender:{id:"gender",label:"formFields.gender",type:"select",placeholder:"formFields.placeholders.gender",options:[{value:"male",label:"formFields.genderOptions.male"},{value:"female",label:"formFields.genderOptions.female"}]},height:{id:"height",label:"formFields.height",type:"number",placeholder:"formFields.placeholders.height"},eyeColor:{id:"eyeColor",label:"formFields.eyeColor",type:"text",placeholder:"formFields.placeholders.eyeColor"},distinguishingMarks:{id:"distinguishingMarks",label:"formFields.distinguishingMarks",type:"text",placeholder:"formFields.placeholders.distinguishingMarks"},employerName:{id:"employerName",label:"formFields.employerName",type:"text",placeholder:"formFields.placeholders.employerName"},employerAddress:{id:"employerAddress",label:"formFields.employerAddress",type:"text",placeholder:"formFields.placeholders.employerAddress"},educationLevel:{id:"educationLevel",label:"formFields.educationLevel",type:"select",placeholder:"formFields.placeholders.educationLevel",options:[{value:"primary",label:"formFields.educationLevelOptions.primary"},{value:"middle",label:"formFields.educationLevelOptions.middle"},{value:"high",label:"formFields.educationLevelOptions.high"},{value:"university",label:"formFields.educationLevelOptions.university"},{value:"postgraduate",label:"formFields.educationLevelOptions.postgraduate"}]},universityName:{id:"universityName",label:"formFields.universityName",type:"text",placeholder:"formFields.placeholders.universityName"},graduationDate:{id:"graduationDate",label:"formFields.graduationDate",type:"date",placeholder:""},fieldOfStudy:{id:"fieldOfStudy",label:"formFields.fieldOfStudy",type:"text",placeholder:"formFields.placeholders.fieldOfStudy"},higherInstituteName:{id:"higherInstituteName",label:"formFields.higherInstituteName",type:"text",placeholder:"formFields.placeholders.higherInstituteName"},vocationalTrainingCenterName:{id:"vocationalTrainingCenterName",label:"formFields.vocationalTrainingCenterName",type:"text",placeholder:"formFields.placeholders.vocationalTrainingCenterName"},schoolName:{id:"schoolName",label:"formFields.schoolName",type:"text",placeholder:"formFields.placeholders.schoolName"},highSchoolName:{id:"highSchoolName",label:"formFields.highSchoolName",type:"text",placeholder:"formFields.placeholders.highSchoolName"},middleSchoolName:{id:"middleSchoolName",label:"formFields.middleSchoolName",type:"text",placeholder:"formFields.placeholders.middleSchoolName"},universityCity:{id:"universityCity",label:"formFields.universityCity",type:"text",placeholder:"formFields.placeholders.universityCity"},passportNumber:{id:"passportNumber",label:"formFields.passportNumber",type:"text",placeholder:"formFields.placeholders.passportNumber"},passportIssueDate:{id:"passportIssueDate",label:"formFields.passportIssueDate",type:"date",placeholder:""},passportExpiryDate:{id:"passportExpiryDate",label:"formFields.passportExpiryDate",type:"date",placeholder:""},passportIssuePlace:{id:"passportIssuePlace",label:"formFields.passportIssuePlace",type:"text",placeholder:"formFields.placeholders.passportIssuePlace"},drivingLicenseNumber:{id:"drivingLicenseNumber",label:"formFields.drivingLicenseNumber",type:"text",placeholder:"formFields.placeholders.drivingLicenseNumber"},drivingLicenseCategory:{id:"drivingLicenseCategory",label:"formFields.drivingLicenseCategory",type:"text",placeholder:"formFields.placeholders.drivingLicenseCategory"},drivingLicenseIssueDate:{id:"drivingLicenseIssueDate",label:"formFields.drivingLicenseIssueDate",type:"date",placeholder:""},numberOfChildren:{id:"numberOfChildren",label:"formFields.numberOfChildren",type:"number",placeholder:"formFields.placeholders.numberOfChildren"},numberOfSons:{id:"numberOfSons",label:"formFields.numberOfSons",type:"number",placeholder:"formFields.placeholders.numberOfSons"},numberOfDaughters:{id:"numberOfDaughters",label:"formFields.numberOfDaughters",type:"number",placeholder:"formFields.placeholders.numberOfDaughters"},numberOfSiblings:{id:"numberOfSiblings",label:"formFields.numberOfSiblings",type:"number",placeholder:"formFields.placeholders.numberOfSiblings"},numberOfBrothers:{id:"numberOfBrothers",label:"formFields.numberOfBrothers",type:"number",placeholder:"formFields.placeholders.numberOfBrothers"},numberOfSisters:{id:"numberOfSisters",label:"formFields.numberOfSisters",type:"number",placeholder:"formFields.placeholders.numberOfSisters"},spouseFullName:{id:"spouseFullName",label:"formFields.spouseFullName",type:"text",placeholder:"formFields.placeholders.spouseFullName"},spouseDob:{id:"spouseDob",label:"formFields.spouseDob",type:"date",placeholder:""},spouseJob:{id:"spouseJob",label:"formFields.spouseJob",type:"text",placeholder:"formFields.placeholders.spouseJob"},militaryStatus:{id:"militaryStatus",label:"formFields.militaryStatus",type:"text",placeholder:"formFields.placeholders.militaryStatus"},ToTheGovernorOftheStateOf:{id:"ToTheGovernorOftheStateOf",label:"formFields.ToTheGovernorOftheStateOf",type:"text",placeholder:"formFields.placeholders.ToTheGovernorOftheStateOf"},submissionDaira:{id:"submissionDaira",label:"formFields.submissionDaira",type:"text",placeholder:"formFields.placeholders.submissionDaira"},ToTheMayorOf:{id:"ToTheMayorOf",label:"formFields.ToTheMayorOf",type:"text",placeholder:"formFields.placeholders.ToTheMayorOf"},employerWilaya:{id:"employerWilaya",label:"formFields.employerWilaya",type:"text",placeholder:"formFields.placeholders.employerWilaya"},employerDaira:{id:"employerDaira",label:"formFields.employerDaira",type:"text",placeholder:"formFields.placeholders.employerDaira"},employerCommune:{id:"employerCommune",label:"formFields.employerCommune",type:"text",placeholder:"formFields.placeholders.employerCommune"},criminalRecordNumber:{id:"criminalRecordNumber",label:"formFields.criminalRecordNumber",type:"text",placeholder:"formFields.placeholders.criminalRecordNumber"},criminalRecordIssueDate:{id:"criminalRecordIssueDate",label:"formFields.criminalRecordIssueDate",type:"date",placeholder:""},criminalRecordIssuePlace:{id:"criminalRecordIssuePlace",label:"formFields.criminalRecordIssuePlace",type:"text",placeholder:"formFields.placeholders.criminalRecordIssuePlace"},commercialRegistryNumber:{id:"commercialRegistryNumber",label:"formFields.commercialRegistryNumber",type:"text",placeholder:"formFields.placeholders.commercialRegistryNumber"},taxIdNumber:{id:"taxIdNumber",label:"formFields.taxIdNumber",type:"text",placeholder:"formFields.placeholders.taxIdNumber"},casnosNumber:{id:"casnosNumber",label:"formFields.casnosNumber",type:"text",placeholder:"formFields.placeholders.casnosNumber"},vehicleRegistrationCardNumber:{id:"vehicleRegistrationCardNumber",label:"formFields.vehicleRegistrationCardNumber",type:"text",placeholder:"formFields.placeholders.vehicleRegistrationCardNumber"},vehicleType:{id:"vehicleType",label:"formFields.vehicleType",type:"text",placeholder:"formFields.placeholders.vehicleType"},vehicleBrand:{id:"vehicleBrand",label:"formFields.vehicleBrand",type:"text",placeholder:"formFields.placeholders.vehicleBrand"},vehicleModel:{id:"vehicleModel",label:"formFields.vehicleModel",type:"text",placeholder:"formFields.placeholders.vehicleModel"},vehicleFirstRegistrationDate:{id:"vehicleFirstRegistrationDate",label:"formFields.vehicleFirstRegistrationDate",type:"date",placeholder:""},bankName:{id:"bankName",label:"formFields.bankName",type:"text",placeholder:"formFields.placeholders.bankName"},bankAccountNumber:{id:"bankAccountNumber",label:"formFields.bankAccountNumber",type:"text",placeholder:"formFields.placeholders.bankAccountNumber"},bankAgencyName:{id:"bankAgencyName",label:"formFields.bankAgencyName",type:"text",placeholder:"formFields.placeholders.bankAgencyName"},bankAgencyCode:{id:"bankAgencyCode",label:"formFields.bankAgencyCode",type:"text",placeholder:"formFields.placeholders.bankAgencyCode"},bankNameTo:{id:"bankNameTo",label:"formFields.bankNameTo",type:"text",placeholder:"formFields.placeholders.bankNameTo"},bankWilayaTo:{id:"bankWilayaTo",label:"formFields.bankWilayaTo",type:"text",placeholder:"formFields.placeholders.bankWilayaTo"},bankCountryTo:{id:"bankCountryTo",label:"formFields.bankCountryTo",type:"text",placeholder:"formFields.placeholders.bankCountryTo"},bankStreetTo:{id:"bankStreetTo",label:"formFields.bankStreetTo",type:"text",placeholder:"formFields.placeholders.bankStreetTo"},bankNameFrom:{id:"bankNameFrom",label:"formFields.bankNameFrom",type:"text",placeholder:"formFields.placeholders.bankNameFrom"},bankWilayaFrom:{id:"bankWilayaFrom",label:"formFields.bankWilayaFrom",type:"text",placeholder:"formFields.placeholders.bankWilayaFrom"},bankCountryFrom:{id:"bankCountryFrom",label:"formFields.bankCountryFrom",type:"text",placeholder:"formFields.placeholders.bankCountryFrom"},bankStreetFrom:{id:"bankStreetFrom",label:"formFields.bankStreetFrom",type:"text",placeholder:"formFields.placeholders.bankStreetFrom"},amountReceived:{id:"amountReceived",label:"formFields.amountReceived",type:"number",placeholder:"formFields.placeholders.amountReceived"},amountSent:{id:"amountSent",label:"formFields.amountSent",type:"number",placeholder:"formFields.placeholders.amountSent"},employmentContractType:{id:"employmentContractType",label:"formFields.employmentContractType",type:"text",placeholder:"formFields.placeholders.employmentContractType"},employmentStartDate:{id:"employmentStartDate",label:"formFields.employmentStartDate",type:"date",placeholder:""},employeeIdNumber:{id:"employeeIdNumber",label:"formFields.employeeIdNumber",type:"text",placeholder:"formFields.placeholders.employeeIdNumber"},professionalGrade:{id:"professionalGrade",label:"formFields.professionalGrade",type:"text",placeholder:"formFields.placeholders.professionalGrade"},nationalIdIssueDate:{id:"nationalIdIssueDate",label:"formFields.nationalIdIssueDate",type:"date",placeholder:""},nationalIdExpiryDate:{id:"nationalIdExpiryDate",label:"formFields.nationalIdExpiryDate",type:"date",placeholder:""},drivingLicenseExpiryDate:{id:"drivingLicenseExpiryDate",label:"formFields.drivingLicenseExpiryDate",type:"date",placeholder:""},familyBookNumber:{id:"familyBookNumber",label:"formFields.familyBookNumber",type:"text",placeholder:"formFields.placeholders.familyBookNumber"},marriageDate:{id:"marriageDate",label:"formFields.marriageDate",type:"date",placeholder:""},marriagePlace:{id:"marriagePlace",label:"formFields.marriagePlace",type:"text",placeholder:"formFields.placeholders.marriagePlace"},rentalContractNumber:{id:"rentalContractNumber",label:"formFields.rentalContractNumber",type:"text",placeholder:"formFields.placeholders.rentalContractNumber"},landlordName:{id:"landlordName",label:"formFields.landlordName",type:"text",placeholder:"formFields.placeholders.landlordName"},propertyAddress:{id:"propertyAddress",label:"formFields.propertyAddress",type:"text",placeholder:"formFields.placeholders.propertyAddress"},attendingPhysicianName:{id:"attendingPhysicianName",label:"formFields.attendingPhysicianName",type:"text",placeholder:"formFields.placeholders.attendingPhysicianName"},disabilityType:{id:"disabilityType",label:"formFields.disabilityType",type:"text",placeholder:"formFields.placeholders.disabilityType"},disabilityPercentage:{id:"disabilityPercentage",label:"formFields.disabilityPercentage",type:"number",placeholder:"formFields.placeholders.disabilityPercentage"},deceasedParentFullName:{id:"deceasedParentFullName",label:"formFields.deceasedParentFullName",type:"text",placeholder:"formFields.placeholders.deceasedParentFullName"},deceasedParentDod:{id:"deceasedParentDod",label:"formFields.deceasedParentDod",type:"date",placeholder:""},deceasedParentPod:{id:"deceasedParentPod",label:"formFields.deceasedParentPod",type:"text",placeholder:"formFields.placeholders.deceasedParentPod"},deathCertificateNumber:{id:"deathCertificateNumber",label:"formFields.deathCertificateNumber",type:"text",placeholder:"formFields.placeholders.deathCertificateNumber"},survivingParentFullName:{id:"survivingParentFullName",label:"formFields.survivingParentFullName",type:"text",placeholder:"formFields.placeholders.survivingParentFullName"},survivingParentJobTitle:{id:"survivingParentJobTitle",label:"formFields.survivingParentJobTitle",type:"text",placeholder:"formFields.placeholders.survivingParentJobTitle"},hospitalName:{id:"hospitalName",label:"formFields.hospitalName",type:"text",placeholder:"formFields.placeholders.hospitalName"},motherFullName:{id:"motherFullName",label:"formFields.motherFullName",type:"text",placeholder:"formFields.placeholders.motherFullName"},fatherFullName:{id:"fatherFullName",label:"formFields.fatherFullName",type:"text",placeholder:"formFields.placeholders.fatherFullName"},spousePob:{id:"spousePob",label:"formFields.spousePob",type:"text",placeholder:"formFields.placeholders.spousePob"},sonName:{id:"sonName",label:"formFields.sonName",type:"text",placeholder:"formFields.placeholders.sonName"},sonDob:{id:"sonDob",label:"formFields.sonDob",type:"date",placeholder:""},sonPob:{id:"sonPob",label:"formFields.sonPob",type:"text",placeholder:"formFields.placeholders.sonPob"},daughterName:{id:"daughterName",label:"formFields.daughterName",type:"text",placeholder:"formFields.placeholders.daughterName"},daughterDob:{id:"daughterDob",label:"formFields.daughterDob",type:"date",placeholder:""},daughterPob:{id:"daughterPob",label:"formFields.daughterPob",type:"text",placeholder:"formFields.placeholders.daughterPob"},paternalGrandfatherName:{id:"paternalGrandfatherName",label:"formFields.paternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherName"},paternalGrandfatherDob:{id:"paternalGrandfatherDob",label:"formFields.paternalGrandfatherDob",type:"date",placeholder:""},paternalGrandfatherPob:{id:"paternalGrandfatherPob",label:"formFields.paternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandfatherPob"},paternalGrandmotherName:{id:"paternalGrandmotherName",label:"formFields.paternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherName"},paternalGrandmotherDob:{id:"paternalGrandmotherDob",label:"formFields.paternalGrandmotherDob",type:"date",placeholder:""},paternalGrandmotherPob:{id:"paternalGrandmotherPob",label:"formFields.paternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.paternalGrandmotherPob"},maternalGrandfatherName:{id:"maternalGrandfatherName",label:"formFields.maternalGrandfatherName",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherName"},maternalGrandfatherDob:{id:"maternalGrandfatherDob",label:"formFields.maternalGrandfatherDob",type:"date",placeholder:""},maternalGrandfatherPob:{id:"maternalGrandfatherPob",label:"formFields.maternalGrandfatherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandfatherPob"},maternalGrandmotherName:{id:"maternalGrandmotherName",label:"formFields.maternalGrandmotherName",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherName"},maternalGrandmotherDob:{id:"maternalGrandmotherDob",label:"formFields.maternalGrandmotherDob",type:"date",placeholder:""},maternalGrandmotherPob:{id:"maternalGrandmotherPob",label:"formFields.maternalGrandmotherPob",type:"text",placeholder:"formFields.placeholders.maternalGrandmotherPob"},currentTime:{id:"currentTime",label:"formFields.currentTime",type:"text",placeholder:""},currentYear:{id:"currentYear",label:"formFields.currentYear",type:"text",placeholder:""},documentName:{id:"documentName",label:"formFields.documentName",type:"text",placeholder:""},age:{id:"age",label:"formFields.age",type:"text",placeholder:""},fullDateLongAr:{id:"fullDateLongAr",label:"formFields.fullDateLongAr",type:"text",placeholder:""},hijriDate:{id:"hijriDate",label:"formFields.hijriDate",type:"text",placeholder:""},motherAge:{id:"motherAge",label:"formFields.motherAge",type:"text",placeholder:""},fatherAge:{id:"fatherAge",label:"formFields.fatherAge",type:"text",placeholder:""},spouseAge:{id:"spouseAge",label:"formFields.spouseAge",type:"text",placeholder:""},sonAge:{id:"sonAge",label:"formFields.sonAge",type:"text",placeholder:""},daughterAge:{id:"daughterAge",label:"formFields.daughterAge",type:"text",placeholder:""},paternalGrandfatherAge:{id:"paternalGrandfatherAge",label:"formFields.paternalGrandfatherAge",type:"text",placeholder:""},paternalGrandmotherAge:{id:"paternalGrandmotherAge",label:"formFields.paternalGrandmotherAge",type:"text",placeholder:""},maternalGrandfatherAge:{id:"maternalGrandfatherAge",label:"formFields.maternalGrandfatherAge",type:"text",placeholder:""},maternalGrandmotherAge:{id:"maternalGrandmotherAge",label:"formFields.maternalGrandmotherAge",type:"text",placeholder:""}},lC={profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:"",residenceWilaya:" ",residenceCommune:" ",residenceDaira:" ",residenceStreet:" ",birthWilaya:" ",birthCommune:" ",birthDaira:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",bloodType:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" /",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"   ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:"  ()",numberOfSons:"  ()",numberOfDaughters:"  ()",numberOfSiblings:"  ()",numberOfBrothers:"  ()",numberOfSisters:"  ()",spouseFullName:" /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",ToTheGovernorOftheStateOf:"    ",submissionDaira:"    ",ToTheMayorOf:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",bankNameTo:"   ",bankWilayaTo:"   ",bankCountryTo:"   ",bankStreetTo:"   ",bankNameFrom:"   ",bankWilayaFrom:"   ",bankCountryFrom:"   ",bankStreetFrom:"   ",amountReceived:" ",amountSent:" ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",disabilityType:" ",disabilityPercentage:"  (%)",deceasedParentFullName:"   ",deceasedParentDod:"  ",deceasedParentPod:"  ",deathCertificateNumber:"  ",survivingParentFullName:"      ",survivingParentJobTitle:"     ",hospitalName:" ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",motherFullName:"  ",motherAge:" ",fatherFullName:"  ",fatherAge:" ",spousePob:"  /",spouseAge:" /",sonName:" ",sonDob:"  ",sonPob:"  ",sonAge:" ",daughterName:" ",daughterDob:"  ",daughterPob:"  ",daughterAge:" ",paternalGrandfatherName:"  ( )",paternalGrandfatherDob:"   ( )",paternalGrandfatherPob:"   ( )",paternalGrandfatherAge:"  ( )",paternalGrandmotherName:"  ( )",paternalGrandmotherDob:"   ( )",paternalGrandmotherPob:"   ( )",paternalGrandmotherAge:"  ( )",maternalGrandfatherName:"  ( )",maternalGrandfatherDob:"   ( )",maternalGrandfatherPob:"   ( )",maternalGrandfatherAge:"  ( )",maternalGrandmotherName:"  ( )",maternalGrandmotherDob:"   ( )",maternalGrandmotherPob:"   ( )",maternalGrandmotherAge:"  ( )"},Wpe="GitutOfflineDB",qpe=9,jm=()=>new Promise((t,e)=>{const n=indexedDB.open(Wpe,qpe);n.onerror=()=>e("Error opening IndexedDB."),n.onsuccess=()=>t(n.result),n.onupgradeneeded=r=>{const i=r.target.result;["offlineMetadata","documents","fullDocuments","staticDocuments","sites","baseTemplates","siteSettings","userProfile","pendingCreditDeductions","codes","cafes","pages","blogPosts","ads","clients","voice_prompts","tagTitleLists","jobs"].forEach(a=>{if(!i.objectStoreNames.contains(a)){let o={keyPath:"id"};a==="tagTitleLists"&&(o={keyPath:"tag"}),i.createObjectStore(a,o)}})}}),Ms=async(t,e)=>{const n=await jm();return new Promise(r=>{const a=n.transaction(t,"readonly").objectStore(t).get(e);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})},Kn=async t=>{const e=await jm();return new Promise(n=>{const s=e.transaction(t,"readonly").objectStore(t).getAll();s.onsuccess=()=>n(s.result||[]),s.onerror=()=>n([])})},ur=async(t,e)=>{const n=await jm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).put(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},Ci=async(t,e)=>{if(!e||e.length===0)return;const n=await jm();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite"),a=s.objectStore(t);s.oncomplete=()=>r(),s.onerror=()=>i(s.error),a.clear(),e.forEach(o=>{o&&o.id!==void 0?a.put(o):console.warn(`Item in store '${t}' is missing an 'id' and was skipped.`,o)})})},kf=async(t,e)=>{const n=await jm();return new Promise((r,i)=>{const o=n.transaction(t,"readwrite").objectStore(t).delete(e);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},zpe=async t=>{await ur("pendingCreditDeductions",t)},Hpe=async()=>Kn("pendingCreditDeductions"),$pe=async()=>{const t=await jm();return new Promise((e,n)=>{const s=t.transaction("pendingCreditDeductions","readwrite").objectStore("pendingCreditDeductions").clear();s.onsuccess=()=>e(),s.onerror=()=>n(s.error)})};function y1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var aM;function a$(){return aM||(aM=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var f=typeof y1=="function"&&y1;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var g=r[c][1][v];return a(g||v)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof y1=="function"&&y1,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,h,p,v,g,y=[],b=0,x=l.length,w=x,E=s.getTypeOf(l)!=="string";b<l.length;)w=x-b,f=E?(c=l[b++],u=b<x?l[b++]:0,b<x?l[b++]:0):(c=l.charCodeAt(b++),u=b<x?l.charCodeAt(b++):0,b<x?l.charCodeAt(b++):0),h=c>>2,p=(3&c)<<4|u>>4,v=1<w?(15&u)<<2|f>>6:64,g=2<w?63&f:64,y.push(o.charAt(h)+o.charAt(p)+o.charAt(v)+o.charAt(g));return y.join("")},i.decode=function(l){var c,u,f,h,p,v,g=0,y=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|w):new Array(0|w);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(p=o.indexOf(l.charAt(g++)))>>2,f=(3&p)<<6|(v=o.indexOf(l.charAt(g++))),x[y++]=c,p!==64&&(x[y++]=u),v!==64&&(x[y++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,f,h,p,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u[g])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,h){var p=a,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^p[255&(c^u.charCodeAt(g))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,v,g,y,b,x){var w,E,S=p.file,R=p.compression,D=x!==c.utf8encode,N=o.transformTo("string",x(S.name)),I=o.transformTo("string",c.utf8encode(S.name)),F=S.comment,P=o.transformTo("string",x(F)),k=o.transformTo("string",c.utf8encode(F)),U=I.length!==S.name.length,O=k.length!==F.length,X="",J="",Y="",ne=S.dir,z=S.date,K={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(K.crc32=p.crc32,K.compressedSize=p.compressedSize,K.uncompressedSize=p.uncompressedSize);var B=0;v&&(B|=8),D||!U&&!O||(B|=2048);var j=0,W=0;ne&&(j|=16),b==="UNIX"?(W=798,j|=(function(Q,Z){var se=Q;return Q||(se=Z?16893:33204),(65535&se)<<16})(S.unixPermissions,ne)):(W=20,j|=(function(Q){return 63&(Q||0)})(S.dosPermissions)),w=z.getUTCHours(),w<<=6,w|=z.getUTCMinutes(),w<<=5,w|=z.getUTCSeconds()/2,E=z.getUTCFullYear()-1980,E<<=4,E|=z.getUTCMonth()+1,E<<=5,E|=z.getUTCDate(),U&&(J=s(1,1)+s(u(N),4)+I,X+="up"+s(J.length,2)+J),O&&(Y=s(1,1)+s(u(P),4)+k,X+="uc"+s(Y.length,2)+Y);var H="";return H+=`
\0`,H+=s(B,2),H+=R.magic,H+=s(w,2),H+=s(E,2),H+=s(K.crc32,4),H+=s(K.compressedSize,4),H+=s(K.uncompressedSize,4),H+=s(N.length,2),H+=s(X.length,2),{fileRecord:f.LOCAL_FILE_HEADER+H+N+X,dirRecord:f.CENTRAL_FILE_HEADER+s(W,2)+H+s(P.length,2)+"\0\0\0\0"+s(j,4)+s(y,4)+N+X+P}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),f=n("../signature");function h(p,v,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=a(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=a(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(y){return f.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,y=(function(b,x,w,E,S){var R=o.transformTo("string",S(E));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(x,4)+s(w,4)+s(R.length,2)+R})(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var v=(function(x,w){var E=x||w,S=s[E];if(!S)throw new Error(E+" is not a valid compression method !");return S})(p.options.compression,l.compression),g=p.options.compressionOptions||l.compressionOptions||{},y=p.dir,b=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:b,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function f(h){return new a.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new l(p);return y.load(g),y}).then(function(g){var y=[a.Promise.resolve(g)],b=g.files;if(p.checkCRC32)for(var x=0;x<b.length;x++)y.push(f(b[x]));return a.Promise.all(y)}).then(function(g){for(var y=g.shift(),b=y.files,x=0;x<b.length;x++){var w=b[x],E=w.fileNameStr,S=s.resolve(w.fileNameStr);v.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(v.file(S).unsafeOriginalName=E)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(S,R,D){var N,I=o.getTypeOf(R),F=o.extend(D||{},u);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(S=b(S)),F.createFolders&&(N=y(S))&&x.call(this,N,!0);var P=I==="string"&&F.binary===!1&&F.base64===!1;D&&D.binary!==void 0||(F.binary=!P),(R instanceof f&&R.uncompressedSize===0||F.dir||!R||R.length===0)&&(F.base64=!1,F.binary=!0,R="",F.compression="STORE",I="string");var k=null;k=R instanceof f||R instanceof l?R:v.isNode&&v.isStream(R)?new g(S,R):o.prepareContent(S,R,F.binary,F.optimizedBinaryString,F.base64);var U=new h(S,k,F);this.files[S]=U}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var R=S.lastIndexOf("/");return 0<R?S.substring(0,R):""},b=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},x=function(S,R){return R=R!==void 0?R:u.createFolders,S=b(S),this.files[S]||s.call(this,S,null,{dir:!0,createFolders:R}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var R,D,N;for(R in this.files)N=this.files[R],(D=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&S(D,N)},filter:function(S){var R=[];return this.forEach(function(D,N){S(D,N)&&R.push(N)}),R},file:function(S,R,D){if(arguments.length!==1)return S=this.root+S,s.call(this,S,R,D),this;if(w(S)){var N=S;return this.filter(function(F,P){return!P.dir&&N.test(F)})}var I=this.files[this.root+S];return I&&!I.dir?I:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(I,F){return F.dir&&S.test(I)});var R=this.root+S,D=x.call(this,R),N=this.clone();return N.root=D.name,N},remove:function(S){S=this.root+S;var R=this.files[S];if(R||(S.slice(-1)!=="/"&&(S+="/"),R=this.files[S]),R&&!R.dir)delete this.files[S];else for(var D=this.filter(function(I,F){return F.name.slice(0,S.length)===S}),N=0;N<D.length;N++)delete this.files[D[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var R,D={};try{if((D=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var N=D.comment||this.comment||"";R=p.generateWorker(this,D,N)}catch(I){(R=new l("error")).error(I)}return new c(R,D.type||"string",D.mimeType)},generateAsync:function(S,R){return this.generateInternalStream(S).accumulate(R)},generateNodeStream:function(S,R){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(R)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new c(f):a.uint8array?new u(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new u.Promise(function(y,b){var x=[],w=v._internalType,E=v._outputType,S=v._mimeType;v.on("data",function(R,D){x.push(R),g&&g(D)}).on("error",function(R){x=[],b(R)}).on("end",function(){try{var R=(function(D,N,I){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",N),I);case"base64":return l.encode(N);default:return s.transformTo(D,N)}})(E,(function(D,N){var I,F=0,P=null,k=0;for(I=0;I<N.length;I++)k+=N[I].length;switch(D){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(P=new Uint8Array(k),I=0;I<N.length;I++)P.set(N[I],F),F+=N[I].length;return P;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+D+"'")}})(w,x),S);y(R)}catch(D){b(D)}x=[]}).resume()})}function p(v,g,y){var b=g;switch(g){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=g,this._mimeType=y,s.checkSupport(b),this._worker=v.pipe(new a(b)),v.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(b){g.call(y,b.data,b.meta)}):this._worker.on(v,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?o.newBufferFrom(p,"utf-8"):(function(v){var g,y,b,x,w,E=v.length,S=0;for(x=0;x<E;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<E&&(64512&(b=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),x++),S+=y<128?1:y<2048?2:y<65536?3:4;for(g=a.uint8array?new Uint8Array(S):new Array(S),x=w=0;w<S;x++)(64512&(y=v.charCodeAt(x)))==55296&&x+1<E&&(64512&(b=v.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),x++),y<128?g[w++]=y:(y<2048?g[w++]=192|y>>>6:(y<65536?g[w++]=224|y>>>12:(g[w++]=240|y>>>18,g[w++]=128|y>>>12&63),g[w++]=128|y>>>6&63),g[w++]=128|63&y);return g})(p)},i.utf8decode=function(p){return a.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(v){var g,y,b,x,w=v.length,E=new Array(2*w);for(g=y=0;g<w;)if((b=v[g++])<128)E[y++]=b;else if(4<(x=c[b]))E[y++]=65533,g+=x-1;else{for(b&=x===2?31:x===3?15:7;1<x&&g<w;)b=b<<6|63&v[g++],x--;1<x?E[y++]=65533:b<65536?E[y++]=b:(b-=65536,E[y++]=55296|b>>10&1023,E[y++]=56320|1023&b)}return E.length!==y&&(E.subarray?E=E.subarray(0,y):E.length=y),s.applyFromCharCode(E)})(p=s.transformTo(a.uint8array?"uint8array":"array",p))},s.inherits(f,l),f.prototype.processChunk=function(p){var v=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=(function(x,w){var E;for((w=w||x.length)>x.length&&(w=x.length),E=w-1;0<=E&&(192&x[E])==128;)E--;return E<0||E===0?w:E+c[x[E]]>w?E:w})(v),b=v;y!==v.length&&(a.uint8array?(b=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(b=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(b),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(g){return g}function u(g,y){for(var b=0;b<g.length;++b)y[b]=255&g.charCodeAt(b);return y}n("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(g),b.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,b){var x=[],w=0,E=g.length;if(E<=b)return String.fromCharCode.apply(null,g);for(;w<E;)y==="array"||y==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+b,E)))):x.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+b,E)))),w+=b;return x.join("")},stringifyByChar:function(g){for(var y="",b=0;b<g.length;b++)y+=String.fromCharCode(g[b]);return y},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var y=65536,b=i.getTypeOf(g),x=!0;if(b==="uint8array"?x=f.applyCanBeUsed.uint8array:b==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<y;)try{return f.stringifyByChunk(g,b,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function p(g,y){for(var b=0;b<g.length;b++)y[b]=g[b];return y}i.applyFromCharCode=h;var v={};v.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},v.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var b=i.getTypeOf(y);return v[b][g](y)},i.resolve=function(g){for(var y=g.split("/"),b=[],x=0;x<y.length;x++){var w=y[x];w==="."||w===""&&x!==0&&x!==y.length-1||(w===".."?b.pop():b.push(w))}return b.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,b,x="";for(b=0;b<(g||"").length;b++)x+="\\x"+((y=g.charCodeAt(b))<16?"0":"")+y.toString(16).toUpperCase();return x},i.delay=function(g,y,b){setImmediate(function(){g.apply(b||null,y||[])})},i.inherits=function(g,y){function b(){}b.prototype=y.prototype,g.prototype=new b},i.extend=function(){var g,y,b={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&b[y]===void 0&&(b[y]=arguments[g][y]);return b},i.prepareContent=function(g,y,b,x,w){return l.Promise.resolve(y).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,R){var D=new FileReader;D.onload=function(N){S(N.target.result)},D.onerror=function(N){R(N.target.error)},D.readAsArrayBuffer(E)}):E}).then(function(E){var S=i.getTypeOf(E);return S?(S==="arraybuffer"?E=i.transformTo("uint8array",E):S==="string"&&(w?E=a.decode(E):b&&x!==!0&&(E=(function(R){return u(R,s.uint8array?new Uint8Array(R.length):new Array(R.length))})(E))),E):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",p=a.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),f=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(y){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===y)return u[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,g,y,b=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<b;)v=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[v]={id:v,length:g,value:y};p.setIndex(b)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var b=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=s(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var b=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var x=!this._dataBinary;x&&!b&&(g=g.pipe(new l.Utf8EncodeWorker)),!x&&b&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new a(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)s.prototype[f[p]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),a=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new s.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,y;o=!0;for(var b=p.length;b;){for(y=p,p=[],g=-1;++g<b;)y[g]();b=p.length}o=!1}r.exports=function(g){p.push(g)!==1||o||a()}}).call(this,typeof ps<"u"?ps:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==a&&g(this,b)}function h(b,x,w){this.promise=b,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(b,x,w){s(function(){var E;try{E=x(w)}catch(S){return o.reject(b,S)}E===b?o.reject(b,new TypeError("Cannot resolve promise with itself")):o.resolve(b,E)})}function v(b){var x=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof x=="function")return function(){x.apply(b,arguments)}}function g(b,x){var w=!1;function E(D){w||(w=!0,o.reject(b,D))}function S(D){w||(w=!0,o.resolve(b,D))}var R=y(function(){x(S,E)});R.status==="error"&&E(R.value)}function y(b,x){var w={};try{w.value=b(x),w.status="success"}catch(E){w.status="error",w.value=E}return w}(r.exports=f).prototype.finally=function(b){if(typeof b!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(b()).then(function(){return w})},function(w){return x.resolve(b()).then(function(){throw w})})},f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,x){if(typeof b!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==u?p(w,this.state===c?b:x,this.outcome):this.queue.push(new h(w,b,x)),w},h.prototype.callFulfilled=function(b){o.resolve(this.promise,b)},h.prototype.otherCallFulfilled=function(b){p(this.promise,this.onFulfilled,b)},h.prototype.callRejected=function(b){o.reject(this.promise,b)},h.prototype.otherCallRejected=function(b){p(this.promise,this.onRejected,b)},o.resolve=function(b,x){var w=y(v,x);if(w.status==="error")return o.reject(b,w.value);var E=w.value;if(E)g(b,E);else{b.state=c,b.outcome=x;for(var S=-1,R=b.queue.length;++S<R;)b.queue[S].callFulfilled(x)}return b},o.reject=function(b,x){b.state=l,b.outcome=x;for(var w=-1,E=b.queue.length;++w<E;)b.queue[w].callRejected(x);return b},f.resolve=function(b){return b instanceof this?b:o.resolve(new this(a),b)},f.reject=function(b){var x=new this(a);return o.reject(x,b)},f.all=function(b){var x=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,E=!1;if(!w)return this.resolve([]);for(var S=new Array(w),R=0,D=-1,N=new this(a);++D<w;)I(b[D],D);return N;function I(F,P){x.resolve(F).then(function(k){S[P]=k,++R!==w||E||(E=!0,o.resolve(N,S))},function(k){E||(E=!0,o.reject(N,k))})}},f.race=function(b){var x=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,E=!1;if(!w)return this.resolve([]);for(var S=-1,R=new this(a);++S<w;)D=b[S],x.resolve(D).then(function(N){E||(E=!0,o.resolve(R,N))},function(N){E||(E=!0,o.reject(R,N))});var D;return R}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,p=0,v=8;function g(b){if(!(this instanceof g))return new g(b);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},b||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==f)throw new Error(l[w]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var E;if(E=typeof x.dictionary=="string"?o.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=s.deflateSetDictionary(this.strm,E))!==f)throw new Error(l[w]);this._dict_set=!0}}function y(b,x){var w=new g(x);if(w.push(b,!0),w.err)throw w.msg||l[w.err];return w.result}g.prototype.push=function(b,x){var w,E,S=this.strm,R=this.options.chunkSize;if(this.ended)return!1;E=x===~~x?x:x===!0?4:0,typeof b=="string"?S.input=o.string2buf(b):u.call(b)==="[object ArrayBuffer]"?S.input=new Uint8Array(b):S.input=b,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(R),S.next_out=0,S.avail_out=R),(w=s.deflate(S,E))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return E===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):E!==2||(this.onEnd(f),!(S.avail_out=0))},g.prototype.onData=function(b){this.chunks.push(b)},g.prototype.onEnd=function(b){b===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(b,x){return(x=x||{}).raw=!0,y(b,x)},i.gzip=function(b,x){return(x=x||{}).gzip=!0,y(b,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,y.windowBits);if(b!==l.Z_OK)throw new Error(c[b]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function v(g,y){var b=new p(y);if(b.push(g,!0),b.err)throw b.msg||c[b.err];return b.result}p.prototype.push=function(g,y){var b,x,w,E,S,R,D=this.strm,N=this.options.chunkSize,I=this.options.dictionary,F=!1;if(this.ended)return!1;x=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?D.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(N),D.next_out=0,D.avail_out=N),(b=s.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(R=typeof I=="string"?o.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,b=s.inflateSetDictionary(this.strm,R)),b===l.Z_BUF_ERROR&&F===!0&&(b=l.Z_OK,F=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&b!==l.Z_STREAM_END&&(D.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(D.output,D.next_out),E=D.next_out-w,S=o.buf2string(D.output,w),D.next_out=E,D.avail_out=N-E,E&&a.arraySet(D.output,D.output,w,E,0),this.onData(S)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(F=!0)}while((0<D.avail_in||D.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),h);else for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){var c,u,f,h,p,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,u=l.length;c<u;c++)p=l[c],v.set(p,h),h+=p.length;return v}},o={arraySet:function(l,c,u,f,h){for(var p=0;p<f;p++)l[h+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}l[254]=l[254]=1,i.string2buf=function(f){var h,p,v,g,y,b=f.length,x=0;for(g=0;g<b;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new s.Buf8(x),g=y=0;y<x;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},i.buf2string=function(f,h){var p,v,g,y,b=h||f.length,x=new Array(2*b);for(p=v=0;p<b;)if((g=f[p++])<128)x[v++]=g;else if(4<(y=l[g]))x[v++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<b;)g=g<<6|63&f[p++],y--;1<y?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return u(x,v)},i.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+l[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var u=s,f=c+l;a^=-1;for(var h=c;h<f;h++)a=a>>>8^u[255&(a^o[h])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),f=0,h=4,p=0,v=-2,g=-1,y=4,b=2,x=8,w=9,E=286,S=30,R=19,D=2*E+1,N=15,I=3,F=258,P=F+I+1,k=42,U=113,O=1,X=2,J=3,Y=4;function ne(V,ye){return V.msg=u[ye],ye}function z(V){return(V<<1)-(4<V?9:0)}function K(V){for(var ye=V.length;0<=--ye;)V[ye]=0}function B(V){var ye=V.state,be=ye.pending;be>V.avail_out&&(be=V.avail_out),be!==0&&(a.arraySet(V.output,ye.pending_buf,ye.pending_out,be,V.next_out),V.next_out+=be,ye.pending_out+=be,V.total_out+=be,V.avail_out-=be,ye.pending-=be,ye.pending===0&&(ye.pending_out=0))}function j(V,ye){o._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,ye),V.block_start=V.strstart,B(V.strm)}function W(V,ye){V.pending_buf[V.pending++]=ye}function H(V,ye){V.pending_buf[V.pending++]=ye>>>8&255,V.pending_buf[V.pending++]=255&ye}function Q(V,ye){var be,oe,re=V.max_chain_length,le=V.strstart,he=V.prev_length,_e=V.nice_match,ie=V.strstart>V.w_size-P?V.strstart-(V.w_size-P):0,de=V.window,me=V.w_mask,ve=V.prev,De=V.strstart+F,Ue=de[le+he-1],Te=de[le+he];V.prev_length>=V.good_match&&(re>>=2),_e>V.lookahead&&(_e=V.lookahead);do if(de[(be=ye)+he]===Te&&de[be+he-1]===Ue&&de[be]===de[le]&&de[++be]===de[le+1]){le+=2,be++;do;while(de[++le]===de[++be]&&de[++le]===de[++be]&&de[++le]===de[++be]&&de[++le]===de[++be]&&de[++le]===de[++be]&&de[++le]===de[++be]&&de[++le]===de[++be]&&de[++le]===de[++be]&&le<De);if(oe=F-(De-le),le=De-F,he<oe){if(V.match_start=ye,_e<=(he=oe))break;Ue=de[le+he-1],Te=de[le+he]}}while((ye=ve[ye&me])>ie&&--re!=0);return he<=V.lookahead?he:V.lookahead}function Z(V){var ye,be,oe,re,le,he,_e,ie,de,me,ve=V.w_size;do{if(re=V.window_size-V.lookahead-V.strstart,V.strstart>=ve+(ve-P)){for(a.arraySet(V.window,V.window,ve,ve,0),V.match_start-=ve,V.strstart-=ve,V.block_start-=ve,ye=be=V.hash_size;oe=V.head[--ye],V.head[ye]=ve<=oe?oe-ve:0,--be;);for(ye=be=ve;oe=V.prev[--ye],V.prev[ye]=ve<=oe?oe-ve:0,--be;);re+=ve}if(V.strm.avail_in===0)break;if(he=V.strm,_e=V.window,ie=V.strstart+V.lookahead,de=re,me=void 0,me=he.avail_in,de<me&&(me=de),be=me===0?0:(he.avail_in-=me,a.arraySet(_e,he.input,he.next_in,me,ie),he.state.wrap===1?he.adler=l(he.adler,_e,me,ie):he.state.wrap===2&&(he.adler=c(he.adler,_e,me,ie)),he.next_in+=me,he.total_in+=me,me),V.lookahead+=be,V.lookahead+V.insert>=I)for(le=V.strstart-V.insert,V.ins_h=V.window[le],V.ins_h=(V.ins_h<<V.hash_shift^V.window[le+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[le+I-1])&V.hash_mask,V.prev[le&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=le,le++,V.insert--,!(V.lookahead+V.insert<I)););}while(V.lookahead<P&&V.strm.avail_in!==0)}function se(V,ye){for(var be,oe;;){if(V.lookahead<P){if(Z(V),V.lookahead<P&&ye===f)return O;if(V.lookahead===0)break}if(be=0,V.lookahead>=I&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+I-1])&V.hash_mask,be=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),be!==0&&V.strstart-be<=V.w_size-P&&(V.match_length=Q(V,be)),V.match_length>=I)if(oe=o._tr_tally(V,V.strstart-V.match_start,V.match_length-I),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=I){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+I-1])&V.hash_mask,be=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else oe=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(oe&&(j(V,!1),V.strm.avail_out===0))return O}return V.insert=V.strstart<I-1?V.strstart:I-1,ye===h?(j(V,!0),V.strm.avail_out===0?J:Y):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?O:X}function ce(V,ye){for(var be,oe,re;;){if(V.lookahead<P){if(Z(V),V.lookahead<P&&ye===f)return O;if(V.lookahead===0)break}if(be=0,V.lookahead>=I&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+I-1])&V.hash_mask,be=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=I-1,be!==0&&V.prev_length<V.max_lazy_match&&V.strstart-be<=V.w_size-P&&(V.match_length=Q(V,be),V.match_length<=5&&(V.strategy===1||V.match_length===I&&4096<V.strstart-V.match_start)&&(V.match_length=I-1)),V.prev_length>=I&&V.match_length<=V.prev_length){for(re=V.strstart+V.lookahead-I,oe=o._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-I),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=re&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+I-1])&V.hash_mask,be=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=I-1,V.strstart++,oe&&(j(V,!1),V.strm.avail_out===0))return O}else if(V.match_available){if((oe=o._tr_tally(V,0,V.window[V.strstart-1]))&&j(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return O}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(oe=o._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<I-1?V.strstart:I-1,ye===h?(j(V,!0),V.strm.avail_out===0?J:Y):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?O:X}function ue(V,ye,be,oe,re){this.good_length=V,this.max_lazy=ye,this.nice_length=be,this.max_chain=oe,this.func=re}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(N+1),this.heap=new a.Buf16(2*E+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ie(V){var ye;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=b,(ye=V.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?k:U,V.adler=ye.wrap===2?0:1,ye.last_flush=f,o._tr_init(ye),p):ne(V,v)}function fe(V){var ye=Ie(V);return ye===p&&(function(be){be.window_size=2*be.w_size,K(be.head),be.max_lazy_match=s[be.level].max_lazy,be.good_match=s[be.level].good_length,be.nice_match=s[be.level].nice_length,be.max_chain_length=s[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=I-1,be.match_available=0,be.ins_h=0})(V.state),ye}function Le(V,ye,be,oe,re,le){if(!V)return v;var he=1;if(ye===g&&(ye=6),oe<0?(he=0,oe=-oe):15<oe&&(he=2,oe-=16),re<1||w<re||be!==x||oe<8||15<oe||ye<0||9<ye||le<0||y<le)return ne(V,v);oe===8&&(oe=9);var _e=new Ee;return(V.state=_e).strm=V,_e.wrap=he,_e.gzhead=null,_e.w_bits=oe,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=re+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+I-1)/I),_e.window=new a.Buf8(2*_e.w_size),_e.head=new a.Buf16(_e.hash_size),_e.prev=new a.Buf16(_e.w_size),_e.lit_bufsize=1<<re+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new a.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=ye,_e.strategy=le,_e.method=be,fe(V)}s=[new ue(0,0,0,0,function(V,ye){var be=65535;for(be>V.pending_buf_size-5&&(be=V.pending_buf_size-5);;){if(V.lookahead<=1){if(Z(V),V.lookahead===0&&ye===f)return O;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var oe=V.block_start+be;if((V.strstart===0||V.strstart>=oe)&&(V.lookahead=V.strstart-oe,V.strstart=oe,j(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-P&&(j(V,!1),V.strm.avail_out===0))return O}return V.insert=0,ye===h?(j(V,!0),V.strm.avail_out===0?J:Y):(V.strstart>V.block_start&&(j(V,!1),V.strm.avail_out),O)}),new ue(4,4,8,4,se),new ue(4,5,16,8,se),new ue(4,6,32,32,se),new ue(4,4,16,16,ce),new ue(8,16,32,32,ce),new ue(8,16,128,128,ce),new ue(8,32,128,256,ce),new ue(32,128,258,1024,ce),new ue(32,258,258,4096,ce)],i.deflateInit=function(V,ye){return Le(V,ye,x,15,8,0)},i.deflateInit2=Le,i.deflateReset=fe,i.deflateResetKeep=Ie,i.deflateSetHeader=function(V,ye){return V&&V.state?V.state.wrap!==2?v:(V.state.gzhead=ye,p):v},i.deflate=function(V,ye){var be,oe,re,le;if(!V||!V.state||5<ye||ye<0)return V?ne(V,v):v;if(oe=V.state,!V.output||!V.input&&V.avail_in!==0||oe.status===666&&ye!==h)return ne(V,V.avail_out===0?-5:v);if(oe.strm=V,be=oe.last_flush,oe.last_flush=ye,oe.status===k)if(oe.wrap===2)V.adler=0,W(oe,31),W(oe,139),W(oe,8),oe.gzhead?(W(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),W(oe,255&oe.gzhead.time),W(oe,oe.gzhead.time>>8&255),W(oe,oe.gzhead.time>>16&255),W(oe,oe.gzhead.time>>24&255),W(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),W(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(W(oe,255&oe.gzhead.extra.length),W(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(V.adler=c(V.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=69):(W(oe,0),W(oe,0),W(oe,0),W(oe,0),W(oe,0),W(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),W(oe,3),oe.status=U);else{var he=x+(oe.w_bits-8<<4)<<8;he|=(2<=oe.strategy||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(he|=32),he+=31-he%31,oe.status=U,H(oe,he),oe.strstart!==0&&(H(oe,V.adler>>>16),H(oe,65535&V.adler)),V.adler=1}if(oe.status===69)if(oe.gzhead.extra){for(re=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending!==oe.pending_buf_size));)W(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=73)}else oe.status=73;if(oe.status===73)if(oe.gzhead.name){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending===oe.pending_buf_size)){le=1;break}le=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,W(oe,le)}while(le!==0);oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),le===0&&(oe.gzindex=0,oe.status=91)}else oe.status=91;if(oe.status===91)if(oe.gzhead.comment){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),B(V),re=oe.pending,oe.pending===oe.pending_buf_size)){le=1;break}le=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,W(oe,le)}while(le!==0);oe.gzhead.hcrc&&oe.pending>re&&(V.adler=c(V.adler,oe.pending_buf,oe.pending-re,re)),le===0&&(oe.status=103)}else oe.status=103;if(oe.status===103&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&B(V),oe.pending+2<=oe.pending_buf_size&&(W(oe,255&V.adler),W(oe,V.adler>>8&255),V.adler=0,oe.status=U)):oe.status=U),oe.pending!==0){if(B(V),V.avail_out===0)return oe.last_flush=-1,p}else if(V.avail_in===0&&z(ye)<=z(be)&&ye!==h)return ne(V,-5);if(oe.status===666&&V.avail_in!==0)return ne(V,-5);if(V.avail_in!==0||oe.lookahead!==0||ye!==f&&oe.status!==666){var _e=oe.strategy===2?(function(ie,de){for(var me;;){if(ie.lookahead===0&&(Z(ie),ie.lookahead===0)){if(de===f)return O;break}if(ie.match_length=0,me=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,me&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,de===h?(j(ie,!0),ie.strm.avail_out===0?J:Y):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:X})(oe,ye):oe.strategy===3?(function(ie,de){for(var me,ve,De,Ue,Te=ie.window;;){if(ie.lookahead<=F){if(Z(ie),ie.lookahead<=F&&de===f)return O;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=I&&0<ie.strstart&&(ve=Te[De=ie.strstart-1])===Te[++De]&&ve===Te[++De]&&ve===Te[++De]){Ue=ie.strstart+F;do;while(ve===Te[++De]&&ve===Te[++De]&&ve===Te[++De]&&ve===Te[++De]&&ve===Te[++De]&&ve===Te[++De]&&ve===Te[++De]&&ve===Te[++De]&&De<Ue);ie.match_length=F-(Ue-De),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=I?(me=o._tr_tally(ie,1,ie.match_length-I),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(me=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),me&&(j(ie,!1),ie.strm.avail_out===0))return O}return ie.insert=0,de===h?(j(ie,!0),ie.strm.avail_out===0?J:Y):ie.last_lit&&(j(ie,!1),ie.strm.avail_out===0)?O:X})(oe,ye):s[oe.level].func(oe,ye);if(_e!==J&&_e!==Y||(oe.status=666),_e===O||_e===J)return V.avail_out===0&&(oe.last_flush=-1),p;if(_e===X&&(ye===1?o._tr_align(oe):ye!==5&&(o._tr_stored_block(oe,0,0,!1),ye===3&&(K(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),B(V),V.avail_out===0))return oe.last_flush=-1,p}return ye!==h?p:oe.wrap<=0?1:(oe.wrap===2?(W(oe,255&V.adler),W(oe,V.adler>>8&255),W(oe,V.adler>>16&255),W(oe,V.adler>>24&255),W(oe,255&V.total_in),W(oe,V.total_in>>8&255),W(oe,V.total_in>>16&255),W(oe,V.total_in>>24&255)):(H(oe,V.adler>>>16),H(oe,65535&V.adler)),B(V),0<oe.wrap&&(oe.wrap=-oe.wrap),oe.pending!==0?p:1)},i.deflateEnd=function(V){var ye;return V&&V.state?(ye=V.state.status)!==k&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==U&&ye!==666?ne(V,v):(V.state=null,ye===U?ne(V,-3):p):v},i.deflateSetDictionary=function(V,ye){var be,oe,re,le,he,_e,ie,de,me=ye.length;if(!V||!V.state||(le=(be=V.state).wrap)===2||le===1&&be.status!==k||be.lookahead)return v;for(le===1&&(V.adler=l(V.adler,ye,me,0)),be.wrap=0,me>=be.w_size&&(le===0&&(K(be.head),be.strstart=0,be.block_start=0,be.insert=0),de=new a.Buf8(be.w_size),a.arraySet(de,ye,me-be.w_size,be.w_size,0),ye=de,me=be.w_size),he=V.avail_in,_e=V.next_in,ie=V.input,V.avail_in=me,V.next_in=0,V.input=ye,Z(be);be.lookahead>=I;){for(oe=be.strstart,re=be.lookahead-(I-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[oe+I-1])&be.hash_mask,be.prev[oe&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=oe,oe++,--re;);be.strstart=oe,be.lookahead=I-1,Z(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=I-1,be.match_available=0,V.next_in=_e,V.input=ie,V.avail_in=he,be.wrap=le,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,f,h,p,v,g,y,b,x,w,E,S,R,D,N,I,F,P,k,U,O,X;o=s.state,l=s.next_in,O=s.input,c=l+(s.avail_in-5),u=s.next_out,X=s.output,f=u-(a-s.avail_out),h=u+(s.avail_out-257),p=o.dmax,v=o.wsize,g=o.whave,y=o.wnext,b=o.window,x=o.hold,w=o.bits,E=o.lencode,S=o.distcode,R=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{w<15&&(x+=O[l++]<<w,w+=8,x+=O[l++]<<w,w+=8),N=E[x&R];t:for(;;){if(x>>>=I=N>>>24,w-=I,(I=N>>>16&255)===0)X[u++]=65535&N;else{if(!(16&I)){if((64&I)==0){N=E[(65535&N)+(x&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}F=65535&N,(I&=15)&&(w<I&&(x+=O[l++]<<w,w+=8),F+=x&(1<<I)-1,x>>>=I,w-=I),w<15&&(x+=O[l++]<<w,w+=8,x+=O[l++]<<w,w+=8),N=S[x&D];n:for(;;){if(x>>>=I=N>>>24,w-=I,!(16&(I=N>>>16&255))){if((64&I)==0){N=S[(65535&N)+(x&(1<<I)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(P=65535&N,w<(I&=15)&&(x+=O[l++]<<w,(w+=8)<I&&(x+=O[l++]<<w,w+=8)),p<(P+=x&(1<<I)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=I,w-=I,(I=u-f)<P){if(g<(I=P-I)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(U=b,(k=0)===y){if(k+=v-I,I<F){for(F-=I;X[u++]=b[k++],--I;);k=u-P,U=X}}else if(y<I){if(k+=v+y-I,(I-=y)<F){for(F-=I;X[u++]=b[k++],--I;);if(k=0,y<F){for(F-=I=y;X[u++]=b[k++],--I;);k=u-P,U=X}}}else if(k+=y-I,I<F){for(F-=I;X[u++]=b[k++],--I;);k=u-P,U=X}for(;2<F;)X[u++]=U[k++],X[u++]=U[k++],X[u++]=U[k++],F-=3;F&&(X[u++]=U[k++],1<F&&(X[u++]=U[k++]))}else{for(k=u-P;X[u++]=X[k++],X[u++]=X[k++],X[u++]=X[k++],2<(F-=3););F&&(X[u++]=X[k++],1<F&&(X[u++]=X[k++]))}break}}break}}while(l<c&&u<h);l-=F=w>>3,x&=(1<<(w-=F<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<h?h-u+257:257-(u-h),o.hold=x,o.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,f=2,h=0,p=-2,v=1,g=852,y=592;function b(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(k){var U;return k&&k.state?(U=k.state,k.total_in=k.total_out=U.total=0,k.msg="",U.wrap&&(k.adler=1&U.wrap),U.mode=v,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(g),U.distcode=U.distdyn=new s.Buf32(y),U.sane=1,U.back=-1,h):p}function E(k){var U;return k&&k.state?((U=k.state).wsize=0,U.whave=0,U.wnext=0,w(k)):p}function S(k,U){var O,X;return k&&k.state?(X=k.state,U<0?(O=0,U=-U):(O=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?p:(X.window!==null&&X.wbits!==U&&(X.window=null),X.wrap=O,X.wbits=U,E(k))):p}function R(k,U){var O,X;return k?(X=new x,(k.state=X).window=null,(O=S(k,U))!==h&&(k.state=null),O):p}var D,N,I=!0;function F(k){if(I){var U;for(D=new s.Buf32(512),N=new s.Buf32(32),U=0;U<144;)k.lens[U++]=8;for(;U<256;)k.lens[U++]=9;for(;U<280;)k.lens[U++]=7;for(;U<288;)k.lens[U++]=8;for(c(u,k.lens,0,288,D,0,k.work,{bits:9}),U=0;U<32;)k.lens[U++]=5;c(f,k.lens,0,32,N,0,k.work,{bits:5}),I=!1}k.lencode=D,k.lenbits=9,k.distcode=N,k.distbits=5}function P(k,U,O,X){var J,Y=k.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),X>=Y.wsize?(s.arraySet(Y.window,U,O-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(X<(J=Y.wsize-Y.wnext)&&(J=X),s.arraySet(Y.window,U,O-X,J,Y.wnext),(X-=J)?(s.arraySet(Y.window,U,O-X,X,0),Y.wnext=X,Y.whave=Y.wsize):(Y.wnext+=J,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=J))),0}i.inflateReset=E,i.inflateReset2=S,i.inflateResetKeep=w,i.inflateInit=function(k){return R(k,15)},i.inflateInit2=R,i.inflate=function(k,U){var O,X,J,Y,ne,z,K,B,j,W,H,Q,Z,se,ce,ue,Ee,Ie,fe,Le,V,ye,be,oe,re=0,le=new s.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return p;(O=k.state).mode===12&&(O.mode=13),ne=k.next_out,J=k.output,K=k.avail_out,Y=k.next_in,X=k.input,z=k.avail_in,B=O.hold,j=O.bits,W=z,H=K,ye=h;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;j<16;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if(2&O.wrap&&B===35615){le[O.check=0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0),j=B=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&B)<<8)+(B>>8))%31){k.msg="incorrect header check",O.mode=30;break}if((15&B)!=8){k.msg="unknown compression method",O.mode=30;break}if(j-=4,V=8+(15&(B>>>=4)),O.wbits===0)O.wbits=V;else if(V>O.wbits){k.msg="invalid window size",O.mode=30;break}O.dmax=1<<V,k.adler=O.check=1,O.mode=512&B?10:12,j=B=0;break;case 2:for(;j<16;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if(O.flags=B,(255&O.flags)!=8){k.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){k.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=B>>8&1),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0,O.mode=3;case 3:for(;j<32;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}O.head&&(O.head.time=B),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,le[2]=B>>>16&255,le[3]=B>>>24&255,O.check=o(O.check,le,4,0)),j=B=0,O.mode=4;case 4:for(;j<16;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}O.head&&(O.head.xflags=255&B,O.head.os=B>>8),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0,O.mode=5;case 5:if(1024&O.flags){for(;j<16;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}O.length=B,O.head&&(O.head.extra_len=B),512&O.flags&&(le[0]=255&B,le[1]=B>>>8&255,O.check=o(O.check,le,2,0)),j=B=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(z<(Q=O.length)&&(Q=z),Q&&(O.head&&(V=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,X,Y,Q,V)),512&O.flags&&(O.check=o(O.check,X,Q,Y)),z-=Q,Y+=Q,O.length-=Q),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(z===0)break e;for(Q=0;V=X[Y+Q++],O.head&&V&&O.length<65536&&(O.head.name+=String.fromCharCode(V)),V&&Q<z;);if(512&O.flags&&(O.check=o(O.check,X,Q,Y)),z-=Q,Y+=Q,V)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(z===0)break e;for(Q=0;V=X[Y+Q++],O.head&&V&&O.length<65536&&(O.head.comment+=String.fromCharCode(V)),V&&Q<z;);if(512&O.flags&&(O.check=o(O.check,X,Q,Y)),z-=Q,Y+=Q,V)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;j<16;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if(B!==(65535&O.check)){k.msg="header crc mismatch",O.mode=30;break}j=B=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),k.adler=O.check=0,O.mode=12;break;case 10:for(;j<32;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}k.adler=O.check=b(B),j=B=0,O.mode=11;case 11:if(O.havedict===0)return k.next_out=ne,k.avail_out=K,k.next_in=Y,k.avail_in=z,O.hold=B,O.bits=j,2;k.adler=O.check=1,O.mode=12;case 12:if(U===5||U===6)break e;case 13:if(O.last){B>>>=7&j,j-=7&j,O.mode=27;break}for(;j<3;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}switch(O.last=1&B,j-=1,3&(B>>>=1)){case 0:O.mode=14;break;case 1:if(F(O),O.mode=20,U!==6)break;B>>>=2,j-=2;break e;case 2:O.mode=17;break;case 3:k.msg="invalid block type",O.mode=30}B>>>=2,j-=2;break;case 14:for(B>>>=7&j,j-=7&j;j<32;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if((65535&B)!=(B>>>16^65535)){k.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&B,j=B=0,O.mode=15,U===6)break e;case 15:O.mode=16;case 16:if(Q=O.length){if(z<Q&&(Q=z),K<Q&&(Q=K),Q===0)break e;s.arraySet(J,X,Y,Q,ne),z-=Q,Y+=Q,K-=Q,ne+=Q,O.length-=Q;break}O.mode=12;break;case 17:for(;j<14;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if(O.nlen=257+(31&B),B>>>=5,j-=5,O.ndist=1+(31&B),B>>>=5,j-=5,O.ncode=4+(15&B),B>>>=4,j-=4,286<O.nlen||30<O.ndist){k.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;j<3;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}O.lens[he[O.have++]]=7&B,B>>>=3,j-=3}for(;O.have<19;)O.lens[he[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,be={bits:O.lenbits},ye=c(0,O.lens,0,19,O.lencode,0,O.work,be),O.lenbits=be.bits,ye){k.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;ue=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Ee=65535&re,!((ce=re>>>24)<=j);){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if(Ee<16)B>>>=ce,j-=ce,O.lens[O.have++]=Ee;else{if(Ee===16){for(oe=ce+2;j<oe;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if(B>>>=ce,j-=ce,O.have===0){k.msg="invalid bit length repeat",O.mode=30;break}V=O.lens[O.have-1],Q=3+(3&B),B>>>=2,j-=2}else if(Ee===17){for(oe=ce+3;j<oe;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}j-=ce,V=0,Q=3+(7&(B>>>=ce)),B>>>=3,j-=3}else{for(oe=ce+7;j<oe;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}j-=ce,V=0,Q=11+(127&(B>>>=ce)),B>>>=7,j-=7}if(O.have+Q>O.nlen+O.ndist){k.msg="invalid bit length repeat",O.mode=30;break}for(;Q--;)O.lens[O.have++]=V}}if(O.mode===30)break;if(O.lens[256]===0){k.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,be={bits:O.lenbits},ye=c(u,O.lens,0,O.nlen,O.lencode,0,O.work,be),O.lenbits=be.bits,ye){k.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,be={bits:O.distbits},ye=c(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,be),O.distbits=be.bits,ye){k.msg="invalid distances set",O.mode=30;break}if(O.mode=20,U===6)break e;case 20:O.mode=21;case 21:if(6<=z&&258<=K){k.next_out=ne,k.avail_out=K,k.next_in=Y,k.avail_in=z,O.hold=B,O.bits=j,l(k,H),ne=k.next_out,J=k.output,K=k.avail_out,Y=k.next_in,X=k.input,z=k.avail_in,B=O.hold,j=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;ue=(re=O.lencode[B&(1<<O.lenbits)-1])>>>16&255,Ee=65535&re,!((ce=re>>>24)<=j);){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if(ue&&(240&ue)==0){for(Ie=ce,fe=ue,Le=Ee;ue=(re=O.lencode[Le+((B&(1<<Ie+fe)-1)>>Ie)])>>>16&255,Ee=65535&re,!(Ie+(ce=re>>>24)<=j);){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}B>>>=Ie,j-=Ie,O.back+=Ie}if(B>>>=ce,j-=ce,O.back+=ce,O.length=Ee,ue===0){O.mode=26;break}if(32&ue){O.back=-1,O.mode=12;break}if(64&ue){k.msg="invalid literal/length code",O.mode=30;break}O.extra=15&ue,O.mode=22;case 22:if(O.extra){for(oe=O.extra;j<oe;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}O.length+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;ue=(re=O.distcode[B&(1<<O.distbits)-1])>>>16&255,Ee=65535&re,!((ce=re>>>24)<=j);){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if((240&ue)==0){for(Ie=ce,fe=ue,Le=Ee;ue=(re=O.distcode[Le+((B&(1<<Ie+fe)-1)>>Ie)])>>>16&255,Ee=65535&re,!(Ie+(ce=re>>>24)<=j);){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}B>>>=Ie,j-=Ie,O.back+=Ie}if(B>>>=ce,j-=ce,O.back+=ce,64&ue){k.msg="invalid distance code",O.mode=30;break}O.offset=Ee,O.extra=15&ue,O.mode=24;case 24:if(O.extra){for(oe=O.extra;j<oe;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}O.offset+=B&(1<<O.extra)-1,B>>>=O.extra,j-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){k.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(K===0)break e;if(Q=H-K,O.offset>Q){if((Q=O.offset-Q)>O.whave&&O.sane){k.msg="invalid distance too far back",O.mode=30;break}Z=Q>O.wnext?(Q-=O.wnext,O.wsize-Q):O.wnext-Q,Q>O.length&&(Q=O.length),se=O.window}else se=J,Z=ne-O.offset,Q=O.length;for(K<Q&&(Q=K),K-=Q,O.length-=Q;J[ne++]=se[Z++],--Q;);O.length===0&&(O.mode=21);break;case 26:if(K===0)break e;J[ne++]=O.length,K--,O.mode=21;break;case 27:if(O.wrap){for(;j<32;){if(z===0)break e;z--,B|=X[Y++]<<j,j+=8}if(H-=K,k.total_out+=H,O.total+=H,H&&(k.adler=O.check=O.flags?o(O.check,J,H,ne-H):a(O.check,J,H,ne-H)),H=K,(O.flags?B:b(B))!==O.check){k.msg="incorrect data check",O.mode=30;break}j=B=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;j<32;){if(z===0)break e;z--,B+=X[Y++]<<j,j+=8}if(B!==(4294967295&O.total)){k.msg="incorrect length check",O.mode=30;break}j=B=0}O.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return p}return k.next_out=ne,k.avail_out=K,k.next_in=Y,k.avail_in=z,O.hold=B,O.bits=j,(O.wsize||H!==k.avail_out&&O.mode<30&&(O.mode<27||U!==4))&&P(k,k.output,k.next_out,H-k.avail_out)?(O.mode=31,-4):(W-=k.avail_in,H-=k.avail_out,k.total_in+=W,k.total_out+=H,O.total+=H,O.wrap&&H&&(k.adler=O.check=O.flags?o(O.check,J,H,k.next_out-H):a(O.check,J,H,k.next_out-H)),k.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(W==0&&H===0||U===4)&&ye===h&&(ye=-5),ye)},i.inflateEnd=function(k){if(!k||!k.state)return p;var U=k.state;return U.window&&(U.window=null),k.state=null,h},i.inflateGetHeader=function(k,U){var O;return k&&k.state?(2&(O=k.state).wrap)==0?p:((O.head=U).done=!1,h):p},i.inflateSetDictionary=function(k,U){var O,X=U.length;return k&&k.state?(O=k.state).wrap!==0&&O.mode!==11?p:O.mode===11&&a(1,U,X,0)!==O.check?-3:P(k,U,X,X)?(O.mode=31,-4):(O.havedict=1,h):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,f,h,p,v,g,y,b){var x,w,E,S,R,D,N,I,F,P=b.bits,k=0,U=0,O=0,X=0,J=0,Y=0,ne=0,z=0,K=0,B=0,j=null,W=0,H=new s.Buf16(16),Q=new s.Buf16(16),Z=null,se=0;for(k=0;k<=15;k++)H[k]=0;for(U=0;U<p;U++)H[f[h+U]]++;for(J=P,X=15;1<=X&&H[X]===0;X--);if(X<J&&(J=X),X===0)return v[g++]=20971520,v[g++]=20971520,b.bits=1,0;for(O=1;O<X&&H[O]===0;O++);for(J<O&&(J=O),k=z=1;k<=15;k++)if(z<<=1,(z-=H[k])<0)return-1;if(0<z&&(u===0||X!==1))return-1;for(Q[1]=0,k=1;k<15;k++)Q[k+1]=Q[k]+H[k];for(U=0;U<p;U++)f[h+U]!==0&&(y[Q[f[h+U]]++]=U);if(D=u===0?(j=Z=y,19):u===1?(j=a,W-=257,Z=o,se-=257,256):(j=l,Z=c,-1),k=O,R=g,ne=U=B=0,E=-1,S=(K=1<<(Y=J))-1,u===1&&852<K||u===2&&592<K)return 1;for(;;){for(N=k-ne,F=y[U]<D?(I=0,y[U]):y[U]>D?(I=Z[se+y[U]],j[W+y[U]]):(I=96,0),x=1<<k-ne,O=w=1<<Y;v[R+(B>>ne)+(w-=x)]=N<<24|I<<16|F|0,w!==0;);for(x=1<<k-1;B&x;)x>>=1;if(x!==0?(B&=x-1,B+=x):B=0,U++,--H[k]==0){if(k===X)break;k=f[h+y[U]]}if(J<k&&(B&S)!==E){for(ne===0&&(ne=J),R+=O,z=1<<(Y=k-ne);Y+ne<X&&!((z-=H[Y+ne])<=0);)Y++,z<<=1;if(K+=1<<Y,u===1&&852<K||u===2&&592<K)return 1;v[E=B&S]=J<<24|Y<<16|R-g|0}}return B!==0&&(v[R+B]=k-ne<<24|64<<16|0),b.bits=J,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(re){for(var le=re.length;0<=--le;)re[le]=0}var c=0,u=29,f=256,h=f+1+u,p=30,v=19,g=2*h+1,y=15,b=16,x=7,w=256,E=16,S=17,R=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var k=new Array(2*p);l(k);var U=new Array(512);l(U);var O=new Array(256);l(O);var X=new Array(u);l(X);var J,Y,ne,z=new Array(p);function K(re,le,he,_e,ie){this.static_tree=re,this.extra_bits=le,this.extra_base=he,this.elems=_e,this.max_length=ie,this.has_stree=re&&re.length}function B(re,le){this.dyn_tree=re,this.max_code=0,this.stat_desc=le}function j(re){return re<256?U[re]:U[256+(re>>>7)]}function W(re,le){re.pending_buf[re.pending++]=255&le,re.pending_buf[re.pending++]=le>>>8&255}function H(re,le,he){re.bi_valid>b-he?(re.bi_buf|=le<<re.bi_valid&65535,W(re,re.bi_buf),re.bi_buf=le>>b-re.bi_valid,re.bi_valid+=he-b):(re.bi_buf|=le<<re.bi_valid&65535,re.bi_valid+=he)}function Q(re,le,he){H(re,he[2*le],he[2*le+1])}function Z(re,le){for(var he=0;he|=1&re,re>>>=1,he<<=1,0<--le;);return he>>>1}function se(re,le,he){var _e,ie,de=new Array(y+1),me=0;for(_e=1;_e<=y;_e++)de[_e]=me=me+he[_e-1]<<1;for(ie=0;ie<=le;ie++){var ve=re[2*ie+1];ve!==0&&(re[2*ie]=Z(de[ve]++,ve))}}function ce(re){var le;for(le=0;le<h;le++)re.dyn_ltree[2*le]=0;for(le=0;le<p;le++)re.dyn_dtree[2*le]=0;for(le=0;le<v;le++)re.bl_tree[2*le]=0;re.dyn_ltree[2*w]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function ue(re){8<re.bi_valid?W(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function Ee(re,le,he,_e){var ie=2*le,de=2*he;return re[ie]<re[de]||re[ie]===re[de]&&_e[le]<=_e[he]}function Ie(re,le,he){for(var _e=re.heap[he],ie=he<<1;ie<=re.heap_len&&(ie<re.heap_len&&Ee(le,re.heap[ie+1],re.heap[ie],re.depth)&&ie++,!Ee(le,_e,re.heap[ie],re.depth));)re.heap[he]=re.heap[ie],he=ie,ie<<=1;re.heap[he]=_e}function fe(re,le,he){var _e,ie,de,me,ve=0;if(re.last_lit!==0)for(;_e=re.pending_buf[re.d_buf+2*ve]<<8|re.pending_buf[re.d_buf+2*ve+1],ie=re.pending_buf[re.l_buf+ve],ve++,_e===0?Q(re,ie,le):(Q(re,(de=O[ie])+f+1,le),(me=D[de])!==0&&H(re,ie-=X[de],me),Q(re,de=j(--_e),he),(me=N[de])!==0&&H(re,_e-=z[de],me)),ve<re.last_lit;);Q(re,w,le)}function Le(re,le){var he,_e,ie,de=le.dyn_tree,me=le.stat_desc.static_tree,ve=le.stat_desc.has_stree,De=le.stat_desc.elems,Ue=-1;for(re.heap_len=0,re.heap_max=g,he=0;he<De;he++)de[2*he]!==0?(re.heap[++re.heap_len]=Ue=he,re.depth[he]=0):de[2*he+1]=0;for(;re.heap_len<2;)de[2*(ie=re.heap[++re.heap_len]=Ue<2?++Ue:0)]=1,re.depth[ie]=0,re.opt_len--,ve&&(re.static_len-=me[2*ie+1]);for(le.max_code=Ue,he=re.heap_len>>1;1<=he;he--)Ie(re,de,he);for(ie=De;he=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Ie(re,de,1),_e=re.heap[1],re.heap[--re.heap_max]=he,re.heap[--re.heap_max]=_e,de[2*ie]=de[2*he]+de[2*_e],re.depth[ie]=(re.depth[he]>=re.depth[_e]?re.depth[he]:re.depth[_e])+1,de[2*he+1]=de[2*_e+1]=ie,re.heap[1]=ie++,Ie(re,de,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],(function(Te,Me){var Oe,Ge,nt,st,Ot,wn,hn=Me.dyn_tree,zr=Me.max_code,nr=Me.stat_desc.static_tree,rr=Me.stat_desc.has_stree,wr=Me.stat_desc.extra_bits,Qt=Me.stat_desc.extra_base,Nn=Me.stat_desc.max_length,pe=0;for(st=0;st<=y;st++)Te.bl_count[st]=0;for(hn[2*Te.heap[Te.heap_max]+1]=0,Oe=Te.heap_max+1;Oe<g;Oe++)Nn<(st=hn[2*hn[2*(Ge=Te.heap[Oe])+1]+1]+1)&&(st=Nn,pe++),hn[2*Ge+1]=st,zr<Ge||(Te.bl_count[st]++,Ot=0,Qt<=Ge&&(Ot=wr[Ge-Qt]),wn=hn[2*Ge],Te.opt_len+=wn*(st+Ot),rr&&(Te.static_len+=wn*(nr[2*Ge+1]+Ot)));if(pe!==0){do{for(st=Nn-1;Te.bl_count[st]===0;)st--;Te.bl_count[st]--,Te.bl_count[st+1]+=2,Te.bl_count[Nn]--,pe-=2}while(0<pe);for(st=Nn;st!==0;st--)for(Ge=Te.bl_count[st];Ge!==0;)zr<(nt=Te.heap[--Oe])||(hn[2*nt+1]!==st&&(Te.opt_len+=(st-hn[2*nt+1])*hn[2*nt],hn[2*nt+1]=st),Ge--)}})(re,le),se(de,Ue,re.bl_count)}function V(re,le,he){var _e,ie,de=-1,me=le[1],ve=0,De=7,Ue=4;for(me===0&&(De=138,Ue=3),le[2*(he+1)+1]=65535,_e=0;_e<=he;_e++)ie=me,me=le[2*(_e+1)+1],++ve<De&&ie===me||(ve<Ue?re.bl_tree[2*ie]+=ve:ie!==0?(ie!==de&&re.bl_tree[2*ie]++,re.bl_tree[2*E]++):ve<=10?re.bl_tree[2*S]++:re.bl_tree[2*R]++,de=ie,Ue=(ve=0)===me?(De=138,3):ie===me?(De=6,3):(De=7,4))}function ye(re,le,he){var _e,ie,de=-1,me=le[1],ve=0,De=7,Ue=4;for(me===0&&(De=138,Ue=3),_e=0;_e<=he;_e++)if(ie=me,me=le[2*(_e+1)+1],!(++ve<De&&ie===me)){if(ve<Ue)for(;Q(re,ie,re.bl_tree),--ve!=0;);else ie!==0?(ie!==de&&(Q(re,ie,re.bl_tree),ve--),Q(re,E,re.bl_tree),H(re,ve-3,2)):ve<=10?(Q(re,S,re.bl_tree),H(re,ve-3,3)):(Q(re,R,re.bl_tree),H(re,ve-11,7));de=ie,Ue=(ve=0)===me?(De=138,3):ie===me?(De=6,3):(De=7,4)}}l(z);var be=!1;function oe(re,le,he,_e){H(re,(c<<1)+(_e?1:0),3),(function(ie,de,me,ve){ue(ie),W(ie,me),W(ie,~me),s.arraySet(ie.pending_buf,ie.window,de,me,ie.pending),ie.pending+=me})(re,le,he)}i._tr_init=function(re){be||((function(){var le,he,_e,ie,de,me=new Array(y+1);for(ie=_e=0;ie<u-1;ie++)for(X[ie]=_e,le=0;le<1<<D[ie];le++)O[_e++]=ie;for(O[_e-1]=ie,ie=de=0;ie<16;ie++)for(z[ie]=de,le=0;le<1<<N[ie];le++)U[de++]=ie;for(de>>=7;ie<p;ie++)for(z[ie]=de<<7,le=0;le<1<<N[ie]-7;le++)U[256+de++]=ie;for(he=0;he<=y;he++)me[he]=0;for(le=0;le<=143;)P[2*le+1]=8,le++,me[8]++;for(;le<=255;)P[2*le+1]=9,le++,me[9]++;for(;le<=279;)P[2*le+1]=7,le++,me[7]++;for(;le<=287;)P[2*le+1]=8,le++,me[8]++;for(se(P,h+1,me),le=0;le<p;le++)k[2*le+1]=5,k[2*le]=Z(le,5);J=new K(P,D,f+1,h,y),Y=new K(k,N,0,p,y),ne=new K(new Array(0),I,0,v,x)})(),be=!0),re.l_desc=new B(re.dyn_ltree,J),re.d_desc=new B(re.dyn_dtree,Y),re.bl_desc=new B(re.bl_tree,ne),re.bi_buf=0,re.bi_valid=0,ce(re)},i._tr_stored_block=oe,i._tr_flush_block=function(re,le,he,_e){var ie,de,me=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=(function(ve){var De,Ue=4093624447;for(De=0;De<=31;De++,Ue>>>=1)if(1&Ue&&ve.dyn_ltree[2*De]!==0)return a;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return o;for(De=32;De<f;De++)if(ve.dyn_ltree[2*De]!==0)return o;return a})(re)),Le(re,re.l_desc),Le(re,re.d_desc),me=(function(ve){var De;for(V(ve,ve.dyn_ltree,ve.l_desc.max_code),V(ve,ve.dyn_dtree,ve.d_desc.max_code),Le(ve,ve.bl_desc),De=v-1;3<=De&&ve.bl_tree[2*F[De]+1]===0;De--);return ve.opt_len+=3*(De+1)+5+5+4,De})(re),ie=re.opt_len+3+7>>>3,(de=re.static_len+3+7>>>3)<=ie&&(ie=de)):ie=de=he+5,he+4<=ie&&le!==-1?oe(re,le,he,_e):re.strategy===4||de===ie?(H(re,2+(_e?1:0),3),fe(re,P,k)):(H(re,4+(_e?1:0),3),(function(ve,De,Ue,Te){var Me;for(H(ve,De-257,5),H(ve,Ue-1,5),H(ve,Te-4,4),Me=0;Me<Te;Me++)H(ve,ve.bl_tree[2*F[Me]+1],3);ye(ve,ve.dyn_ltree,De-1),ye(ve,ve.dyn_dtree,Ue-1)})(re,re.l_desc.max_code+1,re.d_desc.max_code+1,me+1),fe(re,re.dyn_ltree,re.dyn_dtree)),ce(re),_e&&ue(re)},i._tr_tally=function(re,le,he){return re.pending_buf[re.d_buf+2*re.last_lit]=le>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&le,re.pending_buf[re.l_buf+re.last_lit]=255&he,re.last_lit++,le===0?re.dyn_ltree[2*he]++:(re.matches++,le--,re.dyn_ltree[2*(O[he]+f+1)]++,re.dyn_dtree[2*j(le)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){H(re,2,3),Q(re,w,P),(function(le){le.bi_valid===16?(W(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,f,h=1,p={},v=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){x(E)})}:(function(){if(a.postMessage&&!a.importScripts){var E=!0,S=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=S,E}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(E){a.postMessage(f+E,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(E){x(E.data)},function(E){u.port2.postMessage(E)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(E){var S=g.createElement("script");S.onreadystatechange=function(){x(E),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(E){setTimeout(x,0,E)},y.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var S=new Array(arguments.length-1),R=0;R<S.length;R++)S[R]=arguments[R+1];var D={callback:E,args:S};return p[h]=D,l(h),h++},y.clearImmediate=b}function b(E){delete p[E]}function x(E){if(v)setTimeout(x,0,E);else{var S=p[E];if(S){v=!0;try{(function(R){var D=R.callback,N=R.args;switch(N.length){case 0:D();break;case 1:D(N[0]);break;case 2:D(N[0],N[1]);break;case 3:D(N[0],N[1],N[2]);break;default:D.apply(o,N)}})(S)}finally{b(E),v=!1}}}}function w(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(f)===0&&x(+E.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ps<"u"?ps:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(cC)),cC.exports}var Gpe=a$();const uC=Z_(Gpe),Xl="https://file.gitut.com";async function ou(t,e){const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch ${e} from ${t}. Status: ${n.status} ${n.statusText}`);const r=await n.text();try{return JSON.parse(r)}catch{const s=r.length>100?r.substring(0,100)+"...":r;throw new Error(`Failed to parse JSON for ${e} from ${t}. Content started with: "${s}"`)}}const In={faviconUrl:"",payment:{ccp:"",baridiMob:"",paypalEmail:"",paypalEnabled:!1,exchangeRate:1},pricing:{dynamicDocument:{dzd:50,usd:.5},siteFormFill:{dzd:20,usd:.2},staticDocumentDownload:{dzd:10,usd:.1}},seo:{default:{siteName:"Gitut",tagline:"Your Document Assistant",titleSeparator:"|",metaDescription:"Find internet cafes to get your documents done.",mainPageTitle:"Get Your Documents Done with Ease",mainPageSubtitle:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",googleAnalyticsId:"G-2BKKWGCXWX",googleSearchConsoleId:""}},social:{default:{facebook:"",twitter:"",instagram:"",facebookPageId:"",facebookGroupId:"",facebookPageAccessToken:""}},ads:{pdfInterstitialTimer:5},ai:{apiKey:"",useAdminKey:!0}},Kpe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),Xpe="https://gitut.com/api/",Jpe="@@??YOUYOU@@??YOUYOU1936";function Ype(){return new Promise((t,e)=>{if(Fr.currentUser)return t(Fr.currentUser);const n=Fr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated for API call."))})})}async function zt(t,e){try{const r=await(await Ype()).getIdToken(),i=await fetch(Xpe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"x-api-proxy-key":Jpe},body:JSON.stringify({action:t,payload:e})});if(t==="getDoc"&&i.status===404)return console.warn(`API call for getDoc on ${e.collection}/${e.id} returned 404. Returning null.`),null;if(!i.ok){let a;try{a=await i.json()}catch{a=null}throw new Error((a==null?void 0:a.error)||`Request failed with status ${i.status}`)}const s=await i.text();return s?JSON.parse(s):null}catch(n){throw console.error(`API Service Error (${t}):`,n),n}}const Qpe=async t=>zt("uploadFilesToGitHub",t),fm=async t=>{const n=await(i=>new Promise((s,a)=>{const o=new FileReader;o.readAsDataURL(i),o.onload=()=>s(o.result.split(",")[1]),o.onerror=l=>a(l)}))(t);return(await zt("uploadFile",{fileData:n,fileName:t.name,fileType:t.type})).url},dC=async t=>{const e=`${Xl}/data/json/${t}-cafes-public.json`,n=`${Xl}/data/json/${t}-all-services-public.json`,r=`${Xl}/data/json/site-settings-public.json`,i=`${Xl}/data/json/${t}-pages-public.json`,s=`${Xl}/data/json/ads-public.json`,a=`${Xl}/data/json/tags-map-public.json`,[o,l,c,u,f,h]=await Promise.all([ou(n,`${t}-all-services-public.json`),ou(e,`${t}-cafes-public.json`),ou(r,"site-settings-public.json"),ou(i,`${t}-pages-public.json`),ou(s,"ads-public.json"),ou(a,"tags-map-public.json").catch(()=>null)]);let p=[];if(h&&h.length>0){const w=h[0];if(w&&typeof w=="object"){const E=Object.values(w),S=["ar","en","fr"],R=[];for(const I of S)for(const F of E){const P=`${Xl}/data/json/${I}-${F}-blog-posts-public.json`;R.push(ou(P,P.split("/").pop()).then(k=>({lang:I,posts:k})).catch(()=>({lang:I,posts:[]})))}const D=await Promise.all(R),N=new Map;D.forEach(({lang:I,posts:F})=>{F.forEach(P=>{if(N.has(P.id)){const k=N.get(P.id);k.content||(k.content={}),k.content[I]=P.content}else{const k={...P};k.content={[I]:P.content},N.set(P.id,k)}})}),p=Array.from(N.values())}}const v=o.filter(w=>w.serviceType==="doc"),g=o.filter(w=>w.serviceType==="static-doc"),y=o.filter(w=>w.serviceType==="site"),b={...In,...c,payment:{...In.payment,...c.payment||{}},pricing:{...In.pricing,...c.pricing||{}},social:{...In.social,...c.social||{}},ads:{...In.ads,...c.ads||{}},ai:{...In.ai,...c.ai||{}}},x=p.map(w=>({...w,createdAt:w.createdAt?Ur.firestore.Timestamp.fromDate(new Date(w.createdAt)):Ur.firestore.Timestamp.now(),publishedAt:w.publishedAt?Ur.firestore.Timestamp.fromDate(new Date(w.publishedAt)):void 0}));return{documents:v,staticDocuments:g,cafes:l,siteSettings:b,pages:u,blogPosts:x,sites:y,ads:f,services:o}},oM=async t=>{const e=`${Xl}/data/json/${t}-locations.json`;return ou(e,`${t}-locations.json`)},P4=async()=>zt("getCollection",{collection:"cafes"}),F4=async()=>zt("getCollection",{collection:"users"}),zI=async t=>zt("getDoc",{collection:"cafes",id:t}),Zpe=async t=>(await zt("getCollection",{collection:"cafes",where:[{field:"numericId",op:"==",value:t}],limit:1}))[0]||null,v1=async t=>zt("getDoc",{collection:"users",id:t}),lM=async()=>zt("getMonthlyRevenue",{}),eme=async(t,e)=>zt("createUserAndCafe",{uid:t.uid,email:t.email,emailVerified:t.emailVerified,cafeData:e}),tme=async(t,e)=>{await zt("updateDoc",{collection:"cafes",id:t,data:e})},HI=async(t,e)=>zt("deductCredits",{userId:t.id,amount:e}),nme=async(t,e)=>zt("syncOfflineDeductions",{userId:t,deductions:e}),rme=async(t,e)=>{const n=dm.collection("jobs"),r=e?n.doc(e):n.doc(),i={...t,createdAt:Date.now(),status:"Pending"};return await r.set(i),{...i,id:r.id}},ime=async(t,e)=>{await dm.collection("jobs").doc(t).update(e)},sme=async t=>zt("getCollection",{collection:"payment_requests",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),M4=async()=>zt("getCollection",{collection:"payment_requests",orderBy:"date"}),ame=async t=>zt("getCollection",{collection:"invoices",where:[{field:"userId",op:"==",value:t}],orderBy:"date"}),ome=async()=>zt("getCollection",{collection:"invoices",orderBy:"date"}),cM=async(t,e,n,r,i)=>zt("addPaymentRequest",{userId:t,amount:e,currency:n,method:r,proofOfPaymentUrl:i}),lme=async t=>zt("approvePaymentRequest",{requestId:t.id}),uM=async()=>zt("getDataVersion",{}),A_=async()=>zt("getDoc",{collection:"settings",id:"site"}),o$=async t=>zt("updateDoc",{collection:"settings",id:"site",data:t}),U4=async()=>{const t=await zt("getDoc",{collection:"excel_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse excel_commands config",e),null}return(t==null?void 0:t.config)||null},cme=async t=>zt("updateDoc",{collection:"excel_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),Yf=t=>({getAll:()=>zt("getCollection",{collection:t}),get:e=>zt("getDoc",{collection:t,id:e}),create:async e=>await zt("createDoc",{collection:t,data:e}),update:async(e,n)=>{await zt("updateDoc",{collection:t,id:e,data:n})},delete:async e=>{await zt("deleteDoc",{collection:t,id:e})}}),mp={getAll:()=>zt("getCollection",{collection:"pages"}),create:async t=>{const e=await zt("createDoc",{collection:"pages",data:t});return await ur("pages",e),e},update:async(t,e)=>{await zt("updateDoc",{collection:"pages",id:t,data:e});const n=await Ms("pages",t);n&&await ur("pages",{...n,...e,id:t})},delete:async t=>{await zt("deleteDoc",{collection:"pages",id:t}),await kf("pages",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await zt("updateDoc",{collection:"pages",id:t,data:n});const r=await Ms("pages",t);r&&await ur("pages",{...r,...n,id:t})}},lu={...Yf("ads"),toggleStatus:async(t,e)=>{const n={enabled:!e};await zt("updateDoc",{collection:"ads",id:t,data:n});const r=await Ms("ads",t);r&&await ur("ads",{...r,...n,id:t})}},gp={...Yf("blog"),create:async t=>{const e=await zt("createDoc",{collection:"blog",data:t});return await ur("blogPosts",e),e},update:async(t,e)=>{await zt("updateDoc",{collection:"blog",id:t,data:e});const n=await Ms("blogPosts",t);n&&await ur("blogPosts",{...n,...e,id:t})},delete:async t=>{await zt("deleteDoc",{collection:"blog",id:t}),await kf("blogPosts",t)},toggleStatus:async(t,e)=>{const n={enabled:!e};await zt("updateDoc",{collection:"blog",id:t,data:n});const r=await Ms("blogPosts",t);r&&await ur("blogPosts",{...r,...n,id:t})}},O0=Yf("codes"),tf=Yf("sites"),Dp=Yf("staticDocuments"),dM={getAll:()=>zt("getCollection",{collection:"voice_prompts"}),create:async t=>{const e=await fm(t),n=await zt("createDoc",{collection:"voice_prompts",data:{name:t.name,url:e,createdAt:new Date().toISOString()}});return await ur("voice_prompts",n),n},delete:async(t,e)=>{await zt("deleteFile",{fileUrl:e}),await zt("deleteDoc",{collection:"voice_prompts",id:t}),await kf("voice_prompts",t)}},up={getAll:async()=>{const t=await zt("getClients",{});return await Ci("clients",t),t},create:async t=>{const e=await zt("createClient",{clientData:t});return await ur("clients",e),e},update:async(t,e)=>{await zt("updateClient",{id:t,updates:e});const n=await Ms("clients",t);n&&await ur("clients",{...n,...e,id:t})},delete:async t=>{await zt("deleteClient",{id:t}),await kf("clients",t)}},dl={...Yf("documents"),create:async t=>{const{id:e,...n}=t,r=await zt("createDocWithId",{collection:"documents",id:e,data:n});return await ur("documents",r),await ur("fullDocuments",r),r}},Py=()=>zt("getCollection",{collection:"documents"}),hm=Yf("baseTemplates"),fM=t=>t?t.replace(/\s{2,}/g," ").replace(/\n/g,"").trim():"",ume=async t=>{const e=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.previewHtml}</body></html>`,n=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${t.prompt}</title><style>${t.sharedStyles}</style></head><body>${t.templateHtml}</body></html>`,r={name:t.prompt,description:t.description,tags:t.tags,requiredFields:t.requiredFields,complexFields:t.complexFields,slug:Kpe(t.prompt),previewTemplateHtml:fM(e),finalTemplateHtml:fM(n),previewTemplateUrl:"",finalTemplateUrl:""};if(t.docToEdit)await dl.update(t.docToEdit.id,r);else{const i=t.fileNameBase,s={...r,id:i,groupId:i};await dl.create(s)}},O4=async()=>{const t=await zt("getDoc",{collection:"document_commands",id:"main"});if(t&&typeof t.config=="string")try{return JSON.parse(t.config)}catch(e){return console.error("Failed to parse document_commands config",e),null}return(t==null?void 0:t.config)||null},dme=async t=>zt("updateDoc",{collection:"document_commands",id:"main",data:{config:JSON.stringify(t,null,2)}}),L0=t=>{const e=/\[([a-zA-Z0-9_]+)\]/g,n=[...t.matchAll(e)],r=new Set(n.map(a=>a[1])),i=new Set(Object.keys(Jr)),s=Array.from(r).filter(a=>i.has(a));return[...new Set(s)]},fme=async(t,e,n=!1)=>{let r;switch(t){case"cafes":return r=await Kn("cafes"),(!r||r.length===0)&&(console.log("Cache miss for cafes, fetching from API."),r=await P4()),r.filter(c=>c.isProfilePublished&&e==="global").map(({id:c,numericId:u,name:f,owner:h,countryCode:p,address:v,description:g,imageUrl:y,coverImageUrl:b,googleMapsUrl:x,phone:w,socials:E,services:S})=>({id:c,numericId:u,name:f,owner:h,countryCode:p,address:v,description:g,imageUrl:y,coverImageUrl:b,googleMapsUrl:x,phone:w,socials:E,services:S}));case"services":{let c=await Kn("fullDocuments"),u=await Kn("staticDocuments"),f=await Kn("sites");return(c.length===0||u.length===0||f.length===0)&&([c,u,f]=await Promise.all([Py(),Dp.getAll(),tf.getAll()])),[...c.map(p=>({...p,serviceType:"doc"})),...u.map(p=>({...p,serviceType:"static-doc"})),...f.map(p=>({...p,serviceType:"site"}))].filter(p=>!p.countryCode||e==="global"||p.countryCode===e).map(p=>{if(p.serviceType==="doc"){const{id:v,groupId:g,name:y,countryCode:b,slug:x,tags:w,serviceType:E,previewTemplateHtml:S,finalTemplateHtml:R}=p;return{id:v,groupId:g,name:y,countryCode:b,slug:x,tags:w,serviceType:E,previewTemplateHtml:S,finalTemplateHtml:R}}else if(p.serviceType==="static-doc"){const{id:v,name:g,countryCode:y,fileUrl:b,slug:x,tags:w,serviceType:E}=p;return{id:v,name:g,countryCode:y,fileUrl:b,slug:x,tags:w,serviceType:E}}else if(p.serviceType==="site"){const{id:v,name:g,url:y,type:b,countryCode:x,tags:w,slug:E,serviceType:S}=p;return{id:v,name:g,url:y,type:b,countryCode:x,tags:w,slug:E,serviceType:S}}return p})}case"blog":{let c=await Kn("blogPosts");(!c||c.length===0)&&(console.log("Cache miss for blog posts, fetching from API."),c=await gp.getAll());const u=y=>{if(!y)return;if(y instanceof Ur.firestore.Timestamp)return y.toDate().toISOString();if(typeof y=="object"&&y!==null&&typeof y.seconds=="number")return new Date(y.seconds*1e3).toISOString();const b=new Date(y);return isNaN(b.getTime())?String(y):b.toISOString()},f=c.filter(y=>y.enabled).map(y=>({...y,createdAt:u(y.createdAt),publishedAt:u(y.publishedAt)})),h=new Set;f.forEach(y=>{(y.tags?y.tags.split(",").map(x=>x.trim().toLowerCase()).filter(Boolean):[]).forEach(x=>h.add(x))});const p=new Map;Array.from(h).forEach((y,b)=>{p.set(y,b+1)});const g={"tags-map-public.json":[Object.fromEntries(p)]};for(const y of f){const b=y.tags?y.tags.split(",").map(w=>w.trim().toLowerCase()).filter(Boolean):[];if(b.length===0)continue;const x=Object.keys(y.content||{});for(const w of x){const{countryCode:E,...S}=y,R={...S,content:y.content[w]};for(const D of b){const N=p.get(D);if(N===void 0)continue;const I=`${w}-${N}-blog-posts-public.json`;g[I]||(g[I]=[]),g[I].push(R)}}}return g}case"pages":return r=await Kn("pages"),(!r||r.length===0)&&(console.log("Cache miss for pages, fetching from API."),r=await mp.getAll()),r.filter(c=>c.enabled);case"settings":if(r=await Ms("siteSettings","main"),r||(console.log("Cache miss for settings, fetching from API."),r=await A_()),!r)return{};const{payment:i,ai:s,...a}=r,o=await fetch(`${Xl}/data/json/site-seo.json`),l=o.ok?await o.json():{};return{...a,seo:{...a.seo,...l}};case"ads":return r=await Kn("ads"),(!r||r.length===0)&&(console.log("Cache miss for ads, fetching from API."),r=await lu.getAll()),r.filter(c=>c.enabled);case"templates-paginated":{let c=await Kn("fullDocuments");(!c||c.length===0)&&(c=await Py());const u=p=>{const{description:v,...g}=p;return g},f=20,h=Math.ceil(c.length/f);if(n){const p=[];for(let v=0;v<h;v++){const g=c.slice(v*f,(v+1)*f);p.push({fileName:`templates-part-${v+1}.json`,data:g.map(u)})}return p}for(let p=0;p<h;p++){const g=c.slice(p*f,(p+1)*f).map(u),y=new Blob([JSON.stringify(g)],{type:"application/json"}),b=URL.createObjectURL(y),x=document.createElement("a");x.href=b,x.download=`templates-part-${p+1}-of-${h}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(b),await new Promise(w=>setTimeout(w,300))}return{downloadInitiated:!0,chunks:h}}}},l$=q.createContext(void 0),hme=({children:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(!0),s=q.useCallback(async p=>{const v=await Hpe();if(v.length!==0)try{console.log(`Syncing ${v.length} offline transactions...`),await nme(p,v),await $pe(),console.log("Sync successful.");const g=await v1(p);if(g&&Fr.currentUser){const y={...g,emailVerified:Fr.currentUser.emailVerified};n(y),await ur("userProfile",{...y,id:"currentUser"})}}catch(g){console.error("Failed to sync pending transactions. They will be retried later.",g)}},[]),a=q.useCallback(async()=>{const p=Fr.currentUser;if(p)try{const v=await v1(p.uid);if(v){const g={...v,emailVerified:p.emailVerified};n(g),await ur("userProfile",{...g,id:"currentUser"})}}catch(v){console.error("Failed to refetch user profile:",v)}},[]);q.useEffect(()=>{const p=()=>{e!=null&&e.id&&s(e.id)};return window.addEventListener("online",p),()=>window.removeEventListener("online",p)},[e,s]),q.useEffect(()=>{i(!0);const p=Fr.onAuthStateChanged(async v=>{if(v&&v.email==="mgkrol99@gmail.com"){e&&n(null),i(!1);return}if(v)try{const y=await v1(v.uid);if(y){const b={...y,emailVerified:v.emailVerified},x=dm.collection("users").doc(v.uid);!(await x.get()).exists&&y.cafeId&&v.email&&(console.log("Firestore user document for security rules not found. Creating it now..."),await x.set({cafeId:y.cafeId,email:v.email})),n(b),await ur("userProfile",{...b,id:"currentUser"}),navigator.onLine&&await s(v.uid)}else console.error(`Inconsistent state: User ${v.uid} exists in Auth but not in D1 DB. Forcing logout.`),await Fr.signOut()}catch(y){console.error("Failed to fetch user profile due to API error. Checking local cache for offline support.",y);const b=await Ms("userProfile","currentUser");b&&b.id===v.uid?(console.warn("Using stale user profile from local DB due to API failure or offline mode."),n(b)):(console.error(`No valid profile found for ${v.uid} online or locally. Forcing logout.`),await Fr.signOut())}finally{i(!1)}else n(null),await kf("userProfile","currentUser"),i(!1)});return()=>p()},[s]);const o=async p=>{if(e){const v={...e,credits:{...e.credits,amount:p}};n(v),await ur("userProfile",{...v,id:"currentUser"})}},l=async(p,v)=>{try{const y=(await Fr.signInWithEmailAndPassword(p,v)).user;if(!y)throw new Error("No Firebase user returned after sign-in.");const b=await v1(y.uid);if(!b)throw await Fr.signOut(),new Error("User profile not found in database.");const x={...b,emailVerified:y.emailVerified};return n(x),await ur("userProfile",{...x,id:"currentUser"}),x}catch(g){throw console.error("Firebase login error:",g),g}},c=async(p,v,g)=>{try{const y=await Fr.createUserWithEmailAndPassword(p,v);if(y.user){await y.user.sendEmailVerification();const b=await eme(y.user,g);return b&&b.cafeId?await dm.collection("users").doc(y.user.uid).set({cafeId:b.cafeId,email:y.user.email}):console.error("Critical Error: User profile was created in D1 but cafeId was not returned. Firestore document for security rules could not be created."),await Fr.signOut(),!0}return!1}catch(y){throw console.error("Signup error:",y),y}},u=async()=>{await Fr.signOut(),n(null),await kf("userProfile","currentUser")},f=async p=>{await Fr.sendPasswordResetEmail(p)},h=async()=>{if(Fr.currentUser)await Fr.currentUser.sendEmailVerification();else throw new Error("No user is currently signed in.")};return d.jsx(l$.Provider,{value:{user:e,loading:r,login:l,signup:c,logout:u,sendPasswordReset:f,resendVerificationEmail:h,updateUserCredits:o,refetchUser:a},children:t})},br=()=>{const t=q.useContext(l$);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},pme=t=>{switch(t){case"us":case"ca":return"en";case"fr":return"fr";case"es":return"es";case"de":return"de";case"tr":return"tr";case"jp":return"ja";default:return"ar"}},Ka=[{code:"ar",name:""},{code:"en",name:"English"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ja",name:""},{code:"zh",name:""},{code:"hi",name:""},{code:"tr",name:"Trke"}],Zo={header:{search:"Search",login:"Cafe Owner Login",dashboard:"Dashboard",logout:"Logout"},footer:{blog:"Blog",services:"Services List",rightsReserved:"All rights reserved."},share:{title:"Share:"},relatedServices:{title:"Related Services"},relatedPosts:{title:"Related Posts"},relatedPages:{title:"Other Pages"},login:{title:"Cafe Owner Login",emailLabel:"Email",passwordLabel:"Password",forgotPassword:"Forgot password?",loginButton:"Login",loggingInButton:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create a new account",error:{fillAllFields:"Please fill in all fields.",verifyEmail:"Please check your email to activate your account.",wrongCredentials:"The email or password is incorrect.",enterEmail:"Please enter your email address."},reset:{title:"Reset Password",emailLabel:"Registered Email",sendButton:"Send Reset Link",sendingButton:"Sending...",successMessage:"A password reset link has been sent. Please check your inbox.",errorMessage:"Failed to send email. Please try again.",backToLogin:"Back to Login"}},signup:{title:"Create a New Account",accountInfo:"Account Information",email:"Email",password:"Password",passwordPlaceholder:"At least 6 characters",confirmPassword:"Confirm Password",cafeInfo:"Cafe Information",cafeName:"Cafe's Business Name",cafeNamePlaceholder:"e.g., The Cozy Corner",ownerName:"Owner's Full Name",ownerNamePlaceholder:"e.g., John Doe",country:"Country",wilaya:"State/Province",daira:"District",commune:"City/Municipality",state:"State / Province",city:"City",street:"Street Address",loading:"Loading...",selectWilaya:"Select State",selectDaira:"Select District",selectCommune:"Select City",statePlaceholder:"e.g., California, Riyadh",cityPlaceholder:"e.g., Paris, Jeddah",streetPlaceholder:"e.g., 123 Liberty St",createButton:"Create Account & Cafe",creatingButton:"Creating...",haveAccount:"Already have an account?",loginHere:"Login here",errors:{allowedDomains:"Please use a Gmail or Microsoft email (Outlook, Hotmail, Live).",fillAllFields:"Please fill in all fields.",passwordsMismatch:"Passwords do not match.",passwordLength:"Password must be at least 6 characters.",signupFailed:"This email is already in use or a registration error occurred. Please try again."},success:{title:"Account Created Successfully!",message:"We have sent a verification link to your email",instruction:"Please click the link to activate your account before logging in.",loginButton:"Go to Login Page"}},findPage:{hero:{title1:"Get your documents done with ease",subtitle1:"Find a nearby internet cafe, send your request remotely, and pick up your ready documents.",title2:"Do you own an internet cafe?",subtitle2:"Join our platform, receive customer requests electronically, and increase your profits."},step1:{title:"Step 1: Search and Add Required Documents",placeholder:"Enter document name (e.g., CV)...",voiceSearchTitle:"Search using voice"},selectedDocs:{title:"Selected Documents",viewFile:"View File",removeTitle:"Remove",nextStepButton:"Next Step: Find a cafe for {count} document(s)",nextStepButtonDisabledTitle:"At least one fillable document must be selected",emptyState:"Start by searching for a document to add to your list."},alert:{selectFillable:"Please select at least one fillable document to proceed and find a cafe."}},notFound:{title:"404 - Page Not Found",message:"Sorry, the page you are looking for does not exist.",button:"Go to Homepage"},formFields:{profilePicture:"Profile Picture",fullName:"Full Name",firstName:"First Name",lastName:"Last Name",firstNameFr:"First Name (French)",lastNameFr:"Last Name (French)",birthdaydate:"Date of Birth",birthdayplace:"Place of Birth",address:"Full Address",phone:"Phone Number",email:"Email",jobTitle:"Job Title",nationalId:"National ID Number",birthCertificateNumber:"Birth Certificate Number",socialSecurityNumber:"Social Security Number",nationality:"Nationality",maritalStatus:"Marital Status",motherFirstName:"Mother's First Name",motherLastName:"Mother's Last Name",motherDob:"Mother's Date of Birth",motherPob:"Mother's Place of Birth",fatherFirstName:"Father's First Name",fatherLastName:"Father's Last Name",fatherDob:"Father's Date of Birth",fatherPob:"Father's Place of Birth",residenceWilaya:"State of Residence",residenceDaira:"District of Residence",residenceCommune:"City of Residence",residenceStreet:"Street of Residence",birthWilaya:"State of Birth",birthDaira:"District of Birth",birthCommune:"City of Birth",bloodType:"Blood Type",dateToday:"Today's Date",gender:"Gender",height:"Height (cm)",eyeColor:"Eye Color",distinguishingMarks:"Distinguishing Marks",employerName:"Name of the employing institution",employerAddress:"Employer Address",educationLevel:"Education Level",universityName:"University Name",graduationDate:"Graduation Date",fieldOfStudy:"Field of Study",higherInstituteName:"Higher Institute Name",vocationalTrainingCenterName:"Vocational Training Center Name",schoolName:"School Name",highSchoolName:"High School Name",middleSchoolName:"Middle School Name",universityCity:"University City",passportNumber:"Passport Number",passportIssueDate:"Passport Issue Date",passportExpiryDate:"Passport Expiry Date",passportIssuePlace:"Passport Place of Issue",drivingLicenseNumber:"Driver's License Number",drivingLicenseCategory:"Driver's License Category",drivingLicenseIssueDate:"Driver's License Issue Date",numberOfChildren:"Number of Children",spouseFullName:"Spouse's Full Name",spouseDob:"Spouse's Date of Birth",spouseJob:"Spouse's Job",militaryStatus:"Military Service Status",submissionWilaya:"Submission Province",submissionDaira:"Submission District",submissionCommune:"Submission Municipality",employerWilaya:"Employer's Province",employerDaira:"Employer's District",employerCommune:"Employer's Municipality",criminalRecordNumber:"Criminal Record Number",criminalRecordIssueDate:"Criminal Record Issue Date",criminalRecordIssuePlace:"Criminal Record Issue Place",commercialRegistryNumber:"Commercial Registry Number",taxIdNumber:"Tax ID Number (NIF)",casnosNumber:"CASNOS Number",vehicleRegistrationCardNumber:"Vehicle Registration Card Number",vehicleType:"Vehicle Type",vehicleBrand:"Vehicle Brand",vehicleModel:"Vehicle Model",vehicleFirstRegistrationDate:"Vehicle First Registration Date",bankName:"Bank Name",bankAccountNumber:"Bank Account Number (RIB)",bankAgencyName:"Bank Agency Name",bankAgencyCode:"Bank Agency Code",employmentContractType:"Employment Contract Type",employmentStartDate:"Employment Start Date",employeeIdNumber:"Employee ID Number",professionalGrade:"Professional Grade/Rank",nationalIdIssueDate:"National ID Issue Date",nationalIdExpiryDate:"National ID Expiry Date",drivingLicenseExpiryDate:"Driving License Expiry Date",familyBookNumber:"Family Book Number",marriageDate:"Marriage Date",marriagePlace:"Place of Marriage",rentalContractNumber:"Rental Contract Number",landlordName:"Landlord Full Name",propertyAddress:"Property Address",attendingPhysicianName:"Attending Physician Name",currentTime:"Current Time",currentYear:"Current Year",documentName:"Document Name",age:"Age",fullDateLongAr:"Full Date (Arabic)",hijriDate:"Hijri Date",placeholders:{profilePicture:"Choose a profile picture",fullName:"e.g., John Doe",firstName:"e.g., John",lastName:"e.g., Doe",firstNameFr:"e.g., John",lastNameFr:"e.g., Doe",birthdayplace:"e.g., New York",address:"e.g., 123 Liberty St, New York",phone:"e.g., 555-123-4567",email:"e.g., user@example.com",jobTitle:"e.g., Engineer, Student",nationalId:"e.g., 123456789012345678",birthCertificateNumber:"e.g., 1990/00123",socialSecurityNumber:"e.g., 123456789012",nationality:"e.g., American",maritalStatus:"Select status",motherFirstName:"Person's mother's first name",motherLastName:"Person's mother's last name",motherPob:"Mother's place of birth",fatherFirstName:"Person's father's first name",fatherLastName:"Person's father's last name",fatherPob:"Father's place of birth",residenceWilaya:"e.g., California",residenceDaira:"e.g., Los Angeles County",residenceCommune:"e.g., Los Angeles",residenceStreet:"e.g., Rodeo Drive",birthWilaya:"e.g., Texas",birthDaira:"e.g., Harris County",birthCommune:"e.g., Houston",bloodType:"e.g., O+",gender:"Select gender",height:"e.g., 175",eyeColor:"e.g., Brown",distinguishingMarks:"e.g., Scar on left cheek",employerName:"e.g., Acme Corporation",employerAddress:"e.g., 123 Main St, Anytown",educationLevel:"Select level",universityName:"e.g., University of Technology",fieldOfStudy:"e.g., Computer Science",higherInstituteName:"e.g., Higher Institute of Technology",vocationalTrainingCenterName:"e.g., Vocational Training Center of Hussein Dey",schoolName:"e.g., Biskri Brothers School",highSchoolName:"e.g., Colonel Lotfi High School",middleSchoolName:"e.g., Ibn Khaldoun Middle School",universityCity:"e.g., Oran",passportNumber:"e.g., 12345ABC",passportIssuePlace:"e.g., Anytown",drivingLicenseNumber:"e.g., 123456789",drivingLicenseCategory:"e.g., B",numberOfChildren:"e.g., 2",spouseFullName:"e.g., Jane Doe",spouseJob:"e.g., Doctor",militaryStatus:"e.g., Completed, Exempt, Deferred",submissionWilaya:"e.g., Algiers",submissionDaira:"e.g., Sidi M'Hamed",submissionCommune:"e.g., Alger Centre",employerWilaya:"e.g., Oran",employerDaira:"e.g., Oran",employerCommune:"e.g., Oran",criminalRecordNumber:"e.g., 123/2024",criminalRecordIssuePlace:"e.g., Court of Sidi M'Hamed",commercialRegistryNumber:"e.g., 16/00-1234567 A 24",taxIdNumber:"e.g., 123456789012345",casnosNumber:"e.g., 123456789012",vehicleRegistrationCardNumber:"e.g., 12345 123 16",vehicleType:"e.g., Tourism",vehicleBrand:"e.g., Renault",vehicleModel:"e.g., Clio 4",bankName:"e.g., Bank of America",bankAccountNumber:"e.g., 0030012345678901234567",bankAgencyName:"e.g., Main Street Branch",bankAgencyCode:"e.g., 00123",employmentContractType:"e.g., Permanent contract",employeeIdNumber:"e.g., 987654",professionalGrade:"e.g., Grade 12, State Engineer",familyBookNumber:"e.g., 12345/2020",marriagePlace:"e.g., Central Municipality",rentalContractNumber:"e.g., 2024/A-45",landlordName:"e.g., John Smith",propertyAddress:"e.g., 50 Victory St, Oran",attendingPhysicianName:"e.g., Dr. Khaled Ben Salem"},maritalStatusOptions:{single:"Single",married:"Married",divorced:"Divorced"},genderOptions:{male:"Male",female:"Female"},educationLevelOptions:{primary:"Primary School",middle:"Middle School",high:"High School",university:"University",postgraduate:"Postgraduate"}}},hM={ar:{header:{search:"",login:"  ",dashboard:" ",logout:" "},footer:{blog:"",services:" ",rightsReserved:"  ."},share:{title:":"},relatedServices:{title:"  "},relatedPosts:{title:"  "},relatedPages:{title:" "},login:{title:"   ",emailLabel:" ",passwordLabel:" ",forgotPassword:"  ",loginButton:" ",loggingInButton:" ...",noAccount:"  ",createAccount:"  ",error:{fillAllFields:"   .",verifyEmail:"      .",wrongCredentials:"      .",enterEmail:"    ."},reset:{title:"   ",emailLabel:"  ",sendButton:"  ",sendingButton:" ...",successMessage:"      .     .",errorMessage:"   .    .",backToLogin:"   "}},signup:{title:"  ",accountInfo:" ",email:" ",password:" ",passwordPlaceholder:"6   ",confirmPassword:"  ",cafeInfo:" ",cafeName:"  ",cafeNamePlaceholder:":  ",ownerName:"  ",ownerNamePlaceholder:":  ",country:"",wilaya:"",daira:"",commune:"",state:" / ",city:"",street:" ",loading:" ...",selectWilaya:" ",selectDaira:" ",selectCommune:" ",statePlaceholder:":  ",cityPlaceholder:":  ",streetPlaceholder:": 123  ",createButton:"  ",creatingButton:" ...",haveAccount:"  ",loginHere:"   ",errors:{allowedDomains:"     Gmail  Microsoft (Outlook, Hotmail, Live).",fillAllFields:"   .",passwordsMismatch:"   .",passwordLength:"      6   .",signupFailed:"         .    ."},success:{title:"   !",message:"      ",instruction:"        .",loginButton:"    "}},findPage:{hero:{title1:"   ",subtitle1:"            .",title2:"   ",subtitle2:"         ."},step1:{title:" 1:    ",placeholder:"   (:  )...",voiceSearchTitle:"  "},selectedDocs:{title:" ",viewFile:" ",removeTitle:"",nextStepButton:" :     {count} ()",nextStepButtonDisabledTitle:"      ",emptyState:"      ."},alert:{selectFillable:"      ( )    ."}},notFound:{title:"404 -   ",message:"      .",button:"   "},formFields:{profilePicture:" ",fullName:"  ",firstName:"",lastName:"",firstNameFr:" ",lastNameFr:" ",birthdaydate:" ",birthdayplace:" ",address:" ",phone:" ",email:" ",jobTitle:"",nationalId:"   ",birthCertificateNumber:"  ",socialSecurityNumber:"  ",nationality:"",maritalStatus:" ",motherFirstName:" ",motherLastName:" ",motherDob:"  ",motherPob:"  ",fatherFirstName:" ",fatherLastName:" ",fatherDob:"  ",fatherPob:"  ",residenceWilaya:" ",residenceDaira:" ",residenceCommune:" ",residenceStreet:" ",birthWilaya:" ",birthDaira:" ",birthCommune:" ",bloodType:" ",dateToday:" ",gender:"",height:" ()",eyeColor:" ",distinguishingMarks:" ",employerName:"    ",employerAddress:"  ",educationLevel:" ",universityName:" ",graduationDate:" ",fieldOfStudy:" ",higherInstituteName:"  ",vocationalTrainingCenterName:"   ",schoolName:" ",highSchoolName:" ",middleSchoolName:" ",universityCity:"    ",passportNumber:"  ",passportIssueDate:"   ",passportExpiryDate:"    ",passportIssuePlace:"   ",drivingLicenseNumber:"  ",drivingLicenseCategory:"  ",drivingLicenseIssueDate:"   ",numberOfChildren:" ",spouseFullName:"  /",spouseDob:"  /",spouseJob:" /",militaryStatus:"   ",submissionWilaya:"    ",submissionDaira:"    ",submissionCommune:"    ",employerWilaya:"    ",employerDaira:"    ",employerCommune:"    ",criminalRecordNumber:"   ",criminalRecordIssueDate:"    ",criminalRecordIssuePlace:"    ",commercialRegistryNumber:"  ",taxIdNumber:"  ",casnosNumber:"   CASNOS",vehicleRegistrationCardNumber:"  ",vehicleType:" ",vehicleBrand:" ",vehicleModel:" ",vehicleFirstRegistrationDate:"   ",bankName:" ",bankAccountNumber:"   (RIB)",bankAgencyName:"  ",bankAgencyCode:"  ",employmentContractType:"  ",employmentStartDate:"  ",employeeIdNumber:" ",professionalGrade:"   ",nationalIdIssueDate:"   ",nationalIdExpiryDate:"    ",drivingLicenseExpiryDate:"    ",familyBookNumber:"  ",marriageDate:"  ",marriagePlace:"  ",rentalContractNumber:"  ",landlordName:"  ",propertyAddress:" ",attendingPhysicianName:"  ",currentTime:" ",currentYear:" ",documentName:" ",age:"",fullDateLongAr:"  ()",hijriDate:" ",placeholders:{profilePicture:"  ",fullName:":  ",firstName:": ",lastName:": ",firstNameFr:"Ex: Mohamed",lastNameFr:"Ex: Ali",birthdayplace:":  ",address:": 123   ",phone:": 0550123456",email:": user@example.com",jobTitle:":  ",nationalId:": 123456789012345678",birthCertificateNumber:": 1990/00123",socialSecurityNumber:": 123456789012",nationality:": ",maritalStatus:" ",motherFirstName:"  ",motherLastName:"  ",motherPob:"  ",fatherFirstName:"  ",fatherLastName:"  ",fatherPob:"  ",residenceWilaya:": ",residenceDaira:":  ",residenceCommune:":  ",residenceStreet:":   ",birthWilaya:": ",birthDaira:": ",birthCommune:": ",bloodType:": O+",gender:" ",height:": 175",eyeColor:": ",distinguishingMarks:":    ",employerName:":  ",employerAddress:":  ",educationLevel:" ",universityName:":   ",fieldOfStudy:":  ",higherInstituteName:":   ",vocationalTrainingCenterName:":     ",schoolName:":   ",highSchoolName:":   ",middleSchoolName:":   ",universityCity:": ",passportNumber:": 12345ABC",passportIssuePlace:":  ",drivingLicenseNumber:": 123456789",drivingLicenseCategory:": ",numberOfChildren:": 2",spouseFullName:":    ",spouseJob:": ",militaryStatus:":   ",submissionWilaya:": ",submissionDaira:":  ",submissionCommune:":  ",employerWilaya:": ",employerDaira:": ",employerCommune:": ",criminalRecordNumber:": 123/2024",criminalRecordIssuePlace:":   ",commercialRegistryNumber:": 16/00-1234567 A 24",taxIdNumber:": 123456789012345",casnosNumber:": 123456789012",vehicleRegistrationCardNumber:": 12345 123 16",vehicleType:": ",vehicleBrand:": Renault",vehicleModel:": Clio 4",bankName:":    ",bankAccountNumber:"0030012345678901234567",bankAgencyName:":    ",bankAgencyCode:": 00123",employmentContractType:":     ",employeeIdNumber:": 987654",professionalGrade:":  12  ",familyBookNumber:": 12345/2020",marriagePlace:":   ",rentalContractNumber:": 2024/A-45",landlordName:":  ",propertyAddress:":    50 ",attendingPhysicianName:": .   "},maritalStatusOptions:{single:"",married:"",divorced:""},genderOptions:{male:"",female:""},educationLevelOptions:{primary:"",middle:"",high:"",university:"",postgraduate:" "}}},en:Zo,fr:{...Zo,header:{search:"Rechercher",login:"Connexion Propritaire",dashboard:"Tableau de bord",logout:"Dconnexion"},footer:{blog:"Blog",services:"Liste des services",rightsReserved:"Tous droits rservs."}},de:{...Zo,footer:{...Zo.footer,rightsReserved:"Alle Rechte vorbehalten."}},es:{...Zo,footer:{...Zo.footer,rightsReserved:"Todos los derechos reservados."}},tr:{...Zo,footer:{...Zo.footer,rightsReserved:"Tm haklar sakldr."}},ja:{...Zo,footer:{...Zo.footer,rightsReserved:""}}},Au={ar:[{name:"",code:"dz",phoneCode:"213",flag:""},{name:"",code:"sa",phoneCode:"966",flag:""},{name:"",code:"eg",phoneCode:"20",flag:""},{name:"",code:"ma",phoneCode:"212",flag:""},{name:"",code:"ae",phoneCode:"971",flag:""},{name:"",code:"tn",phoneCode:"216",flag:""},{name:"",code:"iq",phoneCode:"964",flag:""},{name:"",code:"jo",phoneCode:"962",flag:""},{name:"",code:"kw",phoneCode:"965",flag:""},{name:"",code:"lb",phoneCode:"961",flag:""},{name:"",code:"om",phoneCode:"968",flag:""},{name:"",code:"qa",phoneCode:"974",flag:""},{name:"",code:"sy",phoneCode:"963",flag:""},{name:"",code:"bh",phoneCode:"973",flag:""},{name:" ",code:"km",phoneCode:"269",flag:""},{name:"",code:"dj",phoneCode:"253",flag:""},{name:"",code:"mr",phoneCode:"222",flag:""},{name:"",code:"ps",phoneCode:"970",flag:""},{name:"",code:"so",phoneCode:"252",flag:""},{name:"",code:"sd",phoneCode:"249",flag:""},{name:"",code:"ye",phoneCode:"967",flag:""},{name:"",code:"ly",phoneCode:"218",flag:""},{name:"",code:"fr",phoneCode:"33",flag:""},{name:" ",code:"us",phoneCode:"1",flag:""},{name:"",code:"ca",phoneCode:"1",flag:""},{name:"",code:"es",phoneCode:"34",flag:""},{name:"",code:"de",phoneCode:"49",flag:""},{name:"",code:"tr",phoneCode:"90",flag:""},{name:"",code:"jp",phoneCode:"81",flag:""}],en:[{name:"Algeria",code:"dz",phoneCode:"213",flag:""},{name:"Saudi Arabia",code:"sa",phoneCode:"966",flag:""},{name:"Egypt",code:"eg",phoneCode:"20",flag:""},{name:"Morocco",code:"ma",phoneCode:"212",flag:""},{name:"UAE",code:"ae",phoneCode:"971",flag:""},{name:"Tunisia",code:"tn",phoneCode:"216",flag:""},{name:"Iraq",code:"iq",phoneCode:"964",flag:""},{name:"Jordan",code:"jo",phoneCode:"962",flag:""},{name:"Kuwait",code:"kw",phoneCode:"965",flag:""},{name:"Lebanon",code:"lb",phoneCode:"961",flag:""},{name:"Oman",code:"om",phoneCode:"968",flag:""},{name:"Qatar",code:"qa",phoneCode:"974",flag:""},{name:"Syria",code:"sy",phoneCode:"963",flag:""},{name:"France",code:"fr",phoneCode:"33",flag:""},{name:"United States",code:"us",phoneCode:"1",flag:""},{name:"Canada",code:"ca",phoneCode:"1",flag:""},{name:"Spain",code:"es",phoneCode:"34",flag:""},{name:"Germany",code:"de",phoneCode:"49",flag:""},{name:"Turkey",code:"tr",phoneCode:"90",flag:""},{name:"Japan",code:"jp",phoneCode:"81",flag:""}],fr:[{name:"Algrie",code:"dz",phoneCode:"213",flag:""},{name:"Arabie saoudite",code:"sa",phoneCode:"966",flag:""},{name:"gypte",code:"eg",phoneCode:"20",flag:""},{name:"Maroc",code:"ma",phoneCode:"212",flag:""},{name:"mirats arabes unis",code:"ae",phoneCode:"971",flag:""},{name:"Tunisie",code:"tn",phoneCode:"216",flag:""},{name:"Irak",code:"iq",phoneCode:"964",flag:""},{name:"Jordanie",code:"jo",phoneCode:"962",flag:""},{name:"Kowet",code:"kw",phoneCode:"965",flag:""},{name:"Liban",code:"lb",phoneCode:"961",flag:""},{name:"Oman",code:"om",phoneCode:"968",flag:""},{name:"Qatar",code:"qa",phoneCode:"974",flag:""},{name:"Syrie",code:"sy",phoneCode:"963",flag:""},{name:"France",code:"fr",phoneCode:"33",flag:""},{name:"tats-Unis",code:"us",phoneCode:"1",flag:""},{name:"Canada",code:"ca",phoneCode:"1",flag:""},{name:"Espagne",code:"es",phoneCode:"34",flag:""},{name:"Allemagne",code:"de",phoneCode:"49",flag:""},{name:"Turquie",code:"tr",phoneCode:"90",flag:""},{name:"Japon",code:"jp",phoneCode:"81",flag:""}]},pM=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),Ji=()=>{const t=Ir(),e=q.useMemo(()=>{const s=t.pathname.match(/^\/([a-z]{2})(?:\/|$)/);return s?s[1]:null},[t.pathname]),n=q.useMemo(()=>pme(e||"dz"),[e]),r=n==="ar"?"rtl":"ltr";return q.useEffect(()=>{document.documentElement.lang=n,document.documentElement.dir=r},[n,r]),{language:n,t:(s,a)=>{const o=hM[n],l=hM.en;let c=pM(o,s)||pM(l,s)||s;return a&&Object.keys(a).forEach(u=>{c=c.replace(new RegExp(`\\{${u}\\}`,"g"),String(a[u]))}),c},dir:r,countryCode:e}};var c$={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mM=Ro.createContext&&Ro.createContext(c$),mme=["attr","size","title"];function gme(t,e){if(t==null)return{};var n=yme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){vme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vme(t,e,n){return e=xme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t){var e=_me(t,"string");return typeof e=="symbol"?e:e+""}function _me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u$(t){return t&&t.map((e,n)=>Ro.createElement(e.tag,k_({key:n},e.attr),u$(e.child)))}function Pt(t){return e=>Ro.createElement(bme,N_({attr:k_({},t.attr)},e),u$(t.child))}function bme(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=gme(t,mme),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ro.createElement("svg",N_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:k_(k_({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Ro.createElement("title",null,s),t.children)};return mM!==void 0?Ro.createElement(mM.Consumer,null,n=>e(n)):e(c$)}function cw(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function d$(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function f$(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function wme(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c8.6 0 15.7-6.3 17.4-14.9.7-5.4-1.1 6.1 14.4-91.3 4.6-22 14.3-19.7 29.3-19.7 71 0 126.4-28.8 142.9-112.3 6.5-34.8 4.6-71.4-23.8-92.6z"},child:[]}]})(t)}function h$(t){return Pt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function p$(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(t)}function m$(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function $I(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function g$(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"},child:[]}]})(t)}function Bm(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function y$(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Vd(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function uw(t){return Pt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function dw(t){return Pt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function L4(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function v$(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(t)}function Tme(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(t)}function Gd(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function GI(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function KI(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function Nu(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function fw(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Mv(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function x$(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function j4(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Eme(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"},child:[]}]})(t)}function _$(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function hw(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function b$(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function Cme(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function XI(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Sme(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function I_(t){return Pt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function Dme(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM144 32h96c8.8 0 16 7.2 16 16s-7.2 16-16 16h-96c-8.8 0-16-7.2-16-16s7.2-16 16-16zm48 128c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H102.4C90 416 80 407.4 80 396.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function w$(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function Ame(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function T$(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function E$(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function Nme(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function kme(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function ra(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(t)}function Ime(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function JI(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function gc(t){return Pt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function j0(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function Rme(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function Pme(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function C$(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function ic(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function pw(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function Uv(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function B4(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Dt(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Fme(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Mme(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function S$(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function If(t){return Pt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Vm(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Ume(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function Al(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Ome(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function Lme(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function jme(t){return Pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const Bme=()=>{const{user:t,logout:e}=br(),n=ci(),{t:r,countryCode:i}=Ji(),[s,a]=q.useState("G"),[o,l]=q.useState(!1),[c,u]=q.useState(!1),[f,h]=q.useState(!1),p=q.useRef(null),v=i?`/${i}/`:"/",g=q.useMemo(()=>Au.ar,[]),y=q.useMemo(()=>g.find(E=>E.code===i),[i,g]);q.useEffect(()=>{let E,S;const R=setInterval(()=>{l(!0),S=setTimeout(()=>{a(D=>D==="G"?"@":"G")},250),E=setTimeout(()=>{l(!1)},500)},2500);return()=>{clearInterval(R),clearTimeout(E),clearTimeout(S)}},[]),q.useEffect(()=>{const E=S=>{p.current&&!p.current.contains(S.target)&&u(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const b=()=>{e(),n("/")},x=E=>{u(!1),n(E==="global"?"/":`/${E}/`)},w=E=>{i||(E.preventDefault(),h(!0))};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:d.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(en,{to:"/",className:"flex items-center gap-3 logo-link","aria-label":"Gitut Home",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z"})}),d.jsxs("span",{className:"text-2xl font-bold text-gray-900",dir:"ltr",children:[d.jsx("span",{className:`char-flipper ${o?"swapping":""}`,children:s}),"itut"]})]}),d.jsxs("div",{className:"relative",ref:p,children:[d.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[y?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xl",children:y.flag}),d.jsx("span",{className:"font-semibold text-gray-800",children:y.name})]}):d.jsxs(d.Fragment,{children:[d.jsx(I_,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold text-gray-800",children:" "})]}),d.jsx(Vd,{className:"text-gray-500 text-xs"})]}),c&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 max-h-72 overflow-y-auto",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>x("global"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(I_,{className:"text-gray-600"}),d.jsx("span",{children:"  ( )"})]})}),g.map(E=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>x(E.code),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx("span",{className:"text-xl",children:E.flag}),d.jsx("span",{children:E.name})]})},E.code))]})})]})]}),d.jsx("nav",{className:"flex items-center gap-6",children:t?d.jsxs(d.Fragment,{children:[d.jsx(en,{to:`/${i||"dz"}/app/`,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.dashboard")}),d.jsx("button",{onClick:b,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-semibold",children:r("header.logout")})]}):d.jsxs(d.Fragment,{children:[d.jsx(en,{to:v,className:"text-gray-700 hover:text-green-600 font-semibold",children:r("header.search")}),d.jsx(en,{to:`/${i||"dz"}/login/`,onClick:w,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:r("header.login")})]})})]})}),f&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex justify-center items-center",onClick:()=>h(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",onClick:E=>E.stopPropagation(),children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"  "}),d.jsx("ul",{className:"space-y-2 max-h-72 overflow-y-auto",children:g.map(E=>d.jsx("li",{children:d.jsxs(en,{to:`/${E.code}/login/`,onClick:()=>h(!1),className:"w-full text-right flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[d.jsx("span",{className:"text-2xl",children:E.flag}),d.jsx("span",{className:"font-semibold",children:E.name})]})},E.code))})]})})]})},D$=q.createContext(void 0),Vme=({children:t})=>{const[e,n]=q.useState(null),r=(s,a)=>{const o="mgkrol99@gmail.com";return s===o&&a==="@Youyou1936@"?(n({id:"admin-user",email:o,role:"admin"}),!0):!1},i=()=>{n(null)};return d.jsx(D$.Provider,{value:{admin:e,login:r,logout:i},children:t})},Ov=()=>{const t=q.useContext(D$);if(t===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return t},A$=q.createContext(void 0),Wme=({children:t})=>{const{user:e,loading:n}=br(),{admin:r}=Ov(),i=Ir(),s=i.pathname.startsWith("/admin"),a=i.pathname.includes("/app"),[o,l]=q.useState([]),[c,u]=q.useState([]),[f,h]=q.useState([]),[p,v]=q.useState([]),[g,y]=q.useState([]),[b,x]=q.useState(null),[w,E]=q.useState([]),[S,R]=q.useState([]),[D,N]=q.useState([]),[I,F]=q.useState([]),[P,k]=q.useState([]),[U,O]=q.useState([]),[X,J]=q.useState([]),[Y,ne]=q.useState([]),[z,K]=q.useState([]),[B,j]=q.useState([]),[W,H]=q.useState(null),[Q,Z]=q.useState(null),[se,ce]=q.useState(!0),[ue,Ee]=q.useState(!0),[Ie,fe]=q.useState(!1),[Le,V]=q.useState(null),ye=ve=>ve?ve.map(De=>{if(!De)return De;const Ue=Te=>{if(!Te)return;if(Te instanceof Ur.firestore.Timestamp)return Te;if(typeof Te=="object"&&Te!==null&&typeof Te.seconds=="number"&&typeof Te.nanoseconds=="number")return new Ur.firestore.Timestamp(Te.seconds,Te.nanoseconds);const Me=new Date(Te);if(!isNaN(Me.getTime()))return Ur.firestore.Timestamp.fromDate(Me)};return{...De,createdAt:Ue(De.createdAt)||Ur.firestore.Timestamp.now(),publishedAt:Ue(De.publishedAt)}}):[],be=async()=>{console.log("Attempting to load admin dashboard data from IndexedDB...");try{const[ve,De,Ue,Te,Me,Oe,Ge,nt,st,Ot,wn,hn]=await Promise.all([Kn("cafes"),Kn("fullDocuments"),Kn("staticDocuments"),Kn("sites"),Kn("baseTemplates"),Ms("siteSettings","main"),Kn("codes"),Kn("pages"),Kn("blogPosts"),Kn("ads"),Kn("voice_prompts"),Ms("offlineMetadata","syncStatus")]);if(De.length>0||ve.length>0)return u(De),l(De),h(Ue),F(Te),v(ve),j(Me),x(Oe),ne(Ge),E(nt),R(ye(st)),N(Ot),K(wn),console.log("Successfully loaded admin dashboard data from IndexedDB."),(hn==null?void 0:hn.version)||0}catch(ve){console.error("Could not load admin dashboard data from IndexedDB:",ve)}return 0},oe=q.useCallback(async ve=>{const[De,Ue,Te,Me,Oe,Ge,nt,st,Ot,wn,hn,zr,nr]=await Promise.all([P4(),Py(),Dp.getAll(),A_(),mp.getAll(),gp.getAll(),lu.getAll(),tf.getAll(),O0.getAll(),dM.getAll(),hm.getAll(),U4(),O4()]),rr=await fetch("https://data-7z6.pages.dev/data/json/site-seo.json"),wr=rr.ok?await rr.json():{},Qt=ye(Ge);l(Ue),u(Ue),h(Te),v(De),ne(Ot),K(wn),j(hn),H(zr),Z(nr);const Nn={...In,...Me||{},seo:{...(Me==null?void 0:Me.seo)||{},...wr},payment:{...In.payment,...(Me==null?void 0:Me.payment)||{}},pricing:{...In.pricing,...(Me==null?void 0:Me.pricing)||{}},social:{...In.social,...(Me==null?void 0:Me.social)||{}},ads:{...In.ads,...(Me==null?void 0:Me.ads)||{}},ai:{...In.ai,...(Me==null?void 0:Me.ai)||{}}};x(Nn),E(Oe),R(Qt),N(nt),F(st);const pe=[...Ue.map(we=>({...we,serviceType:"doc"})),...Te.map(we=>({...we,serviceType:"static-doc"})),...st.map(we=>({...we,serviceType:"site"}))];y(pe),await Promise.all([Ci("cafes",De),Ci("fullDocuments",Ue),Ci("staticDocuments",Te),Ci("sites",st),Ci("baseTemplates",hn),Ci("codes",Ot),Ci("pages",Oe),Ci("blogPosts",Qt),Ci("ads",nt),Ci("voice_prompts",wn),ur("siteSettings",{...Nn,id:"main"}),ur("offlineMetadata",{id:"syncStatus",version:ve})])},[]),re=q.useCallback(async()=>{if(!r)throw new Error("Admin not authenticated for refetch.");ce(!0);try{const{version:ve}=await uM();await oe(ve)}finally{ce(!1)}},[r,oe]),le=q.useCallback(async()=>{try{console.log("Refetching all cafes...");const ve=await P4();v(ve),await Ci("cafes",ve),console.log("Cafes refetched and cache updated.")}catch(ve){console.error("Failed to refetch cafes:",ve)}},[]);q.useEffect(()=>{const ve=async()=>{console.log("Attempting to load user dashboard data from IndexedDB...");try{const[Ue,Te,Me,Oe,Ge,nt,st]=await Promise.all([Kn("cafes"),Kn("fullDocuments"),Kn("staticDocuments"),Kn("sites"),Kn("baseTemplates"),Ms("siteSettings","main"),Kn("codes")]);if(Te.length>0)return v(Ue),u(Te),h(Me),F(Oe),j(Ge),x(nt),ne(st),l(Te),console.log("Successfully loaded user dashboard data from IndexedDB."),!0}catch(Ue){console.error("Could not load user dashboard data from IndexedDB:",Ue)}return!1};(async()=>{if(!n){if(s&&!r){ce(!1),Ee(!1);return}if(ce(!0),V(null),s&&r){const Ue=await be();ce(!1);try{const{version:Te}=await uM();Te>Ue?(console.log(`New data version available. Local: ${Ue}, Remote: ${Te}. Syncing...`),await oe(Te),console.log("Admin data synced from network and cache updated.")):console.log("Local admin data is up to date.")}catch(Te){const Me=Te instanceof Error?Te.message:String(Te);console.error("Could not check for remote data updates. Running on cached data.",Te),Ue===0&&(Me.includes("no such table: data_versions")?V("<strong>    .</strong><br/>  'data_versions'  .<br/>   'Troubleshooting'   <code>readme.md</code>    ."):V(Me))}}else if(!s){a&&e&&await ve()&&ce(!1);try{const Ue=i.pathname.match(/^\/([a-z]{2})(?:\/|$)/),Te=Ue?Ue[1]:null,Me=e?O0.getAll():Promise.resolve([]),Oe=e?dM.getAll():Promise.resolve([]),Ge=e?U4():Promise.resolve(null),nt=e?O4():Promise.resolve(null),st=e?A_():Promise.resolve(null),Ot=e!=null&&e.cafeId?zI(e.cafeId):Promise.resolve(null);if(Te){const rr=dC(Te),wr=oM(Te),[Qt,Nn,pe,we,Fe,He,rt,kt]=await Promise.all([rr,wr,Me,Oe,Ge,nt,st,Ot]);let ln=Qt.cafes;if(kt){const nn=ln.findIndex(Rr=>Rr.id===kt.id);nn>-1?ln[nn]=kt:ln.push(kt)}l(Qt.documents),h(Qt.staticDocuments),v(ln),x(rt?{...Qt.siteSettings,...rt}:Qt.siteSettings),E(Qt.pages),R(Qt.blogPosts),N(Qt.ads),F(Qt.sites),y(Qt.services),k(Nn.wilayas),O(Nn.dairas),J(Nn.communes),Ee(!1)}else{Ee(!0);const rr=Au.ar.map(He=>He.code),wr=rr.map(He=>dC(He).catch(()=>null)),Qt=await Promise.all(wr),Nn=new Map,pe=new Map;for(const He of Qt)He&&(He.services.forEach(rt=>Nn.set(rt.id,rt)),He.cafes.forEach(rt=>pe.set(rt.id,rt)));const we=Qt.find((He,rt)=>rr[rt]==="dz")||await dC("dz"),Fe=await oM("dz");y(Array.from(Nn.values())),v(Array.from(pe.values())),l(we.documents),h(we.staticDocuments),x(we.siteSettings),E(we.pages),R(we.blogPosts),N(we.ads),F(we.sites),k(Fe.wilayas),O(Fe.dairas),J(Fe.communes),Ee(!1)}const[wn,hn,zr,nr]=await Promise.all([Me,Oe,Ge,nt]);ne(wn),e&&await Ci("codes",wn),K(hn),H(zr),Z(nr)}catch(Ue){console.error("Failed to load application data:",Ue),V(Ue instanceof Error?Ue.message:"An unknown error occurred.")}finally{ce(!1)}}}})()},[i.pathname,s,a,e,r,n,oe]);const he=q.useCallback(async()=>{if(c.length===0){fe(!0);try{const ve=await Kn("fullDocuments");if(ve.length>0)u(ve);else{const De=await Py();u(De),await Ci("fullDocuments",De)}}catch(ve){console.error("Failed to load full documents:",ve)}finally{fe(!1)}}},[c.length]),_e=q.useCallback(ve=>{const De=ye([ve])[0];R(Ue=>[De,...Ue].sort((Te,Me)=>{const Oe=(Te.publishedAt||Te.createdAt).toDate();return(Me.publishedAt||Me.createdAt).toDate().getTime()-Oe.getTime()}))},[]),ie=q.useCallback((ve,De)=>{R(Ue=>Ue.map(Te=>Te.id===ve?ye([{...Te,...De}])[0]:Te))},[]),de=q.useCallback(ve=>{R(De=>De.filter(Ue=>Ue.id!==ve))},[]),me={documents:o,fullDocuments:c,staticDocuments:f,cafes:p,services:g,siteSettings:b,pages:w,blogPosts:S,ads:D,sites:I,wilayas:P,dairas:U,communes:X,codes:Y,voicePrompts:z,baseTemplates:B,excelCommands:W,documentCommands:Q,loading:se,locationsLoading:ue,loadingFullDocuments:Ie,error:Le,loadFullDocuments:he,refetchAdminData:re,refetchCafes:le,addBlogPost:_e,updateBlogPost:ie,deleteBlogPost:de};return d.jsx(A$.Provider,{value:me,children:t})},Jt=()=>{const t=q.useContext(A$);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},fC=({type:t,url:e})=>{const n={className:"w-6 h-6 text-gray-500 hover:text-green-600 transition-colors"};switch(t){case"facebook":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:d.jsx(cw,{...n})});case"twitter":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:d.jsx(m$,{...n})});case"instagram":return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:d.jsx(d$,{...n})});default:return null}},qme=()=>{const{siteSettings:t,pages:e,blogPosts:n,loading:r}=Jt(),{t:i,language:s,countryCode:a}=Ji(),o=a||"dz",l=q.useMemo(()=>n.some(p=>p.enabled&&p.content&&p.content[s]),[n,s]);if(r||!t)return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:"..."})});const c=t.social&&t.social[o]||t.social&&t.social.default||{facebook:"",twitter:"",instagram:""},u=t.seo&&t.seo[o]||t.seo&&t.seo.default||{siteName:"Gitut"},f=c.facebook||c.twitter||c.instagram,h=e.filter(p=>p.enabled&&(p.lang===s||!p.lang&&s==="ar"));return d.jsx("footer",{className:"bg-white border-t mt-auto",children:d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[(h.length>0||l)&&d.jsxs("nav",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-gray-600",children:[l&&d.jsx("a",{href:`/${o}/blog/`,className:"hover:text-green-600 hover:underline",children:i("footer.blog")}),d.jsx("a",{href:`/${o}/services.html`,className:"hover:text-green-600 hover:underline",children:i("footer.services")}),h.map(p=>d.jsx("a",{href:`/${o}/page/${p.slug}/`,className:"hover:text-green-600 hover:underline",children:p.title},p.id))]}),f&&d.jsxs("div",{className:"flex justify-center gap-6",children:[c.facebook&&d.jsx(fC,{type:"facebook",url:c.facebook}),c.twitter&&d.jsx(fC,{type:"twitter",url:c.twitter}),c.instagram&&d.jsx(fC,{type:"instagram",url:c.instagram})]}),d.jsxs("p",{className:"text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," ",u.siteName,". ",i("footer.rightsReserved")]})]})})})},yM=t=>t?t.replace(/[]/g,"").replace(//g,""):"",vM=()=>{const{services:t,siteSettings:e,loading:n}=Jt(),r=ci(),{countryCode:i}=Bs(),{t:s,language:a}=Ji(),o=i||"dz",l=q.useMemo(()=>{const O=(e==null?void 0:e.seo[o])||(e==null?void 0:e.seo.default);return[{title:(O==null?void 0:O.mainPageTitle)||s("findPage.hero.title1"),subtitle:(O==null?void 0:O.mainPageSubtitle)||s("findPage.hero.subtitle1")},{title:s("findPage.hero.title2"),subtitle:s("findPage.hero.subtitle2")}]},[e,s,o]),[c,u]=q.useState(0),f=q.useMemo(()=>i?t.filter(O=>!O.countryCode||O.countryCode===i):t,[t,i]);q.useEffect(()=>{if(n)return;const O=setInterval(()=>{u(X=>(X+1)%l.length)},7e3);return()=>clearInterval(O)},[l.length,n]);const[h,p]=q.useState(""),[v,g]=q.useState([]),[y,b]=q.useState(!1),[x,w]=q.useState([]),[E,S]=q.useState(!1),R=q.useRef(null),D=window.SpeechRecognition||window.webkitSpeechRecognition,N=!!D;q.useEffect(()=>{if(h.trim()){const O=yM(h.toLowerCase()),X=f.filter(J=>yM(J.name.toLowerCase()).includes(O));g(X)}else g([])},[h,f]),q.useEffect(()=>{if(!N)return;const O=new D;O.continuous=!1,O.interimResults=!1;let X="ar-SA";switch(a){case"en":X="en-US";break;case"fr":X="fr-FR";break;case"de":X="de-DE";break;case"es":X="es-ES";break;case"tr":X="tr-TR";break;case"ja":X="ja-JP";break}return O.lang=X,O.onresult=J=>p(J.results[0][0].transcript),O.onerror=J=>{console.error("Speech recognition error",J.error),alert(`Speech recognition error: ${J.error}`)},O.onend=()=>S(!1),R.current=O,()=>{var J;return(J=R.current)==null?void 0:J.abort()}},[N,a]);const I=()=>{var O,X;if(!N){alert("Your browser does not support voice search.");return}E?(O=R.current)==null||O.stop():((X=R.current)==null||X.start(),S(!0))},F=O=>{p(""),x.find(X=>X.id===O.id&&X.serviceType===O.serviceType)||w(X=>[...X,O])},P=(O,X)=>{w(J=>J.filter(Y=>!(Y.id===O&&Y.serviceType===X)))},k=O=>{O.preventDefault();const X=x.filter(Y=>Y.serviceType==="doc"||Y.serviceType==="site");if(X.length===0){alert(s("findPage.alert.selectFillable"));return}const J=X.map(Y=>Y.id);r(`/${i||"dz"}/find-cafe`,{state:{documentIds:J}})},U=x.filter(O=>O.serviceType==="doc"||O.serviceType==="site").length;return d.jsxs("div",{className:"space-y-8",children:[d.jsx("section",{className:"text-center p-8 md:p-10 bg-white rounded-xl shadow-lg overflow-hidden flex flex-col justify-center min-h-[12rem]",children:n?d.jsx("p",{children:"Loading..."}):d.jsxs("div",{className:"fade-in-text",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:l[c].title}),d.jsx("p",{className:"text-base md:text-lg text-gray-700 max-w-3xl mx-auto",children:l[c].subtitle})]},c)}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s("findPage.step1.title")}),d.jsx("form",{onSubmit:O=>O.preventDefault(),children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:s("findPage.step1.placeholder"),value:h,onChange:O=>p(O.target.value),onFocus:()=>b(!0),onBlur:()=>setTimeout(()=>b(!1),200),className:"p-4 pl-14 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),N&&d.jsx("button",{type:"button",onClick:I,title:s("findPage.step1.voiceSearchTitle"),className:`absolute left-3 top-1/2 -translate-y-1/2 p-3 rounded-full transition-colors duration-300 ${E?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.jsx(gc,{className:"h-5 w-5"})}),y&&v.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-20 max-h-60 overflow-y-auto",children:v.map(O=>d.jsxs("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 flex justify-between items-center",onMouseDown:()=>F(O),children:[d.jsx("span",{children:O.name}),x.find(X=>X.id===O.id&&X.serviceType===O.serviceType)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},`${O.serviceType}-${O.id}`))})]})})]}),d.jsx("section",{children:x.length>0?d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold",children:[s("findPage.selectedDocs.title")," (",x.length,"):"]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:x.map(O=>{const X="description"in O?O.description:"url"in O?O.url:"",J=O.serviceType==="static-doc"?d.jsx(hw,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}):O.serviceType==="site"?d.jsx(I_,{className:"h-6 w-6 text-indigo-500 flex-shrink-0 mt-1"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return d.jsxs("article",{className:"bg-gray-50 rounded-lg p-3 border flex justify-between items-center gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 flex-grow",children:[J,d.jsxs("div",{className:"flex-grow",children:[d.jsx("h4",{className:"text-md font-bold text-gray-900",children:O.name}),d.jsx("div",{className:"text-sm text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:X}})]})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[O.serviceType==="static-doc"&&d.jsx("a",{href:`/${i||"dz"}/view/${O.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold whitespace-nowrap",children:s("findPage.selectedDocs.viewFile")}),d.jsx("button",{onClick:()=>P(O.id,O.serviceType),title:s("findPage.selectedDocs.removeTitle"),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",children:d.jsx(If,{})})]})]},`${O.serviceType}-${O.id}`)})}),d.jsx("form",{onSubmit:k,className:"text-center pt-4",children:d.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors mx-auto disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:U===0,title:U===0?s("findPage.selectedDocs.nextStepButtonDisabledTitle"):"",children:[d.jsx("span",{children:s("findPage.selectedDocs.nextStepButton",{count:U})}),d.jsx($I,{})]})})]}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:s("findPage.selectedDocs.emptyState")})})})]})},bl=({placement:t})=>{const{ads:e}=Jt(),n=q.useMemo(()=>e.find(r=>r.placement===t&&r.enabled),[t,e]);return n?t==="DASHBOARD_TOP"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:n.title}),d.jsx("p",{className:"text-white text-opacity-90 mt-1",children:n.content})]})]})}):t==="PROFILE_SIDEBAR"?d.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover"}),d.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end",children:[d.jsx("h3",{className:"text-lg font-bold text-white group-hover:underline",children:n.title}),d.jsx("p",{className:"text-sm text-white/90",children:n.content})]})]})}):null:null},zme="https://pub-f25b4129424647319985a15a082e6685.r2.dev",mi=t=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:`${zme}/${t.startsWith("/")?t.substring(1):t}`:"";async function N$(t,e,n){const i=await(await fetch(t)).blob();return new File([i],e,{type:n||i.type})}const V4=new URL("/api/gun",window.location.origin);V4.protocol=V4.protocol==="https:"?"wss:":"ws:";const k$=V4.toString();console.log(`[Gun.js] Attempting to connect to peer: ${k$}`);const Hme=[k$];let I$=null;typeof window<"u"&&window.Gun&&(I$=window.Gun({peers:Hme}));const qn=I$,R$=q.createContext(void 0),x1=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,$me=({children:t})=>{const{user:e}=br(),{cafes:n}=Jt(),[r,i]=q.useState(null);q.useEffect(()=>{let u=localStorage.getItem("gitut_visitor_id");u||(u=`visitor_${crypto.randomUUID()}`,localStorage.setItem("gitut_visitor_id",u)),i(u)},[]),q.useEffect(()=>{if(!(e!=null&&e.cafeId)||!qn)return;const u=e.cafeId,f=qn.get("presence").get(u);f.put({lastSeen:Date.now()});const h=setInterval(()=>{f.put({lastSeen:Date.now()})},1e4),p=()=>f.put({lastSeen:null});return window.addEventListener("beforeunload",p),()=>{clearInterval(h),f.put({lastSeen:null}),window.removeEventListener("beforeunload",p)}},[e]),q.useEffect(()=>{if(!(e!=null&&e.cafeId)||!qn)return;const u=e.cafeId,f=qn.get("jobs").get(u);return f.map().on(async(h,p)=>{if(h&&typeof h=="object"){console.log(`Received P2P job: ${p}`);try{if(!await Ms("jobs",p)){const g={...h,id:p,documentIds:typeof h.documentIds=="string"?JSON.parse(h.documentIds):h.documentIds,visitorData:typeof h.visitorData=="string"?JSON.parse(h.visitorData):h.visitorData};await ur("jobs",g),console.log(`Job ${p} persisted to IndexedDB.`)}f.get(p).put(null)}catch(v){console.error(`Failed to persist P2P job ${p} to IndexedDB:`,v)}}}),()=>f.off()},[e]);const c={visitorId:r,usePresence:u=>{const[f,h]=q.useState(null),p=q.useRef(null);return q.useEffect(()=>{if(!u||!qn){h(!1);return}const v=qn.get("presence").get(u),g=()=>{const x=p.current,w=x?Date.now()-x<15e3:!1;h(w)},y=v.on(x=>{p.current=x&&typeof x.lastSeen=="number"?x.lastSeen:null,g()}),b=setInterval(g,5e3);return g(),()=>{y.off(),clearInterval(b)}},[u]),{isOnline:f}},useVisitorChat:u=>{const[f,h]=q.useState([]),p=q.useMemo(()=>!qn||!u?null:qn.get("chats").get(u),[u]);q.useEffect(()=>{if(!p)return;const g=new Map;return p.map().on((y,b)=>{if(y){g.set(b,{...y,id:b});const x=Array.from(g.values()).sort((w,E)=>w.timestamp-E.timestamp);h(x)}}),()=>p.off()},[p]);const v=q.useCallback(g=>{if(!p||!r)return;const y={text:g,senderId:r,senderName:"Visitor",timestamp:Date.now()},b=x1();p.get(b).put(y)},[p,r]);return{messages:f,sendMessage:v}},useCafeChatManager:()=>{const[u,f]=q.useState({unread:!1,messages:[]}),[h,p]=q.useState(new Map),v=e==null?void 0:e.cafeId;q.useEffect(()=>{if(!v||!qn)return;const E=qn.get("chats").get(`admin_${v}`),S=new Map;return E.map().on((R,D)=>{if(R){S.set(D,{...R,id:D});const N=Array.from(S.values()).sort((P,k)=>P.timestamp-k.timestamp),I=N[N.length-1],F=I&&I.senderId!==v&&I.timestamp>(Number(localStorage.getItem(`lastRead_admin_${v}`))||0);f({messages:N,lastMessage:I,unread:F})}}),()=>E.off()},[v]),q.useEffect(()=>{if(!v||!qn)return;const E=qn.get("chats").get(v),S=new Map;return E.map().on((R,D)=>{if(R){const N=new Map;qn.get(R["#"]).map().on((I,F)=>{if(I){N.set(F,{...I,id:F});const P=Array.from(N.values()).sort((O,X)=>O.timestamp-X.timestamp),k=P[P.length-1],U=k&&k.senderId!==v&&k.timestamp>(Number(localStorage.getItem(`lastRead_${v}_${D}`))||0);S.set(D,{messages:P,lastMessage:k,unread:U}),p(new Map(S))}})}}),()=>E.off()},[v]);const g=q.useCallback(E=>{var D;if(!v||!qn)return;const S=qn.get("chats").get(`admin_${v}`),R={text:E,senderId:v,senderName:((D=n.find(N=>N.id===v))==null?void 0:D.name)||"Cafe",timestamp:Date.now()};S.get(x1()).put(R)},[v,n]),y=q.useCallback((E,S)=>{var N;if(!v||!qn)return;const R=qn.get("chats").get(v).get(E),D={text:S,senderId:v,senderName:((N=n.find(I=>I.id===v))==null?void 0:N.name)||"Cafe",timestamp:Date.now()};R.get(x1()).put(D)},[v,n]),b=q.useCallback(()=>{v&&(localStorage.setItem(`lastRead_admin_${v}`,String(Date.now())),f(E=>({...E,unread:!1})))},[v]),x=q.useCallback(E=>{v&&(localStorage.setItem(`lastRead_${v}_${E}`,String(Date.now())),p(S=>{const R=new Map(S),D=R.get(E);return D&&R.set(E,{...D,unread:!1}),R}))},[v]),w=(u.unread?1:0)+Array.from(h.values()).filter(E=>E.unread).length;return{adminConversation:u,visitorConversations:h,sendMessageToAdmin:g,sendMessageToVisitor:y,markAdminAsRead:b,markVisitorAsRead:x,totalUnreadCount:w}},useAdminChatManager:()=>{const[u,f]=q.useState(new Map),[h,p]=q.useState(null),[v,g]=q.useState([]);q.useEffect(()=>{if(!qn)return;const w=qn.get("chats"),E=new Map;return w.map().on((S,R)=>{if(R.startsWith("admin_")){const D=R.replace("admin_","");qn.get(S["#"]).map().on((N,I)=>{var F;if(N){const P=((F=n.find(U=>U.id===D))==null?void 0:F.name)||`Cafe ${D.substring(0,4)}`,k=E.get(D);if(!k||N.timestamp>k.lastMessage.timestamp){const U=N.senderId!=="admin"&&N.timestamp>(Number(localStorage.getItem(`lastRead_admin_${D}`))||0);E.set(D,{lastMessage:{...N,id:I},unread:U,cafeName:P}),f(new Map(E))}}})}}),()=>w.off()},[n]),q.useEffect(()=>{if(!h||!qn){g([]);return}const w=qn.get("chats").get(`admin_${h}`),E=new Map;return w.map().on((S,R)=>{S&&(E.set(R,{...S,id:R}),g(Array.from(E.values()).sort((D,N)=>D.timestamp-N.timestamp)))}),()=>w.off()},[h]);const y=q.useCallback(w=>{localStorage.setItem(`lastRead_admin_${w}`,String(Date.now())),p(w),f(E=>{const S=new Map(E),R=S.get(w);return R&&S.set(w,{...R,unread:!1}),S})},[]),b=q.useCallback(w=>{if(!h||!qn)return;const E=qn.get("chats").get(`admin_${h}`),S={text:w,senderId:"admin",senderName:"Admin",timestamp:Date.now()};E.get(x1()).put(S)},[h]),x=Array.from(u.values()).filter(w=>w.unread).length;return{conversations:u,messages:v,currentConversationId:h,selectConversation:y,sendMessage:b,unreadConversationsCount:x}}};return d.jsx(R$.Provider,{value:c,children:t})},Qf=()=>{const t=q.useContext(R$);if(t===void 0)throw new Error("useRealtime must be used within an RealtimeProvider");return t},YI=({title:t,messages:e,onSendMessage:n,currentUserId:r,isOnline:i,isLoading:s,onClose:a})=>{const[o,l]=q.useState(""),c=q.useRef(null),u=()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})};q.useEffect(()=>{u()},[e]);const f=h=>{h.preventDefault(),o.trim()&&(n(o.trim()),l(""))};return d.jsxs("div",{className:"flex flex-col h-full bg-white",children:[d.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b bg-gray-50 rounded-t-lg",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800",children:t}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${i===null?"bg-gray-300":i?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-500",children:i===null?" ...":i?" ":" "})]})]}),a&&d.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),d.jsxs("main",{className:"flex-grow p-4 overflow-y-auto bg-gray-100",children:[s?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Dt,{className:"animate-spin text-2xl text-gray-400"})}):e.length===0?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("p",{className:"text-gray-500",children:"   ."})}):d.jsx("div",{className:"space-y-4",children:e.map(h=>{const p=h.senderId===r;return d.jsx("div",{className:`flex items-end gap-2 ${p?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl ${p?"bg-green-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[!p&&d.jsx("p",{className:"text-xs font-bold text-blue-600 mb-1",children:h.senderName}),d.jsx("p",{className:"text-sm break-words",children:h.text}),d.jsx("p",{className:`text-xs mt-1 text-right ${p?"text-green-100":"text-gray-400"}`,children:new Date(h.timestamp).toLocaleTimeString("ar-DZ",{hour:"2-digit",minute:"2-digit"})})]})},h.id)})}),d.jsx("div",{ref:c})]}),d.jsx("footer",{className:"flex-shrink-0 p-3 border-t bg-white rounded-b-lg",children:d.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"  ...",className:"flex-grow p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i===!1}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 disabled:bg-gray-400",disabled:i===!1||!o.trim(),children:d.jsx(j0,{})})]})})]})},QI=({url:t,title:e,description:n})=>{const[r,i]=q.useState(!1),[s,a]=q.useState(!1),o=q.useMemo(()=>{let v=t;const g=v.indexOf("?"),y=v.indexOf("#");let b=v,x="";if(g!==-1||y!==-1){const w=Math.min(g===-1?1/0:g,y===-1?1/0:y);b=v.substring(0,w),x=v.substring(w)}return b.endsWith(".html")?b=b.slice(0,-5):b.endsWith("/")&&(b=b.slice(0,-1)),b+x},[t]),l=encodeURIComponent(o),c=encodeURIComponent(e),u=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${l}&title=${c}`,icon:d.jsx(f$,{}),color:"bg-blue-700 hover:bg-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${l}&description=${c}`,icon:d.jsx(h$,{}),color:"bg-red-600 hover:bg-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${l}&title=${c}`,icon:d.jsx(p$,{}),color:"bg-orange-500 hover:bg-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${l}&quote=${c}`,icon:d.jsx(cw,{}),color:"bg-blue-600 hover:bg-blue-700"}],f=()=>{navigator.clipboard.writeText(o).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)})},h=v=>{navigator.clipboard.writeText(v).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)})},p=()=>{const v=(n||"").replace(/<[^>]*>/g,""),g=v.substring(0,155)+(v.length>155?"...":""),y=`${e}

${g}

${o}`,b=`
      <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
      <div style="font-family: sans-serif; font-size: 14px;"><p>${g}</p></div>
      <a href="${o}">${o}</a>
    `;try{if(typeof ClipboardItem>"u"){h(y);return}const x=new Blob([b],{type:"text/html"}),w=new Blob([y],{type:"text/plain"}),E=new ClipboardItem({"text/html":x,"text/plain":w});navigator.clipboard.write([E]).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)}).catch(S=>{console.error("Async clipboard write failed, falling back to plain text: ",S),h(y)})}catch(x){console.error("Failed to use Clipboard API, falling back to writeText: ",x),h(y)}};return d.jsxs("div",{className:"fixed bottom-6 left-6 z-40 flex flex-col items-center gap-3",children:[u.map(v=>d.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${v.name}`,className:`w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-transform hover:scale-110 ${v.color}`,children:Ro.cloneElement(v.icon,{size:24})},v.name)),d.jsx("button",{onClick:f,"aria-label":"Copy link",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:r?d.jsx("span",{className:"text-xs",children:" "}):d.jsx(E$,{size:22})}),d.jsx("button",{onClick:p,"aria-label":"Copy details",title:"  (  )",className:"w-12 h-12 rounded-full text-white flex items-center justify-center shadow-lg transition-all hover:scale-110 bg-gray-600 hover:bg-gray-700",children:s?d.jsx("span",{className:"text-xs",children:" "}):d.jsx(v$,{size:22})})]})},rs=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},_1=t=>t?t.replace(/[]/g,"").replace(//g,""):"",Gme=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},Kme=()=>{var B,j,W;const{countryCode:t,numericId:e}=Bs(),n=Ir(),{documents:r,cafes:i,siteSettings:s,loading:a}=Jt(),{user:o}=br(),{language:l}=Ji(),[c,u]=q.useState(void 0),[f,h]=q.useState(!0),[p,v]=q.useState(()=>{var H;return!!((H=n.state)!=null&&H.openChat)}),{usePresence:g,useVisitorChat:y,visitorId:b}=Qf(),{isOnline:x}=g(c==null?void 0:c.id),{messages:w,sendMessage:E}=y(c==null?void 0:c.id),[S,R]=q.useState([]),[D,N]=q.useState(""),[I,F]=q.useState(!1);q.useEffect(()=>{var H,Q;if(c&&s){const Z=((H=s.seo)==null?void 0:H[t||"dz"])||((Q=s.seo)==null?void 0:Q.default)||{siteName:"Gitut",titleSeparator:"|",metaDescription:""},se=c.address.commune&&c.address.wilaya?` ${c.address.wilaya}  ${c.address.commune}`:"",ce=`${c.name} ${se} ${Z.titleSeparator} ${Z.siteName}`,ue=c.description?c.description.substring(0,155)+(c.description.length>155?"...":""):Z.metaDescription,Ee=mi(c.coverImageUrl)||"https://file.gitut.com/data/image/gitut-og-main.png";let Ie="en_US";switch(l){case"ar":Ie="ar_AR";break;case"fr":Ie="fr_FR";break;case"de":Ie="de_DE";break;case"es":Ie="es_ES";break;case"tr":Ie="tr_TR";break;case"ja":Ie="ja_JP";break}document.title=ce,rs("description",ue,!1),rs("og:title",ce),rs("og:description",ue),rs("og:image",Ee),rs("og:image:secure_url",Ee),rs("og:image:width","1200"),rs("og:image:height","630"),rs("og:url",window.location.href),rs("og:type","profile"),rs("og:site_name",Z.siteName),rs("og:locale",Ie),rs("twitter:card","summary_large_image",!1),rs("twitter:url",window.location.href,!1),rs("twitter:title",ce,!1),rs("twitter:description",ue,!1),rs("twitter:image",Ee,!1)}},[c,s,t,l]),q.useEffect(()=>{(async()=>{if(!e){h(!1);return}if(a)return;h(!0);const Q=parseInt(e,10),Z=i.find(se=>se.numericId===Q);if(Z)u(Z),h(!1);else try{const se=await Zpe(Q);u(se||void 0)}catch(se){console.error("Failed to fetch cafe by numericId:",se),u(void 0)}finally{h(!1)}})()},[e,i,a]);const P=q.useMemo(()=>{if(!c)return[];const H=[],Q=new Set([c.id]),Z=i.filter(ce=>ce.id!==c.id&&ce.isProfilePublished);return Z.filter(ce=>ce.address.commune===c.address.commune&&ce.address.wilaya===c.address.wilaya).forEach(ce=>{H.length<5&&!Q.has(ce.id)&&(H.push(ce),Q.add(ce.id))}),H.length<5&&c.address.daira&&Z.filter(ue=>ue.address.daira===c.address.daira&&ue.address.wilaya===c.address.wilaya).forEach(ue=>{H.length<5&&!Q.has(ue.id)&&(H.push(ue),Q.add(ue.id))}),H.length<5&&Z.filter(ue=>ue.address.wilaya===c.address.wilaya).forEach(ue=>{H.length<5&&!Q.has(ue.id)&&(H.push(ue),Q.add(ue.id))}),H},[c,i]),k=q.useMemo(()=>Gme(r),[r]),U=q.useMemo(()=>c?k.filter(H=>c.services.includes(H.groupId)):[],[c,k]),O=q.useMemo(()=>{if(!D)return U;const H=_1(D.toLowerCase());return U.filter(Q=>_1(Q.name.toLowerCase()).includes(H))},[U,D]),X=q.useMemo(()=>{if(!D||!I)return[];const H=_1(D.toLowerCase());return U.filter(Q=>_1(Q.name.toLowerCase()).includes(H))},[U,D,I]),J=H=>{R(Q=>Q.includes(H)?Q.filter(Z=>Z!==H):[...Q,H])},Y=H=>{J(H),N("")},ne=q.useMemo(()=>{if(!(c!=null&&c.address))return"";const{address:H}=c;return c.countryCode==="dz"?`${H.street||""}, ${H.commune||""}, ${H.daira||""}, ${H.wilaya||""}`.replace(/^,|,$/g,"").trim():`${H.street||""}, ${H.city||""}, ${H.state||""}`.replace(/^,|,$/g,"").trim()},[c]);if(f)return d.jsx("div",{className:"text-center py-20 flex justify-center items-center",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})});if(!c)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const z="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",K="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=1200&q=80";return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl mx-auto overflow-hidden",children:[d.jsx("img",{src:mi(c.coverImageUrl)||K,alt:`${c.name} cover`,className:"w-full h-48 object-cover",onError:H=>{H.currentTarget.src=K}}),d.jsxs("div",{className:"p-6 md:p-8 grid md:grid-cols-4 gap-8",children:[d.jsxs("main",{className:"md:col-span-3 space-y-8",children:[d.jsx(en,{to:`/${t}`,className:"text-green-600 hover:underline mb-6 inline-block",children:"   "}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsx("img",{src:mi(c.imageUrl)||z,alt:c.name,className:"w-full h-auto rounded-lg shadow-md aspect-square object-cover",onError:H=>{H.currentTarget.src=z}})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:c.name}),d.jsxs("p",{className:"text-gray-500 text-lg mb-4",children:[": ",c.owner]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:`w-3 h-3 rounded-full transition-colors duration-500 ${x===null?"bg-gray-300 animate-pulse":x?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm text-gray-600",children:x===null?" ...":x?" ":" "})]}),d.jsxs("div",{className:"space-y-3 text-gray-700",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",ne]}),d.jsxs("p",{children:[d.jsx("strong",{className:"font-semibold",children:":"})," ",c.description]}),c.phone&&d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(Pme,{className:"text-gray-500"})," ",d.jsx("strong",{children:c.phone})]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.googleMapsUrl&&d.jsxs("a",{href:c.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Ime,{})," ",d.jsx("span",{children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[((B=c.socials)==null?void 0:B.facebook)&&d.jsx("a",{href:c.socials.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600",children:d.jsx(cw,{size:24})}),((j=c.socials)==null?void 0:j.instagram)&&d.jsx("a",{href:c.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-pink-600",children:d.jsx(d$,{size:24})}),((W=c.socials)==null?void 0:W.twitter)&&d.jsx("a",{href:c.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-sky-500",children:d.jsx(m$,{size:24})})]})]})]})]}),d.jsxs("div",{className:"border-t pt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1.   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   .            ."}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:"text",placeholder:"   ...",value:D,onChange:H=>N(H.target.value),onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),150),className:"w-full p-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"     ",autoComplete:"off"}),X.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:X.map(H=>d.jsxs("li",{className:`px-4 py-2 cursor-pointer flex justify-between items-center ${S.includes(H.id)?"bg-green-100 font-semibold text-green-800":"hover:bg-green-50"}`,onMouseDown:Q=>{Q.preventDefault(),Y(H.id)},children:[d.jsx("span",{children:H.name}),S.includes(H.id)&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},H.id))})]}),d.jsx("div",{className:"space-y-3 mb-6",role:"group","aria-labelledby":"documents-heading",children:O.length>0?O.map(H=>d.jsxs("button",{type:"button",onClick:()=>J(H.id),className:`w-full text-right p-4 border rounded-lg transition-all duration-200 ${S.includes(H.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-gray-50 hover:bg-gray-100"}`,"aria-pressed":S.includes(H.id),children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:H.name}),d.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:H.description}})]},H.id)):d.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-gray-600",children:"    ."})})}),d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"2.  "}),d.jsxs(en,{to:S.length>0?`/${t}/form`:"#",state:{cafeId:c.id,selectedDocIds:S},className:`w-full md:w-auto inline-block text-center bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-green-300 ${S.length===0?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,"aria-disabled":S.length===0,onClick:H=>S.length===0&&H.preventDefault(),children:["   (",S.length,")"]})]})]}),d.jsxs("aside",{className:"md:col-span-1 space-y-6 pt-12",children:[d.jsx(bl,{placement:"PROFILE_SIDEBAR"}),P.length>0&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" "}),d.jsx("div",{className:"space-y-3",children:P.map(H=>d.jsxs(en,{to:`/${H.countryCode}/profile/${H.numericId}`,className:"block p-3 bg-white rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[d.jsx("p",{className:"font-semibold text-gray-900",children:H.name}),d.jsx("p",{className:"text-sm text-gray-500",children:H.address.commune})]},H.id))})]})]})]})]}),d.jsx(QI,{url:window.location.href,title:c.name,description:c.description}),c&&!p&&d.jsx("button",{onClick:()=>v(!0),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform hover:scale-110 z-40","aria-label":" ",title:" ",children:d.jsx(GI,{size:24})}),p&&c&&b&&d.jsx("div",{className:"fixed bottom-8 right-8 w-full max-w-sm h-[70vh] max-h-[500px] z-50 shadow-2xl rounded-lg fade-in-text",children:d.jsx(YI,{title:`  ${c.name}`,messages:w,onSendMessage:E,currentUserId:b,isOnline:x,onClose:()=>v(!1)})})]})},Xme=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null),[o,l]=q.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};q.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(b=>b.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Lv=({value:t,onChange:e})=>{const n=q.useRef(null),[r,i]=q.useState(!1),s=o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){const u=new FileReader;u.onloadend=()=>{e(u.result)},u.readAsDataURL(l)}},a=()=>{e("")};return d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"w-48 h-48 rounded-lg border-2 border-dashed border-gray-300 flex justify-center items-center bg-gray-50 overflow-hidden relative group",children:t?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}),d.jsx("button",{type:"button",onClick:a,className:"absolute top-1 right-1 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:d.jsx(Vm,{})})]}):d.jsx("span",{className:"text-gray-400 text-sm",children:" "})}),d.jsxs("div",{className:"mt-2 flex gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsx(Al,{}),d.jsx("span",{children:" "})]}),d.jsx("input",{type:"file",ref:n,onChange:s,accept:"image/*",className:"hidden"}),d.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Bm,{}),d.jsx("span",{children:" "})]})]}),r&&d.jsx(Xme,{onClose:()=>i(!1),onCapture:e})]})},P$="https://gitut.com/api/",F$="@@??YOUYOU@@??YOUYOU1936",M$="Could not initialize Firebase Admin SDK";function U$(){return new Promise((t,e)=>{if(Fr.currentUser)return t(Fr.currentUser);const n=Fr.onAuthStateChanged(r=>{n(),r?t(r):e(new Error("User not authenticated."))})})}async function id(t,e){var n;try{const i=await(await U$()).getIdToken(),s=await fetch(P$,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":F$},body:JSON.stringify({action:t,payload:e})});if((n=s.headers.get("Content-Type"))!=null&&n.includes("application/json")){const o=await s.json();if(!s.ok)throw new Error(o.error||`Request failed with status ${s.status}`);return o}const a=await s.text();if(!s.ok)throw new Error(a||`Request failed with status ${s.status}`);return{text:a}}catch(r){throw console.error(`Gemini Service Error (${t}):`,r),r instanceof Error&&r.message.includes(M$)?new Error("    .      ."):r}}async function*O$(t){const e="generateContentStream",n={modelRequest:t},i=await(await U$()).getIdToken(),s=await fetch(P$,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,"x-api-proxy-key":F$},body:JSON.stringify({action:e,payload:n})});if(!s.ok||!s.body){const c=(await s.json().catch(()=>({error:`Request failed with status ${s.status}`}))).error||`Request failed with status ${s.status}`;throw c.includes(M$)?new Error("    .      ."):new Error(c)}const a=s.body.getReader(),o=new TextDecoder;for(;;){const{done:l,value:c}=await a.read();if(l)break;yield o.decode(c,{stream:!0})}}async function*Jme(t,e){const n=`Analyze the following HTML content. Your task is to identify specific pieces of personal information (like names, dates, addresses, job titles) and replace them with the most relevant placeholder from the provided list. Return ONLY the modified HTML body content, without any markdown formatting, explanations, or the <body> tags themselves.

    Available placeholders: ${e.join(", ")}
    
    Original HTML Body:
    \`\`\`html
    ${t}
    \`\`\`
    `,r=O$({model:"gemini-2.5-flash",contents:n});for await(const i of r)yield i}const Yme=async t=>id("extractJsonFromHtml",{html:t}),sc=async t=>id("generateContent",{modelRequest:t}),Qme=async t=>id("generateImages",{prompt:t}),ZI=async(t,e,n,r)=>{const i=await id("extractDataFromImage",{base64ImageData:t,mimeType:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from image extraction:",s),new Error("The AI model returned an invalid format.")}return i},Zme=async(t,e,n,r)=>{const i=await id("extractStructuredData",{transcript:t,formFields:e,schema:n,prompt:r});if(i&&i.text)try{return JSON.parse(i.text)}catch(s){throw console.error("Could not parse JSON from structured data extraction:",s),new Error("The AI model returned an invalid format.")}return i},ege=async(t,e,n)=>id("extractJobData",{data:t,schema:e,requiredFieldLabels:n}),tge=async(t,e,n)=>id("processSpreadsheet",{prompt:t,selectedData:e,selectionContext:n}),L$=async t=>id("convertPdfToHtml",{pdfBase64:t}),nge=({onClose:t,onScanSuccess:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState("initializing"),[o,l]=q.useState("  ..."),[c,u]=q.useState(null),f=q.useCallback(async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current=p,n.current&&(n.current.srcObject=p,a("ready"),l(" .        ."))}catch(p){console.error("Error accessing camera:",p),u("    .    ."),a("error")}},[]);q.useEffect(()=>(f(),()=>{var p;(p=i.current)==null||p.getTracks().forEach(v=>v.stop())}),[f]);const h=async()=>{var p;if(!(s!=="ready"||!n.current||!r.current)){a("scanning"),l("    ..."),u(null);try{const v=n.current,g=r.current;g.width=v.videoWidth,g.height=v.videoHeight;const y=g.getContext("2d");y==null||y.drawImage(v,0,0,g.width,g.height);const b=g.toDataURL("image/jpeg",.9),[x,w]=b.split(","),E=((p=x.match(/:(.*?);/))==null?void 0:p[1])||"image/jpeg",D=await ZI(w,E,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"The person's last name () in Arabic."},firstName:{type:"STRING",description:"The person's first name () in Arabic."},lastNameFr:{type:"STRING",description:"The person's last name in French, if available."},firstNameFr:{type:"STRING",description:"The person's first name in French, if available."},birthdaydate:{type:"STRING",description:"The person's date of birth ( ) in YYYY-MM-DD format."},birthdayplace:{type:"STRING",description:"The person's place of birth () in Arabic."},nationalId:{type:"STRING",description:"The 18-digit National Identification Number (  )."},bloodType:{type:"STRING",description:"The person's blood type (RH), e.g., 'B+'."}}},"From the provided image of an Algerian National ID card (  ), extract the person's information. The card contains both Arabic and French text. Extract both language versions for the names. Format the date of birth as YYYY-MM-DD. If the image is blurry, has glare, or is unreadable, return an empty object.");if(D&&(D.firstName||D.lastName)){const I={fullName:`${D.firstName||""} ${D.lastName||""}`.trim(),firstName:D.firstName||"",lastName:D.lastName||"",firstNameFr:D.firstNameFr||"",lastNameFr:D.lastNameFr||"",birthdaydate:D.birthdaydate||"",birthdayplace:D.birthdayplace||"",nationalId:D.nationalId||"",bloodType:D.bloodType||""};e(I)}else l("     .     ."),a("ready")}catch(v){console.error("Scanning error with Gemini:",v);const g=v instanceof Error?v.message:"An unknown error occurred.";u(`   : ${g}`),a("ready")}}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full relative",children:[d.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",children:d.jsx(If,{size:20})}),d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-[85%] h-[80%] border-4 border-dashed border-white border-opacity-50 rounded-lg"})})]}),d.jsx("div",{className:"mt-4 text-center",children:c?d.jsx("p",{className:"text-red-500 font-semibold",children:c}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-gray-600 mb-2 h-10 flex items-center justify-center",children:s==="scanning"?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Dt,{className:"animate-spin"})," ",o]}):o}),d.jsxs("button",{onClick:h,disabled:s!=="ready",className:"mt-2 w-full flex items-center justify-center gap-3 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(Bm,{}),d.jsx("span",{children:s==="ready"?" ":" ..."})]})]})})]})})},b1={1:1,:1,:1,:1,:1,:1,2:2,:2,:2,:2,:2,:2,:2,:2,3:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,:3,4:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,:4,5:5,:5,:5,:5,:5,:5,6:6,:6,:6,:6},rge=t=>{const e=t.trim().toLowerCase(),n=e.match(/(?:||)\s+([^\s]+)/);if(n&&n[1]){const i=n[1];if(b1[i])return b1[i]}const r=e.split(/\s+/);for(const i of r)if(b1[i])return b1[i];return null},ige=()=>{var fe;const t=Ir(),e=ci(),{countryCode:n}=Bs(),{documents:r,sites:i,cafes:s,loading:a,codes:o}=Jt(),{cafeId:l,selectedDocIds:c}=t.state||{cafeId:null,selectedDocIds:[]},{usePresence:u}=Qf(),{isOnline:f}=u(l),{t:h,language:p}=Ji(),[v,g]=q.useState(),[y,b]=q.useState({}),[x,w]=q.useState(0),[E,S]=q.useState(""),[R,D]=q.useState(!1),[N,I]=q.useState(!1),[F,P]=q.useState("filling"),[k,U]=q.useState(!1),[O,X]=q.useState(!1),J=q.useRef(null),Y=q.useRef(!1);q.useEffect(()=>{l&&s.length>0&&g(s.find(Le=>Le.id===l))},[l,s]);const ne=Le=>{b(V=>({...V,...Le})),X(!1)},z=q.useMemo(()=>r.filter(Le=>c.includes(Le.id)),[r,c]),K=q.useMemo(()=>i.filter(Le=>Le.type==="template"&&c.includes(Le.id)),[i,c]),B=q.useMemo(()=>!c||c.length===0?!1:z.length>0||K.length>0,[c,z,K]),j=q.useMemo(()=>{const Le=[],V=new Set;return z.forEach(ye=>{var oe;((((oe=ye.spokenFields)==null?void 0:oe.length)>0?ye.spokenFields:ye.requiredFields)||[]).forEach(re=>{var le,he,_e;if(re!=="profilePicture"&&re!=="DateToday"&&!V.has(re)){const ie=Object.prototype.hasOwnProperty.call(lC,re),de=((le=ye.questions)==null?void 0:le[re])||((_e=(he=ye.fieldCustomizations)==null?void 0:he[re])==null?void 0:_e.customQuestion)||(ie?lC[re]:re);Le.push({id:re,label:de||re}),V.add(re)}})}),K.forEach(ye=>{var oe;(((oe=ye.jsonTemplate)==null?void 0:oe.fields)||[]).forEach(re=>{if(re!=null&&re.fieldId){const le=re.fieldId;V.has(le)||(Le.push({id:le,label:re.label}),V.add(le))}})}),Le},[z,K]),W=q.useMemo(()=>{const Le=new Set;return z.forEach(V=>(V.requiredFields||[]).forEach(ye=>Le.add(ye))),Le.has("profilePicture")},[z]),H=x===j.length-1,Q=q.useMemo(()=>{var _e,ie,de;const Le=(_e=j[x])==null?void 0:_e.id;if(!Le)return null;const ye=Object.prototype.hasOwnProperty.call(Jr,Le)?Jr[Le]:null;let be=null;for(const me of z)if((ie=me.fieldCustomizations)!=null&&ie[Le]){be=me.fieldCustomizations[Le];break}const oe=((de=j[x])==null?void 0:de.label)||Le,re=(be==null?void 0:be.type)||(ye==null?void 0:ye.type)||"text",le=ye?h(ye.placeholder||""):Le;let he;return be!=null&&be.options?he=be.options.map(me=>({value:me,label:me})):ye!=null&&ye.options&&(he=ye.options.map(me=>({value:me.value,label:h(me.label)}))),{id:Le,question:oe,type:re,placeholder:le,options:he,customization:be}},[x,j,z,h]),Z=q.useCallback(()=>{H?P("finished"):w(Le=>Le+1)},[H]),se=q.useCallback(()=>{x>0&&w(Le=>Le+1)},[x]),ce=q.useRef({handleNext:Z,handlePrevious:se,setFormData:b,currentField:Q});q.useEffect(()=>{ce.current={handleNext:Z,handlePrevious:se,setFormData:b,currentField:Q}},[Z,se,Q]),q.useEffect(()=>{Y.current=N},[N]),q.useEffect(()=>{const Le=window.SpeechRecognition||window.webkitSpeechRecognition;if(!Le)return;const V=new Le;V.continuous=!0,V.interimResults=!1;let ye="ar-SA";switch(p){case"en":ye="en-US";break;case"fr":ye="fr-FR";break;case"de":ye="de-DE";break;case"es":ye="es-ES";break;case"tr":ye="tr-TR";break;case"ja":ye="ja-JP";break}V.lang=ye,V.onstart=()=>{I(!0),U(!1)},V.onend=()=>{if(Y.current){console.log("Speech recognition service disconnected, attempting to restart.");try{V.start()}catch(be){console.error("Could not restart recognition:",be),Y.current=!1,I(!1)}}else I(!1)},V.onresult=be=>{let oe="";for(let ve=be.resultIndex;ve<be.results.length;++ve)be.results[ve].isFinal&&(oe+=be.results[ve][0].transcript.trim());if(!oe)return;const{handleNext:re,handlePrevious:le,setFormData:he,currentField:_e}=ce.current,ie=rge(oe);if(_e!=null&&_e.options&&ie!==null){const ve=ie-1;if(ve>=0&&ve<_e.options.length){const De=_e.options[ve];he(Ue=>({...Ue,[_e.id]:De.value})),re();return}}const de=["",""," "," ","next","suivant"],me=["","",""," "," "," ","previous","prcdent"];de.some(ve=>oe.toLowerCase().includes(ve))?re():me.some(ve=>oe.toLowerCase().includes(ve))?le():_e&&he(ve=>({...ve,[_e.id]:(ve[_e.id]||"")+oe+" "}))},V.onerror=be=>{console.error("Speech recognition error:",be.error),(be.error==="not-allowed"||be.error==="permission-denied")&&U(!0),Y.current=!1,I(!1)},J.current=V,Y.current=!0;try{J.current.start()}catch(be){console.error("Could not start recognition on mount:",be),Y.current=!1,I(!1)}return()=>{J.current&&(Y.current=!1,J.current.onend=null,J.current.stop())}},[p]),q.useEffect(()=>{var Le;if(J.current){const V=J.current,ye=Y.current;ye&&(Y.current=!1,V.stop());let be=((Le=Q==null?void 0:Q.customization)==null?void 0:Le.speechLang)||(v==null?void 0:v.speechToTextLanguage)||"ar-SA";V.lang=be,console.log(`Switched speech recognition language to: ${be} for field ${Q==null?void 0:Q.id}`),ye&&setTimeout(()=>{Y.current=!0;try{V.start()}catch(oe){console.error("Could not restart recognition after lang change:",oe),Y.current=!1,I(!1)}},250)}},[x,j,v,Q]);const ue=()=>{var Le,V;N?(Y.current=!1,(Le=J.current)==null||Le.stop()):(Y.current=!0,(V=J.current)==null||V.start())},Ee=Le=>{const{name:V,value:ye}=Le.target;b(be=>({...be,[V]:ye}))},Ie=async()=>{if(W&&!E){alert("     .");return}D(!0);const Le={...y,profilePicture:E};try{if(f===!0&&qn){console.log("Cafe is online. Sending job via P2P (GUN.js).");const V=`job-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,ye={cafeId:l,documentIds:JSON.stringify(c),visitorData:JSON.stringify(Le),createdAt:Date.now(),status:"Pending"};qn.get("jobs").get(l).get(V).put(ye),e(`/${n}/confirmation/${V}`)}else{console.log(`Cafe is offline (isOnline: ${f}). Sending job via Firebase.`);const ye=await rme({cafeId:l,documentIds:c,visitorData:Le});e(`/${n}/confirmation/${ye.id}`)}}catch(V){console.error("Error submitting job:",V),alert("    .    .")}finally{D(!1)}};return a?d.jsx("div",{className:"text-center py-20",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):!l||!B?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"      .     ."}),d.jsx(en,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]}):d.jsxs("div",{className:"max-w-3xl mx-auto",children:[O&&d.jsx(nge,{onClose:()=>X(!1),onScanSuccess:ne}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-6 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),d.jsxs("p",{className:"text-gray-600",children:["    ",d.jsx("strong",{className:"font-semibold",children:v==null?void 0:v.name}),".",d.jsx("span",{className:`inline-block mr-2 px-2 py-0.5 text-xs font-semibold rounded-full ${f===!0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f===null?"...":f===!0?"":" "})]})]}),d.jsxs("button",{type:"button",onClick:()=>X(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",title:"   ",children:[d.jsx(Bm,{}),d.jsx("span",{children:" "})]})]}),k&&d.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:[d.jsxs("p",{className:"font-bold flex items-center gap-2",children:[d.jsx(Mv,{}),"     "]}),d.jsx("p",{children:"           .    ."})]}),F==="filling"&&Q&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[" ",x+1,"  ",j.length]}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-1",children:Q.question}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'  ""  ""   .'})]}),d.jsxs("div",{className:"relative",children:[Q.type==="select"&&Q.options?d.jsxs("select",{name:Q.id,value:y[Q.id]||"",onChange:Ee,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",children:[d.jsxs("option",{value:"",children:["-- ",Q.placeholder," --"]}),(fe=Q.options)==null?void 0:fe.map(Le=>d.jsx("option",{value:Le.value,children:Le.label},Le.value))]},Q.id):d.jsx("textarea",{name:Q.id,value:y[Q.id]||"",onChange:Ee,placeholder:` ... : ${Q.placeholder}`,className:"w-full h-28 p-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"},Q.id),d.jsx("button",{type:"button",onClick:ue,title:"/ ",disabled:k,className:`absolute bottom-3 left-3 p-3 rounded-full transition-colors ${N?"bg-red-500 text-white animate-pulse":"bg-green-600 text-white hover:bg-green-700"} disabled:bg-gray-400`,children:N?d.jsx(Fme,{}):d.jsx(gc,{})})]}),Q.options&&d.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[d.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"  (  ):"}),d.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-800",children:Q.options.map((Le,V)=>d.jsxs("li",{children:[d.jsxs("strong",{className:"font-mono",children:[V+1,"."]})," ",Le.label]},Le.value))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{onClick:se,disabled:x===0,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[d.jsx(dw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:Z,className:"flex items-center gap-2 bg-green-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-green-700",children:[d.jsx("span",{children:H?"":""})," ",d.jsx(uw,{})]})]})]}),F==="finished"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center justify-center gap-3",children:[d.jsx(y$,{className:"text-green-500"}),"  !"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"      ."})]}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-3",children:Object.entries(y).map(([Le,V])=>{if(!V)return null;const be=(Object.prototype.hasOwnProperty.call(Jr,Le)?lC[Le]:Le)||Le;return d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-500",children:[be,":"]}),d.jsx("p",{className:"text-md text-gray-800 font-medium whitespace-pre-wrap",children:V})]},Le)})}),W&&d.jsxs("div",{className:"pt-4 mt-4 border-t",children:[d.jsx("h3",{className:"font-bold text-lg text-center mb-2",children:" "}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Lv,{value:E,onChange:S})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[d.jsx("button",{onClick:()=>{w(0),P("filling")},className:"bg-gray-200 text-gray-800 font-bold px-6 py-3 rounded-lg hover:bg-gray-300",children:"  "}),d.jsxs("button",{onClick:Ie,disabled:R||W&&!E,className:"flex items-center gap-2 bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[R?d.jsx(Dt,{className:"animate-spin"}):d.jsx(j0,{}),d.jsx("span",{children:R?" ...":"  "})]})]})]})]})]})},sge=()=>{const{countryCode:t,jobId:e}=Bs();return d.jsx("div",{className:"max-w-2xl mx-auto text-center py-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("svg",{className:"w-20 h-20 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"     .         ."}),d.jsxs("div",{className:"bg-green-50 border-2 border-dashed border-green-200 rounded-lg p-4 my-6",children:[d.jsx("p",{className:"text-gray-600 mb-1",children:"    :"}),d.jsx("p",{className:"text-3xl font-bold text-green-800 tracking-widest","aria-live":"polite",children:e})]}),d.jsx("p",{className:"text-sm text-gray-500 mb-8",children:":         ."}),d.jsx(en,{to:`/${t}`,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"   "})]})})},age=()=>{const{t,countryCode:e}=Ji(),[n,r]=q.useState(""),[i,s]=q.useState(""),[a,o]=q.useState(""),[l,c]=q.useState(!1),u=ci(),{login:f,logout:h,sendPasswordReset:p}=br(),[v,g]=q.useState(!1),[y,b]=q.useState(""),[x,w]=q.useState(""),[E,S]=q.useState(""),R=async N=>{if(N.preventDefault(),o(""),!n||!i){o(t("login.error.fillAllFields"));return}c(!0);try{const I=await f(n,i);I.emailVerified?u(`/${I.countryCode}/app`):(o(t("login.error.verifyEmail")),await h(),c(!1))}catch{o(t("login.error.wrongCredentials")),c(!1)}},D=async N=>{if(N.preventDefault(),w(""),S(""),!y){S(t("login.error.enterEmail"));return}c(!0);try{await p(y),w(t("login.reset.successMessage"))}catch(I){S(I.message||t("login.reset.errorMessage"))}c(!1)};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:v?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.reset.title")}),x&&d.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:x}),E&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:E}),d.jsxs("form",{onSubmit:D,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.reset.emailLabel")}),d.jsx("input",{type:"email",id:"reset-email",value:y,onChange:N=>b(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",placeholder:"user@example.com"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 disabled:bg-gray-400",children:t(l?"login.reset.sendingButton":"login.reset.sendButton")})]}),d.jsx("p",{className:"text-center text-gray-600 mt-6",children:d.jsxs("button",{onClick:()=>g(!1),className:"text-green-600 hover:underline font-semibold",children:[" ",t("login.reset.backToLogin")]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:t("login.title")}),a&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:a}),d.jsxs("form",{onSubmit:R,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.emailLabel")}),d.jsx("input",{type:"email",id:"email",value:n,onChange:N=>r(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@example.com"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:t("login.passwordLabel")}),d.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-green-600 hover:underline font-semibold",children:t("login.forgotPassword")})]}),d.jsx("input",{type:"password",id:"password",value:i,onChange:N=>s(N.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:t(l?"login.loggingInButton":"login.loginButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[t("login.noAccount")," ",d.jsx(en,{to:`/${e}/signup`,className:"text-green-600 hover:underline font-semibold",children:t("login.createAccount")})]})]})})})},oge=["gmail.com","outlook.com","hotmail.com","live.com"],lge=()=>{const{wilayas:t,dairas:e,communes:n,locationsLoading:r}=Jt(),{t:i,countryCode:s,language:a}=Ji(),o=ci(),l=Ir(),c=Au[a],u=l.state||{},[f,h]=q.useState(u.email||""),[p,v]=q.useState(u.password||""),[g,y]=q.useState(u.confirmPassword||""),[b,x]=q.useState(u.cafeName||""),[w,E]=q.useState(u.ownerName||""),[S,R]=q.useState(u.street||""),[D,N]=q.useState(()=>c.find(V=>V.code===s)||c[0]),[I,F]=q.useState(u.selectedWilaya||""),[P,k]=q.useState(u.selectedDaira||""),[U,O]=q.useState(u.selectedCommune||""),[X,J]=q.useState(u.genericState||""),[Y,ne]=q.useState(u.genericCity||""),[z,K]=q.useState([]),[B,j]=q.useState([]),[W,H]=q.useState(""),[Q,Z]=q.useState(!1),[se,ce]=q.useState(!1),{signup:ue}=br();q.useEffect(()=>{if(!l.state){const V=c.find(ye=>ye.code===s)||c[0];N(V)}},[s,c,l.state]);const Ee=V=>{const ye=V.target.value,be={email:f,password:p,confirmPassword:g,cafeName:b,ownerName:w,street:S,selectedWilaya:I,selectedDaira:P,selectedCommune:U,genericState:X,genericCity:Y};o(`/${ye}/signup`,{replace:!0,state:be})},Ie=V=>{const ye=V.target.value;F(ye),k(""),O(""),ye?(K(e.filter(be=>be.wilaya_code===ye)),j([])):(K([]),j([]))},fe=V=>{const ye=V.target.value;k(ye),O(""),j(ye&&I?n.filter(be=>be.daira_name===ye&&be.wilaya_code===I):[])},Le=async V=>{var de;V.preventDefault(),H("");const ye=f.split("@")[1];if(!oge.includes(ye)){H(i("signup.errors.allowedDomains"));return}const be=t.length>0;if(!f||!p||!g||!b||!w||!S||!(be&&I&&P&&U)&&!(!be&&X&&Y)){H(i("signup.errors.fillAllFields"));return}if(p!==g){H(i("signup.errors.passwordsMismatch"));return}if(p.length<6){H(i("signup.errors.passwordLength"));return}Z(!0);let le;be?le={wilaya:((de=t.find(ve=>ve.code===I))==null?void 0:de.name)||"",wilaya_code:I,daira:P,commune:U,street:S}:le={state:X,city:Y,street:S};const _e=D.code==="dz"?{amount:200,currency:"DZD"}:{amount:1,currency:"USD"},ie={name:b,owner:w,countryCode:D.code,countryPhoneCode:D.phoneCode,address:le,initialCredits:_e};try{await ue(f,p,ie)?ce(!0):H(i("signup.errors.signupFailed"))}catch(me){me.code==="auth/email-already-in-use"?H("    .        ."):H(i("signup.errors.signupFailed"))}finally{Z(!1)}};return se?d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[d.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i("signup.success.title")}),d.jsxs("p",{className:"text-gray-600 mb-6",children:[i("signup.success.message")," ",d.jsx("strong",{className:"font-semibold",children:f}),".",i("signup.success.instruction")]}),d.jsx(en,{to:`/${s}/login`,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors inline-block",children:i("signup.success.loginButton")})]})}):d.jsx("div",{className:"max-w-lg mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:i("signup.title")}),W&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:W}),d.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.accountInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.email")}),d.jsx("input",{type:"email",id:"email-signup",value:f,onChange:V=>h(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"user@gmail.com / user@outlook.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-signup",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.password")}),d.jsx("input",{type:"password",id:"password-signup",value:p,onChange:V=>v(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.passwordPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.confirmPassword")}),d.jsx("input",{type:"password",id:"confirm-password",value:g,onChange:V=>y(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]})]}),d.jsxs("fieldset",{className:"space-y-4 border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:i("signup.cafeInfo")}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cafeName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.cafeName")}),d.jsx("input",{type:"text",id:"cafeName",value:b,onChange:V=>x(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cafeNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.ownerName")}),d.jsx("input",{type:"text",id:"ownerName",value:w,onChange:V=>E(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.ownerNamePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.country")}),d.jsx("select",{id:"country",value:D.code,onChange:Ee,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:c.map(V=>d.jsx("option",{value:V.code,children:V.name},V.code))})]}),t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"wilaya",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.wilaya")}),d.jsxs("select",{id:"wilaya",value:I,onChange:Ie,required:!0,disabled:r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i(r?"signup.loading":"signup.selectWilaya")}),t.map(V=>d.jsx("option",{value:V.code,children:V.name},V.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"daira",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.daira")}),d.jsxs("select",{id:"daira",value:P,onChange:fe,required:!0,disabled:!I,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectDaira")}),z.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"commune",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.commune")}),d.jsxs("select",{id:"commune",value:U,onChange:V=>O(V.target.value),required:!0,disabled:!P,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:i("signup.selectCommune")}),B.map(V=>d.jsx("option",{value:V.name,children:V.name},V.id))]})]})]}):d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericState",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.state")}),d.jsx("input",{type:"text",id:"genericState",value:X,onChange:V=>J(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.statePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"genericCity",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.city")}),d.jsx("input",{type:"text",id:"genericCity",value:Y,onChange:V=>ne(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.cityPlaceholder")})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:i("signup.street")}),d.jsx("input",{type:"text",id:"street",value:S,onChange:V=>R(V.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:i("signup.streetPlaceholder")})]})]}),d.jsx("button",{type:"submit",disabled:Q||r,className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-gray-400",children:i(Q?"signup.creatingButton":"signup.createButton")})]}),d.jsxs("p",{className:"text-center text-gray-600 mt-6",children:[i("signup.haveAccount")," ",d.jsx(en,{to:`/${s}/login`,className:"text-green-600 hover:underline font-semibold",children:i("signup.loginHere")})]})]})})},xM=()=>{const{user:t}=br(),{cafes:e}=Jt(),{useCafeChatManager:n}=Qf(),{totalUnreadCount:r}=n(),i=e.find(l=>l.id===(t==null?void 0:t.cafeId)),s="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",a="bg-green-600 text-white",o="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:(i==null?void 0:i.name)||" "}),d.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]}),d.jsxs("nav",{className:"flex flex-col gap-2",children:[d.jsxs(zn,{to:"",end:!0,className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"pending-jobs",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{children:" "})]}),d.jsx(zn,{to:"chat",className:({isActive:l})=>`${s} ${l?a:o}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(KI,{className:"h-5 w-5"}),d.jsx("span",{children:""})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(zn,{to:"generate",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"excel-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(_$,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"document-studio",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx(XI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"multi-person-job",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("span",{children:"  "})]}),d.jsxs(zn,{to:"clients",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"settings",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:""})]}),d.jsxs(zn,{to:"billing",className:({isActive:l})=>`${s} ${l?a:o}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]})]})]})},cge=()=>{const{user:t,resendVerificationEmail:e}=br(),[n,r]=q.useState(!1),[i,s]=q.useState(""),[a,o]=q.useState(!1),l=async()=>{o(!0),s("");try{await e(),r(!0),setTimeout(()=>r(!1),5e3)}catch(c){s(c.message||"Failed to send email.")}o(!1)};return!t||t.emailVerified?null:d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md shadow-md",role:"alert",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Mv,{className:"h-6 w-6 mr-3"}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["     .        ",d.jsx("strong",{className:"font-mono",children:t.email}),"."]})]}),n?d.jsxs("div",{className:"flex items-center text-green-600 ml-auto flex-shrink-0",children:[d.jsx(y$,{className:"mr-2"}),d.jsx("span",{className:"font-semibold",children:" !"})]}):d.jsx("button",{onClick:l,disabled:a,className:"ml-auto flex-shrink-0 bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors disabled:opacity-50",children:a?" ...":"   "})]}),i&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]})},_M="1.0",uge="document-templates-v1",j$=q.createContext(void 0),dge=({children:t})=>{const[e,n]=q.useState(!0),[r,i]=q.useState(!1),[s,a]=q.useState(""),[o,l]=q.useState(null);q.useEffect(()=>{(async()=>{try{const f=await Ms("offlineMetadata","syncStatus");f&&f.version===_M?n(!0):n(!1)}catch(f){console.error("Could not check offline status, assuming not ready.",f),n(!1)}})()},[]);const c=q.useCallback(async()=>{i(!0),l(null),a(" ...");try{a("   ...");const[u,f,h,p,v]=await Promise.all([Py(),Dp.getAll(),tf.getAll(),hm.getAll(),A_()]);a("     ..."),await Promise.all([Ci("fullDocuments",u),Ci("staticDocuments",f),Ci("sites",h),Ci("baseTemplates",p),ur("siteSettings",{...v,id:"main"})]),a("   ...");const g=u.map(b=>b.finalTemplateUrl).filter(b=>!!b);await(await caches.open(uge)).addAll(g),a("  ..."),await ur("offlineMetadata",{id:"syncStatus",version:_M,lastUpdated:new Date().toISOString()}),n(!0)}catch(u){console.error("Offline sync failed:",u);let f="     .";u instanceof Error&&(u.message.includes("404")?f="    ( 404).      .        .":u.message.toLowerCase().includes("failed to fetch")?f="  .     .":f=u.message),l(f)}finally{i(!1),a("")}},[]);return d.jsx(j$.Provider,{value:{isOfflineReady:e,isSyncing:r,syncProgress:s,syncError:o,startSync:c},children:t})},fge=()=>{const t=q.useContext(j$);if(t===void 0)throw new Error("useOfflineSync must be used within an OfflineSyncProvider");return t},hge=()=>{const{isOfflineReady:t,isSyncing:e,syncProgress:n,syncError:r,startSync:i}=fge(),[s,a]=q.useState(sessionStorage.getItem("offlineSyncDismissed")==="true"),o=()=>{sessionStorage.setItem("offlineSyncDismissed","true"),a(!0)};return t||s?null:d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg text-center p-8 space-y-4 relative",children:[d.jsx("button",{onClick:o,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 p-2","aria-label":"",children:d.jsx(If,{size:20})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"   "}),d.jsx("p",{className:"text-gray-600",children:"            .      ."}),e?d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx(Dt,{className:"animate-spin text-4xl text-green-600 mx-auto"}),d.jsx("p",{className:"font-semibold text-green-700",children:n||" ..."})]}):d.jsxs("div",{className:"pt-4",children:[r&&d.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 flex items-center text-right gap-2",children:[d.jsx(Mv,{className:"flex-shrink-0"}),d.jsxs("span",{children:[": ",r]})]}),d.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Nu,{}),d.jsx("span",{children:r?"  ":"    "})]})]})]})})},pge=()=>{const[t,e]=q.useState(!0),n=()=>{sessionStorage.setItem("extensionNotificationDismissed","true"),e(!1)};return t?d.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md shadow-md relative mb-6 animate-fadeIn",role:"alert",children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(Nu,{className:"h-6 w-6 text-blue-500 ml-4 rtl:ml-0 rtl:mr-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"    "}),d.jsxs("p",{className:"text-sm",children:["          .",d.jsx("a",{href:"https://files.gitut.com/data/add-on/gitut.zip",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline mr-2 rtl:mr-0 rtl:ml-2 hover:text-blue-600",children:"  "}),"."]})]})]}),d.jsx("button",{onClick:n,className:"absolute top-0 bottom-0 left-0 px-4 py-3 rtl:left-auto rtl:right-0","aria-label":"",children:d.jsx(If,{className:"h-5 w-5 text-blue-500 hover:text-blue-700"})})]}):null},mge=()=>d.jsx("div",{className:"flex items-center justify-center h-full min-h-[50vh]",children:d.jsxs("div",{className:"max-w-2xl text-center p-8",children:[d.jsx(g$,{className:"text-5xl text-yellow-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   !"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"   Gitut.                 ."}),d.jsxs(en,{to:"settings",className:"inline-flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(Gd,{}),d.jsx("span",{children:"     "})]})]})}),gge=()=>{const{loadFullDocuments:t,cafes:e,loading:n}=Jt(),{user:r,refetchUser:i}=br(),s=Ir(),a=s.pathname.includes("document-studio")||s.pathname.includes("excel-studio"),o=s.pathname.endsWith("/settings"),[l,c]=q.useState(!1),u=Ro.useMemo(()=>e.find(h=>h.id===(r==null?void 0:r.cafeId)),[e,r]);q.useEffect(()=>{t()},[t]),q.useEffect(()=>{i()},[i]),q.useEffect(()=>{let h=!1;const p=g=>{var y,b;g.source===window&&((y=g.data)==null?void 0:y.source)==="gitut-extension"&&((b=g.data)==null?void 0:b.type)==="pong"&&(h=!0,c(!1),window.removeEventListener("message",p))};window.addEventListener("message",p),window.postMessage({source:"gitut-webapp",type:"ping"},"*");const v=setTimeout(()=>{h||sessionStorage.getItem("extensionNotificationDismissed")||c(!0)},1500);return()=>{clearTimeout(v),window.removeEventListener("message",p)}},[]);const f=u&&!u.isProfilePublished&&!o;return n?d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(xM,{}),d.jsx("main",{className:"flex-1 w-full flex items-center justify-center p-10 h-[60vh]",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(hge,{}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(xM,{}),d.jsxs("main",{className:"flex-1 w-full space-y-6",children:[l&&d.jsx(pge,{}),d.jsx(cge,{}),d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:f?d.jsx(mge,{}):d.jsx(xN,{})})]})]})]})},hC=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",yge=()=>{const{documents:t,staticDocuments:e,sites:n}=Jt(),[r,i]=q.useState("");ci();const[s,a]=q.useState(!1),o=q.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition,c=!!l,[u,f]=q.useState(!1),h=q.useMemo(()=>[...t.map(g=>({item:g,type:"doc"})),...e.map(g=>({item:g,type:"staticDoc"})),...n.filter(g=>g.type==="template").map(g=>({item:g,type:"site"}))],[t,e,n]),p=q.useMemo(()=>{if(!r.trim())return[];const g=hC(r);return h.filter(({item:y})=>hC(y.name).includes(g)||"description"in y&&y.description&&hC(y.description).includes(g))},[r,h]);q.useEffect(()=>{if(!c)return;const g=new l;return g.continuous=!1,g.interimResults=!1,g.lang="ar-SA",g.onresult=y=>{const b=y.results[0][0].transcript;i(b)},g.onerror=y=>{console.error("Speech recognition error",y.error)},g.onend=()=>{a(!1)},o.current=g,()=>{o.current&&o.current.abort()}},[c]);const v=()=>{var g,y;if(!c){alert("     .");return}s?(g=o.current)==null||g.stop():((y=o.current)==null||y.start(),a(!0))};return d.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[d.jsxs("form",{onSubmit:g=>g.preventDefault(),className:"relative",children:[d.jsx(B4,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"    ...",value:r,onChange:g=>i(g.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),className:"w-full p-3 pl-12 pr-12 bg-white border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500"}),c&&d.jsx("button",{type:"button",onClick:v,title:" ",className:`absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full transition-colors ${s?"bg-red-500 text-white animate-pulse":"text-gray-600 hover:bg-gray-100"}`,children:d.jsx(gc,{})})]}),u&&p.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-30 max-h-80 overflow-y-auto",children:p.map(({item:g,type:y})=>{let b="",x={},w=j4;const E="description"in g?g.description:g.url||"";return y==="doc"?(b="/app/generate",x={selectedDocId:g.id},w=j4):y==="site"?(b=`/app/fill-site/${g.id}`,w=I_):y==="staticDoc"&&(b=`/app/view-pdf/${g.id}`,w=hw),d.jsx("li",{children:d.jsxs(en,{to:b,state:x,className:"flex items-center gap-3 px-4 py-3 hover:bg-green-50",children:[d.jsx(w,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),d.jsxs("div",{className:"flex-grow overflow-hidden",children:[d.jsx("p",{className:"font-semibold text-gray-800 truncate",children:g.name}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:E})]})]})},`${y}-${g.id}`)})})]})},vge=({isOpen:t,onClose:e,cafeName:n,numericId:r})=>{if(!t)return null;const i=()=>{window.print()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm relative",children:[d.jsx("div",{className:"p-6",children:d.jsxs("div",{id:"printable-id",className:"text-center p-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),r?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"mb-4 text-gray-600",children:"    :"}),d.jsx("p",{className:"text-6xl font-bold text-green-600 tracking-widest bg-gray-100 p-4 rounded-lg",children:r}),d.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"       ."})]}):d.jsx("p",{className:"text-lg text-gray-500 my-8",children:"     ."})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between items-center",children:[d.jsxs("button",{onClick:i,disabled:!r,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(pw,{}),d.jsx("span",{children:""})]}),d.jsx("button",{onClick:e,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},xge=()=>{const{user:t}=br(),{documents:e,sites:n,cafes:r,siteSettings:i,loading:s}=Jt(),[a,o]=q.useState([]),[l,c]=q.useState(null),[u,f]=q.useState(!0),[h,p]=q.useState(!1),v=q.useMemo(()=>t!=null&&t.cafeId?e.filter(x=>!x.cafeId||x.cafeId===t.cafeId):[],[e,t]);if(q.useEffect(()=>{(async()=>{if(!(t!=null&&t.cafeId)||s){!s&&!(t!=null&&t.cafeId)&&f(!1);return}f(!0);let w=r.find(E=>E.id===t.cafeId)||null;if(!w)try{w=await zI(t.cafeId)}catch(E){console.error("Failed to fetch cafe details directly:",E)}c(w);try{const S=(await dm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").get()).docs.map(R=>({id:R.id,...R.data()}));o(S)}catch(E){console.error("Failed to fetch dashboard data from Firestore:",E)}finally{f(!1)}})()},[t,r,s]),s||u)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})});if(!l)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"       ."})]});const g=a.filter(x=>x.status==="Pending").length,y=(t==null?void 0:t.credits.currency)==="DZD"?t.credits.amount<50:t.credits.amount<5,b=y?{bg:"bg-red-100",text:"text-red-800",valueText:"text-red-900 font-mono",linkText:"text-red-700"}:{bg:"bg-green-100",text:"text-green-800",valueText:"text-green-900 font-mono",linkText:"text-green-700"};return d.jsxs("div",{className:"space-y-8",children:[t&&l&&d.jsx(vge,{isOpen:h,onClose:()=>p(!1),cafeName:l.name,numericId:l.numericId}),d.jsx(yge,{}),d.jsx(bl,{placement:"DASHBOARD_TOP"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-gray-500",children:"       ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:g}),d.jsx(en,{to:"pending-jobs",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"   "})]}),d.jsxs("div",{className:"bg-gray-200 p-6 rounded-lg shadow-sm",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:" "}),d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:v.length}),d.jsx(en,{to:"generate",className:"text-gray-700 hover:underline mt-4 inline-block font-semibold",children:"  "})]}),d.jsxs("div",{className:`${b.bg} p-6 rounded-lg shadow-sm`,children:[d.jsx("h2",{className:`text-lg font-semibold ${b.text} mb-2`,children:" "}),d.jsxs("p",{className:`text-3xl font-bold ${b.valueText}`,children:[t==null?void 0:t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:t.credits.currency==="USD"?2:0}),d.jsxs("span",{className:"text-xl",children:[" ",(t==null?void 0:t.credits.currency)==="DZD"?"":"$"]})]}),d.jsxs(en,{to:"billing",className:`${b.linkText} hover:underline mt-4 inline-block font-semibold`,children:[y?"  ":" "," "]})]}),d.jsxs("div",{className:"bg-gray-700 text-white p-6 rounded-lg shadow-sm flex flex-col justify-center items-center",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"   "}),d.jsx("p",{className:"text-sm text-center text-gray-300 mb-3",children:"       ."}),d.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-white text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Dme,{}),d.jsx("span",{children:"  "})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(x=>d.jsxs(en,{to:"generate",state:{selectedDocId:x.id},className:"block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:x.description}})]},x.id))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(x=>{const w="block text-right p-4 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400",E=d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800",children:x.name}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:x.type==="static"?"  ":`  : ${x.url}`})]})]});return x.type==="template"?d.jsx(en,{to:`fill-site/${x.id}`,className:w,children:E},x.id):d.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:w,children:E},x.id)})})]})]})]})},_ge='<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><circle cx="50" cy="50" r="50" fill="#ccc"/><g><path d="M50 62.5c-10.3 0-18.75 8.45-18.75 18.75V87.5h37.5v-6.25c0-10.3-8.45-18.75-18.75-18.75z" fill="#fff"/><path d="M50 25c-6.9 0-12.5 5.6-12.5 12.5S43.1 50 50 50s12.5-5.6 12.5-12.5S56.9 25 50 25z" fill="#fff"/></g></svg>',bge=`data:image/svg+xml;base64,${btoa(_ge)}`,wge=async(t,e)=>{try{const n=`Translate the following HTML content to ${e}. Keep the HTML structure and tags intact, only translate the text nodes. HTML: ${t}`,r=O$({model:"gem-2.5-flash",contents:n});let i="";for await(const s of r)i+=s;return i}catch(n){throw console.error("Translation via service failed:",n),new Error("Failed to translate document content.")}},Fy=async(t,e,n,r)=>{try{let i;for(let c=t.length-1;c>=0;c--){const u=t[c];if(u.id===e||u.slug===e||u.name===e){i=u;break}}let s="";if(r.templateType==="final"){if(i!=null&&i.finalTemplateHtml)s=i.finalTemplateHtml;else if(i!=null&&i.finalTemplateUrl){const c=await fetch(mi(i.finalTemplateUrl));if(!c.ok)throw new Error(`Could not fetch final template from ${mi(i.finalTemplateUrl)}`);s=await c.text()}}else if(i!=null&&i.previewTemplateHtml)s=i.previewTemplateHtml;else if(i!=null&&i.previewTemplateUrl){const c=await fetch(mi(i.previewTemplateUrl));if(!c.ok)throw new Error(`Could not fetch preview template from ${mi(i.previewTemplateUrl)}`);s=await c.text()}s||(console.error(`Template type '${r.templateType}' for document '${(i==null?void 0:i.name)||e}' not found. This is likely because the template data is not available to public users.`),s=`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title>   </title>
                    <style>
                        body { font-family: 'Cairo', sans-serif; padding: 2rem; text-align: center; color: #333; }
                        .container { max-width: 600px; margin: auto; padding: 2rem; border: 1px solid #eee; border-radius: 8px; background-color: #f9f9f9; }
                        h1 { color: #d9534f; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>   </h1>
                        <p>         "${(i==null?void 0:i.name)||e}".</p>
                        <p>            .        .</p>
                    </div>
                </body></html>
            `),r.targetLang!=="ar"&&!s.includes("<h1>   </h1>")&&(s=await wge(s,r.targetLang));const o=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});if(s=s.replace(/\[DateToday\]/g,o),s.includes("[profilePicture]")){const u=`<img src="${n.profilePicture?mi(n.profilePicture):bge}" alt="Profile Picture" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #eee;">`;s=s.replace(/\[profilePicture\]/g,u)}if(Object.keys(n).forEach(c=>{if(c!=="profilePicture"){const u=new RegExp(`\\[${c}\\]`,"g");s=s.replace(u,n[c]||"")}}),Object.keys(Jr).forEach(c=>{const u=c;if(!n.hasOwnProperty(u)){const f=new RegExp(`\\[${u}\\]`,"g");s=s.replace(f,"")}}),s=s.replace(/\[[^\]]+\]/g,""),r.action==="download"){const c=document.createElement("div");c.style.width="794px",c.style.padding="20px",c.style.position="absolute",c.style.left="-9999px",c.innerHTML=s,document.body.appendChild(c),await html2canvas(c,{scale:2}).then(u=>{const f=u.toDataURL("image/png"),{jsPDF:h}=jspdf,p=new h({orientation:"portrait",unit:"pt",format:"a4"}),v=p.internal.pageSize.getWidth(),g=p.internal.pageSize.getHeight(),y=u.width,b=u.height,x=y/b,w=v/g;let E,S;x>w?(E=v,S=v/x):(S=g,E=g*x),p.addImage(f,"PNG",0,0,E,S);const R=`${(i==null?void 0:i.slug)||e}.pdf`;p.save(R)}),document.body.removeChild(c);return}const l=window.open("","_blank");l?(l.document.write(s),l.document.close(),l.onload=function(){l.focus(),r.action==="print"&&l.print()}):alert("     .")}catch(i){throw console.error("Error generating document:",i),alert(`    : ${i.message}.`),i}},Tge=()=>{const{user:t}=br(),{fullDocuments:e,loadingFullDocuments:n}=Jt(),[r,i]=q.useState([]),[s,a]=q.useState(!0),[o,l]=q.useState(null),[c,u]=q.useState(!1),[f,h]=q.useState(!1),[p,v]=q.useState("");q.useEffect(()=>{if(!(t!=null&&t.cafeId)){a(!1);return}let x=!0;const w=new Map,E=()=>{if(x){const I=Array.from(w.values()).sort((F,P)=>P.createdAt-F.createdAt);i(I)}};(async()=>{a(!0);try{(await Kn("jobs")).filter(P=>P.cafeId===t.cafeId).forEach(P=>w.set(P.id,P)),E()}catch(I){console.error("Failed to load jobs from IndexedDB",I)}finally{x&&a(!1)}})();const D=dm.collection("jobs").where("cafeId","==",t.cafeId).orderBy("createdAt","desc").onSnapshot(I=>{I.docs.forEach(F=>{const P={id:F.id,...F.data()};w.set(P.id,P)}),E()},I=>{console.error("Firestore listener error:",I)});let N;if(qn){const I=qn.get("jobs").get(t.cafeId),F=(P,k)=>{if(P&&typeof P=="object"&&!w.has(k)){console.log(`Optimistically adding P2P job from Gun: ${k}`);const U={...P,id:k,documentIds:typeof P.documentIds=="string"?JSON.parse(P.documentIds):P.documentIds,visitorData:typeof P.visitorData=="string"?JSON.parse(P.visitorData):P.visitorData};w.set(U.id,U),E()}};I.map().on(F),N=()=>I.off()}return()=>{x=!1,D(),N&&N()}},[t]);const g=async(x,w)=>{if(!(!x.audioRecordingUrl&&!x.transcribedText)){h(!0),v("");try{const E=new Set;x.documentIds.forEach(k=>{const U=e.find(O=>O.id===k);U==null||U.requiredFields.forEach(O=>E.add(O))});const S=Array.from(E).map(k=>{var U;return(U=Jr[k])==null?void 0:U.label}).filter(Boolean),R={};E.forEach(k=>{R[k]={type:"STRING",description:Jr[k].label}});const D={type:"OBJECT",properties:R};let N;if(x.transcribedText)N={transcribedText:x.transcribedText};else if(x.audioRecordingUrl){const U=await(await fetch(mi(x.audioRecordingUrl))).blob(),O=new FileReader;N={audioBase64:await new Promise(J=>{O.onloadend=()=>J(O.result.split(",")[1]),O.readAsDataURL(U)})}}else throw new Error("No data (audio or text) available to process.");const I=await ege(N,D,S),F={...x.visitorData,...I},P={...x,visitorData:F};if(await ur("jobs",P),i(k=>k.map(U=>U.id===x.id?P:U)),l(P),w==="open"||w==="print"){u(!0);for(const k of P.documentIds)await Fy(e,k,P.visitorData,{action:w,targetLang:"ar",templateType:"final"});await y(x.id,P),u(!1)}}catch(E){console.error("Data processing failed:",E),E instanceof Error?v(E.message):v("   .")}finally{h(!1)}}},y=async(x,w)=>{const E=w||r.find(S=>S.id===x);if(E){u(!0);try{if(!w){alert(`  .    ${E.documentIds.length} () .`);for(const D of E.documentIds)await Fy(e,D,E.visitorData,{action:"print",targetLang:"ar",templateType:"final"})}const{id:S,...R}=E;await ime(S,{...R,status:"Completed"}),await kf("jobs",x),i(D=>D.map(N=>N.id===x?{...N,status:"Completed"}:N)),l(D=>D&&D.id===x?{...D,status:"Completed"}:D)}catch(S){console.error("Failed to complete job:",S),alert("   .")}finally{u(!1)}}},b=x=>{switch(x){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Completed":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Cancelled":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return n||s?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-[70vh] overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:["  (",r.length,")"]}),r.length>0?d.jsx("div",{className:"space-y-3",children:r.map(x=>d.jsxs("button",{onClick:()=>l(x),className:`w-full text-right p-3 rounded-lg border-2 transition-colors ${(o==null?void 0:o.id)===x.id?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[x.audioRecordingUrl&&d.jsx(C$,{className:"text-blue-500"}),d.jsx("span",{children:x.visitorData.fullName||""})]}),b(x.status)]}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.createdAt).toLocaleString("ar-DZ")})]},x.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border shadow-sm",children:o?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-start mb-4 pb-4 border-b",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[" : ",o.id]}),d.jsxs("p",{className:"text-gray-500",children:[": ",d.jsx("span",{className:"font-semibold text-gray-700",children:o.visitorData.fullName})]})]}),b(o.status)]}),(o.audioRecordingUrl||o.transcribedText)&&!o.visitorData.birthdaydate&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4 space-y-3",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800",children:"  "}),o.audioRecordingUrl&&d.jsx("audio",{controls:!0,src:mi(o.audioRecordingUrl),className:"w-full"}),o.transcribedText&&d.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-100",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"    :"}),d.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:o.transcribedText})]}),f&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(Dt,{className:"animate-spin"}),d.jsx("span",{children:"    ..."})]}),p&&d.jsx("p",{className:"text-sm text-red-600",children:p}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 pt-2",children:[d.jsxs("button",{onClick:()=>g(o,"edit"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600 disabled:bg-gray-400",children:[d.jsx(fw,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"open"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(Sme,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>g(o,"print"),disabled:f,className:"flex items-center justify-center gap-2 p-2 bg-green-500 text-white font-semibold rounded-md hover:bg-green-600 disabled:bg-gray-400",children:[d.jsx(pw,{})," ",d.jsx("span",{children:" "})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:o.documentIds.map(x=>{const w=e.find(E=>E.id===x);return d.jsx("li",{children:(w==null?void 0:w.name)||"  "},x)})})]}),o.visitorData.birthdaydate&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:" :"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm bg-gray-50 p-4 rounded-md",children:Object.entries(o.visitorData).map(([x,w])=>{const E=Jr[x];return(E==null?void 0:E.type)==="file"?d.jsxs("div",{className:"sm:col-span-2",children:[d.jsxs("strong",{className:"text-gray-500",children:[E.label,": "]}),d.jsx("img",{src:mi(w),alt:" ",className:"mt-1 h-24 w-24 rounded-md object-cover border"})]},x):d.jsxs("div",{children:[d.jsxs("strong",{className:"text-gray-500",children:[(E==null?void 0:E.label)||x,": "]}),d.jsx("span",{className:"text-gray-800",children:String(w)})]},x)})})]}),o.status==="Pending"&&o.visitorData.birthdaydate&&d.jsx("button",{onClick:()=>y(o.id),disabled:c,className:"w-full mt-6 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",children:c?"  ...":"    "})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"   "}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       ."})]})})]})]})},Ege=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null);q.useEffect(()=>((async()=>{a(null);try{const c=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480,facingMode:"environment"}});i.current=c,n.current&&(n.current.srcObject=c)}catch(c){console.error("Error accessing camera:",c),c instanceof DOMException&&(c.name==="NotAllowedError"||c.name==="PermissionDeniedError")?a("    .      ."):a("    .          .")}})(),()=>{i.current&&i.current.getTracks().forEach(c=>c.stop())}),[]);const o=()=>{if(n.current&&r.current){const l=n.current,c=r.current;c.width=l.videoWidth,c.height=l.videoHeight;const u=c.getContext("2d");u==null||u.drawImage(l,0,0,c.width,c.height);const f=c.toDataURL("image/jpeg");e(f),t()}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[s?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:s})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:o,disabled:!!s,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},Cge=({onDataExtracted:t})=>{const[e,n]=q.useState(!1),[r,i]=q.useState(!1),[s,a]=q.useState(null),o=q.useRef(null),[l,c]=q.useState(!1),u=p=>{var g;const v=(g=p.target.files)==null?void 0:g[0];if(v){const y=new FileReader;y.onloadend=()=>{const x=y.result.split(",")[1];h(x,v.type)},y.readAsDataURL(v)}},f=p=>{var b;const v=p.split(","),g=((b=v[0].match(/:(.*?);/))==null?void 0:b[1])||"image/jpeg",y=v[1];h(y,g)},h=async(p,v)=>{i(!0),a(null);try{const b=await ZI(p,v,{type:"OBJECT",properties:{lastName:{type:"STRING",description:"Last name"},firstName:{type:"STRING",description:"First name"},dateOfBirth:{type:"STRING",description:"Date of birth in YYYY-MM-DD format"},placeOfBirth:{type:"STRING",description:"Place of birth"},nationalId:{type:"STRING",description:"18-digit national ID number"},birthCertificateNumber:{type:"STRING",description:"Birth certificate number"},socialSecurityNumber:{type:"STRING",description:"Social security number"},nationality:{type:"STRING",description:"Nationality"},maritalStatus:{type:"STRING",description:"Marital status (e.g., single, married)"}}},"From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.");if(Object.keys(b).length===0)throw new Error("The model did not return any data. The document might be unclear or not supported.");const x=`${b.firstName||""} ${b.lastName||""}`.trim();t({fullName:x||void 0,dob:b.dateOfBirth,pob:b.placeOfBirth,nationalId:b.nationalId,birthCertificateNumber:b.birthCertificateNumber,socialSecurityNumber:b.socialSecurityNumber,nationality:b.nationality,maritalStatus:b.maritalStatus})}catch(g){console.error("Error processing ID card:",g);const y=g instanceof Error?g.message:"An unknown error occurred.";a(`    . ${y}`)}finally{i(!1),o.current&&(o.current.value="")}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[l&&d.jsx(Ege,{onClose:()=>c(!1),onCapture:f}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:p=>n(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx(w$,{className:"text-gray-600"}),d.jsx("span",{children:"    "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-2",children:[d.jsx("input",{type:"file",ref:o,onChange:u,accept:"image/*",className:"hidden"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Dt,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Al,{}),d.jsx("span",{children:"  "})]})}),d.jsx("button",{type:"button",onClick:()=>c(!0),disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-200 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Dt,{className:"animate-spin"}),d.jsx("span",{children:" ..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Bm,{}),d.jsx("span",{children:" "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},Sge=t=>{const e=new Map;t.forEach(r=>{e.has(r.groupId)||e.set(r.groupId,[]),e.get(r.groupId).push(r)});const n=[];for(const r of e.values())r.sort((i,s)=>i.id.localeCompare(s.id)),n.push(r[0]);return n},Dge=()=>{const{siteSettings:t,fullDocuments:e,loadingFullDocuments:n,loading:r}=Jt(),i=Ir(),s=ci(),{user:a,updateUserCredits:o}=br(),{t:l}=Ji(),[c,u]=q.useState(null),[f,h]=q.useState({}),[p,v]=q.useState(!1),[g,y]=q.useState(!0),[b,x]=q.useState(""),[w,E]=q.useState([]),[S,R]=q.useState(0),[D,N]=q.useState(!1),[I,F]=q.useState(!1),[P,k]=q.useState("idle"),[U,O]=q.useState(null);q.useRef(null),q.useRef("");const[X,J]=q.useState("");q.useRef(null),q.useRef([]);const[Y,ne]=q.useState(""),[z,K]=q.useState(1),B=q.useMemo(()=>{const Ie=e.filter(fe=>!fe.cafeId||fe.cafeId===(a==null?void 0:a.cafeId));return Sge(Ie)},[e,a]);q.useEffect(()=>{var fe;const Ie=(fe=i.state)==null?void 0:fe.selectedDocId;if(Ie&&!c&&e.length>0){const Le=e.find(V=>V.id===Ie);Le&&(W(Le),s(i.pathname,{replace:!0,state:{}}))}},[i.state,e,c,s]);const j=q.useMemo(()=>c?c.requiredFields.filter(Ie=>Ie!=="DateToday"):[],[c]);q.useMemo(()=>j.some(Ie=>Ie==="profilePicture"),[j]);const W=Ie=>{const fe=e.filter(V=>V.groupId===Ie.groupId).sort((V,ye)=>V.id.localeCompare(ye.id)),Le=fe.findIndex(V=>V.id===Ie.id);E(fe),R(Le>=0?Le:0),h({}),x(""),N(!1),F(!1)};q.useEffect(()=>{(async()=>{if(w.length>0){const fe=w[S];if(u(fe),x(""),fe.previewTemplateHtml)x(fe.previewTemplateHtml);else if(fe.previewTemplateUrl)try{const Le=await fetch(fe.previewTemplateUrl);Le.ok?x(await Le.text()):x('<p class="text-center p-8 text-gray-500">   .</p>')}catch{x('<p class="text-center p-8 text-red-500">  .</p>')}else x('<p class="text-center p-8 text-gray-500">   .</p>')}})()},[w,S]);const H=()=>R(Ie=>(Ie+1)%w.length),Q=()=>R(Ie=>(Ie-1+w.length)%w.length),Z=async Ie=>{if(!Ie){se("profilePicture","");return}v(!0);try{const fe=await N$(Ie,"profile.jpg"),Le=await fm(fe);se("profilePicture",Le)}catch{ne("  .")}finally{v(!1)}},se=(Ie,fe)=>{h(Le=>({...Le,[Ie]:fe}))},ce=async Ie=>{if(!c||!a||!t)return;const fe=a.credits.currency==="USD"?t.pricing.dynamicDocument.usd:t.pricing.dynamicDocument.dzd,Le=a.credits.currency==="USD"?"$":"";if(a.credits.amount<fe){alert(`  .    ${fe} ${Le}   ${a.credits.amount} ${Le}.`),s(`/${a.countryCode}/app/billing`);return}v(!0);const V=a.credits.amount;try{await Fy(e,c.id,f,{action:Ie,targetLang:"ar",templateType:"final"})}catch(be){console.error("Document generation failed:",be),v(!1),alert("  .     .");return}const ye=V-fe;o(ye);try{await zpe({id:Date.now(),amount:fe,currency:a.credits.currency}),alert(`    ${fe} ${Le}  .  : ${ye.toFixed(2)} ${Le}.`)}catch(be){if(console.error("Failed to queue credit deduction:",be),navigator.onLine)try{await HI(a,fe)}catch{alert(":       .   .")}else alert(":       .   .")}u(null),h({}),E([]),v(!1)};if(n||r)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})});const ue=(a==null?void 0:a.credits.currency)==="USD"?t==null?void 0:t.pricing.dynamicDocument.usd:t==null?void 0:t.pricing.dynamicDocument.dzd,Ee=(a==null?void 0:a.credits.currency)==="USD"?"$":"";return c?d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:[": ",c.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[ue," ",Ee]})]})]}),d.jsx("button",{onClick:()=>{u(null),x(""),E([])},className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border relative",children:[d.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:" "}),w.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Q,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(dw,{})}),d.jsx("button",{onClick:H,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-40 text-white p-2 rounded-full",children:d.jsx(uw,{})}),d.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[S+1," / ",w.length]})]}),d.jsx("iframe",{srcDoc:b,title:"Document Preview",className:"w-full h-[70vh] border rounded-md bg-white"})]})]}),d.jsx("div",{className:"lg:col-span-1 space-y-4 lg:sticky lg:top-8",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),d.jsx(Cge,{onDataExtracted:Ie=>h(fe=>({...fe,...Ie}))}),d.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:j.map(Ie=>{var le,he,_e;const Le=Object.prototype.hasOwnProperty.call(Jr,Ie)?Jr[Ie]:null,V=(le=c==null?void 0:c.fieldCustomizations)==null?void 0:le[Ie],ye=((he=c==null?void 0:c.questions)==null?void 0:he[Ie])||(V==null?void 0:V.customQuestion)||(Le?l(Le.label):Ie),be=(V==null?void 0:V.type)||(Le==null?void 0:Le.type)||"text",oe=Le?l(Le.placeholder):"",re=(V==null?void 0:V.options)||(Le==null?void 0:Le.options);if(be==="select"&&re)return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Ie,className:"block text-sm font-medium text-gray-700 mb-1",children:ye}),d.jsxs("select",{id:Ie,name:Ie,value:f[Ie]||"",onChange:ie=>se(ie.target.name,ie.target.value),className:"w-full p-2 border rounded-md bg-white",required:!0,children:[d.jsx("option",{value:"",children:"--  --"}),V!=null&&V.options?V.options.map(ie=>d.jsx("option",{value:ie,children:ie},ie)):(_e=Le==null?void 0:Le.options)==null?void 0:_e.map(ie=>d.jsx("option",{value:ie.value,children:l(ie.label)},ie.value))]})]},Ie);if(be==="multiselect"&&re){const ie=f[Ie]?f[Ie].split(","):[],de=(me,ve)=>{const De=ve?[...ie,me]:ie.filter(Ue=>Ue!==me);se(Ie,De.filter(Boolean).join(","))};return d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:ye}),d.jsx("div",{className:"p-3 border rounded-md space-y-2 bg-gray-50",children:re.map(me=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",value:me,checked:ie.includes(me),onChange:ve=>de(me,ve.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("span",{className:"text-gray-800",children:me})]},me))})]},Ie)}return d.jsxs("div",{children:[d.jsx("label",{htmlFor:Ie,className:"block text-sm font-medium text-gray-700 mb-1",children:ye}),be==="file"?d.jsx(Lv,{value:f[Ie]||"",onChange:ie=>Z(ie)}):d.jsx("input",{type:be,id:Ie,name:Ie,value:f[Ie]||"",onChange:ie=>se(ie.target.name,ie.target.value),placeholder:oe,className:"w-full p-2 border rounded-md",required:!0})]},Ie)})}),d.jsxs("div",{className:"mt-6 pt-4 border-t space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"saveClient",type:"checkbox",checked:g,onChange:Ie=>y(Ie.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"    "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>ce("open"),disabled:p,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:p?d.jsx(Dt,{className:"animate-spin mx-auto"}):""}),d.jsx("button",{onClick:()=>ce("print"),disabled:p,className:"flex-1 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400",children:p?d.jsx(Dt,{className:"animate-spin mx-auto"}):""})]})]})]})})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(Ie=>d.jsxs("button",{onClick:()=>W(Ie),className:"text-right p-6 border rounded-lg transition-all duration-200 bg-white hover:bg-green-50 hover:shadow-md hover:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-500",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800",children:Ie.name}),d.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:Ie.description}})]},Ie.id))})]})},Age=({children:t})=>{const{user:e,loading:n}=br(),{countryCode:r}=Bs();return n?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):!e||!e.emailVerified?d.jsx(hp,{to:`/${r||"dz"}/login`,replace:!0}):t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="firebasestorage.googleapis.com",V$="storageBucket",Nge=120*1e3,kge=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends gs{constructor(e,n,r=0){super(pC(e),`Firebase Storage: ${n} (${pC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jr||(jr={}));function pC(t){return"storage/"+t}function e3(){const t="An unknown error occurred, please check the error payload for server response.";return new qr(jr.UNKNOWN,t)}function Ige(t){return new qr(jr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Rge(t){return new qr(jr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Pge(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qr(jr.UNAUTHENTICATED,t)}function Fge(){return new qr(jr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Mge(t){return new qr(jr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Uge(){return new qr(jr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Oge(){return new qr(jr.CANCELED,"User canceled the upload/download.")}function Lge(t){return new qr(jr.INVALID_URL,"Invalid URL '"+t+"'.")}function jge(t){return new qr(jr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Bge(){return new qr(jr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+V$+"' property when initializing the app?")}function Vge(){return new qr(jr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wge(){return new qr(jr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qge(t){return new qr(jr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function W4(t){return new qr(jr.INVALID_ARGUMENT,t)}function W$(){return new qr(jr.APP_DELETED,"The Firebase app was deleted.")}function zge(t){return new qr(jr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function B0(t,e){return new qr(jr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hg(t){throw new qr(jr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ea.makeFromUrl(e,n)}catch{return new Ea(e,"")}if(r.path==="")return r;throw jge(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},g=n===B$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const S=w[E],R=S.regex.exec(e);if(R){const D=R[S.indices.bucket];let N=R[S.indices.path];N||(N=""),r=new Ea(D,N),S.postModify(r);break}}if(r==null)throw Lge(e);return r}}class Hge{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ge(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,...b){if(c){h();return}if(y){h(),u.call(null,y,...b);return}if(l()||a){h(),u.call(null,y,...b);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,f(w)}let v=!1;function g(y){v||(v=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),f(0)):y||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,g(!0)},n),g}function Gge(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kge(t){return t!==void 0}function Xge(t){return typeof t=="object"&&!Array.isArray(t)}function t3(t){return typeof t=="string"||t instanceof String}function bM(t){return n3()&&t instanceof Blob}function n3(){return typeof Blob<"u"}function wM(t,e,n,r){if(r<e)throw W4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw W4(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function q$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var lf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(lf||(lf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jge(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yge{constructor(e,n,r,i,s,a,o,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new w1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===lf.NO_ERROR,l=s.getStatus();if(!o||Jge(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===lf.ABORT;r(!1,new w1(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new w1(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Kge(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=e3();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?W$():Oge();a(l)}else{const l=Uge();a(l)}};this.canceled_?n(!1,new w1(!1,null,!0)):this.backoffId_=$ge(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Gge(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class w1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Qge(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Zge(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function e0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function t0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function n0e(t,e,n,r,i,s,a=!0,o=!1){const l=q$(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return e0e(u,e),Qge(u,n),Zge(u,s),t0e(u,r),new Yge(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function i0e(...t){const e=r0e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(n3())return new Blob(t);throw new qr(jr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function s0e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0e(t){if(typeof atob>"u")throw qge("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mC{constructor(e,n){this.data=e,this.contentType=n||null}}function o0e(t,e){switch(t){case ml.RAW:return new mC(z$(e));case ml.BASE64:case ml.BASE64URL:return new mC(H$(t,e));case ml.DATA_URL:return new mC(c0e(e),u0e(e))}throw e3()}function z$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function l0e(t){let e;try{e=decodeURIComponent(t)}catch{throw B0(ml.DATA_URL,"Malformed data URL.")}return z$(e)}function H$(t,e){switch(t){case ml.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw B0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ml.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw B0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=a0e(e)}catch(i){throw i.message.includes("polyfill")?i:B0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw B0(ml.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=d0e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function c0e(t){const e=new $$(t);return e.base64?H$(ml.BASE64,e.rest):l0e(e.rest)}function u0e(t){return new $$(t).contentType}function d0e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){let r=0,i="";bM(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(bM(this.data_)){const r=this.data_,i=s0e(r,e,n);return i===null?null:new uu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new uu(r,!0)}}static getBlob(...e){if(n3()){const n=e.map(r=>r instanceof uu?r.data_:r);return new uu(i0e.apply(null,n))}else{const n=e.map(a=>t3(a)?o0e(ml.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new uu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){let e;try{e=JSON.parse(t)}catch{return null}return Xge(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h0e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function K$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0e(t,e){return e}class As{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||p0e}}let T1=null;function m0e(t){return!t3(t)||t.length<2?t:K$(t)}function X$(){if(T1)return T1;const t=[];t.push(new As("bucket")),t.push(new As("generation")),t.push(new As("metageneration")),t.push(new As("name","fullPath",!0));function e(s,a){return m0e(a)}const n=new As("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new As("size");return i.xform=r,t.push(i),t.push(new As("timeCreated")),t.push(new As("updated")),t.push(new As("md5Hash",null,!0)),t.push(new As("cacheControl",null,!0)),t.push(new As("contentDisposition",null,!0)),t.push(new As("contentEncoding",null,!0)),t.push(new As("contentLanguage",null,!0)),t.push(new As("contentType",null,!0)),t.push(new As("metadata","customMetadata",!0)),T1=t,T1}function g0e(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ea(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function y0e(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return g0e(r,t),r}function J$(t,e,n){const r=G$(e);return r===null?null:y0e(t,r,n)}function v0e(t,e,n,r){const i=G$(e);if(i===null||!t3(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+a(u)+"/o/"+a(f),p=r3(h,n,r),v=q$({alt:"media",token:c});return p+v})[0]}function x0e(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Y${constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){if(!t)throw e3()}function _0e(t,e){function n(r,i){const s=J$(t,i,e);return Q$(s!==null),s}return n}function b0e(t,e){function n(r,i){const s=J$(t,i,e);return Q$(s!==null),v0e(s,i,t.host,t._protocol)}return n}function Z$(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Fge():i=Pge():n.getStatus()===402?i=Rge(t.bucket):n.getStatus()===403?i=Mge(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function w0e(t){const e=Z$(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Ige(t.path)),s.serverResponse=i.serverResponse,s}return n}function T0e(t,e,n){const r=e.fullServerUrl(),i=r3(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new Y$(i,s,b0e(t,n),a);return o.errorHandler=w0e(e),o}function E0e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function C0e(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=E0e(null,e)),r}function S0e(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=C0e(e,r,i),u=x0e(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=uu.getBlob(f,r,h);if(p===null)throw Vge();const v={name:c.fullPath},g=r3(s,t.host,t._protocol),y="POST",b=t.maxUploadRetryTime,x=new Y$(g,y,_0e(t,n),b);return x.urlParams=v,x.headers=a,x.body=p.uploadData(),x.errorHandler=Z$(e),x}class D0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Hg("cannot .send() more than once");if(Nl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class A0e extends D0e{initXhr(){this.xhr_.responseType="text"}}function eG(){return new A0e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this._service=e,n instanceof Ea?this._location=n:this._location=Ea.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rf(e,n)}get root(){const e=new Ea(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K$(this._location.path)}get storage(){return this._service}get parent(){const e=f0e(this._location.path);if(e===null)return null;const n=new Ea(this._location.bucket,e);return new Rf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zge(e)}}function N0e(t,e,n){t._throwIfRoot("uploadBytes");const r=S0e(t.storage,t._location,X$(),new uu(e,!0),n);return t.storage.makeRequestWithTokens(r,eG).then(i=>({metadata:i,ref:t}))}function k0e(t){t._throwIfRoot("getDownloadURL");const e=T0e(t.storage,t._location,X$());return t.storage.makeRequestWithTokens(e,eG).then(n=>{if(n===null)throw Wge();return n})}function I0e(t,e){const n=h0e(t._location.path,e),r=new Ea(t._location.bucket,n);return new Rf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0e(t){return/^[A-Za-z]+:\/\//.test(t)}function P0e(t,e){return new Rf(t,e)}function tG(t,e){if(t instanceof i3){const n=t;if(n._bucket==null)throw Bge();const r=new Rf(n,n._bucket);return e!=null?tG(r,e):r}else return e!==void 0?I0e(t,e):t}function F0e(t,e){if(e&&R0e(e)){if(t instanceof i3)return P0e(t,e);throw W4("To use ref(service, url), the first argument must be a Storage instance.")}else return tG(t,e)}function TM(t,e){const n=e==null?void 0:e[V$];return n==null?null:Ea.makeFromBucketSpec(n,t)}function M0e(t,e,n,r={}){t.host=`${e}:${n}`;const i=Nl(e);i&&(ib(`https://${t.host}/b`),sb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:CN(s,t.app.options.projectId))}class i3{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=B$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Nge,this._maxUploadRetryTime=kge,this._requests=new Set,i!=null?this._bucket=Ea.makeFromBucketSpec(i,this._host):this._bucket=TM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ea.makeFromBucketSpec(this._url,e):this._bucket=TM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Hge(W$());{const a=n0e(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const EM="@firebase/storage",CM="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG="storage";function U0e(t,e,n){return t=St(t),N0e(t,e,n)}function O0e(t){return t=St(t),k0e(t)}function L0e(t,e){return t=St(t),F0e(t,e)}function j0e(t=WB(),e){t=St(t);const r=kN(t,nG).getImmediate({identifier:e}),i=Bee("storage");return i&&B0e(r,...i),r}function B0e(t,e,n,r={}){M0e(t,e,n,r)}function V0e(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new i3(n,r,i,e,kl)}function W0e(){wl(new Os(nG,V0e,"PUBLIC").setMultipleInstances(!0)),Ps(EM,CM,""),Ps(EM,CM,"esm2020")}W0e();const q0e=()=>{var I;const{user:t}=br(),{cafes:e,siteSettings:n,loading:r,refetchCafes:i}=Jt(),[s,a]=q.useState(void 0),[o,l]=q.useState(!0),[c,u]=q.useState({name:"",owner:"",street:"",city:"",state:"",description:"",googleMapsUrl:"",latitude:void 0,longitude:void 0,geminiApiKey:"",phone:"",imageUrl:"",coverImageUrl:"",facebook:"",instagram:"",twitter:"",formFillMode:"ai",speechToTextLanguage:"ar-SA",isProfilePublished:!1}),[f,h]=q.useState(""),[p,v]=q.useState(!1),[g,y]=q.useState(!1),[b,x]=q.useState(!1),[w,E]=q.useState("");q.useEffect(()=>{(async()=>{var k,U,O;if(r)return;if(!(t!=null&&t.cafeId)){l(!1);return}l(!0);let P=e.find(X=>X.id===t.cafeId);if(!P){console.warn("Cafe not found in public list, fetching directly...");try{P=await zI(t.cafeId)||void 0}catch(X){console.error("Failed to fetch cafe details directly:",X),P=void 0}}a(P),P&&u({name:P.name,owner:P.owner,street:P.address.street,city:P.address.city||"",state:P.address.state||"",description:P.description,googleMapsUrl:P.googleMapsUrl||"",latitude:P.address.latitude,longitude:P.address.longitude,geminiApiKey:P.geminiApiKey||"",phone:P.phone||"",imageUrl:P.imageUrl||"",coverImageUrl:P.coverImageUrl||"",facebook:((k=P.socials)==null?void 0:k.facebook)||"",instagram:((U=P.socials)==null?void 0:U.instagram)||"",twitter:((O=P.socials)==null?void 0:O.twitter)||"",formFillMode:P.formFillMode||"ai",speechToTextLanguage:P.speechToTextLanguage||"ar-SA",isProfilePublished:P.isProfilePublished||!1}),l(!1)})()},[t,e,r]);const S=async F=>{if(!F){u(P=>({...P,imageUrl:""}));return}if(!s){E("       .");return}x(!0),E("");try{const P=j0e(),k=L0e(P,`cafe-profiles/${s.id}/${Date.now()}.jpg`),U=await N$(F,"profile.jpg","image/jpeg"),O=await U0e(k,U),X=await O0e(O.ref);u(J=>({...J,imageUrl:X}))}catch(P){console.error("Error uploading profile image to Firebase Storage:",P),E("  .    .")}finally{x(!1)}},R=F=>{const{name:P,value:k,type:U}=F.target;if(U==="checkbox"){const{checked:O}=F.target;u(X=>({...X,[P]:O}))}else u(O=>({...O,[P]:k}))},D=()=>{if(!navigator.geolocation){alert("     .");return}v(!0),navigator.geolocation.getCurrentPosition(F=>{const{latitude:P,longitude:k}=F.coords;u(U=>({...U,latitude:P,longitude:k,googleMapsUrl:`https://www.google.com/maps?q=${P},${k}`})),v(!1)},F=>{console.error("Geolocation error:",F.message||F),alert(`    : ${F.message}`),v(!1)})},N=async F=>{if(F.preventDefault(),!!s){y(!0),h("");try{const P={name:c.name,owner:c.owner,description:c.description,googleMapsUrl:c.googleMapsUrl,geminiApiKey:c.geminiApiKey,phone:c.phone,imageUrl:c.imageUrl,coverImageUrl:c.coverImageUrl,formFillMode:c.formFillMode,speechToTextLanguage:c.speechToTextLanguage,isProfilePublished:c.isProfilePublished,address:{...s.address,street:c.street,city:c.city,state:c.state,latitude:c.latitude,longitude:c.longitude},socials:{facebook:c.facebook,instagram:c.instagram,twitter:c.twitter}};await tme(s.id,P),h("   !"),await i()}catch(P){console.error("Error saving settings:",P),alert("    .")}finally{setTimeout(()=>h(""),5e3),y(!1)}}};return o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Dt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"   ..."})]}):s?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),s&&!s.isProfilePublished&&d.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md mb-6 flex items-start gap-3",role:"alert",children:[d.jsx(g$,{className:"h-6 w-6 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   !"}),d.jsx("p",{className:"text-sm",children:'   "  "    " "       .'})]})]}),f&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:f})}),d.jsxs("form",{onSubmit:N,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md bg-green-50 border-green-300",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-green-800",children:"  "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2",children:[d.jsx("input",{type:"checkbox",name:"isProfilePublished",checked:c.isProfilePublished,onChange:R,className:"h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500"}),d.jsx("span",{className:"font-medium text-gray-800",children:c.isProfilePublished?"    ":"   "})]}),d.jsx("p",{className:"text-xs text-gray-600 px-2",children:"              .        ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"   "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"owner",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",name:"owner",id:"owner",value:c.owner,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:c.phone,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("div",{className:"mt-1 flex justify-start p-4 border-2 border-gray-300 border-dashed rounded-md",children:d.jsx(Lv,{value:mi(c.imageUrl),onChange:S})}),b&&d.jsxs("p",{className:"text-sm text-blue-600 mt-2 flex items-center gap-2",children:[d.jsx(Dt,{className:"animate-spin"}),"   ..."]}),w&&d.jsx("p",{className:"text-sm text-red-600 mt-2",children:w})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{className:"md:col-span-2 space-y-4",children:[s.countryCode!=="dz"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),d.jsx("input",{type:"text",name:"state",id:"state",value:c.state,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",name:"city",id:"city",value:c.city,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"street",id:"street",value:c.street,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),s.countryCode==="dz"&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",s.address.commune,", ",s.address.daira,", ",s.address.wilaya,".",d.jsx("br",{}),"      ."]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"googleMapsUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"    "}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"url",name:"googleMapsUrl",id:"googleMapsUrl",value:c.googleMapsUrl,onChange:R,placeholder:"https://maps.app.goo.gl/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:D,disabled:p,className:"flex-shrink-0 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-wait",children:p?"... ":"  "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Google Maps       ."})]})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"  "}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coverImageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"url",name:"coverImageUrl",id:"coverImageUrl",value:c.coverImageUrl,onChange:R,placeholder:"https://example.com/cover.jpg",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("textarea",{name:"description",id:"description",rows:4,value:c.description,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"           ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",id:"facebook",value:c.facebook,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"instagram",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",id:"instagram",value:c.instagram,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",id:"twitter",value:c.twitter,onChange:R,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"mt-2 space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("div",{className:"flex gap-x-6 gap-y-2 flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"ai",checked:c.formFillMode==="ai",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   ()"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"radio",name:"formFillMode",value:"json",checked:c.formFillMode==="json",onChange:F=>u(P=>({...P,formFillMode:F.target.value})),className:"h-4 w-4"}),d.jsx("span",{children:"   JSON ( )"})]})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[d.jsx("strong",{children:"  :"}),"    . ",d.jsx("br",{}),d.jsx("strong",{children:"  JSON:"}),"         (          )."]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("label",{htmlFor:"speechToTextLanguage",className:"block text-sm font-medium text-gray-700",children:"    "}),d.jsxs("select",{id:"speechToTextLanguage",name:"speechToTextLanguage",value:c.speechToTextLanguage,onChange:F=>u(P=>({...P,speechToTextLanguage:F.target.value})),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md bg-white",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"}),d.jsx("option",{value:"de-DE",children:"Deutsch"}),d.jsx("option",{value:"es-ES",children:"Espaol"}),d.jsx("option",{value:"tr-TR",children:"Trke"}),d.jsx("option",{value:"ja-JP",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"            ."})]})]}),d.jsxs("div",{className:"border-b pb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:" Gemini API"}),d.jsx("div",{className:"mt-4",children:(I=n==null?void 0:n.ai)!=null&&I.useAdminKey?d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md text-blue-800",children:[d.jsx("p",{className:"font-semibold",children:"  Gemini API:"}),d.jsx("p",{className:"text-sm",children:"             .       API  ."})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium text-gray-700 mb-1",children:" Gemini API  "}),d.jsx("input",{type:"password",name:"geminiApiKey",id:"geminiApiKey",value:c.geminiApiKey,onChange:R,placeholder:"  Gemini API   ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),c.geminiApiKey?d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         .       ."}):d.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md text-yellow-800 text-sm",children:[d.jsx("strong",{children:":"}),"       API       ."]})]})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-8",children:[d.jsx(en,{to:`/${s.countryCode}/profile/${s.numericId}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-200 transition-colors",children:"  "}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-wait",children:g?" ...":" "})]})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:" "}),d.jsx("p",{className:"text-gray-700",children:"        ."}),d.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"      .        ."})]})},z0e=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),[i,s]=q.useState(null);q.useEffect(()=>((async()=>{s(null);try{const l=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,facingMode:"environment"}});r.current=l,n.current&&(n.current.srcObject=l)}catch(l){console.error("Error accessing camera:",l),l instanceof DOMException&&(l.name==="NotAllowedError"||l.name==="PermissionDeniedError")?s("    .      ."):s("    .          .")}})(),()=>{r.current&&r.current.getTracks().forEach(l=>l.stop())}),[]);const a=()=>{if(n.current){const o=document.createElement("canvas");o.width=n.current.videoWidth,o.height=n.current.videoHeight;const l=o.getContext("2d");l==null||l.drawImage(n.current,0,0,o.width,o.height),o.toBlob(c=>{if(c){const u=new File([c],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});e(u)}},"image/jpeg",.95)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"   "}),d.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:i?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:i})]}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[d.jsx("button",{type:"button",onClick:a,disabled:!!i,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:" "}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},H0e=({onPeopleAdded:t})=>{const[e,n]=q.useState(!1),[r,i]=q.useState(!1),[s,a]=q.useState(null),[o,l]=q.useState([]),c=q.useRef(null),[u,f]=q.useState(!1),h=y=>{const b=y.target.files;b&&l(x=>[...x,...Array.from(b)])},p=y=>{l(b=>[...b,y])},v=y=>{l(b=>b.filter((x,w)=>w!==y))},g=async()=>{if(o.length===0){alert("     .");return}i(!0),a(null);try{const y=async w=>{try{const E=new FileReader,S=await new Promise(N=>{E.onloadend=()=>N(E.result.split(",")[1]),E.readAsDataURL(w)}),R="From the provided image of an official Algerian document (such as a National ID card '  ', a birth certificate ' ', or a Chifa social security card ' '), extract the following fields if present: lastName, firstName, dateOfBirth (YYYY-MM-DD), placeOfBirth, nationalId (18 digits), birthCertificateNumber, socialSecurityNumber (from the Chifa card or other documents), nationality, maritalStatus. Omit any fields not found in the image.",D={type:"OBJECT",properties:{lastName:{type:"STRING"},firstName:{type:"STRING"},dateOfBirth:{type:"STRING"},placeOfBirth:{type:"STRING"},nationalId:{type:"STRING"},birthCertificateNumber:{type:"STRING"},socialSecurityNumber:{type:"STRING"},nationality:{type:"STRING"},maritalStatus:{type:"STRING"}}};return await ZI(S,w.type,D,R)}catch(E){return console.error(`Error processing file ${w.name}:`,E),null}},x=(await Promise.all(o.map(y))).filter(w=>w&&(w.firstName||w.lastName)).map(w=>{const E=`${w.firstName||""} ${w.lastName||""}`.trim();return{name:E,formData:{fullName:E,dob:w.dateOfBirth||"",pob:w.placeOfBirth||"",nationalId:w.nationalId||"",birthCertificateNumber:w.birthCertificateNumber||"",socialSecurityNumber:w.socialSecurityNumber||"",nationality:w.nationality||"",maritalStatus:w.maritalStatus||""}}});if(x.length===0)throw new Error("         .      .");t(x),l([])}catch(y){console.error("Error processing ID cards:",y);const b=y instanceof Error?y.message:"An unknown error occurred.";a(` : ${b}`)}finally{i(!1)}};return d.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200 my-4",children:[u&&d.jsx(z0e,{onClose:()=>f(!1),onCapture:p}),d.jsxs("label",{htmlFor:"id-scanner-toggle",className:"flex items-center gap-2 cursor-pointer text-gray-700",children:[d.jsx("input",{type:"checkbox",id:"id-scanner-toggle",checked:e,onChange:y=>n(y.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx(w$,{className:"text-gray-600"}),d.jsx("span",{className:"font-semibold",children:"     "})]}),e&&d.jsxs("div",{className:"pl-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[d.jsx("input",{type:"file",ref:c,onChange:h,accept:"image/*",className:"hidden",multiple:!0}),d.jsxs("button",{type:"button",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Al,{}),d.jsx("span",{children:"  "})]}),d.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:r,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[d.jsx(Bm,{}),d.jsx("span",{children:"  "})]})]}),o.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-semibold mb-2",children:["  (",o.length,"):"]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:o.map((y,b)=>d.jsxs("div",{className:"relative group aspect-square",children:[d.jsx("img",{src:URL.createObjectURL(y),alt:`ID Card ${b+1}`,className:"w-full h-full object-cover rounded-md"}),d.jsx("button",{type:"button",onClick:()=>v(b),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity text-xs","aria-label":"Remove image",children:d.jsx(Vm,{})})]},b))}),d.jsx("button",{type:"button",onClick:g,disabled:r,className:"w-full mt-4 flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-wait",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Dt,{className:"animate-spin"}),d.jsxs("span",{children:[" ... (",o.length," )"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(jme,{}),d.jsx("span",{children:"    "})]})})]}),s&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:s})]})]})},SM=window.SpeechRecognition||window.webkitSpeechRecognition,DM=({value:t,onChange:e,placeholder:n,suggestions:r,onSuggestionClick:i})=>{const[s,a]=q.useState(!1),o=q.useRef(null),l=window.SpeechRecognition||window.webkitSpeechRecognition;q.useEffect(()=>{if(l)return o.current=new l,o.current.continuous=!1,o.current.interimResults=!1,o.current.lang="ar-SA",o.current.onresult=f=>{e(f.results[0][0].transcript)},o.current.onend=()=>a(!1),()=>{var f;return(f=o.current)==null?void 0:f.abort()}},[e,l]);const c=()=>{l&&!s&&(o.current.start(),a(!0))},u=f=>{var h,p;f.stopPropagation(),s?(h=o.current)==null||h.stop():(p=o.current)==null||p.start(),a(v=>!v)};return d.jsxs("div",{className:"relative w-full",children:[d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),onFocus:c,placeholder:n,className:"w-full p-3 pr-10 border rounded-md focus:ring-green-500 bg-gray-700 text-white placeholder-gray-400 border-gray-600 focus:border-green-500"}),l&&d.jsx("button",{type:"button",onClick:u,className:`absolute top-1/2 right-2 -translate-y-1/2 p-2 rounded-full ${s?"text-red-500 animate-pulse":"text-gray-400"}`,children:d.jsx(gc,{})}),r&&r.length>0&&d.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-y-auto",children:r.map(f=>d.jsx("li",{onMouseDown:()=>i==null?void 0:i(f),className:"px-4 py-2 cursor-pointer hover:bg-green-50",children:f.name},f.id))})]})},$0e=()=>{const{fullDocuments:t,loadingFullDocuments:e,sites:n}=Jt(),[r,i]=q.useState([]),[s,a]=q.useState(!1),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState([]),[p,v]=q.useState(0),[g,y]=q.useState(!1),[b,x]=q.useState(!1),w=q.useRef(null),E=q.useRef(""),[S,R]=q.useState(!1),[D,N]=q.useState(!1),[I,F]=q.useState(""),P=q.useMemo(()=>[...t,...n],[t,n]),k=q.useMemo(()=>{if(!c)return[];const B=c.toLowerCase();return P.filter(j=>j.name.toLowerCase().includes(B))},[c,P]),U=B=>{f.find(j=>j.id===B.id)||h(j=>[...j,B]),u("")},O=B=>{h(j=>j.filter(W=>W.id!==B))},X=()=>{if(!o.trim()||f.length===0){alert("        .");return}const B={id:Date.now(),name:o,documentIds:f.map(j=>j.id),formData:{fullName:o},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),l(""),h([]),u(""),a(!1)},J=r[p];q.useMemo(()=>{if(!J)return[];const B=new Set,j=[];return t.filter(W=>J.documentIds.includes(W.id)).forEach(W=>{W.requiredFields&&W.requiredFields.forEach(H=>{var Q,Z,se;if(H!=="fullName"&&!B.has(H)){B.add(H);const ue=Object.prototype.hasOwnProperty.call(Jr,H)?Jr[H]:null,Ee=((Q=W.questions)==null?void 0:Q[H])||((se=(Z=W.fieldCustomizations)==null?void 0:Z[H])==null?void 0:se.customQuestion)||(ue==null?void 0:ue.label)||H;j.push({id:H,label:Ee})}})}),j},[J,t]);const Y=q.useCallback(B=>{i(j=>j.map((W,H)=>H===p?{...W,transcribedText:B}:W))},[p]);q.useEffect(()=>{if(!SM)return;w.current=new SM;const B=w.current;return B.continuous=!0,B.interimResults=!0,B.lang="ar-SA",B.onresult=j=>{let W="",H="";for(let Z=j.resultIndex;Z<j.results.length;++Z){const se=j.results[Z][0].transcript;j.results[Z].isFinal?W+=se+" ":H+=se}const Q=(E.current?E.current+" ":"")+W+H;Y(Q.trim())},B.onend=()=>x(!1),()=>{var j;return(j=w.current)==null?void 0:j.abort()}},[Y]);const ne=()=>{if(I.trim()===""){alert("   .");return}const B={id:Date.now(),name:I,documentIds:[],formData:{},complexFormData:{},saveClient:!0,isFromClientList:!1};i(j=>[...j,B]),F("")},z=B=>i(j=>j.filter(W=>W.id!==B)),K=(B,j)=>{i(r.map(W=>{if(W.id===B){const H=W.documentIds.includes(j)?W.documentIds.filter(Q=>Q!==j):[...W.documentIds,j];return{...W,documentIds:H}}return W}))};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):g?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:()=>y(!1),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:"   "}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>v(B=>(B-1+r.length)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Previous Person",children:d.jsx(dw,{})}),d.jsxs("span",{className:"font-semibold text-lg text-center",style:{minWidth:"200px"},children:[" ",p+1,"/",r.length,": ",J==null?void 0:J.name]}),d.jsx("button",{onClick:()=>v(B=>(B+1)%r.length),disabled:r.length<=1,className:"p-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-50","aria-label":"Next Person",children:d.jsx(uw,{})})]}),d.jsx("div",{})]}),d.jsxs("div",{className:"p-4 bg-gray-50 border rounded-lg",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2",children:[" ",J==null?void 0:J.name]}),d.jsx("div",{className:"text-center text-gray-500 py-8",children:"(     )"})]})]}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:" 1:       ."}),d.jsx("div",{className:"space-y-4",children:r.map((B,j)=>d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-lg text-green-800",children:[j+1,". ",B.name]}),d.jsxs("p",{className:"text-sm text-green-700",children:[": ",B.documentIds.map(W=>{var H;return(H=P.find(Q=>Q.id===W))==null?void 0:H.name}).join(", ")||"    "]})]}),d.jsx("button",{onClick:()=>i(W=>W.filter(H=>H.id!==B.id)),className:"text-red-500 hover:text-red-700",children:d.jsx(Vm,{})})]},B.id))}),s?d.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 mt-4 space-y-3 animate-fadeIn",children:[d.jsx("h3",{className:"font-bold text-white",children:"  "}),d.jsx(DM,{value:o,onChange:l,placeholder:"  ..."}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(DM,{value:c,onChange:u,placeholder:"    ...",suggestions:k,onSuggestionClick:U}),d.jsx("button",{onClick:()=>U(k[0]),disabled:!c||k.length===0,className:"bg-gray-600 text-white px-4 rounded-md hover:bg-gray-500 disabled:opacity-50",children:""})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(B=>d.jsxs("div",{className:"flex items-center gap-1 bg-gray-200 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:B.name}),d.jsx("button",{onClick:()=>O(B.id),className:"text-red-500",children:d.jsx(If,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:X,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "}),d.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:""})]})]}):d.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700",children:[d.jsx(ic,{}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"mt-8 pt-4 border-t",children:d.jsxs("button",{onClick:()=>{y(!0),v(0)},disabled:r.length===0,className:"w-full bg-green-600 text-white font-bold text-lg py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:["    ",r.length," "]})}),d.jsxs("details",{className:"mt-8",children:[d.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-black",children:"  ( )"}),d.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[d.jsx(H0e,{onPeopleAdded:()=>{}}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border my-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"  ()"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{type:"text",value:I,onChange:B=>F(B.target.value),placeholder:"  ",className:"flex-grow p-3 border rounded-md"}),d.jsx("button",{onClick:ne,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]}),d.jsx("div",{className:"space-y-6",children:r.map(B=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:B.name}),d.jsx("button",{onClick:()=>z(B.id),className:"text-red-500 hover:text-red-700 font-bold px-3 py-1 rounded-md hover:bg-red-100",children:" "})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(j=>d.jsx("button",{onClick:()=>K(B.id,j.id),className:`p-3 text-sm border rounded-md text-right transition-colors ${B.documentIds.includes(j.id)?"bg-green-100 border-green-500 ring-2 ring-green-400":"bg-white hover:bg-gray-100"}`,children:j.name},j.id))})]},B.id))})]})]})]})},AM=[{amount:2e3,label:"2,000 "},{amount:5e3,label:"5,000 "},{amount:1e4,label:"10,000 "}],G0e=2e3,K0e=[{amount:10,label:"$10.00"},{amount:50,label:"$50.00"},{amount:100,label:"$100.00"}],X0e=10,J0e=()=>{const{user:t}=br(),{siteSettings:e}=Jt(),[n,r]=q.useState([]),[i,s]=q.useState(null),[a,o]=q.useState(!0),[l,c]=q.useState(AM[0].amount),[u,f]=q.useState(""),[h,p]=q.useState(""),[v,g]=q.useState(null),[y,b]=q.useState(0),[x,w]=q.useState(null),[E,S]=q.useState(!1),R=(t==null?void 0:t.countryCode)==="dz",D=R?"DZD":"USD",N=R?"":"$",I=R?AM:K0e,F=R?G0e:X0e,P=q.useMemo(()=>l||parseInt(u)||0,[l,u]);q.useEffect(()=>{(async()=>{if(t){o(!0);try{const[z,K]=await Promise.all([ame(t.id),sme(t.id)]);r(z),s(K.find(B=>B.status==="Pending")||null)}catch(z){console.error("Failed to fetch billing data:",z),g({type:"error",message:"    ."})}finally{o(!1)}}})()},[t,y]);const k=ne=>{ne.target.files&&ne.target.files[0]&&w(ne.target.files[0])},U=async()=>{if(!t||!P||P<F){g({type:"error",message:`    ${F} ${N}.`});return}if(!x){g({type:"error",message:"      ."});return}S(!0),g(null);let ne;try{g({type:"success",message:"   ..."}),ne=await fm(x);const z=await cM(t.id,P,D,"CCP",ne);g({type:z.success?"success":"error",message:z.message}),z.success&&(c(null),f(""),w(null),b(K=>K+1))}catch(z){console.error("Error creating payment request:",z),g({type:"error",message:"    .    ."})}finally{S(!1)}setTimeout(()=>g(null),5e3)},O=async()=>{if(!t||!(e!=null&&e.payment.paypalEmail)||!P||P<F){g({type:"error",message:`The minimum amount is ${F} ${N}.`});return}const ne=await cM(t.id,P,D,"PayPal");if(!ne.success){g({type:"error",message:ne.message});return}const K=`https://www.paypal.com/cgi-bin/webscr?${new URLSearchParams({business:e.payment.paypalEmail,item_name:`Gitut Credits for ${t.email}`,amount:P.toFixed(2),currency_code:"USD",no_shipping:"1",return:window.location.href,cancel_return:window.location.href,cmd:"_xclick"}).toString()}`;window.open(K,"_blank"),b(B=>B+1)},X=ne=>{c(ne),f(""),p("")},J=ne=>{const z=ne.target.value;f(z),c(null),z&&parseInt(z)<F?p(`    ${F} ${N}.`):p("")},Y=ne=>{switch(ne){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return a?d.jsx("div",{children:"   ..."}):t?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),v&&d.jsx("div",{className:`p-4 mb-4 rounded-md ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsxs("div",{className:"text-5xl font-bold text-green-600 font-mono",children:[t.credits.amount.toLocaleString("en-US",{minimumFractionDigits:D==="USD"?2:0}),d.jsxs("span",{className:"text-3xl",children:[" ",N]})]}),d.jsx("p",{className:"text-gray-500 mt-2",children:"        ."})]}),i?d.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-300 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-yellow-800",children:"     "}),d.jsxs("p",{className:"text-yellow-700 mt-2",children:["      ",d.jsxs("strong",{className:"font-mono",children:[i.amount.toLocaleString()," ",i.currency==="USD"?"$":""]}),"  ",(typeof i.date=="string"?new Date(i.date):i.date.toDate()).toLocaleDateString("ar-DZ"),".         ."]})]}):d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:" "}),d.jsx("p",{className:"text-gray-600 mb-4",children:" 1:        ."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:I.map(ne=>d.jsx("button",{onClick:()=>X(ne.amount),className:`p-4 border-2 rounded-lg text-center transition-all ${l===ne.amount?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-300 bg-white hover:border-green-400"}`,children:d.jsx("p",{className:"text-2xl font-bold font-mono",children:ne.label})},ne.amount))}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"customAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),d.jsx("input",{type:"number",id:"customAmount",value:u,onChange:J,placeholder:`  (  ${F} ${N})`,min:F,className:`block w-full px-3 py-2 bg-white border rounded-md shadow-sm focus:outline-none focus:ring-green-500 ${h?"border-red-500":"border-gray-300"}`}),h&&d.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),P>=F&&d.jsx("div",{className:"bg-gray-100 p-6 rounded-lg border-2 border-dashed border-gray-300",children:R?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 2:  "}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["     ",d.jsxs("strong",{className:"font-mono",children:[P.toLocaleString("ar-DZ")," "]}),"   ."]}),d.jsxs("div",{className:"bg-white p-4 rounded-md flex flex-col gap-2 text-right",children:[d.jsxs("p",{className:"font-bold text-lg",children:[" : ",e==null?void 0:e.payment.baridiMob]}),d.jsxs("p",{className:"font-bold text-lg",children:["CCP / BaridiMob: ",e==null?void 0:e.payment.ccp]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 3:   "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"     .              ."}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex-grow bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer text-center",children:[d.jsx("span",{children:x?` : ${x.name}`:" "}),d.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),x&&d.jsx("img",{src:URL.createObjectURL(x),alt:"Preview",className:"h-12 w-12 rounded-md object-cover border"})]})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:" 4:  "}),d.jsx("p",{className:"text-gray-700 mb-4",children:"        .          ."}),d.jsxs("button",{onClick:U,disabled:E,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center gap-2",children:[E?d.jsx(Dt,{className:"animate-spin"}):null,E?"  ...":"     "]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 2: Pay with PayPal"}),d.jsxs("p",{className:"text-gray-700 mb-4",children:["Click the button below to pay ",d.jsxs("strong",{className:"font-mono",children:["$",P.toFixed(2)," USD"]})," securely with PayPal."]}),d.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center gap-3 bg-[#00457C] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#003057]",children:[d.jsx(wme,{size:24}),d.jsx("span",{children:"Pay with PayPal"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"After payment, your request will be sent for review. Credits will be added to your account upon confirmation."})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(ne=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800",children:ne.id}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof ne.date=="string"?new Date(ne.date):ne.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[ne.amount.toLocaleString()," ",ne.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:Y(ne.status)})]},ne.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]}):d.jsx("div",{children:"    ."})},Y0e=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(""),[i,s]=q.useState(""),a=ci(),{login:o}=Ov(),l=async c=>{if(c.preventDefault(),s(""),!t||!n){s("   .");return}if(o(t,n))try{await Fr.signInWithEmailAndPassword(t,n),a("/admin/app")}catch(f){console.error("Firebase admin login failed:",f),s("      Firebase.         Firebase Authentication.")}else s("   .")};return d.jsx("div",{className:"max-w-md mx-auto mt-10",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"  "}),d.jsx("p",{className:"text-center text-gray-500 mb-6",children:"     ."}),i&&d.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:i}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"admin@gitut.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"password",id:"password",value:n,onChange:c=>r(c.target.value),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"********"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})]})})},Q0e=()=>{const{admin:t,logout:e}=Ov(),{useAdminChatManager:n}=Qf(),{unreadConversationsCount:r}=n(),i=ci(),s=()=>{e(),Fr.signOut(),i("/admin/login")},a="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",o="bg-green-600 text-white",l="text-gray-600 hover:bg-green-100 hover:text-green-800";return d.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col p-4 rounded-lg",children:[d.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500",children:(t==null?void 0:t.email)||"admin@gitut.com"})]}),d.jsxs("nav",{className:"flex flex-col gap-2 flex-grow",children:[d.jsxs(zn,{to:"/admin/app",end:!0,className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"users",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-2a6 6 0 00-12 0v2"})}),d.jsx("span",{children:" "})]}),d.jsx(zn,{to:"chat",className:({isActive:c})=>`${a} ${c?o:l}`,children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(KI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),r>0&&d.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})}),d.jsxs(zn,{to:"billing",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"documents",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"document-studio",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"excel-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(T$,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"document-commands",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(GI,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"base-templates",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx(Eme,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"static-docs",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"sites",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"data",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),d.jsx("span",{children:" "})]}),d.jsx("div",{className:"border-t my-2"}),d.jsxs(zn,{to:"pages",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"blog",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"ads",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("span",{children:" "})]}),d.jsxs(zn,{to:"seo",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),d.jsx("span",{children:"  (SEO)"})]}),d.jsxs(zn,{to:"settings",className:({isActive:c})=>`${a} ${c?o:l}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t",children:d.jsxs("button",{onClick:s,className:`${a} ${l} w-full`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),d.jsx("span",{children:" "})]})})]})},Z0e=()=>{const{loadFullDocuments:t,loading:e}=Jt(),{admin:n}=Ov(),{user:r,loading:i}=br(),a=Ir().pathname.includes("document-studio");return q.useEffect(()=>{n&&r&&t()},[t,n,r]),e||i?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsx(Q0e,{}),d.jsx("main",{className:"flex-1 w-full",children:d.jsx("div",{className:`bg-white rounded-lg shadow-lg ${a?"p-0 h-[85vh] overflow-hidden":"p-6 min-h-[60vh]"}`,children:d.jsx(xN,{})})})]})},eye=({children:t})=>{const{admin:e}=Ov();return e?t:d.jsx(hp,{to:"/admin/login",replace:!0})},tye=()=>{const[t,e]=q.useState(0),[n,r]=q.useState(0),[i,s]=q.useState({DZD:0,USD:0}),[a,o]=q.useState(!0),[l,c]=q.useState(!1),[u,f]=q.useState(""),{refetchAdminData:h}=Jt();q.useEffect(()=>{(async()=>{o(!0);try{const[g,y,b]=await Promise.all([M4(),F4(),lM()]),x=g.filter(w=>w.status==="Pending").length;r(x),e(y.length),s(b)}catch(g){console.error("Failed to fetch dashboard data:",g)}finally{o(!1)}})()},[]);const p=async()=>{c(!0),f("     ...");try{await h();const[v,g,y]=await Promise.all([M4(),F4(),lM()]);r(v.filter(b=>b.status==="Pending").length),e(g.length),s(y),f("  !")}catch(v){console.error("Manual refresh failed:",v),f(" .     .")}finally{c(!1),setTimeout(()=>f(""),5e3)}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),d.jsxs("button",{onClick:p,disabled:l,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-wait",children:[d.jsx(Mme,{className:l?"animate-spin":""}),d.jsx("span",{children:l?" ...":" "})]})]}),u&&d.jsx("div",{className:`p-3 mb-4 rounded-md text-center ${u.includes("")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-gray-900",children:t}),d.jsx(en,{to:"/admin/app/users",className:"text-green-600 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-yellow-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"  "}),a?d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:"..."}):d.jsx("p",{className:"text-4xl font-bold text-yellow-900",children:n}),d.jsx(en,{to:"/admin/app/billing",className:"text-yellow-700 hover:underline mt-4 inline-block",children:"  "})]}),d.jsxs("div",{className:"bg-green-100 p-6 rounded-lg shadow",children:[d.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:" ( )"}),a?d.jsx("p",{className:"text-4xl font-bold text-green-900 font-mono",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-4xl font-bold text-green-900 font-mono",children:[i.DZD.toLocaleString("ar-DZ")," ",d.jsx("span",{className:"text-2xl",children:""})]}),i.USD>0&&d.jsxs("p",{className:"text-xl font-bold text-green-800 font-mono mt-1",children:["+ ",i.USD.toLocaleString("en-US",{style:"currency",currency:"USD"})]})]}),d.jsx("p",{className:"text-green-700 mt-4",children:i.DZD===0&&i.USD===0?"     .":"    ."})]})]})]})},nye=()=>{const[t,e]=q.useState([]),{cafes:n,loading:r}=Jt(),[i,s]=q.useState(!0);q.useEffect(()=>{s(!0),F4().then(e).finally(()=>s(!1))},[]);const a=(l,c)=>{let u="";c==="Suspended"&&(u=prompt("    :")||"   ."),e(f=>f.map(h=>h.id===l?{...h,status:c,suspensionReason:c==="Suspended"?u:void 0}:h))},o=l=>{switch(l){case"Active":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:""});case"Suspended":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full",children:""})}};return r||i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(l=>{const c=n.find(u=>u.id===l.cafeId);return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:(c==null?void 0:c.name)||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:l.email}),d.jsx("td",{className:"p-3",title:l.suspensionReason,children:o(l.status)}),d.jsx("td",{className:"p-3",children:l.status==="Active"?d.jsx("button",{onClick:()=>a(l.id,"Suspended"),className:"text-red-600 hover:underline text-sm font-semibold",children:""}):d.jsx("button",{onClick:()=>a(l.id,"Active"),className:"text-green-600 hover:underline text-sm font-semibold",children:" "})})]},l.id)})})]})})})]})},rye=()=>{const[t,e]=q.useState([]),[n,r]=q.useState([]),[i,s]=q.useState(!0),[a,o]=q.useState(0);q.useEffect(()=>{(async()=>{s(!0);try{const[h,p]=await Promise.all([M4(),ome()]);e(h),r(p)}catch(h){console.error("Failed to fetch admin billing data:",h),alert("    .")}finally{s(!1)}})()},[a]);const l=async f=>{if(window.confirm(`           ${f.amount} ${f.currency}  "${f.userCafeName}"`))try{const p=await lme(f);if(p.success)alert("      !"),o(v=>v+1);else throw new Error(p.message)}catch(p){console.error("Failed to approve payment:",p),alert(`  : ${p.message}`)}},c=f=>{switch(f){case"Pending":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-yellow-800 bg-yellow-200 rounded-full",children:""});case"Approved":return d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full",children:" "})}},u=f=>{switch(f){case"Paid":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:""});case"Pending":return d.jsx("span",{className:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full",children:"  "})}};return i?d.jsx("div",{children:"  ..."}):d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"    "}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"   "}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:":  PayPal        PayPal    ."}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3 text-gray-600",children:f.method}),d.jsx("td",{className:"p-3",children:f.proofOfPaymentUrl?d.jsx("a",{href:mi(f.proofOfPaymentUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:" "}):d.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),d.jsx("td",{className:"p-3",children:c(f.status)}),d.jsx("td",{className:"p-3",children:f.status==="Pending"&&d.jsx("button",{onClick:()=>l(f),className:"bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700",children:""})})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center p-6 text-gray-500",children:"     ."})})})]})})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"  "}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n.length>0?n.map(f=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:f.userCafeName||" "}),d.jsx("td",{className:"p-3 text-gray-600",children:(typeof f.date=="string"?new Date(f.date):f.date.toDate()).toLocaleDateString("ar-DZ")}),d.jsxs("td",{className:"p-3 text-gray-800 font-mono",children:[f.amount.toLocaleString()," ",f.currency==="USD"?"$":""]}),d.jsx("td",{className:"p-3",children:u(f.status)})]},f.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:"    ."})})})]})})]})]})},iye=()=>{const{siteSettings:t}=Jt(),[e,n]=q.useState(t||In),[r,i]=q.useState(""),[s,a]=q.useState({current:"",new:"",confirm:""}),[o,l]=q.useState(!1);q.useEffect(()=>{if(t){const f={...In,...t,payment:{...In.payment,...t.payment||{}},pricing:{...In.pricing,...t.pricing||{}},seo:{...In.seo,...t.seo||{}},social:{...In.social,...t.social||{}},ads:{...In.ads,...t.ads||{}},ai:{...In.ai,...t.ai||{}}};n(f)}},[t]);const c=f=>{const{name:h,value:p,type:v,checked:g}=f.target,y=h.split("."),b=v==="checkbox"?g:v==="number"?parseFloat(p)||0:p;n(x=>{if(!x)return In;const w=JSON.parse(JSON.stringify(x));if(y.length===3){const[E,S,R]=y;w[E]||(w[E]={}),w[E][S]||(w[E][S]={}),w[E][S][R]=b}else if(y.length===2){const[E,S]=y;w[E]||(w[E]={}),w[E][S]=b}return w})},u=async f=>{if(f.preventDefault(),!!e){l(!0),i("");try{const h={payment:e.payment,pricing:e.pricing,ads:e.ads,ai:e.ai};await o$(h),i("    !")}catch(h){console.error("Error saving settings:",h),alert("    .     .")}finally{l(!1),setTimeout(()=>i(""),5e3)}}};return e?d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),r&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:r})}),d.jsxs("form",{onSubmit:u,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.dzd",value:e.pricing.dynamicDocument.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.dynamicDocument.usd",value:e.pricing.dynamicDocument.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.dzd",value:e.pricing.siteFormFill.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.siteFormFill.usd",value:e.pricing.siteFormFill.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md",children:[d.jsx("h3",{className:"font-medium text-gray-600",children:"  "}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.dzd",value:e.pricing.staticDocumentDownload.dzd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500",children:" "}),d.jsx("input",{type:"number",name:"pricing.staticDocumentDownload.usd",value:e.pricing.staticDocumentDownload.usd,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" CCP"}),d.jsx("input",{type:"text",name:"payment.ccp",value:e.payment.ccp,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BaridiMob ( )"}),d.jsx("input",{type:"text",name:"payment.baridiMob",value:e.payment.baridiMob,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" PayPal"}),d.jsx("input",{type:"email",name:"payment.paypalEmail",value:e.payment.paypalEmail,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"  (1 USD = ? DZD)"}),d.jsx("input",{type:"number",name:"payment.exchangeRate",value:e.payment.exchangeRate,onChange:c,className:"mt-1 block w-full p-2 border rounded-md"})]}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"payment.paypalEnabled",checked:e.payment.paypalEnabled,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"   PayPal ( )"})]})})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   (Gemini)"}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" API   (Master Key)"}),d.jsx("input",{type:"password",name:"ai.apiKey",value:e.ai.apiKey||"",onChange:c,placeholder:"  Gemini API   ",className:"mt-1 block w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'      .         "secret"   Cloudflare Worker       .'})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",name:"ai.useAdminKey",checked:e.ai.useAdminKey||!1,onChange:c,className:"h-4 w-4"}),d.jsx("span",{children:"    "})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"                  API     .         ."})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t mt-8",children:d.jsx("button",{type:"submit",disabled:o,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400",children:o?" ...":" "})})]})]}):d.jsx("div",{children:"  ..."})},sye=()=>{var y,b,x,w;const{siteSettings:t,pages:e,blogPosts:n}=Jt(),[r,i]=q.useState(In),[s,a]=q.useState(""),[o,l]=q.useState(!1),[c,u]=q.useState("default");q.useEffect(()=>{i(t?{...In,...t,seo:{...In.seo,...t.seo||{}},social:{...In.social,...t.social||{}}}:In)},[t]);const f=(E,S)=>{const{name:R,value:D}=E.target;i(N=>{var F,P;const I={...N};return S==="seo"?I.seo={...I.seo,[c]:{...((F=I.seo)==null?void 0:F[c])||In.seo.default,[R]:D}}:I.social={...I.social,[c]:{...((P=I.social)==null?void 0:P[c])||In.social.default,[R]:D}},I})},h=async E=>{if(E.preventDefault(),!!r){l(!0),a("");try{await o$({seo:r.seo,social:r.social}),a('   !    " "     .')}catch(S){console.error("Error saving settings:",S),alert("    .")}finally{l(!1),setTimeout(()=>a(""),8e3)}}};if(!r)return d.jsx("div",{className:"flex justify-center p-8",children:d.jsx(Dt,{className:"animate-spin text-2xl"})});const p=((y=r.seo)==null?void 0:y[c])||((b=r.seo)==null?void 0:b.default)||In.seo.default,v=((x=r.social)==null?void 0:x[c])||((w=r.social)==null?void 0:w.default)||In.social.default,g=[{code:"default",name:"Default"},...Au.en];return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  (SEO)"}),s&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-6",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:s})}),d.jsx("div",{className:"mb-6 border-b border-gray-200",children:d.jsx("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:g.map(E=>d.jsx("button",{onClick:()=>u(E.code),className:`whitespace-nowrap py-3 px-4 border-b-2 font-medium text-sm
                                ${c===E.code?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:E.name},E.code))})}),d.jsxs("form",{onSubmit:h,className:"space-y-8 bg-white p-8 rounded-lg border",children:[d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"   SEO"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"siteName",value:p.siteName||"",onChange:E=>f(E,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Tagline)"}),d.jsx("input",{type:"text",name:"tagline",value:p.tagline||"",onChange:E=>f(E,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"titleSeparator",value:p.titleSeparator||"",onChange:E=>f(E,"seo"),className:"block w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Meta Description)"}),d.jsx("textarea",{name:"metaDescription",rows:2,value:p.metaDescription||"",onChange:E=>f(E,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{className:"space-y-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (  1)"}),d.jsx("input",{type:"text",name:"mainPageTitle",value:p.mainPageTitle||"",onChange:E=>f(E,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (  2)"}),d.jsx("textarea",{name:"mainPageSubtitle",rows:3,value:p.mainPageSubtitle||"",onChange:E=>f(E,"seo"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-lg text-gray-700",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"facebook",value:v.facebook||"",onChange:E=>f(E,"social"),placeholder:"https://facebook.com/yourpage",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"twitter",value:v.twitter||"",onChange:E=>f(E,"social"),placeholder:"https://twitter.com/yourprofile",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",name:"instagram",value:v.instagram||"",onChange:E=>f(E,"social"),placeholder:"https://instagram.com/yourprofile",className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t",children:d.jsxs("button",{type:"submit",disabled:o,className:"flex items-center gap-2 bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[o?d.jsx(Dt,{className:"animate-spin"}):null,o?" ...":" "]})})]})]})};var gC,NM;function aye(){if(NM)return gC;NM=1;function t(){this.__data__=[],this.size=0}return gC=t,gC}var yC,kM;function rG(){if(kM)return yC;kM=1;function t(e,n){return e===n||e!==e&&n!==n}return yC=t,yC}var vC,IM;function mw(){if(IM)return vC;IM=1;var t=rG();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return vC=e,vC}var xC,RM;function oye(){if(RM)return xC;RM=1;var t=mw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return xC=r,xC}var _C,PM;function lye(){if(PM)return _C;PM=1;var t=mw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return _C=e,_C}var bC,FM;function cye(){if(FM)return bC;FM=1;var t=mw();function e(n){return t(this.__data__,n)>-1}return bC=e,bC}var wC,MM;function uye(){if(MM)return wC;MM=1;var t=mw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return wC=e,wC}var TC,UM;function gw(){if(UM)return TC;UM=1;var t=aye(),e=oye(),n=lye(),r=cye(),i=uye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,TC=s,TC}var EC,OM;function dye(){if(OM)return EC;OM=1;var t=gw();function e(){this.__data__=new t,this.size=0}return EC=e,EC}var CC,LM;function fye(){if(LM)return CC;LM=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return CC=t,CC}var SC,jM;function hye(){if(jM)return SC;jM=1;function t(e){return this.__data__.get(e)}return SC=t,SC}var DC,BM;function pye(){if(BM)return DC;BM=1;function t(e){return this.__data__.has(e)}return DC=t,DC}var AC,VM;function iG(){if(VM)return AC;VM=1;var t=typeof ps=="object"&&ps&&ps.Object===Object&&ps;return AC=t,AC}var NC,WM;function Sc(){if(WM)return NC;WM=1;var t=iG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return NC=n,NC}var kC,qM;function s3(){if(qM)return kC;qM=1;var t=Sc(),e=t.Symbol;return kC=e,kC}var IC,zM;function mye(){if(zM)return IC;zM=1;var t=s3(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return IC=s,IC}var RC,HM;function gye(){if(HM)return RC;HM=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return RC=n,RC}var PC,$M;function yw(){if($M)return PC;$M=1;var t=s3(),e=mye(),n=gye(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return PC=a,PC}var FC,GM;function sG(){if(GM)return FC;GM=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return FC=t,FC}var MC,KM;function aG(){if(KM)return MC;KM=1;var t=yw(),e=sG(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return MC=a,MC}var UC,XM;function yye(){if(XM)return UC;XM=1;var t=Sc(),e=t["__core-js_shared__"];return UC=e,UC}var OC,JM;function vye(){if(JM)return OC;JM=1;var t=yye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return OC=n,OC}var LC,YM;function oG(){if(YM)return LC;YM=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return LC=n,LC}var jC,QM;function xye(){if(QM)return jC;QM=1;var t=aG(),e=vye(),n=sG(),r=oG(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var p=t(h)?u:s;return p.test(r(h))}return jC=f,jC}var BC,ZM;function _ye(){if(ZM)return BC;ZM=1;function t(e,n){return e==null?void 0:e[n]}return BC=t,BC}var VC,eU;function Wm(){if(eU)return VC;eU=1;var t=xye(),e=_ye();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return VC=n,VC}var WC,tU;function a3(){if(tU)return WC;tU=1;var t=Wm(),e=Sc(),n=t(e,"Map");return WC=n,WC}var qC,nU;function vw(){if(nU)return qC;nU=1;var t=Wm(),e=t(Object,"create");return qC=e,qC}var zC,rU;function bye(){if(rU)return zC;rU=1;var t=vw();function e(){this.__data__=t?t(null):{},this.size=0}return zC=e,zC}var HC,iU;function wye(){if(iU)return HC;iU=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return HC=t,HC}var $C,sU;function Tye(){if(sU)return $C;sU=1;var t=vw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return $C=i,$C}var GC,aU;function Eye(){if(aU)return GC;aU=1;var t=vw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return GC=r,GC}var KC,oU;function Cye(){if(oU)return KC;oU=1;var t=vw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return KC=n,KC}var XC,lU;function Sye(){if(lU)return XC;lU=1;var t=bye(),e=wye(),n=Tye(),r=Eye(),i=Cye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,XC=s,XC}var JC,cU;function Dye(){if(cU)return JC;cU=1;var t=Sye(),e=gw(),n=a3();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return JC=r,JC}var YC,uU;function Aye(){if(uU)return YC;uU=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return YC=t,YC}var QC,dU;function xw(){if(dU)return QC;dU=1;var t=Aye();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return QC=e,QC}var ZC,fU;function Nye(){if(fU)return ZC;fU=1;var t=xw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return ZC=e,ZC}var eS,hU;function kye(){if(hU)return eS;hU=1;var t=xw();function e(n){return t(this,n).get(n)}return eS=e,eS}var tS,pU;function Iye(){if(pU)return tS;pU=1;var t=xw();function e(n){return t(this,n).has(n)}return tS=e,tS}var nS,mU;function Rye(){if(mU)return nS;mU=1;var t=xw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return nS=e,nS}var rS,gU;function lG(){if(gU)return rS;gU=1;var t=Dye(),e=Nye(),n=kye(),r=Iye(),i=Rye();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,rS=s,rS}var iS,yU;function Pye(){if(yU)return iS;yU=1;var t=gw(),e=a3(),n=lG(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return iS=i,iS}var sS,vU;function Fye(){if(vU)return sS;vU=1;var t=gw(),e=dye(),n=fye(),r=hye(),i=pye(),s=Pye();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,sS=a,sS}var aS,xU;function Mye(){if(xU)return aS;xU=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return aS=e,aS}var oS,_U;function Uye(){if(_U)return oS;_U=1;function t(e){return this.__data__.has(e)}return oS=t,oS}var lS,bU;function Oye(){if(bU)return lS;bU=1;var t=lG(),e=Mye(),n=Uye();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,lS=r,lS}var cS,wU;function Lye(){if(wU)return cS;wU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return cS=t,cS}var uS,TU;function jye(){if(TU)return uS;TU=1;function t(e,n){return e.has(n)}return uS=t,uS}var dS,EU;function cG(){if(EU)return dS;EU=1;var t=Oye(),e=Lye(),n=jye(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,p=a.length,v=o.length;if(p!=v&&!(h&&v>p))return!1;var g=f.get(a),y=f.get(o);if(g&&y)return g==o&&y==a;var b=-1,x=!0,w=l&i?new t:void 0;for(f.set(a,o),f.set(o,a);++b<p;){var E=a[b],S=o[b];if(c)var R=h?c(S,E,b,o,a,f):c(E,S,b,a,o,f);if(R!==void 0){if(R)continue;x=!1;break}if(w){if(!e(o,function(D,N){if(!n(w,N)&&(E===D||u(E,D,l,c,f)))return w.push(N)})){x=!1;break}}else if(!(E===S||u(E,S,l,c,f))){x=!1;break}}return f.delete(a),f.delete(o),x}return dS=s,dS}var fS,CU;function Bye(){if(CU)return fS;CU=1;var t=Sc(),e=t.Uint8Array;return fS=e,fS}var hS,SU;function Vye(){if(SU)return hS;SU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return hS=t,hS}var pS,DU;function Wye(){if(DU)return pS;DU=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return pS=t,pS}var mS,AU;function qye(){if(AU)return mS;AU=1;var t=s3(),e=Bye(),n=rG(),r=cG(),i=Vye(),s=Wye(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=t?t.prototype:void 0,E=w?w.valueOf:void 0;function S(R,D,N,I,F,P,k){switch(N){case x:if(R.byteLength!=D.byteLength||R.byteOffset!=D.byteOffset)return!1;R=R.buffer,D=D.buffer;case b:return!(R.byteLength!=D.byteLength||!P(new e(R),new e(D)));case l:case c:case h:return n(+R,+D);case u:return R.name==D.name&&R.message==D.message;case p:case g:return R==D+"";case f:var U=i;case v:var O=I&a;if(U||(U=s),R.size!=D.size&&!O)return!1;var X=k.get(R);if(X)return X==D;I|=o,k.set(R,D);var J=r(U(R),U(D),I,F,P,k);return k.delete(R),J;case y:if(E)return E.call(R)==E.call(D)}return!1}return mS=S,mS}var gS,NU;function zye(){if(NU)return gS;NU=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return gS=t,gS}var yS,kU;function o3(){if(kU)return yS;kU=1;var t=Array.isArray;return yS=t,yS}var vS,IU;function Hye(){if(IU)return vS;IU=1;var t=zye(),e=o3();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return vS=n,vS}var xS,RU;function $ye(){if(RU)return xS;RU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return xS=t,xS}var _S,PU;function Gye(){if(PU)return _S;PU=1;function t(){return[]}return _S=t,_S}var bS,FU;function Kye(){if(FU)return bS;FU=1;var t=$ye(),e=Gye(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return bS=s,bS}var wS,MU;function Xye(){if(MU)return wS;MU=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return wS=t,wS}var TS,UU;function _w(){if(UU)return TS;UU=1;function t(e){return e!=null&&typeof e=="object"}return TS=t,TS}var ES,OU;function Jye(){if(OU)return ES;OU=1;var t=yw(),e=_w(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return ES=r,ES}var CS,LU;function Yye(){if(LU)return CS;LU=1;var t=Jye(),e=_w(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return CS=s,CS}var h0={exports:{}},SS,jU;function Qye(){if(jU)return SS;jU=1;function t(){return!1}return SS=t,SS}h0.exports;var BU;function uG(){return BU||(BU=1,(function(t,e){var n=Sc(),r=Qye(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(h0,h0.exports)),h0.exports}var DS,VU;function Zye(){if(VU)return DS;VU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return DS=n,DS}var AS,WU;function dG(){if(WU)return AS;WU=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return AS=e,AS}var NS,qU;function eve(){if(qU)return NS;qU=1;var t=yw(),e=dG(),n=_w(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",R="[object Int32Array]",D="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",F="[object Uint32Array]",P={};P[x]=P[w]=P[E]=P[S]=P[R]=P[D]=P[N]=P[I]=P[F]=!0,P[r]=P[i]=P[y]=P[s]=P[b]=P[a]=P[o]=P[l]=P[c]=P[u]=P[f]=P[h]=P[p]=P[v]=P[g]=!1;function k(U){return n(U)&&e(U.length)&&!!P[t(U)]}return NS=k,NS}var kS,zU;function tve(){if(zU)return kS;zU=1;function t(e){return function(n){return e(n)}}return kS=t,kS}var p0={exports:{}};p0.exports;var HU;function nve(){return HU||(HU=1,(function(t,e){var n=iG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(p0,p0.exports)),p0.exports}var IS,$U;function fG(){if($U)return IS;$U=1;var t=eve(),e=tve(),n=nve(),r=n&&n.isTypedArray,i=r?e(r):t;return IS=i,IS}var RS,GU;function rve(){if(GU)return RS;GU=1;var t=Xye(),e=Yye(),n=o3(),r=uG(),i=Zye(),s=fG(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=n(c),h=!f&&e(c),p=!f&&!h&&r(c),v=!f&&!h&&!p&&s(c),g=f||h||p||v,y=g?t(c.length,String):[],b=y.length;for(var x in c)(u||o.call(c,x))&&!(g&&(x=="length"||p&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,b)))&&y.push(x);return y}return RS=l,RS}var PS,KU;function ive(){if(KU)return PS;KU=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return PS=e,PS}var FS,XU;function sve(){if(XU)return FS;XU=1;function t(e,n){return function(r){return e(n(r))}}return FS=t,FS}var MS,JU;function ave(){if(JU)return MS;JU=1;var t=sve(),e=t(Object.keys,Object);return MS=e,MS}var US,YU;function ove(){if(YU)return US;YU=1;var t=ive(),e=ave(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return US=i,US}var OS,QU;function lve(){if(QU)return OS;QU=1;var t=aG(),e=dG();function n(r){return r!=null&&e(r.length)&&!t(r)}return OS=n,OS}var LS,ZU;function cve(){if(ZU)return LS;ZU=1;var t=rve(),e=ove(),n=lve();function r(i){return n(i)?t(i):e(i)}return LS=r,LS}var jS,eO;function uve(){if(eO)return jS;eO=1;var t=Hye(),e=Kye(),n=cve();function r(i){return t(i,n,e)}return jS=r,jS}var BS,tO;function dve(){if(tO)return BS;tO=1;var t=uve(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&e,h=t(s),p=h.length,v=t(a),g=v.length;if(p!=g&&!f)return!1;for(var y=p;y--;){var b=h[y];if(!(f?b in a:r.call(a,b)))return!1}var x=u.get(s),w=u.get(a);if(x&&w)return x==a&&w==s;var E=!0;u.set(s,a),u.set(a,s);for(var S=f;++y<p;){b=h[y];var R=s[b],D=a[b];if(l)var N=f?l(D,R,b,a,s,u):l(R,D,b,s,a,u);if(!(N===void 0?R===D||c(R,D,o,l,u):N)){E=!1;break}S||(S=b=="constructor")}if(E&&!S){var I=s.constructor,F=a.constructor;I!=F&&"constructor"in s&&"constructor"in a&&!(typeof I=="function"&&I instanceof I&&typeof F=="function"&&F instanceof F)&&(E=!1)}return u.delete(s),u.delete(a),E}return BS=i,BS}var VS,nO;function fve(){if(nO)return VS;nO=1;var t=Wm(),e=Sc(),n=t(e,"DataView");return VS=n,VS}var WS,rO;function hve(){if(rO)return WS;rO=1;var t=Wm(),e=Sc(),n=t(e,"Promise");return WS=n,WS}var qS,iO;function pve(){if(iO)return qS;iO=1;var t=Wm(),e=Sc(),n=t(e,"Set");return qS=n,qS}var zS,sO;function mve(){if(sO)return zS;sO=1;var t=Wm(),e=Sc(),n=t(e,"WeakMap");return zS=n,zS}var HS,aO;function gve(){if(aO)return HS;aO=1;var t=fve(),e=a3(),n=hve(),r=pve(),i=mve(),s=yw(),a=oG(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",p=a(t),v=a(e),g=a(n),y=a(r),b=a(i),x=s;return(t&&x(new t(new ArrayBuffer(1)))!=h||e&&x(new e)!=o||n&&x(n.resolve())!=c||r&&x(new r)!=u||i&&x(new i)!=f)&&(x=function(w){var E=s(w),S=E==l?w.constructor:void 0,R=S?a(S):"";if(R)switch(R){case p:return h;case v:return o;case g:return c;case y:return u;case b:return f}return E}),HS=x,HS}var $S,oO;function yve(){if(oO)return $S;oO=1;var t=Fye(),e=cG(),n=qye(),r=dve(),i=gve(),s=o3(),a=uG(),o=fG(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(g,y,b,x,w,E){var S=s(g),R=s(y),D=S?u:i(g),N=R?u:i(y);D=D==c?f:D,N=N==c?f:N;var I=D==f,F=N==f,P=D==N;if(P&&a(g)){if(!a(y))return!1;S=!0,I=!1}if(P&&!I)return E||(E=new t),S||o(g)?e(g,y,b,x,w,E):n(g,y,D,b,x,w,E);if(!(b&l)){var k=I&&p.call(g,"__wrapped__"),U=F&&p.call(y,"__wrapped__");if(k||U){var O=k?g.value():g,X=U?y.value():y;return E||(E=new t),w(O,X,b,x,E)}}return P?(E||(E=new t),r(g,y,b,x,w,E)):!1}return $S=v,$S}var GS,lO;function vve(){if(lO)return GS;lO=1;var t=yve(),e=_w();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return GS=n,GS}var KS,cO;function xve(){if(cO)return KS;cO=1;var t=vve();function e(n,r){return t(n,r)}return KS=e,KS}var g2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var _ve=g2.exports,uO;function bve(){return uO||(uO=1,(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:_ve,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=109)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(18),o=i(19),l=i(45),c=i(46),u=i(47),f=i(48),h=i(49),p=i(12),v=i(32),g=i(33),y=i(31),b=i(1),x={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:s.default,Format:a.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:g.default,Store:y.default}};r.default=x}),(function(n,r,i){var s=this&&this.__extends||(function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var w in x)x.hasOwnProperty(w)&&(b[w]=x[w])};return function(b,x){y(b,x);function w(){this.constructor=b}b.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=(function(y){s(b,y);function b(x){var w=this;return x="[Parchment] "+x,w=y.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return b})(Error);r.ParchmentError=a;var o={},l={},c={},u={};r.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(y,b){var x=v(y);if(x==null)throw new a("Unable to create "+y+" blot");var w=x,E=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(b);return new w(E,b)}r.create=h;function p(y,b){return b===void 0&&(b=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:b?p(y.parentNode,b):null}r.find=p;function v(y,b){b===void 0&&(b=f.ANY);var x;if(typeof y=="string")x=u[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)x=u.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?x=u.block:y&f.LEVEL&f.INLINE&&(x=u.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var E in w)if(x=l[w[E]],x)break;x=x||c[y.tagName]}return x==null?null:b&f.LEVEL&x.scope&&b&f.TYPE&x.scope?x:null}r.query=v;function g(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];if(y.length>1)return y.map(function(E){return g(E)});var x=y[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new a("Invalid definition");if(x.blotName==="abstract")throw new a("Cannot register abstract class");if(u[x.blotName||x.attrName]=x,typeof x.keyName=="string")o[x.keyName]=x;else if(x.className!=null&&(l[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(E){return E.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(E){(c[E]==null||x.className==null)&&(c[E]=x)})}return x}r.register=g}),(function(n,r,i){var s=i(51),a=i(11),o=i(3),l=i(20),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=o(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(a(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(v){var g=f(v)?h:p;g.push(v)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],v=l.iterator(this.ops),g=0;g<h&&v.hasNext();){var y;g<f?y=v.next(f-g):(y=v.next(h-g),p.push(y)),g+=l.length(y)}return new u(p)},u.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),v=[],g=p.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),v.push(h.next());g.retain-y>0&&p.next(g.retain-y)}for(var b=new u(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(h.peekType()==="delete")b.push(h.next());else{var x=Math.min(h.peekLength(),p.peekLength()),w=h.next(x),E=p.next(x);if(typeof E.retain=="number"){var S={};typeof w.retain=="number"?S.retain=x:S.insert=w.insert;var R=l.attributes.compose(w.attributes,E.attributes,typeof w.retain=="number");if(R&&(S.attributes=R),b.push(S),!p.hasNext()&&a(b.ops[b.ops.length-1],S)){var D=new u(h.rest());return b.concat(D).chop()}}else typeof E.delete=="number"&&typeof w.retain=="number"&&b.push(E)}return b.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:c;var E=x===f?"on":"with";throw new Error("diff() called "+E+" non-document")}).join("")}),v=new u,g=s(p[0],p[1],h),y=l.iterator(this.ops),b=l.iterator(f.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var E=0;switch(x[0]){case s.INSERT:E=Math.min(b.peekLength(),w),v.push(b.next(E));break;case s.DELETE:E=Math.min(w,y.peekLength()),y.next(E),v.delete(E);break;case s.EQUAL:E=Math.min(y.peekLength(),b.peekLength(),w);var S=y.next(E),R=b.next(E);a(S.insert,R.insert)?v.retain(E,l.attributes.diff(S.attributes,R.attributes)):v.push(R).delete(E);break}w-=E}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),v=new u,g=0;p.hasNext();){if(p.peekType()!=="insert")return;var y=p.peek(),b=l.length(y)-p.peekLength(),x=typeof y.insert=="string"?y.insert.indexOf(h,b)-b:-1;if(x<0)v.push(p.next());else if(x>0)v.push(p.next(x));else{if(f(v,p.next(1).attributes||{},g)===!1)return;g+=1,v=new u}}v.length()>0&&f(v,{},g)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),g=new u;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))g.retain(l.length(p.next()));else if(v.peekType()==="insert")g.push(v.next());else{var y=Math.min(p.peekLength(),v.peekLength()),b=p.next(y),x=v.next(y);if(b.delete)continue;x.delete?g.push(x):g.retain(y,l.attributes.transform(b.attributes,x.attributes,h))}return g.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var g=p.peekLength(),y=p.peekType();if(p.next(),y==="delete"){f-=Math.min(g,f-v);continue}else y==="insert"&&(v<f||!h)&&(f+=g);v+=g}return f},n.exports=u}),(function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!g)return!1;var y;for(y in p);return typeof y>"u"||i.call(p,y)},u=function(p,v){a&&v.name==="__proto__"?a(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(o)return o(p,v).value}else return;return p[v]};n.exports=function h(){var p,v,g,y,b,x,w=arguments[0],E=1,S=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},E=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});E<S;++E)if(p=arguments[E],p!=null)for(v in p)g=f(w,v),y=f(p,v),w!==y&&(R&&y&&(c(y)||(b=l(y)))?(b?(b=!1,x=g&&l(g)?g:[]):x=g&&c(g)?g:{},u(w,{name:v,newValue:h(R,x,y)})):typeof y<"u"&&u(w,{name:v,newValue:y}));return w}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=(function(){function P(k,U){for(var O=0;O<U.length;O++){var X=U[O];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(k,X.key,X)}}return function(k,U,O){return U&&P(k.prototype,U),O&&P(k,O),k}})(),a=function P(k,U,O){k===null&&(k=Function.prototype);var X=Object.getOwnPropertyDescriptor(k,U);if(X===void 0){var J=Object.getPrototypeOf(k);return J===null?void 0:P(J,U,O)}else{if("value"in X)return X.value;var Y=X.get;return Y===void 0?void 0:Y.call(O)}},o=i(3),l=w(o),c=i(2),u=w(c),f=i(0),h=w(f),p=i(16),v=w(p),g=i(6),y=w(g),b=i(7),x=w(b);function w(P){return P&&P.__esModule?P:{default:P}}function E(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}function S(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:P}function R(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}var D=1,N=(function(P){R(k,P);function k(){return E(this,k),S(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"attach",value:function(){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,X){var J=h.default.query(O,h.default.Scope.BLOCK_ATTRIBUTE);J!=null&&this.attributes.attribute(J,X)}},{key:"formatAt",value:function(O,X,J,Y){this.format(J,Y)}},{key:"insertAt",value:function(O,X,J){if(typeof X=="string"&&X.endsWith(`
`)){var Y=h.default.create(I.blotName);this.parent.insertBefore(Y,O===0?this:this.next),Y.insertAt(0,X.slice(0,-1))}else a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,O,X,J)}}]),k})(h.default.Embed);N.scope=h.default.Scope.BLOCK_BLOT;var I=(function(P){R(k,P);function k(U){E(this,k);var O=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U));return O.cache={},O}return s(k,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(O,X){return X.length()===0?O:O.insert(X.value(),F(X))},new u.default).insert(`
`,F(this))),this.cache.delta}},{key:"deleteAt",value:function(O,X){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,O,X),this.cache={}}},{key:"formatAt",value:function(O,X,J,Y){X<=0||(h.default.query(J,h.default.Scope.BLOCK)?O+X===this.length()&&this.format(J,Y):a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,O,Math.min(X,this.length()-O-1),J,Y),this.cache={})}},{key:"insertAt",value:function(O,X,J){if(J!=null)return a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,O,X,J);if(X.length!==0){var Y=X.split(`
`),ne=Y.shift();ne.length>0&&(O<this.length()-1||this.children.tail==null?a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),ne):this.children.tail.insertAt(this.children.tail.length(),ne),this.cache={});var z=this;Y.reduce(function(K,B){return z=z.split(K,!0),z.insertAt(0,B),B.length},O+ne.length)}}},{key:"insertBefore",value:function(O,X){var J=this.children.head;a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,X),J instanceof v.default&&J.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"length",this).call(this)+D),this.cache.length}},{key:"moveChildren",value:function(O,X){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"moveChildren",this).call(this,O,X),this.cache={}}},{key:"optimize",value:function(O){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(X&&(O===0||O>=this.length()-D)){var J=this.clone();return O===0?(this.parent.insertBefore(J,this),this):(this.parent.insertBefore(J,this.next),J)}else{var Y=a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"split",this).call(this,O,X);return this.cache={},Y}}}]),k})(h.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[y.default,h.default.Embed,x.default];function F(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(k=(0,l.default)(k,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?k:F(P.parent,k)}r.bubbleFormats=F,r.BlockEmbed=N,r.default=I}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(K,B){var j=[],W=!0,H=!1,Q=void 0;try{for(var Z=K[Symbol.iterator](),se;!(W=(se=Z.next()).done)&&(j.push(se.value),!(B&&j.length===B));W=!0);}catch(ce){H=!0,Q=ce}finally{try{!W&&Z.return&&Z.return()}finally{if(H)throw Q}}return j}return function(K,B){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return z(K,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(K,B){for(var j=0;j<B.length;j++){var W=B[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(K,W.key,W)}}return function(K,B,j){return B&&z(K.prototype,B),j&&z(K,j),K}})();i(50);var l=i(2),c=F(l),u=i(14),f=F(u),h=i(8),p=F(h),v=i(9),g=F(v),y=i(0),b=F(y),x=i(15),w=F(x),E=i(3),S=F(E),R=i(10),D=F(R),N=i(34),I=F(N);function F(z){return z&&z.__esModule?z:{default:z}}function P(z,K,B){return K in z?Object.defineProperty(z,K,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[K]=B,z}function k(z,K){if(!(z instanceof K))throw new TypeError("Cannot call a class as a function")}var U=(0,D.default)("quill"),O=(function(){o(z,null,[{key:"debug",value:function(B){B===!0&&(B="log"),D.default.level(B)}},{key:"find",value:function(B){return B.__quill||b.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&U.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,j){var W=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Q=B.attrName||B.blotName;typeof Q=="string"?this.register("formats/"+Q,B,j):Object.keys(B).forEach(function(Z){W.register(Z,B[Z],j)})}else this.imports[B]!=null&&!H&&U.warn("Overwriting "+B+" with",j),this.imports[B]=j,(B.startsWith("blots/")||B.startsWith("formats/"))&&j.blotName!=="abstract"?b.default.register(j):B.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function z(K){var B=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(k(this,z),this.options=X(K,j),this.container=this.options.container,this.container==null)return U.error("Invalid Quill container",K);this.options.debug&&z.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,Z){var se=B.selection.lastRange,ce=se&&se.length===0?se.index:void 0;J.call(B,function(){return B.editor.update(null,Z,ce)},Q)});var H=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(z,[{key:"addContainer",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var W=B;B=document.createElement("div"),B.classList.add(W)}return this.container.insertBefore(B,j),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,j,W){var H=this,Q=Y(B,j,W),Z=a(Q,4);return B=Z[0],j=Z[1],W=Z[3],J.call(this,function(){return H.editor.deleteText(B,j)},W,B,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,j){var W=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return J.call(this,function(){var Q=W.getSelection(!0),Z=new c.default;if(Q==null)return Z;if(b.default.query(B,b.default.Scope.BLOCK))Z=W.editor.formatLine(Q.index,Q.length,P({},B,j));else{if(Q.length===0)return W.selection.format(B,j),Z;Z=W.editor.formatText(Q.index,Q.length,P({},B,j))}return W.setSelection(Q,p.default.sources.SILENT),Z},H)}},{key:"formatLine",value:function(B,j,W,H,Q){var Z=this,se=void 0,ce=Y(B,j,W,H,Q),ue=a(ce,4);return B=ue[0],j=ue[1],se=ue[2],Q=ue[3],J.call(this,function(){return Z.editor.formatLine(B,j,se)},Q,B,0)}},{key:"formatText",value:function(B,j,W,H,Q){var Z=this,se=void 0,ce=Y(B,j,W,H,Q),ue=a(ce,4);return B=ue[0],j=ue[1],se=ue[2],Q=ue[3],J.call(this,function(){return Z.editor.formatText(B,j,se)},Q,B,0)}},{key:"getBounds",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof B=="number"?W=this.selection.getBounds(B,j):W=this.selection.getBounds(B.index,B.length);var H=this.container.getBoundingClientRect();return{bottom:W.bottom-H.top,height:W.height,left:W.left-H.left,right:W.right-H.left,top:W.top-H.top,width:W.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,W=Y(B,j),H=a(W,2);return B=H[0],j=H[1],this.editor.getContents(B,j)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,j):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,j)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,W=Y(B,j),H=a(W,2);return B=H[0],j=H[1],this.editor.getText(B,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,j,W){var H=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return J.call(this,function(){return H.editor.insertEmbed(B,j,W)},Q,B)}},{key:"insertText",value:function(B,j,W,H,Q){var Z=this,se=void 0,ce=Y(B,0,W,H,Q),ue=a(ce,4);return B=ue[0],se=ue[2],Q=ue[3],J.call(this,function(){return Z.editor.insertText(B,j,se)},Q,B,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,j,W){this.clipboard.dangerouslyPasteHTML(B,j,W)}},{key:"removeFormat",value:function(B,j,W){var H=this,Q=Y(B,j,W),Z=a(Q,4);return B=Z[0],j=Z[1],W=Z[3],J.call(this,function(){return H.editor.removeFormat(B,j)},W,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var j=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return J.call(this,function(){B=new c.default(B);var H=j.getLength(),Q=j.editor.deleteText(0,H),Z=j.editor.applyDelta(B),se=Z.ops[Z.ops.length-1];se!=null&&typeof se.insert=="string"&&se.insert[se.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),Z.delete(1));var ce=Q.compose(Z);return ce},W)}},{key:"setSelection",value:function(B,j,W){if(B==null)this.selection.setRange(null,j||z.sources.API);else{var H=Y(B,j,W),Q=a(H,4);B=Q[0],j=Q[1],W=Q[3],this.selection.setRange(new x.Range(B,j),W),W!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,W=new c.default().insert(B);return this.setContents(W,j)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(B);return this.selection.update(B),j}},{key:"updateContents",value:function(B){var j=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return J.call(this,function(){return B=new c.default(B),j.editor.applyDelta(B,W)},W,!0)}}]),z})();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=p.default.events,O.sources=p.default.sources,O.version="1.3.7",O.imports={delta:c.default,parchment:b.default,"core/module":g.default,"core/theme":I.default};function X(z,K){if(K=(0,S.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},K),!K.theme||K.theme===O.DEFAULTS.theme)K.theme=I.default;else if(K.theme=O.import("themes/"+K.theme),K.theme==null)throw new Error("Invalid theme "+K.theme+". Did you register it?");var B=(0,S.default)(!0,{},K.theme.DEFAULTS);[B,K].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function(Q){H.modules[Q]===!0&&(H.modules[Q]={})})});var j=Object.keys(B.modules).concat(Object.keys(K.modules)),W=j.reduce(function(H,Q){var Z=O.import("modules/"+Q);return Z==null?U.error("Cannot load "+Q+" module. Are you sure you registered it?"):H[Q]=Z.DEFAULTS||{},H},{});return K.modules!=null&&K.modules.toolbar&&K.modules.toolbar.constructor!==Object&&(K.modules.toolbar={container:K.modules.toolbar}),K=(0,S.default)(!0,{},O.DEFAULTS,{modules:W},B,K),["bounds","container","scrollingContainer"].forEach(function(H){typeof K[H]=="string"&&(K[H]=document.querySelector(K[H]))}),K.modules=Object.keys(K.modules).reduce(function(H,Q){return K.modules[Q]&&(H[Q]=K.modules[Q]),H},{}),K}function J(z,K,B,j){if(this.options.strict&&!this.isEnabled()&&K===p.default.sources.USER)return new c.default;var W=B==null?null:this.getSelection(),H=this.editor.delta,Q=z();if(W!=null&&(B===!0&&(B=W.index),j==null?W=ne(W,Q,K):j!==0&&(W=ne(W,B,j,K)),this.setSelection(W,p.default.sources.SILENT)),Q.length()>0){var Z,se=[p.default.events.TEXT_CHANGE,Q,H,K];if((Z=this.emitter).emit.apply(Z,[p.default.events.EDITOR_CHANGE].concat(se)),K!==p.default.sources.SILENT){var ce;(ce=this.emitter).emit.apply(ce,se)}}return Q}function Y(z,K,B,j,W){var H={};return typeof z.index=="number"&&typeof z.length=="number"?typeof K!="number"?(W=j,j=B,B=K,K=z.length,z=z.index):(K=z.length,z=z.index):typeof K!="number"&&(W=j,j=B,B=K,K=0),(typeof B>"u"?"undefined":s(B))==="object"?(H=B,W=j):typeof B=="string"&&(j!=null?H[B]=j:W=B),W=W||p.default.sources.API,[z,K,H,W]}function ne(z,K,B,j){if(z==null)return null;var W=void 0,H=void 0;if(K instanceof c.default){var Q=[z.index,z.index+z.length].map(function(ue){return K.transformPosition(ue,j!==p.default.sources.USER)}),Z=a(Q,2);W=Z[0],H=Z[1]}else{var se=[z.index,z.index+z.length].map(function(ue){return ue<K||ue===K&&j===p.default.sources.USER?ue:B>=0?ue+B:Math.max(K,ue+B)}),ce=a(se,2);W=ce[0],H=ce[1]}return new x.Range(W,H-W)}r.expandConfig=X,r.overload=Y,r.default=O}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),a=function y(b,x,w){b===null&&(b=Function.prototype);var E=Object.getOwnPropertyDescriptor(b,x);if(E===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,x,w)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(w)}},o=i(7),l=f(o),c=i(0),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function p(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function v(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var g=(function(y){v(b,y);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"formatAt",value:function(w,E,S,R){if(b.compare(this.statics.blotName,S)<0&&u.default.query(S,u.default.Scope.BLOT)){var D=this.isolate(w,E);R&&D.wrap(S,R)}else a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,w,E,S,R)}},{key:"optimize",value:function(w){if(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,w),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var E=this.parent.isolate(this.offset(),this.length());this.moveChildren(E),E.wrap(this)}}}],[{key:"compare",value:function(w,E){var S=b.order.indexOf(w),R=b.order.indexOf(E);return S>=0||R>=0?S-R:w===E?0:w<E?-1:1}}]),b})(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default.Text);r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function x(w,E){for(var S=0;S<E.length;S++){var R=E[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,E,S){return E&&x(w.prototype,E),S&&x(w,S),w}})(),a=function x(w,E,S){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,E);if(R===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:x(D,E,S)}else{if("value"in R)return R.value;var N=R.get;return N===void 0?void 0:N.call(S)}},o=i(54),l=f(o),c=i(10),u=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function p(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function v(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,E=Array(w),S=0;S<w;S++)E[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var D;(D=R.__quill.emitter).handleDOM.apply(D,E)}})})});var b=(function(x){v(w,x);function w(){h(this,w);var E=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return E.listeners={},E.on("error",g.error),E}return s(w,[{key:"emit",value:function(){g.log.apply(g,arguments),a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var R=arguments.length,D=Array(R>1?R-1:0),N=1;N<R;N++)D[N-1]=arguments[N];(this.listeners[S.type]||[]).forEach(function(I){var F=I.node,P=I.handler;(S.target===F||F.contains(S.target))&&P.apply(void 0,[S].concat(D))})}},{key:"listenDOM",value:function(S,R,D){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:R,handler:D})}}]),w})(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,o),this.quill=l,this.options=c};a.DEFAULTS={},r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function o(c){if(s.indexOf(c)<=s.indexOf(a)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[c].apply(u,h)}}function l(c){return s.reduce(function(u,f){return u[f]=o.bind(console,f,c),u},{})}o.level=l.level=function(c){a=c},r.default=l}),(function(n,r,i){var s=Array.prototype.slice,a=i(52),o=i(53),l=n.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:f(h,p,v)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,v){var g,y;if(c(h)||c(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=s.call(h),p=s.call(p),l(h,p,v)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==p[g])return!1;return!0}try{var b=a(h),x=a(p)}catch{return!1}if(b.length!=x.length)return!1;for(b.sort(),x.sort(),g=b.length-1;g>=0;g--)if(b[g]!=x[g])return!1;for(g=b.length-1;g>=0;g--)if(y=b[g],!l(h[y],p[y],v))return!1;return typeof h==typeof p}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=(function(){function N(I,F){var P=[],k=!0,U=!1,O=void 0;try{for(var X=I[Symbol.iterator](),J;!(k=(J=X.next()).done)&&(P.push(J.value),!(F&&P.length===F));k=!0);}catch(Y){U=!0,O=Y}finally{try{!k&&X.return&&X.return()}finally{if(U)throw O}}return P}return function(I,F){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(I,F){for(var P=0;P<F.length;P++){var k=F[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,F,P){return F&&N(I.prototype,F),P&&N(I,P),I}})(),o=function N(I,F,P){I===null&&(I=Function.prototype);var k=Object.getOwnPropertyDescriptor(I,F);if(k===void 0){var U=Object.getPrototypeOf(I);return U===null?void 0:N(U,F,P)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(P)}},l=i(2),c=x(l),u=i(0),f=x(u),h=i(4),p=x(h),v=i(6),g=x(v),y=i(7),b=x(y);function x(N){return N&&N.__esModule?N:{default:N}}function w(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function E(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function S(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}var R=(function(N){S(I,N);function I(){return w(this,I),E(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I})(g.default);R.blotName="code",R.tagName="CODE";var D=(function(N){S(I,N);function I(){return w(this,I),E(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return a(I,[{key:"delta",value:function(){var P=this,k=this.domNode.textContent;return k.endsWith(`
`)&&(k=k.slice(0,-1)),k.split(`
`).reduce(function(U,O){return U.insert(O).insert(`
`,P.formats())},new c.default)}},{key:"format",value:function(P,k){if(!(P===this.statics.blotName&&k)){var U=this.descendant(b.default,this.length()-1),O=s(U,1),X=O[0];X!=null&&X.deleteAt(X.length()-1,1),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,P,k)}}},{key:"formatAt",value:function(P,k,U,O){if(k!==0&&!(f.default.query(U,f.default.Scope.BLOCK)==null||U===this.statics.blotName&&O===this.statics.formats(this.domNode))){var X=this.newlineIndex(P);if(!(X<0||X>=P+k)){var J=this.newlineIndex(P,!0)+1,Y=X-J+1,ne=this.isolate(J,Y),z=ne.next;ne.format(U,O),z instanceof I&&z.formatAt(0,P-J+k-Y,U,O)}}}},{key:"insertAt",value:function(P,k,U){if(U==null){var O=this.descendant(b.default,P),X=s(O,2),J=X[0],Y=X[1];J.insertAt(Y,k)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var U=this.domNode.textContent.slice(P).indexOf(`
`);return U>-1?P+U:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,P);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===k.statics.formats(k.domNode)&&(k.optimize(P),k.moveChildren(this),k.remove())}},{key:"replace",value:function(P){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(k){var U=f.default.find(k);U==null?k.parentNode.removeChild(k):U instanceof f.default.Embed?U.remove():U.unwrap()})}}],[{key:"create",value:function(P){var k=o(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,P);return k.setAttribute("spellcheck",!1),k}},{key:"formats",value:function(){return!0}}]),I})(p.default);D.blotName="code-block",D.tagName="PRE",D.TAB="  ",r.Code=R,r.default=D}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},a=(function(){function z(K,B){var j=[],W=!0,H=!1,Q=void 0;try{for(var Z=K[Symbol.iterator](),se;!(W=(se=Z.next()).done)&&(j.push(se.value),!(B&&j.length===B));W=!0);}catch(ce){H=!0,Q=ce}finally{try{!W&&Z.return&&Z.return()}finally{if(H)throw Q}}return j}return function(K,B){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return z(K,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function z(K,B){for(var j=0;j<B.length;j++){var W=B[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(K,W.key,W)}}return function(K,B,j){return B&&z(K.prototype,B),j&&z(K,j),K}})(),l=i(2),c=k(l),u=i(20),f=k(u),h=i(0),p=k(h),v=i(13),g=k(v),y=i(24),b=k(y),x=i(4),w=k(x),E=i(16),S=k(E),R=i(21),D=k(R),N=i(11),I=k(N),F=i(3),P=k(F);function k(z){return z&&z.__esModule?z:{default:z}}function U(z,K,B){return K in z?Object.defineProperty(z,K,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[K]=B,z}function O(z,K){if(!(z instanceof K))throw new TypeError("Cannot call a class as a function")}var X=/^[ -~]*$/,J=(function(){function z(K){O(this,z),this.scroll=K,this.delta=this.getDelta()}return o(z,[{key:"applyDelta",value:function(B){var j=this,W=!1;this.scroll.update();var H=this.scroll.length();return this.scroll.batchStart(),B=ne(B),B.reduce(function(Q,Z){var se=Z.retain||Z.delete||Z.insert.length||1,ce=Z.attributes||{};if(Z.insert!=null){if(typeof Z.insert=="string"){var ue=Z.insert;ue.endsWith(`
`)&&W&&(W=!1,ue=ue.slice(0,-1)),Q>=H&&!ue.endsWith(`
`)&&(W=!0),j.scroll.insertAt(Q,ue);var Ee=j.scroll.line(Q),Ie=a(Ee,2),fe=Ie[0],Le=Ie[1],V=(0,P.default)({},(0,x.bubbleFormats)(fe));if(fe instanceof w.default){var ye=fe.descendant(p.default.Leaf,Le),be=a(ye,1),oe=be[0];V=(0,P.default)(V,(0,x.bubbleFormats)(oe))}ce=f.default.attributes.diff(V,ce)||{}}else if(s(Z.insert)==="object"){var re=Object.keys(Z.insert)[0];if(re==null)return Q;j.scroll.insertAt(Q,re,Z.insert[re])}H+=se}return Object.keys(ce).forEach(function(le){j.scroll.formatAt(Q,se,le,ce[le])}),Q+se},0),B.reduce(function(Q,Z){return typeof Z.delete=="number"?(j.scroll.deleteAt(Q,Z.delete),Q):Q+(Z.retain||Z.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,j){return this.scroll.deleteAt(B,j),this.update(new c.default().retain(B).delete(j))}},{key:"formatLine",value:function(B,j){var W=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(H).forEach(function(Q){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[Q])){var Z=W.scroll.lines(B,Math.max(j,1)),se=j;Z.forEach(function(ce){var ue=ce.length();if(!(ce instanceof g.default))ce.format(Q,H[Q]);else{var Ee=B-ce.offset(W.scroll),Ie=ce.newlineIndex(Ee+se)-Ee+1;ce.formatAt(Ee,Ie,Q,H[Q])}se-=ue})}}),this.scroll.optimize(),this.update(new c.default().retain(B).retain(j,(0,D.default)(H)))}},{key:"formatText",value:function(B,j){var W=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(H).forEach(function(Q){W.scroll.formatAt(B,j,Q,H[Q])}),this.update(new c.default().retain(B).retain(j,(0,D.default)(H)))}},{key:"getContents",value:function(B,j){return this.delta.slice(B,B+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,j){return B.concat(j.delta())},new c.default)}},{key:"getFormat",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],H=[];j===0?this.scroll.path(B).forEach(function(Z){var se=a(Z,1),ce=se[0];ce instanceof w.default?W.push(ce):ce instanceof p.default.Leaf&&H.push(ce)}):(W=this.scroll.lines(B,j),H=this.scroll.descendants(p.default.Leaf,B,j));var Q=[W,H].map(function(Z){if(Z.length===0)return{};for(var se=(0,x.bubbleFormats)(Z.shift());Object.keys(se).length>0;){var ce=Z.shift();if(ce==null)return se;se=Y((0,x.bubbleFormats)(ce),se)}return se});return P.default.apply(P.default,Q)}},{key:"getText",value:function(B,j){return this.getContents(B,j).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(B,j,W){return this.scroll.insertAt(B,j,W),this.update(new c.default().retain(B).insert(U({},j,W)))}},{key:"insertText",value:function(B,j){var W=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,j),Object.keys(H).forEach(function(Q){W.scroll.formatAt(B,j.length,Q,H[Q])}),this.update(new c.default().retain(B).insert(j,(0,D.default)(H)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==w.default.blotName||B.children.length>1?!1:B.children.head instanceof S.default}},{key:"removeFormat",value:function(B,j){var W=this.getText(B,j),H=this.scroll.line(B+j),Q=a(H,2),Z=Q[0],se=Q[1],ce=0,ue=new c.default;Z!=null&&(Z instanceof g.default?ce=Z.newlineIndex(se)-se+1:ce=Z.length()-se,ue=Z.delta().slice(se,se+ce-1).insert(`
`));var Ee=this.getContents(B,j+ce),Ie=Ee.diff(new c.default().insert(W).concat(ue)),fe=new c.default().retain(B).concat(Ie);return this.applyDelta(fe)}},{key:"update",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,H=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(X)&&p.default.find(j[0].target)){var Q=p.default.find(j[0].target),Z=(0,x.bubbleFormats)(Q),se=Q.offset(this.scroll),ce=j[0].oldValue.replace(b.default.CONTENTS,""),ue=new c.default().insert(ce),Ee=new c.default().insert(Q.value()),Ie=new c.default().retain(se).concat(ue.diff(Ee,W));B=Ie.reduce(function(fe,Le){return Le.insert?fe.insert(Le.insert,Z):fe.push(Le)},new c.default),this.delta=H.compose(B)}else this.delta=this.getDelta(),(!B||!(0,I.default)(H.compose(B),this.delta))&&(B=H.diff(this.delta,W));return B}}]),z})();function Y(z,K){return Object.keys(K).reduce(function(B,j){return z[j]==null||(K[j]===z[j]?B[j]=K[j]:Array.isArray(K[j])?K[j].indexOf(z[j])<0&&(B[j]=K[j].concat([z[j]])):B[j]=[K[j],z[j]]),B},{})}function ne(z){return z.reduce(function(K,B){if(B.insert===1){var j=(0,D.default)(B.attributes);return delete j.image,K.insert({image:B.attributes.image},j)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,D.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var W=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return K.insert(W,B.attributes)}return K.push(B)},new c.default)}r.default=J}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=(function(){function N(I,F){var P=[],k=!0,U=!1,O=void 0;try{for(var X=I[Symbol.iterator](),J;!(k=(J=X.next()).done)&&(P.push(J.value),!(F&&P.length===F));k=!0);}catch(Y){U=!0,O=Y}finally{try{!k&&X.return&&X.return()}finally{if(U)throw O}}return P}return function(I,F){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function N(I,F){for(var P=0;P<F.length;P++){var k=F[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,F,P){return F&&N(I.prototype,F),P&&N(I,P),I}})(),o=i(0),l=b(o),c=i(21),u=b(c),f=i(11),h=b(f),p=i(8),v=b(p),g=i(10),y=b(g);function b(N){return N&&N.__esModule?N:{default:N}}function x(N){if(Array.isArray(N)){for(var I=0,F=Array(N.length);I<N.length;I++)F[I]=N[I];return F}else return Array.from(N)}function w(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}var E=(0,y.default)("quill:selection"),S=function N(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,N),this.index=I,this.length=F},R=(function(){function N(I,F){var P=this;w(this,N),this.emitter=F,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(k,U){k===v.default.events.TEXT_CHANGE&&U.length()>0&&P.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var k=P.getNativeRange();k!=null&&k.start.node!==P.cursor.textNode&&P.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(k.start.node,k.start.offset,k.end.node,k.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(k,U){if(U.range){var O=U.range,X=O.startNode,J=O.startOffset,Y=O.endNode,ne=O.endOffset;P.setNativeRange(X,J,Y,ne)}}),this.update(v.default.sources.SILENT)}return a(N,[{key:"handleComposition",value:function(){var F=this;this.root.addEventListener("compositionstart",function(){F.composing=!0}),this.root.addEventListener("compositionend",function(){if(F.composing=!1,F.cursor.parent){var P=F.cursor.restore();if(!P)return;setTimeout(function(){F.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var F=this;this.emitter.listenDOM("mousedown",document.body,function(){F.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){F.mouseDown=!1,F.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(F,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[F])){this.scroll.update();var k=this.getNativeRange();if(!(k==null||!k.native.collapsed||l.default.query(F,l.default.Scope.BLOCK))){if(k.start.node!==this.cursor.textNode){var U=l.default.find(k.start.node,!1);if(U==null)return;if(U instanceof l.default.Leaf){var O=U.split(k.start.offset);U.parent.insertBefore(this.cursor,O)}else U.insertBefore(this.cursor,k.start.node);this.cursor.attach()}this.cursor.format(F,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=this.scroll.length();F=Math.min(F,k-1),P=Math.min(F+P,k-1)-F;var U=void 0,O=this.scroll.leaf(F),X=s(O,2),J=X[0],Y=X[1];if(J==null)return null;var ne=J.position(Y,!0),z=s(ne,2);U=z[0],Y=z[1];var K=document.createRange();if(P>0){K.setStart(U,Y);var B=this.scroll.leaf(F+P),j=s(B,2);if(J=j[0],Y=j[1],J==null)return null;var W=J.position(Y,!0),H=s(W,2);return U=H[0],Y=H[1],K.setEnd(U,Y),K.getBoundingClientRect()}else{var Q="left",Z=void 0;return U instanceof Text?(Y<U.data.length?(K.setStart(U,Y),K.setEnd(U,Y+1)):(K.setStart(U,Y-1),K.setEnd(U,Y),Q="right"),Z=K.getBoundingClientRect()):(Z=J.domNode.getBoundingClientRect(),Y>0&&(Q="right")),{bottom:Z.top+Z.height,height:Z.height,left:Z[Q],right:Z[Q],top:Z.top,width:0}}}},{key:"getNativeRange",value:function(){var F=document.getSelection();if(F==null||F.rangeCount<=0)return null;var P=F.getRangeAt(0);if(P==null)return null;var k=this.normalizeNative(P);return E.info("getNativeRange",k),k}},{key:"getRange",value:function(){var F=this.getNativeRange();if(F==null)return[null,null];var P=this.normalizedToRange(F);return[P,F]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(F){var P=this,k=[[F.start.node,F.start.offset]];F.native.collapsed||k.push([F.end.node,F.end.offset]);var U=k.map(function(J){var Y=s(J,2),ne=Y[0],z=Y[1],K=l.default.find(ne,!0),B=K.offset(P.scroll);return z===0?B:K instanceof l.default.Container?B+K.length():B+K.index(ne,z)}),O=Math.min(Math.max.apply(Math,x(U)),this.scroll.length()-1),X=Math.min.apply(Math,[O].concat(x(U)));return new S(X,O-X)}},{key:"normalizeNative",value:function(F){if(!D(this.root,F.startContainer)||!F.collapsed&&!D(this.root,F.endContainer))return null;var P={start:{node:F.startContainer,offset:F.startOffset},end:{node:F.endContainer,offset:F.endOffset},native:F};return[P.start,P.end].forEach(function(k){for(var U=k.node,O=k.offset;!(U instanceof Text)&&U.childNodes.length>0;)if(U.childNodes.length>O)U=U.childNodes[O],O=0;else if(U.childNodes.length===O)U=U.lastChild,O=U instanceof Text?U.data.length:U.childNodes.length+1;else break;k.node=U,k.offset=O}),P}},{key:"rangeToNative",value:function(F){var P=this,k=F.collapsed?[F.index]:[F.index,F.index+F.length],U=[],O=this.scroll.length();return k.forEach(function(X,J){X=Math.min(O-1,X);var Y=void 0,ne=P.scroll.leaf(X),z=s(ne,2),K=z[0],B=z[1],j=K.position(B,J!==0),W=s(j,2);Y=W[0],B=W[1],U.push(Y,B)}),U.length<2&&(U=U.concat(U)),U}},{key:"scrollIntoView",value:function(F){var P=this.lastRange;if(P!=null){var k=this.getBounds(P.index,P.length);if(k!=null){var U=this.scroll.length()-1,O=this.scroll.line(Math.min(P.index,U)),X=s(O,1),J=X[0],Y=J;if(P.length>0){var ne=this.scroll.line(Math.min(P.index+P.length,U)),z=s(ne,1);Y=z[0]}if(!(J==null||Y==null)){var K=F.getBoundingClientRect();k.top<K.top?F.scrollTop-=K.top-k.top:k.bottom>K.bottom&&(F.scrollTop+=k.bottom-K.bottom)}}}}},{key:"setNativeRange",value:function(F,P){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(E.info("setNativeRange",F,P,k,U),!(F!=null&&(this.root.parentNode==null||F.parentNode==null||k.parentNode==null))){var X=document.getSelection();if(X!=null)if(F!=null){this.hasFocus()||this.root.focus();var J=(this.getNativeRange()||{}).native;if(J==null||O||F!==J.startContainer||P!==J.startOffset||k!==J.endContainer||U!==J.endOffset){F.tagName=="BR"&&(P=[].indexOf.call(F.parentNode.childNodes,F),F=F.parentNode),k.tagName=="BR"&&(U=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode);var Y=document.createRange();Y.setStart(F,P),Y.setEnd(k,U),X.removeAllRanges(),X.addRange(Y)}}else X.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(F){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof P=="string"&&(k=P,P=!1),E.info("setRange",F),F!=null){var U=this.rangeToNative(F);this.setNativeRange.apply(this,x(U).concat([P]))}else this.setNativeRange(null);this.update(k)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,P=this.lastRange,k=this.getRange(),U=s(k,2),O=U[0],X=U[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(P,this.lastRange)){var J;!this.composing&&X!=null&&X.native.collapsed&&X.start.node!==this.cursor.textNode&&this.cursor.restore();var Y=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(P),F];if((J=this.emitter).emit.apply(J,[v.default.events.EDITOR_CHANGE].concat(Y)),F!==v.default.sources.SILENT){var ne;(ne=this.emitter).emit.apply(ne,Y)}}}}]),N})();function D(N,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),N.contains(I)}r.Range=S,r.default=R}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(b)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(b,x){b.children.length===0?a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,b,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g})(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(44),o=i(30),l=i(1),c=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var g=u(v);p.insertBefore(g,p.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(g,y,b){g.deleteAt(y,b)})},h.prototype.descendant=function(p,v){var g=this.children.find(v),y=g[0],b=g[1];return p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p?[y,b]:y instanceof h?y.descendant(p,b):[null,-1]},h.prototype.descendants=function(p,v,g){v===void 0&&(v=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],b=g;return this.children.forEachAt(v,g,function(x,w,E){(p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p)&&y.push(x),x instanceof h&&(y=y.concat(x.descendants(p,w,b))),b-=E}),y},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,g,y){this.children.forEachAt(p,v,function(b,x,w){b.formatAt(x,w,g,y)})},h.prototype.insertAt=function(p,v,g){var y=this.children.find(p),b=y[0],x=y[1];if(b)b.insertAt(x,v,g);else{var w=g==null?l.create("text",v):l.create(v,g);this.appendChild(w)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return p instanceof g}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(g){p.insertBefore(g,v)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var g=this.children.find(p,v),y=g[0],b=g[1],x=[[this,p]];return y instanceof h?x.concat(y.path(b,v)):(y!=null&&x.push([y,b]),x)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(p,this.length(),function(y,b,x){y=y.split(b,v),g.appendChild(y)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var g=this,y=[],b=[];p.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(y.push.apply(y,x.addedNodes),b.push.apply(b,x.removedNodes))}),b.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),y.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=l.find(x.nextSibling));var E=u(x);(E.next!=w||E.next==null)&&(E.parent!=null&&E.parent.removeChild(g),g.insertBefore(E,w||void 0))})},h})(o.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(31),l=i(17),c=i(1),u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var g=c.query(p);g instanceof a.default?this.attributes.attribute(g,v):v&&g!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var g=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(g),g},h.prototype.update=function(p,v){var g=this;f.prototype.update.call(this,p,v),p.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var g=f.prototype.wrap.call(this,p,v);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h})(l.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(30),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=i(11),a=i(3),o={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=a(!0,{},u);f||(h=Object.keys(h).reduce(function(v,g){return h[g]!=null&&(v[g]=h[g]),v},{}));for(var p in c)c[p]!==void 0&&u[p]===void 0&&(h[p]=c[p]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,p){return s(c[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,v){return c[v]===void 0&&(p[v]=u[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=c:typeof u.insert=="string"?p.insert=u.insert.substr(f,c):p.insert=u.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}else return[]},n.exports=o}),(function(n,r){var i=(function(){function s(g,y){return y!=null&&g instanceof y}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,y,b,x,w){typeof y=="object"&&(b=y.depth,x=y.prototype,w=y.includeNonEnumerable,y=y.circular);var E=[],S=[],R=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof b>"u"&&(b=1/0);function D(N,I){if(N===null)return null;if(I===0)return N;var F,P;if(typeof N!="object")return N;if(s(N,a))F=new a;else if(s(N,o))F=new o;else if(s(N,l))F=new l(function(K,B){N.then(function(j){K(D(j,I-1))},function(j){B(D(j,I-1))})});else if(c.__isArray(N))F=[];else if(c.__isRegExp(N))F=new RegExp(N.source,v(N)),N.lastIndex&&(F.lastIndex=N.lastIndex);else if(c.__isDate(N))F=new Date(N.getTime());else{if(R&&Buffer.isBuffer(N))return Buffer.allocUnsafe?F=Buffer.allocUnsafe(N.length):F=new Buffer(N.length),N.copy(F),F;s(N,Error)?F=Object.create(N):typeof x>"u"?(P=Object.getPrototypeOf(N),F=Object.create(P)):(F=Object.create(x),P=x)}if(y){var k=E.indexOf(N);if(k!=-1)return S[k];E.push(N),S.push(F)}s(N,a)&&N.forEach(function(K,B){var j=D(B,I-1),W=D(K,I-1);F.set(j,W)}),s(N,o)&&N.forEach(function(K){var B=D(K,I-1);F.add(B)});for(var U in N){var O;P&&(O=Object.getOwnPropertyDescriptor(P,U)),!(O&&O.set==null)&&(F[U]=D(N[U],I-1))}if(Object.getOwnPropertySymbols)for(var X=Object.getOwnPropertySymbols(N),U=0;U<X.length;U++){var J=X[U],Y=Object.getOwnPropertyDescriptor(N,J);Y&&!Y.enumerable&&!w||(F[J]=D(N[J],I-1),Y.enumerable||Object.defineProperty(F,J,{enumerable:!1}))}if(w)for(var ne=Object.getOwnPropertyNames(N),U=0;U<ne.length;U++){var z=ne[U],Y=Object.getOwnPropertyDescriptor(N,z);Y&&Y.enumerable||(F[z]=D(N[z],I-1),Object.defineProperty(F,z,{enumerable:!1}))}return F}return D(g,b)}c.clonePrototype=function(y){if(y===null)return null;var b=function(){};return b.prototype=y,new b};function u(g){return Object.prototype.toString.call(g)}c.__objToStr=u;function f(g){return typeof g=="object"&&u(g)==="[object Date]"}c.__isDate=f;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}c.__isArray=h;function p(g){return typeof g=="object"&&u(g)==="[object RegExp]"}c.__isRegExp=p;function v(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return c.__getRegExpFlags=v,c})();typeof n=="object"&&n.exports&&(n.exports=i)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,k){var U=[],O=!0,X=!1,J=void 0;try{for(var Y=P[Symbol.iterator](),ne;!(O=(ne=Y.next()).done)&&(U.push(ne.value),!(k&&U.length===k));O=!0);}catch(z){X=!0,J=z}finally{try{!O&&Y.return&&Y.return()}finally{if(X)throw J}}return U}return function(P,k){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function F(P,k){for(var U=0;U<k.length;U++){var O=k[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,k,U){return k&&F(P.prototype,k),U&&F(P,U),P}})(),o=function F(P,k,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,k);if(O===void 0){var X=Object.getPrototypeOf(P);return X===null?void 0:F(X,k,U)}else{if("value"in O)return O.value;var J=O.get;return J===void 0?void 0:J.call(U)}},l=i(0),c=E(l),u=i(8),f=E(u),h=i(4),p=E(h),v=i(16),g=E(v),y=i(13),b=E(y),x=i(25),w=E(x);function E(F){return F&&F.__esModule?F:{default:F}}function S(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function R(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function D(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}function N(F){return F instanceof p.default||F instanceof h.BlockEmbed}var I=(function(F){D(P,F);function P(k,U){S(this,P);var O=R(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k));return O.emitter=U.emitter,Array.isArray(U.whitelist)&&(O.whitelist=U.whitelist.reduce(function(X,J){return X[J]=!0,X},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return a(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(U,O){var X=this.line(U),J=s(X,2),Y=J[0],ne=J[1],z=this.line(U+O),K=s(z,1),B=K[0];if(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,U,O),B!=null&&Y!==B&&ne>0){if(Y instanceof h.BlockEmbed||B instanceof h.BlockEmbed){this.optimize();return}if(Y instanceof b.default){var j=Y.newlineIndex(Y.length(),!0);if(j>-1&&(Y=Y.split(j+1),Y===B)){this.optimize();return}}else if(B instanceof b.default){var W=B.newlineIndex(0);W>-1&&B.split(W+1)}var H=B.children.head instanceof g.default?null:B.children.head;Y.moveChildren(B,H),Y.remove()}this.optimize()}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",U)}},{key:"formatAt",value:function(U,O,X,J){this.whitelist!=null&&!this.whitelist[X]||(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,U,O,X,J),this.optimize())}},{key:"insertAt",value:function(U,O,X){if(!(X!=null&&this.whitelist!=null&&!this.whitelist[O])){if(U>=this.length())if(X==null||c.default.query(O,c.default.Scope.BLOCK)==null){var J=c.default.create(this.statics.defaultChild);this.appendChild(J),X==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),J.insertAt(0,O,X)}else{var Y=c.default.create(O,X);this.appendChild(Y)}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,U,O,X);this.optimize()}}},{key:"insertBefore",value:function(U,O){if(U.statics.scope===c.default.Scope.INLINE_BLOT){var X=c.default.create(this.statics.defaultChild);X.appendChild(U),U=X}o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,U,O)}},{key:"leaf",value:function(U){return this.path(U).pop()||[null,-1]}},{key:"line",value:function(U){return U===this.length()?this.line(U-1):this.descendant(N,U)}},{key:"lines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,X=function J(Y,ne,z){var K=[],B=z;return Y.children.forEachAt(ne,z,function(j,W,H){N(j)?K.push(j):j instanceof c.default.Container&&(K=K.concat(J(j,W,B))),B-=H}),K};return X(this,U,O)}},{key:"optimize",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,U,O),U.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,U,O))}},{key:"path",value:function(U){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,U).slice(1)}},{key:"update",value:function(U){if(this.batch!==!0){var O=f.default.sources.USER;typeof U=="string"&&(O=U),Array.isArray(U)||(U=this.observer.takeRecords()),U.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,O,U),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,U.concat([])),U.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,O,U)}}}]),P})(c.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[p.default,h.BlockEmbed,w.default],r.default=I}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},a=(function(){function Z(se,ce){var ue=[],Ee=!0,Ie=!1,fe=void 0;try{for(var Le=se[Symbol.iterator](),V;!(Ee=(V=Le.next()).done)&&(ue.push(V.value),!(ce&&ue.length===ce));Ee=!0);}catch(ye){Ie=!0,fe=ye}finally{try{!Ee&&Le.return&&Le.return()}finally{if(Ie)throw fe}}return ue}return function(se,ce){if(Array.isArray(se))return se;if(Symbol.iterator in Object(se))return Z(se,ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function Z(se,ce){for(var ue=0;ue<ce.length;ue++){var Ee=ce[ue];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(se,Ee.key,Ee)}}return function(se,ce,ue){return ce&&Z(se.prototype,ce),ue&&Z(se,ue),se}})(),l=i(21),c=F(l),u=i(11),f=F(u),h=i(3),p=F(h),v=i(2),g=F(v),y=i(20),b=F(y),x=i(0),w=F(x),E=i(5),S=F(E),R=i(10),D=F(R),N=i(9),I=F(N);function F(Z){return Z&&Z.__esModule?Z:{default:Z}}function P(Z,se,ce){return se in Z?Object.defineProperty(Z,se,{value:ce,enumerable:!0,configurable:!0,writable:!0}):Z[se]=ce,Z}function k(Z,se){if(!(Z instanceof se))throw new TypeError("Cannot call a class as a function")}function U(Z,se){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se&&(typeof se=="object"||typeof se=="function")?se:Z}function O(Z,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof se);Z.prototype=Object.create(se&&se.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,se):Z.__proto__=se)}var X=(0,D.default)("quill:keyboard"),J=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Y=(function(Z){O(se,Z),o(se,null,[{key:"match",value:function(ue,Ee){return Ee=Q(Ee),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!Ee[Ie]!==ue[Ie]&&Ee[Ie]!==null})?!1:Ee.key===(ue.which||ue.keyCode)}}]);function se(ce,ue){k(this,se);var Ee=U(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,ce,ue));return Ee.bindings={},Object.keys(Ee.options.bindings).forEach(function(Ie){Ie==="list autofill"&&ce.scroll.whitelist!=null&&!ce.scroll.whitelist.list||Ee.options.bindings[Ie]&&Ee.addBinding(Ee.options.bindings[Ie])}),Ee.addBinding({key:se.keys.ENTER,shiftKey:null},j),Ee.addBinding({key:se.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Ee.addBinding({key:se.keys.BACKSPACE},{collapsed:!0},z),Ee.addBinding({key:se.keys.DELETE},{collapsed:!0},K)):(Ee.addBinding({key:se.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),Ee.addBinding({key:se.keys.DELETE},{collapsed:!0,suffix:/^.?$/},K)),Ee.addBinding({key:se.keys.BACKSPACE},{collapsed:!1},B),Ee.addBinding({key:se.keys.DELETE},{collapsed:!1},B),Ee.addBinding({key:se.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),Ee.listen(),Ee}return o(se,[{key:"addBinding",value:function(ue){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},fe=Q(ue);if(fe==null||fe.key==null)return X.warn("Attempted to add invalid keyboard binding",fe);typeof Ee=="function"&&(Ee={handler:Ee}),typeof Ie=="function"&&(Ie={handler:Ie}),fe=(0,p.default)(fe,Ee,Ie),this.bindings[fe.key]=this.bindings[fe.key]||[],this.bindings[fe.key].push(fe)}},{key:"listen",value:function(){var ue=this;this.quill.root.addEventListener("keydown",function(Ee){if(!Ee.defaultPrevented){var Ie=Ee.which||Ee.keyCode,fe=(ue.bindings[Ie]||[]).filter(function(Oe){return se.match(Ee,Oe)});if(fe.length!==0){var Le=ue.quill.getSelection();if(!(Le==null||!ue.quill.hasFocus())){var V=ue.quill.getLine(Le.index),ye=a(V,2),be=ye[0],oe=ye[1],re=ue.quill.getLeaf(Le.index),le=a(re,2),he=le[0],_e=le[1],ie=Le.length===0?[he,_e]:ue.quill.getLeaf(Le.index+Le.length),de=a(ie,2),me=de[0],ve=de[1],De=he instanceof w.default.Text?he.value().slice(0,_e):"",Ue=me instanceof w.default.Text?me.value().slice(ve):"",Te={collapsed:Le.length===0,empty:Le.length===0&&be.length()<=1,format:ue.quill.getFormat(Le),offset:oe,prefix:De,suffix:Ue},Me=fe.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==Te.collapsed||Oe.empty!=null&&Oe.empty!==Te.empty||Oe.offset!=null&&Oe.offset!==Te.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(Ge){return Te.format[Ge]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(Ge){return Oe.format[Ge]===!0?Te.format[Ge]!=null:Oe.format[Ge]===!1?Te.format[Ge]==null:(0,f.default)(Oe.format[Ge],Te.format[Ge])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(Te.prefix)||Oe.suffix!=null&&!Oe.suffix.test(Te.suffix)?!1:Oe.handler.call(ue,Le,Te)!==!0});Me&&Ee.preventDefault()}}}})}}]),se})(I.default);Y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Y.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:Y.keys.TAB,format:["blockquote","indent","list"],handler:function(se,ce){if(ce.collapsed&&ce.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:Y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(se,ce){if(ce.collapsed&&ce.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:Y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(se,ce){ce.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):ce.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:Y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(se){this.quill.deleteText(se.index-1,1,S.default.sources.USER)}},tab:{key:Y.keys.TAB,handler:function(se){this.quill.history.cutoff();var ce=new g.default().retain(se.index).delete(se.length).insert("	");this.quill.updateContents(ce,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(se.index+1,S.default.sources.SILENT)}},"list empty enter":{key:Y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(se,ce){this.quill.format("list",!1,S.default.sources.USER),ce.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:Y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(se){var ce=this.quill.getLine(se.index),ue=a(ce,2),Ee=ue[0],Ie=ue[1],fe=(0,p.default)({},Ee.formats(),{list:"checked"}),Le=new g.default().retain(se.index).insert(`
`,fe).retain(Ee.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Le,S.default.sources.USER),this.quill.setSelection(se.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(se,ce){var ue=this.quill.getLine(se.index),Ee=a(ue,2),Ie=Ee[0],fe=Ee[1],Le=new g.default().retain(se.index).insert(`
`,ce.format).retain(Ie.length()-fe-1).retain(1,{header:null});this.quill.updateContents(Le,S.default.sources.USER),this.quill.setSelection(se.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(se,ce){var ue=ce.prefix.length,Ee=this.quill.getLine(se.index),Ie=a(Ee,2),fe=Ie[0],Le=Ie[1];if(Le>ue)return!0;var V=void 0;switch(ce.prefix.trim()){case"[]":case"[ ]":V="unchecked";break;case"[x]":V="checked";break;case"-":case"*":V="bullet";break;default:V="ordered"}this.quill.insertText(se.index," ",S.default.sources.USER),this.quill.history.cutoff();var ye=new g.default().retain(se.index-Le).delete(ue+1).retain(fe.length()-2-Le).retain(1,{list:V});this.quill.updateContents(ye,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(se.index-ue,S.default.sources.SILENT)}},"code exit":{key:Y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(se){var ce=this.quill.getLine(se.index),ue=a(ce,2),Ee=ue[0],Ie=ue[1],fe=new g.default().retain(se.index+Ee.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(fe,S.default.sources.USER)}},"embed left":ne(Y.keys.LEFT,!1),"embed left shift":ne(Y.keys.LEFT,!0),"embed right":ne(Y.keys.RIGHT,!1),"embed right shift":ne(Y.keys.RIGHT,!0)}};function ne(Z,se){var ce,ue=Z===Y.keys.LEFT?"prefix":"suffix";return ce={key:Z,shiftKey:se,altKey:null},P(ce,ue,/^$/),P(ce,"handler",function(Ie){var fe=Ie.index;Z===Y.keys.RIGHT&&(fe+=Ie.length+1);var Le=this.quill.getLeaf(fe),V=a(Le,1),ye=V[0];return ye instanceof w.default.Embed?(Z===Y.keys.LEFT?se?this.quill.setSelection(Ie.index-1,Ie.length+1,S.default.sources.USER):this.quill.setSelection(Ie.index-1,S.default.sources.USER):se?this.quill.setSelection(Ie.index,Ie.length+1,S.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,S.default.sources.USER),!1):!0}),ce}function z(Z,se){if(!(Z.index===0||this.quill.getLength()<=1)){var ce=this.quill.getLine(Z.index),ue=a(ce,1),Ee=ue[0],Ie={};if(se.offset===0){var fe=this.quill.getLine(Z.index-1),Le=a(fe,1),V=Le[0];if(V!=null&&V.length()>1){var ye=Ee.formats(),be=this.quill.getFormat(Z.index-1,1);Ie=b.default.attributes.diff(ye,be)||{}}}var oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(se.prefix)?2:1;this.quill.deleteText(Z.index-oe,oe,S.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine(Z.index-oe,oe,Ie,S.default.sources.USER),this.quill.focus()}}function K(Z,se){var ce=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(se.suffix)?2:1;if(!(Z.index>=this.quill.getLength()-ce)){var ue={},Ee=0,Ie=this.quill.getLine(Z.index),fe=a(Ie,1),Le=fe[0];if(se.offset>=Le.length()-1){var V=this.quill.getLine(Z.index+1),ye=a(V,1),be=ye[0];if(be){var oe=Le.formats(),re=this.quill.getFormat(Z.index,1);ue=b.default.attributes.diff(oe,re)||{},Ee=be.length()}}this.quill.deleteText(Z.index,ce,S.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(Z.index+Ee-1,ce,ue,S.default.sources.USER)}}function B(Z){var se=this.quill.getLines(Z),ce={};if(se.length>1){var ue=se[0].formats(),Ee=se[se.length-1].formats();ce=b.default.attributes.diff(Ee,ue)||{}}this.quill.deleteText(Z,S.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(Z.index,1,ce,S.default.sources.USER),this.quill.setSelection(Z.index,S.default.sources.SILENT),this.quill.focus()}function j(Z,se){var ce=this;Z.length>0&&this.quill.scroll.deleteAt(Z.index,Z.length);var ue=Object.keys(se.format).reduce(function(Ee,Ie){return w.default.query(Ie,w.default.Scope.BLOCK)&&!Array.isArray(se.format[Ie])&&(Ee[Ie]=se.format[Ie]),Ee},{});this.quill.insertText(Z.index,`
`,ue,S.default.sources.USER),this.quill.setSelection(Z.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(se.format).forEach(function(Ee){ue[Ee]==null&&(Array.isArray(se.format[Ee])||Ee!=="link"&&ce.quill.format(Ee,se.format[Ee],S.default.sources.USER))})}function W(Z){return{key:Y.keys.TAB,shiftKey:!Z,format:{"code-block":!0},handler:function(ce){var ue=w.default.query("code-block"),Ee=ce.index,Ie=ce.length,fe=this.quill.scroll.descendant(ue,Ee),Le=a(fe,2),V=Le[0],ye=Le[1];if(V!=null){var be=this.quill.getIndex(V),oe=V.newlineIndex(ye,!0)+1,re=V.newlineIndex(be+ye+Ie),le=V.domNode.textContent.slice(oe,re).split(`
`);ye=0,le.forEach(function(he,_e){Z?(V.insertAt(oe+ye,ue.TAB),ye+=ue.TAB.length,_e===0?Ee+=ue.TAB.length:Ie+=ue.TAB.length):he.startsWith(ue.TAB)&&(V.deleteAt(oe+ye,ue.TAB.length),ye-=ue.TAB.length,_e===0?Ee-=ue.TAB.length:Ie-=ue.TAB.length),ye+=he.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(Ee,Ie,S.default.sources.SILENT)}}}}function H(Z){return{key:Z[0].toUpperCase(),shortKey:!0,handler:function(ce,ue){this.quill.format(Z,!ue.format[Z],S.default.sources.USER)}}}function Q(Z){if(typeof Z=="string"||typeof Z=="number")return Q({key:Z});if((typeof Z>"u"?"undefined":s(Z))==="object"&&(Z=(0,c.default)(Z,!1)),typeof Z.key=="string")if(Y.keys[Z.key.toUpperCase()]!=null)Z.key=Y.keys[Z.key.toUpperCase()];else if(Z.key.length===1)Z.key=Z.key.toUpperCase().charCodeAt(0);else return null;return Z.shortKey&&(Z[J]=Z.shortKey,delete Z.shortKey),Z}r.default=Y,r.SHORTKEY=J}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function b(x,w){var E=[],S=!0,R=!1,D=void 0;try{for(var N=x[Symbol.iterator](),I;!(S=(I=N.next()).done)&&(E.push(I.value),!(w&&E.length===w));S=!0);}catch(F){R=!0,D=F}finally{try{!S&&N.return&&N.return()}finally{if(R)throw D}}return E}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return b(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function b(x,w,E){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:b(R,w,E)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(E)}},o=(function(){function b(x,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,E){return w&&b(x.prototype,w),E&&b(x,E),x}})(),l=i(0),c=h(l),u=i(7),f=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function v(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=(function(b){g(x,b),o(x,null,[{key:"value",value:function(){}}]);function x(w,E){p(this,x);var S=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return S.selection=E,S.textNode=document.createTextNode(x.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return o(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(E,S){if(this._length!==0)return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,E,S);for(var R=this,D=0;R!=null&&R.statics.scope!==c.default.Scope.BLOCK_BLOT;)D+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=x.CONTENTS.length,R.optimize(),R.formatAt(D,x.CONTENTS.length,E,S),this._length=0)}},{key:"index",value:function(E,S){return E===this.textNode?0:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,E,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var E=this.textNode,S=this.selection.getNativeRange(),R=void 0,D=void 0,N=void 0;if(S!=null&&S.start.node===E&&S.end.node===E){var I=[E,S.start.offset,S.end.offset];R=I[0],D=I[1],N=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var F=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(R=this.next.domNode,this.next.insertAt(0,F),this.textNode.data=x.CONTENTS):(this.textNode.data=F,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),D!=null){var P=[D,N].map(function(U){return Math.max(0,Math.min(R.data.length,U-1))}),k=s(P,2);return D=k[0],N=k[1],{startNode:R,startOffset:D,endNode:R,endOffset:N}}}}},{key:"update",value:function(E,S){var R=this;if(E.some(function(N){return N.type==="characterData"&&N.target===R.textNode})){var D=this.restore();D&&(S.range=D)}}},{key:"value",value:function(){return""}}]),x})(c.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=c(s),o=i(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g})(a.default.Container);p.allowedChildren=[l.default,o.BlockEmbed,p],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=(function(){function y(b,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),a=function y(b,x,w){b===null&&(b=Function.prototype);var E=Object.getOwnPropertyDescriptor(b,x);if(E===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,x,w)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=c(o);function c(y){return y&&y.__esModule?y:{default:y}}function u(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function f(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function h(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var p=(function(y){h(b,y);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"value",value:function(w){var E=a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,w);return E.startsWith("rgb(")?(E=E.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+E.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):E}}]),b})(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=(function(){function g(y,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,x){return b&&g(y.prototype,b),x&&g(y,x),y}})(),a=function g(y,b,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,b,x)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(x)}},o=i(6),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return v(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),y})(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(g,y){var b=document.createElement("a");b.href=g;var x=b.href.slice(0,b.href.indexOf(":"));return y.indexOf(x)>-1}r.default=p,r.sanitize=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a=(function(){function y(b,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),o=i(23),l=f(o),c=i(107),u=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function v(y,b){y.setAttribute(b,y.getAttribute(b)!=="true")}var g=(function(){function y(b){var x=this;h(this,y),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:x.togglePicker();break;case l.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,E=document.createElement("span");return E.tabIndex="0",E.setAttribute("role","button"),E.classList.add("ql-picker-item"),x.hasAttribute("value")&&E.setAttribute("data-value",x.getAttribute("value")),x.textContent&&E.setAttribute("data-label",x.textContent),E.addEventListener("click",function(){w.selectItem(E,!0)}),E.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:w.selectItem(E,!0),S.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),E}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=u.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(E){var S=x.buildItem(E);w.appendChild(S),E.selected===!0&&x.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=this.container.querySelector(".ql-selected");if(x!==E&&(E!=null&&E.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var E=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",E)}}]),y})();r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),a=X(s),o=i(5),l=X(o),c=i(4),u=X(c),f=i(16),h=X(f),p=i(25),v=X(p),g=i(24),y=X(g),b=i(35),x=X(b),w=i(6),E=X(w),S=i(22),R=X(S),D=i(7),N=X(D),I=i(55),F=X(I),P=i(42),k=X(P),U=i(23),O=X(U);function X(J){return J&&J.__esModule?J:{default:J}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":y.default,"blots/embed":x.default,"blots/inline":E.default,"blots/scroll":R.default,"blots/text":N.default,"modules/clipboard":F.default,"modules/history":k.default,"modules/keyboard":O.default}),a.default.register(u.default,h.default,y.default,E.default,R.default,N.default),r.default=l.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),a=(function(){function o(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,f){var h=this.isolate(l,c);if(s.query(u,s.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(u,f)}},o.prototype.insertAt=function(l,c,u){var f=u==null?s.create("text",c):s.create(c,u),h=this.split(l);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(32),o=i(33),l=i(1),c=(function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=a.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof s.default&&(f.attributes[y.attrName]=y)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);f.format(p,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u})();r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c,u){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(12);function o(c){var u=c.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u})(a.default);r.default=l}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){a(this,l),this.quill=c,this.options=u,this.modules={}}return s(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function b(x,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,E){return w&&b(x.prototype,w),E&&b(x,E),x}})(),a=function b(x,w,E){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:b(R,w,E)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(E)}},o=i(0),l=f(o),c=i(7),u=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function p(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function v(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var g="\uFEFF",y=(function(b){v(x,b);function x(w){h(this,x);var E=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return E.contentNode=document.createElement("span"),E.contentNode.setAttribute("contenteditable",!1),[].slice.call(E.domNode.childNodes).forEach(function(S){E.contentNode.appendChild(S)}),E.leftGuard=document.createTextNode(g),E.rightGuard=document.createTextNode(g),E.domNode.appendChild(E.leftGuard),E.domNode.appendChild(E.contentNode),E.domNode.appendChild(E.rightGuard),E}return s(x,[{key:"index",value:function(E,S){return E===this.leftGuard?0:E===this.rightGuard?1:a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,E,S)}},{key:"restore",value:function(E){var S=void 0,R=void 0,D=E.data.split(g).join("");if(E===this.leftGuard)if(this.prev instanceof u.default){var N=this.prev.length();this.prev.insertAt(N,D),S={startNode:this.prev.domNode,startOffset:N+D.length}}else R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this),S={startNode:R,startOffset:D.length};else E===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,D),S={startNode:this.next.domNode,startOffset:D.length}):(R=document.createTextNode(D),this.parent.insertBefore(l.default.create(R),this.next),S={startNode:R,startOffset:D.length}));return E.data=g,S}},{key:"update",value:function(E,S){var R=this;E.forEach(function(D){if(D.type==="characterData"&&(D.target===R.leftGuard||D.target===R.rightGuard)){var N=R.restore(D.target);N&&(S.range=N)}})}}]),x})(l.default.Embed);r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",l),u=new a.default.Attributor.Class("align","ql-align",l),f=new a.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),a=l(s),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",l),u=new a.default.Attributor.Class("direction","ql-direction",l),f=new a.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=(function(){function b(x,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,w,E){return w&&b(x.prototype,w),E&&b(x,E),x}})(),a=function b(x,w,E){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,w);if(S===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:b(R,w,E)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(E)}},o=i(0),l=c(o);function c(b){return b&&b.__esModule?b:{default:b}}function u(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function f(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function h(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),g=(function(b){h(x,b);function x(){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"value",value:function(E){return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,E).replace(/["']/g,"")}}]),x})(l.default.Attributor.Style),y=new g("font","font-family",p);r.FontStyle=y,r.FontClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),a=o(s);function o(u){return u&&u.__esModule?u:{default:u}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c}),(function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=(function(){function w(E,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(E,D.key,D)}}return function(E,S,R){return S&&w(E.prototype,S),R&&w(E,R),E}})(),a=i(0),o=h(a),l=i(5),c=h(l),u=i(9),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function v(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function g(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var y=(function(w){g(E,w);function E(S,R){p(this,E);var D=v(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,R));return D.lastRecorded=0,D.ignoreChange=!1,D.clear(),D.quill.on(c.default.events.EDITOR_CHANGE,function(N,I,F,P){N!==c.default.events.TEXT_CHANGE||D.ignoreChange||(!D.options.userOnly||P===c.default.sources.USER?D.record(I,F):D.transform(I))}),D.quill.keyboard.addBinding({key:"Z",shortKey:!0},D.undo.bind(D)),D.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},D.redo.bind(D)),/Win/i.test(navigator.platform)&&D.quill.keyboard.addBinding({key:"Y",shortKey:!0},D.redo.bind(D)),D}return s(E,[{key:"change",value:function(R,D){if(this.stack[R].length!==0){var N=this.stack[R].pop();this.stack[D].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[R],c.default.sources.USER),this.ignoreChange=!1;var I=x(N[R]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,D){if(R.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(D),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var F=this.stack.undo.pop();N=N.compose(F.undo),R=F.redo.compose(R)}else this.lastRecorded=I;this.stack.undo.push({redo:R,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)}),this.stack.redo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),E})(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(w){var E=w.ops[w.ops.length-1];return E==null?!1:E.insert!=null?typeof E.insert=="string"&&E.insert.endsWith(`
`):E.attributes!=null?Object.keys(E.attributes).some(function(S){return o.default.query(S,o.default.Scope.BLOCK)!=null}):!1}function x(w){var E=w.reduce(function(R,D){return R+=D.delete||0,R},0),S=w.length()-E;return b(w)&&(S-=1),S}r.default=y,r.getLastChangeIndex=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=(function(){function j(W,H){for(var Q=0;Q<H.length;Q++){var Z=H[Q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(W,Z.key,Z)}}return function(W,H,Q){return H&&j(W.prototype,H),Q&&j(W,Q),W}})(),a=function j(W,H,Q){W===null&&(W=Function.prototype);var Z=Object.getOwnPropertyDescriptor(W,H);if(Z===void 0){var se=Object.getPrototypeOf(W);return se===null?void 0:j(se,H,Q)}else{if("value"in Z)return Z.value;var ce=Z.get;return ce===void 0?void 0:ce.call(Q)}},o=i(3),l=I(o),c=i(2),u=I(c),f=i(8),h=I(f),p=i(23),v=I(p),g=i(34),y=I(g),b=i(59),x=I(b),w=i(60),E=I(w),S=i(28),R=I(S),D=i(61),N=I(D);function I(j){return j&&j.__esModule?j:{default:j}}function F(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}function P(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:j}function k(j,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}var U=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],X=[!1,"serif","monospace"],J=["1","2","3",!1],Y=["small",!1,"large","huge"],ne=(function(j){k(W,j);function W(H,Q){F(this,W);var Z=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,H,Q)),se=function ce(ue){if(!document.body.contains(H.root))return document.body.removeEventListener("click",ce);Z.tooltip!=null&&!Z.tooltip.root.contains(ue.target)&&document.activeElement!==Z.tooltip.textbox&&!Z.quill.hasFocus()&&Z.tooltip.hide(),Z.pickers!=null&&Z.pickers.forEach(function(Ee){Ee.container.contains(ue.target)||Ee.close()})};return H.emitter.listenDOM("click",document.body,se),Z}return s(W,[{key:"addModule",value:function(Q){var Z=a(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(Z),Z}},{key:"buildButtons",value:function(Q,Z){Q.forEach(function(se){var ce=se.getAttribute("class")||"";ce.split(/\s+/).forEach(function(ue){if(ue.startsWith("ql-")&&(ue=ue.slice(3),Z[ue]!=null))if(ue==="direction")se.innerHTML=Z[ue][""]+Z[ue].rtl;else if(typeof Z[ue]=="string")se.innerHTML=Z[ue];else{var Ee=se.value||"";Ee!=null&&Z[ue][Ee]&&(se.innerHTML=Z[ue][Ee])}})})}},{key:"buildPickers",value:function(Q,Z){var se=this;this.pickers=Q.map(function(ue){if(ue.classList.contains("ql-align"))return ue.querySelector("option")==null&&B(ue,U),new E.default(ue,Z.align);if(ue.classList.contains("ql-background")||ue.classList.contains("ql-color")){var Ee=ue.classList.contains("ql-background")?"background":"color";return ue.querySelector("option")==null&&B(ue,O,Ee==="background"?"#ffffff":"#000000"),new x.default(ue,Z[Ee])}else return ue.querySelector("option")==null&&(ue.classList.contains("ql-font")?B(ue,X):ue.classList.contains("ql-header")?B(ue,J):ue.classList.contains("ql-size")&&B(ue,Y)),new R.default(ue)});var ce=function(){se.pickers.forEach(function(Ee){Ee.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,ce)}}]),W})(y.default);ne.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),H.classList.add("ql-image"),H.addEventListener("change",function(){if(H.files!=null&&H.files[0]!=null){var Q=new FileReader;Q.onload=function(Z){var se=W.quill.getSelection(!0);W.quill.updateContents(new u.default().retain(se.index).delete(se.length).insert({image:Z.target.result}),h.default.sources.USER),W.quill.setSelection(se.index+1,h.default.sources.SILENT),H.value=""},Q.readAsDataURL(H.files[0])}}),this.container.appendChild(H)),H.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=(function(j){k(W,j);function W(H,Q){F(this,W);var Z=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,H,Q));return Z.textbox=Z.root.querySelector('input[type="text"]'),Z.listen(),Z}return s(W,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(Z){v.default.match(Z,"enter")?(Q.save(),Z.preventDefault()):v.default.match(Z,"escape")&&(Q.cancel(),Z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Z!=null?this.textbox.value=Z:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,h.default.sources.USER)),this.quill.root.scrollTop=Z;break}case"video":Q=K(Q);case"formula":{if(!Q)break;var se=this.quill.getSelection(!0);if(se!=null){var ce=se.index+se.length;this.quill.insertEmbed(ce,this.root.getAttribute("data-mode"),Q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ce+1," ",h.default.sources.USER),this.quill.setSelection(ce+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W})(N.default);function K(j){var W=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":j}function B(j,W){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(Q){var Z=document.createElement("option");Q===H?Z.setAttribute("selected","selected"):Z.setAttribute("value",Q),j.appendChild(Z)})}r.BaseTooltip=z,r.default=ne}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},a.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},a.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},a.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},a.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},a.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},a.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},a.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},a.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),f=u[0],h=u[1],p,v=o-h,g=this.iterator(f);(p=g())&&v<o+l;){var y=p.length();o>v?c(p,o-v,Math.min(l,v+y-o)):c(p,0,Math.min(y,o+l-v)),v+=y}},a.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},a.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},a})();r.default=s}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=(function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(g){v.update(g)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(g){g.remove()}):f.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,g,y){this.update(),f.prototype.formatAt.call(this,p,v,g,y)},h.prototype.insertAt=function(p,v,g){this.update(),f.prototype.insertAt.call(this,p,v,g)},h.prototype.optimize=function(p,v){var g=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)p.push(y.pop());for(var b=function(S,R){R===void 0&&(R=!0),!(S==null||S===g)&&S.domNode.parentNode!=null&&(S.domNode[o.DATA_KEY].mutations==null&&(S.domNode[o.DATA_KEY].mutations=[]),R&&b(S.parent))},x=function(S){S.domNode[o.DATA_KEY]==null||S.domNode[o.DATA_KEY].mutations==null||(S instanceof a.default&&S.children.forEach(x),S.optimize(v))},w=p,E=0;w.length>0;E+=1){if(E>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var R=o.find(S.target,!0);R!=null&&(R.domNode===S.target&&(S.type==="childList"?(b(o.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(D){var N=o.find(D,!1);b(N,!1),N instanceof a.default&&N.children.forEach(function(I){b(I,!1)})})):S.type==="attributes"&&b(R.prev)),b(R))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)p.push(y.pop())}},h.prototype.update=function(p,v){var g=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(y){var b=o.find(y.target,!0);return b==null?null:b.domNode[o.DATA_KEY].mutations==null?(b.domNode[o.DATA_KEY].mutations=[y],b):(b.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(a.default);r.default=u}),(function(n,r,i){var s=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var c=(function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(g){g instanceof a.default||(g=g.wrap(f.blotName,!0)),v.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,v,g){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var y=this.isolate(h,p);y.format(v,g)}else u.prototype.formatAt.call(this,h,p,v,g)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f})(a.default);r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(18),o=i(1),l=(function(c){s(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return c.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,v){o.query(p,o.Scope.BLOCK)!=null?this.format(p,v):c.prototype.formatAt.call(this,f,h,p,v)},u.prototype.insertAt=function(f,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,h,p);else{var v=this.split(f),g=o.create(h,p);v.parent.insertBefore(g,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u})(a.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])};return function(c,u){l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=(function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},c.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,u,f,h,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c})(a.default);r.default=o}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var a=i(19),o=i(1),l=(function(c){s(u,c);function u(f){var h=c.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=o.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u})(a.default);r.default=l}),(function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:a.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=c[p],l.call(f,h,p,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var i=-1,s=1,a=0;function o(E,S,R){if(E==S)return E?[[a,E]]:[];(R<0||E.length<R)&&(R=null);var D=f(E,S),N=E.substring(0,D);E=E.substring(D),S=S.substring(D),D=h(E,S);var I=E.substring(E.length-D);E=E.substring(0,E.length-D),S=S.substring(0,S.length-D);var F=l(E,S);return N&&F.unshift([a,N]),I&&F.push([a,I]),v(F),R!=null&&(F=b(F,R)),F=x(F),F}function l(E,S){var R;if(!E)return[[s,S]];if(!S)return[[i,E]];var D=E.length>S.length?E:S,N=E.length>S.length?S:E,I=D.indexOf(N);if(I!=-1)return R=[[s,D.substring(0,I)],[a,N],[s,D.substring(I+N.length)]],E.length>S.length&&(R[0][0]=R[2][0]=i),R;if(N.length==1)return[[i,E],[s,S]];var F=p(E,S);if(F){var P=F[0],k=F[1],U=F[2],O=F[3],X=F[4],J=o(P,U),Y=o(k,O);return J.concat([[a,X]],Y)}return c(E,S)}function c(E,S){for(var R=E.length,D=S.length,N=Math.ceil((R+D)/2),I=N,F=2*N,P=new Array(F),k=new Array(F),U=0;U<F;U++)P[U]=-1,k[U]=-1;P[I+1]=0,k[I+1]=0;for(var O=R-D,X=O%2!=0,J=0,Y=0,ne=0,z=0,K=0;K<N;K++){for(var B=-K+J;B<=K-Y;B+=2){var j=I+B,W;B==-K||B!=K&&P[j-1]<P[j+1]?W=P[j+1]:W=P[j-1]+1;for(var H=W-B;W<R&&H<D&&E.charAt(W)==S.charAt(H);)W++,H++;if(P[j]=W,W>R)Y+=2;else if(H>D)J+=2;else if(X){var Q=I+O-B;if(Q>=0&&Q<F&&k[Q]!=-1){var Z=R-k[Q];if(W>=Z)return u(E,S,W,H)}}}for(var se=-K+ne;se<=K-z;se+=2){var Q=I+se,Z;se==-K||se!=K&&k[Q-1]<k[Q+1]?Z=k[Q+1]:Z=k[Q-1]+1;for(var ce=Z-se;Z<R&&ce<D&&E.charAt(R-Z-1)==S.charAt(D-ce-1);)Z++,ce++;if(k[Q]=Z,Z>R)z+=2;else if(ce>D)ne+=2;else if(!X){var j=I+O-se;if(j>=0&&j<F&&P[j]!=-1){var W=P[j],H=I+W-j;if(Z=R-Z,W>=Z)return u(E,S,W,H)}}}}return[[i,E],[s,S]]}function u(E,S,R,D){var N=E.substring(0,R),I=S.substring(0,D),F=E.substring(R),P=S.substring(D),k=o(N,I),U=o(F,P);return k.concat(U)}function f(E,S){if(!E||!S||E.charAt(0)!=S.charAt(0))return 0;for(var R=0,D=Math.min(E.length,S.length),N=D,I=0;R<N;)E.substring(I,N)==S.substring(I,N)?(R=N,I=R):D=N,N=Math.floor((D-R)/2+R);return N}function h(E,S){if(!E||!S||E.charAt(E.length-1)!=S.charAt(S.length-1))return 0;for(var R=0,D=Math.min(E.length,S.length),N=D,I=0;R<N;)E.substring(E.length-N,E.length-I)==S.substring(S.length-N,S.length-I)?(R=N,I=R):D=N,N=Math.floor((D-R)/2+R);return N}function p(E,S){var R=E.length>S.length?E:S,D=E.length>S.length?S:E;if(R.length<4||D.length*2<R.length)return null;function N(Y,ne,z){for(var K=Y.substring(z,z+Math.floor(Y.length/4)),B=-1,j="",W,H,Q,Z;(B=ne.indexOf(K,B+1))!=-1;){var se=f(Y.substring(z),ne.substring(B)),ce=h(Y.substring(0,z),ne.substring(0,B));j.length<ce+se&&(j=ne.substring(B-ce,B)+ne.substring(B,B+se),W=Y.substring(0,z-ce),H=Y.substring(z+se),Q=ne.substring(0,B-ce),Z=ne.substring(B+se))}return j.length*2>=Y.length?[W,H,Q,Z,j]:null}var I=N(R,D,Math.ceil(R.length/4)),F=N(R,D,Math.ceil(R.length/2)),P;if(!I&&!F)return null;F?I?P=I[4].length>F[4].length?I:F:P=F:P=I;var k,U,O,X;E.length>S.length?(k=P[0],U=P[1],O=P[2],X=P[3]):(O=P[0],X=P[1],k=P[2],U=P[3]);var J=P[4];return[k,U,O,X,J]}function v(E){E.push([a,""]);for(var S=0,R=0,D=0,N="",I="",F;S<E.length;)switch(E[S][0]){case s:D++,I+=E[S][1],S++;break;case i:R++,N+=E[S][1],S++;break;case a:R+D>1?(R!==0&&D!==0&&(F=f(I,N),F!==0&&(S-R-D>0&&E[S-R-D-1][0]==a?E[S-R-D-1][1]+=I.substring(0,F):(E.splice(0,0,[a,I.substring(0,F)]),S++),I=I.substring(F),N=N.substring(F)),F=h(I,N),F!==0&&(E[S][1]=I.substring(I.length-F)+E[S][1],I=I.substring(0,I.length-F),N=N.substring(0,N.length-F))),R===0?E.splice(S-D,R+D,[s,I]):D===0?E.splice(S-R,R+D,[i,N]):E.splice(S-R-D,R+D,[i,N],[s,I]),S=S-R-D+(R?1:0)+(D?1:0)+1):S!==0&&E[S-1][0]==a?(E[S-1][1]+=E[S][1],E.splice(S,1)):S++,D=0,R=0,N="",I="";break}E[E.length-1][1]===""&&E.pop();var P=!1;for(S=1;S<E.length-1;)E[S-1][0]==a&&E[S+1][0]==a&&(E[S][1].substring(E[S][1].length-E[S-1][1].length)==E[S-1][1]?(E[S][1]=E[S-1][1]+E[S][1].substring(0,E[S][1].length-E[S-1][1].length),E[S+1][1]=E[S-1][1]+E[S+1][1],E.splice(S-1,1),P=!0):E[S][1].substring(0,E[S+1][1].length)==E[S+1][1]&&(E[S-1][1]+=E[S+1][1],E[S][1]=E[S][1].substring(E[S+1][1].length)+E[S+1][1],E.splice(S+1,1),P=!0)),S++;P&&v(E)}var g=o;g.INSERT=s,g.DELETE=i,g.EQUAL=a,n.exports=g;function y(E,S){if(S===0)return[a,E];for(var R=0,D=0;D<E.length;D++){var N=E[D];if(N[0]===i||N[0]===a){var I=R+N[1].length;if(S===I)return[D+1,E];if(S<I){E=E.slice();var F=S-R,P=[N[0],N[1].slice(0,F)],k=[N[0],N[1].slice(F)];return E.splice(D,1,P,k),[D+1,E]}else R=I}}throw new Error("cursor_pos is out of bounds!")}function b(E,S){var R=y(E,S),D=R[1],N=R[0],I=D[N],F=D[N+1];if(I==null)return E;if(I[0]!==a)return E;if(F!=null&&I[1]+F[1]===F[1]+I[1])return D.splice(N,2,F,I),w(D,N,2);if(F!=null&&F[1].indexOf(I[1])===0){D.splice(N,2,[F[0],I[1]],[0,I[1]]);var P=F[1].slice(I[1].length);return P.length>0&&D.splice(N+2,0,[F[0],P]),w(D,N,3)}else return E}function x(E){for(var S=!1,R=function(F){return F.charCodeAt(0)>=56320&&F.charCodeAt(0)<=57343},D=function(F){return F.charCodeAt(F.length-1)>=55296&&F.charCodeAt(F.length-1)<=56319},N=2;N<E.length;N+=1)E[N-2][0]===a&&D(E[N-2][1])&&E[N-1][0]===i&&R(E[N-1][1])&&E[N][0]===s&&R(E[N][1])&&(S=!0,E[N-1][1]=E[N-2][1].slice(-1)+E[N-1][1],E[N][1]=E[N-2][1].slice(-1)+E[N][1],E[N-2][1]=E[N-2][1].slice(0,-1));if(!S)return E;for(var I=[],N=0;N<E.length;N+=1)E[N][1].length>0&&I.push(E[N]);return I}function w(E,S,R){for(var D=S+R-1;D>=0&&D>=S-1;D--)if(D+1<E.length){var N=E[D],I=E[D+1];N[0]===I[1]&&E.splice(D,2,[N[0],N[1]+I[1]])}return E}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var a=[];for(var o in s)a.push(o);return a}}),(function(n,r){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=i?s:a,r.supported=s;function s(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)i.call(f,h)&&u.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=s?s+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,y=new Array(g);v<g;v++)y[v]=p[v].fn;return y},l.prototype.emit=function(u,f,h,p,v,g){var y=s?s+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,v),!0;case 6:return b.fn.call(b.context,f,h,p,v,g),!0}for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];b.fn.apply(b.context,w)}else{var S=b.length,R;for(E=0;E<S;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),x){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,f);break;case 3:b[E].fn.call(b[E].context,f,h);break;case 4:b[E].fn.call(b[E].context,f,h,p);break;default:if(!w)for(R=1,w=new Array(x-1);R<x;R++)w[R-1]=arguments[R];b[E].fn.apply(b[E].context,w)}}return!0},l.prototype.on=function(u,f,h){var p=new o(f,h||this),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(u,f,h){var p=new o(f,h||this,!0),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,p){var v=s?s+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var g=this._events[v];if(g.fn)g.fn===f&&(!p||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var y=0,b=[],x=g.length;y<x;y++)(g[y].fn!==f||p&&!g[y].once||h&&g[y].context!==h)&&b.push(g[y]);b.length?this._events[v]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=s?s+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new a:delete this._events[f])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},a=(function(){function re(le,he){var _e=[],ie=!0,de=!1,me=void 0;try{for(var ve=le[Symbol.iterator](),De;!(ie=(De=ve.next()).done)&&(_e.push(De.value),!(he&&_e.length===he));ie=!0);}catch(Ue){de=!0,me=Ue}finally{try{!ie&&ve.return&&ve.return()}finally{if(de)throw me}}return _e}return function(le,he){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return re(le,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function re(le,he){for(var _e=0;_e<he.length;_e++){var ie=he[_e];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(le,ie.key,ie)}}return function(le,he,_e){return he&&re(le.prototype,he),_e&&re(le,_e),le}})(),l=i(3),c=k(l),u=i(2),f=k(u),h=i(0),p=k(h),v=i(5),g=k(v),y=i(10),b=k(y),x=i(9),w=k(x),E=i(36),S=i(37),R=i(13),D=k(R),N=i(26),I=i(38),F=i(39),P=i(40);function k(re){return re&&re.__esModule?re:{default:re}}function U(re,le,he){return le in re?Object.defineProperty(re,le,{value:he,enumerable:!0,configurable:!0,writable:!0}):re[le]=he,re}function O(re,le){if(!(re instanceof le))throw new TypeError("Cannot call a class as a function")}function X(re,le){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:re}function J(re,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);re.prototype=Object.create(le&&le.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(re,le):re.__proto__=le)}var Y=(0,b.default)("quill:clipboard"),ne="__ql-matcher",z=[[Node.TEXT_NODE,oe],[Node.TEXT_NODE,V],["br",Ie],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,Ee],[Node.ELEMENT_NODE,ye],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,be],["li",Le],["b",ce.bind(ce,"bold")],["i",ce.bind(ce,"italic")],["style",fe]],K=[E.AlignAttribute,I.DirectionAttribute].reduce(function(re,le){return re[le.keyName]=le,re},{}),B=[E.AlignStyle,S.BackgroundStyle,N.ColorStyle,I.DirectionStyle,F.FontStyle,P.SizeStyle].reduce(function(re,le){return re[le.keyName]=le,re},{}),j=(function(re){J(le,re);function le(he,_e){O(this,le);var ie=X(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,he,_e));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],z.concat(ie.options.matchers).forEach(function(de){var me=a(de,2),ve=me[0],De=me[1];!_e.matchVisual&&De===ye||ie.addMatcher(ve,De)}),ie}return o(le,[{key:"addMatcher",value:function(_e,ie){this.matchers.push([_e,ie])}},{key:"convert",value:function(_e){if(typeof _e=="string")return this.container.innerHTML=_e.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[D.default.blotName]){var de=this.container.innerText;return this.container.innerHTML="",new f.default().insert(de,U({},D.default.blotName,ie[D.default.blotName]))}var me=this.prepareMatching(),ve=a(me,2),De=ve[0],Ue=ve[1],Te=se(this.container,De,Ue);return Q(Te,`
`)&&Te.ops[Te.ops.length-1].attributes==null&&(Te=Te.compose(new f.default().retain(Te.length()-1).delete(1))),Y.log("convert",this.container.innerHTML,Te),this.container.innerHTML="",Te}},{key:"dangerouslyPasteHTML",value:function(_e,ie){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof _e=="string")this.quill.setContents(this.convert(_e),ie),this.quill.setSelection(0,g.default.sources.SILENT);else{var me=this.convert(ie);this.quill.updateContents(new f.default().retain(_e).concat(me),de),this.quill.setSelection(_e+me.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(_e){var ie=this;if(!(_e.defaultPrevented||!this.quill.isEnabled())){var de=this.quill.getSelection(),me=new f.default().retain(de.index),ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){me=me.concat(ie.convert()).delete(de.length),ie.quill.updateContents(me,g.default.sources.USER),ie.quill.setSelection(me.length()-de.length,g.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=ve,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var _e=this,ie=[],de=[];return this.matchers.forEach(function(me){var ve=a(me,2),De=ve[0],Ue=ve[1];switch(De){case Node.TEXT_NODE:de.push(Ue);break;case Node.ELEMENT_NODE:ie.push(Ue);break;default:[].forEach.call(_e.container.querySelectorAll(De),function(Te){Te[ne]=Te[ne]||[],Te[ne].push(Ue)});break}}),[ie,de]}}]),le})(w.default);j.DEFAULTS={matchers:[],matchVisual:!0};function W(re,le,he){return(typeof le>"u"?"undefined":s(le))==="object"?Object.keys(le).reduce(function(_e,ie){return W(_e,ie,le[ie])},re):re.reduce(function(_e,ie){return ie.attributes&&ie.attributes[le]?_e.push(ie):_e.insert(ie.insert,(0,c.default)({},U({},le,he),ie.attributes))},new f.default)}function H(re){if(re.nodeType!==Node.ELEMENT_NODE)return{};var le="__ql-computed-style";return re[le]||(re[le]=window.getComputedStyle(re))}function Q(re,le){for(var he="",_e=re.ops.length-1;_e>=0&&he.length<le.length;--_e){var ie=re.ops[_e];if(typeof ie.insert!="string")break;he=ie.insert+he}return he.slice(-1*le.length)===le}function Z(re){if(re.childNodes.length===0)return!1;var le=H(re);return["block","list-item"].indexOf(le.display)>-1}function se(re,le,he){return re.nodeType===re.TEXT_NODE?he.reduce(function(_e,ie){return ie(re,_e)},new f.default):re.nodeType===re.ELEMENT_NODE?[].reduce.call(re.childNodes||[],function(_e,ie){var de=se(ie,le,he);return ie.nodeType===re.ELEMENT_NODE&&(de=le.reduce(function(me,ve){return ve(ie,me)},de),de=(ie[ne]||[]).reduce(function(me,ve){return ve(ie,me)},de)),_e.concat(de)},new f.default):new f.default}function ce(re,le,he){return W(he,re,!0)}function ue(re,le){var he=p.default.Attributor.Attribute.keys(re),_e=p.default.Attributor.Class.keys(re),ie=p.default.Attributor.Style.keys(re),de={};return he.concat(_e).concat(ie).forEach(function(me){var ve=p.default.query(me,p.default.Scope.ATTRIBUTE);ve!=null&&(de[ve.attrName]=ve.value(re),de[ve.attrName])||(ve=K[me],ve!=null&&(ve.attrName===me||ve.keyName===me)&&(de[ve.attrName]=ve.value(re)||void 0),ve=B[me],ve!=null&&(ve.attrName===me||ve.keyName===me)&&(ve=B[me],de[ve.attrName]=ve.value(re)||void 0))}),Object.keys(de).length>0&&(le=W(le,de)),le}function Ee(re,le){var he=p.default.query(re);if(he==null)return le;if(he.prototype instanceof p.default.Embed){var _e={},ie=he.value(re);ie!=null&&(_e[he.blotName]=ie,le=new f.default().insert(_e,he.formats(re)))}else typeof he.formats=="function"&&(le=W(le,he.blotName,he.formats(re)));return le}function Ie(re,le){return Q(le,`
`)||le.insert(`
`),le}function fe(){return new f.default}function Le(re,le){var he=p.default.query(re);if(he==null||he.blotName!=="list-item"||!Q(le,`
`))return le;for(var _e=-1,ie=re.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(_e+=1),ie=ie.parentNode;return _e<=0?le:le.compose(new f.default().retain(le.length()-1).retain(1,{indent:_e}))}function V(re,le){return Q(le,`
`)||(Z(re)||le.length()>0&&re.nextSibling&&Z(re.nextSibling))&&le.insert(`
`),le}function ye(re,le){if(Z(re)&&re.nextElementSibling!=null&&!Q(le,`

`)){var he=re.offsetHeight+parseFloat(H(re).marginTop)+parseFloat(H(re).marginBottom);re.nextElementSibling.offsetTop>re.offsetTop+he*1.5&&le.insert(`
`)}return le}function be(re,le){var he={},_e=re.style||{};return _e.fontStyle&&H(re).fontStyle==="italic"&&(he.italic=!0),_e.fontWeight&&(H(re).fontWeight.startsWith("bold")||parseInt(H(re).fontWeight)>=700)&&(he.bold=!0),Object.keys(he).length>0&&(le=W(le,he)),parseFloat(_e.textIndent||0)>0&&(le=new f.default().insert("	").concat(le)),le}function oe(re,le){var he=re.data;if(re.parentNode.tagName==="O:P")return le.insert(he.trim());if(he.trim().length===0&&re.parentNode.classList.contains("ql-clipboard"))return le;if(!H(re.parentNode).whiteSpace.startsWith("pre")){var _e=function(de,me){return me=me.replace(/[^\u00a0]/g,""),me.length<1&&de?" ":me};he=he.replace(/\r\n/g," ").replace(/\n/g," "),he=he.replace(/\s\s+/g,_e.bind(_e,!0)),(re.previousSibling==null&&Z(re.parentNode)||re.previousSibling!=null&&Z(re.previousSibling))&&(he=he.replace(/^\s+/,_e.bind(_e,!1))),(re.nextSibling==null&&Z(re.parentNode)||re.nextSibling!=null&&Z(re.nextSibling))&&(he=he.replace(/\s+$/,_e.bind(_e,!1)))}return le.insert(he)}r.default=j,r.matchAttributor=ue,r.matchBlot=Ee,r.matchNewline=V,r.matchSpacing=ye,r.matchText=oe}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(b)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(b){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g})(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=(function(){function P(k,U){var O=[],X=!0,J=!1,Y=void 0;try{for(var ne=k[Symbol.iterator](),z;!(X=(z=ne.next()).done)&&(O.push(z.value),!(U&&O.length===U));X=!0);}catch(K){J=!0,Y=K}finally{try{!X&&ne.return&&ne.return()}finally{if(J)throw Y}}return O}return function(k,U){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return P(k,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function P(k,U){for(var O=0;O<U.length;O++){var X=U[O];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(k,X.key,X)}}return function(k,U,O){return U&&P(k.prototype,U),O&&P(k,O),k}})(),o=i(2),l=b(o),c=i(0),u=b(c),f=i(5),h=b(f),p=i(10),v=b(p),g=i(9),y=b(g);function b(P){return P&&P.__esModule?P:{default:P}}function x(P,k,U){return k in P?Object.defineProperty(P,k,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[k]=U,P}function w(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}function E(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:P}function S(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}var R=(0,v.default)("quill:toolbar"),D=(function(P){S(k,P);function k(U,O){w(this,k);var X=E(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U,O));if(Array.isArray(X.options.container)){var J=document.createElement("div");I(J,X.options.container),U.container.parentNode.insertBefore(J,U.container),X.container=J}else typeof X.options.container=="string"?X.container=document.querySelector(X.options.container):X.container=X.options.container;if(!(X.container instanceof HTMLElement)){var Y;return Y=R.error("Container required for toolbar",X.options),E(X,Y)}return X.container.classList.add("ql-toolbar"),X.controls=[],X.handlers={},Object.keys(X.options.handlers).forEach(function(ne){X.addHandler(ne,X.options.handlers[ne])}),[].forEach.call(X.container.querySelectorAll("button, select"),function(ne){X.attach(ne)}),X.quill.on(h.default.events.EDITOR_CHANGE,function(ne,z){ne===h.default.events.SELECTION_CHANGE&&X.update(z)}),X.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var ne=X.quill.selection.getRange(),z=s(ne,1),K=z[0];X.update(K)}),X}return a(k,[{key:"addHandler",value:function(O,X){this.handlers[O]=X}},{key:"attach",value:function(O){var X=this,J=[].find.call(O.classList,function(ne){return ne.indexOf("ql-")===0});if(J){if(J=J.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[J]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[J]==null){R.warn("ignoring attaching to disabled format",J,O);return}if(u.default.query(J)==null){R.warn("ignoring attaching to nonexistent format",J,O);return}}var Y=O.tagName==="SELECT"?"change":"click";O.addEventListener(Y,function(ne){var z=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var K=O.options[O.selectedIndex];K.hasAttribute("selected")?z=!1:z=K.value||!1}else O.classList.contains("ql-active")?z=!1:z=O.value||!O.hasAttribute("value"),ne.preventDefault();X.quill.focus();var B=X.quill.selection.getRange(),j=s(B,1),W=j[0];if(X.handlers[J]!=null)X.handlers[J].call(X,z);else if(u.default.query(J).prototype instanceof u.default.Embed){if(z=prompt("Enter "+J),!z)return;X.quill.updateContents(new l.default().retain(W.index).delete(W.length).insert(x({},J,z)),h.default.sources.USER)}else X.quill.format(J,z,h.default.sources.USER);X.update(W)}),this.controls.push([J,O])}}},{key:"update",value:function(O){var X=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(J){var Y=s(J,2),ne=Y[0],z=Y[1];if(z.tagName==="SELECT"){var K=void 0;if(O==null)K=null;else if(X[ne]==null)K=z.querySelector("option[selected]");else if(!Array.isArray(X[ne])){var B=X[ne];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),K=z.querySelector('option[value="'+B+'"]')}K==null?(z.value="",z.selectedIndex=-1):K.selected=!0}else if(O==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var j=X[ne]===z.getAttribute("value")||X[ne]!=null&&X[ne].toString()===z.getAttribute("value")||X[ne]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",j)}else z.classList.toggle("ql-active",X[ne]!=null)})}}]),k})(y.default);D.DEFAULTS={};function N(P,k,U){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+k),U!=null&&(O.value=U),P.appendChild(O)}function I(P,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(U){var O=document.createElement("span");O.classList.add("ql-formats"),U.forEach(function(X){if(typeof X=="string")N(O,X);else{var J=Object.keys(X)[0],Y=X[J];Array.isArray(Y)?F(O,J,Y):N(O,J,Y)}}),P.appendChild(O)})}function F(P,k,U){var O=document.createElement("select");O.classList.add("ql-"+k),U.forEach(function(X){var J=document.createElement("option");X!==!1?J.setAttribute("value",X):J.setAttribute("selected","selected"),O.appendChild(J)}),P.appendChild(O)}D.DEFAULTS={container:null,handlers:{clean:function(){var k=this,U=this.quill.getSelection();if(U!=null)if(U.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(X){u.default.query(X,u.default.Scope.INLINE)!=null&&k.quill.format(X,!1)})}else this.quill.removeFormat(U,h.default.sources.USER)},direction:function(k){var U=this.quill.getFormat().align;k==="rtl"&&U==null?this.quill.format("align","right",h.default.sources.USER):!k&&U==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",k,h.default.sources.USER)},indent:function(k){var U=this.quill.getSelection(),O=this.quill.getFormat(U),X=parseInt(O.indent||0);if(k==="+1"||k==="-1"){var J=k==="+1"?1:-1;O.direction==="rtl"&&(J*=-1),this.quill.format("indent",X+J,h.default.sources.USER)}},link:function(k){k===!0&&(k=prompt("Enter link URL:")),this.quill.format("link",k,h.default.sources.USER)},list:function(k){var U=this.quill.getSelection(),O=this.quill.getFormat(U);k==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",k,h.default.sources.USER)}}},r.default=D,r.addControls=I}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(b)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,b){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.label.innerHTML=b,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return s(g,[{key:"buildItem",value:function(b){var x=a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,b);return x.style.backgroundColor=b.getAttribute("value")||"",x}},{key:"selectItem",value:function(b,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,x);var w=this.label.querySelector(".ql-color-label"),E=b&&b.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=E:w.style.fill=E)}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(b)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(y,b){u(this,g);var x=f(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=b[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return s(g,[{key:"selectItem",value:function(b,x){a(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,b,x),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),g})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}})();function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=(function(){function l(c,u){var f=this;a(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),g=0;if(v.right>p.right&&(g=p.right-v.right,this.root.style.left=f+g+"px"),v.left<p.left&&(g=p.left-v.left,this.root.style.left=f+g+"px"),v.bottom>p.bottom){var y=v.bottom-v.top,b=u.bottom-u.top+y;this.root.style.top=h-b+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function F(P,k){var U=[],O=!0,X=!1,J=void 0;try{for(var Y=P[Symbol.iterator](),ne;!(O=(ne=Y.next()).done)&&(U.push(ne.value),!(k&&U.length===k));O=!0);}catch(z){X=!0,J=z}finally{try{!O&&Y.return&&Y.return()}finally{if(X)throw J}}return U}return function(P,k){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return F(P,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=function F(P,k,U){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,k);if(O===void 0){var X=Object.getPrototypeOf(P);return X===null?void 0:F(X,k,U)}else{if("value"in O)return O.value;var J=O.get;return J===void 0?void 0:J.call(U)}},o=(function(){function F(P,k){for(var U=0;U<k.length;U++){var O=k[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,k,U){return k&&F(P.prototype,k),U&&F(P,U),P}})(),l=i(3),c=w(l),u=i(8),f=w(u),h=i(43),p=w(h),v=i(27),g=w(v),y=i(15),b=i(41),x=w(b);function w(F){return F&&F.__esModule?F:{default:F}}function E(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function S(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function R(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var D=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=(function(F){R(P,F);function P(k,U){E(this,P),U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=D);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k,U));return O.quill.container.classList.add("ql-snow"),O}return o(P,[{key:"extendToolbar",value:function(U){U.container.classList.add("ql-snow"),this.buildButtons([].slice.call(U.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(U.container.querySelectorAll("select")),x.default),this.tooltip=new I(this.quill,this.options.bounds),U.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,X){U.handlers.link.call(U,!X.format.link)})}}]),P})(p.default);N.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var k=this.quill.getSelection();if(k==null||k.length==0)return;var U=this.quill.getText(k);/^\S+@\S+\.\S+$/.test(U)&&U.indexOf("mailto:")!==0&&(U="mailto:"+U);var O=this.quill.theme.tooltip;O.edit("link",U)}else this.quill.format("link",!1)}}}}});var I=(function(F){R(P,F);function P(k,U){E(this,P);var O=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,k,U));return O.preview=O.root.querySelector("a.ql-preview"),O}return o(P,[{key:"listen",value:function(){var U=this;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){U.root.classList.contains("ql-editing")?U.save():U.edit("link",U.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(U.linkRange!=null){var X=U.linkRange;U.restoreFocus(),U.quill.formatText(X,"link",!1,f.default.sources.USER),delete U.linkRange}O.preventDefault(),U.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(O,X,J){if(O!=null){if(O.length===0&&J===f.default.sources.USER){var Y=U.quill.scroll.descendant(g.default,O.index),ne=s(Y,2),z=ne[0],K=ne[1];if(z!=null){U.linkRange=new y.Range(O.index-K,z.length());var B=g.default.formats(z.domNode);U.preview.textContent=B,U.preview.setAttribute("href",B),U.show(),U.position(U.quill.getBounds(U.linkRange));return}}else delete U.linkRange;U.hide()}})}},{key:"show",value:function(){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P})(h.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),a=ie(s),o=i(36),l=i(38),c=i(64),u=i(65),f=ie(u),h=i(66),p=ie(h),v=i(67),g=ie(v),y=i(37),b=i(26),x=i(39),w=i(40),E=i(56),S=ie(E),R=i(68),D=ie(R),N=i(27),I=ie(N),F=i(69),P=ie(F),k=i(70),U=ie(k),O=i(71),X=ie(O),J=i(72),Y=ie(J),ne=i(73),z=ie(ne),K=i(13),B=ie(K),j=i(74),W=ie(j),H=i(75),Q=ie(H),Z=i(57),se=ie(Z),ce=i(41),ue=ie(ce),Ee=i(28),Ie=ie(Ee),fe=i(59),Le=ie(fe),V=i(60),ye=ie(V),be=i(61),oe=ie(be),re=i(108),le=ie(re),he=i(62),_e=ie(he);function ie(de){return de&&de.__esModule?de:{default:de}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":B.default,"formats/header":p.default,"formats/list":g.default,"formats/bold":S.default,"formats/code":K.Code,"formats/italic":D.default,"formats/link":I.default,"formats/script":P.default,"formats/strike":U.default,"formats/underline":X.default,"formats/image":Y.default,"formats/video":z.default,"formats/list/item":v.ListItem,"modules/formula":W.default,"modules/syntax":Q.default,"modules/toolbar":se.default,"themes/bubble":le.default,"themes/snow":_e.default,"ui/icons":ue.default,"ui/picker":Ie.default,"ui/icon-picker":ye.default,"ui/color-picker":Le.default,"ui/tooltip":oe.default},!0),r.default=a.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=(function(){function g(y,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,x){return b&&g(y.prototype,b),x&&g(y,x),y}})(),a=function g(y,b,x){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:g(E,b,x)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(x)}},o=i(0),l=c(o);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var E=this.value(x)||0;w=w==="+1"?E+1:E-1}return w===0?(this.remove(x),!0):a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,w)||a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,x))||void 0}}]),y})(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function p(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&p(v.prototype,g),y&&p(v,y),v}})(),a=i(4),o=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=(function(p){f(v,p);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),v})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=(function(){function E(S,R){for(var D=0;D<R.length;D++){var N=R[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,R,D){return R&&E(S.prototype,R),D&&E(S,D),S}})(),a=function E(S,R,D){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,R);if(N===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:E(I,R,D)}else{if("value"in N)return N.value;var F=N.get;return F===void 0?void 0:F.call(D)}},o=i(0),l=p(o),c=i(4),u=p(c),f=i(25),h=p(f);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,S,R){return S in E?Object.defineProperty(E,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[S]=R,E}function g(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function y(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function b(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var x=(function(E){b(S,E);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(D,N){D===w.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,D,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(D,N){return this.parent.isolate(this.offset(this.parent),this.length()),D===this.parent.statics.blotName?(this.parent.replaceWith(D,N),this):(this.parent.unwrap(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,D,N))}}],[{key:"formats",value:function(D){return D.tagName===this.tagName?void 0:a(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,D)}}]),S})(u.default);x.blotName="list-item",x.tagName="LI";var w=(function(E){b(S,E),s(S,null,[{key:"create",value:function(D){var N=D==="ordered"?"OL":"UL",I=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,N);return(D==="checked"||D==="unchecked")&&I.setAttribute("data-checked",D==="checked"),I}},{key:"formats",value:function(D){if(D.tagName==="OL")return"ordered";if(D.tagName==="UL")return D.hasAttribute("data-checked")?D.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(R){g(this,S);var D=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R)),N=function(F){if(F.target.parentNode===R){var P=D.statics.formats(R),k=l.default.find(F.target);P==="checked"?k.format("list","unchecked"):P==="unchecked"&&k.format("list","checked")}};return R.addEventListener("touchstart",N),R.addEventListener("mousedown",N),D}return s(S,[{key:"format",value:function(D,N){this.children.length>0&&this.children.tail.format(D,N)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(D,N){if(D instanceof x)a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,D,N);else{var I=N==null?this.length():N.offset(this),F=this.split(I);F.parent.insertBefore(D,F)}}},{key:"optimize",value:function(D){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,D);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(D){if(D.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);D.moveChildren(N),this.appendChild(N)}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,D)}}]),S})(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],r.ListItem=x,r.default=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}})(),a=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:v(w,y,b)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(b)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=(function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):a(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),g})(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="strike",f.tagName="S",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){u(p,h);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(a.default);f.blotName="underline",f.tagName="U",r.default=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),a=function y(b,x,w){b===null&&(b=Function.prototype);var E=Object.getOwnPropertyDescriptor(b,x);if(E===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,x,w)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(w)}},o=i(0),l=u(o),c=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=["alt","height","width"],g=(function(y){p(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(w,E){v.indexOf(w)>-1?E?this.domNode.setAttribute(w,E):this.domNode.removeAttribute(w):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,w,E)}}],[{key:"create",value:function(w){var E=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return typeof w=="string"&&E.setAttribute("src",this.sanitize(w)),E}},{key:"formats",value:function(w){return v.reduce(function(E,S){return w.hasAttribute(S)&&(E[S]=w.getAttribute(S)),E},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,c.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),b})(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function y(b,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,x,w){return x&&y(b.prototype,x),w&&y(b,w),b}})(),a=function y(b,x,w){b===null&&(b=Function.prototype);var E=Object.getOwnPropertyDescriptor(b,x);if(E===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:y(S,x,w)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(w)}},o=i(4),l=i(27),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=["height","width"],g=(function(y){p(b,y);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(w,E){v.indexOf(w)>-1?E?this.domNode.setAttribute(w,E):this.domNode.removeAttribute(w):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,w,E)}}],[{key:"create",value:function(w){var E=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return E.setAttribute("frameborder","0"),E.setAttribute("allowfullscreen",!0),E.setAttribute("src",this.sanitize(w)),E}},{key:"formats",value:function(w){return v.reduce(function(E,S){return w.hasAttribute(S)&&(E[S]=w.getAttribute(S)),E},{})}},{key:"sanitize",value:function(w){return c.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),b})(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=(function(){function w(E,S){for(var R=0;R<S.length;R++){var D=S[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(E,D.key,D)}}return function(E,S,R){return S&&w(E.prototype,S),R&&w(E,R),E}})(),a=function w(E,S,R){E===null&&(E=Function.prototype);var D=Object.getOwnPropertyDescriptor(E,S);if(D===void 0){var N=Object.getPrototypeOf(E);return N===null?void 0:w(N,S,R)}else{if("value"in D)return D.value;var I=D.get;return I===void 0?void 0:I.call(R)}},o=i(35),l=p(o),c=i(5),u=p(c),f=i(9),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function g(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function y(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var b=(function(w){y(E,w);function E(){return v(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,null,[{key:"create",value:function(R){var D=a(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,D,{throwOnError:!1,errorColor:"#f00"}),D.setAttribute("data-value",R)),D}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),E})(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var x=(function(w){y(E,w),s(E,null,[{key:"register",value:function(){u.default.register(b,!0)}}]);function E(){v(this,E);var S=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return E})(h.default);r.FormulaBlot=b,r.default=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=(function(){function R(D,N){for(var I=0;I<N.length;I++){var F=N[I];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}return function(D,N,I){return N&&R(D.prototype,N),I&&R(D,I),D}})(),a=function R(D,N,I){D===null&&(D=Function.prototype);var F=Object.getOwnPropertyDescriptor(D,N);if(F===void 0){var P=Object.getPrototypeOf(D);return P===null?void 0:R(P,N,I)}else{if("value"in F)return F.value;var k=F.get;return k===void 0?void 0:k.call(I)}},o=i(0),l=g(o),c=i(5),u=g(c),f=i(9),h=g(f),p=i(13),v=g(p);function g(R){return R&&R.__esModule?R:{default:R}}function y(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function b(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function x(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var w=(function(R){x(D,R);function D(){return y(this,D),b(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var F=this.domNode.textContent;this.cachedText!==F&&((F.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(F),this.domNode.normalize(),this.attach()),this.cachedText=F)}}]),D})(v.default);w.className="ql-syntax";var E=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=(function(R){x(D,R),s(D,null,[{key:"register",value:function(){u.default.register(E,!0),u.default.register(w,!0)}}]);function D(N,I){y(this,D);var F=b(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,I));if(typeof F.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return F.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){F.highlight(),P=null},F.options.interval)}),F.highlight(),F}return s(D,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var F=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(P){P.highlight(I.options.highlight)}),this.quill.update(u.default.sources.SILENT),F!=null&&this.quill.setSelection(F,u.default.sources.SILENT)}}}]),D})(h.default);S.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(R){var D=window.hljs.highlightAuto(R);return D.value}})(),interval:1e3},r.CodeBlock=w,r.CodeToken=E,r.default=S}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function D(N,I,F){N===null&&(N=Function.prototype);var P=Object.getOwnPropertyDescriptor(N,I);if(P===void 0){var k=Object.getPrototypeOf(N);return k===null?void 0:D(k,I,F)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(F)}},a=(function(){function D(N,I){for(var F=0;F<I.length;F++){var P=I[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(N,P.key,P)}}return function(N,I,F){return I&&D(N.prototype,I),F&&D(N,F),N}})(),o=i(3),l=y(o),c=i(8),u=y(c),f=i(43),h=y(f),p=i(15),v=i(41),g=y(v);function y(D){return D&&D.__esModule?D:{default:D}}function b(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function x(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function w(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var E=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=(function(D){w(N,D);function N(I,F){b(this,N),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=E);var P=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,F));return P.quill.container.classList.add("ql-bubble"),P}return a(N,[{key:"extendToolbar",value:function(F){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(F.container),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),g.default)}}]),N})(h.default);S.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=(function(D){w(N,D);function N(I,F){b(this,N);var P=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,F));return P.quill.on(u.default.events.EDITOR_CHANGE,function(k,U,O,X){if(k===u.default.events.SELECTION_CHANGE)if(U!=null&&U.length>0&&X===u.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var J=P.quill.getLines(U.index,U.length);if(J.length===1)P.position(P.quill.getBounds(U));else{var Y=J[J.length-1],ne=P.quill.getIndex(Y),z=Math.min(Y.length()-1,U.index+U.length-ne),K=P.quill.getBounds(new p.Range(ne,z));P.position(K)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return a(N,[{key:"listen",value:function(){var F=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){F.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!F.root.classList.contains("ql-hidden")){var P=F.quill.getSelection();P!=null&&F.position(F.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(F){var P=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,F),k=this.root.querySelector(".ql-tooltip-arrow");if(k.style.marginLeft="",P===0)return P;k.style.marginLeft=-1*P-k.offsetWidth/2+"px"}}]),N})(f.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=R,r.default=S}),(function(n,r,i){n.exports=i(63)})]).default})})(g2)),g2.exports}var To,dO;function wve(){if(dO)return To;dO=1;var t=To&&To.__extends||(function(){var u=function(f,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])},u(f,h)};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),e=To&&To.__assign||function(){return e=Object.assign||function(u){for(var f,h=1,p=arguments.length;h<p;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(u[v]=f[v])}return u},e.apply(this,arguments)},n=To&&To.__spreadArrays||function(){for(var u=0,f=0,h=arguments.length;f<h;f++)u+=arguments[f].length;for(var p=Array(u),v=0,f=0;f<h;f++)for(var g=arguments[f],y=0,b=g.length;y<b;y++,v++)p[v]=g[y];return p},r=To&&To.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},i=r(eb()),s=r(dB()),a=r(xve()),o=r(bve()),l=(function(u){t(f,u);function f(h){var p=u.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(g,y,b,x){var w,E,S,R;g==="text-change"?(E=(w=p).onEditorChangeText)===null||E===void 0||E.call(w,p.editor.root.innerHTML,y,x,p.unprivilegedEditor):g==="selection-change"&&((R=(S=p).onEditorChangeSelection)===null||R===void 0||R.call(S,y,x,p.unprivilegedEditor))};var v=p.isControlled()?h.value:h.defaultValue;return p.value=v??"",p}return f.prototype.validateProps=function(h){var p;if(i.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(h.children)){var v=i.default.Children.only(h.children);if(((p=v)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(h,p){var v=this,g;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var y=this.getEditorContents(),b=(g=h.value,g??"");this.isEqualValue(b,y)||this.setEditorContents(this.editor,b)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(x){return!a.default(h[x],v.props[x])})},f.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(v){return!a.default(h[v],p.props[v])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(h,p){var v=this;if(this.editor&&this.shouldComponentRegenerate(h)){var g=this.editor.getContents(),y=this.editor.getSelection();this.regenerationSnapshot={delta:g,selection:y},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var b=this.regenerationSnapshot,g=b.delta,x=b.selection;delete this.regenerationSnapshot,this.instantiateEditor();var w=this.editor;w.setContents(g),c(function(){return v.setEditorSelection(w,x)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(h,p){var v=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(v,p.tabIndex),this.hookEditor(v),v},f.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(h){return h&&h.ops},f.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?a.default(h.ops,p.ops):a.default(h,p)},f.prototype.setEditorContents=function(h,p){var v=this;this.value=p;var g=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),c(function(){return v.setEditorSelection(h,g)})},f.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var v=h.getLength();p.index=Math.max(0,Math.min(p.index,v-1)),p.length=Math.max(0,Math.min(p.length,v-1-p.index)),h.setSelection(p)}},f.prototype.setEditorTabIndex=function(h,p){var v,g;!((g=(v=h)===null||v===void 0?void 0:v.scroll)===null||g===void 0)&&g.domNode&&(h.scroll.domNode.tabIndex=p)},f.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},f.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=s.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},f.prototype.renderEditingArea=function(){var h=this,p=this.props,v=p.children,g=p.preserveWhitespace,y=this.state.generation,b={key:y,ref:function(x){h.editingArea=x}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),b):g?i.default.createElement("pre",e({},b)):i.default.createElement("div",e({},b))},f.prototype.render=function(){var h;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(h,p,v,g){var y,b;if(this.editor){var x=this.isDelta(this.value)?g.getContents():g.getHTML();x!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=x,(b=(y=this.props).onChange)===null||b===void 0||b.call(y,h,p,v,g))}},f.prototype.onEditorChangeSelection=function(h,p,v){var g,y,b,x,w,E;if(this.editor){var S=this.getEditorSelection(),R=!S&&h,D=S&&!h;a.default(h,S)||(this.selection=h,(y=(g=this.props).onChangeSelection)===null||y===void 0||y.call(g,h,p,v),R?(x=(b=this.props).onFocus)===null||x===void 0||x.call(b,h,p,v):D&&((E=(w=this.props).onBlur)===null||E===void 0||E.call(w,S,p,v)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=o.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f})(i.default.Component);function c(u){Promise.resolve().then(u)}return To=l,To}var Tve=wve();const dr=Z_(Tve);if(dr.Quill){const t=dr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],dr.Quill.register("attributors/style/size",t,!0)}const Eve=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),Cve=()=>{const{pages:t,refetchAdminData:e}=Jt(),[n,r]=q.useState({isOpen:!1,mode:"create",page:null}),[i,s]=q.useState({title:"",content:"",lang:"ar"}),[a,o]=q.useState(!1),l=()=>{s({title:"",content:"",lang:"ar"}),r({isOpen:!0,mode:"create",page:null})},c=g=>{s({title:g.title,content:g.content,lang:g.lang||"ar"}),r({isOpen:!0,mode:"edit",page:g})},u=()=>{r({isOpen:!1,mode:"create",page:null})},f=async()=>{if(!i.title.trim()){alert("    .");return}o(!0);try{const g=`      : "${i.title}".   HTML   (h2, h3)  (p)  (ul/li)     .`;s(b=>({...b,content:""}));const y=await sc({model:"gemini-2.5-flash",contents:g});s(b=>({...b,content:y.text||""}))}catch(g){console.error("AI content generation failed:",g),alert("  .        .")}finally{o(!1)}},h=async g=>{g.preventDefault();const y=Eve(i.title);n.mode==="create"?await mp.create({...i,slug:y,enabled:!1}):n.page&&await mp.update(n.page.id,{...i,slug:y}),await e(),u()},p=async g=>{const y=t.find(b=>b.id===g);y&&(await mp.toggleStatus(g,y.enabled),await e())},v=async g=>{window.confirm("              .")&&(await mp.delete(g),await e())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.map(g=>{var y;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:g.title}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:((y=Ka.find(b=>b.code===g.lang))==null?void 0:y.name)||g.lang||" ()"}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>p(g.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${g.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:g.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(en,{to:`/dz/page/${g.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>c(g),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},g.id)})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:h,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"text",id:"title",value:i.title,onChange:g=>s(y=>({...y,title:g.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsxs("button",{type:"button",onClick:f,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300",title:"   ",children:[a?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lang",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"lang",value:i.lang||"ar",onChange:g=>s(y=>({...y,lang:g.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Ka.map(g=>d.jsx("option",{value:g.code,children:g.name},g.code))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(dr,{theme:"snow",value:i.content,onChange:g=>s(y=>({...y,content:g})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},is=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},Sve=()=>{const{countryCode:t,slug:e}=Bs(),{pages:n,siteSettings:r,loading:i}=Jt(),{language:s,t:a}=Ji(),o=n.find(c=>c.slug===e&&c.enabled),l=q.useMemo(()=>o?n.filter(c=>c.enabled&&c.id!==o.id&&(c.lang===s||!c.lang&&s==="ar")):[],[n,o,s]);return q.useEffect(()=>{var c,u;if(o&&r){const f=((c=r.seo)==null?void 0:c[t||"dz"])||((u=r.seo)==null?void 0:u.default);if(f){const h=`${o.title} ${f.titleSeparator} ${f.siteName}`,p=o.content.replace(/<[^>]*>/g,"").substring(0,160)+(o.content.length>160?"...":""),v="https://file.gitut.com/data/image/gitut-og-main.png",g=s==="ar"?"ar_AR":s==="fr"?"fr_FR":"en_US";document.title=h,is("description",p,!1),is("og:title",h),is("og:description",p),is("og:image",v),is("og:image:secure_url",v),is("og:image:width","1200"),is("og:image:height","630"),is("og:url",window.location.href),is("og:type","article"),is("og:site_name",f.siteName),is("og:locale",g),is("twitter:card","summary_large_image",!1),is("twitter:url",window.location.href,!1),is("twitter:title",h,!1),is("twitter:description",p,!1),is("twitter:image",v,!1)}}},[o,r,t,s]),i?d.jsx("div",{className:"text-center py-20",children:"  ..."}):o?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("article",{className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[d.jsx("header",{className:"mb-8 border-b pb-6",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:o.title})}),d.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:o.content}})]}),l.length>0&&d.jsx("aside",{className:"md:col-span-1 space-y-6",children:d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:a("relatedPages.title")}),d.jsx("div",{className:"space-y-3",children:l.map(c=>d.jsx("a",{href:`/${t}/page/${c.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:d.jsx("p",{className:"font-semibold text-gray-900",children:c.title})},c.id))})]})})]}),d.jsx(QI,{url:window.location.href,title:o.title,description:o.content})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx("a",{href:`/${t||"dz"}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},fO={DASHBOARD_TOP:"   ",PROFILE_SIDEBAR:"   ",PDF_INTERSTITIAL:"   ",PUBLIC_FORM_LEFT:"   ",PUBLIC_FORM_RIGHT:"   ",SERVICE_DETAIL_MAIN_TOP:"  ( )",SERVICE_DETAIL_MAIN_BOTTOM:"   ( )",SITE_DETAIL_SIDEBAR:"   ( )",BLOG_POST_BODY_TOP:" (  )",BLOG_POST_BODY_BOTTOM:" (  )",BLOG_POST_SIDEBAR:" ( )"},Dve=()=>{const{ads:t}=Jt(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",ad:null}),[s,a]=q.useState({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),[o,l]=q.useState(!1);q.useEffect(()=>{n(t)},[t]);const c=async y=>{try{const b=await lu.getAll(),x=b.filter(E=>E.enabled),w=JSON.stringify(x,null,2);return await Qpe({files:[{path:"data/data/json/ads-public.json",content:w}],commitMessage:y,repoConfig:{owner:"gitut-cms",repo:"data"}}),n(b),!0}catch(b){console.error("Failed to publish ads to GitHub:",b),alert("    .    .");try{const x=await lu.getAll();n(x)}catch(x){console.error("Failed to refetch ads after publish error:",x)}return!1}},u=()=>{a({title:"",content:"",imageUrl:"",link:"",placement:"DASHBOARD_TOP",enabled:!0}),i({isOpen:!0,mode:"create",ad:null})},f=y=>{a({...y}),i({isOpen:!0,mode:"edit",ad:y})},h=()=>{i({isOpen:!1,mode:"create",ad:null})},p=async y=>{y.preventDefault(),l(!0);try{let b="";r.mode==="create"?(await lu.create(s),b=`feat(ads): Add new ad '${s.title}'`):r.ad&&(await lu.update(r.ad.id,s),b=`feat(ads): Update ad '${r.ad.title}'`),await c(b)&&(alert("     !"),h())}catch(b){console.error("Failed to save ad:",b),alert("  .       .")}finally{l(!1)}},v=async y=>{const b=e.find(x=>x.id===y);if(b)try{await lu.toggleStatus(y,b.enabled);const w=`feat(ads): ${b.enabled?"Disable":"Enable"} ad '${b.title}'`;await c(w)}catch(x){console.error("Failed to toggle status:",x),alert("  .       .")}},g=async y=>{const b=e.find(x=>x.id===y);if(b&&window.confirm("        "))try{await lu.delete(y);const x=`feat(ads): Delete ad '${b.title}'`;await c(x)}catch(x){console.error("Failed to delete ad:",x),alert("  .       .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:u,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:y.title}),d.jsx("td",{className:"p-3 text-gray-600",children:fO[y.placement]}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>v(y.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${y.enabled?"text-green-800 bg-green-200":"text-red-800 bg-red-200"}`,children:y.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>f(y),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},y.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:p,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"title",value:s.title,onChange:y=>a(b=>({...b,title:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("textarea",{id:"content",rows:3,value:s.content,onChange:y=>a(b=>({...b,content:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"imageUrl",value:s.imageUrl,onChange:y=>a(b=>({...b,imageUrl:y.target.value})),required:!0,placeholder:"https://picsum.photos/...",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"url",id:"link",value:s.link,onChange:y=>a(b=>({...b,link:y.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"placement",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{id:"placement",value:s.placement,onChange:y=>a(b=>({...b,placement:y.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:Object.entries(fO).map(([y,b])=>d.jsx("option",{value:y,children:b},y))})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:h,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:o?d.jsx(Dt,{className:"animate-spin"}):""})]})]})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ave,Nve;function kve(){return{geminiUrl:Ave,vertexUrl:Nve}}function Ive(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const a=kve();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zf{}function Nt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function C(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];C(u,e.slice(s+1),n[c])}else for(const c of l)C(c,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];C(l[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function T(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(a=>T(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l3(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rve(t){const e={},n=T(t,["operationName"]);n!=null&&C(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function Pve(t){const e={},n=T(t,["operationName"]);n!=null&&C(e,["operationName"],n);const r=T(t,["resourceName"]);r!=null&&C(e,["_url","resourceName"],r);const i=T(t,["config"]);return i!=null&&C(e,["config"],i),e}function Fve(t){const e={},n=T(t,["operationName"]);n!=null&&C(e,["_url","operationName"],n);const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function Mve(t){const e={},n=T(t,["video","uri"]);n!=null&&C(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&C(e,["videoBytes"],l3(r));const i=T(t,["encoding"]);return i!=null&&C(e,["mimeType"],i),e}function Uve(t){const e={},n=T(t,["_self"]);return n!=null&&C(e,["video"],Mve(n)),e}function Ove(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Uve(a))),C(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function Lve(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=T(t,["done"]);i!=null&&C(e,["done"],i);const s=T(t,["error"]);s!=null&&C(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&C(e,["response"],Ove(a)),e}function jve(t){const e={},n=T(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&C(e,["videoBytes"],l3(r));const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Bve(t){const e={},n=T(t,["_self"]);return n!=null&&C(e,["video"],jve(n)),e}function Vve(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Bve(a))),C(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function Wve(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=T(t,["done"]);i!=null&&C(e,["done"],i);const s=T(t,["error"]);s!=null&&C(e,["error"],s);const a=T(t,["response"]);return a!=null&&C(e,["response"],Vve(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hO;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hO||(hO={}));var pO;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(pO||(pO={}));var gu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(gu||(gu={}));var mO;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(mO||(mO={}));var gO;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(gO||(gO={}));var yO;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(yO||(yO={}));var vO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vO||(vO={}));var xO;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(xO||(xO={}));var _O;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_O||(_O={}));var bO;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(bO||(bO={}));var wO;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(wO||(wO={}));var TO;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(TO||(TO={}));var EO;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(EO||(EO={}));var CO;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(CO||(CO={}));var SO;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(SO||(SO={}));var R_;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(R_||(R_={}));var DO;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(DO||(DO={}));var q4;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(q4||(q4={}));var AO;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(AO||(AO={}));var NO;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(NO||(NO={}));var kO;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(kO||(kO={}));var IO;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(IO||(IO={}));var RO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RO||(RO={}));var PO;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(PO||(PO={}));var FO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(FO||(FO={}));var MO;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(MO||(MO={}));var UO;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(UO||(UO={}));var OO;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(OO||(OO={}));var LO;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(LO||(LO={}));var jO;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jO||(jO={}));var BO;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(BO||(BO={}));var VO;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(VO||(VO={}));var WO;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(WO||(WO={}));var qO;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(qO||(qO={}));var zO;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(zO||(zO={}));var HO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(HO||(HO={}));var $O;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})($O||($O={}));var GO;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(GO||(GO={}));var KO;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(KO||(KO={}));var XO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(XO||(XO={}));var JO;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(JO||(JO={}));var YO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(YO||(YO={}));var QO;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(QO||(QO={}));var ZO;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ZO||(ZO={}));var e9;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(e9||(e9={}));var yp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(yp||(yp={}));class z4{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $g{get text(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,a,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class t9{}class n9{}class qve{}class zve{}class Hve{}class $ve{}class r9{}class i9{}class s9{}class Gve{}class P_{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new P_;let i;const s=e;return n?i=Wve(s):i=Lve(s),Object.assign(r,i),r}}class a9{}class o9{}class l9{}class Kve{}class Xve{}class Jve{}class c9{}class Yve{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Qve{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function An(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function hG(t,e){const n=An(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function pG(t){return Array.isArray(t)?t.map(e=>F_(e)):[F_(t)]}function F_(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mG(t){const e=F_(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gG(t){const e=F_(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function u9(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function yG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>u9(e)):[u9(t)]}function H4(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function d9(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function f9(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ms(t){if(t==null)throw new Error("ContentUnion is required");return H4(t)?t:{role:"user",parts:yG(t)}}function c3(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ms(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ms(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ms(n)):[ms(e)]}function eo(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(d9(t)||f9(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ms(t)]}const e=[],n=[],r=H4(t[0]);for(const i of t){const s=H4(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(d9(i)||f9(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:yG(n)}),e}function Zve(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(gu).includes(n[0].toUpperCase())?n[0].toUpperCase():gu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(gu).includes(r.toUpperCase())?r.toUpperCase():gu.TYPE_UNSPECIFIED})}}function Ap(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Zve(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(gu).includes(o.toUpperCase())?o.toUpperCase():gu.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Ap(o);else if(r.includes(a)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(Ap(c))}e[a]=l}else if(i.includes(a)){const l={};for(const[c,u]of Object.entries(o))l[c]=Ap(u);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function u3(t){return Ap(t)}function d3(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function f3(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ap(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ap(e.response));return t}function zm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function exe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Dc(t,e){if(typeof e!="string")throw new Error("name must be a string");return exe(t,e,"cachedContents")}function vG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function eh(t){return l3(t)}function txe(t){return t!=null&&typeof t=="object"&&"name"in t}function nxe(t){return t!=null&&typeof t=="object"&&"video"in t}function rxe(t){return t!=null&&typeof t=="object"&&"uri"in t}function xG(t){var e;let n;if(txe(t)&&(n=t.name),!(rxe(t)&&(n=t.uri,n===void 0))&&!(nxe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _G(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function bG(t){for(const e of["models","tunedModels","publisherModels"])if(ixe(t,e))return t[e];return[]}function ixe(t,e){return t!==null&&typeof t=="object"&&e in t}function sxe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function axe(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=sxe(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function wG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function oxe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function TG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Hm(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function EG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lxe(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function cxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function uxe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function dxe(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function fxe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],lxe(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],cxe(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],uxe(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],dxe(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function CG(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fxe(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function hxe(t){const e={},n=T(t,["anyOf"]);n!=null&&C(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&C(e,["default"],r);const i=T(t,["description"]);i!=null&&C(e,["description"],i);const s=T(t,["enum"]);s!=null&&C(e,["enum"],s);const a=T(t,["example"]);a!=null&&C(e,["example"],a);const o=T(t,["format"]);o!=null&&C(e,["format"],o);const l=T(t,["items"]);l!=null&&C(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&C(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&C(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&C(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&C(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&C(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&C(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&C(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&C(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&C(e,["nullable"],b);const x=T(t,["pattern"]);x!=null&&C(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&C(e,["properties"],w);const E=T(t,["propertyOrdering"]);E!=null&&C(e,["propertyOrdering"],E);const S=T(t,["required"]);S!=null&&C(e,["required"],S);const R=T(t,["title"]);R!=null&&C(e,["title"],R);const D=T(t,["type"]);return D!=null&&C(e,["type"],D),e}function pxe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&C(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&C(e,["threshold"],r),e}function mxe(t){const e={},n=T(t,["behavior"]);n!=null&&C(e,["behavior"],n);const r=T(t,["description"]);r!=null&&C(e,["description"],r);const i=T(t,["name"]);i!=null&&C(e,["name"],i);const s=T(t,["parameters"]);s!=null&&C(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&C(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&C(e,["responseJsonSchema"],l),e}function gxe(t){const e={},n=T(t,["startTime"]);n!=null&&C(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&C(e,["endTime"],r),e}function yxe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&C(e,["timeRangeFilter"],gxe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function vxe(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&C(e,["dynamicThreshold"],r),e}function xxe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&C(e,["dynamicRetrievalConfig"],vxe(n)),e}function _xe(){return{}}function bxe(t){const e={},n=T(t,["environment"]);return n!=null&&C(e,["environment"],n),e}function wxe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>mxe(c))),C(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&C(e,["googleSearch"],yxe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&C(e,["googleSearchRetrieval"],xxe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&C(e,["urlContext"],_xe());const a=T(t,["computerUse"]);a!=null&&C(e,["computerUse"],bxe(a));const o=T(t,["codeExecution"]);return o!=null&&C(e,["codeExecution"],o),e}function Txe(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&C(e,["allowedFunctionNames"],r),e}function Exe(t){const e={},n=T(t,["latitude"]);n!=null&&C(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&C(e,["longitude"],r),e}function Cxe(t){const e={},n=T(t,["latLng"]);n!=null&&C(e,["latLng"],Exe(n));const r=T(t,["languageCode"]);return r!=null&&C(e,["languageCode"],r),e}function Sxe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],Txe(n));const r=T(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],Cxe(r)),e}function Dxe(t){const e={},n=T(t,["voiceName"]);return n!=null&&C(e,["voiceName"],n),e}function SG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&C(e,["prebuiltVoiceConfig"],Dxe(n)),e}function Axe(t){const e={},n=T(t,["speaker"]);n!=null&&C(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&C(e,["voiceConfig"],SG(r)),e}function Nxe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Axe(i))),C(e,["speakerVoiceConfigs"],r)}return e}function kxe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&C(e,["voiceConfig"],SG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&C(e,["multiSpeakerVoiceConfig"],Nxe(r));const i=T(t,["languageCode"]);return i!=null&&C(e,["languageCode"],i),e}function Ixe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&C(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&C(e,["thinkingBudget"],r),e}function Rxe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],CG(ms(i)));const s=T(e,["temperature"]);s!=null&&C(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&C(r,["topP"],a);const o=T(e,["topK"]);o!=null&&C(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&C(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&C(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&C(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&C(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&C(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&C(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&C(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&C(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&C(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&C(r,["responseSchema"],hxe(u3(b)));const x=T(e,["responseJsonSchema"]);if(x!=null&&C(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(k=>pxe(k))),C(n,["safetySettings"],P)}const E=T(e,["tools"]);if(n!==void 0&&E!=null){let P=zm(E);Array.isArray(P)&&(P=P.map(k=>wxe(qm(k)))),C(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&C(n,["toolConfig"],Sxe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&C(n,["cachedContent"],Dc(t,R));const D=T(e,["responseModalities"]);D!=null&&C(r,["responseModalities"],D);const N=T(e,["mediaResolution"]);N!=null&&C(r,["mediaResolution"],N);const I=T(e,["speechConfig"]);if(I!=null&&C(r,["speechConfig"],kxe(d3(I))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&C(r,["thinkingConfig"],Ixe(F)),r}function Pxe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["request","model"],An(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>CG(o))),C(n,["request","contents"],a)}const s=T(e,["config"]);return s!=null&&C(n,["request","generationConfig"],Rxe(t,s,n)),n}function Fxe(t,e){const n={};if(T(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(T(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=T(e,["fileName"]);r!=null&&C(n,["fileName"],r);const i=T(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Pxe(t,a))),C(n,["requests","requests"],s)}return n}function Mxe(t,e){const n={},r=T(t,["displayName"]);if(e!==void 0&&r!=null&&C(e,["batch","displayName"],r),T(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function XS(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["src"]);i!=null&&C(n,["batch","inputConfig"],Fxe(t,wG(t,i)));const s=T(e,["config"]);return s!=null&&C(n,["config"],Mxe(s,n)),n}function Uxe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&C(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&C(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&C(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Oxe(t,e){const n={},r=T(e,["contents"]);r!=null&&C(n,["requests[]","request","content"],c3(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],Uxe(i,n)),n}function Lxe(t,e){const n={},r=T(e,["fileName"]);r!=null&&C(n,["file_name"],r);const i=T(e,["inlinedRequests"]);return i!=null&&C(n,["requests"],Oxe(t,i)),n}function jxe(t,e){const n={},r=T(t,["displayName"]);return e!==void 0&&r!=null&&C(e,["batch","displayName"],r),n}function JS(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["src"]);i!=null&&C(n,["batch","inputConfig"],Lxe(t,i));const s=T(e,["config"]);return s!=null&&C(n,["config"],jxe(s,n)),n}function Bxe(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Hm(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function Vxe(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Hm(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function Wxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);if(e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),T(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function qxe(t){const e={},n=T(t,["config"]);return n!=null&&C(e,["config"],Wxe(n,e)),e}function zxe(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Hm(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function Hxe(t){const e={},n=T(t,["format"]);n!=null&&C(e,["instancesFormat"],n);const r=T(t,["gcsUri"]);r!=null&&C(e,["gcsSource","uris"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&C(e,["bigquerySource","inputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function $xe(t){const e={},n=T(t,["format"]);n!=null&&C(e,["predictionsFormat"],n);const r=T(t,["gcsUri"]);r!=null&&C(e,["gcsDestination","outputUriPrefix"],r);const i=T(t,["bigqueryUri"]);if(i!=null&&C(e,["bigqueryDestination","outputUri"],i),T(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(T(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(T(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Gxe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=T(t,["dest"]);return e!==void 0&&i!=null&&C(e,["outputConfig"],$xe(oxe(i))),n}function Kxe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["model"],An(t,r));const i=T(e,["src"]);i!=null&&C(n,["inputConfig"],Hxe(wG(t,i)));const s=T(e,["config"]);return s!=null&&C(n,["config"],Gxe(s,n)),n}function Xxe(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Hm(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function Jxe(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Hm(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function Yxe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&C(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&C(e,["_query","filter"],s),n}function Qxe(t){const e={},n=T(t,["config"]);return n!=null&&C(e,["config"],Yxe(n,e)),e}function Zxe(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Hm(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function e1e(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function t1e(t){const e={},n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function n1e(t){const e={},n=T(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function r1e(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function i1e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],e1e(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],t1e(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],n1e(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],r1e(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function s1e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>i1e(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function a1e(t){const e={},n=T(t,["citationSources"]);return n!=null&&C(e,["citations"],n),e}function o1e(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&C(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&C(e,["urlRetrievalStatus"],r),e}function l1e(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>o1e(i))),C(e,["urlMetadata"],r)}return e}function c1e(t){const e={},n=T(t,["content"]);n!=null&&C(e,["content"],s1e(n));const r=T(t,["citationMetadata"]);r!=null&&C(e,["citationMetadata"],a1e(r));const i=T(t,["tokenCount"]);i!=null&&C(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&C(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&C(e,["urlContextMetadata"],l1e(a));const o=T(t,["avgLogprobs"]);o!=null&&C(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&C(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&C(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&C(e,["safetyRatings"],f),e}function u1e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c1e(c))),C(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&C(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&C(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&C(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&C(e,["usageMetadata"],o),e}function h3(t){const e={},n=T(t,["details"]);n!=null&&C(e,["details"],n);const r=T(t,["code"]);r!=null&&C(e,["code"],r);const i=T(t,["message"]);return i!=null&&C(e,["message"],i),e}function d1e(t){const e={},n=T(t,["response"]);n!=null&&C(e,["response"],u1e(n));const r=T(t,["error"]);return r!=null&&C(e,["error"],h3(r)),e}function f1e(t){const e={},n=T(t,["values"]);return n!=null&&C(e,["values"],n),e}function h1e(t){const e={},n=T(t,["embedding"]);n!=null&&C(e,["embedding"],f1e(n));const r=T(t,["tokenCount"]);return r!=null&&C(e,["tokenCount"],r),e}function p1e(t){const e={},n=T(t,["response"]);n!=null&&C(e,["response"],h1e(n));const r=T(t,["error"]);return r!=null&&C(e,["error"],h3(r)),e}function m1e(t){const e={},n=T(t,["responsesFile"]);n!=null&&C(e,["fileName"],n);const r=T(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>d1e(a))),C(e,["inlinedResponses"],s)}const i=T(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>p1e(a))),C(e,["inlinedEmbedContentResponses"],s)}return e}function dp(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["metadata","displayName"]);r!=null&&C(e,["displayName"],r);const i=T(t,["metadata","state"]);i!=null&&C(e,["state"],EG(i));const s=T(t,["metadata","createTime"]);s!=null&&C(e,["createTime"],s);const a=T(t,["metadata","endTime"]);a!=null&&C(e,["endTime"],a);const o=T(t,["metadata","updateTime"]);o!=null&&C(e,["updateTime"],o);const l=T(t,["metadata","model"]);l!=null&&C(e,["model"],l);const c=T(t,["metadata","output"]);return c!=null&&C(e,["dest"],m1e(TG(c))),e}function g1e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>dp(a))),C(e,["batchJobs"],s)}return e}function y1e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&C(e,["name"],r);const i=T(t,["done"]);i!=null&&C(e,["done"],i);const s=T(t,["error"]);return s!=null&&C(e,["error"],h3(s)),e}function DG(t){const e={},n=T(t,["details"]);n!=null&&C(e,["details"],n);const r=T(t,["code"]);r!=null&&C(e,["code"],r);const i=T(t,["message"]);return i!=null&&C(e,["message"],i),e}function v1e(t){const e={},n=T(t,["instancesFormat"]);n!=null&&C(e,["format"],n);const r=T(t,["gcsSource","uris"]);r!=null&&C(e,["gcsUri"],r);const i=T(t,["bigquerySource","inputUri"]);return i!=null&&C(e,["bigqueryUri"],i),e}function x1e(t){const e={},n=T(t,["predictionsFormat"]);n!=null&&C(e,["format"],n);const r=T(t,["gcsDestination","outputUriPrefix"]);r!=null&&C(e,["gcsUri"],r);const i=T(t,["bigqueryDestination","outputUri"]);return i!=null&&C(e,["bigqueryUri"],i),e}function $4(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=T(t,["state"]);i!=null&&C(e,["state"],EG(i));const s=T(t,["error"]);s!=null&&C(e,["error"],DG(s));const a=T(t,["createTime"]);a!=null&&C(e,["createTime"],a);const o=T(t,["startTime"]);o!=null&&C(e,["startTime"],o);const l=T(t,["endTime"]);l!=null&&C(e,["endTime"],l);const c=T(t,["updateTime"]);c!=null&&C(e,["updateTime"],c);const u=T(t,["model"]);u!=null&&C(e,["model"],u);const f=T(t,["inputConfig"]);f!=null&&C(e,["src"],v1e(f));const h=T(t,["outputConfig"]);return h!=null&&C(e,["dest"],x1e(TG(h))),e}function _1e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>$4(a))),C(e,["batchJobs"],s)}return e}function b1e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&C(e,["name"],r);const i=T(t,["done"]);i!=null&&C(e,["done"],i);const s=T(t,["error"]);return s!=null&&C(e,["error"],DG(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Pf||(Pf={}));class jv{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w1e extends Zf{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const s=n.src;if(!(Array.isArray(n.src)||s.inlinedRequests!==void 0))return this.createInternal(n);const o=this.createInlinedGenerateContentRequest(n),l=o.path,c=o.body,u=XS(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>dp(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const o=this.createInlinedEmbedContentRequest(n),l=o.path,c=o.body,u=JS(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>dp(h))},this.list=async(n={})=>new jv(Pf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=XS(this.apiClient,e),r=n._url,i=Nt("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=JS(this.apiClient,e),r=n._url,i=Nt("{model}:asyncBatchEmbedContent",r),o=n.batch.inputConfig.requests,l=o.requests,c=[];delete o.config;for(const u of l){const f=Object.assign({},u),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);c.push(f)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Kxe(this.apiClient,e);return o=Nt("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>$4(u))}else{const c=XS(this.apiClient,e);return o=Nt("{model}:batchGenerateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>dp(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=JS(this.apiClient,e);return s=Nt("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>dp(l))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Xxe(this.apiClient,e);return o=Nt("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>$4(u))}else{const c=Bxe(this.apiClient,e);return o=Nt("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>dp(u))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Jxe(this.apiClient,e);a=Nt("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Vxe(this.apiClient,e);a=Nt("batches/{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Qxe(e);return o=Nt("batchPredictionJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=_1e(u),h=new c9;return Object.assign(h,f),h})}else{const c=qxe(e);return o=Nt("batches",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=g1e(u),h=new c9;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Zxe(this.apiClient,e);return o=Nt("batchPredictionJobs/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>b1e(u))}else{const c=zxe(this.apiClient,e);return o=Nt("batches/{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>y1e(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T1e(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function E1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function C1e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function S1e(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function D1e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],T1e(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],E1e(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],C1e(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],S1e(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function h9(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>D1e(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function A1e(t){const e={},n=T(t,["behavior"]);n!=null&&C(e,["behavior"],n);const r=T(t,["description"]);r!=null&&C(e,["description"],r);const i=T(t,["name"]);i!=null&&C(e,["name"],i);const s=T(t,["parameters"]);s!=null&&C(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&C(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&C(e,["responseJsonSchema"],l),e}function N1e(t){const e={},n=T(t,["startTime"]);n!=null&&C(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&C(e,["endTime"],r),e}function k1e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&C(e,["timeRangeFilter"],N1e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function I1e(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&C(e,["dynamicThreshold"],r),e}function R1e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&C(e,["dynamicRetrievalConfig"],I1e(n)),e}function P1e(){return{}}function F1e(t){const e={},n=T(t,["environment"]);return n!=null&&C(e,["environment"],n),e}function M1e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>A1e(c))),C(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&C(e,["googleSearch"],k1e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&C(e,["googleSearchRetrieval"],R1e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&C(e,["urlContext"],P1e());const a=T(t,["computerUse"]);a!=null&&C(e,["computerUse"],F1e(a));const o=T(t,["codeExecution"]);return o!=null&&C(e,["codeExecution"],o),e}function U1e(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&C(e,["allowedFunctionNames"],r),e}function O1e(t){const e={},n=T(t,["latitude"]);n!=null&&C(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&C(e,["longitude"],r),e}function L1e(t){const e={},n=T(t,["latLng"]);n!=null&&C(e,["latLng"],O1e(n));const r=T(t,["languageCode"]);return r!=null&&C(e,["languageCode"],r),e}function j1e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],U1e(n));const r=T(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],L1e(r)),e}function B1e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&C(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&C(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let u=eo(a);Array.isArray(u)&&(u=u.map(f=>h9(f))),C(e,["contents"],u)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&C(e,["systemInstruction"],h9(ms(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>M1e(f))),C(e,["tools"],u)}const c=T(t,["toolConfig"]);if(e!==void 0&&c!=null&&C(e,["toolConfig"],j1e(c)),T(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function V1e(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["model"],hG(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],B1e(i,n)),n}function W1e(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Dc(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function q1e(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Dc(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function z1e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&C(e,["expireTime"],i),n}function H1e(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Dc(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],z1e(i,n)),n}function $1e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function G1e(t){const e={},n=T(t,["config"]);return n!=null&&C(e,["config"],$1e(n,e)),e}function K1e(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function X1e(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["data"]);r!=null&&C(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function J1e(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Y1e(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function Q1e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],K1e(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],X1e(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],J1e(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],Y1e(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function p9(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Q1e(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function Z1e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&C(e,["description"],n);const r=T(t,["name"]);r!=null&&C(e,["name"],r);const i=T(t,["parameters"]);i!=null&&C(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&C(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&C(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&C(e,["responseJsonSchema"],o),e}function e2e(t){const e={},n=T(t,["startTime"]);n!=null&&C(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&C(e,["endTime"],r),e}function t2e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&C(e,["timeRangeFilter"],e2e(n));const r=T(t,["excludeDomains"]);return r!=null&&C(e,["excludeDomains"],r),e}function n2e(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&C(e,["dynamicThreshold"],r),e}function r2e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&C(e,["dynamicRetrievalConfig"],n2e(n)),e}function i2e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&C(e,["excludeDomains"],n),e}function s2e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&C(e,["apiKeyString"],n),e}function a2e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&C(e,["apiKeyConfig"],s2e(n));const r=T(t,["authType"]);r!=null&&C(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&C(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&C(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&C(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&C(e,["oidcConfig"],o),e}function o2e(t){const e={},n=T(t,["authConfig"]);return n!=null&&C(e,["authConfig"],a2e(n)),e}function l2e(){return{}}function c2e(t){const e={},n=T(t,["environment"]);return n!=null&&C(e,["environment"],n),e}function u2e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Z1e(h))),C(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&C(e,["googleSearch"],t2e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&C(e,["googleSearchRetrieval"],r2e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],i2e(a));const o=T(t,["googleMaps"]);o!=null&&C(e,["googleMaps"],o2e(o)),T(t,["urlContext"])!=null&&C(e,["urlContext"],l2e());const c=T(t,["computerUse"]);c!=null&&C(e,["computerUse"],c2e(c));const u=T(t,["codeExecution"]);return u!=null&&C(e,["codeExecution"],u),e}function d2e(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&C(e,["allowedFunctionNames"],r),e}function f2e(t){const e={},n=T(t,["latitude"]);n!=null&&C(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&C(e,["longitude"],r),e}function h2e(t){const e={},n=T(t,["latLng"]);n!=null&&C(e,["latLng"],f2e(n));const r=T(t,["languageCode"]);return r!=null&&C(e,["languageCode"],r),e}function p2e(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],d2e(n));const r=T(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],h2e(r)),e}function m2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=T(t,["expireTime"]);e!==void 0&&i!=null&&C(e,["expireTime"],i);const s=T(t,["displayName"]);e!==void 0&&s!=null&&C(e,["displayName"],s);const a=T(t,["contents"]);if(e!==void 0&&a!=null){let f=eo(a);Array.isArray(f)&&(f=f.map(h=>p9(h))),C(e,["contents"],f)}const o=T(t,["systemInstruction"]);e!==void 0&&o!=null&&C(e,["systemInstruction"],p9(ms(o)));const l=T(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>u2e(h))),C(e,["tools"],f)}const c=T(t,["toolConfig"]);e!==void 0&&c!=null&&C(e,["toolConfig"],p2e(c));const u=T(t,["kmsKeyName"]);return e!==void 0&&u!=null&&C(e,["encryption_spec","kmsKeyName"],u),n}function g2e(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["model"],hG(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],m2e(i,n)),n}function y2e(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Dc(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function v2e(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Dc(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function x2e(t,e){const n={},r=T(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=T(t,["expireTime"]);return e!==void 0&&i!=null&&C(e,["expireTime"],i),n}function _2e(t,e){const n={},r=T(e,["name"]);r!=null&&C(n,["_url","name"],Dc(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],x2e(i,n)),n}function b2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function w2e(t){const e={},n=T(t,["config"]);return n!=null&&C(e,["config"],b2e(n,e)),e}function y2(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=T(t,["model"]);i!=null&&C(e,["model"],i);const s=T(t,["createTime"]);s!=null&&C(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&C(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&C(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&C(e,["usageMetadata"],l),e}function T2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function E2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>y2(a))),C(e,["cachedContents"],s)}return e}function v2(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=T(t,["model"]);i!=null&&C(e,["model"],i);const s=T(t,["createTime"]);s!=null&&C(e,["createTime"],s);const a=T(t,["updateTime"]);a!=null&&C(e,["updateTime"],a);const o=T(t,["expireTime"]);o!=null&&C(e,["expireTime"],o);const l=T(t,["usageMetadata"]);return l!=null&&C(e,["usageMetadata"],l),e}function C2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function S2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>v2(a))),C(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D2e extends Zf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jv(Pf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=g2e(this.apiClient,e);return o=Nt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>v2(u))}else{const c=V1e(this.apiClient,e);return o=Nt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>y2(u))}}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=y2e(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>v2(u))}else{const c=W1e(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>y2(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=v2e(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=C2e(u),h=new o9;return Object.assign(h,f),h})}else{const c=q1e(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=T2e(u),h=new o9;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=_2e(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>v2(u))}else{const c=H1e(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>y2(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=w2e(e);return o=Nt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=S2e(u),h=new l9;return Object.assign(h,f),h})}else{const c=G1e(e);return o=Nt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=E2e(u),h=new l9;return Object.assign(h,f),h})}}}function m9(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function or(t){return this instanceof or?(this.v=t,this):new or(t)}function Np(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){r[p]&&(i[p]=function(g){return new Promise(function(y,b){s.push([p,g,y,b])>1||l(p,g)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(r[p](v))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof or?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function V0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof m9=="function"?m9(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A2e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:AG(n)}function AG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function N2e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function g9(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!AG(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class k2e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new I2e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class I2e{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),N2e(s)}async sendMessage(e){var n;await this.sendPromise;const r=ms(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,c=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];u!=null&&(h=(o=u.slice(f))!==null&&o!==void 0?o:[]);const p=c?[c]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ms(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?g9(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Np(this,arguments,function*(){var a,o,l,c;const u=[];try{for(var f=!0,h=V0(e),p;p=yield or(h.next()),a=p.done,!a;f=!0){c=p.value,f=!1;const v=c;if(A2e(v)){const g=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;g!==void 0&&u.push(g)}yield yield or(v)}}catch(v){o={error:v}}finally{try{!f&&!a&&(l=h.return)&&(yield or(l.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...g9(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,bw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R2e(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function P2e(t){const e={},n=T(t,["config"]);return n!=null&&C(e,["config"],R2e(n,e)),e}function F2e(t){const e={},n=T(t,["details"]);n!=null&&C(e,["details"],n);const r=T(t,["message"]);r!=null&&C(e,["message"],r);const i=T(t,["code"]);return i!=null&&C(e,["code"],i),e}function M2e(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&C(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&C(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&C(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&C(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&C(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&C(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&C(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&C(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&C(e,["state"],h);const p=T(t,["source"]);p!=null&&C(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&C(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&C(e,["error"],F2e(g)),e}function U2e(t){const e={},n=T(t,["file"]);n!=null&&C(e,["file"],M2e(n));const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function O2e(t){const e={},n=T(t,["name"]);n!=null&&C(e,["_url","file"],xG(n));const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function L2e(t){const e={},n=T(t,["name"]);n!=null&&C(e,["_url","file"],xG(n));const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function j2e(t){const e={},n=T(t,["details"]);n!=null&&C(e,["details"],n);const r=T(t,["message"]);r!=null&&C(e,["message"],r);const i=T(t,["code"]);return i!=null&&C(e,["code"],i),e}function G4(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=T(t,["mimeType"]);i!=null&&C(e,["mimeType"],i);const s=T(t,["sizeBytes"]);s!=null&&C(e,["sizeBytes"],s);const a=T(t,["createTime"]);a!=null&&C(e,["createTime"],a);const o=T(t,["expirationTime"]);o!=null&&C(e,["expirationTime"],o);const l=T(t,["updateTime"]);l!=null&&C(e,["updateTime"],l);const c=T(t,["sha256Hash"]);c!=null&&C(e,["sha256Hash"],c);const u=T(t,["uri"]);u!=null&&C(e,["uri"],u);const f=T(t,["downloadUri"]);f!=null&&C(e,["downloadUri"],f);const h=T(t,["state"]);h!=null&&C(e,["state"],h);const p=T(t,["source"]);p!=null&&C(e,["source"],p);const v=T(t,["videoMetadata"]);v!=null&&C(e,["videoMetadata"],v);const g=T(t,["error"]);return g!=null&&C(e,["error"],j2e(g)),e}function B2e(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>G4(a))),C(e,["files"],s)}return e}function V2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function W2e(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q2e extends Zf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jv(Pf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>G4(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=P2e(e);return s=Nt("files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=B2e(l),u=new Kve;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=U2e(e);return s=Nt("upload/v1beta/files",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=V2e(l),u=new Xve;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=O2e(e);return s=Nt("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>G4(l))}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=L2e(e);return s=Nt("files/{file}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=W2e(l),u=new Jve;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z2e(t){const e={},n=T(t,["voiceName"]);return n!=null&&C(e,["voiceName"],n),e}function NG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&C(e,["prebuiltVoiceConfig"],z2e(n)),e}function H2e(t){const e={},n=T(t,["speaker"]);n!=null&&C(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&C(e,["voiceConfig"],NG(r)),e}function $2e(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>H2e(i))),C(e,["speakerVoiceConfigs"],r)}return e}function G2e(t){const e={},n=T(t,["voiceConfig"]);n!=null&&C(e,["voiceConfig"],NG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&C(e,["multiSpeakerVoiceConfig"],$2e(r));const i=T(t,["languageCode"]);return i!=null&&C(e,["languageCode"],i),e}function K2e(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function X2e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function J2e(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function Y2e(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function Q2e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],K2e(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],X2e(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],J2e(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],Y2e(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function Z2e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Q2e(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function e_e(t){const e={},n=T(t,["behavior"]);n!=null&&C(e,["behavior"],n);const r=T(t,["description"]);r!=null&&C(e,["description"],r);const i=T(t,["name"]);i!=null&&C(e,["name"],i);const s=T(t,["parameters"]);s!=null&&C(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&C(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&C(e,["responseJsonSchema"],l),e}function t_e(t){const e={},n=T(t,["startTime"]);n!=null&&C(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&C(e,["endTime"],r),e}function n_e(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&C(e,["timeRangeFilter"],t_e(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function r_e(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&C(e,["dynamicThreshold"],r),e}function i_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&C(e,["dynamicRetrievalConfig"],r_e(n)),e}function s_e(){return{}}function a_e(t){const e={},n=T(t,["environment"]);return n!=null&&C(e,["environment"],n),e}function o_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>e_e(c))),C(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&C(e,["googleSearch"],n_e(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&C(e,["googleSearchRetrieval"],i_e(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&C(e,["urlContext"],s_e());const a=T(t,["computerUse"]);a!=null&&C(e,["computerUse"],a_e(a));const o=T(t,["codeExecution"]);return o!=null&&C(e,["codeExecution"],o),e}function l_e(t){const e={},n=T(t,["handle"]);if(n!=null&&C(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function y9(){return{}}function c_e(t){const e={},n=T(t,["disabled"]);n!=null&&C(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&C(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&C(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&C(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&C(e,["silenceDurationMs"],a),e}function u_e(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&C(e,["automaticActivityDetection"],c_e(n));const r=T(t,["activityHandling"]);r!=null&&C(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&C(e,["turnCoverage"],i),e}function d_e(t){const e={},n=T(t,["targetTokens"]);return n!=null&&C(e,["targetTokens"],n),e}function f_e(t){const e={},n=T(t,["triggerTokens"]);n!=null&&C(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&C(e,["slidingWindow"],d_e(r)),e}function h_e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&C(e,["proactiveAudio"],n),e}function p_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","speechConfig"],G2e(f3(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&C(e,["setup","systemInstruction"],Z2e(ms(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=zm(v);Array.isArray(S)&&(S=S.map(R=>o_e(qm(R)))),C(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&C(e,["setup","sessionResumption"],l_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&C(e,["setup","inputAudioTranscription"],y9());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&C(e,["setup","outputAudioTranscription"],y9());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&C(e,["setup","realtimeInputConfig"],u_e(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&C(e,["setup","contextWindowCompression"],f_e(w));const E=T(t,["proactivity"]);return e!==void 0&&E!=null&&C(e,["setup","proactivity"],h_e(E)),n}function m_e(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["setup","model"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],p_e(i,n)),n}function g_e(){return{}}function y_e(){return{}}function v_e(t){const e={},n=T(t,["media"]);n!=null&&C(e,["mediaChunks"],pG(n));const r=T(t,["audio"]);r!=null&&C(e,["audio"],gG(r));const i=T(t,["audioStreamEnd"]);i!=null&&C(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&C(e,["video"],mG(s));const a=T(t,["text"]);return a!=null&&C(e,["text"],a),T(t,["activityStart"])!=null&&C(e,["activityStart"],g_e()),T(t,["activityEnd"])!=null&&C(e,["activityEnd"],y_e()),e}function kG(t){const e={},n=T(t,["text"]);n!=null&&C(e,["text"],n);const r=T(t,["weight"]);return r!=null&&C(e,["weight"],r),e}function x_e(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kG(i))),C(e,["weightedPrompts"],r)}return e}function IG(t){const e={},n=T(t,["temperature"]);n!=null&&C(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&C(e,["topK"],r);const i=T(t,["seed"]);i!=null&&C(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&C(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&C(e,["bpm"],a);const o=T(t,["density"]);o!=null&&C(e,["density"],o);const l=T(t,["brightness"]);l!=null&&C(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&C(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&C(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&C(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&C(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&C(e,["musicGenerationMode"],p),e}function __e(t){const e={},n=T(t,["musicGenerationConfig"]);return n!=null&&C(e,["musicGenerationConfig"],IG(n)),e}function RG(t){const e={},n=T(t,["model"]);return n!=null&&C(e,["model"],n),e}function PG(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kG(i))),C(e,["weightedPrompts"],r)}return e}function K4(t){const e={},n=T(t,["setup"]);n!=null&&C(e,["setup"],RG(n));const r=T(t,["clientContent"]);r!=null&&C(e,["clientContent"],PG(r));const i=T(t,["musicGenerationConfig"]);i!=null&&C(e,["musicGenerationConfig"],IG(i));const s=T(t,["playbackControl"]);return s!=null&&C(e,["playbackControl"],s),e}function b_e(t){const e={},n=T(t,["voiceName"]);return n!=null&&C(e,["voiceName"],n),e}function w_e(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&C(e,["prebuiltVoiceConfig"],b_e(n)),e}function T_e(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&C(e,["voiceConfig"],w_e(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&C(e,["languageCode"],r),e}function E_e(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function C_e(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["data"]);r!=null&&C(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function S_e(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function D_e(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function A_e(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],E_e(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],C_e(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],S_e(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],D_e(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function N_e(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>A_e(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function k_e(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&C(e,["description"],n);const r=T(t,["name"]);r!=null&&C(e,["name"],r);const i=T(t,["parameters"]);i!=null&&C(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&C(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&C(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&C(e,["responseJsonSchema"],o),e}function I_e(t){const e={},n=T(t,["startTime"]);n!=null&&C(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&C(e,["endTime"],r),e}function R_e(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&C(e,["timeRangeFilter"],I_e(n));const r=T(t,["excludeDomains"]);return r!=null&&C(e,["excludeDomains"],r),e}function P_e(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&C(e,["dynamicThreshold"],r),e}function F_e(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&C(e,["dynamicRetrievalConfig"],P_e(n)),e}function M_e(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&C(e,["excludeDomains"],n),e}function U_e(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&C(e,["apiKeyString"],n),e}function O_e(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&C(e,["apiKeyConfig"],U_e(n));const r=T(t,["authType"]);r!=null&&C(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&C(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&C(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&C(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&C(e,["oidcConfig"],o),e}function L_e(t){const e={},n=T(t,["authConfig"]);return n!=null&&C(e,["authConfig"],O_e(n)),e}function j_e(){return{}}function B_e(t){const e={},n=T(t,["environment"]);return n!=null&&C(e,["environment"],n),e}function V_e(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>k_e(h))),C(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&C(e,["googleSearch"],R_e(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&C(e,["googleSearchRetrieval"],F_e(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],M_e(a));const o=T(t,["googleMaps"]);o!=null&&C(e,["googleMaps"],L_e(o)),T(t,["urlContext"])!=null&&C(e,["urlContext"],j_e());const c=T(t,["computerUse"]);c!=null&&C(e,["computerUse"],B_e(c));const u=T(t,["codeExecution"]);return u!=null&&C(e,["codeExecution"],u),e}function W_e(t){const e={},n=T(t,["handle"]);n!=null&&C(e,["handle"],n);const r=T(t,["transparent"]);return r!=null&&C(e,["transparent"],r),e}function v9(){return{}}function q_e(t){const e={},n=T(t,["disabled"]);n!=null&&C(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&C(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&C(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&C(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&C(e,["silenceDurationMs"],a),e}function z_e(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&C(e,["automaticActivityDetection"],q_e(n));const r=T(t,["activityHandling"]);r!=null&&C(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&C(e,["turnCoverage"],i),e}function H_e(t){const e={},n=T(t,["targetTokens"]);return n!=null&&C(e,["targetTokens"],n),e}function $_e(t){const e={},n=T(t,["triggerTokens"]);n!=null&&C(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&C(e,["slidingWindow"],H_e(r)),e}function G_e(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&C(e,["proactiveAudio"],n),e}function K_e(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","speechConfig"],T_e(f3(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&C(e,["setup","systemInstruction"],N_e(ms(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=zm(v);Array.isArray(S)&&(S=S.map(R=>V_e(qm(R)))),C(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&C(e,["setup","sessionResumption"],W_e(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&C(e,["setup","inputAudioTranscription"],v9());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&C(e,["setup","outputAudioTranscription"],v9());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&C(e,["setup","realtimeInputConfig"],z_e(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&C(e,["setup","contextWindowCompression"],$_e(w));const E=T(t,["proactivity"]);return e!==void 0&&E!=null&&C(e,["setup","proactivity"],G_e(E)),n}function X_e(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["setup","model"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],K_e(i,n)),n}function J_e(){return{}}function Y_e(){return{}}function Q_e(t){const e={},n=T(t,["media"]);n!=null&&C(e,["mediaChunks"],pG(n));const r=T(t,["audio"]);r!=null&&C(e,["audio"],gG(r));const i=T(t,["audioStreamEnd"]);i!=null&&C(e,["audioStreamEnd"],i);const s=T(t,["video"]);s!=null&&C(e,["video"],mG(s));const a=T(t,["text"]);return a!=null&&C(e,["text"],a),T(t,["activityStart"])!=null&&C(e,["activityStart"],J_e()),T(t,["activityEnd"])!=null&&C(e,["activityEnd"],Y_e()),e}function Z_e(){return{}}function ebe(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function tbe(t){const e={},n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function nbe(t){const e={},n=T(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function FG(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function rbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],ebe(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],tbe(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],nbe(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],FG(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function ibe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>rbe(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function x9(t){const e={},n=T(t,["text"]);n!=null&&C(e,["text"],n);const r=T(t,["finished"]);return r!=null&&C(e,["finished"],r),e}function sbe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&C(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&C(e,["urlRetrievalStatus"],r),e}function abe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sbe(i))),C(e,["urlMetadata"],r)}return e}function obe(t){const e={},n=T(t,["modelTurn"]);n!=null&&C(e,["modelTurn"],ibe(n));const r=T(t,["turnComplete"]);r!=null&&C(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&C(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&C(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&C(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&C(e,["inputTranscription"],x9(o));const l=T(t,["outputTranscription"]);l!=null&&C(e,["outputTranscription"],x9(l));const c=T(t,["urlContextMetadata"]);return c!=null&&C(e,["urlContextMetadata"],abe(c)),e}function lbe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>FG(i))),C(e,["functionCalls"],r)}return e}function cbe(t){const e={},n=T(t,["ids"]);return n!=null&&C(e,["ids"],n),e}function E1(t){const e={},n=T(t,["modality"]);n!=null&&C(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&C(e,["tokenCount"],r),e}function ube(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&C(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&C(e,["cachedContentTokenCount"],r);const i=T(t,["responseTokenCount"]);i!=null&&C(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&C(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&C(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&C(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>E1(p))),C(e,["promptTokensDetails"],h)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>E1(p))),C(e,["cacheTokensDetails"],h)}const u=T(t,["responseTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>E1(p))),C(e,["responseTokensDetails"],h)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>E1(p))),C(e,["toolUsePromptTokensDetails"],h)}return e}function dbe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&C(e,["timeLeft"],n),e}function fbe(t){const e={},n=T(t,["newHandle"]);n!=null&&C(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&C(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&C(e,["lastConsumedClientMessageIndex"],i),e}function hbe(t){const e={};T(t,["setupComplete"])!=null&&C(e,["setupComplete"],Z_e());const r=T(t,["serverContent"]);r!=null&&C(e,["serverContent"],obe(r));const i=T(t,["toolCall"]);i!=null&&C(e,["toolCall"],lbe(i));const s=T(t,["toolCallCancellation"]);s!=null&&C(e,["toolCallCancellation"],cbe(s));const a=T(t,["usageMetadata"]);a!=null&&C(e,["usageMetadata"],ube(a));const o=T(t,["goAway"]);o!=null&&C(e,["goAway"],dbe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&C(e,["sessionResumptionUpdate"],fbe(l)),e}function pbe(){return{}}function mbe(t){const e={},n=T(t,["text"]);n!=null&&C(e,["text"],n);const r=T(t,["weight"]);return r!=null&&C(e,["weight"],r),e}function gbe(t){const e={},n=T(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mbe(i))),C(e,["weightedPrompts"],r)}return e}function ybe(t){const e={},n=T(t,["temperature"]);n!=null&&C(e,["temperature"],n);const r=T(t,["topK"]);r!=null&&C(e,["topK"],r);const i=T(t,["seed"]);i!=null&&C(e,["seed"],i);const s=T(t,["guidance"]);s!=null&&C(e,["guidance"],s);const a=T(t,["bpm"]);a!=null&&C(e,["bpm"],a);const o=T(t,["density"]);o!=null&&C(e,["density"],o);const l=T(t,["brightness"]);l!=null&&C(e,["brightness"],l);const c=T(t,["scale"]);c!=null&&C(e,["scale"],c);const u=T(t,["muteBass"]);u!=null&&C(e,["muteBass"],u);const f=T(t,["muteDrums"]);f!=null&&C(e,["muteDrums"],f);const h=T(t,["onlyBassAndDrums"]);h!=null&&C(e,["onlyBassAndDrums"],h);const p=T(t,["musicGenerationMode"]);return p!=null&&C(e,["musicGenerationMode"],p),e}function vbe(t){const e={},n=T(t,["clientContent"]);n!=null&&C(e,["clientContent"],gbe(n));const r=T(t,["musicGenerationConfig"]);return r!=null&&C(e,["musicGenerationConfig"],ybe(r)),e}function xbe(t){const e={},n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);r!=null&&C(e,["mimeType"],r);const i=T(t,["sourceMetadata"]);return i!=null&&C(e,["sourceMetadata"],vbe(i)),e}function _be(t){const e={},n=T(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xbe(i))),C(e,["audioChunks"],r)}return e}function bbe(t){const e={},n=T(t,["text"]);n!=null&&C(e,["text"],n);const r=T(t,["filteredReason"]);return r!=null&&C(e,["filteredReason"],r),e}function wbe(t){const e={};T(t,["setupComplete"])!=null&&C(e,["setupComplete"],pbe());const r=T(t,["serverContent"]);r!=null&&C(e,["serverContent"],_be(r));const i=T(t,["filteredPrompt"]);return i!=null&&C(e,["filteredPrompt"],bbe(i)),e}function Tbe(t){const e={},n=T(t,["sessionId"]);return n!=null&&C(e,["sessionId"],n),e}function Ebe(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function Cbe(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["data"]);r!=null&&C(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Sbe(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function MG(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function Dbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],Ebe(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],Cbe(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],Sbe(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],MG(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function Abe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Dbe(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function _9(t){const e={},n=T(t,["text"]);n!=null&&C(e,["text"],n);const r=T(t,["finished"]);return r!=null&&C(e,["finished"],r),e}function Nbe(t){const e={},n=T(t,["modelTurn"]);n!=null&&C(e,["modelTurn"],Abe(n));const r=T(t,["turnComplete"]);r!=null&&C(e,["turnComplete"],r);const i=T(t,["interrupted"]);i!=null&&C(e,["interrupted"],i);const s=T(t,["groundingMetadata"]);s!=null&&C(e,["groundingMetadata"],s);const a=T(t,["generationComplete"]);a!=null&&C(e,["generationComplete"],a);const o=T(t,["inputTranscription"]);o!=null&&C(e,["inputTranscription"],_9(o));const l=T(t,["outputTranscription"]);return l!=null&&C(e,["outputTranscription"],_9(l)),e}function kbe(t){const e={},n=T(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>MG(i))),C(e,["functionCalls"],r)}return e}function Ibe(t){const e={},n=T(t,["ids"]);return n!=null&&C(e,["ids"],n),e}function C1(t){const e={},n=T(t,["modality"]);n!=null&&C(e,["modality"],n);const r=T(t,["tokenCount"]);return r!=null&&C(e,["tokenCount"],r),e}function Rbe(t){const e={},n=T(t,["promptTokenCount"]);n!=null&&C(e,["promptTokenCount"],n);const r=T(t,["cachedContentTokenCount"]);r!=null&&C(e,["cachedContentTokenCount"],r);const i=T(t,["candidatesTokenCount"]);i!=null&&C(e,["responseTokenCount"],i);const s=T(t,["toolUsePromptTokenCount"]);s!=null&&C(e,["toolUsePromptTokenCount"],s);const a=T(t,["thoughtsTokenCount"]);a!=null&&C(e,["thoughtsTokenCount"],a);const o=T(t,["totalTokenCount"]);o!=null&&C(e,["totalTokenCount"],o);const l=T(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>C1(v))),C(e,["promptTokensDetails"],p)}const c=T(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>C1(v))),C(e,["cacheTokensDetails"],p)}const u=T(t,["candidatesTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>C1(v))),C(e,["responseTokensDetails"],p)}const f=T(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>C1(v))),C(e,["toolUsePromptTokensDetails"],p)}const h=T(t,["trafficType"]);return h!=null&&C(e,["trafficType"],h),e}function Pbe(t){const e={},n=T(t,["timeLeft"]);return n!=null&&C(e,["timeLeft"],n),e}function Fbe(t){const e={},n=T(t,["newHandle"]);n!=null&&C(e,["newHandle"],n);const r=T(t,["resumable"]);r!=null&&C(e,["resumable"],r);const i=T(t,["lastConsumedClientMessageIndex"]);return i!=null&&C(e,["lastConsumedClientMessageIndex"],i),e}function Mbe(t){const e={},n=T(t,["setupComplete"]);n!=null&&C(e,["setupComplete"],Tbe(n));const r=T(t,["serverContent"]);r!=null&&C(e,["serverContent"],Nbe(r));const i=T(t,["toolCall"]);i!=null&&C(e,["toolCall"],kbe(i));const s=T(t,["toolCallCancellation"]);s!=null&&C(e,["toolCallCancellation"],Ibe(s));const a=T(t,["usageMetadata"]);a!=null&&C(e,["usageMetadata"],Rbe(a));const o=T(t,["goAway"]);o!=null&&C(e,["goAway"],Pbe(o));const l=T(t,["sessionResumptionUpdate"]);return l!=null&&C(e,["sessionResumptionUpdate"],Fbe(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ube(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function Obe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function Lbe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function jbe(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function Bbe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],Ube(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],Obe(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],Lbe(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],jbe(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function ww(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Bbe(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function Vbe(t){const e={},n=T(t,["anyOf"]);n!=null&&C(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&C(e,["default"],r);const i=T(t,["description"]);i!=null&&C(e,["description"],i);const s=T(t,["enum"]);s!=null&&C(e,["enum"],s);const a=T(t,["example"]);a!=null&&C(e,["example"],a);const o=T(t,["format"]);o!=null&&C(e,["format"],o);const l=T(t,["items"]);l!=null&&C(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&C(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&C(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&C(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&C(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&C(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&C(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&C(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&C(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&C(e,["nullable"],b);const x=T(t,["pattern"]);x!=null&&C(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&C(e,["properties"],w);const E=T(t,["propertyOrdering"]);E!=null&&C(e,["propertyOrdering"],E);const S=T(t,["required"]);S!=null&&C(e,["required"],S);const R=T(t,["title"]);R!=null&&C(e,["title"],R);const D=T(t,["type"]);return D!=null&&C(e,["type"],D),e}function Wbe(t){const e={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=T(t,["category"]);n!=null&&C(e,["category"],n);const r=T(t,["threshold"]);return r!=null&&C(e,["threshold"],r),e}function qbe(t){const e={},n=T(t,["behavior"]);n!=null&&C(e,["behavior"],n);const r=T(t,["description"]);r!=null&&C(e,["description"],r);const i=T(t,["name"]);i!=null&&C(e,["name"],i);const s=T(t,["parameters"]);s!=null&&C(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&C(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&C(e,["responseJsonSchema"],l),e}function zbe(t){const e={},n=T(t,["startTime"]);n!=null&&C(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&C(e,["endTime"],r),e}function Hbe(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&C(e,["timeRangeFilter"],zbe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $be(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&C(e,["dynamicThreshold"],r),e}function Gbe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&C(e,["dynamicRetrievalConfig"],$be(n)),e}function Kbe(){return{}}function Xbe(t){const e={},n=T(t,["environment"]);return n!=null&&C(e,["environment"],n),e}function Jbe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>qbe(c))),C(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&C(e,["googleSearch"],Hbe(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&C(e,["googleSearchRetrieval"],Gbe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&C(e,["urlContext"],Kbe());const a=T(t,["computerUse"]);a!=null&&C(e,["computerUse"],Xbe(a));const o=T(t,["codeExecution"]);return o!=null&&C(e,["codeExecution"],o),e}function Ybe(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&C(e,["allowedFunctionNames"],r),e}function Qbe(t){const e={},n=T(t,["latitude"]);n!=null&&C(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&C(e,["longitude"],r),e}function Zbe(t){const e={},n=T(t,["latLng"]);n!=null&&C(e,["latLng"],Qbe(n));const r=T(t,["languageCode"]);return r!=null&&C(e,["languageCode"],r),e}function ewe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],Ybe(n));const r=T(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],Zbe(r)),e}function twe(t){const e={},n=T(t,["voiceName"]);return n!=null&&C(e,["voiceName"],n),e}function UG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&C(e,["prebuiltVoiceConfig"],twe(n)),e}function nwe(t){const e={},n=T(t,["speaker"]);n!=null&&C(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&C(e,["voiceConfig"],UG(r)),e}function rwe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nwe(i))),C(e,["speakerVoiceConfigs"],r)}return e}function iwe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&C(e,["voiceConfig"],UG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&C(e,["multiSpeakerVoiceConfig"],rwe(r));const i=T(t,["languageCode"]);return i!=null&&C(e,["languageCode"],i),e}function swe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&C(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&C(e,["thinkingBudget"],r),e}function awe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],ww(ms(i)));const s=T(e,["temperature"]);s!=null&&C(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&C(r,["topP"],a);const o=T(e,["topK"]);o!=null&&C(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&C(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&C(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&C(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&C(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&C(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&C(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&C(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&C(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&C(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&C(r,["responseSchema"],Vbe(u3(b)));const x=T(e,["responseJsonSchema"]);if(x!=null&&C(r,["responseJsonSchema"],x),T(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=T(e,["safetySettings"]);if(n!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(k=>Wbe(k))),C(n,["safetySettings"],P)}const E=T(e,["tools"]);if(n!==void 0&&E!=null){let P=zm(E);Array.isArray(P)&&(P=P.map(k=>Jbe(qm(k)))),C(n,["tools"],P)}const S=T(e,["toolConfig"]);if(n!==void 0&&S!=null&&C(n,["toolConfig"],ewe(S)),T(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=T(e,["cachedContent"]);n!==void 0&&R!=null&&C(n,["cachedContent"],Dc(t,R));const D=T(e,["responseModalities"]);D!=null&&C(r,["responseModalities"],D);const N=T(e,["mediaResolution"]);N!=null&&C(r,["mediaResolution"],N);const I=T(e,["speechConfig"]);if(I!=null&&C(r,["speechConfig"],iwe(d3(I))),T(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=T(e,["thinkingConfig"]);return F!=null&&C(r,["thinkingConfig"],swe(F)),r}function b9(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>ww(o))),C(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&C(n,["generationConfig"],awe(t,s,n)),n}function owe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&C(e,["requests[]","taskType"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&C(e,["requests[]","title"],i);const s=T(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&C(e,["requests[]","outputDimensionality"],s),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lwe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["contents"]);i!=null&&C(n,["requests[]","content"],c3(t,i));const s=T(e,["config"]);s!=null&&C(n,["config"],owe(s,n));const a=T(e,["model"]);return a!==void 0&&C(n,["requests[]","model"],An(t,a)),n}function cwe(t,e){const n={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=T(t,["aspectRatio"]);e!==void 0&&i!=null&&C(e,["parameters","aspectRatio"],i);const s=T(t,["guidanceScale"]);if(e!==void 0&&s!=null&&C(e,["parameters","guidanceScale"],s),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=T(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&C(e,["parameters","safetySetting"],a);const o=T(t,["personGeneration"]);e!==void 0&&o!=null&&C(e,["parameters","personGeneration"],o);const l=T(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&C(e,["parameters","includeSafetyAttributes"],l);const c=T(t,["includeRaiReason"]);e!==void 0&&c!=null&&C(e,["parameters","includeRaiReason"],c);const u=T(t,["language"]);e!==void 0&&u!=null&&C(e,["parameters","language"],u);const f=T(t,["outputMimeType"]);e!==void 0&&f!=null&&C(e,["parameters","outputOptions","mimeType"],f);const h=T(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&C(e,["parameters","outputOptions","compressionQuality"],h),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=T(t,["imageSize"]);if(e!==void 0&&p!=null&&C(e,["parameters","sampleImageSize"],p),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function uwe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&C(n,["config"],cwe(s,n)),n}function dwe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","name"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function fwe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&C(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&C(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&C(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&C(n,["_url","models_url"],_G(t,o)),r}function hwe(t,e){const n={},r=T(e,["config"]);return r!=null&&C(n,["config"],fwe(t,r,n)),n}function pwe(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&C(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&C(e,["defaultCheckpointId"],s),n}function mwe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","name"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],pwe(i,n)),n}function gwe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","name"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function ywe(t){const e={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vwe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>ww(o))),C(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&C(n,["config"],ywe(s)),n}function OG(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=T(t,["imageBytes"]);n!=null&&C(e,["bytesBase64Encoded"],eh(n));const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function xwe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=T(t,["image"]);if(e!==void 0&&i!=null&&C(e,["instances[0]","image"],OG(i)),T(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function _we(t,e){const n={},r=T(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=T(t,["durationSeconds"]);if(e!==void 0&&i!=null&&C(e,["parameters","durationSeconds"],i),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=T(t,["aspectRatio"]);e!==void 0&&s!=null&&C(e,["parameters","aspectRatio"],s);const a=T(t,["resolution"]);e!==void 0&&a!=null&&C(e,["parameters","resolution"],a);const o=T(t,["personGeneration"]);if(e!==void 0&&o!=null&&C(e,["parameters","personGeneration"],o),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=T(t,["negativePrompt"]);e!==void 0&&l!=null&&C(e,["parameters","negativePrompt"],l);const c=T(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&C(e,["parameters","enhancePrompt"],c),T(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(T(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(T(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(T(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(T(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function bwe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=T(e,["image"]);if(s!=null&&C(n,["instances[0]","image"],OG(s)),T(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=T(e,["source"]);a!=null&&C(n,["config"],xwe(a,n));const o=T(e,["config"]);return o!=null&&C(n,["config"],_we(o,n)),n}function wwe(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function Twe(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["data"]);r!=null&&C(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Ewe(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Cwe(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function Swe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],wwe(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],Twe(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],Ewe(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],Cwe(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function $m(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Swe(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function Dwe(t){const e={},n=T(t,["anyOf"]);n!=null&&C(e,["anyOf"],n);const r=T(t,["default"]);r!=null&&C(e,["default"],r);const i=T(t,["description"]);i!=null&&C(e,["description"],i);const s=T(t,["enum"]);s!=null&&C(e,["enum"],s);const a=T(t,["example"]);a!=null&&C(e,["example"],a);const o=T(t,["format"]);o!=null&&C(e,["format"],o);const l=T(t,["items"]);l!=null&&C(e,["items"],l);const c=T(t,["maxItems"]);c!=null&&C(e,["maxItems"],c);const u=T(t,["maxLength"]);u!=null&&C(e,["maxLength"],u);const f=T(t,["maxProperties"]);f!=null&&C(e,["maxProperties"],f);const h=T(t,["maximum"]);h!=null&&C(e,["maximum"],h);const p=T(t,["minItems"]);p!=null&&C(e,["minItems"],p);const v=T(t,["minLength"]);v!=null&&C(e,["minLength"],v);const g=T(t,["minProperties"]);g!=null&&C(e,["minProperties"],g);const y=T(t,["minimum"]);y!=null&&C(e,["minimum"],y);const b=T(t,["nullable"]);b!=null&&C(e,["nullable"],b);const x=T(t,["pattern"]);x!=null&&C(e,["pattern"],x);const w=T(t,["properties"]);w!=null&&C(e,["properties"],w);const E=T(t,["propertyOrdering"]);E!=null&&C(e,["propertyOrdering"],E);const S=T(t,["required"]);S!=null&&C(e,["required"],S);const R=T(t,["title"]);R!=null&&C(e,["title"],R);const D=T(t,["type"]);return D!=null&&C(e,["type"],D),e}function Awe(t){const e={},n=T(t,["featureSelectionPreference"]);return n!=null&&C(e,["featureSelectionPreference"],n),e}function Nwe(t){const e={},n=T(t,["method"]);n!=null&&C(e,["method"],n);const r=T(t,["category"]);r!=null&&C(e,["category"],r);const i=T(t,["threshold"]);return i!=null&&C(e,["threshold"],i),e}function kwe(t){const e={};if(T(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=T(t,["description"]);n!=null&&C(e,["description"],n);const r=T(t,["name"]);r!=null&&C(e,["name"],r);const i=T(t,["parameters"]);i!=null&&C(e,["parameters"],i);const s=T(t,["parametersJsonSchema"]);s!=null&&C(e,["parametersJsonSchema"],s);const a=T(t,["response"]);a!=null&&C(e,["response"],a);const o=T(t,["responseJsonSchema"]);return o!=null&&C(e,["responseJsonSchema"],o),e}function Iwe(t){const e={},n=T(t,["startTime"]);n!=null&&C(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&C(e,["endTime"],r),e}function Rwe(t){const e={},n=T(t,["timeRangeFilter"]);n!=null&&C(e,["timeRangeFilter"],Iwe(n));const r=T(t,["excludeDomains"]);return r!=null&&C(e,["excludeDomains"],r),e}function Pwe(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&C(e,["dynamicThreshold"],r),e}function Fwe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&C(e,["dynamicRetrievalConfig"],Pwe(n)),e}function Mwe(t){const e={},n=T(t,["excludeDomains"]);return n!=null&&C(e,["excludeDomains"],n),e}function Uwe(t){const e={},n=T(t,["apiKeyString"]);return n!=null&&C(e,["apiKeyString"],n),e}function Owe(t){const e={},n=T(t,["apiKeyConfig"]);n!=null&&C(e,["apiKeyConfig"],Uwe(n));const r=T(t,["authType"]);r!=null&&C(e,["authType"],r);const i=T(t,["googleServiceAccountConfig"]);i!=null&&C(e,["googleServiceAccountConfig"],i);const s=T(t,["httpBasicAuthConfig"]);s!=null&&C(e,["httpBasicAuthConfig"],s);const a=T(t,["oauthConfig"]);a!=null&&C(e,["oauthConfig"],a);const o=T(t,["oidcConfig"]);return o!=null&&C(e,["oidcConfig"],o),e}function Lwe(t){const e={},n=T(t,["authConfig"]);return n!=null&&C(e,["authConfig"],Owe(n)),e}function jwe(){return{}}function Bwe(t){const e={},n=T(t,["environment"]);return n!=null&&C(e,["environment"],n),e}function LG(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>kwe(h))),C(e,["functionDeclarations"],f)}const r=T(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=T(t,["googleSearch"]);i!=null&&C(e,["googleSearch"],Rwe(i));const s=T(t,["googleSearchRetrieval"]);s!=null&&C(e,["googleSearchRetrieval"],Fwe(s));const a=T(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],Mwe(a));const o=T(t,["googleMaps"]);o!=null&&C(e,["googleMaps"],Lwe(o)),T(t,["urlContext"])!=null&&C(e,["urlContext"],jwe());const c=T(t,["computerUse"]);c!=null&&C(e,["computerUse"],Bwe(c));const u=T(t,["codeExecution"]);return u!=null&&C(e,["codeExecution"],u),e}function Vwe(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["allowedFunctionNames"]);return r!=null&&C(e,["allowedFunctionNames"],r),e}function Wwe(t){const e={},n=T(t,["latitude"]);n!=null&&C(e,["latitude"],n);const r=T(t,["longitude"]);return r!=null&&C(e,["longitude"],r),e}function qwe(t){const e={},n=T(t,["latLng"]);n!=null&&C(e,["latLng"],Wwe(n));const r=T(t,["languageCode"]);return r!=null&&C(e,["languageCode"],r),e}function zwe(t){const e={},n=T(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],Vwe(n));const r=T(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],qwe(r)),e}function Hwe(t){const e={},n=T(t,["voiceName"]);return n!=null&&C(e,["voiceName"],n),e}function $we(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&C(e,["prebuiltVoiceConfig"],Hwe(n)),e}function Gwe(t){const e={},n=T(t,["voiceConfig"]);if(n!=null&&C(e,["voiceConfig"],$we(n)),T(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=T(t,["languageCode"]);return r!=null&&C(e,["languageCode"],r),e}function Kwe(t){const e={},n=T(t,["includeThoughts"]);n!=null&&C(e,["includeThoughts"],n);const r=T(t,["thinkingBudget"]);return r!=null&&C(e,["thinkingBudget"],r),e}function Xwe(t,e,n){const r={},i=T(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],$m(ms(i)));const s=T(e,["temperature"]);s!=null&&C(r,["temperature"],s);const a=T(e,["topP"]);a!=null&&C(r,["topP"],a);const o=T(e,["topK"]);o!=null&&C(r,["topK"],o);const l=T(e,["candidateCount"]);l!=null&&C(r,["candidateCount"],l);const c=T(e,["maxOutputTokens"]);c!=null&&C(r,["maxOutputTokens"],c);const u=T(e,["stopSequences"]);u!=null&&C(r,["stopSequences"],u);const f=T(e,["responseLogprobs"]);f!=null&&C(r,["responseLogprobs"],f);const h=T(e,["logprobs"]);h!=null&&C(r,["logprobs"],h);const p=T(e,["presencePenalty"]);p!=null&&C(r,["presencePenalty"],p);const v=T(e,["frequencyPenalty"]);v!=null&&C(r,["frequencyPenalty"],v);const g=T(e,["seed"]);g!=null&&C(r,["seed"],g);const y=T(e,["responseMimeType"]);y!=null&&C(r,["responseMimeType"],y);const b=T(e,["responseSchema"]);b!=null&&C(r,["responseSchema"],Dwe(u3(b)));const x=T(e,["responseJsonSchema"]);x!=null&&C(r,["responseJsonSchema"],x);const w=T(e,["routingConfig"]);w!=null&&C(r,["routingConfig"],w);const E=T(e,["modelSelectionConfig"]);E!=null&&C(r,["modelConfig"],Awe(E));const S=T(e,["safetySettings"]);if(n!==void 0&&S!=null){let X=S;Array.isArray(X)&&(X=X.map(J=>Nwe(J))),C(n,["safetySettings"],X)}const R=T(e,["tools"]);if(n!==void 0&&R!=null){let X=zm(R);Array.isArray(X)&&(X=X.map(J=>LG(qm(J)))),C(n,["tools"],X)}const D=T(e,["toolConfig"]);n!==void 0&&D!=null&&C(n,["toolConfig"],zwe(D));const N=T(e,["labels"]);n!==void 0&&N!=null&&C(n,["labels"],N);const I=T(e,["cachedContent"]);n!==void 0&&I!=null&&C(n,["cachedContent"],Dc(t,I));const F=T(e,["responseModalities"]);F!=null&&C(r,["responseModalities"],F);const P=T(e,["mediaResolution"]);P!=null&&C(r,["mediaResolution"],P);const k=T(e,["speechConfig"]);k!=null&&C(r,["speechConfig"],Gwe(d3(k)));const U=T(e,["audioTimestamp"]);U!=null&&C(r,["audioTimestamp"],U);const O=T(e,["thinkingConfig"]);return O!=null&&C(r,["thinkingConfig"],Kwe(O)),r}function w9(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>$m(o))),C(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&C(n,["generationConfig"],Xwe(t,s,n)),n}function Jwe(t,e){const n={},r=T(t,["taskType"]);e!==void 0&&r!=null&&C(e,["instances[]","task_type"],r);const i=T(t,["title"]);e!==void 0&&i!=null&&C(e,["instances[]","title"],i);const s=T(t,["outputDimensionality"]);e!==void 0&&s!=null&&C(e,["parameters","outputDimensionality"],s);const a=T(t,["mimeType"]);e!==void 0&&a!=null&&C(e,["instances[]","mimeType"],a);const o=T(t,["autoTruncate"]);return e!==void 0&&o!=null&&C(e,["parameters","autoTruncate"],o),n}function Ywe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["contents"]);i!=null&&C(n,["instances[]","content"],c3(t,i));const s=T(e,["config"]);return s!=null&&C(n,["config"],Jwe(s,n)),n}function Qwe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&C(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&C(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&C(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&C(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&C(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&C(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&C(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&C(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&C(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&C(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&C(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&C(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&C(e,["parameters","addWatermark"],y);const b=T(t,["imageSize"]);e!==void 0&&b!=null&&C(e,["parameters","sampleImageSize"],b);const x=T(t,["enhancePrompt"]);return e!==void 0&&x!=null&&C(e,["parameters","enhancePrompt"],x),n}function Zwe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=T(e,["config"]);return s!=null&&C(n,["config"],Qwe(s,n)),n}function Wo(t){const e={},n=T(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const r=T(t,["imageBytes"]);r!=null&&C(e,["bytesBase64Encoded"],eh(r));const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function eTe(t){const e={},n=T(t,["maskMode"]);n!=null&&C(e,["maskMode"],n);const r=T(t,["segmentationClasses"]);r!=null&&C(e,["maskClasses"],r);const i=T(t,["maskDilation"]);return i!=null&&C(e,["dilation"],i),e}function tTe(t){const e={},n=T(t,["controlType"]);n!=null&&C(e,["controlType"],n);const r=T(t,["enableControlImageComputation"]);return r!=null&&C(e,["computeControl"],r),e}function nTe(t){const e={},n=T(t,["styleDescription"]);return n!=null&&C(e,["styleDescription"],n),e}function rTe(t){const e={},n=T(t,["subjectType"]);n!=null&&C(e,["subjectType"],n);const r=T(t,["subjectDescription"]);return r!=null&&C(e,["subjectDescription"],r),e}function iTe(t){const e={},n=T(t,["referenceImage"]);n!=null&&C(e,["referenceImage"],Wo(n));const r=T(t,["referenceId"]);r!=null&&C(e,["referenceId"],r);const i=T(t,["referenceType"]);i!=null&&C(e,["referenceType"],i);const s=T(t,["maskImageConfig"]);s!=null&&C(e,["maskImageConfig"],eTe(s));const a=T(t,["controlImageConfig"]);a!=null&&C(e,["controlImageConfig"],tTe(a));const o=T(t,["styleImageConfig"]);o!=null&&C(e,["styleImageConfig"],nTe(o));const l=T(t,["subjectImageConfig"]);return l!=null&&C(e,["subjectImageConfig"],rTe(l)),e}function sTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=T(t,["negativePrompt"]);e!==void 0&&i!=null&&C(e,["parameters","negativePrompt"],i);const s=T(t,["numberOfImages"]);e!==void 0&&s!=null&&C(e,["parameters","sampleCount"],s);const a=T(t,["aspectRatio"]);e!==void 0&&a!=null&&C(e,["parameters","aspectRatio"],a);const o=T(t,["guidanceScale"]);e!==void 0&&o!=null&&C(e,["parameters","guidanceScale"],o);const l=T(t,["seed"]);e!==void 0&&l!=null&&C(e,["parameters","seed"],l);const c=T(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&C(e,["parameters","safetySetting"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&C(e,["parameters","personGeneration"],u);const f=T(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&C(e,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);e!==void 0&&h!=null&&C(e,["parameters","includeRaiReason"],h);const p=T(t,["language"]);e!==void 0&&p!=null&&C(e,["parameters","language"],p);const v=T(t,["outputMimeType"]);e!==void 0&&v!=null&&C(e,["parameters","outputOptions","mimeType"],v);const g=T(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&C(e,["parameters","outputOptions","compressionQuality"],g);const y=T(t,["addWatermark"]);e!==void 0&&y!=null&&C(e,["parameters","addWatermark"],y);const b=T(t,["editMode"]);e!==void 0&&b!=null&&C(e,["parameters","editMode"],b);const x=T(t,["baseSteps"]);return e!==void 0&&x!=null&&C(e,["parameters","editConfig","baseSteps"],x),n}function aTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=T(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>iTe(l))),C(n,["instances[0]","referenceImages"],o)}const a=T(e,["config"]);return a!=null&&C(n,["config"],sTe(a,n)),n}function oTe(t,e){const n={},r=T(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=T(t,["includeRaiReason"]);e!==void 0&&i!=null&&C(e,["parameters","includeRaiReason"],i);const s=T(t,["outputMimeType"]);e!==void 0&&s!=null&&C(e,["parameters","outputOptions","mimeType"],s);const a=T(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&C(e,["parameters","outputOptions","compressionQuality"],a);const o=T(t,["enhanceInputImage"]);e!==void 0&&o!=null&&C(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=T(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&C(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=T(t,["numberOfImages"]);e!==void 0&&c!=null&&C(e,["parameters","sampleCount"],c);const u=T(t,["mode"]);return e!==void 0&&u!=null&&C(e,["parameters","mode"],u),n}function lTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["image"]);i!=null&&C(n,["instances[0]","image"],Wo(i));const s=T(e,["upscaleFactor"]);s!=null&&C(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=T(e,["config"]);return a!=null&&C(n,["config"],oTe(a,n)),n}function cTe(t){const e={},n=T(t,["productImage"]);return n!=null&&C(e,["image"],Wo(n)),e}function uTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=T(t,["personImage"]);e!==void 0&&i!=null&&C(e,["instances[0]","personImage","image"],Wo(i));const s=T(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>cTe(o))),C(e,["instances[0]","productImages"],a)}return n}function dTe(t,e){const n={},r=T(t,["numberOfImages"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=T(t,["baseSteps"]);e!==void 0&&i!=null&&C(e,["parameters","editConfig","baseSteps"],i);const s=T(t,["outputGcsUri"]);e!==void 0&&s!=null&&C(e,["parameters","storageUri"],s);const a=T(t,["seed"]);e!==void 0&&a!=null&&C(e,["parameters","seed"],a);const o=T(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&C(e,["parameters","safetySetting"],o);const l=T(t,["personGeneration"]);e!==void 0&&l!=null&&C(e,["parameters","personGeneration"],l);const c=T(t,["addWatermark"]);e!==void 0&&c!=null&&C(e,["parameters","addWatermark"],c);const u=T(t,["outputMimeType"]);e!==void 0&&u!=null&&C(e,["parameters","outputOptions","mimeType"],u);const f=T(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&C(e,["parameters","outputOptions","compressionQuality"],f);const h=T(t,["enhancePrompt"]);return e!==void 0&&h!=null&&C(e,["parameters","enhancePrompt"],h),n}function fTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["source"]);i!=null&&C(n,["config"],uTe(i,n));const s=T(e,["config"]);return s!=null&&C(n,["config"],dTe(s,n)),n}function hTe(t){const e={},n=T(t,["image"]);return n!=null&&C(e,["image"],Wo(n)),e}function pTe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],Wo(i));const s=T(t,["scribbleImage"]);return e!==void 0&&s!=null&&C(e,["instances[0]","scribble"],hTe(s)),n}function mTe(t,e){const n={},r=T(t,["mode"]);e!==void 0&&r!=null&&C(e,["parameters","mode"],r);const i=T(t,["maxPredictions"]);e!==void 0&&i!=null&&C(e,["parameters","maxPredictions"],i);const s=T(t,["confidenceThreshold"]);e!==void 0&&s!=null&&C(e,["parameters","confidenceThreshold"],s);const a=T(t,["maskDilation"]);e!==void 0&&a!=null&&C(e,["parameters","maskDilation"],a);const o=T(t,["binaryColorThreshold"]);return e!==void 0&&o!=null&&C(e,["parameters","binaryColorThreshold"],o),n}function gTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["source"]);i!=null&&C(n,["config"],pTe(i,n));const s=T(e,["config"]);return s!=null&&C(n,["config"],mTe(s,n)),n}function yTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","name"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function vTe(t,e,n){const r={},i=T(e,["pageSize"]);n!==void 0&&i!=null&&C(n,["_query","pageSize"],i);const s=T(e,["pageToken"]);n!==void 0&&s!=null&&C(n,["_query","pageToken"],s);const a=T(e,["filter"]);n!==void 0&&a!=null&&C(n,["_query","filter"],a);const o=T(e,["queryBase"]);return n!==void 0&&o!=null&&C(n,["_url","models_url"],_G(t,o)),r}function xTe(t,e){const n={},r=T(e,["config"]);return r!=null&&C(n,["config"],vTe(t,r,n)),n}function _Te(t,e){const n={},r=T(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=T(t,["description"]);e!==void 0&&i!=null&&C(e,["description"],i);const s=T(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&C(e,["defaultCheckpointId"],s),n}function bTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],_Te(i,n)),n}function wTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","name"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],i),n}function TTe(t,e){const n={},r=T(t,["systemInstruction"]);e!==void 0&&r!=null&&C(e,["systemInstruction"],$m(ms(r)));const i=T(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>LG(o))),C(e,["tools"],a)}const s=T(t,["generationConfig"]);return e!==void 0&&s!=null&&C(e,["generationConfig"],s),n}function ETe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>$m(o))),C(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&C(n,["config"],TTe(s,n)),n}function CTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>$m(o))),C(n,["contents"],a)}const s=T(e,["config"]);return s!=null&&C(n,["config"],s),n}function jG(t){const e={},n=T(t,["uri"]);n!=null&&C(e,["gcsUri"],n);const r=T(t,["videoBytes"]);r!=null&&C(e,["bytesBase64Encoded"],eh(r));const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function STe(t,e){const n={},r=T(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=T(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],Wo(i));const s=T(t,["video"]);return e!==void 0&&s!=null&&C(e,["instances[0]","video"],jG(s)),n}function DTe(t){const e={},n=T(t,["image"]);n!=null&&C(e,["image"],Wo(n));const r=T(t,["referenceType"]);return r!=null&&C(e,["referenceType"],r),e}function ATe(t){const e={},n=T(t,["image"]);n!=null&&C(e,["_self"],Wo(n));const r=T(t,["maskMode"]);return r!=null&&C(e,["maskMode"],r),e}function NTe(t,e){const n={},r=T(t,["numberOfVideos"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=T(t,["outputGcsUri"]);e!==void 0&&i!=null&&C(e,["parameters","storageUri"],i);const s=T(t,["fps"]);e!==void 0&&s!=null&&C(e,["parameters","fps"],s);const a=T(t,["durationSeconds"]);e!==void 0&&a!=null&&C(e,["parameters","durationSeconds"],a);const o=T(t,["seed"]);e!==void 0&&o!=null&&C(e,["parameters","seed"],o);const l=T(t,["aspectRatio"]);e!==void 0&&l!=null&&C(e,["parameters","aspectRatio"],l);const c=T(t,["resolution"]);e!==void 0&&c!=null&&C(e,["parameters","resolution"],c);const u=T(t,["personGeneration"]);e!==void 0&&u!=null&&C(e,["parameters","personGeneration"],u);const f=T(t,["pubsubTopic"]);e!==void 0&&f!=null&&C(e,["parameters","pubsubTopic"],f);const h=T(t,["negativePrompt"]);e!==void 0&&h!=null&&C(e,["parameters","negativePrompt"],h);const p=T(t,["enhancePrompt"]);e!==void 0&&p!=null&&C(e,["parameters","enhancePrompt"],p);const v=T(t,["generateAudio"]);e!==void 0&&v!=null&&C(e,["parameters","generateAudio"],v);const g=T(t,["lastFrame"]);e!==void 0&&g!=null&&C(e,["instances[0]","lastFrame"],Wo(g));const y=T(t,["referenceImages"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(E=>DTe(E))),C(e,["instances[0]","referenceImages"],w)}const b=T(t,["mask"]);e!==void 0&&b!=null&&C(e,["instances[0]","mask"],ATe(b));const x=T(t,["compressionQuality"]);return e!==void 0&&x!=null&&C(e,["parameters","compressionQuality"],x),n}function kTe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["_url","model"],An(t,r));const i=T(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=T(e,["image"]);s!=null&&C(n,["instances[0]","image"],Wo(s));const a=T(e,["video"]);a!=null&&C(n,["instances[0]","video"],jG(a));const o=T(e,["source"]);o!=null&&C(n,["config"],STe(o,n));const l=T(e,["config"]);return l!=null&&C(n,["config"],NTe(l,n)),n}function ITe(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function RTe(t){const e={},n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function PTe(t){const e={},n=T(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function FTe(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function MTe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],ITe(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],RTe(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],PTe(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],FTe(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function UTe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>MTe(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function OTe(t){const e={},n=T(t,["citationSources"]);return n!=null&&C(e,["citations"],n),e}function LTe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&C(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&C(e,["urlRetrievalStatus"],r),e}function jTe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>LTe(i))),C(e,["urlMetadata"],r)}return e}function BTe(t){const e={},n=T(t,["content"]);n!=null&&C(e,["content"],UTe(n));const r=T(t,["citationMetadata"]);r!=null&&C(e,["citationMetadata"],OTe(r));const i=T(t,["tokenCount"]);i!=null&&C(e,["tokenCount"],i);const s=T(t,["finishReason"]);s!=null&&C(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&C(e,["urlContextMetadata"],jTe(a));const o=T(t,["avgLogprobs"]);o!=null&&C(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&C(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&C(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&C(e,["safetyRatings"],f),e}function T9(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>BTe(c))),C(e,["candidates"],l)}const i=T(t,["modelVersion"]);i!=null&&C(e,["modelVersion"],i);const s=T(t,["promptFeedback"]);s!=null&&C(e,["promptFeedback"],s);const a=T(t,["responseId"]);a!=null&&C(e,["responseId"],a);const o=T(t,["usageMetadata"]);return o!=null&&C(e,["usageMetadata"],o),e}function VTe(t){const e={},n=T(t,["values"]);return n!=null&&C(e,["values"],n),e}function WTe(){return{}}function qTe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>VTe(a))),C(e,["embeddings"],s)}return T(t,["metadata"])!=null&&C(e,["metadata"],WTe()),e}function zTe(t){const e={},n=T(t,["bytesBase64Encoded"]);n!=null&&C(e,["imageBytes"],eh(n));const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function BG(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&C(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&C(e,["contentType"],i),e}function HTe(t){const e={},n=T(t,["_self"]);n!=null&&C(e,["image"],zTe(n));const r=T(t,["raiFilteredReason"]);r!=null&&C(e,["raiFilteredReason"],r);const i=T(t,["_self"]);return i!=null&&C(e,["safetyAttributes"],BG(i)),e}function $Te(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>HTe(a))),C(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&C(e,["positivePromptSafetyAttributes"],BG(i)),e}function GTe(t){const e={},n=T(t,["baseModel"]);n!=null&&C(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&C(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&C(e,["updateTime"],i),e}function X4(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=T(t,["description"]);i!=null&&C(e,["description"],i);const s=T(t,["version"]);s!=null&&C(e,["version"],s);const a=T(t,["_self"]);a!=null&&C(e,["tunedModelInfo"],GTe(a));const o=T(t,["inputTokenLimit"]);o!=null&&C(e,["inputTokenLimit"],o);const l=T(t,["outputTokenLimit"]);l!=null&&C(e,["outputTokenLimit"],l);const c=T(t,["supportedGenerationMethods"]);return c!=null&&C(e,["supportedActions"],c),e}function KTe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=bG(i);Array.isArray(s)&&(s=s.map(a=>X4(a))),C(e,["models"],s)}return e}function XTe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function JTe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);r!=null&&C(e,["totalTokens"],r);const i=T(t,["cachedContentTokenCount"]);return i!=null&&C(e,["cachedContentTokenCount"],i),e}function YTe(t){const e={},n=T(t,["video","uri"]);n!=null&&C(e,["uri"],n);const r=T(t,["video","encodedVideo"]);r!=null&&C(e,["videoBytes"],eh(r));const i=T(t,["encoding"]);return i!=null&&C(e,["mimeType"],i),e}function QTe(t){const e={},n=T(t,["_self"]);return n!=null&&C(e,["video"],YTe(n)),e}function ZTe(t){const e={},n=T(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>QTe(a))),C(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function eEe(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=T(t,["done"]);i!=null&&C(e,["done"],i);const s=T(t,["error"]);s!=null&&C(e,["error"],s);const a=T(t,["response","generateVideoResponse"]);return a!=null&&C(e,["response"],ZTe(a)),e}function tEe(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function nEe(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["data"]);r!=null&&C(e,["data"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function rEe(t){const e={},n=T(t,["displayName"]);n!=null&&C(e,["displayName"],n);const r=T(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function iEe(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function sEe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],tEe(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],nEe(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],rEe(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],iEe(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function aEe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>sEe(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function oEe(t){const e={},n=T(t,["citations"]);return n!=null&&C(e,["citations"],n),e}function lEe(t){const e={},n=T(t,["retrievedUrl"]);n!=null&&C(e,["retrievedUrl"],n);const r=T(t,["urlRetrievalStatus"]);return r!=null&&C(e,["urlRetrievalStatus"],r),e}function cEe(t){const e={},n=T(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lEe(i))),C(e,["urlMetadata"],r)}return e}function uEe(t){const e={},n=T(t,["content"]);n!=null&&C(e,["content"],aEe(n));const r=T(t,["citationMetadata"]);r!=null&&C(e,["citationMetadata"],oEe(r));const i=T(t,["finishMessage"]);i!=null&&C(e,["finishMessage"],i);const s=T(t,["finishReason"]);s!=null&&C(e,["finishReason"],s);const a=T(t,["urlContextMetadata"]);a!=null&&C(e,["urlContextMetadata"],cEe(a));const o=T(t,["avgLogprobs"]);o!=null&&C(e,["avgLogprobs"],o);const l=T(t,["groundingMetadata"]);l!=null&&C(e,["groundingMetadata"],l);const c=T(t,["index"]);c!=null&&C(e,["index"],c);const u=T(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const f=T(t,["safetyRatings"]);return f!=null&&C(e,["safetyRatings"],f),e}function E9(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>uEe(u))),C(e,["candidates"],c)}const i=T(t,["createTime"]);i!=null&&C(e,["createTime"],i);const s=T(t,["modelVersion"]);s!=null&&C(e,["modelVersion"],s);const a=T(t,["promptFeedback"]);a!=null&&C(e,["promptFeedback"],a);const o=T(t,["responseId"]);o!=null&&C(e,["responseId"],o);const l=T(t,["usageMetadata"]);return l!=null&&C(e,["usageMetadata"],l),e}function dEe(t){const e={},n=T(t,["truncated"]);n!=null&&C(e,["truncated"],n);const r=T(t,["token_count"]);return r!=null&&C(e,["tokenCount"],r),e}function fEe(t){const e={},n=T(t,["values"]);n!=null&&C(e,["values"],n);const r=T(t,["statistics"]);return r!=null&&C(e,["statistics"],dEe(r)),e}function hEe(t){const e={},n=T(t,["billableCharacterCount"]);return n!=null&&C(e,["billableCharacterCount"],n),e}function pEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>fEe(a))),C(e,["embeddings"],s)}const i=T(t,["metadata"]);return i!=null&&C(e,["metadata"],hEe(i)),e}function VG(t){const e={},n=T(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&C(e,["imageBytes"],eh(r));const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function WG(t){const e={},n=T(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const r=T(t,["safetyAttributes","scores"]);r!=null&&C(e,["scores"],r);const i=T(t,["contentType"]);return i!=null&&C(e,["contentType"],i),e}function Tw(t){const e={},n=T(t,["_self"]);n!=null&&C(e,["image"],VG(n));const r=T(t,["raiFilteredReason"]);r!=null&&C(e,["raiFilteredReason"],r);const i=T(t,["_self"]);i!=null&&C(e,["safetyAttributes"],WG(i));const s=T(t,["prompt"]);return s!=null&&C(e,["enhancedPrompt"],s),e}function mEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Tw(a))),C(e,["generatedImages"],s)}const i=T(t,["positivePromptSafetyAttributes"]);return i!=null&&C(e,["positivePromptSafetyAttributes"],WG(i)),e}function gEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Tw(s))),C(e,["generatedImages"],i)}return e}function yEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Tw(s))),C(e,["generatedImages"],i)}return e}function vEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Tw(i))),C(e,["generatedImages"],r)}return e}function xEe(t){const e={},n=T(t,["label"]);n!=null&&C(e,["label"],n);const r=T(t,["score"]);return r!=null&&C(e,["score"],r),e}function _Ee(t){const e={},n=T(t,["_self"]);n!=null&&C(e,["mask"],VG(n));const r=T(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>xEe(s))),C(e,["labels"],i)}return e}function bEe(t){const e={},n=T(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_Ee(i))),C(e,["generatedMasks"],r)}return e}function wEe(t){const e={},n=T(t,["endpoint"]);n!=null&&C(e,["name"],n);const r=T(t,["deployedModelId"]);return r!=null&&C(e,["deployedModelId"],r),e}function TEe(t){const e={},n=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&C(e,["baseModel"],n);const r=T(t,["createTime"]);r!=null&&C(e,["createTime"],r);const i=T(t,["updateTime"]);return i!=null&&C(e,["updateTime"],i),e}function EEe(t){const e={},n=T(t,["checkpointId"]);n!=null&&C(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&C(e,["epoch"],r);const i=T(t,["step"]);return i!=null&&C(e,["step"],i),e}function J4(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=T(t,["description"]);i!=null&&C(e,["description"],i);const s=T(t,["versionId"]);s!=null&&C(e,["version"],s);const a=T(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>wEe(h))),C(e,["endpoints"],f)}const o=T(t,["labels"]);o!=null&&C(e,["labels"],o);const l=T(t,["_self"]);l!=null&&C(e,["tunedModelInfo"],TEe(l));const c=T(t,["defaultCheckpointId"]);c!=null&&C(e,["defaultCheckpointId"],c);const u=T(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>EEe(h))),C(e,["checkpoints"],f)}return e}function CEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["_self"]);if(i!=null){let s=bG(i);Array.isArray(s)&&(s=s.map(a=>J4(a))),C(e,["models"],s)}return e}function SEe(t){const e={},n=T(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function DEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["totalTokens"]);return r!=null&&C(e,["totalTokens"],r),e}function AEe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["tokensInfo"]);return r!=null&&C(e,["tokensInfo"],r),e}function NEe(t){const e={},n=T(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const r=T(t,["bytesBase64Encoded"]);r!=null&&C(e,["videoBytes"],eh(r));const i=T(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function kEe(t){const e={},n=T(t,["_self"]);return n!=null&&C(e,["video"],NEe(n)),e}function IEe(t){const e={},n=T(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>kEe(a))),C(e,["generatedVideos"],s)}const r=T(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=T(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function REe(t){const e={},n=T(t,["name"]);n!=null&&C(e,["name"],n);const r=T(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=T(t,["done"]);i!=null&&C(e,["done"],i);const s=T(t,["error"]);s!=null&&C(e,["error"],s);const a=T(t,["response"]);return a!=null&&C(e,["response"],IEe(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PEe="Content-Type",FEe="X-Server-Timeout",MEe="User-Agent",Y4="x-goog-api-client",UEe="1.19.0",OEe=`google-genai-sdk/${UEe}`,LEe="v1beta1",jEe="v1beta",C9=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class BEe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:LEe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:jEe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&VEe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await S9(i),new z4(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await S9(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Np(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield or(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(l,{stream:!0});try{const f=JSON.parse(c);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,v=h.code,g=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new bw({message:g,status:v})}}catch(f){if(f.name==="ApiError")throw f}a+=c;let u=a.match(C9);for(;u;){const f=u[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield or(new z4(h)),a=a.slice(u[0].length),u=a.match(C9)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=OEe+" "+this.clientOptions.userAgentExtra;return e[MEe]=n,e[Y4]=n,e[PEe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(FEe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,n);return s.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:Nt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function S9(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new bw({message:i,status:n}):new Error(i)}}function VEe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const c=a[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WEe="mcp_used/unknown";let qEe=!1;function qG(t){for(const e of t)if(zEe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return qEe}function zG(t){var e;const n=(e=t[Y4])!==null&&e!==void 0?e:"";t[Y4]=(n+` ${WEe}`).trimStart()}function zEe(t){return t!==null&&typeof t=="object"&&t instanceof p3}function HEe(t,e=100){return Np(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield or(t.listTools({cursor:r}));for(const a of s.tools)yield yield or(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class p3{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new p3(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const u of this.mcpClients)try{for(var o=!0,l=(n=void 0,V0(HEe(u))),c;c=await l.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const f=i;a.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=u}}catch(f){n={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),axe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $Ee(t,e,n){const r=new Qve;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const s=wbe(i);Object.assign(r,s),e(r)}class GEe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=JEe(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(w=>{c=w}),f=e.callbacks,h=function(){c({})},p=this.apiClient,v={onopen:h,onmessage:w=>{$Ee(p,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},g=this.webSocketFactory.create(l,XEe(a),v);g.connect(),await u;const y=An(this.apiClient,e.model),b=RG({model:y}),x=K4({setup:b});return g.send(JSON.stringify(x)),new KEe(g,this.apiClient)}}class KEe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=x_e(e),r=PG(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=__e(e),r=K4(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=K4({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(yp.PLAY)}pause(){this.sendPlaybackControl(yp.PAUSE)}stop(){this.sendPlaybackControl(yp.STOP)}resetContext(){this.sendPlaybackControl(yp.RESET_CONTEXT)}close(){this.conn.close()}}function XEe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function JEe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YEe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function QEe(t,e,n){const r=new Yve;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=Mbe(s);Object.assign(r,a)}else{const a=hbe(s);Object.assign(r,a)}e(r)}class ZEe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new GEe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&qG(e.config.tools)&&zG(f);const h=rCe(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const I=this.apiClient.getApiKey();let F="BidiGenerateContent",P="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${F}?${P}=${I}`}let p=()=>{};const v=new Promise(I=>{p=I}),g=e.callbacks,y=function(){var I;(I=g==null?void 0:g.onopen)===null||I===void 0||I.call(g),p({})},b=this.apiClient,x={onopen:y,onmessage:I=>{QEe(b,g.onmessage,I)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(I){}},w=this.webSocketFactory.create(u,nCe(h),x);w.connect(),await v;let E=An(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const I=this.apiClient.getProject(),F=this.apiClient.getLocation();E=`projects/${I}/locations/${F}/`+E}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[R_.AUDIO]}:e.config.responseModalities=[R_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],D=[];for(const I of R)if(this.isCallableTool(I)){const F=I;D.push(await F.tool())}else D.push(I);D.length>0&&(e.config.tools=D);const N={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=X_e(this.apiClient,N):S=m_e(this.apiClient,N),delete S.config,w.send(JSON.stringify(S)),new tCe(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const eCe={turnComplete:!0};class tCe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=eo(n.turns),e.isVertexAI()?r=r.map(i=>$m(i)):r=r.map(i=>ww(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(YEe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},eCe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Q_e(e)}:n={realtimeInput:v_e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function nCe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function rCe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D9=10;function A9(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(kp(a)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function kp(t){return"callTool"in t&&typeof t.callTool=="function"}function iCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>kp(i)))!==null&&r!==void 0?r:!1}function sCe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!kp(i)))!==null&&r!==void 0?r:!1}function N9(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aCe extends Zf{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!iCe(n)||A9(n.config))return await this.generateContentInternal(l);if(sCe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=eo(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:D9;let p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,g=[];for(const y of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(kp(y)){const x=await y.callTool(c.functionCalls);g.push(...x)}p++,u={role:"user",parts:g},l.contents=eo(l.contents),l.contents.push(v),l.contents.push(u),N9(l.config)&&(f.push(v),f.push(u))}return N9(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),A9(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new jv(Pf.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>kp(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&qG(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),zG(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(kp(a)){const o=a,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:D9;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){var h,p;return Np(this,arguments,function*(){for(var v,g,y,b;o<s;){a&&(o++,a=!1);const S=yield or(c.processParamsMaybeAddMcpUsage(f)),R=yield or(c.generateContentStreamInternal(S)),D=[],N=[];try{for(var x=!0,w=(g=void 0,V0(R)),E;E=yield or(w.next()),v=E.done,!v;x=!0){b=E.value,x=!1;const I=b;if(yield yield or(I),I.candidates&&(!((h=I.candidates[0])===null||h===void 0)&&h.content)){N.push(I.candidates[0].content);for(const F of(p=I.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(o<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(F.functionCall.name)){const P=yield or(u.get(F.functionCall.name).callTool([F.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(I){g={error:I}}finally{try{!x&&!v&&(y=w.return)&&(yield or(y.call(w)))}finally{if(g)throw g.error}}if(D.length>0){a=!0;const I=new $g;I.candidates=[{content:{role:"user",parts:D}}],yield yield or(I);const F=[];F.push(...N),F.push({role:"user",parts:D});const P=eo(f.contents).concat(F);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=w9(this.apiClient,e);return o=Nt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=E9(u),h=new $g;return Object.assign(h,f),h})}else{const c=b9(this.apiClient,e);return o=Nt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=T9(u),h=new $g;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=w9(this.apiClient,e);return o=Nt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Np(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,b=V0(f),x;x=yield or(b.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,E=E9(yield or(w.json()));E.sdkHttpResponse={headers:w.headers};const S=new $g;Object.assign(S,E),yield yield or(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield or(v.call(b)))}finally{if(p)throw p.error}}})})}else{const c=b9(this.apiClient,e);return o=Nt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(f){return Np(this,arguments,function*(){var h,p,v,g;try{for(var y=!0,b=V0(f),x;x=yield or(b.next()),h=x.done,!h;y=!0){g=x.value,y=!1;const w=g,E=T9(yield or(w.json()));E.sdkHttpResponse={headers:w.headers};const S=new $g;Object.assign(S,E),yield yield or(S)}}catch(w){p={error:w}}finally{try{!y&&!h&&(v=b.return)&&(yield or(v.call(b)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Ywe(this.apiClient,e);return o=Nt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=pEe(u),h=new t9;return Object.assign(h,f),h})}else{const c=lwe(this.apiClient,e);return o=Nt("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=qTe(u),h=new t9;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Zwe(this.apiClient,e);return o=Nt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=mEe(u),h=new n9;return Object.assign(h,f),h})}else{const c=uwe(this.apiClient,e);return o=Nt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=$Te(u),h=new n9;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=aTe(this.apiClient,e);return s=Nt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=gEe(l),u=new qve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=lTe(this.apiClient,e);return s=Nt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=yEe(l),u=new zve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=fTe(this.apiClient,e);return s=Nt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=vEe(l),u=new Hve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=gTe(this.apiClient,e);return s=Nt("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=bEe(l),u=new $ve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=yTe(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>J4(u))}else{const c=dwe(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>X4(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=xTe(this.apiClient,e);return o=Nt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=CEe(u),h=new r9;return Object.assign(h,f),h})}else{const c=hwe(this.apiClient,e);return o=Nt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=KTe(u),h=new r9;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=bTe(this.apiClient,e);return o=Nt("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>J4(u))}else{const c=mwe(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>X4(u))}}async delete(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=wTe(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=SEe(u),h=new i9;return Object.assign(h,f),h})}else{const c=gwe(this.apiClient,e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=XTe(u),h=new i9;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=ETe(this.apiClient,e);return o=Nt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=DEe(u),h=new s9;return Object.assign(h,f),h})}else{const c=vwe(this.apiClient,e);return o=Nt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=JTe(u),h=new s9;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=CTe(this.apiClient,e);return s=Nt("{model}:computeTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=AEe(l),u=new Gve;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=kTe(this.apiClient,e);return o=Nt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>{const f=REe(u),h=new P_;return Object.assign(h,f),h})}else{const c=bwe(this.apiClient,e);return o=Nt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a.then(u=>{const f=eEe(u),h=new P_;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oCe extends Zf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=Fve(e);return o=Nt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a}else{const c=Rve(e);return o=Nt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Pve(e);return s=Nt("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lCe(t){const e={},n=T(t,["voiceName"]);return n!=null&&C(e,["voiceName"],n),e}function HG(t){const e={},n=T(t,["prebuiltVoiceConfig"]);return n!=null&&C(e,["prebuiltVoiceConfig"],lCe(n)),e}function cCe(t){const e={},n=T(t,["speaker"]);n!=null&&C(e,["speaker"],n);const r=T(t,["voiceConfig"]);return r!=null&&C(e,["voiceConfig"],HG(r)),e}function uCe(t){const e={},n=T(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>cCe(i))),C(e,["speakerVoiceConfigs"],r)}return e}function dCe(t){const e={},n=T(t,["voiceConfig"]);n!=null&&C(e,["voiceConfig"],HG(n));const r=T(t,["multiSpeakerVoiceConfig"]);r!=null&&C(e,["multiSpeakerVoiceConfig"],uCe(r));const i=T(t,["languageCode"]);return i!=null&&C(e,["languageCode"],i),e}function fCe(t){const e={},n=T(t,["fps"]);n!=null&&C(e,["fps"],n);const r=T(t,["endOffset"]);r!=null&&C(e,["endOffset"],r);const i=T(t,["startOffset"]);return i!=null&&C(e,["startOffset"],i),e}function hCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["data"]);n!=null&&C(e,["data"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function pCe(t){const e={};if(T(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=T(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=T(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function mCe(t){const e={},n=T(t,["id"]);n!=null&&C(e,["id"],n);const r=T(t,["args"]);r!=null&&C(e,["args"],r);const i=T(t,["name"]);return i!=null&&C(e,["name"],i),e}function gCe(t){const e={},n=T(t,["videoMetadata"]);n!=null&&C(e,["videoMetadata"],fCe(n));const r=T(t,["thought"]);r!=null&&C(e,["thought"],r);const i=T(t,["inlineData"]);i!=null&&C(e,["inlineData"],hCe(i));const s=T(t,["fileData"]);s!=null&&C(e,["fileData"],pCe(s));const a=T(t,["thoughtSignature"]);a!=null&&C(e,["thoughtSignature"],a);const o=T(t,["functionCall"]);o!=null&&C(e,["functionCall"],mCe(o));const l=T(t,["codeExecutionResult"]);l!=null&&C(e,["codeExecutionResult"],l);const c=T(t,["executableCode"]);c!=null&&C(e,["executableCode"],c);const u=T(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const f=T(t,["text"]);return f!=null&&C(e,["text"],f),e}function yCe(t){const e={},n=T(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>gCe(s))),C(e,["parts"],i)}const r=T(t,["role"]);return r!=null&&C(e,["role"],r),e}function vCe(t){const e={},n=T(t,["behavior"]);n!=null&&C(e,["behavior"],n);const r=T(t,["description"]);r!=null&&C(e,["description"],r);const i=T(t,["name"]);i!=null&&C(e,["name"],i);const s=T(t,["parameters"]);s!=null&&C(e,["parameters"],s);const a=T(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const o=T(t,["response"]);o!=null&&C(e,["response"],o);const l=T(t,["responseJsonSchema"]);return l!=null&&C(e,["responseJsonSchema"],l),e}function xCe(t){const e={},n=T(t,["startTime"]);n!=null&&C(e,["startTime"],n);const r=T(t,["endTime"]);return r!=null&&C(e,["endTime"],r),e}function _Ce(t){const e={},n=T(t,["timeRangeFilter"]);if(n!=null&&C(e,["timeRangeFilter"],xCe(n)),T(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function bCe(t){const e={},n=T(t,["mode"]);n!=null&&C(e,["mode"],n);const r=T(t,["dynamicThreshold"]);return r!=null&&C(e,["dynamicThreshold"],r),e}function wCe(t){const e={},n=T(t,["dynamicRetrievalConfig"]);return n!=null&&C(e,["dynamicRetrievalConfig"],bCe(n)),e}function TCe(){return{}}function ECe(t){const e={},n=T(t,["environment"]);return n!=null&&C(e,["environment"],n),e}function CCe(t){const e={},n=T(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>vCe(c))),C(e,["functionDeclarations"],l)}if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=T(t,["googleSearch"]);r!=null&&C(e,["googleSearch"],_Ce(r));const i=T(t,["googleSearchRetrieval"]);if(i!=null&&C(e,["googleSearchRetrieval"],wCe(i)),T(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(T(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");T(t,["urlContext"])!=null&&C(e,["urlContext"],TCe());const a=T(t,["computerUse"]);a!=null&&C(e,["computerUse"],ECe(a));const o=T(t,["codeExecution"]);return o!=null&&C(e,["codeExecution"],o),e}function SCe(t){const e={},n=T(t,["handle"]);if(n!=null&&C(e,["handle"],n),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function k9(){return{}}function DCe(t){const e={},n=T(t,["disabled"]);n!=null&&C(e,["disabled"],n);const r=T(t,["startOfSpeechSensitivity"]);r!=null&&C(e,["startOfSpeechSensitivity"],r);const i=T(t,["endOfSpeechSensitivity"]);i!=null&&C(e,["endOfSpeechSensitivity"],i);const s=T(t,["prefixPaddingMs"]);s!=null&&C(e,["prefixPaddingMs"],s);const a=T(t,["silenceDurationMs"]);return a!=null&&C(e,["silenceDurationMs"],a),e}function ACe(t){const e={},n=T(t,["automaticActivityDetection"]);n!=null&&C(e,["automaticActivityDetection"],DCe(n));const r=T(t,["activityHandling"]);r!=null&&C(e,["activityHandling"],r);const i=T(t,["turnCoverage"]);return i!=null&&C(e,["turnCoverage"],i),e}function NCe(t){const e={},n=T(t,["targetTokens"]);return n!=null&&C(e,["targetTokens"],n),e}function kCe(t){const e={},n=T(t,["triggerTokens"]);n!=null&&C(e,["triggerTokens"],n);const r=T(t,["slidingWindow"]);return r!=null&&C(e,["slidingWindow"],NCe(r)),e}function ICe(t){const e={},n=T(t,["proactiveAudio"]);return n!=null&&C(e,["proactiveAudio"],n),e}function RCe(t,e){const n={},r=T(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],r);const i=T(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const s=T(t,["temperature"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","temperature"],s);const a=T(t,["topP"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topP"],a);const o=T(t,["topK"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topK"],o);const l=T(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const c=T(t,["mediaResolution"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","mediaResolution"],c);const u=T(t,["seed"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","seed"],u);const f=T(t,["speechConfig"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","speechConfig"],dCe(f3(f)));const h=T(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=T(t,["systemInstruction"]);e!==void 0&&p!=null&&C(e,["setup","systemInstruction"],yCe(ms(p)));const v=T(t,["tools"]);if(e!==void 0&&v!=null){let S=zm(v);Array.isArray(S)&&(S=S.map(R=>CCe(qm(R)))),C(e,["setup","tools"],S)}const g=T(t,["sessionResumption"]);e!==void 0&&g!=null&&C(e,["setup","sessionResumption"],SCe(g));const y=T(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&C(e,["setup","inputAudioTranscription"],k9());const b=T(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&C(e,["setup","outputAudioTranscription"],k9());const x=T(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&C(e,["setup","realtimeInputConfig"],ACe(x));const w=T(t,["contextWindowCompression"]);e!==void 0&&w!=null&&C(e,["setup","contextWindowCompression"],kCe(w));const E=T(t,["proactivity"]);return e!==void 0&&E!=null&&C(e,["setup","proactivity"],ICe(E)),n}function PCe(t,e){const n={},r=T(e,["model"]);r!=null&&C(n,["setup","model"],An(t,r));const i=T(e,["config"]);return i!=null&&C(n,["config"],RCe(i,n)),n}function FCe(t,e,n){const r={},i=T(e,["expireTime"]);n!==void 0&&i!=null&&C(n,["expireTime"],i);const s=T(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&C(n,["newSessionExpireTime"],s);const a=T(e,["uses"]);n!==void 0&&a!=null&&C(n,["uses"],a);const o=T(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&C(n,["bidiGenerateContentSetup"],PCe(t,o));const l=T(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&C(n,["fieldMask"],l),r}function MCe(t,e){const n={},r=T(e,["config"]);return r!=null&&C(n,["config"],FCe(t,r,n)),n}function UCe(t){const e={},n=T(t,["name"]);return n!=null&&C(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OCe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function LCe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=OCe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class jCe extends Zf{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=MCe(this.apiClient,e);s=Nt("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=LCe(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>UCe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BCe(t){const e={},n=T(t,["name"]);n!=null&&C(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function VCe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&C(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&C(e,["_query","filter"],s),n}function WCe(t){const e={},n=T(t,["config"]);return n!=null&&C(e,["config"],VCe(n,e)),e}function qCe(t){const e={},n=T(t,["name"]);n!=null&&C(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function zCe(t){const e={},n=T(t,["textInput"]);n!=null&&C(e,["textInput"],n);const r=T(t,["output"]);return r!=null&&C(e,["output"],r),e}function HCe(t){const e={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(T(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=T(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zCe(i))),C(e,["examples","examples"],r)}return e}function $Ce(t,e){const n={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=T(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&C(e,["displayName"],r),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=T(t,["epochCount"]);e!==void 0&&i!=null&&C(e,["tuningTask","hyperparameters","epochCount"],i);const s=T(t,["learningRateMultiplier"]);if(s!=null&&C(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),T(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(T(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=T(t,["batchSize"]);e!==void 0&&a!=null&&C(e,["tuningTask","hyperparameters","batchSize"],a);const o=T(t,["learningRate"]);if(e!==void 0&&o!=null&&C(e,["tuningTask","hyperparameters","learningRate"],o),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function GCe(t){const e={},n=T(t,["baseModel"]);n!=null&&C(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&C(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&C(e,["tuningTask","trainingData"],HCe(i));const s=T(t,["config"]);return s!=null&&C(e,["config"],$Ce(s,e)),e}function KCe(t){const e={},n=T(t,["name"]);n!=null&&C(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function XCe(t,e){const n={},r=T(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=T(t,["pageToken"]);e!==void 0&&i!=null&&C(e,["_query","pageToken"],i);const s=T(t,["filter"]);return e!==void 0&&s!=null&&C(e,["_query","filter"],s),n}function JCe(t){const e={},n=T(t,["config"]);return n!=null&&C(e,["config"],XCe(n,e)),e}function YCe(t){const e={},n=T(t,["name"]);n!=null&&C(e,["_url","name"],n);const r=T(t,["config"]);return r!=null&&C(e,["config"],r),e}function QCe(t,e){const n={},r=T(t,["gcsUri"]);e!==void 0&&r!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],i),T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function ZCe(t,e){const n={},r=T(t,["gcsUri"]);r!=null&&C(n,["validationDatasetUri"],r);const i=T(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function eSe(t,e){const n={},r=T(t,["validationDataset"]);e!==void 0&&r!=null&&C(e,["supervisedTuningSpec"],ZCe(r,n));const i=T(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&C(e,["tunedModelDisplayName"],i);const s=T(t,["description"]);e!==void 0&&s!=null&&C(e,["description"],s);const a=T(t,["epochCount"]);e!==void 0&&a!=null&&C(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const o=T(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&C(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const l=T(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&C(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=T(t,["preTunedModelCheckpointId"]);c!=null&&C(n,["preTunedModel","checkpointId"],c);const u=T(t,["adapterSize"]);if(e!==void 0&&u!=null&&C(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=T(t,["labels"]);return e!==void 0&&f!=null&&C(e,["labels"],f),n}function tSe(t){const e={},n=T(t,["baseModel"]);n!=null&&C(e,["baseModel"],n);const r=T(t,["preTunedModel"]);r!=null&&C(e,["preTunedModel"],r);const i=T(t,["trainingDataset"]);i!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],QCe(i,e));const s=T(t,["config"]);return s!=null&&C(e,["config"],eSe(s,e)),e}function nSe(t){const e={},n=T(t,["name"]);n!=null&&C(e,["model"],n);const r=T(t,["name"]);return r!=null&&C(e,["endpoint"],r),e}function $G(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&C(e,["name"],r);const i=T(t,["state"]);i!=null&&C(e,["state"],vG(i));const s=T(t,["createTime"]);s!=null&&C(e,["createTime"],s);const a=T(t,["tuningTask","startTime"]);a!=null&&C(e,["startTime"],a);const o=T(t,["tuningTask","completeTime"]);o!=null&&C(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&C(e,["updateTime"],l);const c=T(t,["description"]);c!=null&&C(e,["description"],c);const u=T(t,["baseModel"]);u!=null&&C(e,["baseModel"],u);const f=T(t,["_self"]);f!=null&&C(e,["tunedModel"],nSe(f));const h=T(t,["customBaseModel"]);h!=null&&C(e,["customBaseModel"],h);const p=T(t,["experiment"]);p!=null&&C(e,["experiment"],p);const v=T(t,["labels"]);v!=null&&C(e,["labels"],v);const g=T(t,["outputUri"]);g!=null&&C(e,["outputUri"],g);const y=T(t,["pipelineJob"]);y!=null&&C(e,["pipelineJob"],y);const b=T(t,["serviceAccount"]);b!=null&&C(e,["serviceAccount"],b);const x=T(t,["tunedModelDisplayName"]);return x!=null&&C(e,["tunedModelDisplayName"],x),e}function rSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>$G(a))),C(e,["tuningJobs"],s)}return e}function iSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&C(e,["name"],r);const i=T(t,["metadata"]);i!=null&&C(e,["metadata"],i);const s=T(t,["done"]);s!=null&&C(e,["done"],s);const a=T(t,["error"]);return a!=null&&C(e,["error"],a),e}function sSe(t){const e={},n=T(t,["checkpointId"]);n!=null&&C(e,["checkpointId"],n);const r=T(t,["epoch"]);r!=null&&C(e,["epoch"],r);const i=T(t,["step"]);i!=null&&C(e,["step"],i);const s=T(t,["endpoint"]);return s!=null&&C(e,["endpoint"],s),e}function aSe(t){const e={},n=T(t,["model"]);n!=null&&C(e,["model"],n);const r=T(t,["endpoint"]);r!=null&&C(e,["endpoint"],r);const i=T(t,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>sSe(a))),C(e,["checkpoints"],s)}return e}function Q4(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["name"]);r!=null&&C(e,["name"],r);const i=T(t,["state"]);i!=null&&C(e,["state"],vG(i));const s=T(t,["createTime"]);s!=null&&C(e,["createTime"],s);const a=T(t,["startTime"]);a!=null&&C(e,["startTime"],a);const o=T(t,["endTime"]);o!=null&&C(e,["endTime"],o);const l=T(t,["updateTime"]);l!=null&&C(e,["updateTime"],l);const c=T(t,["error"]);c!=null&&C(e,["error"],c);const u=T(t,["description"]);u!=null&&C(e,["description"],u);const f=T(t,["baseModel"]);f!=null&&C(e,["baseModel"],f);const h=T(t,["tunedModel"]);h!=null&&C(e,["tunedModel"],aSe(h));const p=T(t,["preTunedModel"]);p!=null&&C(e,["preTunedModel"],p);const v=T(t,["supervisedTuningSpec"]);v!=null&&C(e,["supervisedTuningSpec"],v);const g=T(t,["tuningDataStats"]);g!=null&&C(e,["tuningDataStats"],g);const y=T(t,["encryptionSpec"]);y!=null&&C(e,["encryptionSpec"],y);const b=T(t,["partnerModelTuningSpec"]);b!=null&&C(e,["partnerModelTuningSpec"],b);const x=T(t,["customBaseModel"]);x!=null&&C(e,["customBaseModel"],x);const w=T(t,["experiment"]);w!=null&&C(e,["experiment"],w);const E=T(t,["labels"]);E!=null&&C(e,["labels"],E);const S=T(t,["outputUri"]);S!=null&&C(e,["outputUri"],S);const R=T(t,["pipelineJob"]);R!=null&&C(e,["pipelineJob"],R);const D=T(t,["serviceAccount"]);D!=null&&C(e,["serviceAccount"],D);const N=T(t,["tunedModelDisplayName"]);return N!=null&&C(e,["tunedModelDisplayName"],N),e}function oSe(t){const e={},n=T(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=T(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=T(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Q4(a))),C(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lSe extends Zf{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new jv(Pf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:q4.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=KCe(e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>Q4(u))}else{const c=BCe(e);return o=Nt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>$G(u))}}async listInternal(e){var n,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const c=JCe(e);return o=Nt("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=oSe(u),h=new a9;return Object.assign(h,f),h})}else{const c=WCe(e);return o=Nt("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),a.then(u=>{const f=rSe(u),h=new a9;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=YCe(e);a=Nt("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=qCe(e);a=Nt("{name}:cancel",l._url),o=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=tSe(e);return s=Nt("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>Q4(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=GCe(e);return s=Nt("tunedModels",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>iSe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const uSe=1024*1024*8,dSe=3,fSe=1e3,hSe=2,YS="x-goog-upload-status";async function pSe(t,e,n){var r,i,s;let a=0,o=0,l=new z4(new Response),c="upload";for(a=t.size;o<a;){const f=Math.min(uSe,a-o),h=t.slice(o,o+f);o+f>=a&&(c+=", finalize");let p=0,v=fSe;for(;p<dSe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[YS]));)p++,await gSe(v),v=v*hSe;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[YS])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[YS])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function mSe(t){return{size:t.size,type:t.type}}function gSe(t){return new Promise(e=>setTimeout(e,t))}class ySe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vSe{create(e,n,r){return new xSe(e,n,r)}}class xSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I9="x-goog-api-key";class _Se{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(I9)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(I9,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bSe="gl-node/";class R9{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Ive(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new _Se(this.apiKey);this.apiClient=new BEe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:bSe+"web",uploader:new ySe,downloader:new cSe}),this.models=new aCe(this.apiClient),this.live=new ZEe(this.apiClient,i,new vSe),this.batches=new w1e(this.apiClient),this.chats=new k2e(this.models,this.apiClient),this.caches=new D2e(this.apiClient),this.files=new q2e(this.apiClient),this.operations=new oCe(this.apiClient),this.authTokens=new jCe(this.apiClient),this.tunings=new lSe(this.apiClient)}}if(dr.Quill){const t=dr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],dr.Quill.register("attributors/style/size",t,!0)}const wSe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),TSe=()=>{var le;const{blogPosts:t,addBlogPost:e,updateBlogPost:n,deleteBlogPost:r}=Jt(),[i,s]=q.useState([]),[a,o]=q.useState({isOpen:!1,mode:"create",post:null}),[l,c]=q.useState({title:"",content:{},publishedAt:"",tags:[]}),[u,f]=q.useState(!1),[h,p]=q.useState("ar"),[v,g]=q.useState(""),[y,b]=q.useState([]),[x,w]=q.useState(!1),[E,S]=q.useState(!1),[R,D]=q.useState(null),[N,I]=q.useState(""),[F,P]=q.useState(""),[k,U]=q.useState(!1),[O,X]=q.useState(!1),[J,Y]=q.useState([]),[ne,z]=q.useState(!1);q.useEffect(()=>{const he=[...t].sort((_e,ie)=>{const de=_e.publishedAt?_e.publishedAt.toDate():_e.createdAt.toDate();return(ie.publishedAt?ie.publishedAt.toDate():ie.createdAt.toDate()).getTime()-de.getTime()});s(he)},[t]),q.useEffect(()=>{if(a.mode==="create"&&p("ar"),a.isOpen){const he=new Set;t.forEach(_e=>{_e.content&&_e.content[h]&&_e.tags&&_e.tags.split(",").forEach(de=>{de.trim()&&he.add(de.trim())})}),b(Array.from(he).sort())}},[a.isOpen,a.mode,h,t]);const K=()=>{const he=new Date().toISOString().split("T")[0];c({title:"",content:{},publishedAt:he,tags:[]}),p("ar"),o({isOpen:!0,mode:"create",post:null})},B=he=>{const _e=he.publishedAt?he.publishedAt.toDate().toISOString().split("T")[0]:"";c({title:he.title,content:he.content||{},publishedAt:_e,tags:he.tags?he.tags.split(",").map(de=>de.trim()).filter(Boolean):[]});const ie=Object.keys(he.content||{});ie.includes("ar")?p("ar"):ie.length>0?p(ie[0]):p("ar"),o({isOpen:!0,mode:"edit",post:he})},j=()=>{o({isOpen:!1,mode:"create",post:null})},W=async he=>{var ie;const _e=await Ms("tagTitleLists",he);I(((ie=_e==null?void 0:_e.titles)==null?void 0:ie.join(`
`))||""),D(he),P(he),S(!0)},H=()=>{S(!1),D(null),I(""),P("")},Q=async()=>{if(R){const he=N.split(`
`).map(_e=>_e.trim()).filter(Boolean);await ur("tagTitleLists",{tag:R,titles:he}),H()}},Z=async()=>{if(F){U(!0);try{const ie=(await new R9({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a list of 10 to 15 SEO-friendly blog post titles in Arabic about the topic: "${F}". Return only the list of titles, with each title on a new line. Do not include numbers or bullet points.`})).text||"";I(de=>(de?de+`
`:"")+ie.trim())}catch(he){console.error("AI Title Generation Error:",he),alert("  .")}finally{U(!1)}}},se=async he=>{if(he&&!l.tags.includes(he)){const _e=l.title;if(c(ie=>({...ie,tags:[...ie.tags,he]})),!_e.trim()){const ie=await Ms("tagTitleLists",he);if(ie&&ie.titles&&ie.titles.length>0){const de=ie.titles,me=Math.floor(Math.random()*de.length),ve=de[me];c(De=>({...De,title:ve}))}}}g("")},ce=he=>{c(_e=>({..._e,tags:_e.tags.filter(ie=>ie!==he)}))},ue=he=>{if(he.key==="Enter"||he.key===","){he.preventDefault();const _e=v.trim();se(_e)}},Ee=he=>{se(he)},Ie=async()=>{const he=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([\w-]{11})(?:\S+)?/,_e=l.title.trim().match(he);if(_e){f(!0);try{const ve=_e[0],De=Ka.find(st=>st.code===h),Ue=De?De.name:"Arabic",Te=`Based on the content of this YouTube video: ${ve}, write a detailed and well-formatted blog post in ${Ue}. The blog post should be in HTML format, using tags like <h2>, <h3>, <p>, and <ul>. Also, generate a compelling and SEO-friendly title for the blog post based on the video's content. Return the result as a single JSON object with two keys: "title" (a string for the new blog post title) and "content" (an HTML string for the blog post body).`;c(st=>({...st,content:{...st.content,[h]:""}}));const Ge=(await sc({model:"gemini-2.5-flash",contents:Te,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),nt=JSON.parse(Ge);if(nt.title&&nt.content)c(st=>({...st,title:nt.title,content:{...st.content,[h]:nt.content}}));else throw new Error("AI response did not contain 'title' and 'content' keys.")}catch(ve){console.error("AI content generation from YouTube failed:",ve),alert("     .          .")}finally{f(!1)}return}const ie=l.content[h]||"",de=l.title.trim()!=="",me=ie.replace(/<[^>]*>?/gm,"").trim()!=="";if(!de&&!me){alert("          .");return}f(!0);try{if(me){const ve=Ka.find(nt=>nt.code===h),De=ve?ve.name:h,Ue=`Analyze the following draft text for a blog post.
                1. Generate a compelling and SEO-friendly title in ${De}.
                2. Expand the draft into a full, well-formatted blog post in ${De}, using HTML tags like <h2>, <h3>, <p>, and <ul>.
                3. Return the result as a single JSON object with two keys: "title" (a string) and "content" (an HTML string).
    
                Draft text: "${ie.replace(/<[^>]*>?/gm," ")}"`,Oe=(await sc({model:"gemini-2.5-flash",contents:Ue,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Ge=JSON.parse(Oe);c(nt=>({...nt,title:Ge.title,content:{...nt.content,[h]:Ge.content}}))}else{const De={ar:`      : "${l.title}".         HTML     (h2)   (h3)  (p)    (ul/li).    .`,en:`Write a detailed article in English about the topic: "${l.title}". The article should be well-formatted using HTML, with main headings (h2), subheadings (h3), paragraphs (p), and possibly bullet points (ul/li). Make the content rich and informative.`,fr:`Rdigez un article dtaill en franais sur le sujet : "${l.title}". L'article doit tre bien format en HTML, avec des titres principaux (h2), des sous-titres (h3), des paragraphes (p), et ventuellement des listes  puces (ul/li). Assurez-vous que le contenu est riche et informatif.`,de:`Schreiben Sie einen detaillierten Artikel auf Deutsch zum Thema: "${l.title}". Der Artikel sollte gut mit HTML formatiert sein, mit Hauptberschriften (h2), Unterberschriften (h3), Abstzen (p) und mglicherweise Aufzhlungspunkten (ul/li). Machen Sie den Inhalt reichhaltig und informativ.`,es:`Escribe un artculo detallado en espaol sobre el tema: "${l.title}". El artculo debe estar bien formateado usando HTML, con encabezados principales (h2), subttulos (h3), prrafos (p) y posiblemente listas con vietas (ul/li). Haz que el contenido sea rico e informativo.`,tr:`"${l.title}" konusunda Trke detayl bir makale yazn. Makale, ana balklar (h2), alt balklar (h3), paragraflar (p) ve muhtemelen madde iaretli listeler (ul/li) kullanlarak HTML ile iyi bir ekilde biimlendirilmelidir. erii zengin ve bilgilendirici yapn.`,ja:`${l.title}h2h3pul/liHTML`}[h]||`Write a detailed article about: "${l.title}". Format it with HTML (h2, p, ul).`;c(Me=>({...Me,content:{...Me.content,[h]:""}}));const Te=(await sc({model:"gemini-2.5-flash",contents:De})).text||"";c(Me=>({...Me,content:{...Me.content,[h]:Te}}))}}catch(ve){console.error("AI content generation failed:",ve),alert("  .       JSON  .        .")}finally{f(!1)}},fe=async()=>{var de;const he=(de=l.content[h])==null?void 0:de.replace(/<[^>]*>?/gm," ").trim(),_e=l.tags.join(", "),ie=he||_e;if(!ie){alert("       .");return}X(!0),z(!0),Y([]);try{const De=(await new R9({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate 5 to 10 SEO-friendly blog post titles based on the following topic/content: "${ie}". Return the result as a JSON array of strings. Example: ["Title 1", "Title 2"]`,config:{responseMimeType:"application/json"}})).text.replace(/^```json\s*|```\s*$/g,""),Ue=JSON.parse(De);Y(Ue)}catch(me){console.error("AI Title Suggestion Error:",me),alert("  ."),X(!1)}finally{z(!1)}},Le=he=>{c(_e=>({..._e,title:he})),X(!1)},V=async he=>{he.preventDefault();const _e=l.publishedAt?new Date(l.publishedAt):null,ie=wSe(l.title),{content:de,...me}=l,ve=Object.fromEntries(Object.entries(de).filter(([,Ue])=>Ue&&String(Ue).replace(/<[^>]*>?/gm,"").trim()!==""));if(Object.keys(ve).length===0){alert("          .");return}const De=l.tags.join(",");if(a.mode==="create"){const Ue={...me,tags:De,content:ve,publishedAt:_e?Ur.firestore.Timestamp.fromDate(_e):void 0,slug:ie,author:"Admin",createdAt:Ur.firestore.Timestamp.now(),enabled:!1},Te=await gp.create(Ue);e(Te)}else if(a.post){const Ue={...me,tags:De,content:ve,publishedAt:_e?Ur.firestore.Timestamp.fromDate(_e):void 0,slug:ie};await gp.update(a.post.id,Ue),n(a.post.id,{...a.post,...Ue})}j()},ye=async he=>{const _e=i.find(ie=>ie.id===he);_e&&(await gp.toggleStatus(he,_e.enabled),n(he,{enabled:!_e.enabled}))},be=async he=>{window.confirm("        ")&&(await gp.delete(he),r(he))},oe=he=>{const _e=Object.keys(he.content||{});return _e.includes("ar")?`/blog/${he.slug}`:_e.length>0?`/blog/${_e[0]}/${he.slug}`:`/blog/${he.slug}`},re={toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:K,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(he=>{const _e=he.publishedAt?he.publishedAt.toDate():he.createdAt.toDate();return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:he.title}),d.jsx("td",{className:"p-3 text-gray-600",children:_e.toLocaleDateString("ar-DZ")}),d.jsx("td",{className:"p-3",children:d.jsx("button",{onClick:()=>ye(he.id),className:`px-3 py-1 text-xs font-semibold rounded-full ${he.enabled?"text-green-800 bg-green-200":"text-gray-800 bg-gray-200"}`,children:he.enabled?"":""})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx(en,{to:oe(he),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>B(he),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>be(he.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},he.id)})})]})})}),a.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:V,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:a.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",id:"title",value:l.title,onChange:he=>c(_e=>({..._e,title:he.target.value})),required:!0,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("button",{type:"button",onClick:fe,className:"absolute top-1/2 right-2 -translate-y-1/2 p-2 text-purple-600 hover:bg-purple-100 rounded-full",title:"   ",children:d.jsx(ra,{})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"publishedAt",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"date",id:"publishedAt",value:l.publishedAt,onChange:he=>c(_e=>({..._e,publishedAt:he.target.value})),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" (Tags)"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border rounded-md bg-gray-50",children:[l.tags.map(he=>d.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm",children:[d.jsx("span",{children:he}),d.jsx("button",{type:"button",onClick:()=>W(he),className:"text-green-600 hover:text-green-800",title:`    "${he}"`,children:d.jsx(Nme,{size:12})}),d.jsx("button",{type:"button",onClick:()=>ce(he),className:"text-green-600 hover:text-green-800 font-bold",children:""})]},he)),d.jsxs("div",{className:"relative flex-grow",children:[d.jsx("input",{type:"text",value:v,onChange:he=>g(he.target.value),onKeyDown:ue,onFocus:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),150),placeholder:" ...",className:"bg-transparent focus:outline-none p-1 min-w-[120px]"}),x&&y.length>0&&d.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:y.filter(he=>!l.tags.includes(he)&&he.toLowerCase().includes(v.toLowerCase())).map(he=>d.jsx("div",{onMouseDown:()=>Ee(he),className:"px-3 py-2 cursor-pointer hover:bg-gray-100",children:he},he))})]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Enter   (,)  ."})]}),d.jsxs("div",{className:"space-y-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("select",{value:h,onChange:he=>p(he.target.value),className:"block w-full max-w-xs px-3 py-2 bg-white border border-gray-300 rounded-md",children:Ka.map(he=>d.jsx("option",{value:he.code,children:he.name},he.code))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" (",((le=Ka.find(he=>he.code===h))==null?void 0:le.name)||h,")"]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(dr,{theme:"snow",value:l.content[h]||"",onChange:he=>{c(_e=>({..._e,content:{..._e.content,[h]:he}}))},modules:re})}),d.jsx("button",{type:"button",onClick:Ie,disabled:u,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"     ",children:u?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{})})]})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:j,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})}),E&&R&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[d.jsxs("div",{className:"p-6 border-b",children:[d.jsxs("h2",{className:"text-xl font-bold",children:['  : "',R,'"']}),d.jsx("p",{className:"text-sm text-gray-500",children:"          ."})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 space-y-2",children:[d.jsx("label",{htmlFor:"title-gen-prompt",className:"font-semibold text-sm",children:"   "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",id:"title-gen-prompt",value:F,onChange:he=>P(he.target.value),placeholder:" ...",className:"flex-grow px-3 py-2 border rounded-md"}),d.jsxs("button",{type:"button",onClick:Z,disabled:k,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[k?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"titles-textarea",className:"font-semibold text-sm",children:"  (   )"}),d.jsx("textarea",{id:"titles-textarea",value:N,onChange:he=>I(he.target.value),rows:10,className:"w-full mt-1 p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[d.jsx("button",{type:"button",onClick:H,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:Q,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]})]})}),O&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:" "}),d.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"p-6 min-h-[200px] max-h-[60vh] overflow-y-auto",children:ne?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Dt,{className:"animate-spin text-2xl text-purple-600"})}):d.jsx("ul",{className:"space-y-2",children:J.map((he,_e)=>d.jsx("li",{children:d.jsx("button",{onClick:()=>Le(he),className:"w-full text-right p-3 bg-gray-50 rounded-md hover:bg-green-100 border border-transparent hover:border-green-300",children:he})},_e))})})]})})]})},ESe=({url:t,title:e,description:n})=>{const{t:r}=Ji(),[i,s]=q.useState(!1),a=q.useMemo(()=>{let h=t;const p=h.indexOf("?"),v=h.indexOf("#");let g=h,y="";if(p!==-1||v!==-1){const b=Math.min(p===-1?1/0:p,v===-1?1/0:v);g=h.substring(0,b),y=h.substring(b)}return g.endsWith(".html")&&(g=g.slice(0,-5)),g+y},[t]),o=encodeURIComponent(a),l=encodeURIComponent(e),c=[{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${o}&title=${l}`,icon:d.jsx(f$,{}),color:"text-blue-700 hover:text-blue-800"},{name:"Pinterest",url:`https://pinterest.com/pin/create/button/?url=${o}&description=${l}`,icon:d.jsx(h$,{}),color:"text-red-600 hover:text-red-700"},{name:"Reddit",url:`https://www.reddit.com/submit?url=${o}&title=${l}`,icon:d.jsx(p$,{}),color:"text-orange-500 hover:text-orange-600"},{name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${o}&quote=${l}`,icon:d.jsx(cw,{}),color:"text-blue-600 hover:text-blue-700"}],u=h=>{navigator.clipboard.writeText(h).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)})},f=h=>{h.stopPropagation();const p=(n||"").replace(/<[^>]*>/g,""),v=p.substring(0,155)+(p.length>155?"...":""),g=`${e}

${v}

${a}`,y=`
            <p style="font-weight: bold; font-family: sans-serif; font-size: 16px;">${e}</p>
            <div style="font-family: sans-serif; font-size: 14px;"><p>${v}</p></div>
            <a href="${a}">${a}</a>
        `;try{if(typeof ClipboardItem>"u"){u(g);return}const b=new Blob([y],{type:"text/html"}),x=new Blob([g],{type:"text/plain"});navigator.clipboard.write([new ClipboardItem({"text/html":b,"text/plain":x})]).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)},w=>{console.error("Async clipboard write failed, falling back to plain text: ",w),u(g)})}catch(b){console.error("Failed to use Clipboard API, falling back to writeText: ",b),u(g)}};return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xs text-gray-500 font-semibold",children:r("share.title")}),c.map(h=>d.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${h.name}`,className:`transition-transform hover:scale-125 ${h.color}`,onClick:p=>p.stopPropagation(),children:Ro.cloneElement(h.icon,{size:20})},h.name)),d.jsx("button",{onClick:f,"aria-label":"Copy details",className:"transition-transform hover:scale-125 text-gray-500 hover:text-gray-700",title:" ",children:i?d.jsx("span",{className:"text-xs",children:" !"}):d.jsx(v$,{size:18})})]})},CSe=({post:t,lang:e})=>{const n=e||"ar",r=t.publishedAt||t.createdAt;let i="Invalid Date";if(r){const c=r.toDate?r.toDate():new Date(r);isNaN(c.getTime())||(i=c.toLocaleDateString("ar-DZ"))}const s=t.content&&(t.content[n]||Object.values(t.content)[0])||"",a=s.replace(/<[^>]*>/g,"").substring(0,100)+(s.length>100?"...":""),o=n!=="ar"?`/blog/${n}/${t.slug}/`:`/blog/${t.slug}/`,l=`${window.location.origin}${o}`;return d.jsx("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-shadow hover:shadow-xl duration-300 flex flex-col group",children:d.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-2",children:i}),d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3 group-hover:text-green-600 transition-colors",children:d.jsx("a",{href:o,children:t.title})}),d.jsx("p",{className:"text-gray-600 mb-4 flex-grow",children:a}),d.jsx("a",{href:o,className:"font-semibold text-green-600 hover:underline mb-4",children:"  "}),d.jsx("div",{className:"mt-auto pt-3 border-t",children:d.jsx(ESe,{url:l,title:t.title,description:a})})]})})},SSe=()=>{const{blogPosts:t}=Jt(),{language:e}=Ji(),n=e,r=t.filter(a=>!a.enabled||!a.content?!1:!!a.content[n]).sort((a,o)=>(o.publishedAt||o.createdAt).toDate().getTime()-(a.publishedAt||a.createdAt).toDate().getTime()),i=n==="en"?"Gitut Blog":n==="fr"?"Blog de Gitut":" Gitut",s=n==="en"?"Follow our latest news, updates, and helpful tips for cafe owners and document service seekers.":n==="fr"?"Suivez nos dernires nouvelles, mises  jour et conseils utiles pour les propritaires de cafs et les demandeurs de services de documents.":"           .";return d.jsxs("div",{className:"max-w-5xl mx-auto",children:[d.jsxs("section",{className:"text-center py-10 bg-white rounded-lg shadow-lg mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:i}),d.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:s})]}),r.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(a=>d.jsx(CSe,{post:a,lang:n},a.id))}):d.jsxs("div",{className:"text-center py-20 bg-white rounded-lg shadow",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:"    "}),d.jsx("p",{className:"text-gray-500 mt-2",children:"      ."})]})]})},ss=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},S1=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",DSe=()=>{const{slug:t}=Bs(),e=ci(),{blogPosts:n,siteSettings:r,ads:i}=Jt(),{countryCode:s,language:a}=Ji(),o=q.useRef(null),l=a,c=n.find(g=>g.slug===t&&g.enabled);q.useEffect(()=>{var g,y;if(c&&r){const b=((g=r.seo)==null?void 0:g[s||"dz"])||((y=r.seo)==null?void 0:y.default)||{siteName:"Gitut",titleSeparator:"|"},x=`${c.title} ${b.titleSeparator} ${b.siteName}`,w=c.content&&(c.content[l]||Object.values(c.content)[0])||"",E=w.replace(/<[^>]*>/g,"").substring(0,160)+(w.length>160?"...":""),S="https://file.gitut.com/data/image/gitut-og-main.png",R=a==="ar"?"ar_AR":a==="fr"?"fr_FR":"en_US";document.title=x,ss("description",E,!1),ss("og:title",x),ss("og:description",E),ss("og:image",S),ss("og:image:secure_url",S),ss("og:image:width","1200"),ss("og:image:height","630"),ss("og:url",window.location.href),ss("og:type","article"),ss("og:site_name",b.siteName),ss("og:locale",R),ss("twitter:card","summary_large_image",!1),ss("twitter:url",window.location.href,!1),ss("twitter:title",x,!1),ss("twitter:description",E,!1),ss("twitter:image",S,!1)}},[c,r,s,l,a]);const u=(c==null?void 0:c.content)&&(c.content[l]||c.content.ar||Object.values(c.content)[0])||"",f=g=>`
            <a href="${g.link}" target="_blank" rel="noopener noreferrer" class="block rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 group my-6 no-underline">
              <div class="relative">
                <img src="${g.imageUrl}" alt="${g.title}" class="w-full h-auto object-cover" />
                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent p-4 flex flex-col justify-end">
                  <h3 class="text-lg font-bold text-white group-hover:underline">${g.title}</h3>
                  <p class="text-sm text-white/90">${g.content}</p>
                </div>
              </div>
            </a>
        `;q.useEffect(()=>{const g=o.current;if(!g)return;g.querySelectorAll(".injected-ad").forEach(x=>x.remove());const y=i.find(x=>x.placement==="BLOG_POST_BODY_TOP"&&x.enabled),b=i.find(x=>x.placement==="BLOG_POST_BODY_BOTTOM"&&x.enabled);if(y){const x=g.querySelector(".prose > p");if(x){const w=document.createElement("div");w.className="injected-ad",w.innerHTML=f(y),x.insertAdjacentElement("afterend",w)}}if(b){const x=g.querySelectorAll(".prose > p");if(x.length>1){const w=x[x.length-1],E=document.createElement("div");E.className="injected-ad",E.innerHTML=f(b),w.insertAdjacentElement("beforebegin",E)}}},[u,i]);const h=q.useMemo(()=>{if(!c||!c.tags||n.length<=1)return[];const g=c.tags.split(",").map(b=>S1(b.trim())).filter(Boolean);if(g.length===0)return[];const y=b=>{const x=b.publishedAt||b.createdAt;return x?x.toDate?x.toDate():new Date(x):new Date(0)};return n.filter(b=>b.id===c.id||!b.enabled||!(b.content&&(b.content[l]||Object.keys(b.content).length>0))||!b.tags?!1:b.tags.split(",").map(E=>S1(E.trim())).some(E=>g.includes(E))).sort((b,x)=>{const w=b.tags.split(",").map(D=>S1(D.trim())),E=x.tags.split(",").map(D=>S1(D.trim())),S=w.filter(D=>g.includes(D)).length,R=E.filter(D=>g.includes(D)).length;return S!==R?R-S:y(x).getTime()-y(b).getTime()}).slice(0,5)},[c,n,l]);if(q.useEffect(()=>{const g=o.current;if(!g||!s)return;const y=g.querySelectorAll("a"),b=[];return y.forEach(x=>{const w=x.getAttribute("href");if(w&&(w.startsWith("http://")||w.startsWith("https://")))try{if(new URL(w).origin!==window.location.origin){const S=R=>{R.preventDefault(),e(`/${s}/go-to-site/external`,{state:{targetUrl:w}})};x.addEventListener("click",S),b.push({link:x,handler:S})}}catch(E){console.warn(`Invalid URL found in blog post: ${w}`,E)}}),()=>{b.forEach(({link:x,handler:w})=>{x.removeEventListener("click",w)})}},[u,s,e]),!c)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"404 -   "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx("a",{href:`/${s}/blog/`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"  "})]});const p=c.publishedAt||c.createdAt;let v="Invalid Date";if(p){const g=p.toDate?p.toDate():new Date(p);isNaN(g.getTime())||(v=g.toLocaleDateString("ar-DZ"))}return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("article",{ref:o,className:"md:col-span-3 bg-white rounded-lg shadow-xl p-6 md:p-10",children:[d.jsxs("header",{className:"mb-8 border-b pb-6",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight",children:c.title}),d.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[d.jsxs("span",{children:[" : ",v]}),d.jsx("span",{className:"mx-2",children:"|"}),d.jsxs("span",{children:[": ",c.author]})]})]}),d.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:u}}),h.length>0&&d.jsxs("section",{className:"mt-12 border-t pt-8",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"   "}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:h.map(g=>{const y=g.publishedAt||g.createdAt;let b="";if(y){const E=y.toDate?y.toDate():new Date(y);isNaN(E.getTime())||(b=E.toLocaleDateString("ar-DZ",{year:"numeric",month:"long",day:"numeric"}))}const x=g.content&&(g.content[l]||Object.values(g.content)[0])||"",w=x.replace(/<[^>]*>/g,"").substring(0,80)+(x.length>80?"...":"");return d.jsxs("a",{href:`/${s}/blog/${g.slug}/`,className:"block p-4 bg-gray-50 rounded-lg border hover:border-green-400 hover:bg-green-50 transition-all group",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-1",children:b}),d.jsx("p",{className:"font-bold text-lg text-gray-900 group-hover:text-green-600",children:g.title}),d.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:w})]},g.id)})})]}),d.jsx("footer",{className:"mt-10 border-t pt-6",children:d.jsx("a",{href:`/${s}/blog/`,className:"text-green-600 hover:underline",children:"    "})})]}),d.jsx("aside",{className:"md:col-span-1 space-y-6",children:h.length>0&&d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border sticky top-24",children:[d.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:"  "}),d.jsx("div",{className:"space-y-3",children:h.map(g=>{const y=g.publishedAt||g.createdAt;let b="";if(y){const x=y.toDate?y.toDate():new Date(y);isNaN(x.getTime())||(b=x.toLocaleDateString("ar-DZ",{year:"numeric",month:"short",day:"numeric"}))}return d.jsxs("a",{href:`/${s}/blog/${g.slug}/`,className:"block p-3 bg-gray-50 rounded-md border hover:border-green-400 hover:bg-green-50 transition-all",children:[d.jsx("p",{className:"font-semibold text-gray-900 line-clamp-2",children:g.title}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b})]},g.id)})}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsx(bl,{placement:"BLOG_POST_SIDEBAR"})})]})})]}),d.jsx(QI,{url:window.location.href,title:c.title,description:u})]})};var x2={exports:{}},ASe=x2.exports,P9;function NSe(){return P9||(P9=1,(function(t,e){(function(n,r){r()})(ASe,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,f){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ps=="object"&&ps.global===ps?ps:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,u,f){var h=a.URL||a.webkitURL,p=document.createElement("a");u=u||c.name||"download",p.download=u,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?s(p):i(p.href)?r(c,u,f):s(p,p.target="_blank")):(p.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,f),u);else if(i(c))r(c,u,f);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){s(h)})}}:function(c,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,f);var p=c.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&v||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var w=y.result;w=g?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},y.readAsDataURL(c)}else{var b=a.URL||a.webkitURL,x=b.createObjectURL(c);h?h.location=x:location.href=x,h=null,setTimeout(function(){b.revokeObjectURL(x)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(x2)),x2.exports}var QS=NSe();const D1=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),kSe=()=>{const{refetchAdminData:t,codes:e,blogPosts:n,documents:r,sites:i,pages:s}=Jt(),[a,o]=q.useState(!1),[l,c]=q.useState(""),[u,f]=q.useState(e),[h,p]=q.useState(!1),[v,g]=q.useState(null),[y,b]=q.useState({key:"",description:"",questionText:""}),[x,w]=q.useState(!1),[E,S]=q.useState({servicePublish:!1,serviceZip:!1,blogPublish:!1,blogZip:!1,staticPublish:!1,staticZip:!1}),R={servicePublish:q.useRef(null),serviceZip:q.useRef(null),blogPublish:q.useRef(null),blogZip:q.useRef(null),staticPublish:q.useRef(null),staticZip:q.useRef(null)},D=K=>{S(B=>({...Object.fromEntries(Object.keys(B).map(j=>[j,!1])),[K]:!B[K]}))};q.useEffect(()=>{const K=B=>{let j=!0;for(const W in R){const H=R[W];if(H.current&&H.current.contains(B.target)){j=!1;break}}j&&S({servicePublish:!1,serviceZip:!1,blogPublish:!1,blogZip:!1,staticPublish:!1,staticZip:!1})};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[R]),q.useEffect(()=>{f(e)},[e]);const N=async(K,B)=>{o(!0),c(` ${K}...`);try{await B(),c(` ${K} !`)}catch(j){c(`: ${j.message}`),console.error(j)}finally{o(!1),setTimeout(()=>c(""),5e3)}},I=async()=>alert("This feature (Sitemap Generation) is not implemented yet."),F=async()=>alert("This feature (Homepage Generation) is not implemented yet."),P=async K=>alert(`This feature (Static Page Generation for ${K||"all"}) is not implemented yet.`),k=async K=>{const B=new uC,j=K?[K]:Ka.map(H=>H.code);for(const H of j){const Q=n.filter(ce=>ce.enabled&&ce.content&&ce.content[H]);if(Q.length===0)continue;const Z=j.length>1?B.folder(H):B;if(!Z)continue;let se=`<!DOCTYPE html><html lang="${H}" dir="rtl"><head><title>Blog Posts (${H})</title></head><body><h1>Blog Posts (${H})</h1><ul>`;for(const ce of Q){const ue=ce.slug||D1(ce.title);se+=`<li><a href="./${ue}.html">${ce.title}</a></li>`;const Ee=`
                    <!DOCTYPE html><html lang="${H}" dir="rtl"><head><meta charset="UTF-8"><title>${ce.title}</title></head>
                    <body><h1>${ce.title}</h1><div>${ce.content[H]}</div></body></html>
                `;Z.file(`${ue}.html`,Ee)}se+="</ul></body></html>",Z.file("index.html",se)}const W=await B.generateAsync({type:"blob"});QS.saveAs(W,`blog-pages-${K||"all"}.zip`)},U=async K=>{const B=new uC,j=K?[K]:Au.ar.map(H=>H.code);for(const H of j){const Q=j.length>1?B.folder(H):B;if(!Q)continue;const Z=r.filter(ue=>!ue.countryCode||ue.countryCode===H),se=i.filter(ue=>!ue.countryCode||ue.countryCode===H);if(Z.length===0&&se.length===0)continue;let ce=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><title>Services for ${H.toUpperCase()}</title></head><body><h1>Services for ${H.toUpperCase()}</h1>`;if(Z.length>0){const ue=Q.folder("doc");let Ee="<ul>";for(const Ie of Z){const fe=Ie.slug||D1(Ie.name);Ee+=`<li><a href="${fe}.html">${Ie.name}</a></li>`;const Le=`
                        <!DOCTYPE html><html><head><meta charset="UTF-8"><title>${Ie.name}</title></head><body>
                        <h1>${Ie.name}</h1><div>${Ie.description}</div></body></html>
                    `;ue==null||ue.file(`${fe}.html`,Le)}Ee+="</ul>",ue==null||ue.file("index.html",Ee),ce+=`<h2><a href="doc/index.html">Documents (${Z.length})</a></h2>`}if(se.length>0){const ue=Q.folder("site");let Ee="<ul>";for(const Ie of se){const fe=Ie.slug||D1(Ie.name);Ee+=`<li><a href="${fe}.html">${Ie.name}</a></li>`;const Le=`
                        <!DOCTYPE html><html><head><meta charset="UTF-8"><title>${Ie.name}</title></head><body>
                        <h1>${Ie.name}</h1><p>URL: <a href="${Ie.url}" target="_blank">${Ie.url}</a></p>
                        <div>${Ie.description}</div></body></html>
                     `;ue==null||ue.file(`${fe}.html`,Le)}Ee+="</ul>",ue==null||ue.file("index.html",Ee),ce+=`<h2><a href="site/index.html">Sites (${se.length})</a></h2>`}Q.file("index.html",ce+"</body></html>")}const W=await B.generateAsync({type:"blob"});QS.saveAs(W,`service-pages-${K||"all"}.zip`)},O=async K=>{const B=new uC,j=K?[K]:Ka.map(H=>H.code);for(const H of j){const Q=s.filter(ce=>ce.enabled&&(ce.lang===H||!ce.lang&&H==="ar"));if(Q.length===0)continue;const Z=j.length>1?B.folder(H):B;if(!Z)continue;let se=`<!DOCTYPE html><html lang="${H}" dir="rtl"><head><title>Static Pages (${H})</title></head><body><h1>Static Pages (${H})</h1><ul>`;for(const ce of Q){const ue=ce.slug||D1(ce.title);se+=`<li><a href="${ue}.html">${ce.title}</a></li>`;const Ee=`
                    <!DOCTYPE html><html lang="${H}" dir="rtl"><head><meta charset="UTF-8"><title>${ce.title}</title></head>
                    <body><h1>${ce.title}</h1><div>${ce.content}</div></body></html>
                `;Z.file(`${ue}.html`,Ee)}se+="</ul></body></html>",Z.file("index.html",se)}const W=await B.generateAsync({type:"blob"});QS.saveAs(W,`static-pages-${K||"all"}.zip`)},X=()=>{g(null),b({key:"",description:"",questionText:""}),p(!0)},J=K=>{g(K),b({key:K.key,description:K.description,questionText:K.questionText||""}),p(!0)},Y=()=>{p(!1),g(null)},ne=async K=>{K.preventDefault(),w(!0);try{const B={key:y.key,description:y.description,questionText:y.questionText||void 0};v?await O0.update(v.id,{...v,...B}):await O0.create(B),await t(),Y()}catch(B){console.error(B),alert("Failed to save code.")}finally{w(!1)}},z=async K=>{window.confirm("              .")&&(await O0.delete(K),await t())};return d.jsxs("div",{className:"space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),d.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-md",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(Mv,{className:"h-5 w-5 text-yellow-400"})}),d.jsx("div",{className:"ml-3 rtl:mr-3",children:d.jsxs("p",{className:"text-sm text-yellow-700",children:[d.jsx("strong",{children:" :"}),"                        ."]})})]})}),a&&d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-100 text-blue-800 rounded-md",children:[d.jsx(Dt,{className:"animate-spin"}),d.jsx("span",{className:"font-semibold",children:l||" ..."})]}),l&&!a&&d.jsx("div",{className:`p-4 rounded-md ${l.startsWith("")||l.startsWith("Error")?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:l}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border flex flex-col",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:"  (Sitemap)"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-grow",children:"   sitemap.xml       ."}),d.jsxs("button",{onClick:()=>N("   ",I),disabled:a,className:"w-full mt-auto flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[d.jsx(Gd,{})," ",d.jsx("span",{children:"   "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border flex flex-col",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:" "}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-grow",children:"      (index.html)  ."}),d.jsxs("button",{onClick:()=>N("   ",F),disabled:a,className:"w-full mt-auto flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[d.jsx(Gd,{})," ",d.jsx("span",{children:"   "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border flex flex-col",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:" "}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-grow",children:"   HTML     ."}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[d.jsxs("div",{ref:R.serviceZip,className:"relative inline-flex rounded-md shadow-sm",children:[d.jsxs("button",{onClick:()=>N(" ZIP  ()",()=>U()),disabled:a,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(Nu,{})," ",d.jsx("span",{children:"  ZIP"})]}),d.jsx("button",{type:"button",onClick:()=>D("serviceZip"),disabled:a,className:"px-2 bg-blue-600 text-white rounded-l-lg hover:bg-blue-700 border-r border-blue-500",children:d.jsx(Vd,{className:"h-4 w-4"})}),E.serviceZip&&d.jsx("div",{className:"origin-top-left absolute left-0 mt-12 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsx("div",{className:"py-1",children:Au.ar.map(K=>d.jsxs("button",{onClick:()=>N(` ZIP  ${K.name}`,()=>U(K.code)),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:["  ",K.name]},K.code))})})]}),d.jsxs("div",{ref:R.servicePublish,className:"relative inline-flex rounded-md shadow-sm",children:[d.jsxs("button",{onClick:()=>N("   ",()=>P()),disabled:a,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400",children:[d.jsx(Gd,{})," ",d.jsx("span",{children:" "})]}),d.jsx("button",{type:"button",onClick:()=>D("servicePublish"),disabled:a,className:"px-2 bg-green-600 text-white rounded-l-lg hover:bg-green-700 border-r border-green-500",children:d.jsx(Vd,{className:"h-4 w-4"})}),E.servicePublish&&d.jsx("div",{className:"origin-top-left absolute left-0 mt-12 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsxs("div",{className:"py-1",children:[d.jsx("button",{onClick:()=>N("  ",()=>P("Global")),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"   "}),Au.ar.map(K=>d.jsxs("button",{onClick:()=>N(`  ${K.name}`,()=>P(K.name)),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:["  ",K.name," "]},K.code))]})})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border flex flex-col",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:" "}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-grow",children:"   HTML     ."}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[d.jsxs("div",{ref:R.blogZip,className:"relative inline-flex rounded-md shadow-sm",children:[d.jsxs("button",{onClick:()=>N(" ZIP  ()",()=>k()),disabled:a,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(Nu,{})," ",d.jsx("span",{children:"  ZIP"})]}),d.jsx("button",{type:"button",onClick:()=>D("blogZip"),disabled:a,className:"px-2 bg-blue-600 text-white rounded-l-lg hover:bg-blue-700 border-r border-blue-500",children:d.jsx(Vd,{className:"h-4 w-4"})}),E.blogZip&&d.jsx("div",{className:"origin-top-left absolute left-0 mt-12 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsxs("div",{className:"py-1",children:[d.jsx("button",{onClick:()=>N(" ZIP  ()",()=>k()),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"  "}),Ka.map(K=>d.jsxs("button",{onClick:()=>N(` ZIP  (${K.name})`,()=>k(K.code)),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:["  ",K.name," "]},K.code))]})})]}),d.jsxs("div",{ref:R.blogPublish,className:"relative inline-flex rounded-md shadow-sm",children:[d.jsxs("button",{onClick:()=>N("  ",()=>P()),disabled:a,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400",children:[d.jsx(Gd,{})," ",d.jsx("span",{children:" "})]}),d.jsx("button",{type:"button",onClick:()=>D("blogPublish"),disabled:a,className:"px-2 bg-green-600 text-white rounded-l-lg hover:bg-green-700 border-r border-green-500",children:d.jsx(Vd,{className:"h-4 w-4"})}),E.blogPublish&&d.jsx("div",{className:"origin-top-left absolute left-0 mt-12 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsxs("div",{className:"py-1",children:[d.jsx("button",{onClick:()=>N("  ( )",()=>P("all languages")),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"  "}),Ka.map(K=>d.jsxs("button",{onClick:()=>N(`  (${K.name})`,()=>P(K.name)),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:["  ",K.name," "]},K.code))]})})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border flex flex-col",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-grow",children:'    " " " ".'}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[d.jsxs("div",{ref:R.staticZip,className:"relative inline-flex rounded-md shadow-sm",children:[d.jsxs("button",{onClick:()=>N(" ZIP  ",()=>O()),disabled:a,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-blue-700 disabled:bg-gray-400",children:[d.jsx(Nu,{})," ",d.jsx("span",{children:"  ZIP"})]}),d.jsx("button",{type:"button",onClick:()=>D("staticZip"),disabled:a,className:"px-2 bg-blue-600 text-white rounded-l-lg hover:bg-blue-700 border-r border-blue-500",children:d.jsx(Vd,{className:"h-4 w-4"})}),E.staticZip&&d.jsx("div",{className:"origin-top-left absolute left-0 mt-12 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsxs("div",{className:"py-1",children:[d.jsx("button",{onClick:()=>N(" ZIP   ()",()=>O()),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"  "}),Ka.map(K=>d.jsxs("button",{onClick:()=>N(` ZIP   (${K.name})`,()=>O(K.code)),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:["  ",K.name," "]},K.code))]})})]}),d.jsxs("div",{ref:R.staticPublish,className:"relative inline-flex rounded-md shadow-sm",children:[d.jsxs("button",{onClick:()=>N("   ",()=>P()),disabled:a,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-r-lg hover:bg-green-700 disabled:bg-gray-400",children:[d.jsx(Gd,{})," ",d.jsx("span",{children:" "})]}),d.jsx("button",{type:"button",onClick:()=>D("staticPublish"),disabled:a,className:"px-2 bg-green-600 text-white rounded-l-lg hover:bg-green-700 border-r border-green-500",children:d.jsx(Vd,{className:"h-4 w-4"})}),E.staticPublish&&d.jsx("div",{className:"origin-top-left absolute left-0 mt-12 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:d.jsxs("div",{className:"py-1",children:[d.jsx("button",{onClick:()=>N("   ( )",()=>P("all languages")),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"  "}),Ka.map(K=>d.jsxs("button",{onClick:()=>N(`   (${K.name})`,()=>P(K.name)),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:["  ",K.name," "]},K.code))]})})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border flex flex-col",children:[d.jsx("h2",{className:"text-xl font-bold mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-grow",children:"     JSON   ."}),d.jsxs("button",{onClick:()=>N(" ",()=>fme("templates-paginated","global")),disabled:a,className:"w-full mt-auto flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[d.jsx(Tme,{})," ",d.jsx("span",{children:"  "})]})]})]}),d.jsxs("div",{className:"mt-12",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"  (Codes / Placeholders)"}),d.jsxs("button",{onClick:X,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[d.jsx(ic,{})," ",d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:u.map(K=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-mono font-semibold",children:K.key}),d.jsx("td",{className:"p-3 text-gray-600",children:K.description}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsxs("button",{onClick:()=>J(K),className:"text-blue-600 hover:underline text-sm font-semibold",children:[d.jsx(fw,{})," "]}),d.jsxs("button",{onClick:()=>z(K.id),className:"text-red-600 hover:underline text-sm font-semibold",children:[d.jsx(Vm,{})," "]})]})]},K.id))})]})})})]}),h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:d.jsxs("form",{onSubmit:ne,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:v?" ":"  "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"code-key",className:"block text-sm font-medium text-gray-700 mb-1",children:" (Key)"}),d.jsx("input",{type:"text",id:"code-key",value:y.key,onChange:K=>b({...y,key:K.target.value}),required:!0,className:"w-full p-2 border rounded-md font-mono",dir:"ltr"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       : `fullName`."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"code-desc",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx("input",{type:"text",id:"code-desc",value:y.description,onChange:K=>b({...y,description:K.target.value}),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"code-question",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),d.jsx("input",{type:"text",id:"code-question",value:y.questionText,onChange:K=>b({...y,questionText:K.target.value}),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Y,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsxs("button",{type:"submit",disabled:x,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-2",children:[x?d.jsx(Dt,{className:"animate-spin"}):d.jsx(Uv,{}),d.jsx("span",{children:x?" ...":""})]})]})]})})})]})};if(dr.Quill){const t=dr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],dr.Quill.register("attributors/style/size",t,!0)}const Gg={siteId:"",siteName:"",siteUrl:"",fields:[]},F9=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),ISe=()=>{var Y;const{sites:t}=Jt(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",site:null}),[s,a]=q.useState({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:Gg}),[o,l]=q.useState(!1),[c,u]=q.useState(`[
  
]`),[f,h]=q.useState(""),[p,v]=q.useState(!1),[g,y]=q.useState("builder"),[b,x]=q.useState(""),[w,E]=q.useState("");q.useEffect(()=>{n(t)},[t]),q.useEffect(()=>{if(r.isOpen&&s.type==="template"&&g==="builder")try{x(JSON.stringify(s.jsonTemplate||Gg,null,2)),E("")}catch{x("{}"),E("Error generating JSON string from form data.")}},[s.jsonTemplate,g,r.isOpen,s.type]);const S=()=>{y("builder"),a({name:"",url:"",type:"template",countryCode:"",description:"",tags:"",slug:"",jsonTemplate:Gg}),i({isOpen:!0,mode:"create",site:null})},R=ne=>{y("builder");const z=ne.jsonTemplate||{...Gg,siteName:ne.name,siteUrl:ne.url,siteId:ne.id};a({...ne,countryCode:ne.countryCode||"",description:ne.description||"",tags:ne.tags||"",slug:ne.slug||"",jsonTemplate:z}),x(JSON.stringify(z,null,2)),i({isOpen:!0,mode:"edit",site:ne})},D=()=>{i({isOpen:!1,mode:"create",site:null})},N=(ne,z,K)=>{a(B=>{var W;const j=[...((W=B.jsonTemplate)==null?void 0:W.fields)||[]];return j[ne]={...j[ne],[z]:K},{...B,jsonTemplate:{...B.jsonTemplate,fields:j}}})},I=()=>{a(ne=>{var z;return{...ne,jsonTemplate:{...ne.jsonTemplate,fields:[...((z=ne.jsonTemplate)==null?void 0:z.fields)||[],{fieldId:"fullName",label:"",cssSelector:"",action:"write",type:"text"}]}}})},F=ne=>{a(z=>{var K;return{...z,jsonTemplate:{...z.jsonTemplate,fields:(((K=z.jsonTemplate)==null?void 0:K.fields)||[]).filter((B,j)=>j!==ne)}}})},P=ne=>{const z=ne.target.value;x(z);try{const K=JSON.parse(z);if(typeof K!="object"||K===null){E("Input must be a valid JSON object.");return}let B,j=!1;K.jsonTemplate&&typeof K.jsonTemplate=="object"&&Array.isArray(K.jsonTemplate.fields)?(B=K.jsonTemplate,j=!0):Array.isArray(K.fields)&&(B=K),B?(a(j?W=>({...W,name:K.name||W.name,url:K.url||W.url,countryCode:K.countryCode||W.countryCode,type:K.type==="template"?"template":W.type,description:K.description||W.description,tags:K.tags||W.tags,jsonTemplate:B}):W=>({...W,jsonTemplate:B})),E("")):E('JSON must be an object with a "fields" array, or a site object containing a "jsonTemplate" key.')}catch{E("Invalid JSON format.")}},k=async ne=>{var B,j,W;if(ne.preventDefault(),g==="raw"&&w){alert(`Please fix the JSON error before saving: ${w}`);return}let z=F9(s.name);if((r.mode==="create"||r.mode==="edit"&&s.name!==((B=r.site)==null?void 0:B.name))&&e.find(Q=>Q.slug===z)){if(!window.confirm("     (    ).        "))return;z=`${z}-${Date.now().toString().slice(-6)}`}if((r.mode==="create"||r.mode==="edit"&&s.url!==((j=r.site)==null?void 0:j.url))&&e.find(Q=>Q.url===s.url)&&!window.confirm("    .      "))return;const K={...s,slug:z,countryCode:s.countryCode||void 0,jsonTemplate:{...s.jsonTemplate||Gg,siteName:s.name,siteUrl:s.url,siteId:((W=r.site)==null?void 0:W.id)||s.name.toLowerCase().replace(/\s+/g,"-")}};K.type==="static"&&(K.jsonTemplate=void 0),r.mode==="create"?(await tf.create(K),n(H=>[...H,{...K,id:K.name}])):r.site&&(await tf.update(r.site.id,K),n(H=>H.map(Q=>Q.id===r.site.id?{...K,id:r.site.id}:Q))),alert(" .       ."),D()},U=ne=>{window.confirm("        ")&&(tf.delete(ne),n(z=>z.filter(K=>K.id!==ne)))},O=async()=>{h(""),v(!0);let ne=0;try{const z=JSON.parse(c);if(!Array.isArray(z))throw new Error("The provided input must be a valid JSON array.");for(const K of z){if(!K.name||!K.url||!K.type){console.warn("Skipping invalid site object in bulk add:",K);continue}const B={...K,slug:F9(K.name)};await tf.create(B),n(j=>[...j,{...B,id:B.name}]),ne++}alert(`  ${ne}  .`),l(!1),u(`[
  
]`)}catch(z){h(`: ${z.message}`)}finally{v(!1)}},X=Object.keys(Jr);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+    (JSON)"}),d.jsx("button",{onClick:S,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(ne=>{var z,K;return d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ne.name}),d.jsx("td",{className:"p-3 text-gray-600",children:ne.type==="static"?"":""}),d.jsx("td",{className:"p-3 text-gray-600",children:ne.countryCode||""}),d.jsx("td",{className:"p-3 text-gray-600 text-xs",children:ne.type==="template"?`${((K=(z=ne.jsonTemplate)==null?void 0:z.fields)==null?void 0:K.length)||0} `:"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ne.slug&&d.jsx("a",{href:`/${ne.countryCode||"dz"}/site/${ne.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>R(ne),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>U(ne.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ne.id)})})]})})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col h-[90vh]",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsxs("div",{className:"p-6 space-y-4 flex-grow overflow-y-auto",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"  JSON   .        ."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"bulkJson",className:"block text-sm font-medium text-gray-700 mb-1",children:"JSON Array of Sites"}),d.jsx("textarea",{id:"bulkJson",value:c,onChange:ne=>u(ne.target.value),className:"w-full h-96 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr",placeholder:`[
  {
    "name": "ANEM Wassit Online",
    "url": "https://wassitonline.anem.dz/",
    "type": "template",
    "countryCode": "dz",
    "jsonTemplate": {
      "fields": [
        { "fieldId": "nationalId", "label": "NIN", "cssSelector": "#nin", "action": "write", "type": "text" },
        { "fieldId": "dob", "label": "Date of Birth", "cssSelector": "#ddn", "action": "write", "type": "date" }
      ]
    }
  },
  {
    "name": "Google",
    "url": "https://google.com",
    "type": "static"
  }
]`}),f&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:f})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:O,disabled:p,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:p?d.jsx(Dt,{className:"animate-spin"}):"  "})]})]})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:k,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{id:"type",value:s.type,onChange:ne=>a(z=>({...z,type:ne.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"template",children:"  ( )"}),d.jsx("option",{value:"static",children:"  (  )"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:ne=>a(z=>({...z,countryCode:ne.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:ne=>a(z=>({...z,name:ne.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (URL)"}),d.jsx("input",{type:"url",id:"url",value:s.url,onChange:ne=>a(z=>({...z,url:ne.target.value})),required:!0,placeholder:"https://example.com",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx(dr,{theme:"snow",value:s.description||"",onChange:ne=>a(z=>({...z,description:ne})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:ne=>a(z=>({...z,tags:ne.target.value})),placeholder:": , , anem",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         ."})]}),s.type==="template"&&d.jsxs("fieldset",{className:"border p-4 rounded-md",children:[d.jsx("legend",{className:"px-2 font-semibold text-gray-700",children:"   (JSON)"}),d.jsxs("div",{className:"flex gap-1 mb-3 border-b pb-3 -mx-4 px-4",children:[d.jsx("button",{type:"button",onClick:()=>y("builder"),className:`px-3 py-1 text-sm rounded-full ${g==="builder"?"bg-green-600 text-white":"bg-gray-200"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>y("raw"),className:`px-3 py-1 text-sm rounded-full ${g==="raw"?"bg-green-600 text-white":"bg-gray-200"}`,children:" JSON "})]}),g==="builder"?d.jsxs("div",{className:"space-y-3 mt-2",children:[(((Y=s.jsonTemplate)==null?void 0:Y.fields)||[]).map((ne,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 p-3 bg-gray-50 rounded-md border relative",children:[d.jsx("button",{type:"button",onClick:()=>F(z),className:"absolute top-2 left-2 bg-red-100 text-red-600 h-6 w-6 flex items-center justify-center rounded-full hover:bg-red-200",children:""}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Label)"}),d.jsx("input",{type:"text",value:ne.label,onChange:K=>N(z,"label",K.target.value),required:!0,className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"  (Field ID)"}),d.jsx("select",{value:ne.fieldId,onChange:K=>N(z,"fieldId",K.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:X.map(K=>d.jsx("option",{value:K,children:Jr[K].label},K))})]}),d.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" CSS"}),d.jsx("input",{type:"text",value:ne.cssSelector,onChange:K=>N(z,"cssSelector",K.target.value),required:!0,placeholder:"#id, .class",className:"block w-full p-2 border rounded-md text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:ne.action,onChange:K=>N(z,"action",K.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"write",children:""}),d.jsx("option",{value:"select",children:""}),d.jsx("option",{value:"click",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-600",children:" "}),d.jsxs("select",{value:ne.type,onChange:K=>N(z,"type",K.target.value),className:"block w-full p-2 border rounded-md text-sm bg-white",children:[d.jsx("option",{value:"text",children:"Text"}),d.jsx("option",{value:"textarea",children:"Textarea"}),d.jsx("option",{value:"date",children:"Date"}),d.jsx("option",{value:"select",children:"Select"}),d.jsx("option",{value:"checkbox",children:"Checkbox"}),d.jsx("option",{value:"radio",children:"Radio"}),d.jsx("option",{value:"email",children:"Email"}),d.jsx("option",{value:"tel",children:"Tel"}),d.jsx("option",{value:"number",children:"Number"})]})]})]})]},z)),d.jsxs("button",{type:"button",onClick:I,className:"mt-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200 transition-colors flex items-center gap-2",children:[d.jsx(ic,{}),"   "]})]}):d.jsxs("div",{children:[d.jsx("textarea",{value:b,onChange:P,className:"w-full h-64 font-mono text-sm bg-gray-900 text-green-300 p-2 rounded-md",dir:"ltr"}),w&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:w})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:D,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},GG=window.SpeechRecognition||window.webkitSpeechRecognition,ZS=!!GG,KG=({formFields:t,onFieldUpdate:e})=>{const[n,r]=q.useState("idle"),[i,s]=q.useState(""),[a,o]=q.useState(!1),[l,c]=q.useState(null),[u,f]=q.useState("ar-SA"),[h,p]=q.useState("voice"),[v,g]=q.useState(""),y=q.useRef(null),b=q.useRef(""),x=q.useRef(n);q.useEffect(()=>{x.current=n},[n]);const w=q.useRef(e);w.current=e;const E=async P=>{if(P.trim()){o(!0),c(null);try{const k=`You are an AI assistant processing a user's speech or text transcript to fill a web form.
**IMPORTANT RULES:**
1.  When the user says or writes the Arabic word "", you MUST interpret and write it as the "@" symbol.
2.  If you identify an email address, you MUST format it using only English letters, numbers, and standard symbols (like '@', '.', '-'). Do NOT use Arabic characters for the email address. For example, if the user says "       ", the value for the email field should be "mustakhdim@mithal.com" or a similar valid email format, not "@.".

**TASK:**
Based on the user's transcript and the list of available form fields, identify the target field(s) and the corresponding value(s).
- User Transcript: "${P}"
- Available Fields: ${JSON.stringify(t)}

The user might mention multiple fields in one sentence. Your response must be a JSON array of objects, where each object contains a "fieldId" and a "value". For example: [{ "fieldId": "fullName", "value": "John Doe" }, { "fieldId": "email", "value": "john.doe@example.com" }]. If no fields are mentioned, return an empty array.`,O=await Zme(P,t,{type:"ARRAY",items:{type:"OBJECT",properties:{fieldId:{type:"STRING"},value:{type:"STRING"}}}},k);Array.isArray(O)&&O.length>0?w.current(O):console.log("AI did not find any fields to update from transcript:",P)}catch(k){console.error("Error processing transcript with AI:",k);const U=k instanceof Error?k.message:"An unknown error occurred.";c(`  : ${U}`)}finally{o(!1)}}};q.useEffect(()=>{if(!ZS)return;const P=new GG;return y.current=P,P.continuous=!0,P.interimResults=!0,P.onresult=k=>{let U="";for(let O=k.resultIndex;O<k.results.length;++O)k.results[O].isFinal?b.current+=k.results[O][0].transcript+" ":U+=k.results[O][0].transcript;s(b.current+U)},P.onerror=k=>{console.error("Speech recognition error:",k.error),c(`  : ${k.error}`),r("idle")},P.onend=()=>{x.current==="recording"&&r("paused")},()=>{P.abort()}},[ZS]);const S=()=>{y.current&&(b.current="",s(""),y.current.lang=u,y.current.start(),r("recording"))},R=()=>{y.current&&(r("paused"),y.current.stop())},D=()=>{y.current&&(y.current.lang=u,y.current.start(),r("recording"))},N=async()=>{y.current&&(r("idle"),y.current.stop(),i.trim()&&await E(i),s(""),b.current="")},I=async()=>{v.trim()&&(await E(v),g(""))},F=()=>{switch(n){case"recording":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:R,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-yellow-500 text-white font-semibold rounded-md hover:bg-yellow-600",children:[d.jsx(Rme,{})," ",d.jsx("span",{children:" "})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Dt,{className:"animate-spin"}):d.jsx(j0,{}),d.jsx("span",{children:" "})]})]});case"paused":return d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{type:"button",onClick:D,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600",children:[d.jsx(C$,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{type:"button",onClick:N,disabled:a,className:"flex-1 flex items-center justify-center gap-2 p-2 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Dt,{className:"animate-spin"}):d.jsx(j0,{}),d.jsx("span",{children:" "})]})]});case"idle":default:return d.jsxs("button",{type:"button",onClick:S,disabled:a,className:"w-full flex items-center justify-center gap-3 p-3 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:[d.jsx(gc,{}),d.jsx("span",{children:"   "})]})}};return d.jsxs("div",{className:"space-y-3 p-3 bg-gray-100 rounded-md border my-4",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[d.jsxs("button",{onClick:()=>p("voice"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="voice"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(gc,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:()=>p("text"),className:`flex-1 p-2 text-center font-semibold flex items-center justify-center gap-2 ${h==="text"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[d.jsx(T$,{}),d.jsx("span",{children:""})]})]}),h==="voice"?d.jsx(d.Fragment,{children:ZS?d.jsxs(d.Fragment,{children:[n!=="idle"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:" :"}),d.jsx("div",{className:"mt-1 p-2 bg-white border rounded-md min-h-[60px] text-gray-800 text-right",children:i||d.jsx("span",{className:"text-gray-400",children:"..."})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsx("div",{className:"flex-grow",children:F()}),d.jsxs("select",{value:u,onChange:P=>f(P.target.value),disabled:n!=="idle"||a,className:"bg-white border border-gray-300 rounded-md px-2 py-1 text-sm disabled:bg-gray-200","aria-label":"   ",children:[d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:"English"}),d.jsx("option",{value:"fr-FR",children:"Franais"})]})]})]}):d.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-800 text-center rounded-md",children:"      ."})}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:v,onChange:P=>g(P.target.value),placeholder:"   ... :       user  example.com",className:"w-full p-2 border border-gray-300 rounded-md",rows:3,disabled:a}),d.jsxs("button",{type:"button",onClick:I,disabled:a||!v.trim(),className:"w-full flex items-center justify-center gap-3 p-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[a?d.jsx(Dt,{className:"animate-spin"}):d.jsx(j0,{}),d.jsx("span",{children:" "})]})]}),l&&d.jsx("p",{className:"text-red-600 text-sm mt-2",children:l})]})},RSe=()=>{const{siteId:t}=Bs(),e=ci(),{user:n}=br(),{sites:r,cafes:i,siteSettings:s,loading:a}=Jt(),o=q.useMemo(()=>r.find(F=>F.id===t),[t,r]),l=q.useMemo(()=>i.find(F=>F.id===(n==null?void 0:n.cafeId)),[i,n]),c=(l==null?void 0:l.formFillMode)||"json",[u,f]=q.useState({}),[h,p]=q.useState(null),[v,g]=q.useState(""),[y,b]=q.useState(!0);q.useEffect(()=>{c==="json"&&(o!=null&&o.jsonTemplate)?p(o.jsonTemplate):p(null)},[o,c]);const x=(F,P)=>{f(k=>({...k,[F]:P}))},w=F=>{const P={...u};F.forEach(({fieldId:k,value:U})=>{P[k]=U}),f(P)},E=F=>{var U;const P=(U=F.target.files)==null?void 0:U[0];if(!P)return;g("");const k=new FileReader;k.onload=O=>{var X;try{const J=(X=O.target)==null?void 0:X.result,Y=JSON.parse(J);if(Y&&Y.siteId&&Array.isArray(Y.fields))p(Y);else throw new Error("Invalid JSON structure.")}catch(J){g("   .     JSON   ."),console.error(J)}},k.onerror=()=>{g("    .")},k.readAsText(P)},S=async F=>{if(F.preventDefault(),!n||!s||!o){alert(":         .");return}const P=n.credits.currency==="USD"?s.pricing.siteFormFill.usd:s.pricing.siteFormFill.dzd,k=await HI(n,P);if(!k.success){alert(k.message),e(`/${n.countryCode}/app/billing`);return}if(y){const X={},J=c==="json"?h==null?void 0:h.fields.map(Y=>({id:Y.fieldId,label:Y.label})):o==null?void 0:o.templateFields;J&&(J.forEach(Y=>{const ne=Y.id;Object.keys(Jr).includes(ne)&&(X[ne]=u[ne])}),Object.keys(X).length>0&&up.create(X))}const U={source:"gitut-webapp",type:"client_data_update",payload:u};window.postMessage(U,"*"),window.open(o.url,"_blank");const O=(n==null?void 0:n.credits.currency)==="USD"?"$":"";alert(`  ${P} ${O}  .       .    .`),f({})},R=q.useMemo(()=>c==="json"&&h?h.fields.map(F=>({id:F.fieldId,label:F.label})):c==="ai"&&(o!=null&&o.templateFields)?o.templateFields.map(F=>({id:F.id,label:F.label})):[],[o,c,h]);if(a)return d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})});if(!o||o.type!=="template")return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"        "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});const D=(n==null?void 0:n.credits.currency)==="USD"?s==null?void 0:s.pricing.siteFormFill.usd:s==null?void 0:s.pricing.siteFormFill.dzd,N=(n==null?void 0:n.credits.currency)==="USD"?"$":"",I=()=>{var F;return c==="json"?h?h.fields.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.fieldId,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.fieldId,name:P.fieldId,value:u[P.fieldId]||"",onChange:k=>x(k.target.name,k.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.cssSelector)):d.jsxs("div",{className:"text-center p-6 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"font-semibold text-gray-700",children:" 1:    JSON   ."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        ."})]}):(F=o.templateFields)==null?void 0:F.map(P=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:P.id,className:"block text-sm font-medium text-gray-700 mb-1",children:P.label}),d.jsx("input",{type:"text",id:P.id,name:P.id,value:u[P.id]||"",onChange:k=>x(k.target.name,k.target.value),required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md"})]},P.id))};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["  : ",o.name]}),d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsxs("span",{className:"font-bold font-mono",children:[D," ",N]})]})]}),d.jsx(en,{to:`/${n==null?void 0:n.countryCode}/app`,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:" "})]}),d.jsxs("form",{onSubmit:S,className:"space-y-6 bg-white p-8 rounded-lg border",children:[c==="json"&&d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[d.jsxs("label",{htmlFor:"json-upload",className:"flex items-center gap-3 cursor-pointer text-blue-800 font-semibold",children:[d.jsx(Cme,{className:"text-2xl"}),d.jsxs("div",{children:[d.jsx("span",{children:h?` : ${h.siteName}`:"  JSON  "}),d.jsx("p",{className:"text-xs font-normal text-gray-600",children:"          ."})]})]}),d.jsx("input",{id:"json-upload",type:"file",accept:".json",onChange:E,className:"hidden"}),v&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:v})]}),(c==="ai"||c==="json"&&h)&&d.jsx(KG,{formFields:R,onFieldUpdate:w}),I(),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("input",{id:"saveClient",name:"saveClient",type:"checkbox",checked:y,onChange:F=>b(F.target.checked),className:"h-4 w-4 text-green-600"}),d.jsx("label",{htmlFor:"saveClient",className:"mr-2 block text-sm text-gray-900",children:"/   "})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:d.jsx("span",{children:"     "})})]})]})]})};if(dr.Quill){const t=dr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],dr.Quill.register("attributors/style/size",t,!0)}const A1=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),PSe={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},FSe=()=>{const{fullDocuments:t,loadingFullDocuments:e,codes:n,refetchAdminData:r}=Jt(),[i,s]=q.useState([]);ci();const{t:a}=Ji(),[o,l]=q.useState({isOpen:!1,mode:"create",doc:null}),[c,u]=q.useState({}),[f,h]=q.useState(!1),[p,v]=q.useState(""),[g,y]=q.useState(""),[b,x]=q.useState({preview:"",final:""}),[w,E]=q.useState({isOpen:!1,doc:null}),[S,R]=q.useState({}),[D,N]=q.useState({preview:"upload",final:"upload"}),[I,F]=q.useState({preview:"",final:""}),[P,k]=q.useState(!1),U=q.useRef(null),O=q.useRef(null),[X,J]=q.useState(!1),[Y,ne]=q.useState(""),[z,K]=q.useState("");q.useEffect(()=>{const de=[...t].sort((me,ve)=>me.name.localeCompare(ve.name)).filter(me=>me.name.toLowerCase().includes(g.toLowerCase())||me.description.toLowerCase().includes(g.toLowerCase())||me.id.toLowerCase().includes(g.toLowerCase()));s(de)},[t,g]);const B=async()=>{await r()},j=async ie=>{if(window.confirm("              ."))try{await dl.delete(ie),await B(),alert("   .")}catch(de){console.error("Failed to delete document:",de),alert("  .")}},W=()=>{u({id:"",name:"",groupId:"",description:"",countryCode:"dz",requiredFields:[],complexFields:[],previewTemplateUrl:"",finalTemplateUrl:"",previewTemplateHtml:"",finalTemplateHtml:"",tags:"",slug:""}),N({preview:"upload",final:"upload"}),F({preview:"",final:""}),x({preview:"",final:""}),l({isOpen:!0,mode:"create",doc:null}),v("")},H=async ie=>{u({...ie});const de={preview:"upload",final:"upload"},me={preview:ie.previewTemplateHtml||"",final:ie.finalTemplateHtml||""};ie.previewTemplateHtml&&(de.preview="code"),ie.finalTemplateHtml&&(de.final="code"),F(me),N(de),x({preview:"",final:""}),l({isOpen:!0,mode:"edit",doc:ie}),v("")},Q=()=>{l({isOpen:!1,mode:"create",doc:null})},Z=ie=>{const{name:de,value:me}=ie.target;u(ve=>({...ve,[de]:me}))},se=async(ie,de)=>{var De;const me=(De=ie.target.files)==null?void 0:De[0];if(!me)return;const ve=new FileReader;ve.onload=Ue=>{var Me;const Te=(Me=Ue.target)==null?void 0:Me.result;x(Oe=>({...Oe,[de]:Te})),F(Oe=>({...Oe,[de]:Te}))},ve.readAsText(me)},ce=async ie=>{var de,me,ve;ie.preventDefault(),h(!0);try{const De={...c},Ue=Oe=>Oe.replace(/\s{2,}/g," ").replace(/\n/g,"").trim();let Te="";D.preview==="code"?Te=I.preview:b.preview&&(Te=b.preview),Te&&(De.previewTemplateHtml=Ue(Te),De.previewTemplateUrl="");let Me="";if(D.final==="code"?Me=I.final:b.final&&(Me=b.final),Me?(De.finalTemplateHtml=Ue(Me),De.finalTemplateUrl="",De.requiredFields=L0(Me)):De.finalTemplateHtml&&(De.requiredFields=L0(De.finalTemplateHtml)),De.slug=(de=c.slug)!=null&&de.trim()?A1(c.slug):A1(c.name||""),o.mode==="create"){const Oe=((me=c.id)==null?void 0:me.trim())||((ve=c.groupId)==null?void 0:ve.trim())||De.slug;De.id=Oe,De.groupId||(De.groupId=Oe),await dl.create(De)}else o.doc&&await dl.update(o.doc.id,De);await B(),alert("   !"),Q()}catch(De){console.error("Failed to save document:",De),alert("  .")}finally{h(!1)}},ue=async()=>{var ie;if(!((ie=c.name)!=null&&ie.trim())){alert("      .");return}k(!0);try{const de=`         "${c.name}".            .      HTML  ( <p>  <ul>).`,ve=(await sc({model:"gemini-2.5-flash",contents:de})).text||"";u(De=>({...De,description:ve}))}catch(de){console.error("AI description generation failed:",de),alert("    .")}finally{k(!1)}},Ee=ie=>{R(ie.fieldCustomizations||{}),E({isOpen:!0,doc:ie})},Ie=()=>{E({isOpen:!1,doc:null}),R({})},fe=(ie,de,me)=>{R(ve=>({...ve,[ie]:{...ve[ie]||{type:"text"},[de]:me}}))},Le=(ie,de,me)=>{R(ve=>{var Ue;const De=[...((Ue=ve[ie])==null?void 0:Ue.options)||[]];return De[de]=me,{...ve,[ie]:{...ve[ie]||{type:"text"},options:De}}})},V=ie=>{R(de=>{var ve;const me=[...((ve=de[ie])==null?void 0:ve.options)||[],""];return{...de,[ie]:{...de[ie]||{type:"text"},type:"select",options:me}}})},ye=(ie,de)=>{R(me=>{var De;const ve=(((De=me[ie])==null?void 0:De.options)||[]).filter((Ue,Te)=>Te!==de);return{...me,[ie]:{...me[ie]||{type:"text"},options:ve}}})},be=async()=>{if(w.doc){h(!0);try{const ie={...w.doc,fieldCustomizations:S};await dl.update(w.doc.id,ie),await B(),alert("  !"),Ie()}catch(ie){console.error("Failed to save customizations:",ie),alert("  .")}finally{h(!1)}}},oe=(ie,de)=>{N(me=>({...me,[ie]:de}))},re=(ie,de)=>{if(!de)return;const ve=(ie==="preview"?U:O).current;if(ve){const De=ve.selectionStart,Ue=ve.selectionEnd,Te=ve.value,Me=Te.substring(0,De)+de+Te.substring(Ue);F(Oe=>({...Oe,[ie]:Me})),setTimeout(()=>{ve&&(ve.focus(),ve.selectionStart=ve.selectionEnd=De+de.length)},0)}},le=()=>{ne(JSON.stringify([{id:"custom-doc-id",name:"  ",groupId:"unique-group-id",description:"<p> HTML .</p>",countryCode:"dz",tags:"tag1,tag2",previewTemplateHtml:"<!--  HTML  -->",finalTemplateHtml:"<!--  HTML   [placeholders] -->"}],null,2)),K(""),J(!0)},he=()=>{J(!1)},_e=async ie=>{ie.preventDefault(),K(""),h(!0);try{const de=JSON.parse(Y),me=Array.isArray(de)?de:[de];let ve=0;for(const[De,Ue]of me.entries()){const{name:Te,groupId:Me,previewTemplateHtml:Oe,finalTemplateHtml:Ge}=Ue;if(typeof Te!="string"||!Te.trim()||typeof Me!="string"||!Me.trim()||typeof Oe!="string"||!Oe.trim()||typeof Ge!="string"||!Ge.trim()){const Qt=[];(typeof Te!="string"||!Te.trim())&&Qt.push("name"),(typeof Me!="string"||!Me.trim())&&Qt.push("groupId"),(typeof Oe!="string"||!Oe.trim())&&Qt.push("previewTemplateHtml"),(typeof Ge!="string"||!Ge.trim())&&Qt.push("finalTemplateHtml");const Nn=Ue.name||Ue.id||`  ${De+1}`;throw new Error(`    : ${Qt.join(", ")}   "${Nn}"`)}const{description:nt,countryCode:st,tags:Ot,id:wn}=Ue,hn=Qt=>Qt.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),zr=hn(Ge),nr=hn(Oe),rr={name:Te,groupId:Me,description:nt||"",countryCode:st||"",tags:Ot||"",slug:A1(Te),previewTemplateHtml:nr,finalTemplateHtml:zr,previewTemplateUrl:"",finalTemplateUrl:"",requiredFields:L0(zr)},wr=wn||Me||A1(Te);rr.id=wr,await dl.create(rr),ve++}await B(),alert(`  ${ve} () !`),he()}catch(de){const me=de instanceof Error?de.message:" JSON     .";K(me)}finally{h(!1)}};return e?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(ic,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  JSON"]}),d.jsxs("button",{onClick:W,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(ic,{className:"inline-block ml-2 rtl:ml-0 rtl:mr-2"}),"  "]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"   ...",value:g,onChange:ie=>y(ie.target.value),className:"w-full p-3 border rounded-lg"})}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"ID / Group ID"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:i.map(ie=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:ie.name}),d.jsxs("td",{className:"p-3 text-gray-500 font-mono text-xs",children:[ie.id,d.jsx("br",{}),ie.groupId!==ie.id&&`(${ie.groupId})`]}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",title:ie.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2",dangerouslySetInnerHTML:{__html:ie.description}})}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse whitespace-nowrap",children:[ie.slug&&d.jsx("a",{href:`/${ie.countryCode||"dz"}/doc/${ie.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>H(ie),className:"text-green-600 hover:underline text-sm font-semibold",children:" "}),d.jsx("button",{onClick:()=>Ee(ie),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>j(ie.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},ie.id))})]})})}),X&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:_e,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"    JSON"})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:d.jsxs("div",{children:[d.jsx("label",{htmlFor:"jsonInput",className:"block text-sm font-medium text-gray-700 mb-1",children:" JSON (        )"}),d.jsx("textarea",{id:"jsonInput",value:Y,onChange:ie=>ne(ie.target.value),required:!0,className:"w-full h-80 p-2 border rounded-md font-mono text-sm bg-gray-900 text-green-300",dir:"ltr"}),z&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:z})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:he,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" ()"})]})]})})}),o.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:ce,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:o.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"name",id:"name",value:c.name||"",onChange:Z,required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"groupId",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Group ID)"}),d.jsx("input",{type:"text",name:"groupId",id:"groupId",value:c.groupId||"",onChange:Z,required:!0,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    Group ID      ."})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (ID)"}),d.jsx("input",{type:"text",name:"id",id:"id",value:c.id||"",onChange:Z,disabled:o.mode==="edit",className:"w-full p-2 border rounded-md bg-gray-100 disabled:cursor-not-allowed",title:o.mode==="edit"?"     ":"   Group ID"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.mode==="edit"?"     .":"   Group ID."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Slug)"}),d.jsx("input",{type:"text",name:"slug",id:"slug",value:c.slug||"",onChange:Z,className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  .       ."})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:""}),d.jsxs("button",{type:"button",onClick:ue,disabled:P,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200 disabled:opacity-50",title:"   ",children:[P?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(dr,{theme:"snow",value:c.description||"",onChange:ie=>u(de=>({...de,description:ie})),modules:PSe})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",name:"countryCode",id:"countryCode",value:c.countryCode||"",onChange:Z,placeholder:"dz, fr, us...",className:"w-full p-2 border rounded-md"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   ."})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",name:"tags",id:"tags",value:c.tags||"",onChange:Z,className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>oe("preview","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>oe("preview","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.preview==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.preview==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"previewTemplate",onChange:ie=>se(ie,"preview"),accept:".html",className:"w-full text-sm"}),b.preview&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",b.preview.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:U,value:I.preview,onChange:ie=>F(de=>({...de,preview:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("preview",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2 border-b",children:[d.jsx("button",{type:"button",onClick:()=>oe("final","upload"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="upload"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "}),d.jsx("button",{type:"button",onClick:()=>oe("final","code"),className:`px-3 py-1 text-sm rounded-t-md ${D.final==="code"?"bg-gray-200 font-semibold":"bg-white"}`,children:" "})]}),D.final==="upload"?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"finalTemplate",onChange:ie=>se(ie,"final"),accept:".html",className:"w-full text-sm"}),b.final&&d.jsxs("span",{className:"text-xs text-gray-500 truncate block mt-1",children:["Selected: ",b.final.substring(0,50),"..."]})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("textarea",{ref:O,value:I.final,onChange:ie=>F(de=>({...de,final:ie.target.value})),className:"w-full h-32 p-2 border rounded-md font-mono text-xs bg-gray-900 text-green-300",placeholder:"<html>...</html>",dir:"ltr"}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("select",{onChange:ie=>{re("final",ie.target.value),ie.target.value=""},className:"text-xs bg-gray-200 text-gray-800 font-semibold py-1 px-2 rounded-md hover:bg-gray-300 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),n.map(ie=>d.jsxs("option",{value:ie.key,children:[ie.description," (",ie.key,")"]},ie.id))]})})]})]})]}),p&&d.jsx("p",{className:"text-red-500 text-sm",children:p})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Q,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?" ...":" "})]})]})})}),w.isOpen&&w.doc&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:d.jsxs("form",{onSubmit:ie=>{ie.preventDefault(),be()},children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:["  : ",w.doc.name]})}),d.jsx("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:Object.keys(Jr).map(ie=>{var me,ve,De,Ue,Te,Me,Oe;const de=(me=w.doc)==null?void 0:me.requiredFields.includes(ie);return d.jsxs("div",{className:`p-4 border rounded-md ${de?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[d.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:a(Jr[ie].label)}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("select",{value:((ve=S[ie])==null?void 0:ve.type)||"text",onChange:Ge=>fe(ie,"type",Ge.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"text",children:"  (Text)"}),d.jsx("option",{value:"select",children:"   (Select)"}),d.jsx("option",{value:"multiselect",children:"   (Multi-select)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),d.jsx("input",{type:"text",value:((De=S[ie])==null?void 0:De.customQuestion)||"",onChange:Ge=>fe(ie,"customQuestion",Ge.target.value),placeholder:"    ",className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:((Ue=S[ie])==null?void 0:Ue.speechLang)||"",onChange:Ge=>fe(ie,"speechLang",Ge.target.value),className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",children:" ( )"}),d.jsx("option",{value:"ar-SA",children:""}),d.jsx("option",{value:"en-US",children:""}),d.jsx("option",{value:"fr-FR",children:""})]})]})]}),(((Te=S[ie])==null?void 0:Te.type)==="select"||((Me=S[ie])==null?void 0:Me.type)==="multiselect")&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-2",children:" "}),d.jsx("div",{className:"space-y-2",children:(((Oe=S[ie])==null?void 0:Oe.options)||[]).map((Ge,nt)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:Ge,onChange:st=>Le(ie,nt,st.target.value),placeholder:` ${nt+1}`,className:"flex-grow p-2 border rounded-md"}),d.jsx("button",{type:"button",onClick:()=>ye(ie,nt),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:d.jsx(Vm,{})})]},nt))}),d.jsxs("button",{type:"button",onClick:()=>V(ie),className:"mt-3 flex items-center gap-2 text-sm bg-green-100 text-green-800 font-semibold py-2 px-3 rounded-lg hover:bg-green-200",children:[d.jsx(ic,{}),"  "]})]})]},ie)})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:Ie,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:f?d.jsx(Dt,{className:"animate-spin"}):" "})]})]})})})]})},MSe=()=>{const[t,e]=q.useState([]),[n,r]=q.useState({isOpen:!1,mode:"create",client:null}),[i,s]=q.useState({}),{t:a}=Ji();q.useEffect(()=>{up.getAll().then(e)},[]);const o=()=>{up.getAll().then(e)},l=()=>{s({}),r({isOpen:!0,mode:"create",client:null})},c=y=>{s({...y}),r({isOpen:!0,mode:"edit",client:y})},u=()=>{r({isOpen:!1,mode:"create",client:null})},f=(y,b)=>{s(x=>({...x,[y]:b}))},h=q.useMemo(()=>Object.values(Jr).map(y=>({id:y.id,label:a(y.label)})),[a]),p=y=>{y.forEach(({fieldId:b,value:x})=>{f(b,x)})},v=y=>{y.preventDefault(),n.mode==="create"?up.create(i):n.client&&up.update(n.client.id,i),o(),u()},g=y=>{window.confirm("              .")&&(up.delete(y),o())};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:t.length>0?t.map(y=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:mi(y.profilePicture)||`https://ui-avatars.com/api/?name=${y.fullName||"NN"}&background=random`,alt:y.fullName||"Client",className:"w-10 h-10 rounded-full object-cover"}),d.jsx("span",{children:y.fullName||"-"})]})}),d.jsx("td",{className:"p-3 text-gray-600",children:y.phone||"-"}),d.jsx("td",{className:"p-3 text-gray-600",children:y.email||"-"}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{onClick:()=>c(y),className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>g(y.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},y.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center p-6 text-gray-500",children:'   .   "  " .'})})})]})})}),n.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:v,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:n.mode==="create"?"  ":"  "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsx(KG,{formFields:h,onFieldUpdate:p}),Object.values(Jr).map(y=>{var x;if(!y)return null;const b=y.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a(y.label)}),y.type==="file"?d.jsx(Lv,{value:i[b]||"",onChange:w=>f(b,w)}):y.type==="select"?d.jsxs("select",{id:y.id,name:y.id,value:i[b]||"",onChange:w=>f(w.target.name,w.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:[d.jsx("option",{value:"",children:a(y.placeholder)}),(x=y.options)==null?void 0:x.map(w=>d.jsx("option",{value:w.value,children:a(w.label)},w.value))]}):d.jsx("input",{type:y.type,id:y.id,name:y.id,value:i[b]||"",onChange:w=>f(w.target.name,w.target.value),placeholder:a(y.placeholder)||"",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]},y.id)})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})})]})},USe=({onSearch:t})=>{const{wilayas:e,dairas:n,communes:r,locationsLoading:i}=Jt(),[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState(""),[p,v]=q.useState([]),[g,y]=q.useState([]),b=S=>{const R=S.target.value;a(R),l(""),u(""),R?(v(n.filter(D=>D.wilaya_code===R)),y([])):(v([]),y([]))},x=S=>{const R=S.target.value;l(R),u(""),y(R&&s?r.filter(D=>D.daira_name===R&&D.wilaya_code===s):[])},w=S=>{u(S.target.value)},E=S=>{var D;S.preventDefault();const R=((D=e.find(N=>N.code===s))==null?void 0:D.name)||"";t({wilaya:R,daira:o,commune:c,name:f})};return d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("select",{value:s,onChange:b,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:i,"aria-label":"Select Wilaya",children:[d.jsx("option",{value:"",children:i?" ...":" "}),e.map(S=>d.jsx("option",{value:S.code,children:S.name},S.id))]}),d.jsxs("select",{value:o,onChange:x,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!s||p.length===0,"aria-label":"Select Daira",children:[d.jsx("option",{value:"",children:" "}),p.map(S=>d.jsx("option",{value:S.name,children:S.name},S.id))]}),d.jsxs("select",{value:c,onChange:w,className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500",disabled:!o||g.length===0,"aria-label":"Select Commune",children:[d.jsx("option",{value:"",children:" "}),g.map(S=>d.jsx("option",{value:S.name,children:S.name},S.id))]}),d.jsx("input",{type:"text",placeholder:" ...",value:f,onChange:S=>h(S.target.value),className:"p-3 bg-white border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Search by cafe name"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white p-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:""})]})};function OSe(t,e){function n(u){return u*Math.PI/180}const r=6371,i=n(e.latitude-t.latitude),s=n(e.longitude-t.longitude),a=n(t.latitude),o=n(t.latitude),l=Math.sin(i/2)*Math.sin(i/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(a)*Math.cos(o),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return r*c}const LSe=()=>{const{countryCode:t,type:e,id:n}=Bs(),{documents:r,staticDocuments:i,sites:s,cafes:a,loading:o}=Jt(),[l,c]=q.useState(null),[u,f]=q.useState([]),[h,p]=q.useState(!1),[v,g]=q.useState(!1),[y,b]=q.useState(!1),[x,w]=q.useState(""),[E,S]=q.useState(!1),[R,D]=q.useState([]),[N,I]=q.useState(0);q.useEffect(()=>{c(null),w(""),(()=>{let Y=null;if(e==="doc"&&n){const ne=r.find(z=>z.id===n);if(ne){Y={...ne,type:"doc"};const K=r.filter(j=>j.groupId===ne.groupId).sort((j,W)=>j.name.localeCompare(W.name,"ar"));D(K);const B=K.findIndex(j=>j.id===ne.id);I(B>=0?B:0)}}else if(e==="site"&&n){const ne=s.find(z=>z.id===n);ne&&(Y={...ne,type:"site"},D([]))}else if(e==="static-doc"&&n){const ne=i.find(z=>z.id===n);ne&&(Y={...ne,type:"static-doc"},D([]))}Y&&Y.countryCode&&Y.countryCode!==t?c(null):c(Y)})()},[e,n,r,s,i,t]),q.useEffect(()=>{const J=async()=>{if(R.length>0&&N<R.length){const ne=R[N].previewTemplateUrl;if(!ne){w(""),S(!1);return}S(!0);try{const z=await fetch(ne);z.ok?w(await z.text()):w("")}catch(z){console.error("Error fetching preview:",z),w("")}finally{S(!1)}}};(l==null?void 0:l.type)==="doc"&&R.length>0&&J()},[R,N,l]);const F=()=>{I(J=>(J+1)%R.length)},P=()=>{I(J=>(J-1+R.length)%R.length)},k=J=>{if(!l)return;let ne=a;const z=J.name.trim().toLowerCase();J.wilaya&&(ne=ne.filter(K=>K.address.wilaya===J.wilaya)),J.daira&&(ne=ne.filter(K=>K.address.daira===J.daira)),J.commune&&(ne=ne.filter(K=>K.address.commune===J.commune)),z&&(ne=ne.filter(K=>K.name.toLowerCase().includes(z))),f(ne),b(!0),p(!1)},U=J=>{const Y=J.target.checked;if(p(Y),Y){if(!navigator.geolocation){alert("     ."),p(!1);return}g(!0),b(!1),navigator.geolocation.getCurrentPosition(ne=>{const z={latitude:ne.coords.latitude,longitude:ne.coords.longitude},B=a.filter(j=>j.address.latitude&&j.address.longitude).map(j=>({...j,distance:OSe(z,j.address)})).sort((j,W)=>j.distance-W.distance);f(B),g(!1),b(!0)},ne=>{console.error("Geolocation error:",ne),alert(`    : ${ne.message}`),g(!1),p(!1)})}else f([]),b(!1)},O=q.useMemo(()=>{if((l==null?void 0:l.type)==="doc"&&R.length>0){const J=R[N];return J?{...J,type:"doc"}:null}else if((l==null?void 0:l.type)==="static-doc")return{...l,type:"static-doc"};return l},[l,R,N]),X=q.useMemo(()=>{if((O==null?void 0:O.type)!=="doc")return[];const J=O;return(J.spokenFields&&J.spokenFields.length>0?J.spokenFields:J.requiredFields).filter(ne=>ne!=="profilePicture").map(ne=>Jr[ne]).filter(ne=>!!ne)},[O]);return O?d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:O.name}),d.jsx("p",{className:"text-lg text-gray-600",children:"description"in O?O.description:"url"in O?O.url:""})]}),l.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsxs("div",{className:"relative",children:[R.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:P,className:"absolute right-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(dw,{className:"h-6 w-6"})}),d.jsx("button",{onClick:F,className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 text-white p-4 rounded-full hover:bg-opacity-75 transition-all","aria-label":" ",children:d.jsx(uw,{className:"h-6 w-6"})}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full",children:[N+1," / ",R.length]})]}),E?d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"  ..."})}):x?d.jsx("iframe",{srcDoc:x,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}):d.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 rounded-md",children:d.jsx("p",{className:"text-gray-500",children:"     ."})})]})]}),l.type==="static-doc"&&"fileUrl"in l&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d.jsx("iframe",{src:l.fileUrl,title:" ",className:"w-full h-[70vh] border rounded-md bg-white"}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("a",{href:l.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700",children:"     "})})]}),O.type==="doc"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),O.visitorExamplePrompt&&d.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-400 p-4 rounded-md mb-6",children:[d.jsx("h3",{className:"font-bold text-lg text-blue-800 mb-2",children:"   ():"}),d.jsxs("p",{className:"text-blue-700 leading-relaxed",children:['"',O.visitorExamplePrompt,'"']})]}),X.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:"  :"}),d.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1 text-gray-700",children:X.map(J=>d.jsx("li",{children:J.label},J.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),!h&&d.jsx(USe,{onSearch:k}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:U,disabled:v,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("span",{className:"font-semibold text-gray-700",children:v?"...  ":"    "})]})})]}),y&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-2xl font-bold",children:[" (",u.length,")"]}),u.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(J=>d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:J.imageUrl,alt:J.name,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:J.name}),d.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[J.address.commune,", ",J.address.wilaya]}),J.distance!==void 0&&d.jsxs("p",{className:"text-sm font-bold text-blue-700 bg-blue-100 rounded-full px-3 py-1 self-start mb-4",children:["~ ",J.distance.toFixed(1)," "]}),d.jsx("div",{className:"flex-grow"}),d.jsx(en,{to:`/${t}/profile/${J.numericId}`,className:"block text-center w-full mt-auto bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors",children:" "})]})]},J.id))}):d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"      ."})})]})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(en,{to:`/${t}/services`,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"   "})]})};if(dr.Quill){const t=dr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],dr.Quill.register("attributors/style/size",t,!0)}const jSe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),BSe=()=>{const{staticDocuments:t}=Jt(),[e,n]=q.useState(t),[r,i]=q.useState({isOpen:!1,mode:"create",doc:null}),[s,a]=q.useState({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),[o,l]=q.useState(null),[c,u]=q.useState(!1);q.useEffect(()=>n(t),[t]);const f=()=>{a({name:"",description:"",fileUrl:"",countryCode:"",tags:""}),l(null),i({isOpen:!0,mode:"create",doc:null})},h=x=>{a({name:x.name,description:x.description,fileUrl:x.fileUrl,countryCode:x.countryCode||"",tags:x.tags||""}),l(null),i({isOpen:!0,mode:"edit",doc:x})},p=()=>{i({isOpen:!1,mode:"create",doc:null})},v=x=>{x.target.files&&x.target.files[0]&&(l(x.target.files[0]),g(x.target.files[0]))},g=async x=>{if(!x){alert("   .");return}u(!0);try{const w=await fm(x);a(E=>({...E,fileUrl:w})),alert("      !")}catch(w){console.error("Upload error:",w),alert(`  : ${w.message}`)}finally{u(!1)}},y=async x=>{if(x.preventDefault(),!s.fileUrl){alert("     .");return}const w={...s,slug:jSe(s.name)};try{r.mode==="create"?(await Dp.create(w),n(E=>[...E,{...w,id:"new-"+Date.now(),slug:w.slug||""}])):r.doc&&(await Dp.update(r.doc.id,w),n(E=>E.map(S=>S.id===r.doc.id?{...w,id:r.doc.id}:S))),alert("  !"),p()}catch(E){console.error("Failed to save static doc:",E),alert(" .")}},b=async x=>{if(window.confirm("        "))try{await Dp.delete(x),n(w=>w.filter(E=>E.id!==x)),alert("  !")}catch(w){console.error("Failed to delete static doc:",w),alert(" .")}};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   (PDF)"}),d.jsx("button",{onClick:f,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"+   "})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e.map(x=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:x.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm max-w-md",title:x.description.replace(/<[^>]*>?/gm,""),children:d.jsx("div",{className:"prose prose-sm max-w-none line-clamp-2 compact-prose",dangerouslySetInnerHTML:{__html:x.description}})}),d.jsx("td",{className:"p-3 text-gray-600",children:x.countryCode||""}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[x.slug&&d.jsx("a",{href:`/${x.countryCode||"dz"}/doc/${x.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>h(x),className:"text-green-600 hover:underline text-sm font-semibold",children:""}),d.jsx("button",{onClick:()=>b(x.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},x.id))})]})})}),r.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:y,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:r.mode==="create"?"  ":" "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"name",value:s.name,onChange:x=>a(w=>({...w,name:x.target.value})),required:!0,className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),d.jsx(dr,{theme:"snow",value:s.description,onChange:x=>a(w=>({...w,description:x})),modules:{toolbar:[[{size:["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px",!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"tags",value:s.tags||"",onChange:x=>a(w=>({...w,tags:x.target.value})),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"countryCode",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( : dz)"}),d.jsx("input",{type:"text",id:"countryCode",value:s.countryCode||"",onChange:x=>a(w=>({...w,countryCode:x.target.value.toLowerCase()})),placeholder:"  ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500"})]}),d.jsxs("div",{className:"space-y-3 border-t pt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:" "}),d.jsxs("div",{children:[d.jsxs("label",{className:"w-full flex items-center justify-center gap-2 bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer",children:[c?d.jsx(Dt,{className:"animate-spin"}):d.jsx(Al,{}),d.jsx("span",{children:c?" ...":"  PDF "}),d.jsx("input",{type:"file",accept:".pdf",onChange:v,className:"hidden"})]}),o&&!c&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[" : ",o.name]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fileUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"url",id:"fileUrl",value:s.fileUrl,readOnly:!0,placeholder:"    ...",className:"block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:p,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})]})]})})})]})},VSe=()=>{const{docId:t}=Bs(),{staticDocuments:e,loading:n,siteSettings:r}=Jt(),{user:i}=br(),s=ci(),a=q.useRef(null),[o,l]=q.useState(!1),[c,u]=q.useState(""),f=q.useMemo(()=>e.find(x=>x.id===t),[e,t]),h=q.useMemo(()=>mi(f==null?void 0:f.fileUrl),[f]),p=(i==null?void 0:i.credits.currency)==="USD"?r==null?void 0:r.pricing.staticDocumentDownload.usd:r==null?void 0:r.pricing.staticDocumentDownload.dzd,v=(i==null?void 0:i.credits.currency)==="USD"?"$":"",g=()=>{const x=a.current;x&&x.contentWindow&&(x.contentWindow.focus(),x.contentWindow.print())},y=()=>{if(f){const x=document.createElement("a");x.href=h,x.setAttribute("download",f.name),document.body.appendChild(x),x.click(),document.body.removeChild(x)}},b=async()=>{if(!i||!r||p===void 0){u("   .        .");return}u("");const x=await HI(i,p);x.success?(l(!0),alert(`  ${p} ${v}  .`)):(u(x.message),x.message.includes("  ")&&setTimeout(()=>s("/app/billing"),2e3))};return n?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):f?d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f.name}),o&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(pw,{})," ",d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(Nu,{})," ",d.jsx("span",{children:""})]})]})]}),d.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-200",children:o?d.jsx("iframe",{ref:a,src:h,title:f.name,className:"w-full h-[70vh] border-0"}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center p-4",children:[d.jsx(kme,{className:"text-5xl text-gray-400 mb-4"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["     ",d.jsxs("span",{className:"font-bold font-mono",children:[p," ",v]}),"  ."]}),d.jsx("button",{onClick:b,className:"bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700",children:" "}),c&&d.jsx("p",{className:"text-red-500 mt-4",children:c})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(en,{to:"/app",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},WSe=()=>{const{countryCode:t,docId:e}=Bs(),n=ci(),{staticDocuments:r,documents:i,fullDocuments:s,siteSettings:a,loading:o}=Jt(),l=q.useMemo(()=>{const N=decodeURIComponent(e||""),I=r.find(k=>k.id===N||k.slug===N);if(I)return{...I,serviceType:"static-doc"};const F=i.find(k=>k.id===N||k.slug===N);if(F)return{...F,serviceType:"doc"};const P=s.find(k=>k.id===N||k.slug===N);return P?{...P,serviceType:"doc"}:null},[r,i,s,e]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=q.useState(c),[h,p]=q.useState(!1),v=q.useRef(null),[g,y]=q.useState(!1),[b,x]=q.useState({active:!1,format:null}),[w,E]=q.useState(!1),S=q.useMemo(()=>l?l.serviceType==="static-doc"&&l.fileUrl?mi(l.fileUrl):l.serviceType==="doc"&&"previewTemplateUrl"in l&&l.previewTemplateUrl?mi(l.previewTemplateUrl):"#":"#",[l]);q.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),q.useEffect(()=>{const N=I=>{v.current&&!v.current.contains(I.target)&&y(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const R=async N=>{if(!(w||!l||l.serviceType!=="doc"||!N)){E(!0);try{const I=[...s,...i];if(N==="pdf")await Fy(I,l.id,{},{action:"download",targetLang:"ar",templateType:"preview"});else if(N==="word"){let F="previewTemplateHtml"in l?l.previewTemplateHtml:"";if(!F&&"previewTemplateUrl"in l&&l.previewTemplateUrl){const U=await fetch(mi(l.previewTemplateUrl));U.ok&&(F=await U.text())}if(!F)throw new Error("Could not load Word template content.");const P=new Blob([`
                    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                    <head><meta charset='utf-8'><title>${l.name}</title></head>
                    <body>${F}</body>
                    </html>
                `],{type:"application/msword"}),k=document.createElement("a");k.href=URL.createObjectURL(P),k.download=`${l.slug||"document"}.doc`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(k.href)}}catch(I){console.error("Failed to download document:",I),alert("   .")}finally{E(!1),x({active:!1,format:null})}}};q.useEffect(()=>{if(!(o||!l)){if(b.active)if(u>0){const N=setTimeout(()=>f(I=>I-1),1e3);return()=>clearTimeout(N)}else R(b.format);else if(!h)if(u>0){const N=setTimeout(()=>f(I=>I-1),1e3);return()=>clearTimeout(N)}else p(!0)}},[u,o,l,h,b]);const D=N=>{y(!1),x({active:!0,format:N}),f(c)};if(o)return d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Dt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]});if(!l)return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]});if(h){const N=()=>l.serviceType==="doc"&&"previewTemplateHtml"in l&&l.previewTemplateHtml?d.jsx("iframe",{srcDoc:l.previewTemplateHtml,title:l.name,className:"w-full h-full border-0"}):S!=="#"?d.jsx("iframe",{src:S,title:l.name,className:"w-full h-full border-0"}):d.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"     ."})});return d.jsxs(d.Fragment,{children:[b.active&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[100] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4 max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:w?d.jsx(Dt,{className:"animate-spin"}):u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(bl,{placement:"PDF_INTERSTITIAL"})]})]})}),d.jsxs("div",{className:"flex h-[85vh] gap-4",children:[d.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white rounded-lg shadow-lg border p-4 flex flex-col",children:[d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-center border-b pb-3",children:" "}),l.serviceType==="doc"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>n(`/${t}/go-to-site/internal-form`,{state:{targetUrl:`/${t}/public-form/${l.id}`,siteName:` : ${l.name}`}}),className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(b$,{}),d.jsx("span",{children:"/"})]}),d.jsxs("div",{ref:v,className:"relative",children:[d.jsxs("button",{onClick:()=>y(I=>!I),className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[d.jsx(Nu,{}),d.jsx("span",{children:"  "})]}),g&&d.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-full bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("pdf"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(hw,{className:"text-red-500"}),d.jsx("span",{children:"  PDF"})]})}),d.jsx("li",{children:d.jsxs("button",{onClick:()=>D("word"),className:"w-full text-right flex items-center gap-3 px-4 py-2 hover:bg-gray-100",children:[d.jsx(XI,{className:"text-blue-500"}),d.jsx("span",{children:"  Word"})]})})]})})]})]})]}),d.jsx("div",{className:"mt-6 pt-6 border-t",children:d.jsx(bl,{placement:"PROFILE_SIDEBAR"})})]}),d.jsx("main",{className:"flex-1 bg-white p-2 rounded-lg shadow-lg border h-full",children:N()})]})]})}return d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(bl,{placement:"PDF_INTERSTITIAL"})]})]})})},qSe=({cafe:t,linkTo:e,linkState:n,isOnline:r})=>{const i="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=800&q=80",s=t.address.commune&&t.address.wilaya?`${t.address.commune}, ${t.address.wilaya}`:`${t.address.city||""}, ${t.address.state||""}`.replace(/^,|,$/g,"").trim(),a=`/${t.countryCode}/profile/${t.numericId}`;return d.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105 duration-300 flex flex-col",children:[d.jsx("img",{src:mi(t.imageUrl)||i,alt:t.name,className:"w-full h-48 object-cover",onError:o=>{o.currentTarget.src=i}}),d.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t.name}),r!==void 0&&d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-500 ${r===null?"bg-gray-300 animate-pulse":r?"bg-green-500":"bg-gray-400"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:r===null?" ...":r?" ":" "})]}),d.jsxs("p",{className:"text-gray-600 mb-1 text-sm",children:[d.jsx("span",{className:"font-semibold",children:":"})," ",t.owner]}),d.jsxs("p",{className:"text-gray-600 mb-2 text-sm",children:[d.jsx("span",{className:"font-semibold",children:":"})," ",s]}),t.distance!==void 0&&d.jsx("div",{className:"mb-4",children:d.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-1 rounded-full",children:["~ ",t.distance.toFixed(1)," "]})}),d.jsx("p",{className:"text-gray-700 mb-4 flex-grow line-clamp-2",children:t.description}),d.jsxs("div",{className:"mt-auto flex gap-2",children:[e?d.jsx(en,{to:e,state:n,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-green-600 text-white hover:bg-green-700",children:"  "}):d.jsx(en,{to:a,className:"block text-center flex-grow font-semibold py-2 px-4 rounded-lg transition-colors bg-gray-200 text-gray-800 hover:bg-gray-300",children:"  "}),d.jsx(en,{to:a,state:{openChat:!0},className:"flex-shrink-0 flex items-center justify-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",title:" ",children:d.jsx(GI,{})})]})]})]})},ja=t=>t?t.replace(/[]/g,"").replace(//g,"").toLowerCase():"",zSe=({cafe:t,linkTo:e,linkState:n})=>{const{usePresence:r}=Qf(),{isOnline:i}=r(t.id);return d.jsx(qSe,{cafe:t,linkTo:e,linkState:n,isOnline:i})},HSe=()=>{const t=Ir(),e=ci(),{countryCode:n}=Bs(),{documents:r,sites:i,communes:s,cafes:a}=Jt(),{documentIds:o}=t.state||{documentIds:[]},l=q.useMemo(()=>{const D=r.filter(I=>o.includes(I.id)).map(I=>({...I,serviceType:"doc"})),N=i.filter(I=>o.includes(I.id)).map(I=>({...I,serviceType:"site"}));return[...D,...N]},[o,r,i]),[c,u]=q.useState([]),[f,h]=q.useState(!1),[p,v]=q.useState(""),[g,y]=q.useState([]),[b,x]=q.useState(!1),w=q.useMemo(()=>o&&o.length>0?a:[],[o,a]);q.useEffect(()=>{if(!p.trim()){y([]);return}const D=[],N=[],I=new Set,F=ja(p);if(/^\d+$/.test(p)){const k=parseInt(p,10),U=w.find(O=>O.numericId===k);U&&D.push({type:"cafe",data:U})}w.forEach(k=>{!D.some(U=>U.data.id===k.id)&&(ja(k.name).includes(F)||ja(k.owner).includes(F))&&D.push({type:"cafe",data:k})}),s.forEach(k=>{const U=`${k.wilaya_name}, ${k.daira_name}, ${k.name}`;I.has(U)||(ja(k.name).includes(F)||ja(k.daira_name).includes(F)||ja(k.wilaya_name).includes(F))&&(N.push({type:"commune",data:k}),I.add(U))}),y([...D,...N].slice(0,15))},[p,w,s]);const E=D=>{if(D.preventDefault(),x(!1),!p.trim()){u(w),h(!0);return}const N=ja(p),F=/^\d+$/.test(p.trim())?parseInt(p.trim(),10):null,P=w.filter(k=>F!==null&&k.numericId===F||ja(k.name).includes(N)||ja(k.owner).includes(N)||k.address.wilaya&&ja(k.address.wilaya).includes(N)||k.address.daira&&ja(k.address.daira).includes(N)||k.address.commune&&ja(k.address.commune).includes(N));u(P),h(!0)},S=D=>{if(v(""),x(!1),h(!0),D.type==="cafe")e(`/${n}/form`,{state:{cafeId:D.data.id,selectedDocIds:o}});else if(D.type==="commune"){const N=w.filter(I=>I.address.commune===D.data.name&&I.address.daira===D.data.daira_name&&I.address.wilaya===D.data.wilaya_name);u(N)}},R=D=>{switch(D.type){case"cafe":return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold",children:D.data.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:[D.data.address.commune," -  /"]})]});case"commune":return`${D.data.wilaya_name}, ${D.data.daira_name}, ${D.data.name}`}};return o.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:":     ."}),d.jsx("p",{className:"text-gray-600 mb-6",children:"       ."}),d.jsx(en,{to:`/${n}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 text-center",children:[d.jsx(en,{to:`/${n}`,className:"text-green-600 hover:underline mb-4 inline-block",children:"    "}),d.jsx("h1",{className:"text-xl font-semibold text-gray-700",children:" 2:    "}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:l.map(D=>D.name).join(" ")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"  "}),d.jsxs("form",{onSubmit:E,className:"relative max-w-2xl mx-auto flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(B4,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),d.jsx("input",{type:"text",value:p,onChange:D=>v(D.target.value),onFocus:()=>x(!0),onBlur:()=>setTimeout(()=>x(!1),200),placeholder:"      (  )...",className:"w-full p-4 pr-12 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg","aria-label":"  "}),b&&g.length>0&&d.jsx("ul",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:g.map((D,N)=>d.jsx("li",{className:"px-4 py-3 cursor-pointer hover:bg-green-50 border-b last:border-b-0",onMouseDown:()=>S(D),children:R(D)},`${D.type}-${D.data.id}-${N}`))})]}),d.jsx("button",{type:"submit",className:"flex-shrink-0 bg-gray-800 text-white p-4 rounded-lg hover:bg-black transition-colors","aria-label":"",children:d.jsx(B4,{className:"h-6 w-6"})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:f?` (${c.length})`:`      (${w.length})`}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(f?c:w).map(D=>d.jsx(zSe,{cafe:D,linkTo:`/${n}/form`,linkState:{cafeId:D.id,selectedDocIds:o}},D.id))}),f&&c.length===0&&d.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow",children:d.jsx("p",{className:"text-gray-600 text-lg",children:"         ."})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var M_={};M_.version="0.18.5";var XG=1252,$Se=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],m3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},g3=function(t){$Se.indexOf(t)!=-1&&(XG=m3[0]=t)};function GSe(){g3(1252)}var ko=function(t){g3(t)};function y3(){ko(1200),GSe()}function M9(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function KSe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function JG(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var m0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?KSe(t.slice(2)):e==254&&n==255?JG(t.slice(2)):e==65279?t.slice(1):t},N1=function(e){return String.fromCharCode(e)},U9=function(e){return String.fromCharCode(e)},My,yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Uy(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),a=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=yu.charAt(s)+yu.charAt(a)+yu.charAt(o)+yu.charAt(l);return e}function Na(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=yu.indexOf(t.charAt(c++)),a=yu.indexOf(t.charAt(c++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=yu.indexOf(t.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=yu.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var on=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ac=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Hu(t){return on?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function O9(t){return on?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ba=function(e){return on?Ac(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Ew(t){if(typeof ArrayBuffer>"u")return ba(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function sd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function XSe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function v3(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return v3(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Pi=on?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ac(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function JSe(t){for(var e=[],n=0,r=t.length+250,i=Hu(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Hu(65535),r=65530)}return e.push(i.slice(0,n)),Pi(e)}var Us=/\u0000/g,g0=/[\u0001-\u0006]/g;function Ip(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Io(t,e){var n=""+t;return n.length>=e?n:Mr("0",e-n.length)+n}function x3(t,e){var n=""+t;return n.length>=e?n:Mr(" ",e-n.length)+n}function U_(t,e){var n=""+t;return n.length>=e?n:n+Mr(" ",e-n.length)}function YSe(t,e){var n=""+Math.round(t);return n.length>=e?n:Mr("0",e-n.length)+n}function QSe(t,e){var n=""+t;return n.length>=e?n:Mr("0",e-n.length)+n}var L9=Math.pow(2,32);function Qh(t,e){if(t>L9||t<-L9)return YSe(t,e);var n=Math.round(t);return QSe(n,e)}function O_(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var j9=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],eD=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function ZSe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Wt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},B9={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},eDe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function L_(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function nf(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=aDe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var YG=new Date(1899,11,31,0,0,0),tDe=YG.getTime(),nDe=new Date(1900,2,1,0,0,0);function QG(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=nDe&&(n+=1440*60*1e3),(n-(tDe+(t.getTimezoneOffset()-YG.getTimezoneOffset())*6e4))/(1440*60*1e3)}function _3(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rDe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function iDe(t){var e=t<0?12:11,n=_3(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function sDe(t){var e=_3(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Oy(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=iDe(t):e===10?n=t.toFixed(10).substr(0,12):n=sDe(t),_3(rDe(n.toUpperCase()))}function Ff(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Oy(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return so(14,QG(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function aDe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function oDe(t,e,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return eD[n.m-1][1];case 5:return eD[n.m-1][0];default:return eD[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return j9[n.q][0];default:return j9[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Io(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Io(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Io(l,c):"";return u}function vu(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var ZG=/%/g;function lDe(t,e,n){var r=e.replace(ZG,""),i=e.length-r.length;return ac(t,r,n*Math.pow(10,2*i))+Mr("%",i)}function cDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ac(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function eK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+eK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var tK=/# (\?+)( ?)\/( ?)(\d+)/;function uDe(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?Mr(" ",t[1].length+1+t[4].length):x3(a,t[1].length)+t[2]+"/"+t[3]+Io(o,t[4].length))}function dDe(t,e,n){return n+(e===0?"":""+e)+Mr(" ",t[1].length+2+t[4].length)}var nK=/^#*0*\.([0#]+)/,rK=/\).*[0#]/,iK=/\(###\) ###\\?-####/;function ks(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function V9(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function W9(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function fDe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function hDe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function qa(t,e,n){if(t.charCodeAt(0)===40&&!e.match(rK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?qa("n",r,n):"("+qa("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return cDe(t,e,n);if(e.indexOf("%")!==-1)return lDe(t,e,n);if(e.indexOf("E")!==-1)return eK(e,n);if(e.charCodeAt(0)===36)return"$"+qa(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Qh(l,e.length);if(e.match(/^[#?]+$/))return i=Qh(n,0),i==="0"&&(i=""),i.length>e.length?i:ks(e.substr(0,e.length-i.length))+i;if(s=e.match(tK))return uDe(s,l,c);if(e.match(/^#+0+$/))return c+Qh(l,e.length-e.indexOf("0"));if(s=e.match(nK))return i=V9(n,s[1].length).replace(/^([^\.]+)$/,"$1."+ks(s[1])).replace(/\.$/,"."+ks(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+Mr("0",ks(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+V9(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+vu(Qh(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+qa(t,e,-n):vu(""+(Math.floor(n)+fDe(n,s[1].length)))+"."+Io(W9(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return qa(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ip(qa(t,e.replace(/[\\-]/g,""),n)),a=0,Ip(Ip(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(iK))return i=qa(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=L_(l,Math.pow(10,a)-1,!1),i=""+c,u=ac("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=U_(o[2],a),u.length<s[4].length&&(u=ks(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=L_(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?x3(o[1],a)+s[2]+"/"+s[3]+U_(o[2],a):Mr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Qh(n,0),e.length<=i.length?i:ks(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return ks(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=W9(n,s[1].length),n<0?"-"+qa(t,e,-n):vu(hDe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Io(0,3-v.length):"")+v})+"."+Io(a,s[1].length);switch(e){case"###,##0.00":return qa(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=vu(Qh(l,0));return p!=="0"?c+p:"";case"###,###.00":return qa(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return qa(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function pDe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ac(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function mDe(t,e,n){var r=e.replace(ZG,""),i=e.length-r.length;return ac(t,r,n*Math.pow(10,2*i))+Mr("%",i)}function sK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function rl(t,e,n){if(t.charCodeAt(0)===40&&!e.match(rK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?rl("n",r,n):"("+rl("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return pDe(t,e,n);if(e.indexOf("%")!==-1)return mDe(t,e,n);if(e.indexOf("E")!==-1)return sK(e,n);if(e.charCodeAt(0)===36)return"$"+rl(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Io(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:ks(e.substr(0,e.length-i.length))+i;if(s=e.match(tK))return dDe(s,l,c);if(e.match(/^#+0+$/))return c+Io(l,e.length-e.indexOf("0"));if(s=e.match(nK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ks(s[1])).replace(/\.$/,"."+ks(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+Mr("0",ks(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+vu(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+rl(t,e,-n):vu(""+n)+"."+Mr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return rl(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ip(rl(t,e.replace(/[\\-]/g,""),n)),a=0,Ip(Ip(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(iK))return i=rl(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=L_(l,Math.pow(10,a)-1,!1),i=""+c,u=ac("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=U_(o[2],a),u.length<s[4].length&&(u=ks(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=L_(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?x3(o[1],a)+s[2]+"/"+s[3]+U_(o[2],a):Mr(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:ks(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,h=e.length-i.length-f;return ks(e.substr(0,f)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+rl(t,e,-n):vu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Io(0,3-v.length):"")+v})+"."+Io(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=vu(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return rl(t,e.slice(0,e.lastIndexOf(".")),n)+ks(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ac(t,e,n){return(n|0)===n?rl(t,e,n):qa(t,e,n)}function gDe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var aK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Gm(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":O_(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(aK))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function yDe(t,e,n,r){for(var i=[],s="",a=0,o="",l="t",c,u,f,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!O_(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),v=p==="("||p===")"?p:"t";i[i.length]={t:v,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=nf(e,n,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=nf(e,n),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=nf(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(aK)){if(c==null&&(c=nf(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Gm(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,b=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",y<1&&(y=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(b=Math.max(b,x[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",E;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=oDe(i[a].t.charCodeAt(0),i[a].v,c,b),i[a].t="t";break;case"n":case"?":for(E=a+1;i[E]!=null&&((o=i[E].t)==="?"||o==="D"||(o===" "||o==="t")&&i[E+1]!=null&&(i[E+1].t==="?"||i[E+1].t==="t"&&i[E+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[E].v==="/"||i[E].v===" "&&i[E+1]!=null&&i[E+1].t=="?"));)i[a].v+=i[E].v,i[E]={v:"",t:";"},++E;w+=i[a].v,a=E-1;break;case"G":i[a].t="t",i[a].v=Ff(e,n);break}var S="",R,D;if(w.length>0){w.charCodeAt(0)==40?(R=e<0&&w.charCodeAt(0)===45?-e:e,D=ac("n",w,R)):(R=e<0&&r>1?-e:e,D=ac("n",w,R),R<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),E=D.length-1;var N=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){N=a;break}var I=i.length;if(N===i.length&&D.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(E>=i[a].v.length-1?(E-=i[a].v.length,i[a].v=D.substr(E+1,i[a].v.length)):E<0?i[a].v="":(i[a].v=D.substr(0,E+1),E=-1),i[a].t="t",I=a);E>=0&&I<i.length&&(i[I].v=D.substr(0,E+1)+i[I].v)}else if(N!==i.length&&D.indexOf("E")===-1){for(E=D.indexOf(".")-1,a=N;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(u+1);u>=0;--u)E>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(S=D.charAt(E--)+S);i[a].v=S,i[a].t="t",I=a}for(E>=0&&I<i.length&&(i[I].v=D.substr(0,E+1)+i[I].v),E=D.indexOf(".")+1,a=N;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==N)){for(u=i[a].v.indexOf(".")>-1&&a===N?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,u);u<i[a].v.length;++u)E<D.length&&(S+=D.charAt(E++));i[a].v=S,i[a].t="t",I=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(R=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=ac(i[a].t,i[a].v,R),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var q9=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function z9(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function vDe(t,e){var n=gDe(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(q9),o=n[1].match(q9);return z9(e,a)?[r,n[0]]:z9(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function so(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Wt)[t],r==null&&(r=n.table&&n.table[B9[t]]||Wt[B9[t]]),r==null&&(r=eDe[t]||"General");break}if(O_(r,0))return Ff(e,n);e instanceof Date&&(e=QG(e,n.date1904));var i=vDe(r,e);if(O_(i[1]))return Ff(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return yDe(i[1],e,n,i[0])}function oc(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Wt[n]==null){e<0&&(e=n);continue}if(Wt[n]==t){e=n;break}}e<0&&(e=391)}return Wt[e]=t,e}function Cw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&oc(t[e],e)}function Km(){Wt=ZSe()}var xDe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},oK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function _De(t){var e=typeof t=="number"?Wt[t]:t;return e=e.replace(oK,"(\\d+)"),new RegExp("^"+e+"$")}function bDe(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(oK)||[]).forEach(function(f,h){var p=parseInt(n[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var wDe=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,N=new Array(256),I=0;I!=256;++I)D=I,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,N[I]=D;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(D){var N=0,I=0,F=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)P[F]=D[F];for(F=0;F!=256;++F)for(I=D[F],N=256+F;N<4096;N+=256)I=P[N]=I>>>8^D[I&255];var k=[];for(F=1;F!=16;++F)k[F-1]=typeof Int32Array<"u"?P.subarray(F*256,F*256+256):P.slice(F*256,F*256+256);return k}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],p=i[8],v=i[9],g=i[10],y=i[11],b=i[12],x=i[13],w=i[14];function E(D,N){for(var I=N^-1,F=0,P=D.length;F<P;)I=I>>>8^n[(I^D.charCodeAt(F++))&255];return~I}function S(D,N){for(var I=N^-1,F=D.length-15,P=0;P<F;)I=w[D[P++]^I&255]^x[D[P++]^I>>8&255]^b[D[P++]^I>>16&255]^y[D[P++]^I>>>24]^g[D[P++]]^v[D[P++]]^p[D[P++]]^h[D[P++]]^f[D[P++]]^u[D[P++]]^c[D[P++]]^l[D[P++]]^o[D[P++]]^a[D[P++]]^s[D[P++]]^n[D[P++]];for(F+=15;P<F;)I=I>>>8^n[(I^D[P++])&255];return~I}function R(D,N){for(var I=N^-1,F=0,P=D.length,k=0,U=0;F<P;)k=D.charCodeAt(F++),k<128?I=I>>>8^n[(I^k)&255]:k<2048?(I=I>>>8^n[(I^(192|k>>6&31))&255],I=I>>>8^n[(I^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,U=D.charCodeAt(F++)&1023,I=I>>>8^n[(I^(240|k>>8&7))&255],I=I>>>8^n[(I^(128|k>>2&63))&255],I=I>>>8^n[(I^(128|U>>6&15|(k&3)<<4))&255],I=I>>>8^n[(I^(128|U&63))&255]):(I=I>>>8^n[(I^(224|k>>12&15))&255],I=I>>>8^n[(I^(128|k>>6&63))&255],I=I>>>8^n[(I^(128|k&63))&255]);return~I}return t.table=n,t.bstr=E,t.buf=S,t.str=R,t})(),Lt=(function(){var e={};e.version="1.2.1";function n(xe,ke){for(var Se=xe.split("/"),Ae=ke.split("/"),Ne=0,Re=0,We=Math.min(Se.length,Ae.length);Ne<We;++Ne){if(Re=Se[Ne].length-Ae[Ne].length)return Re;if(Se[Ne]!=Ae[Ne])return Se[Ne]<Ae[Ne]?-1:1}return Se.length-Ae.length}function r(xe){if(xe.charAt(xe.length-1)=="/")return xe.slice(0,-1).indexOf("/")===-1?xe:r(xe.slice(0,-1));var ke=xe.lastIndexOf("/");return ke===-1?xe:xe.slice(0,ke+1)}function i(xe){if(xe.charAt(xe.length-1)=="/")return i(xe.slice(0,-1));var ke=xe.lastIndexOf("/");return ke===-1?xe:xe.slice(ke+1)}function s(xe,ke){typeof ke=="string"&&(ke=new Date(ke));var Se=ke.getHours();Se=Se<<6|ke.getMinutes(),Se=Se<<5|ke.getSeconds()>>>1,xe.write_shift(2,Se);var Ae=ke.getFullYear()-1980;Ae=Ae<<4|ke.getMonth()+1,Ae=Ae<<5|ke.getDate(),xe.write_shift(2,Ae)}function a(xe){var ke=xe.read_shift(2)&65535,Se=xe.read_shift(2)&65535,Ae=new Date,Ne=Se&31;Se>>>=5;var Re=Se&15;Se>>>=4,Ae.setMilliseconds(0),Ae.setFullYear(Se+1980),Ae.setMonth(Re-1),Ae.setDate(Ne);var We=ke&31;ke>>>=5;var Ze=ke&63;return ke>>>=6,Ae.setHours(ke),Ae.setMinutes(Ze),Ae.setSeconds(We<<1),Ae}function o(xe){Hi(xe,0);for(var ke={},Se=0;xe.l<=xe.length-4;){var Ae=xe.read_shift(2),Ne=xe.read_shift(2),Re=xe.l+Ne,We={};switch(Ae){case 21589:Se=xe.read_shift(1),Se&1&&(We.mtime=xe.read_shift(4)),Ne>5&&(Se&2&&(We.atime=xe.read_shift(4)),Se&4&&(We.ctime=xe.read_shift(4))),We.mtime&&(We.mt=new Date(We.mtime*1e3));break}xe.l=Re,ke[Ae]=We}return ke}var l;function c(){return l||(l={})}function u(xe,ke){if(xe[0]==80&&xe[1]==75)return wr(xe,ke);if((xe[0]|32)==109&&(xe[1]|32)==105)return ln(xe,ke);if(xe.length<512)throw new Error("CFB file size "+xe.length+" < 512");var Se=3,Ae=512,Ne=0,Re=0,We=0,Ze=0,$e=0,Xe=[],Je=xe.slice(0,512);Hi(Je,0);var ut=f(Je);switch(Se=ut[0],Se){case 3:Ae=512;break;case 4:Ae=4096;break;case 0:if(ut[1]==0)return wr(xe,ke);default:throw new Error("Major Version: Expected 3 or 4 saw "+Se)}Ae!==512&&(Je=xe.slice(0,Ae),Hi(Je,28));var vt=xe.slice(0,Ae);h(Je,Se);var Tt=Je.read_shift(4,"i");if(Se===3&&Tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Tt);Je.l+=4,We=Je.read_shift(4,"i"),Je.l+=4,Je.chk("00100000","Mini Stream Cutoff Size: "),Ze=Je.read_shift(4,"i"),Ne=Je.read_shift(4,"i"),$e=Je.read_shift(4,"i"),Re=Je.read_shift(4,"i");for(var pt=-1,dt=0;dt<109&&(pt=Je.read_shift(4,"i"),!(pt<0));++dt)Xe[dt]=pt;var Gt=p(xe,Ae);y($e,Re,Gt,Ae,Xe);var kn=x(Gt,We,Xe,Ae);kn[We].name="!Directory",Ne>0&&Ze!==U&&(kn[Ze].name="!MiniFAT"),kn[Xe[0]].name="!FAT",kn.fat_addrs=Xe,kn.ssz=Ae;var Tn={},Mn=[],co=[],qo=[];w(We,kn,Gt,Mn,Ne,Tn,co,Ze),v(co,qo,Mn),Mn.shift();var ua={FileIndex:co,FullPaths:qo};return ke&&ke.raw&&(ua.raw={header:vt,sectors:Gt}),ua}function f(xe){if(xe[xe.l]==80&&xe[xe.l+1]==75)return[0,0];xe.chk(O,"Header Signature: "),xe.l+=16;var ke=xe.read_shift(2,"u");return[xe.read_shift(2,"u"),ke]}function h(xe,ke){var Se=9;switch(xe.l+=2,Se=xe.read_shift(2)){case 9:if(ke!=3)throw new Error("Sector Shift: Expected 9 saw "+Se);break;case 12:if(ke!=4)throw new Error("Sector Shift: Expected 12 saw "+Se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Se)}xe.chk("0600","Mini Sector Shift: "),xe.chk("000000000000","Reserved: ")}function p(xe,ke){for(var Se=Math.ceil(xe.length/ke)-1,Ae=[],Ne=1;Ne<Se;++Ne)Ae[Ne-1]=xe.slice(Ne*ke,(Ne+1)*ke);return Ae[Se-1]=xe.slice(Se*ke),Ae}function v(xe,ke,Se){for(var Ae=0,Ne=0,Re=0,We=0,Ze=0,$e=Se.length,Xe=[],Je=[];Ae<$e;++Ae)Xe[Ae]=Je[Ae]=Ae,ke[Ae]=Se[Ae];for(;Ze<Je.length;++Ze)Ae=Je[Ze],Ne=xe[Ae].L,Re=xe[Ae].R,We=xe[Ae].C,Xe[Ae]===Ae&&(Ne!==-1&&Xe[Ne]!==Ne&&(Xe[Ae]=Xe[Ne]),Re!==-1&&Xe[Re]!==Re&&(Xe[Ae]=Xe[Re])),We!==-1&&(Xe[We]=Ae),Ne!==-1&&Ae!=Xe[Ae]&&(Xe[Ne]=Xe[Ae],Je.lastIndexOf(Ne)<Ze&&Je.push(Ne)),Re!==-1&&Ae!=Xe[Ae]&&(Xe[Re]=Xe[Ae],Je.lastIndexOf(Re)<Ze&&Je.push(Re));for(Ae=1;Ae<$e;++Ae)Xe[Ae]===Ae&&(Re!==-1&&Xe[Re]!==Re?Xe[Ae]=Xe[Re]:Ne!==-1&&Xe[Ne]!==Ne&&(Xe[Ae]=Xe[Ne]));for(Ae=1;Ae<$e;++Ae)if(xe[Ae].type!==0){if(Ze=Ae,Ze!=Xe[Ze])do Ze=Xe[Ze],ke[Ae]=ke[Ze]+"/"+ke[Ae];while(Ze!==0&&Xe[Ze]!==-1&&Ze!=Xe[Ze]);Xe[Ae]=-1}for(ke[0]+="/",Ae=1;Ae<$e;++Ae)xe[Ae].type!==2&&(ke[Ae]+="/")}function g(xe,ke,Se){for(var Ae=xe.start,Ne=xe.size,Re=[],We=Ae;Se&&Ne>0&&We>=0;)Re.push(ke.slice(We*k,We*k+k)),Ne-=k,We=Kd(Se,We*4);return Re.length===0?tt(0):Pi(Re).slice(0,xe.size)}function y(xe,ke,Se,Ae,Ne){var Re=U;if(xe===U){if(ke!==0)throw new Error("DIFAT chain shorter than expected")}else if(xe!==-1){var We=Se[xe],Ze=(Ae>>>2)-1;if(!We)return;for(var $e=0;$e<Ze&&(Re=Kd(We,$e*4))!==U;++$e)Ne.push(Re);y(Kd(We,Ae-4),ke-1,Se,Ae,Ne)}}function b(xe,ke,Se,Ae,Ne){var Re=[],We=[];Ne||(Ne=[]);var Ze=Ae-1,$e=0,Xe=0;for($e=ke;$e>=0;){Ne[$e]=!0,Re[Re.length]=$e,We.push(xe[$e]);var Je=Se[Math.floor($e*4/Ae)];if(Xe=$e*4&Ze,Ae<4+Xe)throw new Error("FAT boundary crossed: "+$e+" 4 "+Ae);if(!xe[Je])break;$e=Kd(xe[Je],Xe)}return{nodes:Re,data:n7([We])}}function x(xe,ke,Se,Ae){var Ne=xe.length,Re=[],We=[],Ze=[],$e=[],Xe=Ae-1,Je=0,ut=0,vt=0,Tt=0;for(Je=0;Je<Ne;++Je)if(Ze=[],vt=Je+ke,vt>=Ne&&(vt-=Ne),!We[vt]){$e=[];var pt=[];for(ut=vt;ut>=0;){pt[ut]=!0,We[ut]=!0,Ze[Ze.length]=ut,$e.push(xe[ut]);var dt=Se[Math.floor(ut*4/Ae)];if(Tt=ut*4&Xe,Ae<4+Tt)throw new Error("FAT boundary crossed: "+ut+" 4 "+Ae);if(!xe[dt]||(ut=Kd(xe[dt],Tt),pt[ut]))break}Re[vt]={nodes:Ze,data:n7([$e])}}return Re}function w(xe,ke,Se,Ae,Ne,Re,We,Ze){for(var $e=0,Xe=Ae.length?2:0,Je=ke[xe].data,ut=0,vt=0,Tt;ut<Je.length;ut+=128){var pt=Je.slice(ut,ut+128);Hi(pt,64),vt=pt.read_shift(2),Tt=D3(pt,0,vt-Xe),Ae.push(Tt);var dt={name:Tt,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},Gt=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Gt!==0&&(dt.ct=E(pt,pt.l-8));var kn=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);kn!==0&&(dt.mt=E(pt,pt.l-8)),dt.start=pt.read_shift(4,"i"),dt.size=pt.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=U,dt.name=""),dt.type===5?($e=dt.start,Ne>0&&$e!==U&&(ke[$e].name="!StreamData")):dt.size>=4096?(dt.storage="fat",ke[dt.start]===void 0&&(ke[dt.start]=b(Se,dt.start,ke.fat_addrs,ke.ssz)),ke[dt.start].name=dt.name,dt.content=ke[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:$e!==U&&dt.start!==U&&ke[$e]&&(dt.content=g(dt,ke[$e].data,(ke[Ze]||{}).data))),dt.content&&Hi(dt.content,0),Re[Tt]=dt,We.push(dt)}}function E(xe,ke){return new Date((_a(xe,ke+4)/1e7*Math.pow(2,32)+_a(xe,ke)/1e7-11644473600)*1e3)}function S(xe,ke){return c(),u(l.readFileSync(xe),ke)}function R(xe,ke){var Se=ke&&ke.type;switch(Se||on&&Buffer.isBuffer(xe)&&(Se="buffer"),Se||"base64"){case"file":return S(xe,ke);case"base64":return u(ba(Na(xe)),ke);case"binary":return u(ba(xe),ke)}return u(xe,ke)}function D(xe,ke){var Se=ke||{},Ae=Se.root||"Root Entry";if(xe.FullPaths||(xe.FullPaths=[]),xe.FileIndex||(xe.FileIndex=[]),xe.FullPaths.length!==xe.FileIndex.length)throw new Error("inconsistent CFB structure");xe.FullPaths.length===0&&(xe.FullPaths[0]=Ae+"/",xe.FileIndex[0]={name:Ae,type:5}),Se.CLSID&&(xe.FileIndex[0].clsid=Se.CLSID),N(xe)}function N(xe){var ke="Sh33tJ5";if(!Lt.find(xe,"/"+ke)){var Se=tt(4);Se[0]=55,Se[1]=Se[3]=50,Se[2]=54,xe.FileIndex.push({name:ke,type:2,content:Se,size:4,L:69,R:69,C:69}),xe.FullPaths.push(xe.FullPaths[0]+ke),I(xe)}}function I(xe,ke){D(xe);for(var Se=!1,Ae=!1,Ne=xe.FullPaths.length-1;Ne>=0;--Ne){var Re=xe.FileIndex[Ne];switch(Re.type){case 0:Ae?Se=!0:(xe.FileIndex.pop(),xe.FullPaths.pop());break;case 1:case 2:case 5:Ae=!0,isNaN(Re.R*Re.L*Re.C)&&(Se=!0),Re.R>-1&&Re.L>-1&&Re.R==Re.L&&(Se=!0);break;default:Se=!0;break}}if(!(!Se&&!ke)){var We=new Date(1987,1,19),Ze=0,$e=Object.create?Object.create(null):{},Xe=[];for(Ne=0;Ne<xe.FullPaths.length;++Ne)$e[xe.FullPaths[Ne]]=!0,xe.FileIndex[Ne].type!==0&&Xe.push([xe.FullPaths[Ne],xe.FileIndex[Ne]]);for(Ne=0;Ne<Xe.length;++Ne){var Je=r(Xe[Ne][0]);Ae=$e[Je],Ae||(Xe.push([Je,{name:i(Je).replace("/",""),type:1,clsid:J,ct:We,mt:We,content:null}]),$e[Je]=!0)}for(Xe.sort(function(Tt,pt){return n(Tt[0],pt[0])}),xe.FullPaths=[],xe.FileIndex=[],Ne=0;Ne<Xe.length;++Ne)xe.FullPaths[Ne]=Xe[Ne][0],xe.FileIndex[Ne]=Xe[Ne][1];for(Ne=0;Ne<Xe.length;++Ne){var ut=xe.FileIndex[Ne],vt=xe.FullPaths[Ne];if(ut.name=i(vt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||J,Ne===0)ut.C=Xe.length>1?1:-1,ut.size=0,ut.type=5;else if(vt.slice(-1)=="/"){for(Ze=Ne+1;Ze<Xe.length&&r(xe.FullPaths[Ze])!=vt;++Ze);for(ut.C=Ze>=Xe.length?-1:Ze,Ze=Ne+1;Ze<Xe.length&&r(xe.FullPaths[Ze])!=r(vt);++Ze);ut.R=Ze>=Xe.length?-1:Ze,ut.type=1}else r(xe.FullPaths[Ne+1]||"")==r(vt)&&(ut.R=Ne+1),ut.type=2}}}function F(xe,ke){var Se=ke||{};if(Se.fileType=="mad")return nn(xe,Se);switch(I(xe),Se.fileType){case"zip":return Nn(xe,Se)}var Ae=(function(Tt){for(var pt=0,dt=0,Gt=0;Gt<Tt.FileIndex.length;++Gt){var kn=Tt.FileIndex[Gt];if(kn.content){var Tn=kn.content.length;Tn>0&&(Tn<4096?pt+=Tn+63>>6:dt+=Tn+511>>9)}}for(var Mn=Tt.FullPaths.length+3>>2,co=pt+7>>3,qo=pt+127>>7,ua=co+dt+Mn+qo,Hr=ua+127>>7,Ic=Hr<=109?0:Math.ceil((Hr-109)/127);ua+Hr+Ic+127>>7>Hr;)Ic=++Hr<=109?0:Math.ceil((Hr-109)/127);var ir=[1,Ic,Hr,qo,Mn,dt,pt,0];return Tt.FileIndex[0].size=pt<<6,ir[7]=(Tt.FileIndex[0].start=ir[0]+ir[1]+ir[2]+ir[3]+ir[4]+ir[5])+(ir[6]+7>>3),ir})(xe),Ne=tt(Ae[7]<<9),Re=0,We=0;{for(Re=0;Re<8;++Re)Ne.write_shift(1,X[Re]);for(Re=0;Re<8;++Re)Ne.write_shift(2,0);for(Ne.write_shift(2,62),Ne.write_shift(2,3),Ne.write_shift(2,65534),Ne.write_shift(2,9),Ne.write_shift(2,6),Re=0;Re<3;++Re)Ne.write_shift(2,0);for(Ne.write_shift(4,0),Ne.write_shift(4,Ae[2]),Ne.write_shift(4,Ae[0]+Ae[1]+Ae[2]+Ae[3]-1),Ne.write_shift(4,0),Ne.write_shift(4,4096),Ne.write_shift(4,Ae[3]?Ae[0]+Ae[1]+Ae[2]-1:U),Ne.write_shift(4,Ae[3]),Ne.write_shift(-4,Ae[1]?Ae[0]-1:U),Ne.write_shift(4,Ae[1]),Re=0;Re<109;++Re)Ne.write_shift(-4,Re<Ae[2]?Ae[1]+Re:-1)}if(Ae[1])for(We=0;We<Ae[1];++We){for(;Re<236+We*127;++Re)Ne.write_shift(-4,Re<Ae[2]?Ae[1]+Re:-1);Ne.write_shift(-4,We===Ae[1]-1?U:We+1)}var Ze=function(Tt){for(We+=Tt;Re<We-1;++Re)Ne.write_shift(-4,Re+1);Tt&&(++Re,Ne.write_shift(-4,U))};for(We=Re=0,We+=Ae[1];Re<We;++Re)Ne.write_shift(-4,Y.DIFSECT);for(We+=Ae[2];Re<We;++Re)Ne.write_shift(-4,Y.FATSECT);Ze(Ae[3]),Ze(Ae[4]);for(var $e=0,Xe=0,Je=xe.FileIndex[0];$e<xe.FileIndex.length;++$e)Je=xe.FileIndex[$e],Je.content&&(Xe=Je.content.length,!(Xe<4096)&&(Je.start=We,Ze(Xe+511>>9)));for(Ze(Ae[6]+7>>3);Ne.l&511;)Ne.write_shift(-4,Y.ENDOFCHAIN);for(We=Re=0,$e=0;$e<xe.FileIndex.length;++$e)Je=xe.FileIndex[$e],Je.content&&(Xe=Je.content.length,!(!Xe||Xe>=4096)&&(Je.start=We,Ze(Xe+63>>6)));for(;Ne.l&511;)Ne.write_shift(-4,Y.ENDOFCHAIN);for(Re=0;Re<Ae[4]<<2;++Re){var ut=xe.FullPaths[Re];if(!ut||ut.length===0){for($e=0;$e<17;++$e)Ne.write_shift(4,0);for($e=0;$e<3;++$e)Ne.write_shift(4,-1);for($e=0;$e<12;++$e)Ne.write_shift(4,0);continue}Je=xe.FileIndex[Re],Re===0&&(Je.start=Je.size?Je.start-1:U);var vt=Re===0&&Se.root||Je.name;if(Xe=2*(vt.length+1),Ne.write_shift(64,vt,"utf16le"),Ne.write_shift(2,Xe),Ne.write_shift(1,Je.type),Ne.write_shift(1,Je.color),Ne.write_shift(-4,Je.L),Ne.write_shift(-4,Je.R),Ne.write_shift(-4,Je.C),Je.clsid)Ne.write_shift(16,Je.clsid,"hex");else for($e=0;$e<4;++$e)Ne.write_shift(4,0);Ne.write_shift(4,Je.state||0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,Je.start),Ne.write_shift(4,Je.size),Ne.write_shift(4,0)}for(Re=1;Re<xe.FileIndex.length;++Re)if(Je=xe.FileIndex[Re],Je.size>=4096)if(Ne.l=Je.start+1<<9,on&&Buffer.isBuffer(Je.content))Je.content.copy(Ne,Ne.l,0,Je.size),Ne.l+=Je.size+511&-512;else{for($e=0;$e<Je.size;++$e)Ne.write_shift(1,Je.content[$e]);for(;$e&511;++$e)Ne.write_shift(1,0)}for(Re=1;Re<xe.FileIndex.length;++Re)if(Je=xe.FileIndex[Re],Je.size>0&&Je.size<4096)if(on&&Buffer.isBuffer(Je.content))Je.content.copy(Ne,Ne.l,0,Je.size),Ne.l+=Je.size+63&-64;else{for($e=0;$e<Je.size;++$e)Ne.write_shift(1,Je.content[$e]);for(;$e&63;++$e)Ne.write_shift(1,0)}if(on)Ne.l=Ne.length;else for(;Ne.l<Ne.length;)Ne.write_shift(1,0);return Ne}function P(xe,ke){var Se=xe.FullPaths.map(function($e){return $e.toUpperCase()}),Ae=Se.map(function($e){var Xe=$e.split("/");return Xe[Xe.length-($e.slice(-1)=="/"?2:1)]}),Ne=!1;ke.charCodeAt(0)===47?(Ne=!0,ke=Se[0].slice(0,-1)+ke):Ne=ke.indexOf("/")!==-1;var Re=ke.toUpperCase(),We=Ne===!0?Se.indexOf(Re):Ae.indexOf(Re);if(We!==-1)return xe.FileIndex[We];var Ze=!Re.match(g0);for(Re=Re.replace(Us,""),Ze&&(Re=Re.replace(g0,"!")),We=0;We<Se.length;++We)if((Ze?Se[We].replace(g0,"!"):Se[We]).replace(Us,"")==Re||(Ze?Ae[We].replace(g0,"!"):Ae[We]).replace(Us,"")==Re)return xe.FileIndex[We];return null}var k=64,U=-2,O="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",Y={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:O,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(xe,ke,Se){c();var Ae=F(xe,Se);l.writeFileSync(ke,Ae)}function z(xe){for(var ke=new Array(xe.length),Se=0;Se<xe.length;++Se)ke[Se]=String.fromCharCode(xe[Se]);return ke.join("")}function K(xe,ke){var Se=F(xe,ke);switch(ke&&ke.type||"buffer"){case"file":return c(),l.writeFileSync(ke.filename,Se),Se;case"binary":return typeof Se=="string"?Se:z(Se);case"base64":return Uy(typeof Se=="string"?Se:z(Se));case"buffer":if(on)return Buffer.isBuffer(Se)?Se:Ac(Se);case"array":return typeof Se=="string"?ba(Se):Se}return Se}var B;function j(xe){try{var ke=xe.InflateRaw,Se=new ke;if(Se._processChunk(new Uint8Array([3,0]),Se._finishFlushFlag),Se.bytesRead)B=xe;else throw new Error("zlib does not expose bytesRead")}catch(Ae){console.error("cannot use native zlib: "+(Ae.message||Ae))}}function W(xe,ke){if(!B)return nr(xe,ke);var Se=B.InflateRaw,Ae=new Se,Ne=Ae._processChunk(xe.slice(xe.l),Ae._finishFlushFlag);return xe.l+=Ae.bytesRead,Ne}function H(xe){return B?B.deflateRawSync(xe):Oe(xe)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(xe){var ke=(xe<<1|xe<<11)&139536|(xe<<5|xe<<15)&558144;return(ke>>16|ke>>8|ke)&255}for(var ue=typeof Uint8Array<"u",Ee=ue?new Uint8Array(256):[],Ie=0;Ie<256;++Ie)Ee[Ie]=ce(Ie);function fe(xe,ke){var Se=Ee[xe&255];return ke<=8?Se>>>8-ke:(Se=Se<<8|Ee[xe>>8&255],ke<=16?Se>>>16-ke:(Se=Se<<8|Ee[xe>>16&255],Se>>>24-ke))}function Le(xe,ke){var Se=ke&7,Ae=ke>>>3;return(xe[Ae]|(Se<=6?0:xe[Ae+1]<<8))>>>Se&3}function V(xe,ke){var Se=ke&7,Ae=ke>>>3;return(xe[Ae]|(Se<=5?0:xe[Ae+1]<<8))>>>Se&7}function ye(xe,ke){var Se=ke&7,Ae=ke>>>3;return(xe[Ae]|(Se<=4?0:xe[Ae+1]<<8))>>>Se&15}function be(xe,ke){var Se=ke&7,Ae=ke>>>3;return(xe[Ae]|(Se<=3?0:xe[Ae+1]<<8))>>>Se&31}function oe(xe,ke){var Se=ke&7,Ae=ke>>>3;return(xe[Ae]|(Se<=1?0:xe[Ae+1]<<8))>>>Se&127}function re(xe,ke,Se){var Ae=ke&7,Ne=ke>>>3,Re=(1<<Se)-1,We=xe[Ne]>>>Ae;return Se<8-Ae||(We|=xe[Ne+1]<<8-Ae,Se<16-Ae)||(We|=xe[Ne+2]<<16-Ae,Se<24-Ae)||(We|=xe[Ne+3]<<24-Ae),We&Re}function le(xe,ke,Se){var Ae=ke&7,Ne=ke>>>3;return Ae<=5?xe[Ne]|=(Se&7)<<Ae:(xe[Ne]|=Se<<Ae&255,xe[Ne+1]=(Se&7)>>8-Ae),ke+3}function he(xe,ke,Se){var Ae=ke&7,Ne=ke>>>3;return Se=(Se&1)<<Ae,xe[Ne]|=Se,ke+1}function _e(xe,ke,Se){var Ae=ke&7,Ne=ke>>>3;return Se<<=Ae,xe[Ne]|=Se&255,Se>>>=8,xe[Ne+1]=Se,ke+8}function ie(xe,ke,Se){var Ae=ke&7,Ne=ke>>>3;return Se<<=Ae,xe[Ne]|=Se&255,Se>>>=8,xe[Ne+1]=Se&255,xe[Ne+2]=Se>>>8,ke+16}function de(xe,ke){var Se=xe.length,Ae=2*Se>ke?2*Se:ke+5,Ne=0;if(Se>=ke)return xe;if(on){var Re=O9(Ae);if(xe.copy)xe.copy(Re);else for(;Ne<xe.length;++Ne)Re[Ne]=xe[Ne];return Re}else if(ue){var We=new Uint8Array(Ae);if(We.set)We.set(xe);else for(;Ne<Se;++Ne)We[Ne]=xe[Ne];return We}return xe.length=Ae,xe}function me(xe){for(var ke=new Array(xe),Se=0;Se<xe;++Se)ke[Se]=0;return ke}function ve(xe,ke,Se){var Ae=1,Ne=0,Re=0,We=0,Ze=0,$e=xe.length,Xe=ue?new Uint16Array(32):me(32);for(Re=0;Re<32;++Re)Xe[Re]=0;for(Re=$e;Re<Se;++Re)xe[Re]=0;$e=xe.length;var Je=ue?new Uint16Array($e):me($e);for(Re=0;Re<$e;++Re)Xe[Ne=xe[Re]]++,Ae<Ne&&(Ae=Ne),Je[Re]=0;for(Xe[0]=0,Re=1;Re<=Ae;++Re)Xe[Re+16]=Ze=Ze+Xe[Re-1]<<1;for(Re=0;Re<$e;++Re)Ze=xe[Re],Ze!=0&&(Je[Re]=Xe[Ze+16]++);var ut=0;for(Re=0;Re<$e;++Re)if(ut=xe[Re],ut!=0)for(Ze=fe(Je[Re],Ae)>>Ae-ut,We=(1<<Ae+4-ut)-1;We>=0;--We)ke[Ze|We<<ut]=ut&15|Re<<4;return Ae}var De=ue?new Uint16Array(512):me(512),Ue=ue?new Uint16Array(32):me(32);if(!ue){for(var Te=0;Te<512;++Te)De[Te]=0;for(Te=0;Te<32;++Te)Ue[Te]=0}(function(){for(var xe=[],ke=0;ke<32;ke++)xe.push(5);ve(xe,Ue,32);var Se=[];for(ke=0;ke<=143;ke++)Se.push(8);for(;ke<=255;ke++)Se.push(9);for(;ke<=279;ke++)Se.push(7);for(;ke<=287;ke++)Se.push(8);ve(Se,De,288)})();var Me=(function(){for(var ke=ue?new Uint8Array(32768):[],Se=0,Ae=0;Se<se.length-1;++Se)for(;Ae<se[Se+1];++Ae)ke[Ae]=Se;for(;Ae<32768;++Ae)ke[Ae]=29;var Ne=ue?new Uint8Array(259):[];for(Se=0,Ae=0;Se<Z.length-1;++Se)for(;Ae<Z[Se+1];++Ae)Ne[Ae]=Se;function Re(Ze,$e){for(var Xe=0;Xe<Ze.length;){var Je=Math.min(65535,Ze.length-Xe),ut=Xe+Je==Ze.length;for($e.write_shift(1,+ut),$e.write_shift(2,Je),$e.write_shift(2,~Je&65535);Je-- >0;)$e[$e.l++]=Ze[Xe++]}return $e.l}function We(Ze,$e){for(var Xe=0,Je=0,ut=ue?new Uint16Array(32768):[];Je<Ze.length;){var vt=Math.min(65535,Ze.length-Je);if(vt<10){for(Xe=le($e,Xe,+(Je+vt==Ze.length)),Xe&7&&(Xe+=8-(Xe&7)),$e.l=Xe/8|0,$e.write_shift(2,vt),$e.write_shift(2,~vt&65535);vt-- >0;)$e[$e.l++]=Ze[Je++];Xe=$e.l*8;continue}Xe=le($e,Xe,+(Je+vt==Ze.length)+2);for(var Tt=0;vt-- >0;){var pt=Ze[Je];Tt=(Tt<<5^pt)&32767;var dt=-1,Gt=0;if((dt=ut[Tt])&&(dt|=Je&-32768,dt>Je&&(dt-=32768),dt<Je))for(;Ze[dt+Gt]==Ze[Je+Gt]&&Gt<250;)++Gt;if(Gt>2){pt=Ne[Gt],pt<=22?Xe=_e($e,Xe,Ee[pt+1]>>1)-1:(_e($e,Xe,3),Xe+=5,_e($e,Xe,Ee[pt-23]>>5),Xe+=3);var kn=pt<8?0:pt-4>>2;kn>0&&(ie($e,Xe,Gt-Z[pt]),Xe+=kn),pt=ke[Je-dt],Xe=_e($e,Xe,Ee[pt]>>3),Xe-=3;var Tn=pt<4?0:pt-2>>1;Tn>0&&(ie($e,Xe,Je-dt-se[pt]),Xe+=Tn);for(var Mn=0;Mn<Gt;++Mn)ut[Tt]=Je&32767,Tt=(Tt<<5^Ze[Je])&32767,++Je;vt-=Gt-1}else pt<=143?pt=pt+48:Xe=he($e,Xe,1),Xe=_e($e,Xe,Ee[pt]),ut[Tt]=Je&32767,++Je}Xe=_e($e,Xe,0)-1}return $e.l=(Xe+7)/8|0,$e.l}return function($e,Xe){return $e.length<8?Re($e,Xe):We($e,Xe)}})();function Oe(xe){var ke=tt(50+Math.floor(xe.length*1.1)),Se=Me(xe,ke);return ke.slice(0,Se)}var Ge=ue?new Uint16Array(32768):me(32768),nt=ue?new Uint16Array(32768):me(32768),st=ue?new Uint16Array(128):me(128),Ot=1,wn=1;function hn(xe,ke){var Se=be(xe,ke)+257;ke+=5;var Ae=be(xe,ke)+1;ke+=5;var Ne=ye(xe,ke)+4;ke+=4;for(var Re=0,We=ue?new Uint8Array(19):me(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,Xe=ue?new Uint8Array(8):me(8),Je=ue?new Uint8Array(8):me(8),ut=We.length,vt=0;vt<Ne;++vt)We[Q[vt]]=Re=V(xe,ke),$e<Re&&($e=Re),Xe[Re]++,ke+=3;var Tt=0;for(Xe[0]=0,vt=1;vt<=$e;++vt)Je[vt]=Tt=Tt+Xe[vt-1]<<1;for(vt=0;vt<ut;++vt)(Tt=We[vt])!=0&&(Ze[vt]=Je[Tt]++);var pt=0;for(vt=0;vt<ut;++vt)if(pt=We[vt],pt!=0){Tt=Ee[Ze[vt]]>>8-pt;for(var dt=(1<<7-pt)-1;dt>=0;--dt)st[Tt|dt<<pt]=pt&7|vt<<3}var Gt=[];for($e=1;Gt.length<Se+Ae;)switch(Tt=st[oe(xe,ke)],ke+=Tt&7,Tt>>>=3){case 16:for(Re=3+Le(xe,ke),ke+=2,Tt=Gt[Gt.length-1];Re-- >0;)Gt.push(Tt);break;case 17:for(Re=3+V(xe,ke),ke+=3;Re-- >0;)Gt.push(0);break;case 18:for(Re=11+oe(xe,ke),ke+=7;Re-- >0;)Gt.push(0);break;default:Gt.push(Tt),$e<Tt&&($e=Tt);break}var kn=Gt.slice(0,Se),Tn=Gt.slice(Se);for(vt=Se;vt<286;++vt)kn[vt]=0;for(vt=Ae;vt<30;++vt)Tn[vt]=0;return Ot=ve(kn,Ge,286),wn=ve(Tn,nt,30),ke}function zr(xe,ke){if(xe[0]==3&&!(xe[1]&3))return[Hu(ke),2];for(var Se=0,Ae=0,Ne=O9(ke||1<<18),Re=0,We=Ne.length>>>0,Ze=0,$e=0;(Ae&1)==0;){if(Ae=V(xe,Se),Se+=3,Ae>>>1)Ae>>1==1?(Ze=9,$e=5):(Se=hn(xe,Se),Ze=Ot,$e=wn);else{Se&7&&(Se+=8-(Se&7));var Xe=xe[Se>>>3]|xe[(Se>>>3)+1]<<8;if(Se+=32,Xe>0)for(!ke&&We<Re+Xe&&(Ne=de(Ne,Re+Xe),We=Ne.length);Xe-- >0;)Ne[Re++]=xe[Se>>>3],Se+=8;continue}for(;;){!ke&&We<Re+32767&&(Ne=de(Ne,Re+32767),We=Ne.length);var Je=re(xe,Se,Ze),ut=Ae>>>1==1?De[Je]:Ge[Je];if(Se+=ut&15,ut>>>=4,(ut>>>8&255)===0)Ne[Re++]=ut;else{if(ut==256)break;ut-=257;var vt=ut<8?0:ut-4>>2;vt>5&&(vt=0);var Tt=Re+Z[ut];vt>0&&(Tt+=re(xe,Se,vt),Se+=vt),Je=re(xe,Se,$e),ut=Ae>>>1==1?Ue[Je]:nt[Je],Se+=ut&15,ut>>>=4;var pt=ut<4?0:ut-2>>1,dt=se[ut];for(pt>0&&(dt+=re(xe,Se,pt),Se+=pt),!ke&&We<Tt&&(Ne=de(Ne,Tt+100),We=Ne.length);Re<Tt;)Ne[Re]=Ne[Re-dt],++Re}}}return ke?[Ne,Se+7>>>3]:[Ne.slice(0,Re),Se+7>>>3]}function nr(xe,ke){var Se=xe.slice(xe.l||0),Ae=zr(Se,ke);return xe.l+=Ae[1],Ae[0]}function rr(xe,ke){if(xe)typeof console<"u"&&console.error(ke);else throw new Error(ke)}function wr(xe,ke){var Se=xe;Hi(Se,0);var Ae=[],Ne=[],Re={FileIndex:Ae,FullPaths:Ne};D(Re,{root:ke.root});for(var We=Se.length-4;(Se[We]!=80||Se[We+1]!=75||Se[We+2]!=5||Se[We+3]!=6)&&We>=0;)--We;Se.l=We+4,Se.l+=4;var Ze=Se.read_shift(2);Se.l+=6;var $e=Se.read_shift(4);for(Se.l=$e,We=0;We<Ze;++We){Se.l+=20;var Xe=Se.read_shift(4),Je=Se.read_shift(4),ut=Se.read_shift(2),vt=Se.read_shift(2),Tt=Se.read_shift(2);Se.l+=8;var pt=Se.read_shift(4),dt=o(Se.slice(Se.l+ut,Se.l+ut+vt));Se.l+=ut+vt+Tt;var Gt=Se.l;Se.l=pt+4,Qt(Se,Xe,Je,Re,dt),Se.l=Gt}return Re}function Qt(xe,ke,Se,Ae,Ne){xe.l+=2;var Re=xe.read_shift(2),We=xe.read_shift(2),Ze=a(xe);if(Re&8257)throw new Error("Unsupported ZIP encryption");for(var $e=xe.read_shift(4),Xe=xe.read_shift(4),Je=xe.read_shift(4),ut=xe.read_shift(2),vt=xe.read_shift(2),Tt="",pt=0;pt<ut;++pt)Tt+=String.fromCharCode(xe[xe.l++]);if(vt){var dt=o(xe.slice(xe.l,xe.l+vt));(dt[21589]||{}).mt&&(Ze=dt[21589].mt),((Ne||{})[21589]||{}).mt&&(Ze=Ne[21589].mt)}xe.l+=vt;var Gt=xe.slice(xe.l,xe.l+Xe);switch(We){case 8:Gt=W(xe,Je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+We)}var kn=!1;Re&8&&($e=xe.read_shift(4),$e==134695760&&($e=xe.read_shift(4),kn=!0),Xe=xe.read_shift(4),Je=xe.read_shift(4)),Xe!=ke&&rr(kn,"Bad compressed size: "+ke+" != "+Xe),Je!=Se&&rr(kn,"Bad uncompressed size: "+Se+" != "+Je),$n(Ae,Tt,Gt,{unsafe:!0,mt:Ze})}function Nn(xe,ke){var Se=ke||{},Ae=[],Ne=[],Re=tt(1),We=Se.compression?8:0,Ze=0,$e=0,Xe=0,Je=0,ut=0,vt=xe.FullPaths[0],Tt=vt,pt=xe.FileIndex[0],dt=[],Gt=0;for($e=1;$e<xe.FullPaths.length;++$e)if(Tt=xe.FullPaths[$e].slice(vt.length),pt=xe.FileIndex[$e],!(!pt.size||!pt.content||Tt=="Sh33tJ5")){var kn=Je,Tn=tt(Tt.length);for(Xe=0;Xe<Tt.length;++Xe)Tn.write_shift(1,Tt.charCodeAt(Xe)&127);Tn=Tn.slice(0,Tn.l),dt[ut]=wDe.buf(pt.content,0);var Mn=pt.content;We==8&&(Mn=H(Mn)),Re=tt(30),Re.write_shift(4,67324752),Re.write_shift(2,20),Re.write_shift(2,Ze),Re.write_shift(2,We),pt.mt?s(Re,pt.mt):Re.write_shift(4,0),Re.write_shift(-4,dt[ut]),Re.write_shift(4,Mn.length),Re.write_shift(4,pt.content.length),Re.write_shift(2,Tn.length),Re.write_shift(2,0),Je+=Re.length,Ae.push(Re),Je+=Tn.length,Ae.push(Tn),Je+=Mn.length,Ae.push(Mn),Re=tt(46),Re.write_shift(4,33639248),Re.write_shift(2,0),Re.write_shift(2,20),Re.write_shift(2,Ze),Re.write_shift(2,We),Re.write_shift(4,0),Re.write_shift(-4,dt[ut]),Re.write_shift(4,Mn.length),Re.write_shift(4,pt.content.length),Re.write_shift(2,Tn.length),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(4,0),Re.write_shift(4,kn),Gt+=Re.l,Ne.push(Re),Gt+=Tn.length,Ne.push(Tn),++ut}return Re=tt(22),Re.write_shift(4,101010256),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,ut),Re.write_shift(2,ut),Re.write_shift(4,Gt),Re.write_shift(4,Je),Re.write_shift(2,0),Pi([Pi(Ae),Pi(Ne),Re])}var pe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function we(xe,ke){if(xe.ctype)return xe.ctype;var Se=xe.name||"",Ae=Se.match(/\.([^\.]+)$/);return Ae&&pe[Ae[1]]||ke&&(Ae=(Se=ke).match(/[\.\\]([^\.\\])+$/),Ae&&pe[Ae[1]])?pe[Ae[1]]:"application/octet-stream"}function Fe(xe){for(var ke=Uy(xe),Se=[],Ae=0;Ae<ke.length;Ae+=76)Se.push(ke.slice(Ae,Ae+76));return Se.join(`\r
`)+`\r
`}function He(xe){var ke=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Xe){var Je=Xe.charCodeAt(0).toString(16).toUpperCase();return"="+(Je.length==1?"0"+Je:Je)});ke=ke.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ke.charAt(0)==`
`&&(ke="=0D"+ke.slice(1)),ke=ke.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Se=[],Ae=ke.split(`\r
`),Ne=0;Ne<Ae.length;++Ne){var Re=Ae[Ne];if(Re.length==0){Se.push("");continue}for(var We=0;We<Re.length;){var Ze=76,$e=Re.slice(We,We+Ze);$e.charAt(Ze-1)=="="?Ze--:$e.charAt(Ze-2)=="="?Ze-=2:$e.charAt(Ze-3)=="="&&(Ze-=3),$e=Re.slice(We,We+Ze),We+=Ze,We<Re.length&&($e+="="),Se.push($e)}}return Se.join(`\r
`)}function rt(xe){for(var ke=[],Se=0;Se<xe.length;++Se){for(var Ae=xe[Se];Se<=xe.length&&Ae.charAt(Ae.length-1)=="=";)Ae=Ae.slice(0,Ae.length-1)+xe[++Se];ke.push(Ae)}for(var Ne=0;Ne<ke.length;++Ne)ke[Ne]=ke[Ne].replace(/[=][0-9A-Fa-f]{2}/g,function(Re){return String.fromCharCode(parseInt(Re.slice(1),16))});return ba(ke.join(`\r
`))}function kt(xe,ke,Se){for(var Ae="",Ne="",Re="",We,Ze=0;Ze<10;++Ze){var $e=ke[Ze];if(!$e||$e.match(/^\s*$/))break;var Xe=$e.match(/^(.*?):\s*([^\s].*)$/);if(Xe)switch(Xe[1].toLowerCase()){case"content-location":Ae=Xe[2].trim();break;case"content-type":Re=Xe[2].trim();break;case"content-transfer-encoding":Ne=Xe[2].trim();break}}switch(++Ze,Ne.toLowerCase()){case"base64":We=ba(Na(ke.slice(Ze).join("")));break;case"quoted-printable":We=rt(ke.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ne)}var Je=$n(xe,Ae.slice(Se.length),We,{unsafe:!0});Re&&(Je.ctype=Re)}function ln(xe,ke){if(z(xe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Se=ke&&ke.root||"",Ae=(on&&Buffer.isBuffer(xe)?xe.toString("binary"):z(xe)).split(`\r
`),Ne=0,Re="";for(Ne=0;Ne<Ae.length;++Ne)if(Re=Ae[Ne],!!/^Content-Location:/i.test(Re)&&(Re=Re.slice(Re.indexOf("file")),Se||(Se=Re.slice(0,Re.lastIndexOf("/")+1)),Re.slice(0,Se.length)!=Se))for(;Se.length>0&&(Se=Se.slice(0,Se.length-1),Se=Se.slice(0,Se.lastIndexOf("/")+1),Re.slice(0,Se.length)!=Se););var We=(Ae[1]||"").match(/boundary="(.*?)"/);if(!We)throw new Error("MAD cannot find boundary");var Ze="--"+(We[1]||""),$e=[],Xe=[],Je={FileIndex:$e,FullPaths:Xe};D(Je);var ut,vt=0;for(Ne=0;Ne<Ae.length;++Ne){var Tt=Ae[Ne];Tt!==Ze&&Tt!==Ze+"--"||(vt++&&kt(Je,Ae.slice(ut,Ne),Se),ut=Ne)}return Je}function nn(xe,ke){var Se=ke||{},Ae=Se.boundary||"SheetJS";Ae="------="+Ae;for(var Ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ae.slice(2)+'"',"","",""],Re=xe.FullPaths[0],We=Re,Ze=xe.FileIndex[0],$e=1;$e<xe.FullPaths.length;++$e)if(We=xe.FullPaths[$e].slice(Re.length),Ze=xe.FileIndex[$e],!(!Ze.size||!Ze.content||We=="Sh33tJ5")){We=We.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Gt){return"_x"+Gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Gt){return"_u"+Gt.charCodeAt(0).toString(16)+"_"});for(var Xe=Ze.content,Je=on&&Buffer.isBuffer(Xe)?Xe.toString("binary"):z(Xe),ut=0,vt=Math.min(1024,Je.length),Tt=0,pt=0;pt<=vt;++pt)(Tt=Je.charCodeAt(pt))>=32&&Tt<128&&++ut;var dt=ut>=vt*4/5;Ne.push(Ae),Ne.push("Content-Location: "+(Se.root||"file:///C:/SheetJS/")+We),Ne.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),Ne.push("Content-Type: "+we(Ze,We)),Ne.push(""),Ne.push(dt?He(Je):Fe(Je))}return Ne.push(Ae+`--\r
`),Ne.join(`\r
`)}function Rr(xe){var ke={};return D(ke,xe),ke}function $n(xe,ke,Se,Ae){var Ne=Ae&&Ae.unsafe;Ne||D(xe);var Re=!Ne&&Lt.find(xe,ke);if(!Re){var We=xe.FullPaths[0];ke.slice(0,We.length)==We?We=ke:(We.slice(-1)!="/"&&(We+="/"),We=(We+ke).replace("//","/")),Re={name:i(ke),type:2},xe.FileIndex.push(Re),xe.FullPaths.push(We),Ne||Lt.utils.cfb_gc(xe)}return Re.content=Se,Re.size=Se?Se.length:0,Ae&&(Ae.CLSID&&(Re.clsid=Ae.CLSID),Ae.mt&&(Re.mt=Ae.mt),Ae.ct&&(Re.ct=Ae.ct)),Re}function ui(xe,ke){D(xe);var Se=Lt.find(xe,ke);if(Se){for(var Ae=0;Ae<xe.FileIndex.length;++Ae)if(xe.FileIndex[Ae]==Se)return xe.FileIndex.splice(Ae,1),xe.FullPaths.splice(Ae,1),!0}return!1}function Oi(xe,ke,Se){D(xe);var Ae=Lt.find(xe,ke);if(Ae){for(var Ne=0;Ne<xe.FileIndex.length;++Ne)if(xe.FileIndex[Ne]==Ae)return xe.FileIndex[Ne].name=i(Se),xe.FullPaths[Ne]=Se,!0}return!1}function Yi(xe){I(xe,!0)}return e.find=P,e.read=R,e.parse=u,e.write=K,e.writeFile=ne,e.utils={cfb_new:Rr,cfb_add:$n,cfb_del:ui,cfb_mov:Oi,cfb_gc:Yi,ReadShift:W0,CheckField:NK,prep_blob:Hi,bconcat:Pi,use_zlib:j,_deflateRaw:Oe,_inflateRaw:nr,consts:Y},e})();function TDe(t){return typeof t=="string"?Ew(t):Array.isArray(t)?XSe(t):t}function Bv(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Ew(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?gl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([TDe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=sd(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function EDe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Br(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function H9(t,e){for(var n=[],r=Br(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Sw(t){for(var e=[],n=Br(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Dw(t){for(var e=[],n=Br(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function CDe(t){for(var e=[],n=Br(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var j_=new Date(1899,11,30,0,0,0);function vi(t,e){var n=t.getTime(),r=j_.getTime()+(t.getTimezoneOffset()-j_.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var lK=new Date,SDe=j_.getTime()+(lK.getTimezoneOffset()-j_.getTimezoneOffset())*6e4,$9=lK.getTimezoneOffset();function Aw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+SDe),e.getTimezoneOffset()!==$9&&e.setTime(e.getTime()+(e.getTimezoneOffset()-$9)*6e4),e}function DDe(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var G9=new Date("2017-02-19T19:06:09.000Z"),cK=isNaN(G9.getFullYear())?new Date("2/19/17"):G9,ADe=cK.getFullYear()==2017;function fr(t,e){var n=new Date(t);if(ADe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(cK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Mf(t,e){if(on&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return gl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return gl(JG(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return gl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return gl(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function hr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=hr(t[n]));return e}function Mr(t,e){for(var n="";n.length<e;)n+=t;return n}function Uo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var NDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function pm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&NDe.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var kDe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function uK(t){return t?t.content&&t.type?Mf(t.content,!0):t.data?m0(t.data):t.asNodeBuffer&&on?m0(t.asNodeBuffer().toString("binary")):t.asBinary?m0(t.asBinary()):t._data&&t._data.getContent?m0(Mf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function dK(t){if(!t)return null;if(t.data)return M9(t.data);if(t.asNodeBuffer&&on)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?M9(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function IDe(t){return t&&t.name.slice(-4)===".bin"?dK(t):uK(t)}function $a(t,e){for(var n=t.FullPaths||Br(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function b3(t,e){var n=$a(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function si(t,e,n){if(!n)return IDe(b3(t,e));if(!e)return null;try{return si(t,e)}catch{return null}}function wa(t,e,n){if(!n)return uK(b3(t,e));if(!e)return null;try{return wa(t,e)}catch{return null}}function RDe(t,e,n){return dK(b3(t,e))}function K9(t){for(var e=t.FullPaths||Br(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function rn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return on?r=Ac(n):r=JSe(n),Lt.utils.cfb_add(t,e,r)}Lt.utils.cfb_add(t,e,n)}else t.file(e,n)}function w3(){return Lt.utils.cfb_new()}function fK(t,e){switch(e.type){case"base64":return Lt.read(t,{type:"base64"});case"binary":return Lt.read(t,{type:"binary"});case"buffer":case"array":return Lt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function y0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var Zr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,PDe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,X9=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,FDe=/<[^>]*>/g,Ts=Zr.match(X9)?X9:FDe,MDe=/<\w*:/,UDe=/<(\/?)\w+:/;function Kt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match(PDe),o=0,l="",c=0,u="",f="",h=1;if(a)for(c=0;c!=a.length;++c){for(f=a[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(r[p]&&u.slice(o-3,o)=="ext")continue;r[p]=l,r[p.toLowerCase()]=l}}return r}function Il(t){return t.replace(UDe,"<$1")}var hK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},T3=Sw(hK),_n=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return hK[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),E3=/[&<>'"]/g,ODe=/[\u0000-\u0008\u000b-\u001f]/g;function Vn(t){var e=t+"";return e.replace(E3,function(n){return T3[n]}).replace(ODe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function J9(t){return Vn(t).replace(/ /g,"_x0020_")}var pK=/[\u0000-\u001f]/g;function C3(t){var e=t+"";return e.replace(E3,function(n){return T3[n]}).replace(/\n/g,"<br/>").replace(pK,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function LDe(t){var e=t+"";return e.replace(E3,function(n){return T3[n]}).replace(pK,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var Y9=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function jDe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function lr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function tD(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Q9(t){var e=Hu(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function Z9(t){return Ac(t,"binary").toString("utf8")}var k1="foo bar baz",Hn=on&&(Z9(k1)==tD(k1)&&Z9||Q9(k1)==tD(k1)&&Q9)||tD,gl=on?function(t){return Ac(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Ly=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),mK=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),BDe=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),VDe=/<\/?(?:vt:)?variant>/g,WDe=/<(?:vt:)([^>]*)>([\s\S]*)</;function e7(t,e){var n=Kt(t),r=t.match(BDe(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(VDe,"").match(WDe);a&&i.push({v:Hn(a[2]),t:a[1]})}),i}var gK=/(^\s|\s$|\n)/;function Gi(t,e){return"<"+t+(e.match(gK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function jy(t){return Br(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function yt(t,e,n){return"<"+t+(n!=null?jy(n):"")+(e!=null?(e.match(gK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Z4(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function qDe(t,e){switch(typeof t){case"string":var n=yt("vt:lpwstr",Vn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return yt((t|0)==t?"vt:i4":"vt:r8",Vn(String(t)));case"boolean":return yt("vt:bool",t?"true":"false")}if(t instanceof Date)return yt("vt:filetime",Z4(t));throw new Error("Unable to serialize "+t)}function S3(t){if(on&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Hn(sd(v3(t)));throw new Error("Bad input format: expected Buffer or string")}var By=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,gi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},th=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function zDe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function HDe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var t7=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},n7=on?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ac(e)})):t7(t)}:t7,r7=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(ec(t,i)));return r.join("").replace(Us,"")},D3=on?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Us,""):r7(t,e,n)}:r7,i7=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},yK=on?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):i7(t,e,n)}:i7,s7=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(fp(t,i)));return r.join("")},Vv=on?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):s7(e,n,r)}:s7,vK=function(t,e){var n=_a(t,e);return n>0?Vv(t,e+4,e+4+n-1):""},xK=vK,_K=function(t,e){var n=_a(t,e);return n>0?Vv(t,e+4,e+4+n-1):""},bK=_K,wK=function(t,e){var n=2*_a(t,e);return n>0?Vv(t,e+4,e+4+n-1):""},TK=wK,EK=function(e,n){var r=_a(e,n);return r>0?D3(e,n+4,n+4+r):""},CK=EK,SK=function(t,e){var n=_a(t,e);return n>0?Vv(t,e+4,e+4+n):""},DK=SK,AK=function(t,e){return zDe(t,e)},B_=AK,A3=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};on&&(xK=function(e,n){if(!Buffer.isBuffer(e))return vK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},bK=function(e,n){if(!Buffer.isBuffer(e))return _K(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},TK=function(e,n){if(!Buffer.isBuffer(e))return wK(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},CK=function(e,n){if(!Buffer.isBuffer(e))return EK(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},DK=function(e,n){if(!Buffer.isBuffer(e))return SK(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},B_=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):AK(e,n)},A3=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var fp=function(t,e){return t[e]},ec=function(t,e){return t[e+1]*256+t[e]},$De=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},_a=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Kd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},GDe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function W0(t,e){var n="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,on&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(ec(this,c)),c+=2;t*=2;break;case"utf8":n=Vv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=D3(this,this.l,this.l+t);break;case"wstr":return W0.call(this,t,"dbcs");case"lpstr-ansi":n=xK(this,this.l),t=4+_a(this,this.l);break;case"lpstr-cp":n=bK(this,this.l),t=4+_a(this,this.l);break;case"lpwstr":n=TK(this,this.l),t=4+2*_a(this,this.l);break;case"lpp4":t=4+_a(this,this.l),n=CK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+_a(this,this.l),n=DK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=fp(this,this.l+t++))!==0;)s.push(N1(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=ec(this,this.l+t))!==0;)s.push(N1(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=fp(this,c),this.l=c+1,o=W0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(N1(ec(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=fp(this,c),this.l=c+1,o=W0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(N1(fp(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=fp(this,this.l),this.l++,r;case 2:return r=(e==="i"?$De:ec)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Kd:GDe)(this,this.l),this.l+=4,r):(i=_a(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=B_(this,this.l):i=B_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=yK(this,this.l,t);break}}return this.l+=t,n}var KDe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},XDe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},JDe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function YDe(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)JDe(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,KDe(this,e,this.l);break;case 8:if(r=8,n==="f"){HDe(this,e,this.l);break}case 16:break;case-4:r=4,XDe(this,e,this.l);break}return this.l+=r,this}function NK(t,e){var n=yK(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Hi(t,e){t.l=e,t.read_shift=W0,t.chk=NK,t.write_shift=YDe}function _s(t,e){t.l+=e}function tt(t){var e=Hu(t);return Hi(e,0),e}function Nc(t,e,n){if(t){var r,i,s;Hi(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=$y[o]||$y[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,n);if(t.l=l,e(u,c,o))return}}}function ia(){var t=[],e=on?256:2048,n=function(c){var u=tt(c);return Hi(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},a=function(){return i(),Pi(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function at(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=$y[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&A3(n)&&t.push(n)}}function q0(t,e,n){var r=hr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function a7(t,e,n){var r=hr(t);return r.s=q0(r.s,e.s,n),r.e=q0(r.e,e.s,n),r}function z0(t,e){if(t.cRel&&t.c<0)for(t=hr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=hr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=$t(t);return!t.cRel&&t.cRel!=null&&(n=eAe(n)),!t.rRel&&t.rRel!=null&&(n=QDe(n)),n}function nD(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Sr(t.s.c)+":"+(t.e.cRel?"":"$")+Sr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Yr(t.s.r)+":"+(t.e.rRel?"":"$")+Yr(t.e.r):z0(t.s,e.biff)+":"+z0(t.e,e.biff)}function N3(t){return parseInt(ZDe(t),10)-1}function Yr(t){return""+(t+1)}function QDe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ZDe(t){return t.replace(/\$(\d+)$/,"$1")}function k3(t){for(var e=tAe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Sr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function eAe(t){return t.replace(/^([A-Z])/,"$$$1")}function tAe(t){return t.replace(/^\$([A-Z])/,"$1")}function nAe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Dr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function $t(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function sa(t){var e=t.indexOf(":");return e==-1?{s:Dr(t),e:Dr(t)}:{s:Dr(t.slice(0,e)),e:Dr(t.slice(e+1))}}function tn(t,e){return typeof e>"u"||typeof e=="number"?tn(t.s,t.e):(typeof t!="string"&&(t=$t(t)),typeof e!="string"&&(e=$t(e)),t==e?t:t+":"+e)}function bn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function o7(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=so(t.z,n?vi(e):e)}catch{}try{return t.w=so((t.XF||{}).numFmtId||(n?14:0),n?vi(e):e)}catch{return""+e}}function yc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?kc[t.v]||t.v:e==null?o7(t,t.v):o7(t,e))}function ad(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function kK(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Dr(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=bn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var p={v:e[f][h]},v=a+f,g=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))p=e[f][h];else if(Array.isArray(p.v)&&(p.f=e[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||Wt[14],r.cellDates?(p.t="d",p.w=so(p.z,vi(p.v))):(p.t="n",p.v=vi(p.v),p.w=so(p.z,p.v))):p.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(p.z=s[v][g].z),s[v][g]=p;else{var y=$t({c:g,r:v});s[y]&&s[y].z&&(p.z=s[y].z),s[y]=p}}}return c.s.c<1e7&&(s["!ref"]=tn(c)),s}function Xm(t,e){return kK(null,t,e)}function rAe(t){return t.read_shift(4,"i")}function Oo(t,e){return e||(e=tt(4)),e.write_shift(4,t),e}function xs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Fi(t,e){var n=!1;return e==null&&(n=!0,e=tt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function iAe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function sAe(t,e){return e||(e=tt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function I3(t,e){var n=t.l,r=t.read_shift(1),i=xs(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(iAe(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function aAe(t,e){var n=!1;return e==null&&(n=!0,e=tt(15+4*t.t.length)),e.write_shift(1,0),Fi(t.t,e),n?e.slice(0,e.l):e}var oAe=I3;function lAe(t,e){var n=!1;return e==null&&(n=!0,e=tt(23+4*t.t.length)),e.write_shift(1,1),Fi(t.t,e),e.write_shift(4,1),sAe({},e),n?e.slice(0,e.l):e}function lo(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function nh(t,e){return e==null&&(e=tt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function rh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ih(t,e){return e==null&&(e=tt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var cAe=xs,IK=Fi;function R3(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function V_(t,e){var n=!1;return e==null&&(n=!0,e=tt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var uAe=xs,eN=R3,P3=V_;function F3(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?B_([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Kd(e,0)>>2;return n?i/100:i}function RK(t,e){e==null&&(e=tt(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function PK(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function dAe(t,e){return e||(e=tt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var sh=PK,Jm=dAe;function hs(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Uf(t,e){return(e||tt(8)).write_shift(8,t,"f")}function fAe(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=cf[i];c&&(e.rgb=Wy(c));break;case 2:e.rgb=Wy([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function W_(t,e){if(e||(e=tt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function hAe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function pAe(t,e){e||(e=tt(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function FK(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function mAe(t){return FK(t,1)}function gAe(t){return FK(t,2)}var M3=2,Xs=3,I1=11,l7=12,q_=19,R1=64,yAe=65,vAe=71,xAe=4108,_Ae=4126,Ai=80,MK=81,bAe=[Ai,MK],tN={1:{n:"CodePage",t:M3},2:{n:"Category",t:Ai},3:{n:"PresentationFormat",t:Ai},4:{n:"ByteCount",t:Xs},5:{n:"LineCount",t:Xs},6:{n:"ParagraphCount",t:Xs},7:{n:"SlideCount",t:Xs},8:{n:"NoteCount",t:Xs},9:{n:"HiddenCount",t:Xs},10:{n:"MultimediaClipCount",t:Xs},11:{n:"ScaleCrop",t:I1},12:{n:"HeadingPairs",t:xAe},13:{n:"TitlesOfParts",t:_Ae},14:{n:"Manager",t:Ai},15:{n:"Company",t:Ai},16:{n:"LinksUpToDate",t:I1},17:{n:"CharacterCount",t:Xs},19:{n:"SharedDoc",t:I1},22:{n:"HyperlinksChanged",t:I1},23:{n:"AppVersion",t:Xs,p:"version"},24:{n:"DigSig",t:yAe},26:{n:"ContentType",t:Ai},27:{n:"ContentStatus",t:Ai},28:{n:"Language",t:Ai},29:{n:"Version",t:Ai},255:{},2147483648:{n:"Locale",t:q_},2147483651:{n:"Behavior",t:q_},1919054434:{}},nN={1:{n:"CodePage",t:M3},2:{n:"Title",t:Ai},3:{n:"Subject",t:Ai},4:{n:"Author",t:Ai},5:{n:"Keywords",t:Ai},6:{n:"Comments",t:Ai},7:{n:"Template",t:Ai},8:{n:"LastAuthor",t:Ai},9:{n:"RevNumber",t:Ai},10:{n:"EditTime",t:R1},11:{n:"LastPrinted",t:R1},12:{n:"CreatedDate",t:R1},13:{n:"ModifiedDate",t:R1},14:{n:"PageCount",t:Xs},15:{n:"WordCount",t:Xs},16:{n:"CharCount",t:Xs},17:{n:"Thumbnail",t:vAe},18:{n:"Application",t:Ai},19:{n:"DocSecurity",t:Xs},255:{},2147483648:{n:"Locale",t:q_},2147483651:{n:"Behavior",t:q_},1919054434:{}},c7={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},wAe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function TAe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var EAe=TAe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cf=hr(EAe),kc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},UK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},rN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},P1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function U3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function CAe(t){var e=U3();if(!t||!t.match)return e;var n={};if((t.match(Ts)||[]).forEach(function(r){var i=Kt(r);switch(i[0].replace(MDe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[rN[i.ContentType]]!==void 0&&e[rN[i.ContentType]].push(i.PartName);break}}),e.xmlns!==gi.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function OK(t,e){var n=CDe(rN),r=[],i;r[r.length]=Zr,r[r.length]=yt("Types",null,{xmlns:gi.CT,"xmlns:xsd":gi.xsd,"xmlns:xsi":gi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return yt("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=yt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:P1[l][e.bookType]||P1[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=yt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:P1[l][e.bookType]||P1[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=yt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var un={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Vy(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function H0(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Ts)||[]).forEach(function(i){var s=Kt(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:y0(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}function Rp(t){var e=[Zr,yt("Relationships",null,{xmlns:gi.RELS})];return Br(t["!id"]).forEach(function(n){e[e.length]=yt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function jn(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[un.HLINK,un.XPATH,un.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var SAe="application/vnd.oasis.opendocument.spreadsheet";function DAe(t,e){for(var n=S3(t),r,i;r=By.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Kt(r[0],!1),i.path=="/"&&i.type!==SAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function AAe(t){var e=[Zr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function u7(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function NAe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function kAe(t){var e=[Zr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(u7(t[n][0],t[n][1])),e.push(NAe("",t[n][0]));return e.push(u7("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function LK(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+M_.version+"</meta:generator></office:meta></office:document-meta>"}var to=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],IAe=(function(){for(var t=new Array(to.length),e=0;e<to.length;++e){var n=to[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function jK(t){var e={};t=Hn(t);for(var n=0;n<to.length;++n){var r=to[n],i=t.match(IAe[n]);i!=null&&i.length>0&&(e[r[1]]=_n(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=fr(e[r[1]]))}return e}function rD(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Vn(e),r[r.length]=n?yt(t,e,n):Gi(t,e))}function BK(t,e){var n=e||{},r=[Zr,yt("cp:coreProperties",null,{"xmlns:cp":gi.CORE_PROPS,"xmlns:dc":gi.dc,"xmlns:dcterms":gi.dcterms,"xmlns:dcmitype":gi.dcmitype,"xmlns:xsi":gi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&rD("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Z4(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&rD("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Z4(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=to.length;++s){var a=to[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&rD(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var uf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],VK=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function WK(t,e,n,r){var i=[];if(typeof t=="string")i=e7(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?e7(e,r).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=a.slice(o,o+l);break}o+=l}}function RAe(t,e,n){var r={};return e||(e={}),t=Hn(t),uf.forEach(function(i){var s=(t.match(Ly(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=_n(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&WK(r.HeadingPairs,r.TitlesOfParts,e,n),e}function qK(t){var e=[],n=yt;return t||(t={}),t.Application="SheetJS",e[e.length]=Zr,e[e.length]=yt("Properties",null,{xmlns:gi.EXT_PROPS,"xmlns:vt":gi.vt}),uf.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Vn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Vn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var PAe=/<[^>]+>[^<]*/g;function FAe(t,e){var n={},r="",i=t.match(PAe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Kt(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=_n(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=_n(u);break;case"bool":n[r]=lr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=fr(u);break;case"cy":case"error":n[r]=_n(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}function zK(t){var e=[Zr,yt("Properties",null,{xmlns:gi.CUST_PROPS,"xmlns:vt":gi.vt})];if(!t)return e.join("");var n=1;return Br(t).forEach(function(i){++n,e[e.length]=yt("property",qDe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Vn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var iN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},iD;function MAe(t,e,n){iD||(iD=Sw(iN)),e=iD[e]||e,t[e]=n}function UAe(t,e){var n=[];return Br(iN).map(function(r){for(var i=0;i<to.length;++i)if(to[i][1]==r)return to[i];for(i=0;i<uf.length;++i)if(uf[i][1]==r)return uf[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Gi(iN[r[1]]||r[1],i))}}),yt("DocumentProperties",n.join(""),{xmlns:xa.o})}function OAe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&Br(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<to.length;++a)if(s==to[a][1])return;for(a=0;a<uf.length;++a)if(s==uf[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(yt(J9(s),o,{"dt:dt":l}))}}),e&&Br(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(yt(J9(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+xa.o+'">'+i.join("")+"</"+r+">"}function O3(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function LAe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=tt(8);return a.write_shift(4,r),a.write_shift(4,i),a}function HK(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function $K(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function GK(t,e,n){return e===31?$K(t):HK(t,e,n)}function sN(t,e,n){return GK(t,e,n===!1?0:4)}function jAe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return GK(t,e,0)}function BAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Us,""),t.l-i&2&&(t.l+=2)}return n}function VAe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Us,"");return n}function WAe(t){var e=t.l,n=z_(t,MK);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=z_(t,Xs);return[n,r]}function qAe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(WAe(t));return n}function d7(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Us,"").replace(g0,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function KK(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function zAe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function z_(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==l7&&r!==e&&bAe.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===l7?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return HK(t,r,4).replace(Us,"");case 31:return $K(t);case 64:return O3(t);case 65:return KK(t);case 71:return zAe(t);case 80:return sN(t,r,!s.raw).replace(Us,"");case 81:return jAe(t,r).replace(Us,"");case 4108:return qAe(t);case 4126:case 4127:return r==4127?BAe(t):VAe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function f7(t,e){var n=tt(4),r=tt(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=tt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=LAe(e);break;case 31:case 80:for(r=tt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Pi([n,r])}function h7(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),f=t.read_shift(4);s[a]=[u,f+n]}s.sort(function(x,w){return x[1]-w[1]});var h={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var p=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,p=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(p=!1,t.l=s[a][1]),p)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var v=e[s[a][0]];if(h[v.n]=z_(t,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ko(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[a][0]===1){if(o=h.CodePage=z_(t,M3),ko(o),l!==-1){var g=t.l;t.l=s[l][1],c=d7(t,o),t.l=g}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=d7(t,o)}else{var y=c[s[a][0]],b;switch(t[t.l]){case 65:t.l+=4,b=KK(t);break;case 30:t.l+=4,b=sN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,b=sN(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,b=t.read_shift(4,"i");break;case 19:t.l+=4,b=t.read_shift(4);break;case 5:t.l+=4,b=t.read_shift(8,"f");break;case 11:t.l+=4,b=Gr(t,4);break;case 64:t.l+=4,b=fr(O3(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[y]=b}}return t.l=n+r,h}var XK=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function HAe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function p7(t,e,n){var r=tt(8),i=[],s=[],a=8,o=0,l=tt(8),c=tt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=tt(8),c.write_shift(4,0),i.unshift(c);var u=[tt(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=tt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Pi(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(XK.indexOf(t[o][0])>-1||VK.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],p=0;if(e){p=+e[t[o][0]];var v=n[p];if(v.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=f7(v.t,h)}else{var y=HAe(h);y==-1&&(y=31,h=String(h)),l=f7(y,h)}s.push(l),c=tt(8),c.write_shift(4,e?p:2+o),i.push(c),a+=8+l.length}var b=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,b),b+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),Pi([r].concat(i).concat(s))}function m7(t,e,n){var r=t.content;if(!r)return{};Hi(r,0);var i,s,a,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Lt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),l=r.read_shift(4));var f=h7(r,e),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,i===1)return h;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var v;try{v=h7(r,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[s,a],h}function g7(t,e,n,r,i,s){var a=tt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Lt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=p7(t,n,r);if(o.push(l),i){var c=p7(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Pi(o)}function su(t,e){return t.read_shift(e),null}function $Ae(t,e){e||(e=tt(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function GAe(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Gr(t,e){return t.read_shift(e)===1}function Is(t,e){return e||(e=tt(2)),e.write_shift(2,+!!t),e}function ai(t){return t.read_shift(2,"u")}function Ga(t,e){return e||(e=tt(2)),e.write_shift(2,t),e}function JK(t,e){return GAe(t,e,ai)}function KAe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function YK(t,e,n){return n||(n=tt(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Wv(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function XAe(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,l={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),r&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function JAe(t){var e=t.t||"",n=tt(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=tt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Pi(i)}function Of(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function qv(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Of(t,r,n)}function ah(t,e,n){if(n.biff>5)return qv(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function QK(t,e,n){return n||(n=tt(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function YAe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function QAe(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Us,"");return r&&(t.l+=24),i}function ZAe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Us,"");return n+a}function e4e(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return QAe(t);case"0303000000000000c000000000000046":return ZAe(t);default:throw new Error("Unsupported Moniker "+n)}}function F1(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Us,""):"";return n}function y7(t,e){e||(e=tt(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function t4e(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,f;i&16&&(s=F1(t,n-t.l)),i&128&&(a=F1(t,n-t.l)),(i&257)===257&&(o=F1(t,n-t.l)),(i&257)===1&&(l=e4e(t,n-t.l)),i&8&&(c=F1(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=O3(t)),t.l=n;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function n4e(t){var e=tt(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),y7(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&y7(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function ZK(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function eX(t,e){var n=ZK(t);return n[3]=0,n}function Rl(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function Lf(t,e,n,r){return r||(r=tt(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function r4e(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function i4e(t,e,n){return e===0?"":ah(t,e,n)}function s4e(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function tX(t){var e=t.read_shift(2),n=F3(t);return[e,n]}function a4e(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=Wv(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Nw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function nX(t,e){return e||(e=tt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function rX(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var o4e=rX;function iX(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function l4e(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function c4e(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function as(t){t.l+=2,t.l+=t.read_shift(2)}var u4e={0:as,4:as,5:as,6:as,7:c4e,8:as,9:as,10:as,11:as,12:as,13:l4e,14:as,15:as,16:as,17:as,18:as,19:as,20:as,21:iX};function d4e(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(u4e[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function M1(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function L3(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=tt(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function f4e(t,e){return e===0||t.read_shift(2),1200}function h4e(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=ah(t,0,n);return t.read_shift(e+r-t.l),i}function p4e(t,e){var n=!e||e.biff==8,r=tt(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function m4e(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function g4e(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Wv(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function y4e(t,e){var n=!e||e.biff>=8?2:1,r=tt(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function v4e(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(XAe(t));return s.Count=r,s.Unique=i,s}function x4e(t,e){var n=tt(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=JAe(t[i]);var s=Pi([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function _4e(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function b4e(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function w4e(t){var e=r4e(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function T4e(t){return t.read_shift(2),t.read_shift(4)}function v7(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function E4e(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function C4e(){var t=tt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function S4e(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function D4e(t){var e=tt(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function A4e(){}function N4e(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Wv(t,0,n),r}function k4e(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=tt(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function I4e(t){var e=Rl(t);return e.isst=t.read_shift(4),e}function R4e(t,e,n,r){var i=tt(10);return Lf(t,e,r,i),i.write_shift(4,n),i}function P4e(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Rl(t);n.biff==2&&t.l++;var s=qv(t,r-t.l,n);return i.val=s,i}function F4e(t,e,n,r,i){var s=!i||i.biff==8,a=tt(8+ +s+(1+s)*n.length);return Lf(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function M4e(t,e,n){var r=t.read_shift(2),i=ah(t,0,n);return[r,i]}function U4e(t,e,n,r){var i=n&&n.biff==5;r||(r=tt(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var O4e=ah;function x7(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c:l}}}function L4e(t,e){var n=e.biff==8||!e.biff?4:2,r=tt(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function j4e(t){var e=t.read_shift(2),n=t.read_shift(2),r=tX(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function B4e(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(tX(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function V4e(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function W4e(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=wAe[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function q4e(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=W4e(t,e,r.fStyle,n),r}function _7(t,e,n,r){var i=n&&n.biff==5;r||(r=tt(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function z4e(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function H4e(t){var e=tt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function b7(t,e,n){var r=Rl(t);(n.biff==2||e==9)&&++t.l;var i=KAe(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function $4e(t,e,n,r,i,s){var a=tt(8);return Lf(t,e,r,a),YK(n,s,a),a}function G4e(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Rl(t),i=hs(t);return r.val=i,r}function K4e(t,e,n,r){var i=tt(14);return Lf(t,e,r,i),Uf(n,i),i}var w7=i4e;function X4e(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Of(t,s),o=[];r>t.l;)o.push(qv(t));return[s,i,a,o]}function T7(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=a4e(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var J4e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function E7(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Of(t,a,n);i&32&&(c=J4e[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||o===0||!(u>0)?[]:d6e(t,u,n,o);return{chKey:s,Name:c,itab:l,rgce:f}}function sX(t,e,n){if(n.biff<8)return Y4e(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(s4e(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function Y4e(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Wv(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function Q4e(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Of(t,r,n),a=Of(t,i,n);return[s,a]}function Z4e(t,e,n){var r=rX(t);t.l++;var i=t.read_shift(1);return e-=8,[f6e(t,e,n),i,r]}function C7(t,e,n){var r=o4e(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,c6e(t,e,n)]}function eNe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function tNe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=ah(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function nNe(t,e,n){return tNe(t,e,n)}function rNe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Nw(t));return n}function iNe(t){var e=tt(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)nX(t[n],e);return e}function sNe(t,e,n){if(n&&n.biff<8)return oNe(t,e,n);var r=iX(t),i=d4e(t,e-22,r[1]);return{cmo:r,ft:i}}var aNe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function oNe(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((aNe[r]||_s)(t,e,n)),{cmo:[i,r,s],ft:a}}function lNe(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=YAe(t,6,n);var o=t.read_shift(2);t.read_shift(2),ai(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=Of(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function cNe(t,e){var n=Nw(t);t.l+=16;var r=t4e(t,e-24);return[n,r]}function uNe(t){var e=tt(24),n=Dr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Pi([e,n4e(t[1])])}function dNe(t,e){t.read_shift(2);var n=Nw(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Us,""),[n,r]}function fNe(t){var e=t[1].Tooltip,n=tt(10+2*(e.length+1));n.write_shift(2,2048);var r=Dr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function hNe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=c7[n]||n,n=t.read_shift(2),e[1]=c7[n]||n,e}function pNe(t){return t||(t=tt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function mNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(eX(t));return n}function gNe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(eX(t));return n}function yNe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function aX(t,e,n){if(!n.cellStyles)return _s(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function vNe(t,e){var n=tt(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function xNe(t,e){var n={};return e<32||(t.l+=16,n.header=hs(t),n.footer=hs(t),t.l+=2),n}function _Ne(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function bNe(t){for(var e=tt(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var wNe=Rl,TNe=JK,ENe=qv;function CNe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function SNe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Rl(t);++t.l;var i=ah(t,e-7,n);return r.t="str",r.val=i,r}function DNe(t){var e=Rl(t);++t.l;var n=hs(t);return e.t="n",e.val=n,e}function ANe(t,e,n){var r=tt(15);return Gv(r,t,e),r.write_shift(8,n,"f"),r}function NNe(t){var e=Rl(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function kNe(t,e,n){var r=tt(9);return Gv(r,t,e),r.write_shift(2,n),r}function INe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function RNe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function PNe(t,e,n){var r=t.l+e,i=Rl(t),s=t.read_shift(2),a=Of(t,s,n);return t.l=r,i.t="str",i.val=a,i}var FNe=[2,3,48,49,131,139,140,245],aN=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Sw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=Hu(1);switch(l.type){case"base64":u=ba(Na(o));break;case"binary":u=ba(o);break;case"buffer":case"array":u=o;break}Hi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=u.read_shift(2));var b=u.read_shift(2),x=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(x=t[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var w=[],E={},S=Math.min(u.length,f==2?521:y-10-(p?264:0)),R=v?32:11;u.l<S&&u[u.l]!=13;)switch(E={},E.name=My.utils.decode(x,u.slice(u.l,u.l+R)).replace(/[\u0000\r\n].*$/g,""),u.l+=R,E.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(E.offset=u.read_shift(4)),E.len=u.read_shift(1),f==2&&(E.offset=u.read_shift(2)),E.dec=u.read_shift(1),E.name.length&&w.push(E),f!=2&&(u.l+=v?13:14),E.type){case"B":(!p||E.len!=8)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var D=0,N=0;for(c[0]=[],N=0;N!=w.length;++N)c[0][N]=w[N].name;for(;g-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,c[++D]=[],N=0,N=0;N!=w.length;++N){var I=u.slice(u.l,u.l+w[N].len);u.l+=w[N].len,Hi(I,0);var F=My.utils.decode(x,I);switch(w[N].type){case"C":F.trim().length&&(c[D][N]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[D][N]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[D][N]=F;break;case"F":c[D][N]=parseFloat(F.trim());break;case"+":case"I":c[D][N]=v?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[D][N]=!0;break;case"N":case"F":c[D][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[D][N]="##MEMO##"+(v?parseInt(F.trim(),10):I.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[D][N]=+F||0);break;case"@":c[D][N]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":c[D][N]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":c[D][N]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][N]=-I.read_shift(-8,"f");break;case"B":if(p&&w[N].len==8){c[D][N]=I.read_shift(8,"f");break}case"G":case"P":I.l+=w[N].len;break;case"0":if(w[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[N].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Xm(n(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return ad(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&ko(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ia(),f=G_(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=o["!cols"]||[],g=0,y=0,b=0,x=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++b;continue}if(h[g]!=null){if(++b,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var w=bn(o["!ref"]),E=[],S=[],R=[];for(g=0;g<=w.e.c-w.s.c;++g){var D="",N="",I=0,F=[];for(y=0;y<p.length;++y)p[y][g]!=null&&F.push(p[y][g]);if(F.length==0||h[g]==null){E[g]="?";continue}for(y=0;y<F.length;++y){switch(typeof F[y]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=F[y]instanceof Date?"D":"C";break;default:N="C"}I=Math.max(I,String(F[y]).length),D=D&&D!=N?"C":N}I>250&&(I=250),N=((v[g]||{}).DBF||{}).type,N=="C"&&v[g].DBF.len>I&&(I=v[g].DBF.len),D=="B"&&N=="N"&&(D="N",R[g]=v[g].DBF.dec,I=v[g].DBF.len),S[g]=D=="C"||N=="N"?I:s[D]||0,x+=S[g],E[g]=D}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*b),P.write_shift(2,x),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[XG]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var k=u.next(32),U=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,U,"sbcs"),k.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),k.write_shift(4,y),k.write_shift(1,S[g]||s[E[g]]||0),k.write_shift(1,R[g]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),y+=S[g]||s[E[g]]||0}var O=u.next(264);for(O.write_shift(4,13),g=0;g<65;++g)O.write_shift(4,0);for(g=0;g<p.length;++g){var X=u.next(x);for(X.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(E[y]){case"L":X.write_shift(1,p[g][y]==null?63:p[g][y]?84:70);break;case"B":X.write_shift(8,p[g][y]||0,"f");break;case"N":var J="0";for(typeof p[g][y]=="number"&&(J=p[g][y].toFixed(R[y]||0)),b=0;b<S[y]-J.length;++b)X.write_shift(1,32);X.write_shift(1,J,"sbcs");break;case"D":p[g][y]?(X.write_shift(4,("0000"+p[g][y].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[g][y].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[g][y].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var Y=String(p[g][y]!=null?p[g][y]:"").slice(0,S[y]);for(X.write_shift(1,Y,"sbcs"),b=0;b<S[y]-Y.length;++b)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),oX=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Br(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var v=t[p];return typeof v=="number"?U9(v):v},r=function(h,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:U9(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return s(Na(h),p);case"binary":return s(h,p);case"buffer":return s(on&&Buffer.isBuffer(h)?h.toString("binary"):sd(h),p);case"array":return s(Mf(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var v=h.split(/[\n\r]+/),g=-1,y=-1,b=0,x=0,w=[],E=[],S=null,R={},D=[],N=[],I=[],F=0,P;for(+p.codepage>=0&&ko(+p.codepage);b!==v.length;++b){F=0;var k=v[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=k.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),O=U[0],X;if(k.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&E.push(k.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,Y=!1,ne=!1,z=!1,K=-1,B=-1;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"A":break;case"X":y=parseInt(U[x].slice(1))-1,Y=!0;break;case"Y":for(g=parseInt(U[x].slice(1))-1,Y||(y=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":X=U[x].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Uo(X))?isNaN(pm(X).getDate())||(X=fr(X)):(X=Uo(X),S!==null&&Gm(S)&&(X=Aw(X))),J=!0;break;case"E":z=!0;var j=Pp(U[x].slice(1),{r:g,c:y});w[g][y]=[w[g][y],j];break;case"S":ne=!0,w[g][y]=[w[g][y],"S5S"];break;case"G":break;case"R":K=parseInt(U[x].slice(1))-1;break;case"C":B=parseInt(U[x].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}if(J&&(w[g][y]&&w[g][y].length==2?w[g][y][0]=X:w[g][y]=X,S=null),ne){if(z)throw new Error("SYLK shared formula cannot have own formula");var W=K>-1&&w[K][B];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");w[g][y][1]=CX(W[1],{r:g-K,c:y-B})}break;case"F":var H=0;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"X":y=parseInt(U[x].slice(1))-1,++H;break;case"Y":for(g=parseInt(U[x].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":F=parseInt(U[x].slice(1))/20;break;case"F":break;case"G":break;case"P":S=E[parseInt(U[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=U[x].slice(1).split(" "),P=parseInt(I[0],10);P<=parseInt(I[1],10);++P)F=parseInt(I[2],10),N[P-1]=F===0?{hidden:!0}:{wch:F},$u(N[P-1]);break;case"C":y=parseInt(U[x].slice(1))-1,N[y]||(N[y]={});break;case"R":g=parseInt(U[x].slice(1))-1,D[g]||(D[g]={}),F>0?(D[g].hpt=F,D[g].hpx=gm(F)):F===0&&(D[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}H<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}}return D.length>0&&(R["!rows"]=D),N.length>0&&(R["!cols"]=N),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,R]}function a(h,p){var v=i(h,p),g=v[0],y=v[1],b=Xm(g,p);return Br(y).forEach(function(x){b[x]=y[x]}),b}function o(h,p){return ad(a(h,p),p)}function l(h,p,v,g){var y="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+z3(h.f,{r:v,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(v,g){var y="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=qy(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=zy(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,p){p.forEach(function(v,g){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*Hy(v.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,p){var v=["ID;PWXL;N;E"],g=[],y=bn(h["!ref"]),b,x=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var E=y.s.r;E<=y.e.r;++E)for(var S=y.s.c;S<=y.e.c;++S){var R=$t({r:E,c:S});b=x?(h[E]||[])[S]:h[R],!(!b||b.v==null&&(!b.f||b.F))&&g.push(l(b,h,E,S))}return v.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),lX=(function(){function t(s,a){switch(a.type){case"base64":return e(Na(s),a);case"binary":return e(s,a);case"buffer":return e(on&&Buffer.isBuffer(s)?s.toString("binary"):sd(s),a);case"array":return e(Mf(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],v=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(Uo(v))?isNaN(pm(v).getDate())?f[l][c]=v:f[l][c]=fr(v):f[l][c]=Uo(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function n(s,a){return Xm(t(s,a),a)}function r(s,a){return ad(n(s,a),a)}var i=(function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=bn(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){a(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=$t({r:p,c:v});if(f=h?(l[p]||[])[v]:l[g],!f){a(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=so(f.z||Wt[14],vi(fr(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var b=`\r
`,x=c.join(b);return x}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),cX=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,h){for(var p=f.split(`
`),v=-1,g=-1,y=0,b=[];y!==p.length;++y){var x=p[y].trim().split(":");if(x[0]==="cell"){var w=Dr(x[1]);if(b.length<=w.r)for(v=b.length;v<=w.r;++v)b[v]||(b[v]=[]);switch(v=w.r,g=w.c,x[2]){case"t":b[v][g]=t(x[3]);break;case"v":b[v][g]=+x[3];break;case"vtf":var E=x[x.length-1];case"vtc":switch(x[3]){case"nl":b[v][g]=!!+x[4];break;default:b[v][g]=+x[4];break}x[2]=="vtf"&&(b[v][g]=[b[v][g],E])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function r(f,h){return Xm(n(f,h),h)}function i(f,h){return ad(r(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,g="",y=sa(f["!ref"]),b=Array.isArray(f),x=y.s.r;x<=y.e.r;++x)for(var w=y.s.c;w<=y.e.c;++w)if(g=$t({r:x,c:w}),v=b?(f[x]||[])[w]:f[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(e(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=e(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var E=vi(fr(v.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=v.w||so(v.z||Wt[14],E);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),mm=(function(){function t(u,f,h,p,v){v.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(Uo(u))?isNaN(pm(u).getDate())?f[h][p]=u:f[h][p]=fr(u):f[h][p]=Uo(u))}function e(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var y=10,b=0,x=0;x<=g;++x)b=v[x].indexOf(" "),b==-1?b=v[x].length:b++,y=Math.max(y,b);for(x=0;x<=g;++x){p[x]=[];var w=0;for(t(v[x].slice(0,y).trim(),p,x,w,h),w=1;w<=(v[x].length-y)/10+1;++w)t(v[x].slice(y+(w-1)*10,y+w*10).trim(),p,x,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},h=!1,p=0,v=0;p<u.length;++p)(v=u.charCodeAt(p))==34?h=!h:!h&&v in n&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=r;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(g,y){return g[0]-y[0]||r[g[1]]-r[y[1]]}),n[v.pop()[1]]||44}function s(u,f){var h=f||{},p="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):h&&h.FS?p=h.FS:p=i(u.slice(0,1024));var y=0,b=0,x=0,w=0,E=0,S=p.charCodeAt(0),R=!1,D=0,N=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var I=h.dateNF!=null?_De(h.dateNF):null;function F(){var P=u.slice(w,E),k={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)k.t="z";else if(h.raw)k.t="s",k.v=P;else if(P.trim().length===0)k.t="s",k.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(k.t="s",k.v=P.slice(2,-1).replace(/""/g,'"')):XIe(P)?(k.t="n",k.f=P.slice(1)):(k.t="s",k.v=P);else if(P=="TRUE")k.t="b",k.v=!0;else if(P=="FALSE")k.t="b",k.v=!1;else if(!isNaN(x=Uo(P)))k.t="n",h.cellText!==!1&&(k.w=P),k.v=x;else if(!isNaN(pm(P).getDate())||I&&P.match(I)){k.z=h.dateNF||Wt[14];var U=0;I&&P.match(I)&&(P=bDe(P,h.dateNF,P.match(I)||[]),U=1),h.cellDates?(k.t="d",k.v=fr(P,U)):(k.t="n",k.v=vi(fr(P,U))),h.cellText!==!1&&(k.w=so(k.z,k.v instanceof Date?vi(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=P;if(k.t=="z"||(h.dense?(v[y]||(v[y]=[]),v[y][b]=k):v[$t({c:b,r:y})]=k),w=E+1,N=u.charCodeAt(w),g.e.c<b&&(g.e.c=b),g.e.r<y&&(g.e.r=y),D==S)++b;else if(b=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;E<u.length;++E)switch(D=u.charCodeAt(E)){case 34:N===34&&(R=!R);break;case S:case 10:case 13:if(!R&&F())break e;break}return E-w>0&&F(),v["!ref"]=tn(g),v}function a(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):Xm(e(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:Q3(u,f);switch(f.type){case"base64":h=Na(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof My<"u"||(h=on&&Buffer.isBuffer(u)?u.toString("binary"):sd(u));break;case"array":h=Mf(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Hn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Hn(h):f.type=="binary"&&typeof My<"u",h.slice(0,19)=="socialcalc:version:"?cX.to_sheet(f.type=="string"?h:Hn(h),f):a(h,f)}function l(u,f){return ad(o(u,f),f)}function c(u){for(var f=[],h=bn(u["!ref"]),p,v=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var y=[],b=h.s.c;b<=h.e.c;++b){var x=$t({r:g,c:b});if(p=v?(u[g]||[])[b]:u[x],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(yc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(b===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function MNe(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=oX.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return mm.to_workbook(t,e)}}var df=(function(){function t(j,W,H){if(j){Hi(j,j.l||0);for(var Q=H.Enum||K;j.l<j.length;){var Z=j.read_shift(2),se=Q[Z]||Q[65535],ce=j.read_shift(2),ue=j.l+ce,Ee=se.f&&se.f(j,ce,H);if(j.l=ue,W(Ee,se,Z))return}}}function e(j,W){switch(W.type){case"base64":return n(ba(Na(j)),W);case"binary":return n(ba(j),W);case"buffer":case"array":return n(j,W)}throw"Unsupported type "+W.type}function n(j,W){if(!j)return j;var H=W||{},Q=H.dense?[]:{},Z="Sheet1",se="",ce=0,ue={},Ee=[],Ie=[],fe={s:{r:0,c:0},e:{r:0,c:0}},Le=H.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)H.Enum=K,t(j,function(oe,re,le){switch(le){case 0:H.vers=oe,oe>=4096&&(H.qpro=!0);break;case 6:fe=oe;break;case 204:oe&&(se=oe);break;case 222:se=oe;break;case 15:case 51:H.qpro||(oe[1].v=oe[1].v.slice(1));case 13:case 14:case 16:le==14&&(oe[2]&112)==112&&(oe[2]&15)>1&&(oe[2]&15)<15&&(oe[1].z=H.dateNF||Wt[14],H.cellDates&&(oe[1].t="d",oe[1].v=Aw(oe[1].v))),H.qpro&&oe[3]>ce&&(Q["!ref"]=tn(fe),ue[Z]=Q,Ee.push(Z),Q=H.dense?[]:{},fe={s:{r:0,c:0},e:{r:0,c:0}},ce=oe[3],Z=se||"Sheet"+(ce+1),se="");var he=H.dense?(Q[oe[0].r]||[])[oe[0].c]:Q[$t(oe[0])];if(he){he.t=oe[1].t,he.v=oe[1].v,oe[1].z!=null&&(he.z=oe[1].z),oe[1].f!=null&&(he.f=oe[1].f);break}H.dense?(Q[oe[0].r]||(Q[oe[0].r]=[]),Q[oe[0].r][oe[0].c]=oe[1]):Q[$t(oe[0])]=oe[1];break}},H);else if(j[2]==26||j[2]==14)H.Enum=B,j[2]==14&&(H.qpro=!0,j.l=0),t(j,function(oe,re,le){switch(le){case 204:Z=oe;break;case 22:oe[1].v=oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(oe[3]>ce&&(Q["!ref"]=tn(fe),ue[Z]=Q,Ee.push(Z),Q=H.dense?[]:{},fe={s:{r:0,c:0},e:{r:0,c:0}},ce=oe[3],Z="Sheet"+(ce+1)),Le>0&&oe[0].r>=Le)break;H.dense?(Q[oe[0].r]||(Q[oe[0].r]=[]),Q[oe[0].r][oe[0].c]=oe[1]):Q[$t(oe[0])]=oe[1],fe.e.c<oe[0].c&&(fe.e.c=oe[0].c),fe.e.r<oe[0].r&&(fe.e.r=oe[0].r);break;case 27:oe[14e3]&&(Ie[oe[14e3][0]]=oe[14e3][1]);break;case 1537:Ie[oe[0]]=oe[1],oe[0]==ce&&(Z=oe[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Q["!ref"]=tn(fe),ue[se||Z]=Q,Ee.push(se||Z),!Ie.length)return{SheetNames:Ee,Sheets:ue};for(var V={},ye=[],be=0;be<Ie.length;++be)ue[Ee[be]]?(ye.push(Ie[be]||Ee[be]),V[Ie[be]]=ue[Ie[be]]||ue[Ee[be]]):(ye.push(Ie[be]),V[Ie[be]]={"!ref":"A1"});return{SheetNames:ye,Sheets:V}}function r(j,W){var H=W||{};if(+H.codepage>=0&&ko(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=ia(),Z=bn(j["!ref"]),se=Array.isArray(j),ce=[];xt(Q,0,s(1030)),xt(Q,6,l(Z));for(var ue=Math.min(Z.e.r,8191),Ee=Z.s.r;Ee<=ue;++Ee)for(var Ie=Yr(Ee),fe=Z.s.c;fe<=Z.e.c;++fe){Ee===Z.s.r&&(ce[fe]=Sr(fe));var Le=ce[fe]+Ie,V=se?(j[Ee]||[])[fe]:j[Le];if(!(!V||V.t=="z"))if(V.t=="n")(V.v|0)==V.v&&V.v>=-32768&&V.v<=32767?xt(Q,13,p(Ee,fe,V.v)):xt(Q,14,g(Ee,fe,V.v));else{var ye=yc(V);xt(Q,15,f(Ee,fe,ye.slice(0,239)))}}return xt(Q,1),Q.end()}function i(j,W){var H=W||{};if(+H.codepage>=0&&ko(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=ia();xt(Q,0,a(j));for(var Z=0,se=0;Z<j.SheetNames.length;++Z)(j.Sheets[j.SheetNames[Z]]||{})["!ref"]&&xt(Q,27,z(j.SheetNames[Z],se++));var ce=0;for(Z=0;Z<j.SheetNames.length;++Z){var ue=j.Sheets[j.SheetNames[Z]];if(!(!ue||!ue["!ref"])){for(var Ee=bn(ue["!ref"]),Ie=Array.isArray(ue),fe=[],Le=Math.min(Ee.e.r,8191),V=Ee.s.r;V<=Le;++V)for(var ye=Yr(V),be=Ee.s.c;be<=Ee.e.c;++be){V===Ee.s.r&&(fe[be]=Sr(be));var oe=fe[be]+ye,re=Ie?(ue[V]||[])[be]:ue[oe];if(!(!re||re.t=="z"))if(re.t=="n")xt(Q,23,F(V,be,ce,re.v));else{var le=yc(re);xt(Q,22,D(V,be,ce,le.slice(0,239)))}}++ce}}return xt(Q,1),Q.end()}function s(j){var W=tt(2);return W.write_shift(2,j),W}function a(j){var W=tt(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var H=0,Q=0,Z=0,se=0;se<j.SheetNames.length;++se){var ce=j.SheetNames[se],ue=j.Sheets[ce];if(!(!ue||!ue["!ref"])){++Z;var Ee=sa(ue["!ref"]);H<Ee.e.r&&(H=Ee.e.r),Q<Ee.e.c&&(Q=Ee.e.c)}}return H>8191&&(H=8191),W.write_shift(2,H),W.write_shift(1,Z),W.write_shift(1,Q),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(j,W,H){var Q={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&H.qpro?(Q.s.c=j.read_shift(1),j.l++,Q.s.r=j.read_shift(2),Q.e.c=j.read_shift(1),j.l++,Q.e.r=j.read_shift(2),Q):(Q.s.c=j.read_shift(2),Q.s.r=j.read_shift(2),W==12&&H.qpro&&(j.l+=2),Q.e.c=j.read_shift(2),Q.e.r=j.read_shift(2),W==12&&H.qpro&&(j.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function l(j){var W=tt(8);return W.write_shift(2,j.s.c),W.write_shift(2,j.s.r),W.write_shift(2,j.e.c),W.write_shift(2,j.e.r),W}function c(j,W,H){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(Q[0].c=j.read_shift(1),Q[3]=j.read_shift(1),Q[0].r=j.read_shift(2),j.l+=2):(Q[2]=j.read_shift(1),Q[0].c=j.read_shift(2),Q[0].r=j.read_shift(2)),Q}function u(j,W,H){var Q=j.l+W,Z=c(j,W,H);if(Z[1].t="s",H.vers==20768){j.l++;var se=j.read_shift(1);return Z[1].v=j.read_shift(se,"utf8"),Z}return H.qpro&&j.l++,Z[1].v=j.read_shift(Q-j.l,"cstr"),Z}function f(j,W,H){var Q=tt(7+H.length);Q.write_shift(1,255),Q.write_shift(2,W),Q.write_shift(2,j),Q.write_shift(1,39);for(var Z=0;Z<Q.length;++Z){var se=H.charCodeAt(Z);Q.write_shift(1,se>=128?95:se)}return Q.write_shift(1,0),Q}function h(j,W,H){var Q=c(j,W,H);return Q[1].v=j.read_shift(2,"i"),Q}function p(j,W,H){var Q=tt(7);return Q.write_shift(1,255),Q.write_shift(2,W),Q.write_shift(2,j),Q.write_shift(2,H,"i"),Q}function v(j,W,H){var Q=c(j,W,H);return Q[1].v=j.read_shift(8,"f"),Q}function g(j,W,H){var Q=tt(13);return Q.write_shift(1,255),Q.write_shift(2,W),Q.write_shift(2,j),Q.write_shift(8,H,"f"),Q}function y(j,W,H){var Q=j.l+W,Z=c(j,W,H);if(Z[1].v=j.read_shift(8,"f"),H.qpro)j.l=Q;else{var se=j.read_shift(2);E(j.slice(j.l,j.l+se),Z),j.l+=se}return Z}function b(j,W,H){var Q=W&32768;return W&=-32769,W=(Q?j:0)+(W>=8192?W-16384:W),(Q?"":"$")+(H?Sr(W):Yr(W))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(j,W){Hi(j,0);for(var H=[],Q=0,Z="",se="",ce="",ue="";j.l<j.length;){var Ee=j[j.l++];switch(Ee){case 0:H.push(j.read_shift(8,"f"));break;case 1:se=b(W[0].c,j.read_shift(2),!0),Z=b(W[0].r,j.read_shift(2),!1),H.push(se+Z);break;case 2:{var Ie=b(W[0].c,j.read_shift(2),!0),fe=b(W[0].r,j.read_shift(2),!1);se=b(W[0].c,j.read_shift(2),!0),Z=b(W[0].r,j.read_shift(2),!1),H.push(Ie+fe+":"+se+Z)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(j.read_shift(2));break;case 6:{for(var Le="";Ee=j[j.l++];)Le+=String.fromCharCode(Ee);H.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:ue=H.pop(),ce=H.pop(),H.push(["AND","OR"][Ee-20]+"("+ce+","+ue+")");break;default:if(Ee<32&&w[Ee])ue=H.pop(),ce=H.pop(),H.push(ce+w[Ee]+ue);else if(x[Ee]){if(Q=x[Ee][1],Q==69&&(Q=j[j.l++]),Q>H.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+H.join("|")+"|");return}var V=H.slice(-Q);H.length-=Q,H.push(x[Ee][0]+"("+V.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}H.length==1?W[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function S(j){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=j.read_shift(2),W[3]=j[j.l++],W[0].c=j[j.l++],W}function R(j,W){var H=S(j);return H[1].t="s",H[1].v=j.read_shift(W-4,"cstr"),H}function D(j,W,H,Q){var Z=tt(6+Q.length);Z.write_shift(2,j),Z.write_shift(1,H),Z.write_shift(1,W),Z.write_shift(1,39);for(var se=0;se<Q.length;++se){var ce=Q.charCodeAt(se);Z.write_shift(1,ce>=128?95:ce)}return Z.write_shift(1,0),Z}function N(j,W){var H=S(j);H[1].v=j.read_shift(2);var Q=H[1].v>>1;if(H[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return H[1].v=Q,H}function I(j,W){var H=S(j),Q=j.read_shift(4),Z=j.read_shift(4),se=j.read_shift(2);if(se==65535)return Q===0&&Z===3221225472?(H[1].t="e",H[1].v=15):Q===0&&Z===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var ce=se&32768;return se=(se&32767)-16446,H[1].v=(1-ce*2)*(Z*Math.pow(2,se+32)+Q*Math.pow(2,se)),H}function F(j,W,H,Q){var Z=tt(14);if(Z.write_shift(2,j),Z.write_shift(1,H),Z.write_shift(1,W),Q==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var se=0,ce=0,ue=0,Ee=0;return Q<0&&(se=1,Q=-Q),ce=Math.log2(Q)|0,Q/=Math.pow(2,ce-31),Ee=Q>>>0,(Ee&2147483648)==0&&(Q/=2,++ce,Ee=Q>>>0),Q-=Ee,Ee|=2147483648,Ee>>>=0,Q*=Math.pow(2,32),ue=Q>>>0,Z.write_shift(4,ue),Z.write_shift(4,Ee),ce+=16383+(se?32768:0),Z.write_shift(2,ce),Z}function P(j,W){var H=I(j);return j.l+=W-14,H}function k(j,W){var H=S(j),Q=j.read_shift(4);return H[1].v=Q>>6,H}function U(j,W){var H=S(j),Q=j.read_shift(8,"f");return H[1].v=Q,H}function O(j,W){var H=U(j);return j.l+=W-10,H}function X(j,W){return j[j.l+W-1]==0?j.read_shift(W,"cstr"):""}function J(j,W){var H=j[j.l++];H>W-1&&(H=W-1);for(var Q="";Q.length<H;)Q+=String.fromCharCode(j[j.l++]);return Q}function Y(j,W,H){if(!(!H.qpro||W<21)){var Q=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var Z=j.read_shift(W-21,"cstr");return[Q,Z]}}function ne(j,W){for(var H={},Q=j.l+W;j.l<Q;){var Z=j.read_shift(2);if(Z==14e3){for(H[Z]=[0,""],H[Z][0]=j.read_shift(2);j[j.l];)H[Z][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return H}function z(j,W){var H=tt(5+j.length);H.write_shift(2,14e3),H.write_shift(2,W);for(var Q=0;Q<j.length;++Q){var Z=j.charCodeAt(Q);H[H.l++]=Z>127?95:Z}return H[H.l++]=0,H}var K={0:{n:"BOF",f:ai},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:O},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Y},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function UNe(t){var e={},n=t.match(Ts),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Kt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=m3[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var ONe=(function(){var t=Ly("t"),e=Ly("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:_n(a[1])},l=s.match(e);return l&&(o.s=UNe(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),LNe=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),jNe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,BNe=/<(?:\w+:)?r>/,VNe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function j3(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=_n(Hn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Hn(t),n&&(r.h=C3(r.t))):t.match(BNe)&&(r.r=Hn(t),r.t=_n(Hn((t.replace(VNe,"").match(jNe)||[]).join("").replace(Ts,""))),n&&(r.h=LNe(ONe(r.r)))),r):{t:""}}var WNe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,qNe=/<(?:\w+:)?(?:si|sstItem)>/g,zNe=/<\/(?:\w+:)?(?:si|sstItem)>/;function HNe(t,e){var n=[],r="";if(!t)return n;var i=t.match(WNe);if(i){r=i[2].replace(qNe,"").split(zNe);for(var s=0;s!=r.length;++s){var a=j3(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=Kt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var $Ne=/^\s|\s$|[\t\n\r]/;function uX(t,e){if(!e.bookSST)return"";var n=[Zr];n[n.length]=yt("sst",null,{xmlns:th[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match($Ne)&&(s+=' xml:space="preserve"'),s+=">"+Vn(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function GNe(t){return[t.read_shift(4),t.read_shift(4)]}function KNe(t,e){var n=[],r=!1;return Nc(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function XNe(t,e){return e||(e=tt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var JNe=aAe;function YNe(t){var e=ia();at(e,159,XNe(t));for(var n=0;n<t.length;++n)at(e,19,JNe(t[n]));return at(e,160),e.end()}function dX(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function lc(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function QNe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=lc(t,4),e.U=lc(t,4),e.W=lc(t,4),e}function ZNe(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function eke(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(ZNe(t));return e}function tke(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function nke(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=lc(t,4),e.U=lc(t,4),e.W=lc(t,4),e}function rke(t){var e=nke(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function fX(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function hX(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function ike(t){var e=lc(t);switch(e.Minor){case 2:return[e.Minor,ske(t)];case 3:return[e.Minor,ake()];case 4:return[e.Minor,oke(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function ske(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=fX(t,n),i=hX(t,t.length-t.l);return{t:"Std",h:r,v:i}}function ake(){throw new Error("File is password-protected: ECMA-376 Extensible")}function oke(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Ts,function(s){var a=Kt(s);switch(Il(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function lke(t,e){var n={},r=n.EncryptionVersionInfo=lc(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=fX(t,i),e-=i,n.EncryptionVerifier=hX(t,e),n}function cke(t){var e={},n=e.EncryptionVersionInfo=lc(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function B3(t){var e=0,n,r=dX(t),i=r.length+1,s,a,o,l,c;for(n=Hu(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var pX=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],f=0;f!=7;++f)u&64&&(o^=n[l]),u*=2,--l;return o};return function(a){for(var o=dX(a),l=s(o),c=o.length,u=Hu(16),f=0;f!=16;++f)u[f]=0;var h,p,v;for((c&1)===1&&(h=l>>8,u[c]=i(t[0],h),--c,h=l&255,p=o[o.length-1],u[c]=i(p,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,v=15-o.length;v>0;)h=l>>8,u[c]=i(t[v],h),--c,--v,h=l&255,u[c]=i(o[c],h),--c,--v;return u}})(),uke=function(t,e,n,r,i){i||(i=e),r||(r=pX(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},dke=function(t){var e=0,n=pX(t);return function(r){var i=uke("",r,e,n);return e=i[1],i[0]}};function fke(t,e,n,r){var i={key:ai(t),verificationBytes:ai(t)};return n.password&&(i.verifier=B3(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=dke(n.password)),i}function hke(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=cke(t):r.Data=lke(t,e),r}function pke(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?hke(t,e-2,r):fke(t,n.biff>=8?e:e-2,n,r),r}var mX=(function(){function t(i,s){switch(s.type){case"base64":return e(Na(i),s);case"binary":return e(i,s);case"buffer":return e(on&&Buffer.isBuffer(i)?i.toString("binary"):sd(i),s);case"array":return e(Mf(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,v,g=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var y=u.slice(p,h.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var b={v:y,t:"s"};Array.isArray(o)?o[f][g]=b:o[$t({r:f,c:g})]=b}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=tn(c),o}function n(i,s){return ad(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=bn(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var f=$t({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(yc(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function mke(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Wy(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function gke(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,l,c/2]}function yke(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function H_(t,e){if(e===0)return t;var n=gke(mke(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Wy(yke(n))}var gX=6,vke=15,xke=1,ds=gX;function qy(t){return Math.floor((t+Math.round(128/ds)/256)*ds)}function zy(t){return Math.floor((t-5)/ds*100+.5)/100}function $_(t){return Math.round((t*ds+5)/ds*256)/256}function sD(t){return $_(zy(qy(t)))}function V3(t){var e=Math.abs(t-sD(t)),n=ds;if(e>.005)for(ds=xke;ds<vke;++ds)Math.abs(t-sD(t))<=e&&(e=Math.abs(t-sD(t)),n=ds);ds=n}function $u(t){t.width?(t.wpx=qy(t.width),t.wch=zy(t.wpx),t.MDW=ds):t.wpx?(t.wch=zy(t.wpx),t.width=$_(t.wch),t.MDW=ds):typeof t.wch=="number"&&(t.width=$_(t.wch),t.wpx=qy(t.width),t.MDW=ds),t.customWidth&&delete t.customWidth}var _ke=96,yX=_ke;function Hy(t){return t*96/yX}function gm(t){return t*yX/96}var bke={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function wke(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Ts)||[]).forEach(function(a){var o=Kt(a);switch(Il(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=lr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=lr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Tke(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Ts)||[]).forEach(function(a){var o=Kt(a);switch(Il(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function Eke(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Ts)||[]).forEach(function(a){var o=Kt(a);switch(Il(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Hn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?lr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?lr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?lr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?lr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?lr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?lr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?lr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=m3[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=lr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=cf[i.color.index];i.color.index==81&&(l=cf[1]),l||(l=cf[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=H_(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Cke(t,e,n){e.NumberFmt=[];for(var r=Br(Wt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Wt[r[i]];var s=t[0].match(Ts);if(s)for(i=0;i<s.length;++i){var a=Kt(s[i]);switch(Il(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=_n(Hn(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}oc(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function Ske(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=yt("numFmt",null,{numFmtId:r,formatCode:Vn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=yt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var U1=["numFmtId","fillId","fontId","borderId","xfId"],O1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Dke(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Ts)||[]).forEach(function(s){var a=Kt(s),o=0;switch(Il(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<U1.length;++o)r[U1[o]]&&(r[U1[o]]=parseInt(r[U1[o]],10));for(o=0;o<O1.length;++o)r[O1[o]]&&(r[O1[o]]=lr(r[O1[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=lr(a.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function Ake(t){var e=[];return e[e.length]=yt("cellXfs",null),t.forEach(function(n){e[e.length]=yt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=yt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Nke=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&Cke(f,u,c),(f=o.match(i))&&Eke(f,u,l,c),(f=o.match(r))&&Tke(f,u,l,c),(f=o.match(s))&&wke(f,u,l,c),(f=o.match(n))&&Dke(f,u,c),u}})();function vX(t,e){var n=[Zr,yt("styleSheet",null,{xmlns:th[0],"xmlns:vt":gi.vt})],r;return t.SSF&&(r=Ske(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Ake(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function kke(t,e){var n=t.read_shift(2),r=xs(t);return[n,r]}function Ike(t,e,n){n||(n=tt(6+4*e.length)),n.write_shift(2,t),Fi(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Rke(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=hAe(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=fAe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=xs(t),r}function Pke(t,e){e||(e=tt(153)),e.write_shift(2,t.sz*20),pAe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),W_(t.color,e);var r=0;return r=2,e.write_shift(1,r),Fi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Fke=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],aD,Mke=_s;function S7(t,e){e||(e=tt(84)),aD||(aD=Sw(Fke));var n=aD[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(W_({auto:1},e),W_({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Uke(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function xX(t,e,n){n||(n=tt(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Kg(t,e){return e||(e=tt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Oke=_s;function Lke(t,e){return e||(e=tt(51)),e.write_shift(1,0),Kg(null,e),Kg(null,e),Kg(null,e),Kg(null,e),Kg(null,e),e.length>e.l?e.slice(0,e.l):e}function jke(t,e){return e||(e=tt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),V_(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Bke(t,e,n){var r=tt(2052);return r.write_shift(4,t),V_(e,r),V_(n,r),r.length>r.l?r.slice(0,r.l):r}function Vke(t,e,n){var r={};r.NumberFmt=[];for(var i in Wt)r.NumberFmt[i]=Wt[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Nc(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],oc(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=H_(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function Wke(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(at(t,615,Oo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&at(t,44,Ike(i,e[i]))}),at(t,616))}}function qke(t){var e=1;at(t,611,Oo(e)),at(t,43,Pke({sz:12,color:{theme:1},name:"Calibri",family:2})),at(t,612)}function zke(t){var e=2;at(t,603,Oo(e)),at(t,45,S7({patternType:"none"})),at(t,45,S7({patternType:"gray125"})),at(t,604)}function Hke(t){var e=1;at(t,613,Oo(e)),at(t,46,Lke()),at(t,614)}function $ke(t){var e=1;at(t,626,Oo(e)),at(t,47,xX({numFmtId:0},65535)),at(t,627)}function Gke(t,e){at(t,617,Oo(e.length)),e.forEach(function(n){at(t,47,xX(n,0))}),at(t,618)}function Kke(t){var e=1;at(t,619,Oo(e)),at(t,48,jke({xfId:0,name:"Normal"})),at(t,620)}function Xke(t){var e=0;at(t,505,Oo(e)),at(t,506)}function Jke(t){var e=0;at(t,508,Bke(e,"TableStyleMedium9","PivotStyleMedium4")),at(t,509)}function Yke(t,e){var n=ia();return at(n,278),Wke(n,t.SSF),qke(n),zke(n),Hke(n),$ke(n),Gke(n,e.cellXfs),Kke(n),Xke(n),Jke(n),at(n,279),n.end()}var Qke=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Zke(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Ts)||[]).forEach(function(i){var s=Kt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Qke.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function eIe(){}function tIe(){}var nIe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rIe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,iIe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function sIe(t,e,n){e.themeElements={};var r;[["clrScheme",nIe,Zke],["fontScheme",rIe,eIe],["fmtScheme",iIe,tIe]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var aIe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function _X(t,e){(!t||t.length===0)&&(t=W3());var n,r={};if(!(n=t.match(aIe)))throw new Error("themeElements not found in theme");return sIe(n[0],r,e),r.raw=t,r}function W3(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Zr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function oIe(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=fK(s,{type:"array"})}catch{return}var o=wa(a,"theme/theme/theme1.xml",!0);if(o)return _X(o,n)}}function lIe(t){return t.read_shift(4)}function cIe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=uIe(t,4);break;case 2:e.xclrValue=ZK(t);break;case 3:e.xclrValue=lIe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function uIe(t,e){return _s(t,e)}function dIe(t,e){return _s(t,e)}function fIe(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=cIe(t);break;case 6:r[1]=dIe(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function hIe(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(fIe(t,n-t.l));return{ixfe:r,ext:s}}function pIe(t,e){e.forEach(function(n){n[0]})}function mIe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:xs(t)}}function gIe(t){var e=tt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Fi(t.name,e),e.slice(0,e.l)}function yIe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function vIe(t){var e=tt(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function xIe(t,e){var n=tt(8+2*e.length);return n.write_shift(4,t),Fi(e,n),n.slice(0,n.l)}function _Ie(t){return t.l+=4,t.read_shift(4)!=0}function bIe(t,e){var n=tt(8);return n.write_shift(4,t),n.write_shift(4,1),n}function wIe(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Nc(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):o==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function TIe(){var t=ia();return at(t,332),at(t,334,Oo(1)),at(t,335,gIe({name:"XLDAPR",version:12e4,flags:3496657072})),at(t,336),at(t,339,xIe(1,"XLDAPR")),at(t,52),at(t,35,Oo(514)),at(t,4096,Oo(0)),at(t,4097,Ga(1)),at(t,36),at(t,53),at(t,340),at(t,337,bIe(1)),at(t,51,vIe([[1,0]])),at(t,338),at(t,333),t.end()}function EIe(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(Ts,function(o){var l=Kt(o);switch(Il(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(a=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function bX(){var t=[Zr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function CIe(t){var e=[];if(!t)return e;var n=1;return(t.match(Ts)||[]).forEach(function(r){var i=Kt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function SIe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=$t(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function DIe(t,e,n){var r=[];return Nc(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function AIe(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Nc(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function NIe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var vp=1024;function wX(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[yt("xml",null,{"xmlns:v":xa.v,"xmlns:o":xa.o,"xmlns:x":xa.x,"xmlns:mv":xa.mv}).replace(/\/>/,">"),yt("o:shapelayout",yt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),yt("v:shapetype",[yt("v:stroke",null,{joinstyle:"miter"}),yt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];vp<t*1e3;)vp+=1e3;return e.forEach(function(s){var a=Dr(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?yt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=yt("v:fill",l,o),u={on:"t",obscured:"t"};++vp,i=i.concat(["<v:shape"+jy({id:"_x0000_s"+vp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,yt("v:shadow",null,u),yt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Gi("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Gi("x:AutoFill","False"),Gi("x:Row",String(a.r)),Gi("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function D7(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=Dr(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=bn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=tn(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:n};a.h&&(u.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function kIe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Kt(o[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Dr(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&j3(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),r.push(c)}}}}),r}function TX(t){var e=[Zr,yt("comments",null,{xmlns:th[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=Vn(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(Vn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Gi("t",Vn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Gi("t",Vn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function IIe(t,e){var n=[],r=!1,i={},s=0;return t.replace(Ts,function(o,l){var c=Kt(o);switch(Il(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function RIe(t,e,n){var r=[Zr,yt("ThreadedComments",null,{xmlns:gi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(yt("threadedComment",Gi("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function PIe(t,e){var n=[],r=!1;return t.replace(Ts,function(s){var a=Kt(s);switch(Il(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function FIe(t){var e=[Zr,yt("personList",null,{xmlns:gi.TCMNT,"xmlns:x":th[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(yt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function MIe(t){var e={};e.iauthor=t.read_shift(4);var n=sh(t);return e.rfx=n.s,e.ref=$t(n.s),t.l+=16,e}function UIe(t,e){return e==null&&(e=tt(36)),e.write_shift(4,t[1].iauthor),Jm(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var OIe=xs;function LIe(t){return Fi(t.slice(0,54))}function jIe(t,e){var n=[],r=[],i={},s=!1;return Nc(t,function(o,l,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function BIe(t){var e=ia(),n=[];return at(e,628),at(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),at(e,632,LIe(i.a)))})}),at(e,631),at(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Dr(r[0]),e:Dr(r[0])};at(e,635,UIe([s,i])),i.t&&i.t.length>0&&at(e,637,lAe(i)),at(e,636),delete i.iauthor})}),at(e,634),at(e,629),e.end()}var VIe="application/vnd.ms-office.vbaProject";function WIe(t){var e=Lt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Lt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Lt.write(e)}function qIe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Lt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var EX=["xlsb","xlsm","xlam","biff8","xla"];function zIe(){return{"!type":"dialog"}}function HIe(){return{"!type":"dialog"}}function $Ie(){return{"!type":"macro"}}function GIe(){return{"!type":"macro"}}var Pp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Sr(u)+(l?"":"$")+Yr(c)}return function(i,s){return e=s,i.replace(t,n)}})(),q3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,z3=(function(){return function(e,n){return e.replace(q3,function(r,i,s,a,o,l){var c=k3(a)-(s?0:n.c),u=N3(l)-(o?0:n.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+h})}})();function CX(t,e){return t.replace(q3,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Sr(k3(s)+e.c))+(a=="$"?a+o:Yr(N3(o)+e.r))})}function KIe(t,e,n){var r=sa(e),i=r.s,s=Dr(n),a={r:s.r-i.r,c:s.c-i.c};return CX(t,a)}function XIe(t){return t.length!=1}function A7(t){return t.replace(/_xlfn\./g,"")}function ri(t){t.l+=1}function Gu(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function SX(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return DX(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=Gu(t),o=Gu(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function DX(t){var e=Gu(t),n=Gu(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function JIe(t,e,n){if(n.biff<8)return DX(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Gu(t),a=Gu(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function AX(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return YIe(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Gu(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function YIe(t){var e=Gu(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function QIe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function ZIe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return e3e(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function e3e(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function t3e(t,e,n){var r=(t[t.l++]&96)>>5,i=SX(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function n3e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=SX(t,s,n);return[r,i,a]}function r3e(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function i3e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function s3e(t,e,n){var r=(t[t.l++]&96)>>5,i=JIe(t,e-1,n);return[r,i]}function a3e(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function N7(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function o3e(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function l3e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function c3e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function u3e(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function d3e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function NX(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function f3e(t){return t.read_shift(2),NX(t)}function h3e(t){return t.read_shift(2),NX(t)}function p3e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=AX(t,0,n);return[r,i]}function m3e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=ZIe(t,0,n);return[r,i]}function g3e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=AX(t,0,n);return[r,i,s]}function y3e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[_6e[i],RX[i],r]}function v3e(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:x3e(t);return[i,(s[0]===0?RX:x6e)[s[1]]]}function x3e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function _3e(t,e,n){t.l+=n&&n.biff==2?3:4}function b3e(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function w3e(t){return t.l++,kc[t.read_shift(1)]}function T3e(t){return t.l++,t.read_shift(2)}function E3e(t){return t.l++,t.read_shift(1)!==0}function C3e(t){return t.l++,hs(t)}function S3e(t,e,n){return t.l++,Wv(t,e-1,n)}function D3e(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Gr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=kc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=hs(t);break;case 2:n[1]=ah(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function A3e(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?sh:Nw)(t));return i}function N3e(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=D3e(t,n.biff);return a}function k3e(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function I3e(t,e,n){if(n.biff==5)return R3e(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function R3e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function P3e(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function F3e(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function M3e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function U3e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var O3e=_s,L3e=_s,j3e=_s;function zv(t,e,n){return t.l+=2,[QIe(t)]}function H3(t){return t.l+=6,[]}var B3e=zv,V3e=H3,W3e=H3,q3e=zv;function kX(t){return t.l+=2,[ai(t),t.read_shift(2)&1]}var z3e=zv,H3e=kX,$3e=H3,G3e=zv,K3e=zv,X3e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function J3e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=X3e[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function Y3e(t){return t.l+=2,[t.read_shift(4)]}function Q3e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function Z3e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function e6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function t6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function n6e(t){return t.l+=4,[0,0]}var k7={1:{n:"PtgExp",f:b3e},2:{n:"PtgTbl",f:j3e},3:{n:"PtgAdd",f:ri},4:{n:"PtgSub",f:ri},5:{n:"PtgMul",f:ri},6:{n:"PtgDiv",f:ri},7:{n:"PtgPower",f:ri},8:{n:"PtgConcat",f:ri},9:{n:"PtgLt",f:ri},10:{n:"PtgLe",f:ri},11:{n:"PtgEq",f:ri},12:{n:"PtgGe",f:ri},13:{n:"PtgGt",f:ri},14:{n:"PtgNe",f:ri},15:{n:"PtgIsect",f:ri},16:{n:"PtgUnion",f:ri},17:{n:"PtgRange",f:ri},18:{n:"PtgUplus",f:ri},19:{n:"PtgUminus",f:ri},20:{n:"PtgPercent",f:ri},21:{n:"PtgParen",f:ri},22:{n:"PtgMissArg",f:ri},23:{n:"PtgStr",f:S3e},26:{n:"PtgSheet",f:Q3e},27:{n:"PtgEndSheet",f:Z3e},28:{n:"PtgErr",f:w3e},29:{n:"PtgBool",f:E3e},30:{n:"PtgInt",f:T3e},31:{n:"PtgNum",f:C3e},32:{n:"PtgArray",f:a3e},33:{n:"PtgFunc",f:y3e},34:{n:"PtgFuncVar",f:v3e},35:{n:"PtgName",f:k3e},36:{n:"PtgRef",f:p3e},37:{n:"PtgArea",f:t3e},38:{n:"PtgMemArea",f:P3e},39:{n:"PtgMemErr",f:O3e},40:{n:"PtgMemNoMem",f:L3e},41:{n:"PtgMemFunc",f:F3e},42:{n:"PtgRefErr",f:M3e},43:{n:"PtgAreaErr",f:r3e},44:{n:"PtgRefN",f:m3e},45:{n:"PtgAreaN",f:s3e},46:{n:"PtgMemAreaN",f:e6e},47:{n:"PtgMemNoMemN",f:t6e},57:{n:"PtgNameX",f:I3e},58:{n:"PtgRef3d",f:g3e},59:{n:"PtgArea3d",f:n3e},60:{n:"PtgRefErr3d",f:U3e},61:{n:"PtgAreaErr3d",f:i3e},255:{}},r6e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},i6e={1:{n:"PtgElfLel",f:kX},2:{n:"PtgElfRw",f:G3e},3:{n:"PtgElfCol",f:B3e},6:{n:"PtgElfRwV",f:K3e},7:{n:"PtgElfColV",f:q3e},10:{n:"PtgElfRadical",f:z3e},11:{n:"PtgElfRadicalS",f:$3e},13:{n:"PtgElfColS",f:V3e},15:{n:"PtgElfColSV",f:W3e},16:{n:"PtgElfRadicalLel",f:H3e},25:{n:"PtgList",f:J3e},29:{n:"PtgSxName",f:Y3e},255:{}},s6e={0:{n:"PtgAttrNoop",f:n6e},1:{n:"PtgAttrSemi",f:d3e},2:{n:"PtgAttrIf",f:c3e},4:{n:"PtgAttrChoose",f:o3e},8:{n:"PtgAttrGoto",f:l3e},16:{n:"PtgAttrSum",f:_3e},32:{n:"PtgAttrBaxcel",f:N7},33:{n:"PtgAttrBaxcel",f:N7},64:{n:"PtgAttrSpace",f:f3e},65:{n:"PtgAttrSpaceSemi",f:h3e},128:{n:"PtgAttrIfError",f:u3e},255:{}};function Hv(t,e,n,r){if(r.biff<8)return _s(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=N3e(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=A3e(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(_s(t,e)),s}function $v(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=k7[s]||k7[r6e[s]],(s===24||s===25)&&(i=(s===24?i6e:s6e)[t[t.l+1]]),!i||!i.f?_s(t,e):a.push([i.n,i.f(t,e,n)]);return a}function a6e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var o6e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function l6e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function IX(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function I7(t,e,n){var r=IX(t,e,n);return r=="#REF"?r:l6e(r,n)}function us(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",b=0,x=t[0].length;b<x;++b){var w=t[0][b];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=Mr(" ",t[0][g][1][1]);break;case 1:y=Mr("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+o6e[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=q0(w[1][1],a,i),o.push(z0(u,s));break;case"PtgRefN":u=n?q0(w[1][1],n,i):w[1][1],o.push(z0(u,s));break;case"PtgRef3d":f=w[1][1],u=q0(w[1][2],a,i),v=I7(r,f,i),o.push(v+"!"+z0(u,s));break;case"PtgFunc":case"PtgFuncVar":var E=w[1][0],S=w[1][1];E||(E=0),E&=127;var R=E==0?[]:o.slice(-E);o.length-=E,S==="User"&&(S=R.shift()),o.push(S+"("+R.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=a7(w[1][1],n?{s:n}:a,i),o.push(nD(p,i));break;case"PtgArea":p=a7(w[1][1],a,i),o.push(nD(p,i));break;case"PtgArea3d":f=w[1][1],p=w[1][2],v=I7(r,f,i),o.push(v+"!"+nD(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var D=(r.names||[])[h-1]||(r[0]||[])[h],N=D?D.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var I=w[1][1];h=w[1][2];var F;if(i.biff<=5)I<0&&(I=-I),r[I]&&(F=r[I][h]);else{var P="";if(((r[I]||[])[0]||[])[0]==14849||(((r[I]||[])[0]||[])[0]==1025?r[I][h]&&r[I][h].itab>0&&(P=r.SheetNames[r[I][h].itab-1]+"!"):P=r.SheetNames[h-1]+"!"),r[I]&&r[I][h])P+=r[I][h].Name;else if(r[0]&&r[0][h])P+=r[0][h].Name;else{var k=(IX(r,I,i)||"").split(";;");k[h-1]?P=k[h-1]:P+="SH33TJSERRX"}o.push(P);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var U="(",O=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:U=Mr(" ",t[0][g][1][1])+U;break;case 3:U=Mr("\r",t[0][g][1][1])+U;break;case 4:O=Mr(" ",t[0][g][1][1])+O;break;case 5:O=Mr("\r",t[0][g][1][1])+O;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(U+o.pop()+O);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var X={c:n.c,r:n.r};if(r.sharedf[$t(u)]){var J=r.sharedf[$t(u)];o.push(us(J,a,X,r,i))}else{var Y=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(us(c[1],a,X,r,i)),Y=!0;break}Y||o.push(w[1])}break;case"PtgArray":o.push("{"+a6e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&ne.indexOf(t[0][b][0])==-1){w=t[0][g];var z=!0;switch(w[1][0]){case 4:z=!1;case 0:y=Mr(" ",w[1][1]);break;case 5:z=!1;case 1:y=Mr("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((z?y:"")+o.pop()+(z?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function c6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],_s(t,e-2)];var o=$v(t,a,n);return e!==a+i&&(s=Hv(t,e-a-i,o,n)),t.l=r,[o,s]}function u6e(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],_s(t,e-2)];var o=$v(t,a,n);return e!==a+i&&(s=Hv(t,e-a-i,o,n)),t.l=r,[o,s]}function d6e(t,e,n,r){var i=t.l+e,s=$v(t,r,n),a;return i!==t.l&&(a=Hv(t,i-t.l,s,n)),[s,a]}function f6e(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=$v(t,s,n);return s==65535?[[],_s(t,e-2)]:(e!==s+2&&(i=Hv(t,r-s-2,a,n)),[a,i])}function h6e(t){var e;if(ec(t,t.l+6)!==65535)return[hs(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function p6e(t){if(t==null){var e=tt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Uf(t);return Uf(0)}function oD(t,e,n){var r=t.l+e,i=Rl(t);n.biff==2&&++t.l;var s=h6e(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=u6e(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function m6e(t,e,n,r,i){var s=Lf(e,n,i),a=p6e(t.v),o=tt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=tt(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=Pi([s,a,o,c]);return f}function kw(t,e,n){var r=t.read_shift(4),i=$v(t,r,n),s=t.read_shift(4),a=s>0?Hv(t,s,i,n):null;return[i,a]}var g6e=kw,Iw=kw,y6e=kw,v6e=kw,x6e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},RX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},_6e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function R7(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function b6e(t){var e="of:="+t.replace(q3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function lD(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function w6e(t){return t.replace(/\./,"!")}var $0={},Fp={},G0=typeof Map<"u";function $3(t,e,n){var r=0,i=t.length;if(n){if(G0?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=G0?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(G0?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Rw(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(ds=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=zy(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=$_(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function ff(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function od(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){oc(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function PX(t,e,n,r,i,s){try{r.cellNF&&(t.z=Wt[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=fr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Wt[e]==null&&oc(xDe[e]||"General",e),t.t==="e")t.w=t.w||kc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Oy(t.v);else if(t.t==="d"){var a=vi(t.v);(a|0)===a?t.w=a.toString(10):t.w=Oy(a)}else{if(t.v===void 0)return"";t.w=Ff(t.v,Fp)}else t.t==="d"?t.w=so(e,vi(t.v),Fp):t.w=so(e,t.v,Fp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=H_(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=H_(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function T6e(t,e,n){if(t&&t["!ref"]){var r=bn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function E6e(t,e){var n=bn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=tn(n))}var C6e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,S6e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,D6e=/<(?:\w:)?hyperlink [^>]*>/mg,A6e=/"(\w*:\w*)"/,N6e=/<(?:\w:)?col\b[^>]*[\/]?>/g,k6e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,I6e=/<(?:\w:)?pageMargins[^>]*\/>/g,FX=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,R6e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,P6e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function F6e(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(S6e);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var h=c.match(FX);h?G3(h[0],o,i,n):(h=c.match(R6e))&&U6e(h[0],h[1]||"",o,i,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=c.slice(p,p+50).match(A6e);v&&E6e(o,v[1])}var g=c.match(P6e);g&&g[1]&&X6e(g[1],i);var y=[];if(e.cellStyles){var b=c.match(N6e);b&&z6e(y,b)}f&&Q6e(f[1],o,e,l,s,a);var x=u.match(k6e);x&&(o["!autofilter"]=$6e(x[0]));var w=[],E=u.match(C6e);if(E)for(p=0;p!=E.length;++p)w[p]=bn(E[p].slice(E[p].indexOf('"')+1));var S=u.match(D6e);S&&V6e(o,S,r);var R=u.match(I6e);if(R&&(o["!margins"]=W6e(Kt(R[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=tn(l)),e.sheetRows>0&&o["!ref"]){var D=bn(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=tn(D))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function M6e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+tn(t[n])+'"/>';return e+"</mergeCells>"}function G3(t,e,n,r){var i=Kt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=_n(Hn(i.codeName)))}function U6e(t,e,n,r,i){G3(t.slice(0,t.indexOf(">")),n,r,i)}function O6e(t,e,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,a.codeName=gl(Vn(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+yt("outlinePr",null,c)}!s&&!o||(i[i.length]=yt("sheetPr",o,a))}var L6e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],j6e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function B6e(t){var e={sheet:1};return L6e.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),j6e.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=B3(t.password).toString(16).toUpperCase()),yt("sheetProtection",null,e)}function V6e(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=Kt(Hn(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+_n(s.location))):(s.Target="#"+_n(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=bn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=$t({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function W6e(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function q6e(t){return ff(t),yt("pageMargins",null,t)}function z6e(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=Kt(e[r],!0);i.hidden&&(i.hidden=lr(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,V3(i.width)),$u(i);s<=a;)t[s++]=hr(i)}}function H6e(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=yt("col",null,Rw(i,r)));return n[n.length]="</cols>",n.join("")}function $6e(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function G6e(t,e,n,r){var i=typeof t.ref=="string"?t.ref:tn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=sa(i);a.s.r==a.e.r&&(a.e.r=sa(e["!ref"]).e.r,i=tn(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),yt("autoFilter",null,{ref:i})}var K6e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function X6e(t,e){e.Views||(e.Views=[{}]),(t.match(K6e)||[]).forEach(function(n,r){var i=Kt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),lr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function J6e(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),yt("sheetViews",yt("sheetView",null,i),{})}function Y6e(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=kc[t.v];break;case"d":r&&r.cellDates?i=fr(t.v,-1).toISOString():(t=hr(t),t.t="n",i=""+(t.v=vi(fr(t.v)))),typeof t.z>"u"&&(t.z=Wt[14]);break;default:i=t.v;break}var o=Gi("v",Vn(i)),l={r:e},c=od(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Gi("v",""+$3(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=yt("f",Vn(t.f),u)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),yt("c",o,l)}var Q6e=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Ly("v"),a=Ly("f");return function(l,c,u,f,h,p){for(var v=0,g="",y=[],b=[],x=0,w=0,E=0,S="",R,D,N=0,I=0,F,P,k=0,U=0,O=Array.isArray(p.CellXf),X,J=[],Y=[],ne=Array.isArray(c),z=[],K={},B=!1,j=!!u.sheetStubs,W=l.split(e),H=0,Q=W.length;H!=Q;++H){g=W[H].trim();var Z=g.length;if(Z!==0){var se=0;e:for(v=0;v<Z;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(D=Kt(g.slice(se,v),!0),N=D.r!=null?parseInt(D.r,10):N+1,I=-1,u.sheetRows&&u.sheetRows<N)continue;K={},B=!1,D.ht&&(B=!0,K.hpt=parseFloat(D.ht),K.hpx=gm(K.hpt)),D.hidden=="1"&&(B=!0,K.hidden=!0),D.outlineLevel!=null&&(B=!0,K.level=+D.outlineLevel),B&&(z[N-1]=K)}break;case"<":se=v;break}if(se>=v)break;if(D=Kt(g.slice(se,v),!0),N=D.r!=null?parseInt(D.r,10):N+1,I=-1,!(u.sheetRows&&u.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),u&&u.cellStyles&&(K={},B=!1,D.ht&&(B=!0,K.hpt=parseFloat(D.ht),K.hpx=gm(K.hpt)),D.hidden=="1"&&(B=!0,K.hidden=!0),D.outlineLevel!=null&&(B=!0,K.level=+D.outlineLevel),B&&(z[N-1]=K)),y=g.slice(v).split(t);for(var ce=0;ce!=y.length&&y[ce].trim().charAt(0)=="<";++ce);for(y=y.slice(ce),v=0;v!=y.length;++v)if(g=y[v].trim(),g.length!==0){if(b=g.match(n),x=v,w=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,b!=null&&b.length===2){for(x=0,S=b[1],w=0;w!=S.length&&!((E=S.charCodeAt(w)-64)<1||E>26);++w)x=26*x+E;--x,I=x}else++I;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,D=Kt(g.slice(0,w),!0),D.r||(D.r=$t({r:N-1,c:I})),S=g.slice(w),R={t:""},(b=S.match(s))!=null&&b[1]!==""&&(R.v=_n(b[1])),u.cellFormula){if((b=S.match(a))!=null&&b[1]!==""){if(R.f=_n(Hn(b[1])).replace(/\r\n/g,`
`),u.xlfn||(R.f=A7(R.f)),b[0].indexOf('t="array"')>-1)R.F=(S.match(i)||[])[1],R.F.indexOf(":")>-1&&J.push([bn(R.F),R.F]);else if(b[0].indexOf('t="shared"')>-1){P=Kt(b[0]);var ue=_n(Hn(b[1]));u.xlfn||(ue=A7(ue)),Y[parseInt(P.si,10)]=[P,ue,D.r]}}else(b=S.match(/<f[^>]*\/>/))&&(P=Kt(b[0]),Y[P.si]&&(R.f=KIe(Y[P.si][1],Y[P.si][2],D.r)));var Ee=Dr(D.r);for(w=0;w<J.length;++w)Ee.r>=J[w][0].s.r&&Ee.r<=J[w][0].e.r&&Ee.c>=J[w][0].s.c&&Ee.c<=J[w][0].e.c&&(R.F=J[w][1])}if(D.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(j)R.t="z";else continue;else R.t=D.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),R.t){case"n":if(R.v==""||R.v==null){if(!j)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!j)continue;R.t="z"}else F=$0[parseInt(R.v,10)],R.v=F.t,R.r=F.r,u.cellHTML&&(R.h=F.h);break;case"str":R.t="s",R.v=R.v!=null?Hn(R.v):"",u.cellHTML&&(R.h=C3(R.v));break;case"inlineStr":b=S.match(r),R.t="s",b!=null&&(F=j3(b[1]))?(R.v=F.t,u.cellHTML&&(R.h=F.h)):R.v="";break;case"b":R.v=lr(R.v);break;case"d":u.cellDates?R.v=fr(R.v,1):(R.v=vi(fr(R.v,1)),R.t="n");break;case"e":(!u||u.cellText!==!1)&&(R.w=R.v),R.v=UK[R.v];break}if(k=U=0,X=null,O&&D.s!==void 0&&(X=p.CellXf[D.s],X!=null&&(X.numFmtId!=null&&(k=X.numFmtId),u.cellStyles&&X.fillId!=null&&(U=X.fillId))),PX(R,k,U,u,h,p),u.cellDates&&O&&R.t=="n"&&Gm(Wt[k])&&(R.t="d",R.v=Aw(R.v)),D.cm&&u.xlmeta){var Ie=(u.xlmeta.Cell||[])[+D.cm-1];Ie&&Ie.type=="XLDAPR"&&(R.D=!0)}if(ne){var fe=Dr(D.r);c[fe.r]||(c[fe.r]=[]),c[fe.r][fe.c]=R}else c[D.r]=R}}}}z.length>0&&(c["!rows"]=z)}})();function Z6e(t,e,n,r){var i=[],s=[],a=bn(t["!ref"]),o="",l,c="",u=[],f=0,h=0,p=t["!rows"],v=Array.isArray(t),g={r:c},y,b=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=Sr(h);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=Yr(f),h=a.s.c;h<=a.e.c;++h){l=u[h]+c;var x=v?(t[f]||[])[h]:t[l];x!==void 0&&(o=Y6e(x,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[f])&&(g={r:c},p&&p[f]&&(y=p[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=Hy(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=yt("row",s.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},y=p[f],y.hidden&&(g.hidden=1),b=-1,y.hpx?b=Hy(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(g.ht=b,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=yt("row","",g));return i.join("")}function MX(t,e,n,r){var i=[Zr,yt("worksheet",null,{xmlns:th[0],"xmlns:r":gi.r})],s=n.SheetNames[t],a=0,o="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=bn(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=tn(u)}r||(r={}),l["!comments"]=[];var f=[];O6e(l,n,t,e,i),i[i.length]=yt("dimension",null,{ref:c}),i[i.length]=J6e(l,e,t,n),e.sheetFormat&&(i[i.length]=yt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=H6e(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=Z6e(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=B6e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=G6e(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=M6e(l["!merges"]));var h=-1,p,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=jn(r,-1,Vn(g[1].Target).replace(/#.*$/,""),un.HLINK),p["r:id"]="rId"+v),(h=g[1].Target.indexOf("#"))>-1&&(p.location=Vn(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=Vn(g[1].Tooltip)),i[i.length]=yt("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=q6e(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Gi("ignoredErrors",yt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(v=jn(r,-1,"../drawings/drawing"+(t+1)+".xml",un.DRAW),i[i.length]=yt("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=jn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",un.VML),i[i.length]=yt("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function eRe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function tRe(t,e,n){var r=tt(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=Hy(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var v=Array.isArray(n)?(n[c.r]||[])[c.c]:n[$t(c)];v&&(f<0&&(f=p),h=p)}f<0||(++o,r.write_shift(4,f),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function nRe(t,e,n,r){var i=tRe(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&at(t,0,i)}var rRe=sh,iRe=Jm;function sRe(){}function aRe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=cAe(t),n}function oRe(t,e,n){n==null&&(n=tt(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return W_({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),IK(t,n),n.slice(0,n.l)}function lRe(t){var e=lo(t);return[e]}function cRe(t,e,n){return n==null&&(n=tt(8)),nh(e,n)}function uRe(t){var e=rh(t);return[e]}function dRe(t,e,n){return n==null&&(n=tt(4)),ih(e,n)}function fRe(t){var e=lo(t),n=t.read_shift(1);return[e,n,"b"]}function hRe(t,e,n){return n==null&&(n=tt(9)),nh(e,n),n.write_shift(1,t.v?1:0),n}function pRe(t){var e=rh(t),n=t.read_shift(1);return[e,n,"b"]}function mRe(t,e,n){return n==null&&(n=tt(5)),ih(e,n),n.write_shift(1,t.v?1:0),n}function gRe(t){var e=lo(t),n=t.read_shift(1);return[e,n,"e"]}function yRe(t,e,n){return n==null&&(n=tt(9)),nh(e,n),n.write_shift(1,t.v),n}function vRe(t){var e=rh(t),n=t.read_shift(1);return[e,n,"e"]}function xRe(t,e,n){return n==null&&(n=tt(8)),ih(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function _Re(t){var e=lo(t),n=t.read_shift(4);return[e,n,"s"]}function bRe(t,e,n){return n==null&&(n=tt(12)),nh(e,n),n.write_shift(4,e.v),n}function wRe(t){var e=rh(t),n=t.read_shift(4);return[e,n,"s"]}function TRe(t,e,n){return n==null&&(n=tt(8)),ih(e,n),n.write_shift(4,e.v),n}function ERe(t){var e=lo(t),n=hs(t);return[e,n,"n"]}function CRe(t,e,n){return n==null&&(n=tt(16)),nh(e,n),Uf(t.v,n),n}function UX(t){var e=rh(t),n=hs(t);return[e,n,"n"]}function SRe(t,e,n){return n==null&&(n=tt(12)),ih(e,n),Uf(t.v,n),n}function DRe(t){var e=lo(t),n=F3(t);return[e,n,"n"]}function ARe(t,e,n){return n==null&&(n=tt(12)),nh(e,n),RK(t.v,n),n}function NRe(t){var e=rh(t),n=F3(t);return[e,n,"n"]}function kRe(t,e,n){return n==null&&(n=tt(8)),ih(e,n),RK(t.v,n),n}function IRe(t){var e=lo(t),n=I3(t);return[e,n,"is"]}function RRe(t){var e=lo(t),n=xs(t);return[e,n,"str"]}function PRe(t,e,n){return n==null&&(n=tt(12+4*t.v.length)),nh(e,n),Fi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function FRe(t){var e=rh(t),n=xs(t);return[e,n,"str"]}function MRe(t,e,n){return n==null&&(n=tt(8+4*t.v.length)),ih(e,n),Fi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function URe(t,e,n){var r=t.l+e,i=lo(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=Iw(t,r-t.l,n);a[3]=us(o,null,i,n.supbooks,n)}else t.l=r;return a}function ORe(t,e,n){var r=t.l+e,i=lo(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=Iw(t,r-t.l,n);a[3]=us(o,null,i,n.supbooks,n)}else t.l=r;return a}function LRe(t,e,n){var r=t.l+e,i=lo(t);i.r=n["!row"];var s=hs(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=Iw(t,r-t.l,n);a[3]=us(o,null,i,n.supbooks,n)}else t.l=r;return a}function jRe(t,e,n){var r=t.l+e,i=lo(t);i.r=n["!row"];var s=xs(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=Iw(t,r-t.l,n);a[3]=us(o,null,i,n.supbooks,n)}else t.l=r;return a}var BRe=sh,VRe=Jm;function WRe(t,e){return e==null&&(e=tt(4)),e.write_shift(4,t),e}function qRe(t,e){var n=t.l+e,r=sh(t),i=R3(t),s=xs(t),a=xs(t),o=xs(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function zRe(t,e){var n=tt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Jm({s:Dr(t[0]),e:Dr(t[0])},n),P3("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Fi(i||"",n),Fi(t[1].Tooltip||"",n),Fi("",n),n.slice(0,n.l)}function HRe(){}function $Re(t,e,n){var r=t.l+e,i=PK(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=g6e(t,r-t.l,n);a[1]=o}else t.l=r;return a}function GRe(t,e,n){var r=t.l+e,i=sh(t),s=[i];if(n.cellFormula){var a=v6e(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function KRe(t,e,n){n==null&&(n=tt(18));var r=Rw(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var OX=["left","right","top","bottom","header","footer"];function XRe(t){var e={};return OX.forEach(function(n){e[n]=hs(t)}),e}function JRe(t,e){return e==null&&(e=tt(48)),ff(t),OX.forEach(function(n){Uf(t[n],e)}),e}function YRe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function QRe(t,e,n){n==null&&(n=tt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function ZRe(t){var e=tt(24);return e.write_shift(4,4),e.write_shift(4,1),Jm(t,e),e}function e5e(t,e){return e==null&&(e=tt(66)),e.write_shift(2,t.password?B3(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function t5e(){}function n5e(){}function r5e(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,g,y,b,x,w,E,S,R=[];o.biff=12,o["!row"]=0;var D=0,N=!1,I=[],F={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=F,P.arrayf=I,P.SheetNames=i.SheetNames||i.Sheets.map(function(ne){return ne.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var k=0;k<i.Names.length;++k)P[0][k+1]=i.Names[k];var U=[],O=[],X=!1;$y[16]={n:"BrtShortReal",f:UX};var J;if(Nc(t,function(z,K,B){if(!h)switch(B){case 148:c=z;break;case 0:p=z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),E=Yr(y=p.r),o["!row"]=p.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=gm(z.hpt)),O[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:z[2]},z[2]){case"n":v.v=z[1];break;case"s":w=$0[z[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!z[1];break;case"e":v.v=z[1],o.cellText!==!1&&(v.w=kc[v.v]);break;case"str":v.t="s",v.v=z[1];break;case"is":v.t="s",v.v=z[1].t;break}if((g=a.CellXf[z[0].iStyleRef])&&PX(v,g.numFmtId,null,o,s,a),b=z[0].c==-1?b+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[Sr(b)+E]=v,o.cellFormula){for(N=!1,D=0;D<I.length;++D){var j=I[D];p.r>=j[0].s.r&&p.r<=j[0].e.r&&b>=j[0].s.c&&b<=j[0].e.c&&(v.F=tn(j[0]),N=!0)}!N&&z.length>3&&(v.f=z[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),o.cellDates&&g&&v.t=="n"&&Gm(Wt[g.numFmtId])){var W=nf(v.v);W&&(v.t="d",v.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}J&&(J.type=="XLDAPR"&&(v.D=!0),J=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},b=z[0].c==-1?b+1:z[0].c,o.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[Sr(b)+E]=v,u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),J&&(J.type=="XLDAPR"&&(v.D=!0),J=void 0);break;case 176:R.push(z);break;case 49:J=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var H=r["!id"][z.relId];for(H?(z.Target=H.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=H):z.relId==""&&(z.Target="#"+z.loc),y=z.rfx.s.r;y<=z.rfx.e.r;++y)for(b=z.rfx.s.c;b<=z.rfx.e.c;++b)o.dense?(l[y]||(l[y]=[]),l[y][b]||(l[y][b]={t:"z",v:void 0}),l[y][b].l=z):(x=$t({c:b,r:y}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=z);break;case 426:if(!o.cellFormula)break;I.push(z),S=o.dense?l[y][b]:l[Sr(b)+E],S.f=us(z[1],u,{r:p.r,c:b},P,o),S.F=tn(z[0]);break;case 427:if(!o.cellFormula)break;F[$t(z[0].s)]=z[1],S=o.dense?l[y][b]:l[Sr(b)+E],S.f=us(z[1],u,{r:p.r,c:b},P,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)U[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},X||(X=!0,V3(z.w/256)),$u(U[z.e+1]);break;case 161:l["!autofilter"]={ref:tn(z)};break;case 476:l["!margins"]=z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),z.name&&(i.Sheets[n].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!K.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=tn(c||u)),o.sheetRows&&l["!ref"]){var Y=bn(l["!ref"]);o.sheetRows<=+Y.e.r&&(Y.e.r=o.sheetRows-1,Y.e.r>u.e.r&&(Y.e.r=u.e.r),Y.e.r<Y.s.r&&(Y.s.r=Y.e.r),Y.e.c>u.e.c&&(Y.e.c=u.e.c),Y.e.c<Y.s.c&&(Y.s.c=Y.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tn(Y))}return R.length>0&&(l["!merges"]=R),U.length>0&&(l["!cols"]=U),O.length>0&&(l["!rows"]=O),l}function i5e(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=hr(e),e.z=e.z||Wt[14],e.v=vi(fr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=od(i.cellXfs,e,i),e.l&&s["!links"].push([$t(l),e.l]),e.c&&s["!comments"].push([$t(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=$3(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?at(t,18,TRe(e,l)):at(t,7,bRe(e,l))):(l.t="str",a?at(t,17,MRe(e,l)):at(t,6,PRe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?at(t,13,kRe(e,l)):at(t,2,ARe(e,l)):a?at(t,16,SRe(e,l)):at(t,5,CRe(e,l)),!0;case"b":return l.t="b",a?at(t,15,mRe(e,l)):at(t,4,hRe(e,l)),!0;case"e":return l.t="e",a?at(t,14,xRe(e,l)):at(t,3,yRe(e,l)),!0}return a?at(t,12,dRe(e,l)):at(t,1,cRe(e,l)),!0}function s5e(t,e,n,r){var i=bn(e["!ref"]||"A1"),s,a="",o=[];at(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=Yr(u),nRe(t,e,i,u);var f=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=Sr(h)),s=o[h]+a;var p=l?(e[u]||[])[h]:e[s];if(!p){f=!1;continue}f=i5e(t,p,u,h,r,e,f)}}at(t,146)}function a5e(t,e){!e||!e["!merges"]||(at(t,177,WRe(e["!merges"].length)),e["!merges"].forEach(function(n){at(t,176,VRe(n))}),at(t,178))}function o5e(t,e){!e||!e["!cols"]||(at(t,390),e["!cols"].forEach(function(n,r){n&&at(t,60,KRe(r,n))}),at(t,391))}function l5e(t,e){!e||!e["!ref"]||(at(t,648),at(t,649,ZRe(bn(e["!ref"]))),at(t,650))}function c5e(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=jn(n,-1,r[1].Target.replace(/#.*$/,""),un.HLINK);at(t,494,zRe(r,i))}}),delete e["!links"]}function u5e(t,e,n,r){if(e["!comments"].length>0){var i=jn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",un.VML);at(t,551,P3("rId"+i)),e["!legacy"]=i}}function d5e(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:tn(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=sa(s);o.s.r==o.e.r&&(o.e.r=sa(e["!ref"]).e.r,s=tn(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),at(t,161,Jm(bn(s))),at(t,162)}}function f5e(t,e,n){at(t,133),at(t,137,QRe(e,n)),at(t,138),at(t,134)}function h5e(t,e){e["!protect"]&&at(t,535,e5e(e["!protect"]))}function p5e(t,e,n,r){var i=ia(),s=n.SheetNames[t],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=bn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],at(i,129),(n.vbaraw||a["!outline"])&&at(i,147,oRe(o,a["!outline"])),at(i,148,iRe(l)),f5e(i,a,n.Workbook),o5e(i,a),s5e(i,a,t,e),h5e(i,a),d5e(i,a,n,t),a5e(i,a),c5e(i,a,r),a["!margins"]&&at(i,476,JRe(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&l5e(i,a),u5e(i,a,t,r),at(i,130),i.end()}function m5e(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=_n((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function g5e(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=m5e(f);u.s.r=u.s.c=0,u.e.c=o,c=Sr(o),h[0].forEach(function(p,v){a[c+Yr(v)]={t:"n",v:p,z:h[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=tn(u)),a}function y5e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(FX);return o&&G3(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function v5e(t,e){t.l+=10;var n=xs(t);return{name:n}}function x5e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Nc(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var K3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],_5e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],b5e=[],w5e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function P7(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=lr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function F7(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=lr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function LX(t){F7(t.WBProps,K3),F7(t.CalcPr,w5e),P7(t.WBView,_5e),P7(t.Sheets,b5e),Fp.date1904=lr(t.WBProps.date1904)}function T5e(t){return!t.Workbook||!t.Workbook.WBProps?"false":lr(t.Workbook.WBProps.date1904)?"true":"false"}var E5e="][*?/\\".split("");function jX(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return E5e.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function C5e(t,e,n){t.forEach(function(r,i){jX(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function S5e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];C5e(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)T6e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var D5e=/<\w+:workbook/;function A5e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(Ts,function(l,c){var u=Kt(l);switch(Il(u[0])){case"<?xml":break;case"<workbook":l.match(D5e)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":K3.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=lr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=Hn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=_n(Hn(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Hn(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),lr(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=_n(Hn(t.slice(a,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),th.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return LX(n),n}function BX(t){var e=[Zr];e[e.length]=yt("workbook",null,{xmlns:th[0],"xmlns:r":gi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(K3.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=yt("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Vn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=yt("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=yt("definedName",Vn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function N5e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=eN(t),n.name=xs(t),n}function k5e(t,e){return e||(e=tt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),P3(t.strRelID,e),Fi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function I5e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?xs(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function R5e(t,e){e||(e=tt(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),IK(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function P5e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function F5e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=uAe(t),a=y6e(t,0,n),o=R3(t);t.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function M5e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],$y[16]={n:"BrtFRTArchID$",f:P5e},Nc(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=us(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),LX(n),n.Names=s,n.supbooks=a,n}function U5e(t,e){at(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};at(t,156,k5e(i))}at(t,144)}function O5e(t,e){e||(e=tt(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Fi("SheetJS",e),Fi(M_.version,e),Fi(M_.version,e),Fi("7262",e),e.length>e.l?e.slice(0,e.l):e}function L5e(t,e){e||(e=tt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function j5e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(at(t,135),at(t,158,L5e(i)),at(t,136))}}function B5e(t,e){var n=ia();return at(n,131),at(n,128,O5e()),at(n,153,R5e(t.Workbook&&t.Workbook.WBProps||null)),j5e(n,t),U5e(n,t),at(n,132),n.end()}function V5e(t,e,n){return e.slice(-4)===".bin"?M5e(t,n):A5e(t,n)}function W5e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?r5e(t,r,n,i,s,a,o):F6e(t,r,n,i,s,a,o)}function q5e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?x5e(t,r,n,i,s):y5e(t,r,n,i,s)}function z5e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?$Ie():GIe()}function H5e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?zIe():HIe()}function $5e(t,e,n,r){return e.slice(-4)===".bin"?Vke(t,n,r):Nke(t,n,r)}function G5e(t,e,n){return _X(t,n)}function K5e(t,e,n){return e.slice(-4)===".bin"?KNe(t,n):HNe(t,n)}function X5e(t,e,n){return e.slice(-4)===".bin"?jIe(t,n):kIe(t,n)}function J5e(t,e,n){return e.slice(-4)===".bin"?DIe(t):CIe(t)}function Y5e(t,e,n,r){return n.slice(-4)===".bin"?AIe(t,e,n,r):void 0}function Q5e(t,e,n){return e.slice(-4)===".bin"?wIe(t,e,n):EIe(t,e,n)}function Z5e(t,e,n){return(e.slice(-4)===".bin"?B5e:BX)(t)}function ePe(t,e,n,r,i){return(e.slice(-4)===".bin"?p5e:MX)(t,n,r,i)}function tPe(t,e,n){return(e.slice(-4)===".bin"?Yke:vX)(t,n)}function nPe(t,e,n){return(e.slice(-4)===".bin"?YNe:uX)(t,n)}function rPe(t,e,n){return(e.slice(-4)===".bin"?BIe:TX)(t)}function iPe(t){return(t.slice(-4)===".bin"?TIe:bX)()}var VX=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,WX=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Eo(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(VX),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(WX),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function sPe(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(VX),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(WX),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var K0;function aPe(t,e){var n=K0[t]||_n(t);return n==="General"?Ff(e):so(n,e)}function oPe(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=lr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=fr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[_n(e)]=i}function lPe(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||kc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Oy(t.v):t.w=Ff(t.v):t.w=aPe(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=K0[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Gm(r)){var i=nf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function cPe(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=bke[r.Pattern]||r.Pattern)}t[e.ID]=e}function uPe(t,e,n,r,i,s,a,o,l,c){var u="General",f=r.StyleID,h={};c=c||{};var p=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=lr(t);break;case"String":r.t="s",r.r=Y9(_n(t)),r.v=t.indexOf("<")>-1?_n(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(fr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=_n(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=UK[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=Y9(e||t));break}if(lPe(r,u,c),c.cellFormula!==!1)if(r.Formula){var g=_n(r.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),r.f=Pp(g,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Pp("RC:RC",i):r.ArrayRange&&(r.F=Pp(r.ArrayRange,i),l.push([bn(r.F),r.F]))}else for(v=0;v<l.length;++v)i.r>=l[v][0].s.r&&i.r<=l[v][0].e.r&&i.c>=l[v][0].s.c&&i.c<=l[v][0].e.c&&(r.F=l[v][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),r.s=h),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function dPe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function cD(t,e){var n=e||{};Km();var r=m0(S3(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Hn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=hr(n);return a.type="string",mm.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(re){i.indexOf("<"+re)>=0&&(s=!0)}),s)return JPe(r,n);K0={"General Number":"General","General Date":Wt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Wt[15],"Short Date":Wt[14],"Long Time":Wt[19],"Medium Time":Wt[18],"Short Time":Wt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Wt[2],Standard:Wt[4],Percent:Wt[10],Scientific:Wt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=n.dense?[]:{},p="",v={},g={},y=Eo('<Data ss:Type="String">'),b=0,x=0,w=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},R={},D="",N=0,I=[],F={},P={},k=0,U=[],O=[],X={},J=[],Y,ne=!1,z=[],K=[],B={},j=0,W=0,H={Sheets:[],WBProps:{date1904:!1}},Q={};By.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";o=By.exec(r);)switch(o[3]=(Z=o[3]).toLowerCase()){case"data":if(Z=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?uPe(r.slice(b,o.index),D,y,l[l.length-1][0]=="comment"?X:v,{c:x,r:w},S,J[x],g,z,n):(D="",y=Eo(o[0]),b=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(O.length>0&&(v.c=O),(!n.sheetRows||n.sheetRows>w)&&v.v!==void 0&&(n.dense?(h[w]||(h[w]=[]),h[w][x]=v):h[Sr(x)+Yr(w)]=v),v.HRef&&(v.l={Target:_n(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=x+(parseInt(v.MergeAcross,10)|0),W=w+(parseInt(v.MergeDown,10)|0),I.push({s:{c:x,r:w},e:{c:j,r:W}})),!n.sheetStubs)v.MergeAcross?x=j+1:++x;else if(v.MergeAcross||v.MergeDown){for(var se=x;se<=j;++se)for(var ce=w;ce<=W;++ce)(se>x||ce>w)&&(n.dense?(h[ce]||(h[ce]=[]),h[ce][se]={t:"z"}):h[Sr(se)+Yr(ce)]={t:"z"});x=j+1}else++x;else v=sPe(o[0]),v.Index&&(x=+v.Index-1),x<E.s.c&&(E.s.c=x),x>E.e.c&&(E.e.c=x),o[0].slice(-2)==="/>"&&++x,O=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<E.s.r&&(E.s.r=w),w>E.e.r&&(E.e.r=w),o[0].slice(-2)==="/>"&&(g=Eo(o[0]),g.Index&&(w=+g.Index-1)),x=0,++w):(g=Eo(o[0]),g.Index&&(w=+g.Index-1),B={},(g.AutoFitHeight=="0"||g.Height)&&(B.hpx=parseInt(g.Height,10),B.hpt=Hy(B.hpx),K[w]=B),g.Hidden=="1"&&(B.hidden=!0,K[w]=B));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(h["!ref"]=tn(E),n.sheetRows&&n.sheetRows<=E.e.r&&(h["!fullref"]=h["!ref"],E.e.r=n.sheetRows-1,h["!ref"]=tn(E))),I.length&&(h["!merges"]=I),J.length>0&&(h["!cols"]=J),K.length>0&&(h["!rows"]=K),u[p]=h}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=x=0,l.push([o[3],!1]),c=Eo(o[0]),p=_n(c.Name),h=n.dense?[]:{},I=[],z=[],K=[],Q={name:p,Hidden:0},H.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),J=[],ne=!1}break;case"style":o[1]==="/"?cPe(S,R,n):R=Eo(o[0]);break;case"numberformat":R.nf=_n(Eo(o[0]).Format||"General"),K0[R.nf]&&(R.nf=K0[R.nf]);for(var ue=0;ue!=392&&Wt[ue]!=R.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(Wt[ue]==null){oc(R.nf,ue);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Y=Eo(o[0]),Y.Hidden&&(Y.hidden=!0,delete Y.Hidden),Y.Width&&(Y.wpx=parseInt(Y.Width,10)),!ne&&Y.wpx>10){ne=!0,ds=gX;for(var Ee=0;Ee<J.length;++Ee)J[Ee]&&$u(J[Ee])}ne&&$u(Y),J[Y.Index-1||J.length]=Y;for(var Ie=0;Ie<+Y.Span;++Ie)J[J.length]=hr(Y);break;case"namedrange":if(o[1]==="/")break;H.Names||(H.Names=[]);var fe=Kt(o[0]),Le={Name:fe.Name,Ref:Pp(fe.RefersTo.slice(1),{r:0,c:0})};H.Sheets.length>0&&(Le.Sheet=H.Sheets.length-1),H.Names.push(Le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=r.slice(N,o.index):N=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;R.Interior=Eo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?MAe(F,Z,r.slice(k,o.index)):k=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));dPe(X),O.push(X)}else l.push([o[3],!1]),c=Eo(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var V=Eo(o[0]);h["!autofilter"]={ref:Pp(V.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return j7(r,n);var ye=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ye=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ye=!1}break;case"excelworkbook":switch(o[3]){case"date1904":H.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ye=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ye=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(k,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else k=o.index+o[0].length;break;case"header":h["!margins"]||ff(h["!margins"]={},"xlml"),isNaN(+Kt(o[0]).Margin)||(h["!margins"].header=+Kt(o[0]).Margin);break;case"footer":h["!margins"]||ff(h["!margins"]={},"xlml"),isNaN(+Kt(o[0]).Margin)||(h["!margins"].footer=+Kt(o[0]).Margin);break;case"pagemargins":var be=Kt(o[0]);h["!margins"]||ff(h["!margins"]={},"xlml"),isNaN(+be.Top)||(h["!margins"].top=+be.Top),isNaN(+be.Left)||(h["!margins"].left=+be.Left),isNaN(+be.Right)||(h["!margins"].right=+be.Right),isNaN(+be.Bottom)||(h["!margins"].bottom=+be.Bottom);break;case"displayrighttoleft":H.Views||(H.Views=[]),H.Views[0]||(H.Views[0]={}),H.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ye=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ye=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ye=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ye=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ye=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ye=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ye=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ye=!1}break;case"smarttags":break;default:ye=!1;break}if(ye||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?oPe(P,Z,U,r.slice(k,o.index)):(U=o,k=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var oe={};return!n.bookSheets&&!n.bookProps&&(oe.Sheets=u),oe.SheetNames=f,oe.Workbook=H,oe.SSF=hr(Wt),oe.Props=F,oe.Custprops=P,oe}function oN(t,e){switch(J3(e=e||{}),e.type||"base64"){case"base64":return cD(Na(t),e);case"binary":case"buffer":case"file":return cD(t,e);case"array":return cD(sd(t),e)}}function fPe(t,e){var n=[];return t.Props&&n.push(UAe(t.Props,e)),t.Custprops&&n.push(OAe(t.Props,t.Custprops)),n.join("")}function hPe(){return""}function pPe(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(yt("NumberFormat",null,{"ss:Format":Vn(Wt[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(yt("Style",s.join(""),a))}),yt("Styles",n.join(""))}function qX(t){return yt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+z3(t.Ref,{r:0,c:0})})}function mPe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(qX(i)))}return yt("Names",n.join(""))}function gPe(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(qX(o)))}return s.join("")}function yPe(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(yt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(yt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(yt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(yt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Gi("ProtectContents","True")),t["!protect"].objects&&i.push(Gi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Gi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Gi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Gi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":yt("WorksheetOptions",i.join(""),{xmlns:xa.x})}function vPe(t){return t.map(function(e){var n=jDe(e.t||""),r=yt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return yt("Comment",r,{"ss:Author":e.a})}).join("")}function xPe(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Vn(z3(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Dr(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Vn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Vn(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",h=String(t.v);break;case"b":f="Boolean",h=t.v?"1":"0";break;case"e":f="Error",h=kc[t.v];break;case"d":f="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Wt[14]);break;case"s":f="String",h=LDe(t.v||"");break}var p=od(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var v=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=vPe(t.c)),yt("Cell",g,o)}function _Pe(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=gm(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function bPe(t,e,n,r){if(!t["!ref"])return"";var i=bn(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,b){$u(y);var x=!!y.width,w=Rw(b,y),E={"ss:Index":b+1};x&&(E["ss:Width"]=qy(w.width)),y.hidden&&(E["ss:Hidden"]="1"),o.push(yt("Column",null,E))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[_Pe(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},v=$t(p),g=l?(t[c]||[])[f]:t[v];u.push(xPe(g,v,t,e,n,r,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function wPe(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?gPe(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?bPe(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(yPe(s,e,t,n)),r.join("")}function TPe(t,e){e||(e={}),t.SSF||(t.SSF=hr(Wt)),t.SSF&&(Km(),Cw(t.SSF),e.revssf=Dw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(fPe(t,e)),n.push(hPe()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(yt("Worksheet",wPe(r,e,t),{"ss:Name":Vn(t.SheetNames[r])}));return n[2]=pPe(t,e),n[3]=mPe(t),Zr+yt("Workbook",n.join(""),{xmlns:xa.ss,"xmlns:o":xa.o,"xmlns:x":xa.x,"xmlns:ss":xa.ss,"xmlns:dt":xa.dt,"xmlns:html":xa.html})}function EPe(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=mAe(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=gAe(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var CPe=[60,1084,2066,2165,2175];function SPe(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var l=ec(n,n.l),c=lN[l],u=0;c!=null&&CPe.indexOf(l)>-1;)s=ec(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=n.slice(u,n.l+4+s),a.push(o),n.l+=4+s,c=lN[l=ec(n,n.l)];var f=Pi(a);Hi(f,0);var h=0;f.lens=[];for(var p=0;p<a.length;++p)f.lens.push(h),h+=a[p].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function el(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Wt[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||kc[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Oy(t.v):t.w=Ff(t.v):t.w=so(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&Gm(Wt[r]||String(r))){var i=nf(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function L1(t,e,n){return{v:t,ixfe:e,t:n}}function DPe(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},f,h="",p,v,g,y,b={},x=[],w,E,S=[],R=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},I=function(Oe){return Oe<8?cf[Oe]:Oe<64&&R[Oe-8]||cf[Oe]},F=function(Oe,Ge,nt){var st=Ge.XF.data;if(!(!st||!st.patternType||!nt||!nt.cellStyles)){Ge.s={},Ge.s.patternType=st.patternType;var Ot;(Ot=Wy(I(st.icvFore)))&&(Ge.s.fgColor={rgb:Ot}),(Ot=Wy(I(st.icvBack)))&&(Ge.s.bgColor={rgb:Ot})}},P=function(Oe,Ge,nt){if(!(B>1)&&!(nt.sheetRows&&Oe.r>=nt.sheetRows)){if(nt.cellStyles&&Ge.XF&&Ge.XF.data&&F(Oe,Ge,nt),delete Ge.ixfe,delete Ge.XF,f=Oe,h=$t(Oe),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Oe.r<a.s.r&&(a.s.r=Oe.r),Oe.c<a.s.c&&(a.s.c=Oe.c),Oe.r+1>a.e.r&&(a.e.r=Oe.r+1),Oe.c+1>a.e.c&&(a.e.c=Oe.c+1),nt.cellFormula&&Ge.f){for(var st=0;st<x.length;++st)if(!(x[st][0].s.c>Oe.c||x[st][0].s.r>Oe.r)&&!(x[st][0].e.c<Oe.c||x[st][0].e.r<Oe.r)){Ge.F=tn(x[st][0]),(x[st][0].s.c!=Oe.c||x[st][0].s.r!=Oe.r)&&delete Ge.f,Ge.f&&(Ge.f=""+us(x[st][1],a,Oe,z,k));break}}nt.dense?(i[Oe.r]||(i[Oe.r]=[]),i[Oe.r][Oe.c]=Ge):i[h]=Ge}},k={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(k.password=e.password);var U,O=[],X=[],J=[],Y=[],ne=!1,z=[];z.SheetNames=k.snames,z.sharedf=k.sharedf,z.arrayf=k.arrayf,z.names=[],z.XTI=[];var K=0,B=0,j=0,W=[],H=[],Q;k.codepage=1200,ko(1200);for(var Z=!1;t.l<t.length-1;){var se=t.l,ce=t.read_shift(2);if(ce===0&&K===10)break;var ue=t.l===t.length?0:t.read_shift(2),Ee=lN[ce];if(Ee&&Ee.f){if(e.bookSheets&&K===133&&ce!==133)break;if(K=ce,Ee.r===2||Ee.r==12){var Ie=t.read_shift(2);if(ue-=2,!k.enc&&Ie!==ce&&((Ie&255)<<8|Ie>>8)!==ce)throw new Error("rt mismatch: "+Ie+"!="+ce);Ee.r==12&&(t.l+=10,ue-=10)}var fe={};if(ce===10?fe=Ee.f(t,ue,k):fe=SPe(ce,Ee,t,ue,k),B==0&&[9,521,1033,2057].indexOf(K)===-1)continue;switch(ce){case 34:n.opts.Date1904=D.WBProps.date1904=fe;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(k.enc||(t.l=0),k.enc=fe,!e.password)throw new Error("File is password-protected");if(fe.valid==null)throw new Error("Encryption scheme unsupported");if(!fe.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=fe;break;case 66:var Le=Number(fe);switch(Le){case 21010:Le=1200;break;case 32768:Le=1e4;break;case 32769:Le=1252;break}ko(k.codepage=Le),Z=!0;break;case 317:k.rrtabid=fe;break;case 25:k.winlocked=fe;break;case 439:n.opts.RefreshAll=fe;break;case 12:n.opts.CalcCount=fe;break;case 16:n.opts.CalcDelta=fe;break;case 17:n.opts.CalcIter=fe;break;case 13:n.opts.CalcMode=fe;break;case 14:n.opts.CalcPrecision=fe;break;case 95:n.opts.CalcSaveRecalc=fe;break;case 15:k.CalcRefMode=fe;break;case 2211:n.opts.FullCalc=fe;break;case 129:fe.fDialog&&(i["!type"]="dialog"),fe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),fe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(fe);break;case 430:z.push([fe]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(fe);break;case 24:case 536:Q={Name:fe.Name,Ref:us(fe.rgce,a,null,z,k)},fe.itab>0&&(Q.Sheet=fe.itab-1),z.names.push(Q),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(fe),fe.Name=="_xlnm._FilterDatabase"&&fe.itab>0&&fe.rgce&&fe.rgce[0]&&fe.rgce[0][0]&&fe.rgce[0][0][0]=="PtgArea3d"&&(H[fe.itab-1]={ref:tn(fe.rgce[0][0][1][2])});break;case 22:k.ExternCount=fe;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(fe),z.XTI=z.XTI.concat(fe);break;case 2196:if(k.biff<8)break;Q!=null&&(Q.Comment=fe[1]);break;case 18:i["!protect"]=fe;break;case 19:fe!==0&&k.WTF&&console.error("Password verifier: "+fe);break;case 133:s[fe.pos]=fe,k.snames.push(fe.name);break;case 10:{if(--B)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=tn(a),e.sheetRows&&e.sheetRows<=a.e.r){var V=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=tn(a),a.e.r=V}a.e.r++,a.e.c++}O.length>0&&(i["!merges"]=O),X.length>0&&(i["!objects"]=X),J.length>0&&(i["!cols"]=J),Y.length>0&&(i["!rows"]=Y),D.Sheets.push(N)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[fe.BIFFVer]||8),k.biffguess=fe.BIFFVer==0,fe.BIFFVer==0&&fe.dt==4096&&(k.biff=5,Z=!0,ko(k.codepage=28591)),k.biff==8&&fe.BIFFVer==0&&fe.dt==16&&(k.biff=2),B++)break;if(i=e.dense?[]:{},k.biff<8&&!Z&&(Z=!0,ko(k.codepage=e.codepage||1252)),k.biff<5||fe.BIFFVer==0&&fe.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ye={pos:t.l-ue,name:c};s[ye.pos]=ye,k.snames.push(c)}else c=(s[se]||{name:""}).name;fe.dt==32&&(i["!type"]="chart"),fe.dt==64&&(i["!type"]="macro"),O=[],X=[],k.arrayf=x=[],J=[],Y=[],ne=!1,N={Hidden:(s[se]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[fe.r]||[])[fe.c]:i[$t({c:fe.c,r:fe.r})])&&++fe.c,w={ixfe:fe.ixfe,XF:S[fe.ixfe]||{},v:fe.val,t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 5:case 517:w={ixfe:fe.ixfe,XF:S[fe.ixfe],v:fe.val,t:fe.t},j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 638:w={ixfe:fe.ixfe,XF:S[fe.ixfe],v:fe.rknum,t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 189:for(var be=fe.c;be<=fe.C;++be){var oe=fe.rkrec[be-fe.c][0];w={ixfe:oe,XF:S[oe],v:fe.rkrec[be-fe.c][1],t:"n"},j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P({c:be,r:fe.r},w,e)}break;case 6:case 518:case 1030:{if(fe.val=="String"){o=fe;break}if(w=L1(fe.val,fe.cell.ixfe,fe.tt),w.XF=S[w.ixfe],e.cellFormula){var re=fe.formula;if(re&&re[0]&&re[0][0]&&re[0][0][0]=="PtgExp"){var le=re[0][0][1][0],he=re[0][0][1][1],_e=$t({r:le,c:he});b[_e]?w.f=""+us(fe.formula,a,fe.cell,z,k):w.F=((e.dense?(i[le]||[])[he]:i[_e])||{}).F}else w.f=""+us(fe.formula,a,fe.cell,z,k)}j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P(fe.cell,w,e),o=fe}break;case 7:case 519:if(o)o.val=fe,w=L1(fe,o.cell.ixfe,"s"),w.XF=S[w.ixfe],e.cellFormula&&(w.f=""+us(o.formula,a,o.cell,z,k)),j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(fe);var ie=$t(fe[0].s);if(p=e.dense?(i[fe[0].s.r]||[])[fe[0].s.c]:i[ie],e.cellFormula&&p){if(!o||!ie||!p)break;p.f=""+us(fe[1],a,fe[0],z,k),p.F=tn(fe[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;b[$t(o.cell)]=fe[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[$t(o.cell)],(p||{}).f=""+us(fe[0],a,f,z,k)}}break;case 253:w=L1(l[fe.isst].t,fe.ixfe,"s"),l[fe.isst].h&&(w.h=l[fe.isst].h),w.XF=S[w.ixfe],j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:fe.ixfe,XF:S[fe.ixfe],t:"z"},j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e));break;case 190:if(e.sheetStubs)for(var de=fe.c;de<=fe.C;++de){var me=fe.ixfe[de-fe.c];w={ixfe:me,XF:S[me],t:"z"},j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P({c:de,r:fe.r},w,e)}break;case 214:case 516:case 4:w=L1(fe.val,fe.ixfe,"s"),w.XF=S[w.ixfe],j>0&&(w.z=W[w.ixfe>>8&63]),el(w,e,n.opts.Date1904),P({c:fe.c,r:fe.r},w,e);break;case 0:case 512:B===1&&(a=fe);break;case 252:l=fe;break;case 1054:if(k.biff==4){W[j++]=fe[1];for(var ve=0;ve<j+163&&Wt[ve]!=fe[1];++ve);ve>=163&&oc(fe[1],j+163)}else oc(fe[1],fe[0]);break;case 30:{W[j++]=fe;for(var De=0;De<j+163&&Wt[De]!=fe;++De);De>=163&&oc(fe,j+163)}break;case 229:O=O.concat(fe);break;case 93:X[fe.cmo[0]]=k.lastobj=fe;break;case 438:k.lastobj.TxO=fe;break;case 127:k.lastobj.ImData=fe;break;case 440:for(y=fe[0].s.r;y<=fe[0].e.r;++y)for(g=fe[0].s.c;g<=fe[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[$t({c:g,r:y})],p&&(p.l=fe[1]);break;case 2048:for(y=fe[0].s.r;y<=fe[0].e.r;++y)for(g=fe[0].s.c;g<=fe[0].e.c;++g)p=e.dense?(i[y]||[])[g]:i[$t({c:g,r:y})],p&&p.l&&(p.l.Tooltip=fe[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;p=e.dense?(i[fe[0].r]||[])[fe[0].c]:i[$t(fe[0])];var Ue=X[fe[2]];p||(e.dense?(i[fe[0].r]||(i[fe[0].r]=[]),p=i[fe[0].r][fe[0].c]={t:"z"}):p=i[$t(fe[0])]={t:"z"},a.e.r=Math.max(a.e.r,fe[0].r),a.s.r=Math.min(a.s.r,fe[0].r),a.e.c=Math.max(a.e.c,fe[0].c),a.s.c=Math.min(a.s.c,fe[0].c)),p.c||(p.c=[]),v={a:fe[1],t:Ue.TxO.t},p.c.push(v)}break;case 2173:pIe(S[fe.ixfe],fe.ext);break;case 125:{if(!k.cellStyles)break;for(;fe.e>=fe.s;)J[fe.e--]={width:fe.w/256,level:fe.level||0,hidden:!!(fe.flags&1)},ne||(ne=!0,V3(fe.w/256)),$u(J[fe.e+1])}break;case 520:{var Te={};fe.level!=null&&(Y[fe.r]=Te,Te.level=fe.level),fe.hidden&&(Y[fe.r]=Te,Te.hidden=!0),fe.hpt&&(Y[fe.r]=Te,Te.hpt=fe.hpt,Te.hpx=gm(fe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||ff(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=fe;break;case 161:i["!margins"]||ff(i["!margins"]={}),i["!margins"].header=fe.header,i["!margins"].footer=fe.footer;break;case 574:fe.RTL&&(D.Views[0].RTL=!0);break;case 146:R=fe;break;case 2198:U=fe;break;case 140:E=fe;break;case 442:c?N.CodeName=fe||N.name:D.WBProps.CodeName=fe||"ThisWorkbook";break}}else Ee||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),t.l+=ue}return n.SheetNames=Br(s).sort(function(Me,Oe){return Number(Me)-Number(Oe)}).map(function(Me){return s[Me].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&H.forEach(function(Me,Oe){n.Sheets[n.SheetNames[Oe]]["!autofilter"]=Me}),n.Strings=l,n.SSF=hr(Wt),k.enc&&(n.Encryption=k.enc),U&&(n.Themes=U),n.Metadata={},E!==void 0&&(n.Metadata.Country=E),z.names.length>0&&(D.Names=z.names),n.Workbook=D,n}var X0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function APe(t,e,n){var r=Lt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=m7(r,tN,X0.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var a=Lt.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=m7(a,nN,X0.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(WK(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function NPe(t,e){var n=[],r=[],i=[],s=0,a,o=H9(tN,"n"),l=H9(nN,"n");if(t.Props)for(a=Br(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=Br(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)XK.indexOf(i[s][0])>-1||VK.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Lt.utils.cfb_add(e,"/SummaryInformation",g7(r,X0.SI,l,nN)),(n.length||c.length)&&Lt.utils.cfb_add(e,"/DocumentSummaryInformation",g7(n,X0.DSI,o,tN,c.length?c:null,X0.UDI))}function zX(t,e){e||(e={}),J3(e),y3(),e.codepage&&g3(e.codepage);var n,r;if(t.FullPaths){if(Lt.find(t,"/encryption"))throw new Error("File is password-protected");n=Lt.find(t,"!CompObj"),r=Lt.find(t,"/Workbook")||Lt.find(t,"/Book")}else{switch(e.type){case"base64":t=ba(Na(t));break;case"binary":t=ba(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Hi(t,0),r={content:t}}var i,s;if(n&&EPe(n),e.bookProps&&!e.bookSheets)i={};else{var a=on?"buffer":"array";if(r&&r.content)i=DPe(r.content,e);else if((s=Lt.find(t,"PerfectOffice_MAIN"))&&s.content)i=df.to_workbook(s.content,(e.type=a,e));else if((s=Lt.find(t,"NativeContent_MAIN"))&&s.content)i=df.to_workbook(s.content,(e.type=a,e));else throw(s=Lt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Lt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=WIe(t))}var o={};return t.FullPaths&&APe(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function kPe(t,e){var n=e||{},r=Lt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Lt.utils.cfb_add(r,i,HX(t,n)),n.biff==8&&(t.Props||t.Custprops)&&NPe(t,r),n.biff==8&&t.vbaraw&&qIe(r,Lt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var $y={0:{f:eRe},1:{f:lRe},2:{f:DRe},3:{f:gRe},4:{f:fRe},5:{f:ERe},6:{f:RRe},7:{f:_Re},8:{f:jRe},9:{f:LRe},10:{f:URe},11:{f:ORe},12:{f:uRe},13:{f:NRe},14:{f:vRe},15:{f:pRe},16:{f:UX},17:{f:FRe},18:{f:wRe},19:{f:I3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:F5e},40:{},42:{},43:{f:Rke},44:{f:kke},45:{f:Mke},46:{f:Oke},47:{f:Uke},48:{},49:{f:rAe},50:{},51:{f:yIe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:aX},62:{f:IRe},63:{f:SIe},64:{f:t5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:_s,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:YRe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:aRe},148:{f:rRe,p:16},151:{f:HRe},152:{},153:{f:I5e},154:{},155:{},156:{f:N5e},157:{},158:{},159:{T:1,f:GNe},160:{T:-1},161:{T:1,f:sh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:BRe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mIe},336:{T:-1},337:{f:_Ie,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:eN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:sX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$Re},427:{f:GRe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:XRe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:sRe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:qRe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:eN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:OIe},633:{T:1},634:{T:-1},635:{T:1,f:MIe},636:{T:-1},637:{f:oAe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:v5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:n5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},lN={6:{f:oD},10:{f:su},12:{f:ai},13:{f:ai},14:{f:Gr},15:{f:Gr},16:{f:hs},17:{f:Gr},18:{f:Gr},19:{f:ai},20:{f:w7},21:{f:w7},23:{f:sX},24:{f:E7},25:{f:Gr},26:{},27:{},28:{f:nNe},29:{},34:{f:Gr},35:{f:T7},38:{f:hs},39:{f:hs},40:{f:hs},41:{f:hs},42:{f:Gr},43:{f:Gr},47:{f:pke},49:{f:N4e},51:{f:ai},60:{},61:{f:E4e},64:{f:Gr},65:{f:A4e},66:{f:ai},77:{},80:{},81:{},82:{},85:{f:ai},89:{},90:{},91:{},92:{f:h4e},93:{f:sNe},94:{},95:{f:Gr},96:{},97:{},99:{f:Gr},125:{f:aX},128:{f:z4e},129:{f:m4e},130:{f:ai},131:{f:Gr},132:{f:Gr},133:{f:g4e},134:{},140:{f:hNe},141:{f:ai},144:{},146:{f:gNe},151:{},152:{},153:{},154:{},155:{},156:{f:ai},157:{},158:{},160:{f:TNe},161:{f:xNe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:B4e},190:{f:V4e},193:{f:su},197:{},198:{},199:{},200:{},201:{},202:{f:Gr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ai},220:{},221:{f:Gr},222:{},224:{f:q4e},225:{f:f4e},226:{f:su},227:{},229:{f:rNe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:v4e},253:{f:I4e},255:{f:_4e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:JK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Gr},353:{f:su},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:X4e},431:{f:Gr},432:{},433:{},434:{},437:{},438:{f:lNe},439:{f:Gr},440:{f:cNe},441:{},442:{f:qv},443:{},444:{f:ai},445:{},446:{},448:{f:su},449:{f:T4e,r:2},450:{f:su},512:{f:x7},513:{f:wNe},515:{f:G4e},516:{f:P4e},517:{f:b7},519:{f:ENe},520:{f:b4e},523:{},545:{f:C7},549:{f:v7},566:{},574:{f:S4e},638:{f:j4e},659:{},1048:{},1054:{f:M4e},1084:{},1212:{f:Z4e},2048:{f:dNe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:M1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:su},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:yNe,r:12},2173:{f:hIe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Gr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Q4e,r:12},2197:{},2198:{f:oIe,r:12},2199:{},2200:{},2201:{},2202:{f:eNe,r:12},2203:{f:su},2204:{},2205:{},2206:{},2207:{},2211:{f:w4e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ai},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:_Ne},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:mNe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:x7},1:{},2:{f:NNe},3:{f:DNe},4:{f:SNe},5:{f:b7},7:{f:INe},8:{},9:{f:M1},11:{},22:{f:ai},30:{f:O4e},31:{},32:{},33:{f:C7},36:{},37:{f:v7},50:{f:RNe},62:{},52:{},67:{},68:{f:ai},69:{},86:{},126:{},127:{f:CNe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:PNe},223:{},234:{},354:{},421:{},518:{f:oD},521:{f:M1},536:{f:E7},547:{f:T7},561:{},579:{},1030:{f:oD},1033:{f:M1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function xt(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&A3(n)&&t.push(n)}}function IPe(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return xt(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function Gv(t,e,n){return t||(t=tt(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function RPe(t,e,n,r){var i=tt(9);return Gv(i,t,e),YK(n,r||"b",i),i}function PPe(t,e,n){var r=tt(8+2*n.length);return Gv(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function FPe(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?vi(fr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?xt(t,2,kNe(n,r,i)):xt(t,3,ANe(n,r,i));return;case"b":case"e":xt(t,5,RPe(n,r,e.v,e.t));return;case"s":case"str":xt(t,4,PPe(n,r,(e.v||"").slice(0,255)));return}xt(t,1,Gv(null,n,r))}function MPe(t,e,n,r){var i=Array.isArray(e),s=bn(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=tn(s)}for(var c=s.s.r;c<=s.e.r;++c){o=Yr(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Sr(u)),a=l[u]+o;var f=i?(e[c]||[])[u]:e[a];f&&FPe(t,f,c,u)}}}function UPe(t,e){for(var n=e||{},r=ia(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return xt(r,n.biff==4?1033:n.biff==3?521:9,L3(t,16,n)),MPe(r,t.Sheets[t.SheetNames[i]],i,n),xt(r,10),r.end()}function OPe(t,e,n){xt(t,49,k4e({sz:12,name:"Arial"},n))}function LPe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&xt(t,1054,U4e(i,e[i],n))})}function jPe(t,e){var n=tt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),xt(t,2151,n),n=tt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),nX(bn(e["!ref"]||"A1"),n),n.write_shift(4,4),xt(t,2152,n)}function BPe(t,e){for(var n=0;n<16;++n)xt(t,224,_7({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){xt(t,224,_7(r,0,e))})}function VPe(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];xt(t,440,uNe(r)),r[1].Tooltip&&xt(t,2048,fNe(r))}delete e["!links"]}function WPe(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&xt(t,125,vNe(Rw(i,r),i))})}}function qPe(t,e,n,r,i){var s=16+od(i.cellXfs,e,i);if(e.v==null&&!e.bf){xt(t,513,Lf(n,r,s));return}if(e.bf)xt(t,6,m6e(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?vi(fr(e.v)):e.v;xt(t,515,K4e(n,r,a,s));break;case"b":case"e":xt(t,517,$4e(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=$3(i.Strings,e.v,i.revStrings);xt(t,253,R4e(n,r,o,s))}else xt(t,516,F4e(n,r,(e.v||"").slice(0,255),s,i));break;default:xt(t,513,Lf(n,r,s))}}function zPe(t,e,n){var r=ia(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",h=[],p=bn(s["!ref"]||"A1"),v=c?65536:16384;if(p.e.c>255||p.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,v-1)}xt(r,2057,L3(n,16,e)),xt(r,13,Ga(1)),xt(r,12,Ga(100)),xt(r,15,Is(!0)),xt(r,17,Is(!1)),xt(r,16,Uf(.001)),xt(r,95,Is(!0)),xt(r,42,Is(!1)),xt(r,43,Is(!1)),xt(r,130,Ga(1)),xt(r,128,H4e()),xt(r,131,Is(!1)),xt(r,132,Is(!1)),c&&WPe(r,s["!cols"]),xt(r,512,L4e(p,e)),c&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Yr(g);for(var y=p.s.c;y<=p.e.c;++y){g===p.s.r&&(h[y]=Sr(y)),u=h[y]+f;var b=l?(s[g]||[])[y]:s[u];b&&(qPe(r,b,g,y,e),c&&b.l&&s["!links"].push([u,b.l]))}}var x=o.CodeName||o.name||i;return c&&xt(r,574,D4e((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&xt(r,229,iNe(s["!merges"])),c&&VPe(r,s),xt(r,442,QK(x)),c&&jPe(r,s),xt(r,10),r.end()}function HPe(t,e,n){var r=ia(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(xt(r,2057,L3(t,5,n)),n.bookType=="xla"&&xt(r,135),xt(r,225,o?Ga(1200):null),xt(r,193,$Ae(2)),l&&xt(r,191),l&&xt(r,192),xt(r,226),xt(r,92,p4e("SheetJS",n)),xt(r,66,Ga(o?1200:1252)),o&&xt(r,353,Ga(0)),o&&xt(r,448),xt(r,317,bNe(t.SheetNames.length)),o&&t.vbaraw&&xt(r,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";xt(r,442,QK(c))}xt(r,156,Ga(17)),xt(r,25,Is(!1)),xt(r,18,Is(!1)),xt(r,19,Ga(0)),o&&xt(r,431,Is(!1)),o&&xt(r,444,Ga(0)),xt(r,61,C4e()),xt(r,64,Is(!1)),xt(r,141,Ga(0)),xt(r,34,Is(T5e(t)=="true")),xt(r,14,Is(!0)),o&&xt(r,439,Is(!1)),xt(r,218,Ga(0)),OPe(r,t,n),LPe(r,t.SSF,n),BPe(r,n),o&&xt(r,352,Is(!1));var u=r.end(),f=ia();o&&xt(f,140,pNe()),o&&n.Strings&&IPe(f,252,x4e(n.Strings)),xt(f,10);var h=f.end(),p=ia(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=u.length+v+h.length;for(g=0;g<t.SheetNames.length;++g){var b=s[g]||{};xt(p,133,y4e({pos:y,hs:b.Hidden||0,dt:0,name:t.SheetNames[g]},n)),y+=e[g].length}var x=p.end();if(v!=x.length)throw new Error("BS8 "+v+" != "+x.length);var w=[];return u.length&&w.push(u),x.length&&w.push(x),h.length&&w.push(h),Pi(w)}function $Pe(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=hr(Wt)),t&&t.SSF&&(Km(),Cw(t.SSF),n.revssf=Dw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Y3(n),n.cellXfs=[],od(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=zPe(i,n,t);return r.unshift(HPe(t,r,n)),Pi(r)}function HX(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=sa(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return $Pe(t,e);case 4:case 3:case 2:return UPe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function M7(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=kDe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(a=0;a<l.length;++a){var g=l[a].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var b=g.split(/<\/t[dh]>/i);for(o=0;o<b.length;++o){var x=b[o].trim();if(x.match(/<t[dh]/i)){for(var w=x,E=0;w.charAt(0)=="<"&&(E=w.indexOf(">"))>-1;)w=w.slice(E+1);for(var S=0;S<v.length;++S){var R=v[S];R.s.c==u&&R.s.r<c&&c<=R.e.r&&(u=R.e.c+1,S=-1)}var D=Kt(x.slice(0,x.indexOf(">")));h=D.colspan?+D.colspan:1,((f=+D.rowspan)>1||h>1)&&v.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var N=D.t||D["data-t"]||"";if(!w.length){u+=h;continue}if(w=mK(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var I={t:"s",v:w};n.raw||!w.trim().length||N=="s"||(w==="TRUE"?I={t:"b",v:!0}:w==="FALSE"?I={t:"b",v:!1}:isNaN(Uo(w))?isNaN(pm(w).getDate())||(I={t:"d",v:fr(w)},n.cellDates||(I={t:"n",v:vi(I.v)}),I.z=n.dateNF||Wt[14]):I={t:"n",v:Uo(w)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=I):r[$t({r:c,c:u})]=I,u+=h}}}}return r["!ref"]=tn(p),v.length&&(r["!merges"]=v),r}function GPe(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=$t({r:n,c:a}),f=r.dense?(t[n]||[])[a]:t[u],h=f&&f.v!=null&&(f.h||C3(f.w||(yc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+u,s.push(yt("td",h,p))}}var v="<tr>";return v+s.join("")+"</tr>"}var KPe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',XPe="</body></html>";function JPe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return ad(M7(n[0],e),e);var r=e6();return n.forEach(function(i,s){t6(r,M7(i,e),"Sheet"+(s+1))}),r}function YPe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function $X(t,e){var n=e||{},r=n.header!=null?n.header:KPe,i=n.footer!=null?n.footer:XPe,s=[r],a=sa(t["!ref"]);n.dense=Array.isArray(t),s.push(YPe(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(GPe(t,a,o,n));return s.push("</table>"+i),s.join("")}function GX(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Dr(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=sa(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],h=0,p=t["!rows"]||(t["!rows"]=[]),v=0,g=0,y=0,b=0,x=0,w=0;for(t["!cols"]||(t["!cols"]=[]);v<o.length&&g<l;++v){var E=o[v];if(U7(E)){if(r.display)continue;p[g]={hidden:!0}}var S=E.children;for(y=b=0;y<S.length;++y){var R=S[y];if(!(r.display&&U7(R))){var D=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):mK(R.innerHTML),N=R.getAttribute("data-z")||R.getAttribute("z");for(h=0;h<f.length;++h){var I=f[h];I.s.c==b+s&&I.s.r<g+i&&g+i<=I.e.r&&(b=I.e.c+1-s,h=-1)}w=+R.getAttribute("colspan")||1,((x=+R.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+i,c:b+s},e:{r:g+i+(x||1)-1,c:b+s+(w||1)-1}});var F={t:"s",v:D},P=R.getAttribute("data-t")||R.getAttribute("t")||"";D!=null&&(D.length==0?F.t=P||"z":r.raw||D.trim().length==0||P=="s"||(D==="TRUE"?F={t:"b",v:!0}:D==="FALSE"?F={t:"b",v:!1}:isNaN(Uo(D))?isNaN(pm(D).getDate())||(F={t:"d",v:fr(D)},r.cellDates||(F={t:"n",v:vi(F.v)}),F.z=r.dateNF||Wt[14]):F={t:"n",v:Uo(D)})),F.z===void 0&&N!=null&&(F.z=N);var k="",U=R.getElementsByTagName("A");if(U&&U.length)for(var O=0;O<U.length&&!(U[O].hasAttribute("href")&&(k=U[O].getAttribute("href"),k.charAt(0)!="#"));++O);k&&k.charAt(0)!="#"&&(F.l={Target:k}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][b+s]=F):t[$t({c:b+s,r:g+i})]=F,c.e.c<b+s&&(c.e.c=b+s),b+=w}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=tn(c),g>=l&&(t["!fullref"]=tn((c.e.r=o.length-v+g-1+i,c))),t}function KX(t,e){var n=e||{},r=n.dense?[]:{};return GX(r,t,e)}function QPe(t,e){return ad(KX(t,e),e)}function U7(t){var e="",n=ZPe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function ZPe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function e8e(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=_n(e.replace(/<[^>]*>/g,""));return[n]}var O7={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function XX(t,e){var n=e||{},r=S3(t),i=[],s,a,o={name:""},l="",c=0,u,f,h={},p=[],v=n.dense?[]:{},g,y,b={value:""},x="",w=0,E=[],S=-1,R=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,I={},F=[],P={},k=0,U=0,O=[],X=1,J=1,Y=[],ne={Names:[]},z={},K=["",""],B=[],j={},W="",H=0,Q=!1,Z=!1,se=0;for(By.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=By.exec(r);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?v["!ref"]=tn(D):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(v["!fullref"]=v["!ref"],D.e.r=n.sheetRows-1,v["!ref"]=tn(D)),F.length&&(v["!merges"]=F),O.length&&(v["!rows"]=O),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=v,Z=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=Kt(g[0],!1),S=R=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,v=n.dense?[]:{},F=[],O=[],Z=!0);break;case"table-row-group":g[1]==="/"?--N:++N;break;case"table-row":case"":if(g[1]==="/"){S+=X,X=1;break}if(f=Kt(g[0],!1),f.?S=f.-1:S==-1&&(S=0),X=+f["number-rows-repeated"]||1,X<10)for(se=0;se<X;++se)N>0&&(O[S+se]={level:N});R=-1;break;case"covered-table-cell":g[1]!=="/"&&++R,n.sheetStubs&&(n.dense?(v[S]||(v[S]=[]),v[S][R]={t:"z"}):v[$t({r:S,c:R})]={t:"z"}),x="",E=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++R,b=Kt(g[0],!1),J=parseInt(b["number-columns-repeated"]||"1",10),y={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(y.f=R7(_n(b.formula))),(b.||b["value-type"])=="string"&&(y.t="s",y.v=_n(b["string-value"]||""),n.dense?(v[S]||(v[S]=[]),v[S][R]=y):v[$t({r:S,c:R})]=y),R+=J-1;else if(g[1]!=="/"){++R,x="",w=0,E=[],J=1;var ce=X?S+X-1:S;if(R>D.e.c&&(D.e.c=R),R<D.s.c&&(D.s.c=R),S<D.s.r&&(D.s.r=S),ce>D.e.r&&(D.e.r=ce),b=Kt(g[0],!1),B=[],j={},y={t:b.||b["value-type"],v:null},n.cellFormula)if(b.formula&&(b.formula=_n(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(k=parseInt(b["number-matrix-rows-spanned"],10)||0,U=parseInt(b["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+k-1,c:R+U-1}},y.F=tn(P),Y.push([P,y.F])),b.formula)y.f=R7(b.formula);else for(se=0;se<Y.length;++se)S>=Y[se][0].s.r&&S<=Y[se][0].e.r&&R>=Y[se][0].s.c&&R<=Y[se][0].e.c&&(y.F=Y[se][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(k=parseInt(b["number-rows-spanned"],10)||0,U=parseInt(b["number-columns-spanned"],10)||0,P={s:{r:S,c:R},e:{r:S+k-1,c:R+U-1}},F.push(P)),b["number-columns-repeated"]&&(J=parseInt(b["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=lr(b["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(b.value);break;case"percentage":y.t="n",y.v=parseFloat(b.value);break;case"currency":y.t="n",y.v=parseFloat(b.value);break;case"date":y.t="d",y.v=fr(b["date-value"]),n.cellDates||(y.t="n",y.v=vi(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=DDe(b["time-value"])/86400,n.cellDates&&(y.t="d",y.v=Aw(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(b.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",b["string-value"]!=null&&(x=_n(b["string-value"]),E=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Q=!1,y.t==="s"&&(y.v=x||"",E.length&&(y.R=E),Q=w==0),z.Target&&(y.l=z),B.length>0&&(y.c=B,B=[]),x&&n.cellText!==!1&&(y.w=x),Q&&(y.t="z",delete y.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=S))for(var ue=0;ue<X;++ue){if(J=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(v[S+ue]||(v[S+ue]=[]),v[S+ue][R]=ue==0?y:hr(y);--J>0;)v[S+ue][R+J]=hr(y);else for(v[$t({r:S+ue,c:R})]=y;--J>0;)v[$t({r:S+ue,c:R+J})]=hr(y);D.e.c<=R&&(D.e.c=R)}J=parseInt(b["number-columns-repeated"]||"1",10),R+=J-1,J=0,y={},x="",E=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s;j.t=x,E.length&&(j.R=E),j.a=W,B.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);W="",H=0,x="",w=0,E=[];break;case"creator":g[1]==="/"?W=r.slice(H,g.index):H=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&i.push([g[3],!1]);x="",w=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(I[o.name]=l,(s=i.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=Kt(g[0],!1),i.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Kt(g[0],!1),l+=O7[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Kt(g[0],!1),l+=O7[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":a=Kt(g[0],!1),K=lD(a["cell-range-address"]);var Ee={Name:a.name,Ref:K[0]+"!"+K[1]};Z&&(Ee.Sheet=p.length),ne.Names.push(Ee);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(g[1]==="/"&&(!b||!b["string-value"])){var Ie=e8e(r.slice(w,g.index));x=(x.length>0?x+`
`:"")+Ie[0]}else Kt(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{K=lD(Kt(g[0])["target-range-address"]),h[K[0]]["!autofilter"]={ref:K[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(z=Kt(g[0],!1),!z.href)break;z.Target=_n(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(K=lD(z.Target.slice(1)),z.Target="#"+K[0]+"!"+K[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var fe={Sheets:h,SheetNames:p,Workbook:ne};return n.bookSheets&&delete fe.Sheets,fe}function L7(t,e){e=e||{},$a(t,"META-INF/manifest.xml")&&DAe(si(t,"META-INF/manifest.xml"),e);var n=wa(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=XX(Hn(n),e);return $a(t,"meta.xml")&&(r.Props=jK(si(t,"meta.xml"))),r}function j7(t,e){return XX(t,e)}var t8e=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+jy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Zr+e}})(),B7=(function(){var t=function(s){return Vn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Vn(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=sa(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,v=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var b=!1,x={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(b=!0),x["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,x["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(b){l.push(n);continue}var E=$t({r:c,c:u}),S=v?(s[c]||[])[u]:s[E];if(S&&S.f&&(x["table:formula"]=Vn(b6e(S.f)),S.F&&S.F.slice(0,E.length)==E)){var R=sa(S.F);x["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,x["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),x["office:value-type"]="float",x["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,x["office:value-type"]="string";break;case"d":w=S.w||fr(S.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=fr(S.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(e);continue}var D=t(w);if(S.l&&S.l.Target){var N=S.l.Target;N=N.charAt(0)=="#"?"#"+w6e(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),D=yt("text:a",D,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+yt("table:table-cell",yt("text:p",D,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;$u(f),f.ods=o;var h=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Zr],c=jy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=jy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(LK().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(r(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function JX(t,e){if(e.bookType=="fods")return B7(t,e);var n=w3(),r="",i=[],s=[];return r="mimetype",rn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",rn(n,r,B7(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",rn(n,r,t8e(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",rn(n,r,Zr+LK()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",rn(n,r,kAe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",rn(n,r,AAe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function jf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function cN(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Hn(sd(t))}function n8e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ba(gl(t))}function r8e(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Ku(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function V7(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function i8e(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function s8e(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function Gy(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Ln(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Or(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Cn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Gy(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=Gy(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function qi(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(Ln(r*8+i.type)),i.type==2&&e.push(Ln(i.data.length)),e.push(i.data))})}),Ku(e)}function X3(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function za(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Gy(t,r),s=Cn(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Or(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Cn(o.data),c=Or(l[3][0].data);a.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=Or(s[3][0].data)>>>0>0),n.push(a)}return n}function Zh(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Ln(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Ln(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Ln(a.data.length)}],r[2].push({data:qi(a.meta),type:2})});var s=qi(r);e.push(Ln(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Ku(e)}function a8e(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Gy(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Ku(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Ku(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Ha(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(a8e(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Ku(e)}function ep(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=Ln(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return Ku(e)}function o8e(t,e,n,r){var i=jf(t),s=i.getUint32(4,!0),a=(r>1?12:8)+V7(s&(r>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=V7(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function l8e(t,e,n){var r=jf(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=i8e(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function uD(t,e){var n=new Uint8Array(32),r=jf(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,s8e(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function dD(t,e){var n=new Uint8Array(32),r=jf(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function c8e(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return o8e(t,e,n,t[0]);case 5:return l8e(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function cs(t){var e=Cn(t);return Gy(e[1][0].data)}function W7(t,e){var n=Cn(e.data),r=Or(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=Cn(a.data),l=Or(o[1][0].data)>>>0;switch(r){case 1:s[l]=cN(o[3][0].data);break;case 8:{var c=t[cs(o[9][0].data)][0],u=Cn(c.data),f=t[cs(u[1][0].data)][0],h=Or(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Cn(f.data);s[l]=p[3].map(function(v){return cN(v.data)}).join("")}break}}),s}function u8e(t,e){var n,r,i,s,a,o,l,c,u,f,h,p,v,g,y=Cn(t),b=Or(y[1][0].data)>>>0,x=Or(y[2][0].data)>>>0,w=((r=(n=y[8])==null?void 0:n[0])==null?void 0:r.data)&&Or(y[8][0].data)>0||!1,E,S;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&e!=0)E=(o=(a=y[7])==null?void 0:a[0])==null?void 0:o.data,S=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)E=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,S=(g=(v=y[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var R=w?4:1,D=jf(E),N=[],I=0;I<E.length/2;++I){var F=D.getUint16(I*2,!0);F<65535&&N.push([I,F])}if(N.length!=x)throw"Expected ".concat(x," cells, found ").concat(N.length);var P=[];for(I=0;I<N.length-1;++I)P[N[I][0]]=S.subarray(N[I][1]*R,N[I+1][1]*R);return N.length>=1&&(P[N[N.length-1][0]]=S.subarray(N[N.length-1][1]*R)),{R:b,cells:P}}function d8e(t,e){var n,r=Cn(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Or(r[7][0].data)>>>0>0?1:0:-1,s=X3(r[5],function(a){return u8e(a,i)});return{nrows:Or(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function f8e(t,e,n){var r,i=Cn(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Or(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Or(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=tn(s);var a=Cn(i[4][0].data),o=W7(t,t[cs(a[4][0].data)][0]),l=(r=a[17])!=null&&r[0]?W7(t,t[cs(a[17][0].data)][0]):[],c=Cn(a[3][0].data),u=0;c[1].forEach(function(f){var h=Cn(f.data),p=t[cs(h[2][0].data)][0],v=Or(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=d8e(t,p);g.data.forEach(function(y,b){y.forEach(function(x,w){var E=$t({r:u+b,c:w}),S=c8e(x,o,l);S&&(n[E]=S)})}),u+=g.nrows})}function h8e(t,e){var n=Cn(e.data),r={"!ref":"A1"},i=t[cs(n[2][0].data)],s=Or(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return f8e(t,i[0],r),r}function p8e(t,e){var n,r=Cn(e.data),i={name:(n=r[1])!=null&&n[0]?cN(r[1][0].data):"",sheets:[]},s=X3(r[2],cs);return s.forEach(function(a){t[a].forEach(function(o){var l=Or(o.meta[1][0].data);l==6e3&&i.sheets.push(h8e(t,o))})}),i}function m8e(t,e){var n=e6(),r=Cn(e.data),i=X3(r[1],cs);if(i.forEach(function(s){t[s].forEach(function(a){var o=Or(a.meta[1][0].data);if(o==2){var l=p8e(t,a);l.sheets.forEach(function(c,u){t6(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function fD(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Ha(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=za(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Or(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=Or(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return m8e(s,o)}function g8e(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Or(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=jf(t[7][0].data),u=0,f=[],h=jf(t[4][0].data),p=0,v=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,p,!0);var y,b;switch(typeof e[g]){case"string":y=uD({t:"s",v:e[g]},n),b=dD({t:"s",v:e[g]},n);break;case"number":y=uD({t:"n",v:e[g]},n),b=dD({t:"n",v:e[g]},n);break;case"boolean":y=uD({t:"b",v:e[g]},n),b=dD({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}f.push(y),u+=y.length,v.push(b),p+=b.length,++l}for(t[2][0].data=Ln(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=Ku(f),t[3][0].data=Ku(v),l}function y8e(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=sa(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(tn(r)));var s=G_(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(W){return W.forEach(function(H){typeof H=="string"&&a.push(H)})});var o={},l=[],c=Lt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(W,H){return[W,c.FullPaths[H]]}).forEach(function(W){var H=W[0],Q=W[1];if(H.type==2&&H.name.match(/\.iwa/)){var Z=H.content,se=Ha(Z),ce=za(se);ce.forEach(function(ue){l.push(ue.id),o[ue.id]={deps:[],location:Q,type:Or(ue.messages[0].meta[1][0].data)}})}}),l.sort(function(W,H){return W-H});var u=l.filter(function(W){return W>1}).map(function(W){return[W,Ln(W)]});c.FileIndex.map(function(W,H){return[W,c.FullPaths[H]]}).forEach(function(W){var H=W[0];if(W[1],!!H.name.match(/\.iwa/)){var Q=za(Ha(H.content));Q.forEach(function(Z){Z.messages.forEach(function(se){u.forEach(function(ce){Z.messages.some(function(ue){return Or(ue.meta[1][0].data)!=11006&&r8e(ue.data,ce[1])})&&o[ce[0]].deps.push(Z.id)})})})}});for(var f=Lt.find(c,o[1].location),h=za(Ha(f.content)),p,v=0;v<h.length;++v){var g=h[v];g.id==1&&(p=g)}var y=cs(Cn(p.messages[0].data)[1][0].data);for(f=Lt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=cs(Cn(p.messages[0].data)[2][0].data),f=Lt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);for(y=cs(Cn(p.messages[0].data)[2][0].data),f=Lt.find(c,o[y].location),h=za(Ha(f.content)),v=0;v<h.length;++v)g=h[v],g.id==y&&(p=g);var b=Cn(p.messages[0].data);{b[6][0].data=Ln(r.e.r+1),b[7][0].data=Ln(r.e.c+1);var x=cs(b[46][0].data),w=Lt.find(c,o[x].location),E=za(Ha(w.content));{for(var S=0;S<E.length&&E[S].id!=x;++S);if(E[S].id!=x)throw"Bad ColumnRowUIDMapArchive";var R=Cn(E[S].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=r.e.c;++D){var N=[];N[1]=N[2]=[{type:0,data:Ln(D+420690)}],R[1].push({type:2,data:qi(N)}),R[2].push({type:0,data:Ln(D)}),R[3].push({type:0,data:Ln(D)})}R[4]=[],R[5]=[],R[6]=[];for(var I=0;I<=r.e.r;++I)N=[],N[1]=N[2]=[{type:0,data:Ln(I+726270)}],R[4].push({type:2,data:qi(N)}),R[5].push({type:0,data:Ln(I)}),R[6].push({type:0,data:Ln(I)});E[S].messages[0].data=qi(R)}w.content=ep(Zh(E)),w.size=w.content.length,delete b[46];var F=Cn(b[4][0].data);{F[7][0].data=Ln(r.e.r+1);var P=Cn(F[1][0].data),k=cs(P[2][0].data);w=Lt.find(c,o[k].location),E=za(Ha(w.content));{if(E[0].id!=k)throw"Bad HeaderStorageBucket";var U=Cn(E[0].messages[0].data);for(I=0;I<s.length;++I){var O=Cn(U[2][0].data);O[1][0].data=Ln(I),O[4][0].data=Ln(s[I].length),U[2][I]={type:U[2][0].type,data:qi(O)}}E[0].messages[0].data=qi(U)}w.content=ep(Zh(E)),w.size=w.content.length;var X=cs(F[2][0].data);w=Lt.find(c,o[X].location),E=za(Ha(w.content));{if(E[0].id!=X)throw"Bad HeaderStorageBucket";for(U=Cn(E[0].messages[0].data),D=0;D<=r.e.c;++D)O=Cn(U[2][0].data),O[1][0].data=Ln(D),O[4][0].data=Ln(r.e.r+1),U[2][D]={type:U[2][0].type,data:qi(O)};E[0].messages[0].data=qi(U)}w.content=ep(Zh(E)),w.size=w.content.length;var J=cs(F[4][0].data);(function(){for(var W=Lt.find(c,o[J].location),H=za(Ha(W.content)),Q,Z=0;Z<H.length;++Z){var se=H[Z];se.id==J&&(Q=se)}var ce=Cn(Q.messages[0].data);{ce[3]=[];var ue=[];a.forEach(function(fe,Le){ue[1]=[{type:0,data:Ln(Le)}],ue[2]=[{type:0,data:Ln(1)}],ue[3]=[{type:2,data:n8e(fe)}],ce[3].push({type:2,data:qi(ue)})})}Q.messages[0].data=qi(ce);var Ee=Zh(H),Ie=ep(Ee);W.content=Ie,W.size=W.content.length})();var Y=Cn(F[3][0].data);{var ne=Y[1][0];delete Y[2];var z=Cn(ne.data);{var K=cs(z[2][0].data);(function(){for(var W=Lt.find(c,o[K].location),H=za(Ha(W.content)),Q,Z=0;Z<H.length;++Z){var se=H[Z];se.id==K&&(Q=se)}var ce=Cn(Q.messages[0].data);{delete ce[6],delete Y[7];var ue=new Uint8Array(ce[5][0].data);ce[5]=[];for(var Ee=0,Ie=0;Ie<=r.e.r;++Ie){var fe=Cn(ue);Ee+=g8e(fe,s[Ie],a),fe[1][0].data=Ln(Ie),ce[5].push({data:qi(fe),type:2})}ce[1]=[{type:0,data:Ln(r.e.c+1)}],ce[2]=[{type:0,data:Ln(r.e.r+1)}],ce[3]=[{type:0,data:Ln(Ee)}],ce[4]=[{type:0,data:Ln(r.e.r+1)}]}Q.messages[0].data=qi(ce);var Le=Zh(H),V=ep(Le);W.content=V,W.size=W.content.length})()}ne.data=qi(z)}F[3][0].data=qi(Y)}b[4][0].data=qi(F)}p.messages[0].data=qi(b);var B=Zh(h),j=ep(B);return f.content=j,f.size=f.content.length,c}function YX(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function J3(t){YX([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Y3(t){YX([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function v8e(t){return un.WS.indexOf(t)>-1?"sheet":t==un.CS?"chart":t==un.DS?"dialog":t==un.MS?"macro":t&&t.length?t:"sheet"}function x8e(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,v8e(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function _8e(t,e,n,r,i,s,a,o,l,c,u,f){try{s[r]=H0(wa(t,n,!0),e);var h=si(t,e),p;switch(o){case"sheet":p=W5e(h,e,i,l,s[r],c,u,f);break;case"chart":if(p=q5e(h,e,i,l,s[r],c,u,f),!p||!p["!drawel"])break;var v=y0(p["!drawel"].Target,e),g=Vy(v),y=NIe(wa(t,v,!0),H0(wa(t,g,!0),v)),b=y0(y,v),x=Vy(b);p=g5e(wa(t,b,!0),b,l,H0(wa(t,x,!0),b),c,p);break;case"macro":p=z5e(h,e,i,l,s[r],c,u,f);break;case"dialog":p=H5e(h,e,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=p;var w=[];s&&s[r]&&Br(s[r]).forEach(function(E){var S="";if(s[r][E].Type==un.CMNT){S=y0(s[r][E].Target,e);var R=X5e(si(t,S,!0),S,l);if(!R||!R.length)return;D7(p,R,!1)}s[r][E].Type==un.TCMNT&&(S=y0(s[r][E].Target,e),w=w.concat(IIe(si(t,S,!0),l)))}),w&&w.length&&D7(p,w,!0,l.people||[])}catch(E){if(l.WTF)throw E}}function Ba(t){return t.charAt(0)=="/"?t.slice(1):t}function b8e(t,e){if(Km(),e=e||{},J3(e),$a(t,"META-INF/manifest.xml")||$a(t,"objectdata.xml"))return L7(t,e);if($a(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof fD<"u"){if(t.FileIndex)return fD(t);var n=Lt.utils.cfb_new();return K9(t).forEach(function(O){rn(n,O,RDe(t,O))}),fD(n)}throw new Error("Unsupported NUMBERS file")}if(!$a(t,"[Content_Types].xml"))throw $a(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):$a(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=K9(t),i=CAe(wa(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",si(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!si(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if($0=[],i.sst)try{$0=K5e(si(t,Ba(i.sst)),i.sst,e)}catch(O){if(e.WTF)throw O}e.cellStyles&&i.themes.length&&(l=G5e(wa(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=$5e(si(t,Ba(i.style)),i.style,l,e))}i.links.map(function(O){try{var X=H0(wa(t,Vy(Ba(O))),O);return Y5e(si(t,Ba(O)),X,O,e)}catch{}});var u=V5e(si(t,Ba(i.workbooks[0])),i.workbooks[0],e),f={},h="";i.coreprops.length&&(h=si(t,Ba(i.coreprops[0]),!0),h&&(f=jK(h)),i.extprops.length!==0&&(h=si(t,Ba(i.extprops[0]),!0),h&&RAe(h,f,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=wa(t,Ba(i.custprops[0]),!0),h&&(p=FAe(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=p),e.bookSheets&&typeof a<"u"&&(v.SheetNames=a),e.bookSheets?v.SheetNames:e.bookProps))return v;a={};var g={};e.bookDeps&&i.calcchain&&(g=J5e(si(t,Ba(i.calcchain)),i.calcchain));var y=0,b={},x,w;{var E=u.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var S=0;S!=E.length;++S)f.SheetNames[S]=E[S].name}var R=s?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");$a(t,N)||(N="xl/_rels/workbook."+R+".rels");var I=H0(wa(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=Q5e(si(t,Ba(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=PIe(si(t,Ba(i.people[0])),e)),I&&(I=x8e(I,u.Sheets));var F=si(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(I&&I[y]?(x="xl/"+I[y][1].replace(/[\/]?xl\//,""),$a(t,x)||(x=I[y][1]),$a(t,x)||(x=N.replace(/_rels\/.*$/,"")+I[y][1]),P=I[y][2]):(x="xl/worksheets/sheet"+(y+1-F)+"."+R,x=x.replace(/sheet0\./,"sheet.")),w=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var k=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==y&&(k=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==f.SheetNames[y].toLowerCase()&&(k=1);if(!k)continue e}}_8e(t,x,w,f.SheetNames[y],y,b,a,P,e,u,l,c)}return v={Directory:i,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:a,SheetNames:f.SheetNames,Strings:$0,Styles:c,Themes:l,SSF:hr(Wt)},e&&e.bookFiles&&(t.files?(v.keys=r,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(O,X){O=O.replace(/^Root Entry[\/]/,""),v.keys.push(O),v.files[O]=t.FileIndex[X]}))),e&&e.bookVBA&&(i.vba.length>0?v.vbaraw=si(t,Ba(i.vba[0]),!0):i.defaults&&i.defaults.bin===VIe&&(v.vbaraw=si(t,"xl/vbaProject.bin",!0))),v}function w8e(t,e){var n=e||{},r="Workbook",i=Lt.find(t,r);try{if(r="/!DataSpaces/Version",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(QNe(i.content),r="/!DataSpaces/DataSpaceMap",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=eke(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=tke(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);rke(i.content)}catch{}if(r="/EncryptionInfo",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=ike(i.content);if(r="/EncryptedPackage",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function T8e(t,e){return e.bookType=="ods"?JX(t,e):e.bookType=="numbers"?y8e(t,e):e.bookType=="xlsb"?E8e(t,e):C8e(t,e)}function E8e(t,e){vp=1024,t&&!t.SSF&&(t.SSF=hr(Wt)),t&&t.SSF&&(Km(),Cw(t.SSF),e.revssf=Dw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,G0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=EX.indexOf(e.bookType)>-1,i=U3();Y3(e=e||{});var s=w3(),a="",o=0;if(e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",rn(s,a,BK(t.Props,e)),i.coreprops.push(a),jn(e.rels,2,a,un.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,rn(s,a,qK(t.Props)),i.extprops.push(a),jn(e.rels,3,a,un.EXT_PROPS),t.Custprops!==t.Props&&Br(t.Custprops||{}).length>0&&(a="docProps/custom.xml",rn(s,a,zK(t.Custprops)),i.custprops.push(a),jn(e.rels,4,a,un.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,rn(s,a,ePe(o-1,a,e,t,u)),i.sheets.push(a),jn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,un.WS[0])}if(f){var p=f["!comments"],v=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+n,rn(s,g,rPe(p,g)),i.comments.push(g),jn(u,-1,"../comments"+o+"."+n,un.CMNT),v=!0),f["!legacy"]&&v&&rn(s,"xl/drawings/vmlDrawing"+o+".vml",wX(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&rn(s,Vy(a),Rp(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,rn(s,a,nPe(e.Strings,a,e)),i.strs.push(a),jn(e.wbrels,-1,"sharedStrings."+n,un.SST)),a="xl/workbook."+n,rn(s,a,Z5e(t,a)),i.workbooks.push(a),jn(e.rels,1,a,un.WB),a="xl/theme/theme1.xml",rn(s,a,W3(t.Themes,e)),i.themes.push(a),jn(e.wbrels,-1,"theme/theme1.xml",un.THEME),a="xl/styles."+n,rn(s,a,tPe(t,a,e)),i.styles.push(a),jn(e.wbrels,-1,"styles."+n,un.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",rn(s,a,t.vbaraw),i.vba.push(a),jn(e.wbrels,-1,"vbaProject.bin",un.VBA)),a="xl/metadata."+n,rn(s,a,iPe(a)),i.metadata.push(a),jn(e.wbrels,-1,"metadata."+n,un.XLMETA),rn(s,"[Content_Types].xml",OK(i,e)),rn(s,"_rels/.rels",Rp(e.rels)),rn(s,"xl/_rels/workbook."+n+".rels",Rp(e.wbrels)),delete e.revssf,delete e.ssf,s}function C8e(t,e){vp=1024,t&&!t.SSF&&(t.SSF=hr(Wt)),t&&t.SSF&&(Km(),Cw(t.SSF),e.revssf=Dw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,G0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=EX.indexOf(e.bookType)>-1,i=U3();Y3(e=e||{});var s=w3(),a="",o=0;if(e.cellXfs=[],od(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",rn(s,a,BK(t.Props,e)),i.coreprops.push(a),jn(e.rels,2,a,un.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,rn(s,a,qK(t.Props)),i.extprops.push(a),jn(e.rels,3,a,un.EXT_PROPS),t.Custprops!==t.Props&&Br(t.Custprops||{}).length>0&&(a="docProps/custom.xml",rn(s,a,zK(t.Custprops)),i.custprops.push(a),jn(e.rels,4,a,un.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,rn(s,a,MX(o-1,e,t,f)),i.sheets.push(a),jn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,un.WS[0])}if(h){var v=h["!comments"],g=!1,y="";if(v&&v.length>0){var b=!1;v.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+o+"."+n,rn(s,y,RIe(v,u,e)),i.threadedcomments.push(y),jn(f,-1,"../threadedComments/threadedComment"+o+"."+n,un.TCMNT)),y="xl/comments"+o+"."+n,rn(s,y,TX(v)),i.comments.push(y),jn(f,-1,"../comments"+o+"."+n,un.CMNT),g=!0}h["!legacy"]&&g&&rn(s,"xl/drawings/vmlDrawing"+o+".vml",wX(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&rn(s,Vy(a),Rp(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,rn(s,a,uX(e.Strings,e)),i.strs.push(a),jn(e.wbrels,-1,"sharedStrings."+n,un.SST)),a="xl/workbook."+n,rn(s,a,BX(t)),i.workbooks.push(a),jn(e.rels,1,a,un.WB),a="xl/theme/theme1.xml",rn(s,a,W3(t.Themes,e)),i.themes.push(a),jn(e.wbrels,-1,"theme/theme1.xml",un.THEME),a="xl/styles."+n,rn(s,a,vX(t,e)),i.styles.push(a),jn(e.wbrels,-1,"styles."+n,un.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",rn(s,a,t.vbaraw),i.vba.push(a),jn(e.wbrels,-1,"vbaProject.bin",un.VBA)),a="xl/metadata."+n,rn(s,a,bX()),i.metadata.push(a),jn(e.wbrels,-1,"metadata."+n,un.XLMETA),u.length>1&&(a="xl/persons/person.xml",rn(s,a,FIe(u)),i.people.push(a),jn(e.wbrels,-1,"persons/person.xml",un.PEOPLE)),rn(s,"[Content_Types].xml",OK(i,e)),rn(s,"_rels/.rels",Rp(e.rels)),rn(s,"xl/_rels/workbook."+n+".rels",Rp(e.wbrels)),delete e.revssf,delete e.ssf,s}function Q3(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Na(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function S8e(t,e){return Lt.find(t,"EncryptedPackage")?w8e(t,e):zX(t,e)}function D8e(t,e){var n,r=t,i=e||{};return i.type||(i.type=on&&Buffer.isBuffer(t)?"buffer":"base64"),n=fK(r,i),b8e(n,i)}function QX(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return oN(t.slice(n),e);default:break e}return mm.to_workbook(t,e)}function A8e(t,e){var n="",r=Q3(t,e);switch(e.type){case"base64":n=Na(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Mf(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Hn(n)),e.type="binary",QX(n,e)}function N8e(t,e){var n=t;return e.type=="base64"&&(n=Na(n)),n=My.utils.decode(1200,n.slice(2),"str"),e.type="binary",QX(n,e)}function k8e(t){return t.match(/[^\x00-\x7F]/)?gl(t):t}function hD(t,e,n,r){return r?(n.type="string",mm.to_workbook(t,n)):mm.to_workbook(e,n)}function uN(t,e){y3();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return uN(new Uint8Array(t),(n=hr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Fp={},n.dateNF&&(Fp.dateNF=n.dateNF),n.type||(n.type=on&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=on?"buffer":"binary",r=EDe(t),typeof Uint8Array<"u"&&!on&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=k8e(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=hr(n),n.type="array",uN(v3(r),n)}switch((i=Q3(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return S8e(Lt.read(r,n),n);break;case 9:if(i[1]<=8)return zX(r,n);break;case 60:return oN(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return MNe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return lX.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?D8e(r,n):hD(t,r,n,s);case 239:return i[3]===60?oN(r,n):hD(t,r,n,s);case 255:if(i[1]===254)return N8e(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return df.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return df.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return aN.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return mX.to_workbook(r,n);break;case 10:case 13:case 32:return A8e(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return FNe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?aN.to_workbook(r,n):hD(t,r,n,s)}function ZX(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Bv(e.file,Lt.write(t,{type:on?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Lt.write(t,e)}function I8e(t,e){var n=hr(e||{}),r=T8e(t,n);return R8e(r,n)}function R8e(t,e){var n={},r=on?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Lt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Ew(i))}return e.password&&typeof encrypt_agile<"u"?ZX(encrypt_agile(i,e.password),e):e.type==="file"?Bv(e.file,i):e.type=="string"?Hn(i):i}function P8e(t,e){var n=e||{},r=kPe(t,n);return ZX(r,n)}function il(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Uy(gl(r));case"binary":return gl(r);case"string":return t;case"file":return Bv(e.file,r,"utf8");case"buffer":return on?Ac(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):il(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function F8e(t,e){switch(e.type){case"base64":return Uy(t);case"binary":return t;case"string":return t;case"file":return Bv(e.file,t,"binary");case"buffer":return on?Ac(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function j1(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Uy(n):e.type=="string"?Hn(n):n;case"file":return Bv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function eJ(t,e){y3(),S5e(t);var n=hr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=eJ(t,n);return n.type="array",Ew(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return il(TPe(t,n),n);case"slk":case"sylk":return il(oX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return il($X(t.Sheets[t.SheetNames[i]],n),n);case"txt":return F8e(tJ(t.Sheets[t.SheetNames[i]],n),n);case"csv":return il(Z3(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return il(lX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return j1(aN.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return il(mm.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return il(mX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return il(cX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return il(JX(t,n),n);case"wk1":return j1(df.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return j1(df.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),j1(HX(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),P8e(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return I8e(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function M8e(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function U8e(t,e,n){var r={};return r.type="file",r.file=e,M8e(r),eJ(t,r)}function O8e(t,e,n,r,i,s,a,o){var l=Yr(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!a||t[n])for(var p=e.s.c;p<=e.e.c;++p){var v=a?t[n][p]:t[r[p]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[p]!=null){if(g==null)if(v.t=="e"&&g===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&g===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:yc(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function G_(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=bn(u);break;case"number":l=bn(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=Yr(l.s.r),h=[],p=[],v=0,g=0,y=Array.isArray(t),b=l.s.r,x=0,w={};y&&!t[b]&&(t[b]=[]);var E=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(E[x]||{}).hidden)switch(h[x]=Sr(x),n=y?t[b][x]:t[h[x]+f],r){case 1:s[x]=x-l.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=c.header[x-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=yc(n,null,c),g=w[a]||0,!g)w[a]=1;else{do o=a+"_"+g++;while(w[o]);w[a]=g,w[o]=1}s[x]=o}for(b=l.s.r+i;b<=l.e.r;++b)if(!(S[b]||{}).hidden){var R=O8e(t,l,b,h,r,s,y,c);(R.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(p[v++]=R.row)}return p.length=v,p}var q7=/"/g;function L8e(t,e,n,r,i,s,a,o){for(var l=!0,c=[],u="",f=Yr(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=o.dense?(t[n]||[])[h]:t[r[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:yc(p,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===i||g===s||g===34||o.forceQuotes){u='"'+u.replace(q7,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(q7,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function Z3(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=bn(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(h[v]||{}).hidden||(f[v]=Sr(v));for(var g=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(u=L8e(t,i,y,f,a,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((g++?o:"")+u)));return delete r.dense,n.join("")}function tJ(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=Z3(t,e);return n}function j8e(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=bn(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Sr(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=Yr(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function nJ(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Dr(r.origin):r.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=bn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(a=f.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(g,y){Br(g).forEach(function(b){(p=h.indexOf(b))==-1&&(h[p=h.length]=b);var x=g[b],w="z",E="",S=$t({c:o+p,r:a+y+i});c=Ky(s,S),x&&typeof x=="object"&&!(x instanceof Date)?s[S]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",r.cellDates||(w="n",x=vi(x)),E=r.dateNF||Wt[14]):x===null&&r.nullError&&(w="e",x=0),c?(c.t=w,c.v=x,delete c.w,delete c.R,E&&(c.z=E)):s[S]=c={t:w,v:x},E&&(c.z=E))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=Yr(a);if(i)for(p=0;p<h.length;++p)s[Sr(p+o)+v]={t:"s",v:h[p]};return s["!ref"]=tn(u),s}function B8e(t,e){return nJ(null,t,e)}function Ky(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Dr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Ky(t,$t(e)):Ky(t,$t({r:e,c:n||0}))}function V8e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function e6(){return{SheetNames:[],Sheets:{}}}function t6(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(jX(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function W8e(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=V8e(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function q8e(t,e){return t.z=e,t}function rJ(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function z8e(t,e,n){return rJ(t,"#"+e,n)}function H8e(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function $8e(t,e,n,r){for(var i=typeof e!="string"?e:bn(e),s=typeof e=="string"?e:tn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Ky(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var B1={encode_col:Sr,encode_row:Yr,encode_cell:$t,encode_range:tn,decode_col:k3,decode_row:N3,split_cell:nAe,decode_cell:Dr,decode_range:sa,format_cell:yc,sheet_add_aoa:kK,sheet_add_json:nJ,sheet_add_dom:GX,aoa_to_sheet:Xm,json_to_sheet:B8e,table_to_sheet:KX,table_to_book:QPe,sheet_to_csv:Z3,sheet_to_txt:tJ,sheet_to_json:G_,sheet_to_html:$X,sheet_to_formulae:j8e,sheet_to_row_object_array:G_,sheet_get_cell:Ky,book_new:e6,book_append_sheet:t6,book_set_sheet_visibility:W8e,cell_set_number_format:q8e,cell_set_hyperlink:rJ,cell_set_internal_link:z8e,cell_add_comment:H8e,sheet_set_array_formula:$8e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function n6(t,e){return t.indexOf(e)!==-1}function tp(t,e,n){const r=n[e];if(!r)return null;for(const i of Object.keys(r)){const s=r[i];for(const a of s)if(n6(t,String(a)))return i}return null}function G8e(t,e,n){const r=n[e];if(!r)return[];const i=[];for(const s of Object.keys(r)){const a=r[s];for(const o of a)if(n6(t,String(o))){i.push(s);break}}return i}function K8e(t){if(!t)return t;let e=t.trim();return e=e.replace(/\s+/g," "),e=e.replace(/(^|\s)(?=[\u0600-\u06FF])/g,"$1"),e.toLowerCase()}function X8e(t,e){let n=t.trim(),r="string";return!isNaN(Number(n))&&n!==""?(n=parseFloat(n),r="number"):(n.toLowerCase()===""||n.toLowerCase()==="")&&(n=n.toLowerCase()==="",r="boolean"),{value:n,valueType:r}}function J8e(t,e,n={}){const r=t;let i=K8e(r);const s={intent:null,target:null,movement:null,index:null,startIndex:null,endIndex:null,position:null,color:null,conditions:[],references:[],useReference:!1,isNegated:!1,raw:r};for(const u of e.negationWords||[])if(n6(i,u)){s.isNegated=!0,i=i.replace(u,"");break}s.intent=tp(i,"intents",e),s.target=tp(i,"targets",e),s.position=tp(i,"positions",e),s.color=tp(i,"colors",e),s.movement=tp(i,"movements",e);const a=G8e(i,"numbers",e).map(u=>isNaN(Number(u))?u:parseInt(String(u),10)),o=(i.match(/\b(\d+)\b/g)||[]).map(Number),l=[...new Set([...a,...o])].filter(u=>u!==null).map(Number);l.length>0&&(tp(i,"rangeWords",e)&&l.length>=2?(s.startIndex=Math.min(...l),s.endIndex=Math.max(...l)):s.index=l[0]);const c=e.conditions;for(const u of Object.keys(c)){const f=c[u];for(const h of f){const p=i.indexOf(h);if(p!==-1){const g=r.slice(p+h.length).trim().match(/^(.+?)(?:\s+(?:|)\s+|$)/i);if(g){const{value:y,valueType:b}=X8e(g[1].trim());s.conditions.push({type:u,value:y,valueType:b,isNegated:s.isNegated})}s.isNegated=!1}}}return s}function Y8e(t){return t.split(/\s+(?:|)\s+/i).map(e=>e.trim()).filter(Boolean)}function Q8e(t,e){const n=t.trim(),r=Y8e(n),i={lastResult:null,lastColumn:null,lastSearch:null,lastSelection:null,lastTarget:null,lastIndex:null,history:[]},s=[];for(const a of r){const o=J8e(a,e,i);!o||!o.intent||s.push(o)}return{actions:s,context:i}}const Z8e=({onClose:t,onCreate:e})=>{const[n,r]=q.useState(20),[i,s]=q.useState(10),[a,o]=q.useState("new_sheet.xlsx"),l=()=>{n>0&&i>0&&a.trim()&&e(n,i,a.trim())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"   "})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sheet-name",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"sheet-name",value:a,onChange:c=>o(c.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-rows",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-rows",value:n,onChange:c=>r(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{htmlFor:"sheet-cols",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"number",id:"sheet-cols",value:i,onChange:c=>s(Math.max(1,parseInt(c.target.value,10)||1)),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"button",onClick:l,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:""})]})]})})},eFe=()=>{const{excelCommands:t}=Jt(),[e,n]=q.useState([]),[r,i]=q.useState([]),[s,a]=q.useState([]),[o,l]=q.useState(""),[c,u]=q.useState(new Set),[f,h]=q.useState(new Set),[p,v]=q.useState(new Set),[g,y]=q.useState(null),[b,x]=q.useState({}),[w,E]=q.useState(""),[S,R]=q.useState(!1),[D,N]=q.useState(""),[I,F]=q.useState(!1),[P,k]=q.useState(!1),U=q.useRef(null),O=q.useRef(!1),X=q.useRef(s),J=q.useRef(r),Y=q.useRef({selectedRows:c,selectedCols:f,selectedCells:p}),ne=q.useRef({setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v});q.useEffect(()=>{X.current=s,J.current=r,Y.current={selectedRows:c,selectedCols:f,selectedCells:p},ne.current={setCurrentData:a,setHeaders:i,setCellStyles:x,setSelectedRows:u,setSelectedCols:h,setSelectedCells:v}});const z=window.SpeechRecognition||window.webkitSpeechRecognition,K=!!z,B=q.useCallback(re=>{if(!re.length)return!1;let le=!1,he=[...J.current],_e=X.current.map(de=>[...de]);({...ne.current.setCellStyles});const ie=Y.current.selectedRows.size>0?"rows":Y.current.selectedCols.size>0?"columns":Y.current.selectedCells.size>0?"cells":"none";for(const de of re)switch(de.intent){case"color":if(de.color){const ve={backgroundColor:de.color};["white","yellow","pink"].includes(de.color)&&(ve.color="#333"),["black","blue","purple","green","red"].includes(de.color)&&(ve.color="#fff"),ne.current.setCellStyles(De=>{const Ue={...De},Te=(Me,Oe)=>{Ue[`${Me}:${Oe}`]={...Ue[`${Me}:${Oe}`]||{},...ve}};return ie==="cells"?Y.current.selectedCells.forEach(Me=>{const[Oe,Ge]=Me.split(":").map(Number);Te(Oe,Ge)}):ie==="rows"?Y.current.selectedRows.forEach(Me=>J.current.forEach((Oe,Ge)=>Te(Number(Me),Ge))):ie==="columns"&&Y.current.selectedCols.forEach(Me=>X.current.forEach((Oe,Ge)=>Te(Ge,Number(Me)))),Ue}),le=!0}break;case"move":if(de.movement&&ie==="columns"&&Y.current.selectedCols.size===1){const ve=Number(Array.from(Y.current.selectedCols)[0]),De=de.movement==="right"?ve+1:ve-1;De>=0&&De<he.length&&([he[ve],he[De]]=[he[De],he[ve]],_e.forEach(Ue=>{[Ue[ve],Ue[De]]=[Ue[De],Ue[ve]]}),ne.current.setSelectedCols(new Set([De])),le=!0)}break;case"delete":case"clear":const me=de.intent==="delete";if(ie==="rows")Array.from(Y.current.selectedRows).sort((De,Ue)=>Number(Ue)-Number(De)).forEach(De=>_e.splice(Number(De),1)),ne.current.setSelectedRows(new Set),le=!0;else if(ie==="columns"){const ve=Array.from(Y.current.selectedCols).sort((De,Ue)=>Number(Ue)-Number(De));me&&ve.forEach(De=>he.splice(Number(De),1)),_e.forEach(De=>{ve.forEach(Ue=>me?De.splice(Number(Ue),1):De[Number(Ue)]="")}),ne.current.setSelectedCols(new Set),le=!0}else ie==="cells"&&(Y.current.selectedCells.forEach(ve=>{const[De,Ue]=ve.split(":").map(Number);_e[De][Ue]=""}),le=!0);break;case"sum":if(ie==="columns"&&Y.current.selectedCols.size===1){const ve=Number(Array.from(Y.current.selectedCols)[0]),De=_e.reduce((Me,Oe)=>Me+(Number(Oe[ve])||0),0),Ue=_e.findIndex(Me=>!Me[ve]),Te=Ue!==-1?Ue:_e.length;Te===_e.length&&_e.push(Array(he.length).fill("")),_e[Te][ve]=De,le=!0}break}return le&&(ne.current.setHeaders(he),ne.current.setCurrentData(_e),ne.current.setSelectedRows(new Set),ne.current.setSelectedCols(new Set),ne.current.setSelectedCells(new Set)),le},[]);q.useEffect(()=>{if(!K)return;U.current=new z;const re=U.current;return re.continuous=!0,re.interimResults=!1,re.lang="ar-SA",re.onstart=()=>F(!0),re.onend=()=>{if(O.current){console.log("Excel Studio: Speech recognition ended, attempting restart.");try{re.start()}catch(le){console.error("Excel Studio: Could not restart recognition",le),O.current=!1,F(!1)}}else F(!1)},re.onerror=le=>{N(`   : ${le.error}`),O.current=!1,F(!1)},re.onresult=le=>{let he="";for(let ie=le.resultIndex;ie<le.results.length;++ie)le.results[ie].isFinal&&(he+=le.results[ie][0].transcript);const _e=he.trim();if(_e&&t){const{actions:ie}=Q8e(_e,t);B(ie)||E(me=>(me?me+" ":"")+_e)}else _e&&E(ie=>(ie?ie+" ":"")+_e)},()=>{U.current&&(O.current=!1,U.current.abort())}},[K,t,B]);const j=()=>{const re=U.current;re&&(I?(O.current=!1,re.stop()):(N(""),O.current=!0,re.start()))},W=q.useMemo(()=>c.size>0?"rows":f.size>0?"columns":p.size>0?"cells":"none",[c,f,p]),H=q.useMemo(()=>{const re=new Map;return W==="cells"&&Array.from(p).forEach((le,he)=>{re.set(le,he+1)}),re},[p,W]),Q=re=>{var _e;const le=(_e=re.target.files)==null?void 0:_e[0];if(!le)return;l(le.name);const he=new FileReader;he.onload=ie=>{var de;try{const me=new Uint8Array((de=ie.target)==null?void 0:de.result),ve=uN(me,{type:"array"}),De=ve.SheetNames[0],Ue=ve.Sheets[De],Te=B1.sheet_to_json(Ue,{header:1});if(Te.length>0){const Me=Te[0].map(Ge=>String(Ge)),Oe=Te.slice(1).map(Ge=>{const nt=Array(Me.length).fill("");return Ge.forEach((st,Ot)=>{Ot<nt.length&&(nt[Ot]=st)}),nt});i(Me),n(JSON.parse(JSON.stringify(Oe))),a(Oe),ce()}else N("    .")}catch(me){console.error(me),me instanceof Error?N(`    Excel: ${me.message}`):N("    Excel.      .")}},he.readAsArrayBuffer(le)},Z=(re,le,he)=>{const _e=Array.from({length:le},(de,me)=>String.fromCharCode(65+me)),ie=Array.from({length:re},()=>Array(le).fill(""));i(_e),a(ie),n(JSON.parse(JSON.stringify(ie))),l(he),ce(),k(!1)},se=()=>{a(JSON.parse(JSON.stringify(e))),x({}),ce()},ce=()=>{u(new Set),h(new Set),v(new Set),y(null),E(""),N("")},ue=re=>{h(new Set),v(new Set),y(null),u(le=>{const he=new Set(le);return he.has(re)?he.delete(re):he.add(re),he})},Ee=re=>{u(new Set),v(new Set),y(null),h(le=>{const he=new Set(le);return he.has(re)?he.delete(re):he.add(re),he})},Ie=(re,le,he)=>{u(new Set),h(new Set),y(null);const _e=`${re}:${le}`;v(ie=>{const de=he?new Set(ie):new Set;return de.has(_e)&&he?de.delete(_e):de.add(_e),de})},fe=(re,le)=>{y({rowIndex:re,colIndex:le}),u(new Set),h(new Set),v(new Set)},Le=(re,le,he)=>{const _e=JSON.parse(JSON.stringify(s));_e[le][he]=re.target.value,a(_e)},V=()=>{y(null)},ye=re=>{if(!g)return;const{rowIndex:le,colIndex:he}=g;if(re.key==="Enter")re.preventDefault(),le<s.length-1?y({rowIndex:le+1,colIndex:he}):y(null);else if(re.key==="Escape")y(null);else if(re.key==="Tab"){re.preventDefault();const _e=re.shiftKey?he-1:he+1;_e>=0&&_e<r.length?y({rowIndex:le,colIndex:_e}):!re.shiftKey&&le<s.length-1?y({rowIndex:le+1,colIndex:0}):y(null)}},be=async()=>{if(W==="none"){N("         .");return}if(!w.trim()){N("    .");return}N(""),R(!0);try{const re=[];W==="cells"?Array.from(p).forEach((me,ve)=>{const[De,Ue]=me.split(":").map(Number);re.push({value:String(s[De][Ue]),rowIndex:De,colIndex:Ue,header:r[Ue],cellNumber:ve+1})}):W==="rows"?Array.from(c).forEach(me=>r.forEach((ve,De)=>re.push({value:String(s[Number(me)][De]),rowIndex:Number(me),colIndex:De,header:ve}))):W==="columns"&&Array.from(f).forEach(me=>s.forEach((ve,De)=>re.push({value:String(ve[Number(me)]),rowIndex:De,colIndex:Number(me),header:r[Number(me)]})));const _e=(await tge(w,re,W==="cells"?"Each selected cell is assigned a unique number (cellNumber). The user might refer to these cells by their number.":"The user has selected entire rows or columns.")).modifications;if(!Array.isArray(_e))throw new Error("AI response format is incorrect.");let ie=JSON.parse(JSON.stringify(s)),de=JSON.parse(JSON.stringify(b));_e.forEach(me=>{const{rowIndex:ve,colIndex:De,newValue:Ue,backgroundColor:Te}=me;typeof ve=="number"&&typeof De=="number"&&(Ue!==void 0&&(ie[Number(ve)][Number(De)]=Ue),Te&&(de[`${ve}:${De}`]={...de[`${ve}:${De}`],backgroundColor:Te}))}),a(ie),x(de),ce()}catch(re){re instanceof Error?N(re.message):N("     .")}finally{R(!1)}},oe=()=>{const re=B1.aoa_to_sheet([r,...s]),le=B1.book_new();B1.book_append_sheet(le,re,"Sheet1"),U8e(le,`modified_${o||"data.xlsx"}`)};return s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[P&&d.jsx(Z8e,{onClose:()=>k(!1),onCreate:Z}),d.jsx(_$,{className:"text-6xl text-gray-300 mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"        Excel    ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("label",{className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors cursor-pointer flex items-center justify-center gap-2",children:[d.jsx(Al,{}),d.jsx("span",{children:" "}),d.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:Q,className:"hidden"})]}),d.jsxs("button",{onClick:()=>k(!0),className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(ic,{}),d.jsx("span",{children:"   "})]})]}),D&&d.jsx("p",{className:"text-red-500 mt-4",children:D})]}):d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsxs("header",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 truncate",title:o,children:o}),d.jsx("button",{type:"button",onClick:j,disabled:!K,className:`p-3 rounded-full transition-colors ${K?I?"bg-red-500 text-white animate-pulse":"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"  ",children:I?d.jsx(gc,{}):d.jsx(JI,{})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:se,className:"flex items-center gap-2 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:[d.jsx(Ume,{}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:oe,className:"flex items-center gap-2 bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(Nu,{}),d.jsx("span",{children:""})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 p-3 rounded-md mb-4 flex items-start gap-3 text-sm",children:[d.jsx(Ame,{className:"flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("strong",{children:" :"}),d.jsxs("ol",{className:"list-decimal list-inside",children:[d.jsx("li",{children:"** :**      ."}),d.jsx("li",{children:'**  :**         (: "  1 ").'}),d.jsx("li",{children:'** :**       ""   .'})]})]})]}),d.jsx("div",{className:"flex-grow overflow-auto border rounded-lg",children:d.jsxs("table",{className:"w-full text-sm text-right border-collapse",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky right-0 bg-gray-100 border-b border-gray-300 p-2 min-w-[50px]",children:"#"}),r.map((re,le)=>d.jsx("th",{onClick:()=>Ee(le),className:`p-2 border-b border-l border-gray-300 font-semibold cursor-pointer whitespace-nowrap ${f.has(le)?"bg-green-200":"hover:bg-gray-200"}`,children:re||String.fromCharCode(65+le)},le))]})}),d.jsx("tbody",{children:s.map((re,le)=>d.jsxs("tr",{className:`${c.has(le)?"bg-green-100":""}`,children:[d.jsx("td",{onClick:()=>ue(le),className:"sticky right-0 p-2 border-b border-l border-gray-300 font-mono text-center cursor-pointer bg-gray-50 hover:bg-gray-200",children:le+1}),re.map((he,_e)=>{const ie=(g==null?void 0:g.rowIndex)===le&&(g==null?void 0:g.colIndex)===_e,de=`${le}:${_e}`,me=b[de]||{},ve=p.has(de);let De="border-b border-l border-gray-300 text-black relative";return ie?De+=" p-0":(De+=" p-2 whitespace-nowrap truncate max-w-xs cursor-pointer",ve?De+=" bg-green-200":(c.has(le)||f.has(_e))&&(De+=" bg-green-100")),d.jsx("td",{style:me,className:De,title:ie?void 0:he,onClick:Ue=>!ie&&Ie(le,_e,Ue.ctrlKey||Ue.metaKey),onDoubleClick:()=>fe(le,_e),children:ie?d.jsx("div",{className:"relative w-full h-full",children:d.jsx("input",{type:"text",value:he||"",onChange:Ue=>Le(Ue,le,_e),onBlur:V,onKeyDown:ye,autoFocus:!0,className:"w-full h-full p-2 box-border border-2 border-blue-500 outline-none rounded-sm bg-white text-black"})}):d.jsxs(d.Fragment,{children:[ve&&d.jsx("span",{className:"absolute top-0 right-0 text-xs bg-blue-500 text-white rounded-bl-md px-1 py-0.5 pointer-events-none z-20",children:H.get(de)}),he]})},_e)})]},le))})]})}),d.jsx("footer",{className:"flex-shrink-0 mt-4 p-4 bg-white rounded-lg shadow-md border",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("div",{className:"relative flex-grow",children:d.jsx("textarea",{value:w,onChange:re=>E(re.target.value),placeholder:"      ...",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none bg-gray-800 text-white placeholder-gray-400 border-gray-600",rows:2,disabled:S})}),d.jsxs("button",{onClick:be,disabled:S||W==="none",className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[S?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:S?" ...":"  "})]})]}),D&&d.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:D})]})})]})};var Va={},r6="1.13.7",z7=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Pw=Array.prototype,i6=Object.prototype,H7=typeof Symbol<"u"?Symbol.prototype:null,tFe=Pw.push,Kv=Pw.slice,Xy=i6.toString,nFe=i6.hasOwnProperty,iJ=typeof ArrayBuffer<"u",rFe=typeof DataView<"u",iFe=Array.isArray,$7=Object.keys,G7=Object.create,K7=iJ&&ArrayBuffer.isView,sFe=isNaN,aFe=isFinite,sJ=!{toString:null}.propertyIsEnumerable("toString"),X7=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],oFe=Math.pow(2,53)-1;function js(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function ld(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function aJ(t){return t===null}function s6(t){return t===void 0}function a6(t){return t===!0||t===!1||Xy.call(t)==="[object Boolean]"}function oJ(t){return!!(t&&t.nodeType===1)}function Es(t){var e="[object "+t+"]";return function(n){return Xy.call(n)===e}}const Fw=Es("String"),o6=Es("Number"),lJ=Es("Date"),cJ=Es("RegExp"),uJ=Es("Error"),l6=Es("Symbol"),c6=Es("ArrayBuffer");var dJ=Es("Function"),lFe=z7.document&&z7.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof lFe!="function"&&(dJ=function(t){return typeof t=="function"||!1});const bs=dJ,fJ=Es("Object");var hJ=rFe&&(!/\[native code\]/.test(String(DataView))||fJ(new DataView(new ArrayBuffer(8)))),u6=typeof Map<"u"&&fJ(new Map),cFe=Es("DataView");function uFe(t){return t!=null&&bs(t.getInt8)&&c6(t.buffer)}const Jy=hJ?uFe:cFe,cd=iFe||Es("Array");function ud(t,e){return t!=null&&nFe.call(t,e)}var dN=Es("Arguments");(function(){dN(arguments)||(dN=function(t){return ud(t,"callee")})})();const Mw=dN;function pJ(t){return!l6(t)&&aFe(t)&&!isNaN(parseFloat(t))}function d6(t){return o6(t)&&sFe(t)}function f6(t){return function(){return t}}function mJ(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=oFe}}function gJ(t){return function(e){return e==null?void 0:e[t]}}const K_=gJ("byteLength"),dFe=mJ(K_);var fFe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function hFe(t){return K7?K7(t)&&!Jy(t):dFe(t)&&fFe.test(Xy.call(t))}const h6=iJ?hFe:f6(!1),aa=gJ("length");function pFe(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function yJ(t,e){e=pFe(e);var n=X7.length,r=t.constructor,i=bs(r)&&r.prototype||i6,s="constructor";for(ud(t,s)&&!e.contains(s)&&e.push(s);n--;)s=X7[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function xi(t){if(!ld(t))return[];if($7)return $7(t);var e=[];for(var n in t)ud(t,n)&&e.push(n);return sJ&&yJ(t,e),e}function vJ(t){if(t==null)return!0;var e=aa(t);return typeof e=="number"&&(cd(t)||Fw(t)||Mw(t))?e===0:aa(xi(t))===0}function p6(t,e){var n=xi(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Pn(t){if(t instanceof Pn)return t;if(!(this instanceof Pn))return new Pn(t);this._wrapped=t}Pn.VERSION=r6;Pn.prototype.value=function(){return this._wrapped};Pn.prototype.valueOf=Pn.prototype.toJSON=Pn.prototype.value;Pn.prototype.toString=function(){return String(this._wrapped)};function J7(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,K_(t))}var Y7="[object DataView]";function fN(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:xJ(t,e,n,r)}function xJ(t,e,n,r){t instanceof Pn&&(t=t._wrapped),e instanceof Pn&&(e=e._wrapped);var i=Xy.call(t);if(i!==Xy.call(e))return!1;if(hJ&&i=="[object Object]"&&Jy(t)){if(!Jy(e))return!1;i=Y7}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return H7.valueOf.call(t)===H7.valueOf.call(e);case"[object ArrayBuffer]":case Y7:return xJ(J7(t),J7(e),n,r)}var s=i==="[object Array]";if(!s&&h6(t)){var a=K_(t);if(a!==K_(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(bs(o)&&o instanceof o&&bs(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!fN(t[c],e[c],n,r))return!1}else{var u=xi(t),f;if(c=u.length,xi(e).length!==c)return!1;for(;c--;)if(f=u[c],!(ud(e,f)&&fN(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function _J(t,e){return fN(t,e)}function Ym(t){if(!ld(t))return[];var e=[];for(var n in t)e.push(n);return sJ&&yJ(t,e),e}function m6(t){var e=aa(t);return function(n){if(n==null)return!1;var r=Ym(n);if(aa(r))return!1;for(var i=0;i<e;i++)if(!bs(n[t[i]]))return!1;return t!==TJ||!bs(n[g6])}}var g6="forEach",bJ="has",y6=["clear","delete"],wJ=["get",bJ,"set"],mFe=y6.concat(g6,wJ),TJ=y6.concat(wJ),gFe=["add"].concat(y6,g6,bJ);const EJ=u6?m6(mFe):Es("Map"),CJ=u6?m6(TJ):Es("WeakMap"),SJ=u6?m6(gFe):Es("Set"),DJ=Es("WeakSet");function oh(t){for(var e=xi(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function AJ(t){for(var e=xi(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function v6(t){for(var e={},n=xi(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function Yy(t){var e=[];for(var n in t)bs(t[n])&&e.push(n);return e.sort()}function x6(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=t(s),o=a.length,l=0;l<o;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const _6=x6(Ym),ym=x6(xi),b6=x6(Ym,!0);function yFe(){return function(){}}function NJ(t){if(!ld(t))return{};if(G7)return G7(t);var e=yFe();e.prototype=t;var n=new e;return e.prototype=null,n}function kJ(t,e){var n=NJ(t);return e&&ym(n,e),n}function IJ(t){return ld(t)?cd(t)?t.slice():_6({},t):t}function RJ(t,e){return e(t),t}function w6(t){return cd(t)?t:[t]}Pn.toPath=w6;function Xv(t){return Pn.toPath(t)}function T6(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function E6(t,e,n){var r=T6(t,Xv(e));return s6(r)?n:r}function PJ(t,e){e=Xv(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!ud(t,i))return!1;t=t[i]}return!!n}function Uw(t){return t}function Bf(t){return t=ym({},t),function(e){return p6(e,t)}}function Ow(t){return t=Xv(t),function(e){return T6(e,t)}}function Jv(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,a){return t.call(e,r,i,s,a)}}return function(){return t.apply(e,arguments)}}function FJ(t,e,n){return t==null?Uw:bs(t)?Jv(t,e,n):ld(t)&&!cd(t)?Bf(t):Ow(t)}function Lw(t,e){return FJ(t,e,1/0)}Pn.iteratee=Lw;function la(t,e,n){return Pn.iteratee!==Lw?Pn.iteratee(t,e):FJ(t,e,n)}function MJ(t,e,n){e=la(e,n);for(var r=xi(t),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function C6(){}function UJ(t){return t==null?C6:function(e){return E6(t,e)}}function OJ(t,e,n){var r=Array(Math.max(0,t));e=Jv(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function X_(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const vm=Date.now||function(){return new Date().getTime()};function LJ(t){var e=function(s){return t[s]},n="(?:"+xi(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const jJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},BJ=LJ(jJ),vFe=v6(jJ),VJ=LJ(vFe),WJ=Pn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var pD=/(.)^/,xFe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_Fe=/\\|'|\r|\n|\u2028|\u2029/g;function bFe(t){return"\\"+xFe[t]}var wFe=/^\s*(\w|\$)+\s*$/;function qJ(t,e,n){!e&&n&&(e=n),e=b6({},e,Pn.templateSettings);var r=RegExp([(e.escape||pD).source,(e.interpolate||pD).source,(e.evaluate||pD).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(c,u,f,h,p){return s+=t.slice(i,p).replace(_Fe,bFe),i=p+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:h&&(s+=`';
`+h+`
__p+='`),c}),s+=`';
`;var a=e.variable;if(a){if(!wFe.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return o.call(this,c,Pn)};return l.source="function("+a+`){
`+s+"}",l}function zJ(t,e,n){e=Xv(e);var r=e.length;if(!r)return bs(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t==null?void 0:t[e[i]];s===void 0&&(s=n,i=r),t=bs(s)?s.call(t):s}return t}var TFe=0;function HJ(t){var e=++TFe+"";return t?t+e:e}function $J(t){var e=Pn(t);return e._chain=!0,e}function GJ(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=NJ(t.prototype),a=t.apply(s,i);return ld(a)?a:s}var lh=js(function(t,e){var n=lh.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===n?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return GJ(t,r,this,this,a)};return r});lh.placeholder=Pn;const S6=js(function(t,e,n){if(!bs(t))throw new TypeError("Bind must be called on a function");var r=js(function(i){return GJ(t,r,e,this,n.concat(i))});return r}),ka=mJ(aa);function ch(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,a=aa(t);s<a;s++){var o=t[s];if(ka(o)&&(cd(o)||Mw(o)))if(e>1)ch(o,e-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const KJ=js(function(t,e){e=ch(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=S6(t[r],t)}return t});function XJ(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return ud(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const D6=js(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),JJ=lh(D6,Pn,1);function YJ(t,e,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=n.leading===!1?0:vm(),r=null,a=t.apply(i,s),r||(i=s=null)},c=function(){var u=vm();!o&&n.leading===!1&&(o=u);var f=e-(u-o);return i=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),o=u,a=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function QJ(t,e,n){var r,i,s,a,o,l=function(){var u=vm()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,s)),r||(s=o=null))},c=js(function(u){return o=this,s=u,i=vm(),r||(r=setTimeout(l,e),n&&(a=t.apply(o,s))),a});return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function ZJ(t,e){return lh(e,t)}function jw(t){return function(){return!t.apply(this,arguments)}}function eY(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function tY(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function A6(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const nY=lh(A6,2);function N6(t,e,n){e=la(e,n);for(var r=xi(t),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(t[i],i,t))return i}function rY(t){return function(e,n,r){n=la(n,r);for(var i=aa(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const Bw=rY(1),k6=rY(-1);function I6(t,e,n,r){n=la(n,r,1);for(var i=n(e),s=0,a=aa(t);s<a;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s}function iY(t,e,n){return function(r,i,s){var a=0,o=aa(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(Kv.call(r,a,o),d6),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===i)return s;return-1}}const R6=iY(1,Bw,I6),sY=iY(-1,k6);function Qy(t,e,n){var r=ka(t)?Bw:N6,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function aY(t,e){return Qy(t,Bf(e))}function jo(t,e,n){e=Jv(e,n);var r,i;if(ka(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=xi(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function vc(t,e,n){e=la(e,n);for(var r=!ka(t)&&xi(t),i=(r||t).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function oY(t){var e=function(n,r,i,s){var a=!ka(n)&&xi(n),o=(a||n).length,l=t>0?0:o-1;for(s||(i=n[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,s){var a=arguments.length>=3;return e(n,Jv(r,s,4),i,a)}}const Mp=oY(1),J_=oY(-1);function Xu(t,e,n){var r=[];return e=la(e,n),jo(t,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function lY(t,e,n){return Xu(t,jw(la(e)),n)}function Y_(t,e,n){e=la(e,n);for(var r=!ka(t)&&xi(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function Q_(t,e,n){e=la(e,n);for(var r=!ka(t)&&xi(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function no(t,e,n,r){return ka(t)||(t=oh(t)),(typeof n!="number"||r)&&(n=0),R6(t,e,n)>=0}const cY=js(function(t,e,n){var r,i;return bs(e)?i=e:(e=Xv(e),r=e.slice(0,-1),e=e[e.length-1]),vc(t,function(s){var a=i;if(!a){if(r&&r.length&&(s=T6(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,n)})});function Vw(t,e){return vc(t,Ow(e))}function uY(t,e){return Xu(t,Bf(e))}function P6(t,e,n){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=ka(t)?t:oh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=la(e,n),jo(t,function(c,u,f){a=e(c,u,f),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function dY(t,e,n){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=ka(t)?t:oh(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=la(e,n),jo(t,function(c,u,f){a=e(c,u,f),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var EFe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function F6(t){return t?cd(t)?Kv.call(t):Fw(t)?t.match(EFe):ka(t)?vc(t,Uw):oh(t):[]}function M6(t,e,n){if(e==null||n)return ka(t)||(t=oh(t)),t[X_(t.length-1)];var r=F6(t),i=aa(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=X_(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function fY(t){return M6(t,1/0)}function hY(t,e,n){var r=0;return e=la(e,n),Vw(vc(t,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function Ww(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=la(r,i),jo(n,function(a,o){var l=r(a,o,n);t(s,a,l)}),s}}const pY=Ww(function(t,e,n){ud(t,n)?t[n].push(e):t[n]=[e]}),mY=Ww(function(t,e,n){t[n]=e}),gY=Ww(function(t,e,n){ud(t,n)?t[n]++:t[n]=1}),yY=Ww(function(t,e,n){t[n?0:1].push(e)},!0);function vY(t){return t==null?0:ka(t)?t.length:xi(t).length}function CFe(t,e,n){return e in n}const U6=js(function(t,e){var n={},r=e[0];if(t==null)return n;bs(r)?(e.length>1&&(r=Jv(r,e[1])),e=Ym(t)):(r=CFe,e=ch(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=t[a];r(o,a,t)&&(n[a]=o)}return n}),xY=js(function(t,e){var n=e[0],r;return bs(n)?(n=jw(n),e.length>1&&(r=e[1])):(e=vc(ch(e,!1,!1),String),n=function(i,s){return!no(e,s)}),U6(t,n,r)});function O6(t,e,n){return Kv.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Up(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:O6(t,t.length-e)}function hf(t,e,n){return Kv.call(t,e==null||n?1:e)}function _Y(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:hf(t,Math.max(0,t.length-e))}function bY(t){return Xu(t,Boolean)}function wY(t,e){return ch(t,e,!1)}const L6=js(function(t,e){return e=ch(e,!0,!0),Xu(t,function(n){return!no(e,n)})}),TY=js(function(t,e){return L6(t,e)});function Zy(t,e,n,r){a6(e)||(r=n,n=e,e=!1),n!=null&&(n=la(n,r));for(var i=[],s=[],a=0,o=aa(t);a<o;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||s!==c)&&i.push(l),s=c):n?no(s,c)||(s.push(c),i.push(l)):no(i,l)||i.push(l)}return i}const EY=js(function(t){return Zy(ch(t,!0,!0))});function CY(t){for(var e=[],n=arguments.length,r=0,i=aa(t);r<i;r++){var s=t[r];if(!no(e,s)){var a;for(a=1;a<n&&no(arguments[a],s);a++);a===n&&e.push(s)}}return e}function ev(t){for(var e=t&&P6(t,aa).length||0,n=Array(e),r=0;r<e;r++)n[r]=Vw(t,r);return n}const SY=js(ev);function DY(t,e){for(var n={},r=0,i=aa(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function AY(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function NY(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(Kv.call(t,r,r+=e));return n}function j6(t,e){return t._chain?Pn(e).chain():e}function B6(t){return jo(Yy(t),function(e){var n=Pn[e]=t[e];Pn.prototype[e]=function(){var r=[this._wrapped];return tFe.apply(r,arguments),j6(this,n.apply(Pn,r))}}),Pn}jo(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Pw[t];Pn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),j6(this,n)}});jo(["concat","join","slice"],function(t){var e=Pw[t];Pn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),j6(this,n)}});const SFe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:r6,after:tY,all:Y_,allKeys:Ym,any:Q_,assign:ym,before:A6,bind:S6,bindAll:KJ,chain:$J,chunk:NY,clone:IJ,collect:vc,compact:bY,compose:eY,constant:f6,contains:no,countBy:gY,create:kJ,debounce:QJ,default:Pn,defaults:b6,defer:JJ,delay:D6,detect:Qy,difference:L6,drop:hf,each:jo,escape:BJ,every:Y_,extend:_6,extendOwn:ym,filter:Xu,find:Qy,findIndex:Bw,findKey:N6,findLastIndex:k6,findWhere:aY,first:Up,flatten:wY,foldl:Mp,foldr:J_,forEach:jo,functions:Yy,get:E6,groupBy:pY,has:PJ,head:Up,identity:Uw,include:no,includes:no,indexBy:mY,indexOf:R6,initial:O6,inject:Mp,intersection:CY,invert:v6,invoke:cY,isArguments:Mw,isArray:cd,isArrayBuffer:c6,isBoolean:a6,isDataView:Jy,isDate:lJ,isElement:oJ,isEmpty:vJ,isEqual:_J,isError:uJ,isFinite:pJ,isFunction:bs,isMap:EJ,isMatch:p6,isNaN:d6,isNull:aJ,isNumber:o6,isObject:ld,isRegExp:cJ,isSet:SJ,isString:Fw,isSymbol:l6,isTypedArray:h6,isUndefined:s6,isWeakMap:CJ,isWeakSet:DJ,iteratee:Lw,keys:xi,last:_Y,lastIndexOf:sY,map:vc,mapObject:MJ,matcher:Bf,matches:Bf,max:P6,memoize:XJ,methods:Yy,min:dY,mixin:B6,negate:jw,noop:C6,now:vm,object:DY,omit:xY,once:nY,pairs:AJ,partial:lh,partition:yY,pick:U6,pluck:Vw,property:Ow,propertyOf:UJ,random:X_,range:AY,reduce:Mp,reduceRight:J_,reject:lY,rest:hf,restArguments:js,result:zJ,sample:M6,select:Xu,shuffle:fY,size:vY,some:Q_,sortBy:hY,sortedIndex:I6,tail:hf,take:Up,tap:RJ,template:qJ,templateSettings:WJ,throttle:YJ,times:OJ,toArray:F6,toPath:w6,transpose:ev,unescape:VJ,union:EY,uniq:Zy,unique:Zy,uniqueId:HJ,unzip:ev,values:oh,where:uY,without:TY,wrap:ZJ,zip:SY},Symbol.toStringTag,{value:"Module"}));var hN=B6(SFe);hN._=hN;const DFe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:r6,after:tY,all:Y_,allKeys:Ym,any:Q_,assign:ym,before:A6,bind:S6,bindAll:KJ,chain:$J,chunk:NY,clone:IJ,collect:vc,compact:bY,compose:eY,constant:f6,contains:no,countBy:gY,create:kJ,debounce:QJ,default:hN,defaults:b6,defer:JJ,delay:D6,detect:Qy,difference:L6,drop:hf,each:jo,escape:BJ,every:Y_,extend:_6,extendOwn:ym,filter:Xu,find:Qy,findIndex:Bw,findKey:N6,findLastIndex:k6,findWhere:aY,first:Up,flatten:wY,foldl:Mp,foldr:J_,forEach:jo,functions:Yy,get:E6,groupBy:pY,has:PJ,head:Up,identity:Uw,include:no,includes:no,indexBy:mY,indexOf:R6,initial:O6,inject:Mp,intersection:CY,invert:v6,invoke:cY,isArguments:Mw,isArray:cd,isArrayBuffer:c6,isBoolean:a6,isDataView:Jy,isDate:lJ,isElement:oJ,isEmpty:vJ,isEqual:_J,isError:uJ,isFinite:pJ,isFunction:bs,isMap:EJ,isMatch:p6,isNaN:d6,isNull:aJ,isNumber:o6,isObject:ld,isRegExp:cJ,isSet:SJ,isString:Fw,isSymbol:l6,isTypedArray:h6,isUndefined:s6,isWeakMap:CJ,isWeakSet:DJ,iteratee:Lw,keys:xi,last:_Y,lastIndexOf:sY,map:vc,mapObject:MJ,matcher:Bf,matches:Bf,max:P6,memoize:XJ,methods:Yy,min:dY,mixin:B6,negate:jw,noop:C6,now:vm,object:DY,omit:xY,once:nY,pairs:AJ,partial:lh,partition:yY,pick:U6,pluck:Vw,property:Ow,propertyOf:UJ,random:X_,range:AY,reduce:Mp,reduceRight:J_,reject:lY,rest:hf,restArguments:js,result:zJ,sample:M6,select:Xu,shuffle:fY,size:vY,some:Q_,sortBy:hY,sortedIndex:I6,tail:hf,take:Up,tap:RJ,template:qJ,templateSettings:WJ,throttle:YJ,times:OJ,toArray:F6,toPath:w6,transpose:ev,unescape:VJ,union:EY,uniq:Zy,unique:Zy,uniqueId:HJ,unzip:ev,values:oh,where:uY,without:TY,wrap:ZJ,zip:SY},Symbol.toStringTag,{value:"Module"})),ei=JQ(DFe);var V1={},Wa={},mD={exports:{}},W1={exports:{}},Q7;function Qm(){if(Q7)return W1.exports;Q7=1;var t=(function(){return this===void 0})();if(t)W1.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(u,f){var h=Object.getOwnPropertyDescriptor(u,f);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(u){var f=[];for(var h in u)e.call(u,h)&&f.push(h);return f},s=function(u,f){return{value:u[f]}},a=function(u,f,h){return u[f]=h.value,u},o=function(u){return u},l=function(u){try{return Object(u).constructor.prototype}catch{return r}},c=function(u){try{return n.call(u)==="[object Array]"}catch{return!1}};W1.exports={isArray:c,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return W1.exports}var Xg,Z7;function tr(){if(Z7)return Xg;Z7=1;var t={},e=Qm(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof ps<"u"?ps:Xg!==void 0?Xg:null;function a(){try{var W=i;return i=null,W.apply(this,arguments)}catch(H){return r.e=H,r}}function o(W){return i=W,a}var l=function(W,H){var Q={}.hasOwnProperty;function Z(){this.constructor=W,this.constructor$=H;for(var se in H.prototype)Q.call(H.prototype,se)&&se.charAt(se.length-1)!=="$"&&(this[se+"$"]=H.prototype[se])}return Z.prototype=H.prototype,W.prototype=new Z,W.prototype};function c(W){return W==null||W===!0||W===!1||typeof W=="string"||typeof W=="number"}function u(W){return typeof W=="function"||typeof W=="object"&&W!==null}function f(W){return c(W)?new Error(D(W)):W}function h(W,H){var Q=W.length,Z=new Array(Q+1),se;for(se=0;se<Q;++se)Z[se]=W[se];return Z[se]=H,Z}function p(W,H,Q){if(e.isES5){var Z=Object.getOwnPropertyDescriptor(W,H);if(Z!=null)return Z.get==null&&Z.set==null?Z.value:Q}else return{}.hasOwnProperty.call(W,H)?W[H]:void 0}function v(W,H,Q){if(c(W))return W;var Z={value:Q,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(W,H,Z),W}function g(W){throw W}var y=(function(){var W=[Array.prototype,Object.prototype,Function.prototype],H=function(se){for(var ce=0;ce<W.length;++ce)if(W[ce]===se)return!0;return!1};if(e.isES5){var Q=Object.getOwnPropertyNames;return function(se){for(var ce=[],ue=Object.create(null);se!=null&&!H(se);){var Ee;try{Ee=Q(se)}catch{return ce}for(var Ie=0;Ie<Ee.length;++Ie){var fe=Ee[Ie];if(!ue[fe]){ue[fe]=!0;var Le=Object.getOwnPropertyDescriptor(se,fe);Le!=null&&Le.get==null&&Le.set==null&&ce.push(fe)}}se=e.getPrototypeOf(se)}return ce}}else{var Z={}.hasOwnProperty;return function(se){if(H(se))return[];var ce=[];e:for(var ue in se)if(Z.call(se,ue))ce.push(ue);else{for(var Ee=0;Ee<W.length;++Ee)if(Z.call(W[Ee],ue))continue e;ce.push(ue)}return ce}}})(),b=/this\s*\.\s*\S+\s*=/;function x(W){try{if(typeof W=="function"){var H=e.names(W.prototype),Q=e.isES5&&H.length>1,Z=H.length>0&&!(H.length===1&&H[0]==="constructor"),se=b.test(W+"")&&e.names(W).length>0;if(Q||Z||se)return!0}return!1}catch{return!1}}function w(W){return W}var E=/^[a-z$_][a-z$_0-9]*$/i;function S(W){return E.test(W)}function R(W,H,Q){for(var Z=new Array(W),se=0;se<W;++se)Z[se]=H+se+Q;return Z}function D(W){try{return W+""}catch{return"[no string representation]"}}function N(W){return W!==null&&typeof W=="object"&&typeof W.message=="string"&&typeof W.name=="string"}function I(W){try{v(W,"isOperational",!0)}catch{}}function F(W){return W==null?!1:W instanceof Error.__BluebirdErrorTypes__.OperationalError||W.isOperational===!0}function P(W){return N(W)&&e.propertyIsWritable(W,"stack")}var k=(function(){return"stack"in new Error?function(W){return P(W)?W:new Error(D(W))}:function(W){if(P(W))return W;try{throw new Error(D(W))}catch(H){return H}}})();function U(W){return{}.toString.call(W)}function O(W,H,Q){for(var Z=e.names(W),se=0;se<Z.length;++se){var ce=Z[se];if(Q(ce))try{e.defineProperty(H,ce,e.getDescriptor(W,ce))}catch{}}}var X=function(W){return e.isArray(W)?W:null};if(typeof Symbol<"u"&&Symbol.iterator){var J=typeof Array.from=="function"?function(W){return Array.from(W)}:function(W){for(var H=[],Q=W[Symbol.iterator](),Z;!(Z=Q.next()).done;)H.push(Z.value);return H};X=function(W){return e.isArray(W)?W:W!=null&&typeof W[Symbol.iterator]=="function"?J(W):null}}var Y=typeof process<"u"&&U(process).toLowerCase()==="[object process]",ne=typeof process<"u"&&typeof t<"u";function z(W){return ne?t[W]:void 0}function K(){if(typeof Promise=="function")try{var W=new Promise(function(){});if({}.toString.call(W)==="[object Promise]")return Promise}catch{}}function B(W,H){return W.bind(H)}var j={isClass:x,isIdentifier:S,inheritedDataKeys:y,getDataPropertyOrDefault:p,thrower:g,isArray:e.isArray,asArray:X,notEnumerableProp:v,isPrimitive:c,isObject:u,isError:N,canEvaluate:n,errorObj:r,tryCatch:o,inherits:l,withAppended:h,maybeWrapAsError:f,toFastProperties:w,filledRange:R,toString:D,canAttachTrace:P,ensureErrorObject:k,originatesFromRejection:F,markAsOriginatingFromRejection:I,classString:U,copyDescriptors:O,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:Y,hasEnvVariables:ne,env:z,global:s,getNativePromise:K,domainBind:B};j.isRecentNode=j.isNode&&(function(){var W=process.versions.node.split(".").map(Number);return W[0]===0&&W[1]>10||W[0]>0})(),j.isNode&&j.toFastProperties(process);try{throw new Error}catch(W){j.lastLineError=W}return Xg=j,Xg}var q1={exports:{}},gD,eL;function AFe(){if(eL)return gD;eL=1;var t=tr(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var i=ps.setImmediate,s=process.nextTick;e=t.isRecentNode?function(o){i.call(ps,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},c=!1,u=document.createElement("div"),f=new MutationObserver(function(){o.classList.toggle("foo"),c=!1});f.observe(u,l);var h=function(){c||(c=!0,u.classList.toggle("foo"))};return function(v){var g=new MutationObserver(function(){g.disconnect(),v()});g.observe(o,l),h()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return gD=e,gD}var yD,tL;function NFe(){if(tL)return yD;tL=1;function t(n,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=n[o+r],n[o+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},e.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=n,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,a=i+s&r-1;t(this,0,this,r,a)},yD=e,yD}var nL;function kFe(){if(nL)return q1.exports;nL=1;var t;try{throw new Error}catch(l){t=l}var e=AFe(),n=NFe(),r=tr();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,u){this._lateQueue.push(l,c,u),this._queueTick()}function a(l,c,u){this._normalQueue.push(l,c,u),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,c,u){this._trampolineEnabled?s.call(this,l,c,u):this._schedule(function(){setTimeout(function(){l.call(c,u)},100)})},i.prototype.invoke=function(l,c,u){this._trampolineEnabled?a.call(this,l,c,u):this._schedule(function(){l.call(c,u)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var u=l.shift(),f=l.shift();c.call(u,f)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},q1.exports=i,q1.exports.firstLineError=t,q1.exports}var vD,rL;function Ju(){if(rL)return vD;rL=1;var t=Qm(),e=t.freeze,n=tr(),r=n.inherits,i=n.notEnumerableProp;function s(b,x){function w(E){if(!(this instanceof w))return new w(E);i(this,"message",typeof E=="string"?E:x),i(this,"name",b),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(w,Error),w}var a,o,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),u=s("TimeoutError","timeout error"),f=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<h.length;++p)typeof Array.prototype[h[p]]=="function"&&(f.prototype[h[p]]=Array.prototype[h[p]]);t.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var v=0;f.prototype.toString=function(){var b=Array(v*4+1).join(" "),x=`
`+b+`AggregateError of:
`;v++,b=Array(v*4+1).join(" ");for(var w=0;w<this.length;++w){for(var E=this[w]===this?"[Circular AggregateError]":this[w]+"",S=E.split(`
`),R=0;R<S.length;++R)S[R]=b+S[R];E=S.join(`
`),x+=E+`
`}return v--,x};function g(b){if(!(this instanceof g))return new g(b);i(this,"name","OperationalError"),i(this,"message",b),this.cause=b,this.isOperational=!0,b instanceof Error?(i(this,"message",b.message),i(this,"stack",b.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(g,Error);var y=Error.__BluebirdErrorTypes__;return y||(y=e({CancellationError:c,TimeoutError:u,OperationalError:g,RejectionError:g,AggregateError:f}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),vD={Error,TypeError:a,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:l},vD}var xD,iL;function IFe(){return iL||(iL=1,xD=function(t,e){var n=tr(),r=n.errorObj,i=n.isObject;function s(f,h){if(i(f)){if(f instanceof t)return f;var p=o(f);if(p===r){h&&h._pushContext();var v=t.reject(p.e);return h&&h._popContext(),v}else if(typeof p=="function"){if(c(f)){var v=new t(e);return f._then(v._fulfill,v._reject,void 0,v,null),v}return u(f,p,h)}}return f}function a(f){return f.then}function o(f){try{return a(f)}catch(h){return r.e=h,r}}var l={}.hasOwnProperty;function c(f){try{return l.call(f,"_promise0")}catch{return!1}}function u(f,h,p){var v=new t(e),g=v;p&&p._pushContext(),v._captureStackTrace(),p&&p._popContext();var y=!0,b=n.tryCatch(h).call(f,x,w);y=!1,v&&b===r&&(v._rejectCallback(b.e,!0,!0),v=null);function x(E){v&&(v._resolveCallback(E),v=null)}function w(E){v&&(v._rejectCallback(E,y,!0),v=null)}return g}return s}),xD}var _D,sL;function RFe(){return sL||(sL=1,_D=function(t,e,n,r,i){var s=tr();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var c=this._promise=new t(e);l instanceof t&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(c,u){var f=n(this._values,this._promise);if(f instanceof t){f=f._target();var h=f._bitField;if(this._values=f,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(l,this._reject,void 0,this,u);if((h&33554432)!==0)f=f._value();else return(h&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var p=r("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(p,!1);return}if(f.length===0){u===-5?this._resolveEmptyArray():this._resolve(a(u));return}this._iterate(f)},o.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=!1,h=null,p=0;p<c;++p){var v=n(l[p],u);v instanceof t?(v=v._target(),h=v._bitField):h=null,f?h!==null&&v.suppressUnhandledRejections():h!==null?(h&50397184)===0?(v._proxy(this,p),this._values[p]=v):(h&33554432)!==0?f=this._promiseFulfilled(v._value(),p):(h&16777216)!==0?f=this._promiseRejected(v._reason(),p):f=this._promiseCancelled(p):f=this._promiseFulfilled(v,p)}f||u._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof t&&l[c].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),_D}var bD,aL;function PFe(){return aL||(aL=1,bD=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=n.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=n.length-1;if(a>=0)return n[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=t.prototype._pushContext,o=t.prototype._popContext,l=t._peekContext,c=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=a,t.prototype._popContext=o,t._peekContext=l,t.prototype._peekContext=c,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var f=this._peekContext();f&&f._promiseCreated==null&&(f._promiseCreated=this)}},r}),bD}var wD,oL;function FFe(){return oL||(oL=1,wD=function(t,e){var n=t._getDomain,r=t._async,i=Ju().Warning,s=tr(),a=s.canAttachTrace,o,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,v=!1,g,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),b=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),x=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),w=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(b||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var de=this._target();de._bitField=de._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){fe("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var de=this._settledValue();this._setUnhandledRejectionIsNotified(),fe("unhandledRejection",l,de,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(de,me,ve){return H(de,me,ve||this)},t.onPossiblyUnhandledRejection=function(de){var me=n();l=typeof de=="function"?me===null?de:s.domainBind(me,de):void 0},t.onUnhandledRejectionHandled=function(de){var me=n();o=typeof de=="function"?me===null?de:s.domainBind(me,de):void 0};var E=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ie.longStackTraces&&ye()){var de=t.prototype._captureStackTrace,me=t.prototype._attachExtraTrace;ie.longStackTraces=!0,E=function(){if(r.haveItemsQueued()&&!ie.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=de,t.prototype._attachExtraTrace=me,e.deactivateLongStackTraces(),r.enableTrampoline(),ie.longStackTraces=!1},t.prototype._captureStackTrace=K,t.prototype._attachExtraTrace=B,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return ie.longStackTraces&&ye()};var S=(function(){try{if(typeof CustomEvent=="function"){var de=new CustomEvent("CustomEvent");return s.global.dispatchEvent(de),function(me,ve){var De=new CustomEvent(me.toLowerCase(),{detail:ve,cancelable:!0});return!s.global.dispatchEvent(De)}}else if(typeof Event=="function"){var de=new Event("CustomEvent");return s.global.dispatchEvent(de),function(ve,De){var Ue=new Event(ve.toLowerCase(),{cancelable:!0});return Ue.detail=De,!s.global.dispatchEvent(Ue)}}else{var de=document.createEvent("CustomEvent");return de.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(de),function(ve,De){var Ue=document.createEvent("CustomEvent");return Ue.initCustomEvent(ve.toLowerCase(),!1,!0,De),!s.global.dispatchEvent(Ue)}}}catch{}return function(){return!1}})(),R=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(de){var me="on"+de.toLowerCase(),ve=s.global[me];return ve?(ve.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function D(de,me){return{promise:me}}var N={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(de,me,ve){return{promise:me,child:ve}},warning:function(de,me){return{warning:me}},unhandledRejection:function(de,me,ve){return{reason:me,promise:ve}},rejectionHandled:D},I=function(de){var me=!1;try{me=R.apply(null,arguments)}catch(De){r.throwLater(De),me=!0}var ve=!1;try{ve=S(de,N[de].apply(null,arguments))}catch(De){r.throwLater(De),ve=!0}return ve||me};t.config=function(de){if(de=Object(de),"longStackTraces"in de&&(de.longStackTraces?t.longStackTraces():!de.longStackTraces&&t.hasLongStackTraces()&&E()),"warnings"in de){var me=de.warnings;ie.warnings=!!me,w=ie.warnings,s.isObject(me)&&"wForgottenReturn"in me&&(w=!!me.wForgottenReturn)}if("cancellation"in de&&de.cancellation&&!ie.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=X,t.prototype._propagateFrom=J,t.prototype._onCancel=U,t.prototype._setOnCancel=O,t.prototype._attachCancellationCallback=k,t.prototype._execute=P,ne=J,ie.cancellation=!0}return"monitoring"in de&&(de.monitoring&&!ie.monitoring?(ie.monitoring=!0,t.prototype._fireEvent=I):!de.monitoring&&ie.monitoring&&(ie.monitoring=!1,t.prototype._fireEvent=F)),t};function F(){return!1}t.prototype._fireEvent=F,t.prototype._execute=function(de,me,ve){try{de(me,ve)}catch(De){return De}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(de){},t.prototype._attachCancellationCallback=function(de){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(de,me){};function P(de,me,ve){var De=this;try{de(me,ve,function(Ue){if(typeof Ue!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Ue));De._attachCancellationCallback(Ue)})}catch(Ue){return Ue}}function k(de){if(!this._isCancellable())return this;var me=this._onCancel();me!==void 0?s.isArray(me)?me.push(de):this._setOnCancel([me,de]):this._setOnCancel(de)}function U(){return this._onCancelField}function O(de){this._onCancelField=de}function X(){this._cancellationParent=void 0,this._onCancelField=void 0}function J(de,me){if((me&1)!==0){this._cancellationParent=de;var ve=de._branchesRemainingToCancel;ve===void 0&&(ve=0),de._branchesRemainingToCancel=ve+1}(me&2)!==0&&de._isBound()&&this._setBoundTo(de._boundTo)}function Y(de,me){(me&2)!==0&&de._isBound()&&this._setBoundTo(de._boundTo)}var ne=Y;function z(){var de=this._boundTo;return de!==void 0&&de instanceof t?de.isFulfilled()?de.value():void 0:de}function K(){this._trace=new he(this._peekContext())}function B(de,me){if(a(de)){var ve=this._trace;if(ve!==void 0&&me&&(ve=ve._parent),ve!==void 0)ve.attachExtraTrace(de);else if(!de.__stackCleaned__){var De=Ee(de);s.notEnumerableProp(de,"stack",De.message+`
`+De.stack.join(`
`)),s.notEnumerableProp(de,"__stackCleaned__",!0)}}}function j(de,me,ve,De,Ue){if(de===void 0&&me!==null&&w){if(Ue!==void 0&&Ue._returnedNonUndefined()||(De._bitField&65535)===0)return;ve&&(ve=ve+" ");var Te="",Me="";if(me._trace){for(var Oe=me._trace.stack.split(`
`),Ge=ce(Oe),nt=Ge.length-1;nt>=0;--nt){var st=Ge[nt];if(!u.test(st)){var Ot=st.match(f);Ot&&(Te="at "+Ot[1]+":"+Ot[2]+":"+Ot[3]+" ");break}}if(Ge.length>0){for(var wn=Ge[0],nt=0;nt<Oe.length;++nt)if(Oe[nt]===wn){nt>0&&(Me=`
`+Oe[nt-1]);break}}}var hn="a promise was created in a "+ve+"handler "+Te+"but was not returned from it, see http://goo.gl/rRqMUw"+Me;De._warn(hn,!0,me)}}function W(de,me){var ve=de+" is deprecated and will be removed in a future version.";return me&&(ve+=" Use "+me+" instead."),H(ve)}function H(de,me,ve){if(ie.warnings){var De=new i(de),Ue;if(me)ve._attachExtraTrace(De);else if(ie.longStackTraces&&(Ue=t._peekContext()))Ue.attachExtraTrace(De);else{var Te=Ee(De);De.stack=Te.message+`
`+Te.stack.join(`
`)}I("warning",De)||Ie(De,"",!0)}}function Q(de,me){for(var ve=0;ve<me.length-1;++ve)me[ve].push("From previous event:"),me[ve]=me[ve].join(`
`);return ve<me.length&&(me[ve]=me[ve].join(`
`)),de+`
`+me.join(`
`)}function Z(de){for(var me=0;me<de.length;++me)(de[me].length===0||me+1<de.length&&de[me][0]===de[me+1][0])&&(de.splice(me,1),me--)}function se(de){for(var me=de[0],ve=1;ve<de.length;++ve){for(var De=de[ve],Ue=me.length-1,Te=me[Ue],Me=-1,Oe=De.length-1;Oe>=0;--Oe)if(De[Oe]===Te){Me=Oe;break}for(var Oe=Me;Oe>=0;--Oe){var Ge=De[Oe];if(me[Ue]===Ge)me.pop(),Ue--;else break}me=De}}function ce(de){for(var me=[],ve=0;ve<de.length;++ve){var De=de[ve],Ue=De==="    (No stack trace)"||h.test(De),Te=Ue&&be(De);Ue&&!Te&&(v&&De.charAt(0)!==" "&&(De="    "+De),me.push(De))}return me}function ue(de){for(var me=de.stack.replace(/\s+$/g,"").split(`
`),ve=0;ve<me.length;++ve){var De=me[ve];if(De==="    (No stack trace)"||h.test(De))break}return ve>0&&de.name!="SyntaxError"&&(me=me.slice(ve)),me}function Ee(de){var me=de.stack,ve=de.toString();return me=typeof me=="string"&&me.length>0?ue(de):["    (No stack trace)"],{message:ve,stack:de.name=="SyntaxError"?me:ce(me)}}function Ie(de,me,ve){if(typeof console<"u"){var De;if(s.isObject(de)){var Ue=de.stack;De=me+p(Ue,de)}else De=me+String(de);typeof g=="function"?g(De,ve):(typeof console.log=="function"||typeof console.log=="object")&&console.log(De)}}function fe(de,me,ve,De){var Ue=!1;try{typeof me=="function"&&(Ue=!0,de==="rejectionHandled"?me(De):me(ve,De))}catch(Te){r.throwLater(Te)}de==="unhandledRejection"?!I(de,ve,De)&&!Ue&&Ie(ve,"Unhandled rejection "):I(de,De)}function Le(de){var me;if(typeof de=="function")me="[function "+(de.name||"anonymous")+"]";else{me=de&&typeof de.toString=="function"?de.toString():s.toString(de);var ve=/\[object [a-zA-Z0-9$_]+\]/;if(ve.test(me))try{var De=JSON.stringify(de);me=De}catch{}me.length===0&&(me="(empty array)")}return"(<"+V(me)+">, no stack trace)"}function V(de){var me=41;return de.length<me?de:de.substr(0,me-3)+"..."}function ye(){return typeof _e=="function"}var be=function(){return!1},oe=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function re(de){var me=de.match(oe);if(me)return{fileName:me[1],line:parseInt(me[2],10)}}function le(de,me){if(ye()){for(var ve=de.stack.split(`
`),De=me.stack.split(`
`),Ue=-1,Te=-1,Me,Oe,Ge=0;Ge<ve.length;++Ge){var nt=re(ve[Ge]);if(nt){Me=nt.fileName,Ue=nt.line;break}}for(var Ge=0;Ge<De.length;++Ge){var nt=re(De[Ge]);if(nt){Oe=nt.fileName,Te=nt.line;break}}Ue<0||Te<0||!Me||!Oe||Me!==Oe||Ue>=Te||(be=function(st){if(c.test(st))return!0;var Ot=re(st);return!!(Ot&&Ot.fileName===Me&&Ue<=Ot.line&&Ot.line<=Te)})}}function he(de){this._parent=de,this._promisesCreated=0;var me=this._length=1+(de===void 0?0:de._length);_e(this,he),me>32&&this.uncycle()}s.inherits(he,Error),e.CapturedTrace=he,he.prototype.uncycle=function(){var de=this._length;if(!(de<2)){for(var me=[],ve={},De=0,Ue=this;Ue!==void 0;++De)me.push(Ue),Ue=Ue._parent;de=this._length=De;for(var De=de-1;De>=0;--De){var Te=me[De].stack;ve[Te]===void 0&&(ve[Te]=De)}for(var De=0;De<de;++De){var Me=me[De].stack,Oe=ve[Me];if(Oe!==void 0&&Oe!==De){Oe>0&&(me[Oe-1]._parent=void 0,me[Oe-1]._length=1),me[De]._parent=void 0,me[De]._length=1;var Ge=De>0?me[De-1]:this;Oe<de-1?(Ge._parent=me[Oe+1],Ge._parent.uncycle(),Ge._length=Ge._parent._length+1):(Ge._parent=void 0,Ge._length=1);for(var nt=Ge._length+1,st=De-2;st>=0;--st)me[st]._length=nt,nt++;return}}}},he.prototype.attachExtraTrace=function(de){if(!de.__stackCleaned__){this.uncycle();for(var me=Ee(de),ve=me.message,De=[me.stack],Ue=this;Ue!==void 0;)De.push(ce(Ue.stack.split(`
`))),Ue=Ue._parent;se(De),Z(De),s.notEnumerableProp(de,"stack",Q(ve,De)),s.notEnumerableProp(de,"__stackCleaned__",!0)}};var _e=(function(){var me=/^\s*at\s*/,ve=function(Me,Oe){return typeof Me=="string"?Me:Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Le(Oe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=me,p=ve;var De=Error.captureStackTrace;return be=function(Me){return c.test(Me)},function(Me,Oe){Error.stackTraceLimit+=6,De(Me,Oe),Error.stackTraceLimit-=6}}var Ue=new Error;if(typeof Ue.stack=="string"&&Ue.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=ve,v=!0,function(Oe){Oe.stack=new Error().stack};var Te;try{throw new Error}catch(Me){Te="stack"in Me}return!("stack"in Ue)&&Te&&typeof Error.stackTraceLimit=="number"?(h=me,p=ve,function(Oe){Error.stackTraceLimit+=6;try{throw new Error}catch(Ge){Oe.stack=Ge.stack}Error.stackTraceLimit-=6}):(p=function(Me,Oe){return typeof Me=="string"?Me:(typeof Oe=="object"||typeof Oe=="function")&&Oe.name!==void 0&&Oe.message!==void 0?Oe.toString():Le(Oe)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(g=function(de){console.warn(de)},s.isNode&&process.stderr.isTTY?g=function(de,me){var ve=me?"\x1B[33m":"\x1B[31m";console.warn(ve+de+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(g=function(de,me){console.warn("%c"+de,me?"color: darkorange":"color: red")}));var ie={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return x&&t.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return z},checkForgottenReturns:j,setBounds:le,warn:H,deprecated:W,CapturedTrace:he,fireDomEvent:S,fireGlobalEvent:R}}),wD}var TD,lL;function MFe(){return lL||(lL=1,TD=function(t,e){var n=tr(),r=t.CancellationError,i=n.errorObj;function s(f,h,p){this.promise=f,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(f){this.finallyHandler=f}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(f,h){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(h):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function l(){return u.call(this,this.promise._target()._settledValue())}function c(f){if(!o(this,f))return i.e=f,i}function u(f){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),f);if(v!==void 0){h._setReturnedNonUndefined();var g=e(v,h);if(g instanceof t){if(this.cancelPromise!=null)if(g._isCancelled()){var y=new r("late cancellation observer");return h._attachExtraTrace(y),i.e=y,i}else g.isPending()&&g._attachCancellationCallback(new a(this));return g._then(l,c,void 0,this,void 0)}}}return h.isRejected()?(o(this),i.e=f,i):(o(this),f)}return t.prototype._passThrough=function(f,h,p,v){return typeof f!="function"?this.then():this._then(p,v,void 0,new s(this,h,f),void 0)},t.prototype.lastly=t.prototype.finally=function(f){return this._passThrough(f,0,u,u)},t.prototype.tap=function(f){return this._passThrough(f,1,u)},s}),TD}var ED,cL;function UFe(){return cL||(cL=1,ED=function(t){var e=tr(),n=Qm().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(c){var u=l._boundValue();e:for(var f=0;f<a.length;++f){var h=a[f];if(h===Error||h!=null&&h.prototype instanceof Error){if(c instanceof h)return r(o).call(u,c)}else if(typeof h=="function"){var p=r(h).call(u,c);if(p===i)return p;if(p)return r(o).call(u,c)}else if(e.isObject(c)){for(var v=n(h),g=0;g<v.length;++g){var y=v[g];if(h[y]!=c[y])continue e}return r(o).call(u,c)}}return t}}return s}),ED}var CD,uL;function kY(){if(uL)return CD;uL=1;var t=tr(),e=t.maybeWrapAsError,n=Ju(),r=n.OperationalError,i=Qm();function s(c){return c instanceof Error&&i.getPrototypeOf(c)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(c){var u;if(s(c)){u=new r(c),u.name=c.name,u.message=c.message,u.stack=c.stack;for(var f=i.keys(c),h=0;h<f.length;++h){var p=f[h];a.test(p)||(u[p]=c[p])}return u}return t.markAsOriginatingFromRejection(c),c}function l(c,u){return function(f,h){if(c!==null){if(f){var p=o(e(f));c._attachExtraTrace(p),c._reject(p)}else if(!u)c._fulfill(h);else{for(var v=arguments.length,g=new Array(Math.max(v-1,0)),y=1;y<v;++y)g[y-1]=arguments[y];c._fulfill(g)}c=null}}}return CD=l,CD}var SD,dL;function OFe(){return dL||(dL=1,SD=function(t,e,n,r,i){var s=tr(),a=s.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var c=a(o).apply(this,arguments),u=l._popContext();return i.checkForgottenReturns(c,u,"Promise.method",l),l._resolveFromSyncValue(c),l}},t.attempt=t.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new t(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],f=arguments[2];c=s.isArray(u)?a(o).apply(f,u):a(o).call(f,u)}else c=a(o)();var h=l._popContext();return i.checkForgottenReturns(c,h,"Promise.try",l),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),SD}var DD,fL;function LFe(){return fL||(fL=1,DD=function(t,e,n,r){var i=!1,s=function(c,u){this._reject(u)},a=function(c,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(s,s,null,this,c)},o=function(c,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},l=function(c,u){u.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(c),f=new t(e);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:u};h._then(e,a,void 0,f,p),u._then(o,l,void 0,f,p),f._setOnCancel(u)}else f._resolveCallback(h);return f},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,u){return t.resolve(u).bind(c)}}),DD}var AD,hL;function jFe(){return hL||(hL=1,AD=function(t,e,n,r){var i=tr(),s=i.tryCatch,a=i.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var u=l._cancellationParent;if(u==null||!u._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=u}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,c){if(i.isArray(l))for(var u=0;u<l.length;++u)this._doInvokeOnCancel(l[u],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var f=s(l).call(this._boundValue());f===a&&(this._attachExtraTrace(f.e),o.throwLater(f.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),AD}var ND,pL;function BFe(){return pL||(pL=1,ND=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),ND}var kD,mL;function VFe(){return mL||(mL=1,kD=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),kD}var ID,gL;function WFe(){return gL||(gL=1,ID=function(t,e,n,r,i,s){var a=tr(),o=a.canEvaluate,l=a.tryCatch,c=a.errorObj,u;if(o){for(var f=function(x){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,x))},h=function(x){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,x))},p=function(x){for(var w=new Array(x),E=0;E<w.length;++E)w[E]="this.p"+(E+1);var S=w.join(" = ")+" = null;",R=`var promise;
`+w.map(function(F){return`                                                         
	                promise = `+F+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),D=w.join(", "),N="Holder$"+x,I=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return I=I.replace(/\[TheName\]/g,N).replace(/\[TheTotal\]/g,x).replace(/\[ThePassedArguments\]/g,D).replace(/\[TheProperties\]/g,S).replace(/\[CancellationCode\]/g,R),new Function("tryCatch","errorObj","Promise","async",I)(l,c,t,i)},v=[],g=[],y=[],b=0;b<8;++b)v.push(p(b+1)),g.push(f(b+1)),y.push(h(b+1));u=function(x){this._reject(x)}}t.join=function(){var x=arguments.length-1,w;if(x>0&&typeof arguments[x]=="function"&&(w=arguments[x],x<=8&&o)){var O=new t(r);O._captureStackTrace();for(var E=v[x-1],S=new E(w),R=g,D=0;D<x;++D){var N=n(arguments[D],O);if(N instanceof t){N=N._target();var I=N._bitField;(I&50397184)===0?(N._then(R[D],u,void 0,O,S),y[D](N,S),S.asyncNeeded=!1):(I&33554432)!==0?R[D].call(O,N._value(),S):(I&16777216)!==0?O._reject(N._reason()):O._cancel()}else R[D].call(O,N,S)}if(!O._isFateSealed()){if(S.asyncNeeded){var F=s();F!==null&&(S.fn=a.domainBind(F,S.fn))}O._setAsyncGuaranteed(),O._setOnCancel(S)}return O}for(var P=arguments.length,k=new Array(P),U=0;U<P;++U)k[U]=arguments[U];w&&k.pop();var O=new e(k).promise();return w!==void 0?O.spread(w):O}}),ID}var RD,yL;function qFe(){return yL||(yL=1,RD=function(t,e,n,r,i,s){var a=t._getDomain,o=tr(),l=o.tryCatch,c=o.errorObj,u=t._async;function f(p,v,g,y){this.constructor$(p),this._promise._captureStackTrace();var b=a();this._callback=b===null?v:o.domainBind(b,v),this._preservedValues=y===i?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}o.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(p,v){var g=this._values,y=this.length(),b=this._preservedValues,x=this._limit;if(v<0){if(v=v*-1-1,g[v]=p,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return g[v]=p,this._queue.push(v),!1;b!==null&&(b[v]=p);var w=this._promise,E=this._callback,S=w._boundValue();w._pushContext();var R=l(E).call(S,p,v,y),D=w._popContext();if(s.checkForgottenReturns(R,D,b!==null?"Promise.filter":"Promise.map",w),R===c)return this._reject(R.e),!0;var N=r(R,this._promise);if(N instanceof t){N=N._target();var I=N._bitField;if((I&50397184)===0)return x>=1&&this._inFlight++,g[v]=N,N._proxy(this,(v+1)*-1),!1;if((I&33554432)!==0)R=N._value();else return(I&16777216)!==0?(this._reject(N._reason()),!0):(this._cancel(),!0)}g[v]=R}var F=++this._totalResolved;return F>=y?(b!==null?this._filter(g,b):this._resolve(g),!0):!1},f.prototype._drainQueue=function(){for(var p=this._queue,v=this._limit,g=this._values;p.length>0&&this._inFlight<v;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(g[y],y)}},f.prototype._filter=function(p,v){for(var g=v.length,y=new Array(g),b=0,x=0;x<g;++x)p[x]&&(y[b++]=v[x]);y.length=b,this._resolve(y)},f.prototype.preservedValues=function(){return this._preservedValues};function h(p,v,g,y){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var b=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(g.concurrency)));b=g.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(g)));return b=typeof b=="number"&&isFinite(b)&&b>=1?b:0,new f(p,v,b,y).promise()}t.prototype.map=function(p,v){return h(this,p,v,null)},t.map=function(p,v,g,y){return h(p,v,g,y)}}),RD}var PD,vL;function zFe(){if(vL)return PD;vL=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return PD=function(r){var i=tr(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var c=function(y){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,y))(h)},u=function(y){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",y))},f=function(y,b,x){var w=x[y];if(typeof w!="function"){if(!a(y))return null;if(w=b(y),x[y]=w,x[" size"]++,x[" size"]>512){for(var E=Object.keys(x),S=0;S<256;++S)delete x[E[S]];x[" size"]=E.length-256}}return w};o=function(y){return f(y,c,e)},l=function(y){return f(y,u,n)}}function h(y,b){var x;if(y!=null&&(x=y[b]),typeof x!="function"){var w="Object "+i.classString(y)+" has no method '"+i.toString(b)+"'";throw new r.TypeError(w)}return x}function p(y){var b=this.pop(),x=h(y,b);return x.apply(y,this)}r.prototype.call=function(y){for(var b=arguments.length,x=new Array(Math.max(b-1,0)),w=1;w<b;++w)x[w-1]=arguments[w];if(s){var E=o(y);if(E!==null)return this._then(E,void 0,void 0,x,void 0)}return x.push(y),this._then(p,void 0,void 0,x,void 0)};function v(y){return y[this]}function g(y){var b=+this;return b<0&&(b=Math.max(0,b+y.length)),y[b]}r.prototype.get=function(y){var b=typeof y=="number",x;if(b)x=g;else if(s){var w=l(y);x=w!==null?w:v}else x=v;return this._then(x,void 0,void 0,y,void 0)}},PD}var FD,xL;function HFe(){return xL||(xL=1,FD=function(t,e,n,r,i,s){var a=tr(),o=Ju().TypeError,l=tr().inherits,c=a.errorObj,u=a.tryCatch,f={};function h(w){setTimeout(function(){throw w},0)}function p(w){var E=n(w);return E!==w&&typeof w._isDisposable=="function"&&typeof w._getDisposer=="function"&&w._isDisposable()&&E._setDisposable(w._getDisposer()),E}function v(w,E){var S=0,R=w.length,D=new t(i);function N(){if(S>=R)return D._fulfill();var I=p(w[S++]);if(I instanceof t&&I._isDisposable()){try{I=n(I._getDisposer().tryDispose(E),w.promise)}catch(F){return h(F)}if(I instanceof t)return I._then(N,h,null,null,null)}N()}return N(),D}function g(w,E,S){this._data=w,this._promise=E,this._context=S}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(w){var E=this.resource(),S=this._context;S!==void 0&&S._pushContext();var R=E!==f?this.doDispose(E,w):null;return S!==void 0&&S._popContext(),this._promise._unsetDisposable(),this._data=null,R},g.isDisposer=function(w){return w!=null&&typeof w.resource=="function"&&typeof w.tryDispose=="function"};function y(w,E,S){this.constructor$(w,E,S)}l(y,g),y.prototype.doDispose=function(w,E){var S=this.data();return S.call(w,w,E)};function b(w){return g.isDisposer(w)?(this.resources[this.index]._setDisposable(w),w.promise()):w}function x(w){this.length=w,this.promise=null,this[w-1]=null}x.prototype._resultCancelled=function(){for(var w=this.length,E=0;E<w;++E){var S=this[E];S instanceof t&&S.cancel()}},t.using=function(){var w=arguments.length;if(w<2)return e("you must pass at least 2 arguments to Promise.using");var E=arguments[w-1];if(typeof E!="function")return e("expecting a function but got "+a.classString(E));var S,R=!0;w===2&&Array.isArray(arguments[0])?(S=arguments[0],w=S.length,R=!1):(S=arguments,w--);for(var D=new x(w),N=0;N<w;++N){var I=S[N];if(g.isDisposer(I)){var F=I;I=I.promise(),I._setDisposable(F)}else{var P=n(I);P instanceof t&&(I=P._then(b,null,null,{resources:D,index:N},void 0))}D[N]=I}for(var k=new Array(D.length),N=0;N<k.length;++N)k[N]=t.resolve(D[N]).reflect();var U=t.all(k).then(function(X){for(var J=0;J<X.length;++J){var Y=X[J];if(Y.isRejected())return c.e=Y.error(),c;if(!Y.isFulfilled()){U.cancel();return}X[J]=Y.value()}O._pushContext(),E=u(E);var ne=R?E.apply(void 0,X):E(X),z=O._popContext();return s.checkForgottenReturns(ne,z,"Promise.using",O),ne}),O=U.lastly(function(){var X=new t.PromiseInspection(U);return v(D,X)});return D.promise=O,O._setOnCancel(D),O},t.prototype._setDisposable=function(w){this._bitField=this._bitField|131072,this._disposer=w},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(w){if(typeof w=="function")return new y(w,this,r());throw new o}}),FD}var MD,_L;function $Fe(){return _L||(_L=1,MD=function(t,e,n){var r=tr(),i=t.TimeoutError;function s(f){this.handle=f}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(f){return o(+this).thenReturn(f)},o=t.delay=function(f,h){var p,v;return h!==void 0?(p=t.resolve(h)._then(a,null,null,f,void 0),n.cancellation()&&h instanceof t&&p._setOnCancel(h)):(p=new t(e),v=setTimeout(function(){p._fulfill()},+f),n.cancellation()&&p._setOnCancel(new s(v)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(f){return o(f,this)};var l=function(f,h,p){var v;typeof h!="string"?h instanceof Error?v=h:v=new i("operation timed out"):v=new i(h),r.markAsOriginatingFromRejection(v),f._attachExtraTrace(v),f._reject(v),p!=null&&p.cancel()};function c(f){return clearTimeout(this.handle),f}function u(f){throw clearTimeout(this.handle),f}t.prototype.timeout=function(f,h){f=+f;var p,v,g=new s(setTimeout(function(){p.isPending()&&l(p,h,v)},f));return n.cancellation()?(v=this.then(),p=v._then(c,u,void 0,g,void 0),p._setOnCancel(g)):p=this._then(c,u,void 0,g,void 0),p}}),MD}var UD,bL;function GFe(){return bL||(bL=1,UD=function(t,e,n,r,i,s){var a=Ju(),o=a.TypeError,l=tr(),c=l.errorObj,u=l.tryCatch,f=[];function h(v,g,y){for(var b=0;b<g.length;++b){y._pushContext();var x=u(g[b])(v);if(y._popContext(),x===c){y._pushContext();var w=t.reject(c.e);return y._popContext(),w}var E=r(x,y);if(E instanceof t)return E}return null}function p(v,g,y,b){if(s.cancellation()){var x=new t(n),w=this._finallyPromise=new t(n);this._promise=x.lastly(function(){return w}),x._captureStackTrace(),x._setOnCancel(this)}else{var E=this._promise=new t(n);E._captureStackTrace()}this._stack=b,this._generatorFunction=v,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",g;if(v)this._promise._pushContext(),g=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),g=u(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},p.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var g=u(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var g=u(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(g)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(v){var g=this._promise;if(v===c)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(v.e,!1);var y=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(y);var b=r(y,this._promise);if(!(b instanceof t)&&(b=h(b,this._yieldHandlers,this._promise),b===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}b=b._target();var x=b._bitField;(x&50397184)===0?(this._yieldedPromise=b,b._proxy(this,null)):(x&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,b._value()):(x&16777216)!==0?t._async.invoke(this._promiseRejected,this,b._reason()):this._promiseCancelled()},t.coroutine=function(v,g){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(g).yieldHandler,b=p,x=new Error().stack;return function(){var w=v.apply(this,arguments),E=new b(void 0,void 0,y,x),S=E.promise();return E._generator=w,E._promiseFulfilled(void 0),S}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));f.push(v)},t.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new p(v,this),y=g.promise();return g._run(t.spawn),y}}),UD}var OD,wL;function KFe(){return wL||(wL=1,OD=function(t){var e=tr(),n=t._async,r=e.tryCatch,i=e.errorObj;function s(l,c){var u=this;if(!e.isArray(l))return a.call(u,l,c);var f=r(c).apply(u._boundValue(),[null].concat(l));f===i&&n.throwLater(f.e)}function a(l,c){var u=this,f=u._boundValue(),h=l===void 0?r(c).call(f,null):r(c).call(f,null,l);h===i&&n.throwLater(h.e)}function o(l,c){var u=this;if(!l){var f=new Error(l+"");f.cause=l,l=f}var h=r(c).call(u._boundValue(),l);h===i&&n.throwLater(h.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,c){if(typeof l=="function"){var u=a;c!==void 0&&Object(c).spread&&(u=s),this._then(u,o,void 0,this,l)}return this}}),OD}var LD,TL;function XFe(){return TL||(TL=1,LD=function(t,e){var n={},r=tr(),i=kY(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=Ju().TypeError,c="Async",u={__isPromisified__:!0},f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+f.join("|")+")$"),p=function(U){return r.isIdentifier(U)&&U.charAt(0)!=="_"&&U!=="constructor"};function v(U){return!h.test(U)}function g(U){try{return U.__isPromisified__===!0}catch{return!1}}function y(U,O,X){var J=r.getDataPropertyOrDefault(U,O+X,u);return J?g(J):!1}function b(U,O,X){for(var J=0;J<U.length;J+=2){var Y=U[J];if(X.test(Y)){for(var ne=Y.replace(X,""),z=0;z<U.length;z+=2)if(U[z]===ne)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",O))}}}function x(U,O,X,J){for(var Y=r.inheritedDataKeys(U),ne=[],z=0;z<Y.length;++z){var K=Y[z],B=U[K],j=J===p?!0:p(K);typeof B=="function"&&!g(B)&&!y(U,K,O)&&J(K,B,U,j)&&ne.push(K,B)}return b(ne,O,X),ne}var w=function(U){return U.replace(/([$])/,"\\$")},E;{var S=function(U){for(var O=[U],X=Math.max(0,U-1-3),J=U-1;J>=X;--J)O.push(J);for(var J=U+1;J<=3;++J)O.push(J);return O},R=function(U){return r.filledRange(U,"_arg","")},D=function(U){return r.filledRange(Math.max(U,3),"_arg","")},N=function(U){return typeof U.length=="number"?Math.max(Math.min(U.length,1024),0):0};E=function(U,O,X,J,Y,ne){var z=Math.max(0,N(J)-1),K=S(z),B=typeof U=="string"||O===n;function j(Z){var se=R(Z).join(", "),ce=Z>0?", ":"",ue;return B?ue=`ret = callback.call(this, {{args}}, nodeback); break;
`:ue=O===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ue.replace("{{args}}",se).replace(", ",ce)}function W(){for(var Z="",se=0;se<K.length;++se)Z+="case "+K[se]+":"+j(K[se]);return Z+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Z}var H=typeof U=="string"?"this != null ? this['"+U+"'] : fn":"fn",Q=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+ne+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",W()).replace("[GetFunctionCode]",H);return Q=Q.replace("Parameters",D(z)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Q)(t,J,O,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function I(U,O,X,J,Y,ne){var z=(function(){return this})(),K=U;typeof K=="string"&&(U=J);function B(){var j=O;O===n&&(j=this);var W=new t(e);W._captureStackTrace();var H=typeof K=="string"&&this!==z?this[K]:U,Q=i(W,ne);try{H.apply(j,s(arguments,Q))}catch(Z){W._rejectCallback(a(Z),!0,!0)}return W._isFateSealed()||W._setAsyncGuaranteed(),W}return r.notEnumerableProp(B,"__isPromisified__",!0),B}var F=o?E:I;function P(U,O,X,J,Y){for(var ne=new RegExp(w(O)+"$"),z=x(U,O,ne,X),K=0,B=z.length;K<B;K+=2){var j=z[K],W=z[K+1],H=j+O;if(J===F)U[H]=F(j,n,j,W,O,Y);else{var Q=J(W,function(){return F(j,n,j,W,O,Y)});r.notEnumerableProp(Q,"__isPromisified__",!0),U[H]=Q}}return r.toFastProperties(U),U}function k(U,O,X){return F(U,O,void 0,U,null,X)}t.promisify=function(U,O){if(typeof U!="function")throw new l("expecting a function but got "+r.classString(U));if(g(U))return U;O=Object(O);var X=O.context===void 0?n:O.context,J=!!O.multiArgs,Y=k(U,X,J);return r.copyDescriptors(U,Y,v),Y},t.promisifyAll=function(U,O){if(typeof U!="function"&&typeof U!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);O=Object(O);var X=!!O.multiArgs,J=O.suffix;typeof J!="string"&&(J=c);var Y=O.filter;typeof Y!="function"&&(Y=p);var ne=O.promisifier;if(typeof ne!="function"&&(ne=F),!r.isIdentifier(J))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var z=r.inheritedDataKeys(U),K=0;K<z.length;++K){var B=U[z[K]];z[K]!=="constructor"&&r.isClass(B)&&(P(B.prototype,J,Y,ne,X),P(B,J,Y,ne,X))}return P(U,J,Y,ne,X)}}),LD}var jD,EL;function JFe(){return EL||(EL=1,jD=function(t,e,n,r){var i=tr(),s=i.isObject,a=Qm(),o;typeof Map=="function"&&(o=Map);var l=(function(){var h=0,p=0;function v(g,y){this[h]=g,this[h+p]=y,h++}return function(y){p=y.size,h=0;var b=new Array(y.size*2);return y.forEach(v,b),b}})(),c=function(h){for(var p=new o,v=h.length/2|0,g=0;g<v;++g){var y=h[v+g],b=h[g];p.set(y,b)}return p};function u(h){var p=!1,v;if(o!==void 0&&h instanceof o)v=l(h),p=!0;else{var g=a.keys(h),y=g.length;v=new Array(y*2);for(var b=0;b<y;++b){var x=g[b];v[b]=h[x],v[b+y]=x}}this.constructor$(v),this._isMap=p,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var v=++this._totalResolved;if(v>=this._length){var g;if(this._isMap)g=c(this._values);else{g={};for(var y=this.length(),b=0,x=this.length();b<x;++b)g[this._values[b+y]]=this._values[b]}return this._resolve(g),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function f(h){var p,v=n(h);if(s(v))v instanceof t?p=v._then(t.props,void 0,void 0,void 0,void 0):p=new u(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&p._propagateFrom(v,2),p}t.prototype.props=function(){return f(this)},t.props=function(h){return f(h)}}),jD}var BD,CL;function YFe(){return CL||(CL=1,BD=function(t,e,n,r){var i=tr(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var c=n(o);if(c instanceof t)return s(c);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var u=new t(e);l!==void 0&&u._propagateFrom(l,3);for(var f=u._fulfill,h=u._reject,p=0,v=o.length;p<v;++p){var g=o[p];g===void 0&&!(p in o)||t.cast(g)._then(f,h,void 0,u,null)}return u}t.race=function(o){return a(o,void 0)},t.prototype.race=function(){return a(this,void 0)}}),BD}var VD,SL;function QFe(){return SL||(SL=1,VD=function(t,e,n,r,i,s){var a=t._getDomain,o=tr(),l=o.tryCatch;function c(v,g,y,b){this.constructor$(v);var x=a();this._fn=x===null?g:o.domainBind(x,g),y!==void 0&&(y=t.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,b===i?this._eachValues=Array(this._length):b===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(c,e),c.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},c.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},c.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(v){this._values=v;var g,y,b=v.length;if(this._initialValue!==void 0?(g=this._initialValue,y=0):(g=t.resolve(v[0]),y=1),this._currentCancellable=g,!g.isRejected())for(;y<b;++y){var x={accum:null,value:v[y],index:y,length:b,array:this};g=g._then(h,void 0,void 0,x,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(u,u,void 0,g,this)},t.prototype.reduce=function(v,g){return f(this,v,g,null)},t.reduce=function(v,g,y,b){return f(v,g,y,b)};function u(v,g){this.isFulfilled()?g._resolve(v):g._reject(v)}function f(v,g,y,b){if(typeof g!="function")return n("expecting a function but got "+o.classString(g));var x=new c(v,g,y,b);return x.promise()}function h(v){this.accum=v,this.array._gotAccum(v);var g=r(this.value,this.array._promise);return g instanceof t?(this.array._currentCancellable=g,g._then(p,void 0,void 0,this,void 0)):p.call(this,g)}function p(v){var g=this.array,y=g._promise,b=l(g._fn);y._pushContext();var x;g._eachValues!==void 0?x=b.call(y._boundValue(),v,this.index,this.length):x=b.call(y._boundValue(),this.accum,v,this.index,this.length),x instanceof t&&(g._currentCancellable=x);var w=y._popContext();return s.checkForgottenReturns(x,w,g._eachValues!==void 0?"Promise.each":"Promise.reduce",y),x}}),VD}var WD,DL;function ZFe(){return DL||(DL=1,WD=function(t,e,n){var r=t.PromiseInspection,i=tr();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},t.settle=function(a){return n.deprecated(".settle()",".reflect()"),new s(a).promise()},t.prototype.settle=function(){return t.settle(this)}}),WD}var qD,AL;function eMe(){return AL||(AL=1,qD=function(t,e,n){var r=tr(),i=Ju().RangeError,s=Ju().AggregateError,a=r.isArray,o={};function l(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=a(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(u){this._howMany=u},l.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new s,f=this.length();f<this._values.length;++f)this._values[f]!==o&&u.push(this._values[f]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(u){this._values.push(u)},l.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(u){var f="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(f)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(u,f){if((f|0)!==f||f<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new l(u),p=h.promise();return h.setHowMany(f),h.init(),p}t.some=function(u,f){return c(u,f)},t.prototype.some=function(u){return c(this,u)},t._SomePromiseArray=l}),qD}var zD,NL;function tMe(){return NL||(NL=1,zD=function(t,e){var n=t.map;t.prototype.filter=function(r,i){return n(this,r,i,e)},t.filter=function(r,i,s){return n(r,i,s,e)}}),zD}var HD,kL;function nMe(){return kL||(kL=1,HD=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function s(a,o){return n(a,o,e,e)}t.prototype.each=function(a){return n(this,a,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(a){return n(this,a,e,e)},t.each=function(a,o){return n(a,o,e,0)._then(i,void 0,void 0,a,void 0)},t.mapSeries=s}),HD}var $D,IL;function rMe(){return IL||(IL=1,$D=function(t){var e=t._SomePromiseArray;function n(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),$D}var RL;function iMe(){return RL||(RL=1,(function(t){t.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new k.PromiseInspection(this._target())},r=function(J){return k.reject(new h(J))};function i(){}var s={},a=tr(),o;a.isNode?o=function(){var J=process.domain;return J===void 0&&(J=null),J}:o=function(){return null},a.notEnumerableProp(k,"_getDomain",o);var l=Qm(),c=kFe(),u=new c;l.defineProperty(k,"_async",{value:u});var f=Ju(),h=k.TypeError=f.TypeError;k.RangeError=f.RangeError;var p=k.CancellationError=f.CancellationError;k.TimeoutError=f.TimeoutError,k.OperationalError=f.OperationalError,k.RejectionError=f.OperationalError,k.AggregateError=f.AggregateError;var v=function(){},g={},y={},b=IFe()(k,v),x=RFe()(k,v,b,r,i),w=PFe()(k),E=w.create,S=FFe()(k,w);S.CapturedTrace;var R=MFe()(k,b),D=UFe()(y),N=kY(),I=a.errorObj,F=a.tryCatch;function P(J,Y){if(typeof Y!="function")throw new h("expecting a function but got "+a.classString(Y));if(J.constructor!==k)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function k(J){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,J!==v&&(P(this,J),this._resolveFromExecutor(J)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}k.prototype.toString=function(){return"[object Promise]"},k.prototype.caught=k.prototype.catch=function(J){var Y=arguments.length;if(Y>1){var ne=new Array(Y-1),z=0,K;for(K=0;K<Y-1;++K){var B=arguments[K];if(a.isObject(B))ne[z++]=B;else return r("expecting an object but got A catch statement predicate "+a.classString(B))}return ne.length=z,J=arguments[K],this.then(void 0,D(ne,J,this))}return this.then(void 0,J)},k.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},k.prototype.then=function(J,Y){if(S.warnings()&&arguments.length>0&&typeof J!="function"&&typeof Y!="function"){var ne=".then() only accepts functions but was passed: "+a.classString(J);arguments.length>1&&(ne+=", "+a.classString(Y)),this._warn(ne)}return this._then(J,Y,void 0,void 0,void 0)},k.prototype.done=function(J,Y){var ne=this._then(J,Y,void 0,void 0,void 0);ne._setIsFinal()},k.prototype.spread=function(J){return typeof J!="function"?r("expecting a function but got "+a.classString(J)):this.all()._then(J,void 0,void 0,g,void 0)},k.prototype.toJSON=function(){var J={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(J.fulfillmentValue=this.value(),J.isFulfilled=!0):this.isRejected()&&(J.rejectionReason=this.reason(),J.isRejected=!0),J},k.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},k.prototype.error=function(J){return this.caught(a.originatesFromRejection,J)},k.getNewLibraryCopy=t.exports,k.is=function(J){return J instanceof k},k.fromNode=k.fromCallback=function(J){var Y=new k(v);Y._captureStackTrace();var ne=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,z=F(J)(N(Y,ne));return z===I&&Y._rejectCallback(z.e,!0),Y._isFateSealed()||Y._setAsyncGuaranteed(),Y},k.all=function(J){return new x(J).promise()},k.cast=function(J){var Y=b(J);return Y instanceof k||(Y=new k(v),Y._captureStackTrace(),Y._setFulfilled(),Y._rejectionHandler0=J),Y},k.resolve=k.fulfilled=k.cast,k.reject=k.rejected=function(J){var Y=new k(v);return Y._captureStackTrace(),Y._rejectCallback(J,!0),Y},k.setScheduler=function(J){if(typeof J!="function")throw new h("expecting a function but got "+a.classString(J));return u.setScheduler(J)},k.prototype._then=function(J,Y,ne,z,K){var B=K!==void 0,j=B?K:new k(v),W=this._target(),H=W._bitField;B||(j._propagateFrom(this,3),j._captureStackTrace(),z===void 0&&(this._bitField&2097152)!==0&&((H&50397184)!==0?z=this._boundValue():z=W===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var Q=o();if((H&50397184)!==0){var Z,se,ce=W._settlePromiseCtx;(H&33554432)!==0?(se=W._rejectionHandler0,Z=J):(H&16777216)!==0?(se=W._fulfillmentHandler0,Z=Y,W._unsetRejectionIsUnhandled()):(ce=W._settlePromiseLateCancellationObserver,se=new p("late cancellation observer"),W._attachExtraTrace(se),Z=Y),u.invoke(ce,W,{handler:Q===null?Z:typeof Z=="function"&&a.domainBind(Q,Z),promise:j,receiver:z,value:se})}else W._addCallbacks(J,Y,j,z,Q);return j},k.prototype._length=function(){return this._bitField&65535},k.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},k.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},k.prototype._setLength=function(J){this._bitField=this._bitField&-65536|J&65535},k.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},k.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},k.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},k.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},k.prototype._isFinal=function(){return(this._bitField&4194304)>0},k.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},k.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},k.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},k.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},k.prototype._receiverAt=function(J){var Y=J===0?this._receiver0:this[J*4-4+3];if(Y!==s)return Y===void 0&&this._isBound()?this._boundValue():Y},k.prototype._promiseAt=function(J){return this[J*4-4+2]},k.prototype._fulfillmentHandlerAt=function(J){return this[J*4-4+0]},k.prototype._rejectionHandlerAt=function(J){return this[J*4-4+1]},k.prototype._boundValue=function(){},k.prototype._migrateCallback0=function(J){J._bitField;var Y=J._fulfillmentHandler0,ne=J._rejectionHandler0,z=J._promise0,K=J._receiverAt(0);K===void 0&&(K=s),this._addCallbacks(Y,ne,z,K,null)},k.prototype._migrateCallbackAt=function(J,Y){var ne=J._fulfillmentHandlerAt(Y),z=J._rejectionHandlerAt(Y),K=J._promiseAt(Y),B=J._receiverAt(Y);B===void 0&&(B=s),this._addCallbacks(ne,z,K,B,null)},k.prototype._addCallbacks=function(J,Y,ne,z,K){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=ne,this._receiver0=z,typeof J=="function"&&(this._fulfillmentHandler0=K===null?J:a.domainBind(K,J)),typeof Y=="function"&&(this._rejectionHandler0=K===null?Y:a.domainBind(K,Y));else{var j=B*4-4;this[j+2]=ne,this[j+3]=z,typeof J=="function"&&(this[j+0]=K===null?J:a.domainBind(K,J)),typeof Y=="function"&&(this[j+1]=K===null?Y:a.domainBind(K,Y))}return this._setLength(B+1),B},k.prototype._proxy=function(J,Y){this._addCallbacks(void 0,void 0,Y,J,null)},k.prototype._resolveCallback=function(J,Y){if((this._bitField&117506048)===0){if(J===this)return this._rejectCallback(e(),!1);var ne=b(J,this);if(!(ne instanceof k))return this._fulfill(J);Y&&this._propagateFrom(ne,2);var z=ne._target();if(z===this){this._reject(e());return}var K=z._bitField;if((K&50397184)===0){var B=this._length();B>0&&z._migrateCallback0(this);for(var j=1;j<B;++j)z._migrateCallbackAt(this,j);this._setFollowing(),this._setLength(0),this._setFollowee(z)}else if((K&33554432)!==0)this._fulfill(z._value());else if((K&16777216)!==0)this._reject(z._reason());else{var W=new p("late cancellation observer");z._attachExtraTrace(W),this._reject(W)}}},k.prototype._rejectCallback=function(J,Y,ne){var z=a.ensureErrorObject(J),K=z===J;if(!K&&!ne&&S.warnings()){var B="a promise was rejected with a non-error: "+a.classString(J);this._warn(B,!0)}this._attachExtraTrace(z,Y?K:!1),this._reject(J)},k.prototype._resolveFromExecutor=function(J){var Y=this;this._captureStackTrace(),this._pushContext();var ne=!0,z=this._execute(J,function(K){Y._resolveCallback(K)},function(K){Y._rejectCallback(K,ne)});ne=!1,this._popContext(),z!==void 0&&Y._rejectCallback(z,!0)},k.prototype._settlePromiseFromHandler=function(J,Y,ne,z){var K=z._bitField;if((K&65536)===0){z._pushContext();var B;Y===g?!ne||typeof ne.length!="number"?(B=I,B.e=new h("cannot .spread() a non-array: "+a.classString(ne))):B=F(J).apply(this._boundValue(),ne):B=F(J).call(Y,ne);var j=z._popContext();K=z._bitField,(K&65536)===0&&(B===y?z._reject(ne):B===I?z._rejectCallback(B.e,!1):(S.checkForgottenReturns(B,j,"",z,this),z._resolveCallback(B)))}},k.prototype._target=function(){for(var J=this;J._isFollowing();)J=J._followee();return J},k.prototype._followee=function(){return this._rejectionHandler0},k.prototype._setFollowee=function(J){this._rejectionHandler0=J},k.prototype._settlePromise=function(J,Y,ne,z){var K=J instanceof k,B=this._bitField,j=(B&134217728)!==0;(B&65536)!==0?(K&&J._invokeInternalOnCancel(),ne instanceof R&&ne.isFinallyHandler()?(ne.cancelPromise=J,F(Y).call(ne,z)===I&&J._reject(I.e)):Y===n?J._fulfill(n.call(ne)):ne instanceof i?ne._promiseCancelled(J):K||J instanceof x?J._cancel():ne.cancel()):typeof Y=="function"?K?(j&&J._setAsyncGuaranteed(),this._settlePromiseFromHandler(Y,ne,z,J)):Y.call(ne,z,J):ne instanceof i?ne._isResolved()||((B&33554432)!==0?ne._promiseFulfilled(z,J):ne._promiseRejected(z,J)):K&&(j&&J._setAsyncGuaranteed(),(B&33554432)!==0?J._fulfill(z):J._reject(z))},k.prototype._settlePromiseLateCancellationObserver=function(J){var Y=J.handler,ne=J.promise,z=J.receiver,K=J.value;typeof Y=="function"?ne instanceof k?this._settlePromiseFromHandler(Y,z,K,ne):Y.call(z,K,ne):ne instanceof k&&ne._reject(K)},k.prototype._settlePromiseCtx=function(J){this._settlePromise(J.promise,J.handler,J.receiver,J.value)},k.prototype._settlePromise0=function(J,Y,ne){var z=this._promise0,K=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(z,J,K,Y)},k.prototype._clearCallbackDataAtIndex=function(J){var Y=J*4-4;this[Y+2]=this[Y+3]=this[Y+0]=this[Y+1]=void 0},k.prototype._fulfill=function(J){var Y=this._bitField;if(!((Y&117506048)>>>16)){if(J===this){var ne=e();return this._attachExtraTrace(ne),this._reject(ne)}this._setFulfilled(),this._rejectionHandler0=J,(Y&65535)>0&&((Y&134217728)!==0?this._settlePromises():u.settlePromises(this))}},k.prototype._reject=function(J){var Y=this._bitField;if(!((Y&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=J,this._isFinal())return u.fatalError(J,a.isNode);(Y&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},k.prototype._fulfillPromises=function(J,Y){for(var ne=1;ne<J;ne++){var z=this._fulfillmentHandlerAt(ne),K=this._promiseAt(ne),B=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(K,z,B,Y)}},k.prototype._rejectPromises=function(J,Y){for(var ne=1;ne<J;ne++){var z=this._rejectionHandlerAt(ne),K=this._promiseAt(ne),B=this._receiverAt(ne);this._clearCallbackDataAtIndex(ne),this._settlePromise(K,z,B,Y)}},k.prototype._settlePromises=function(){var J=this._bitField,Y=J&65535;if(Y>0){if((J&16842752)!==0){var ne=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,ne,J),this._rejectPromises(Y,ne)}else{var z=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,z,J),this._fulfillPromises(Y,z)}this._setLength(0)}this._clearCancellationData()},k.prototype._settledValue=function(){var J=this._bitField;if((J&33554432)!==0)return this._rejectionHandler0;if((J&16777216)!==0)return this._fulfillmentHandler0};function U(J){this.promise._resolveCallback(J)}function O(J){this.promise._rejectCallback(J,!1)}k.defer=k.pending=function(){S.deprecated("Promise.defer","new Promise");var J=new k(v);return{promise:J,resolve:U,reject:O}},a.notEnumerableProp(k,"_makeSelfResolutionError",e),OFe()(k,v,b,r,S),LFe()(k,v,b,S),jFe()(k,x,r,S),BFe()(k),VFe()(k),WFe()(k,x,b,v,u,o),k.Promise=k,k.version="3.4.7",qFe()(k,x,r,b,v,S),zFe()(k),HFe()(k,r,b,E,v,S),$Fe()(k,v,S),GFe()(k,r,v,b,i,S),KFe()(k),XFe()(k,v),JFe()(k,x,b,r),YFe()(k,v,b,r),QFe()(k,x,r,b,v,S),ZFe()(k,x,S),eMe()(k,x,r),tMe()(k,v),nMe()(k,v),rMe()(k),a.toFastProperties(k),a.toFastProperties(k.prototype);function X(J){var Y=new k(v);Y._fulfillmentHandler0=J,Y._rejectionHandler0=J,Y._promise0=J,Y._receiver0=J}return X({a:1}),X({b:2}),X({c:3}),X(1),X(function(){}),X(void 0),X(!1),X(new k(v)),S.setBounds(c.firstLineError,a.lastLineError),k}})(mD)),mD.exports}var PL;function dd(){if(PL)return Wa;PL=1;var t=ei,e=iMe()();Wa.defer=n,Wa.when=e.resolve,Wa.resolve=e.resolve,Wa.all=e.all,Wa.props=e.props,Wa.reject=e.reject,Wa.promisify=e.promisify,Wa.mapSeries=e.mapSeries,Wa.attempt=e.attempt,Wa.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=t.extend({},i,r(i));return e.props(s)})};function n(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return Wa}var On={},FL;function uh(){if(FL)return On;FL=1;var t=ei,e=On.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(S,R){return R=R||{},{type:e.document,children:S,notes:R.notes||new u({}),comments:R.comments||[]}}function r(S,R){R=R||{};var D=R.indent||{};return{type:e.paragraph,children:S,styleId:R.styleId||null,styleName:R.styleName||null,numbering:R.numbering||null,alignment:R.alignment||null,indent:{start:D.start||null,end:D.end||null,firstLine:D.firstLine||null,hanging:D.hanging||null}}}function i(S,R){return R=R||{},{type:e.run,children:S,styleId:R.styleId||null,styleName:R.styleName||null,isBold:!!R.isBold,isUnderline:!!R.isUnderline,isItalic:!!R.isItalic,isStrikethrough:!!R.isStrikethrough,isAllCaps:!!R.isAllCaps,isSmallCaps:!!R.isSmallCaps,verticalAlignment:R.verticalAlignment||s.baseline,font:R.font||null,fontSize:R.fontSize||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(S){return{type:e.text,value:S}}function o(){return{type:e.tab}}function l(S,R){return{type:e.hyperlink,children:S,href:R.href,anchor:R.anchor,targetFrame:R.targetFrame}}function c(S){return{type:e.noteReference,noteType:S.noteType,noteId:S.noteId}}function u(S){this._notes=t.indexBy(S,function(R){return v(R.noteType,R.noteId)})}u.prototype.resolve=function(S){return this.findNoteByKey(v(S.noteType,S.noteId))},u.prototype.findNoteByKey=function(S){return this._notes[S]||null};function f(S){return{type:e.note,noteType:S.noteType,noteId:S.noteId,body:S.body}}function h(S){return{type:e.commentReference,commentId:S.commentId}}function p(S){return{type:e.comment,commentId:S.commentId,body:S.body,authorName:S.authorName,authorInitials:S.authorInitials}}function v(S,R){return S+"-"+R}function g(S){return{type:e.image,read:function(R){return R?S.readImage(R):S.readImage().then(function(D){return Buffer.from(D)})},readAsArrayBuffer:function(){return S.readImage()},readAsBase64String:function(){return S.readImage("base64")},readAsBuffer:function(){return S.readImage().then(function(R){return Buffer.from(R)})},altText:S.altText,contentType:S.contentType}}function y(S,R){return R=R||{},{type:e.table,children:S,styleId:R.styleId||null,styleName:R.styleName||null}}function b(S,R){return R=R||{},{type:e.tableRow,children:S,isHeader:R.isHeader||!1}}function x(S,R){return R=R||{},{type:e.tableCell,children:S,colSpan:R.colSpan==null?1:R.colSpan,rowSpan:R.rowSpan==null?1:R.rowSpan}}function w(S){return{type:e.break,breakType:S}}function E(S){return{type:e.bookmarkStart,name:S.name}}return On.document=On.Document=n,On.paragraph=On.Paragraph=r,On.run=On.Run=i,On.text=On.Text=a,On.tab=On.Tab=o,On.Hyperlink=l,On.noteReference=On.NoteReference=c,On.Notes=u,On.Note=f,On.commentReference=h,On.comment=p,On.Image=g,On.Table=y,On.TableRow=b,On.TableCell=x,On.lineBreak=w("line"),On.pageBreak=w("page"),On.columnBreak=w("column"),On.BookmarkStart=E,On.verticalAlignment=s,On}var np={},ML;function xc(){if(ML)return np;ML=1;var t=ei;np.Result=e,np.success=n,np.warning=r,np.error=i;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(u){return new e(u.value,s([c,u]))})},e.combine=function(l){var c=t.flatten(t.pluck(l,"value")),u=s(l);return new e(c,u)};function n(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return t.flatten(t.pluck(l,"messages"),!0).forEach(function(u){a(c,u)||c.push(u)}),c}function a(l,c){return t.find(l,o.bind(null,c))!==void 0}function o(l,c){return l.type===c.type&&l.message===c.message}return np}var Jg={},Yg={},UL;function sMe(){if(UL)return Yg;UL=1,Yg.byteLength=o,Yg.toByteArray=c,Yg.fromByteArray=h;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=v);var y=g===v?0:4-g%4;return[g,y]}function o(p){var v=a(p),g=v[0],y=v[1];return(g+y)*3/4-y}function l(p,v,g){return(v+g)*3/4-g}function c(p){var v,g=a(p),y=g[0],b=g[1],x=new n(l(p,y,b)),w=0,E=b>0?y-4:y,S;for(S=0;S<E;S+=4)v=e[p.charCodeAt(S)]<<18|e[p.charCodeAt(S+1)]<<12|e[p.charCodeAt(S+2)]<<6|e[p.charCodeAt(S+3)],x[w++]=v>>16&255,x[w++]=v>>8&255,x[w++]=v&255;return b===2&&(v=e[p.charCodeAt(S)]<<2|e[p.charCodeAt(S+1)]>>4,x[w++]=v&255),b===1&&(v=e[p.charCodeAt(S)]<<10|e[p.charCodeAt(S+1)]<<4|e[p.charCodeAt(S+2)]>>2,x[w++]=v>>8&255,x[w++]=v&255),x}function u(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,v,g){for(var y,b=[],x=v;x<g;x+=3)y=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(p[x+2]&255),b.push(u(y));return b.join("")}function h(p){for(var v,g=p.length,y=g%3,b=[],x=16383,w=0,E=g-y;w<E;w+=x)b.push(f(p,w,w+x>E?E:w+x));return y===1?(v=p[g-1],b.push(t[v>>2]+t[v<<4&63]+"==")):y===2&&(v=(p[g-2]<<8)+p[g-1],b.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),b.join("")}return Yg}var OL;function IY(){if(OL)return Jg;OL=1;var t=sMe(),e=a$();Jg.openArrayBuffer=n,Jg.splitPath=r,Jg.joinPath=i;function n(s){return e.loadAsync(s).then(function(a){function o(f){return a.file(f)!==null}function l(f,h){return a.file(f).async("uint8array").then(function(p){if(h==="base64")return t.fromByteArray(p);if(h){var v=new TextDecoder(h);return v.decode(p)}else return p})}function c(f,h){a.file(f,h)}function u(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:c,toArrayBuffer:u}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return Jg}var z1={},Rd={},Qg={},LL;function RY(){if(LL)return Qg;LL=1;var t=ei;Qg.Element=n,Qg.element=function(s,a,o){return new n(s,a,o)},Qg.text=function(s){return{type:"text",value:s}};var e={first:function(){return null},firstOrEmpty:function(){return e},attributes:{}};function n(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}n.prototype.first=function(s){return t.find(this.children,function(a){return a.name===s})},n.prototype.firstOrEmpty=function(s){return this.first(s)||e},n.prototype.getElementsByTagName=function(s){var a=t.filter(this.children,function(o){return o.name===s});return i(a)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(t.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return t.extend(s,r)}return Qg}var GD={},H1={},Zg={},$l={},Pd={},jL;function qw(){if(jL)return Pd;jL=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(a.call(void 0,c,l,s))return c}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Pd.assign=n,Pd.find=t,Pd.freeze=e,Pd.MIME_TYPE=r,Pd.NAMESPACE=i,Pd}var BL;function V6(){if(BL)return $l;BL=1;var t=qw(),e=t.find,n=t.NAMESPACE;function r(pe){return pe!==""}function i(pe){return pe?pe.split(/[\t\n\f\r ]+/).filter(r):[]}function s(pe,we){return pe.hasOwnProperty(we)||(pe[we]=!0),pe}function a(pe){if(!pe)return[];var we=i(pe);return Object.keys(we.reduce(s,{}))}function o(pe){return function(we){return pe&&pe.indexOf(we)!==-1}}function l(pe,we){for(var Fe in pe)Object.prototype.hasOwnProperty.call(pe,Fe)&&(we[Fe]=pe[Fe])}function c(pe,we){var Fe=pe.prototype;if(!(Fe instanceof we)){let rt=function(){};var He=rt;rt.prototype=we.prototype,rt=new rt,l(Fe,rt),pe.prototype=Fe=rt}Fe.constructor!=pe&&(typeof pe!="function"&&console.error("unknown Class:"+pe),Fe.constructor=pe)}var u={},f=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,p=u.TEXT_NODE=3,v=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,y=u.ENTITY_NODE=6,b=u.PROCESSING_INSTRUCTION_NODE=7,x=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,E=u.DOCUMENT_TYPE_NODE=10,S=u.DOCUMENT_FRAGMENT_NODE=11,R=u.NOTATION_NODE=12,D={},N={};D.INDEX_SIZE_ERR=(N[1]="Index size error",1),D.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var I=D.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);D.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),D.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),D.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),D.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var F=D.NOT_FOUND_ERR=(N[8]="Not found",8);D.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var P=D.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);D.INVALID_STATE_ERR=(N[11]="Invalid state",11),D.SYNTAX_ERR=(N[12]="Syntax error",12),D.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),D.NAMESPACE_ERR=(N[14]="Invalid namespace",14),D.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function k(pe,we){if(we instanceof Error)var Fe=we;else Fe=this,Error.call(this,N[pe]),this.message=N[pe],Error.captureStackTrace&&Error.captureStackTrace(this,k);return Fe.code=pe,we&&(this.message=this.message+": "+we),Fe}k.prototype=Error.prototype,l(D,k);function U(){}U.prototype={length:0,item:function(pe){return pe>=0&&pe<this.length?this[pe]:null},toString:function(pe,we){for(var Fe=[],He=0;He<this.length;He++)nr(this[He],Fe,pe,we);return Fe.join("")},filter:function(pe){return Array.prototype.filter.call(this,pe)},indexOf:function(pe){return Array.prototype.indexOf.call(this,pe)}};function O(pe,we){this._node=pe,this._refresh=we,X(this)}function X(pe){var we=pe._node._inc||pe._node.ownerDocument._inc;if(pe._inc!==we){var Fe=pe._refresh(pe._node);if(Qt(pe,"length",Fe.length),!pe.$$length||Fe.length<pe.$$length)for(var He=Fe.length;He in pe;He++)Object.prototype.hasOwnProperty.call(pe,He)&&delete pe[He];l(Fe,pe),pe._inc=we}}O.prototype.item=function(pe){return X(this),this[pe]||null},c(O,U);function J(){}function Y(pe,we){for(var Fe=pe.length;Fe--;)if(pe[Fe]===we)return Fe}function ne(pe,we,Fe,He){if(He?we[Y(we,He)]=Fe:we[we.length++]=Fe,pe){Fe.ownerElement=pe;var rt=pe.ownerDocument;rt&&(He&&Z(rt,pe,He),Q(rt,pe,Fe))}}function z(pe,we,Fe){var He=Y(we,Fe);if(He>=0){for(var rt=we.length-1;He<rt;)we[He]=we[++He];if(we.length=rt,pe){var kt=pe.ownerDocument;kt&&(Z(kt,pe,Fe),Fe.ownerElement=null)}}else throw new k(F,new Error(pe.tagName+"@"+Fe))}J.prototype={length:0,item:U.prototype.item,getNamedItem:function(pe){for(var we=this.length;we--;){var Fe=this[we];if(Fe.nodeName==pe)return Fe}},setNamedItem:function(pe){var we=pe.ownerElement;if(we&&we!=this._ownerElement)throw new k(P);var Fe=this.getNamedItem(pe.nodeName);return ne(this._ownerElement,this,pe,Fe),Fe},setNamedItemNS:function(pe){var we=pe.ownerElement,Fe;if(we&&we!=this._ownerElement)throw new k(P);return Fe=this.getNamedItemNS(pe.namespaceURI,pe.localName),ne(this._ownerElement,this,pe,Fe),Fe},removeNamedItem:function(pe){var we=this.getNamedItem(pe);return z(this._ownerElement,this,we),we},removeNamedItemNS:function(pe,we){var Fe=this.getNamedItemNS(pe,we);return z(this._ownerElement,this,Fe),Fe},getNamedItemNS:function(pe,we){for(var Fe=this.length;Fe--;){var He=this[Fe];if(He.localName==we&&He.namespaceURI==pe)return He}return null}};function K(){}K.prototype={hasFeature:function(pe,we){return!0},createDocument:function(pe,we,Fe){var He=new H;if(He.implementation=this,He.childNodes=new U,He.doctype=Fe||null,Fe&&He.appendChild(Fe),we){var rt=He.createElementNS(pe,we);He.appendChild(rt)}return He},createDocumentType:function(pe,we,Fe){var He=new Te;return He.name=pe,He.nodeName=pe,He.publicId=we||"",He.systemId=Fe||"",He}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(pe,we){return le(this,pe,we)},replaceChild:function(pe,we){le(this,pe,we,re),we&&this.removeChild(we)},removeChild:function(pe){return ce(this,pe)},appendChild:function(pe){return this.insertBefore(pe,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(pe){return wr(this.ownerDocument||this,this,pe)},normalize:function(){for(var pe=this.firstChild;pe;){var we=pe.nextSibling;we&&we.nodeType==p&&pe.nodeType==p?(this.removeChild(we),pe.appendData(we.data)):(pe.normalize(),pe=we)}},isSupported:function(pe,we){return this.ownerDocument.implementation.hasFeature(pe,we)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(pe){for(var we=this;we;){var Fe=we._nsMap;if(Fe){for(var He in Fe)if(Object.prototype.hasOwnProperty.call(Fe,He)&&Fe[He]===pe)return He}we=we.nodeType==h?we.ownerDocument:we.parentNode}return null},lookupNamespaceURI:function(pe){for(var we=this;we;){var Fe=we._nsMap;if(Fe&&Object.prototype.hasOwnProperty.call(Fe,pe))return Fe[pe];we=we.nodeType==h?we.ownerDocument:we.parentNode}return null},isDefaultNamespace:function(pe){var we=this.lookupPrefix(pe);return we==null}};function j(pe){return pe=="<"&&"&lt;"||pe==">"&&"&gt;"||pe=="&"&&"&amp;"||pe=='"'&&"&quot;"||"&#"+pe.charCodeAt()+";"}l(u,B),l(u,B.prototype);function W(pe,we){if(we(pe))return!0;if(pe=pe.firstChild)do if(W(pe,we))return!0;while(pe=pe.nextSibling)}function H(){this.ownerDocument=this}function Q(pe,we,Fe){pe&&pe._inc++;var He=Fe.namespaceURI;He===n.XMLNS&&(we._nsMap[Fe.prefix?Fe.localName:""]=Fe.value)}function Z(pe,we,Fe,He){pe&&pe._inc++;var rt=Fe.namespaceURI;rt===n.XMLNS&&delete we._nsMap[Fe.prefix?Fe.localName:""]}function se(pe,we,Fe){if(pe&&pe._inc){pe._inc++;var He=we.childNodes;if(Fe)He[He.length++]=Fe;else{for(var rt=we.firstChild,kt=0;rt;)He[kt++]=rt,rt=rt.nextSibling;He.length=kt,delete He[He.length]}}}function ce(pe,we){var Fe=we.previousSibling,He=we.nextSibling;return Fe?Fe.nextSibling=He:pe.firstChild=He,He?He.previousSibling=Fe:pe.lastChild=Fe,we.parentNode=null,we.previousSibling=null,we.nextSibling=null,se(pe.ownerDocument,pe),we}function ue(pe){return pe&&(pe.nodeType===B.DOCUMENT_NODE||pe.nodeType===B.DOCUMENT_FRAGMENT_NODE||pe.nodeType===B.ELEMENT_NODE)}function Ee(pe){return pe&&(fe(pe)||Le(pe)||Ie(pe)||pe.nodeType===B.DOCUMENT_FRAGMENT_NODE||pe.nodeType===B.COMMENT_NODE||pe.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Ie(pe){return pe&&pe.nodeType===B.DOCUMENT_TYPE_NODE}function fe(pe){return pe&&pe.nodeType===B.ELEMENT_NODE}function Le(pe){return pe&&pe.nodeType===B.TEXT_NODE}function V(pe,we){var Fe=pe.childNodes||[];if(e(Fe,fe)||Ie(we))return!1;var He=e(Fe,Ie);return!(we&&He&&Fe.indexOf(He)>Fe.indexOf(we))}function ye(pe,we){var Fe=pe.childNodes||[];function He(kt){return fe(kt)&&kt!==we}if(e(Fe,He))return!1;var rt=e(Fe,Ie);return!(we&&rt&&Fe.indexOf(rt)>Fe.indexOf(we))}function be(pe,we,Fe){if(!ue(pe))throw new k(I,"Unexpected parent node type "+pe.nodeType);if(Fe&&Fe.parentNode!==pe)throw new k(F,"child not in parent");if(!Ee(we)||Ie(we)&&pe.nodeType!==B.DOCUMENT_NODE)throw new k(I,"Unexpected node type "+we.nodeType+" for parent node type "+pe.nodeType)}function oe(pe,we,Fe){var He=pe.childNodes||[],rt=we.childNodes||[];if(we.nodeType===B.DOCUMENT_FRAGMENT_NODE){var kt=rt.filter(fe);if(kt.length>1||e(rt,Le))throw new k(I,"More than one element or text in fragment");if(kt.length===1&&!V(pe,Fe))throw new k(I,"Element in fragment can not be inserted before doctype")}if(fe(we)&&!V(pe,Fe))throw new k(I,"Only one element can be added and only after doctype");if(Ie(we)){if(e(He,Ie))throw new k(I,"Only one doctype is allowed");var ln=e(He,fe);if(Fe&&He.indexOf(ln)<He.indexOf(Fe))throw new k(I,"Doctype can only be inserted before an element");if(!Fe&&ln)throw new k(I,"Doctype can not be appended since element is present")}}function re(pe,we,Fe){var He=pe.childNodes||[],rt=we.childNodes||[];if(we.nodeType===B.DOCUMENT_FRAGMENT_NODE){var kt=rt.filter(fe);if(kt.length>1||e(rt,Le))throw new k(I,"More than one element or text in fragment");if(kt.length===1&&!ye(pe,Fe))throw new k(I,"Element in fragment can not be inserted before doctype")}if(fe(we)&&!ye(pe,Fe))throw new k(I,"Only one element can be added and only after doctype");if(Ie(we)){let Rr=function($n){return Ie($n)&&$n!==Fe};var nn=Rr;if(e(He,Rr))throw new k(I,"Only one doctype is allowed");var ln=e(He,fe);if(Fe&&He.indexOf(ln)<He.indexOf(Fe))throw new k(I,"Doctype can only be inserted before an element")}}function le(pe,we,Fe,He){be(pe,we,Fe),pe.nodeType===B.DOCUMENT_NODE&&(He||oe)(pe,we,Fe);var rt=we.parentNode;if(rt&&rt.removeChild(we),we.nodeType===S){var kt=we.firstChild;if(kt==null)return we;var ln=we.lastChild}else kt=ln=we;var nn=Fe?Fe.previousSibling:pe.lastChild;kt.previousSibling=nn,ln.nextSibling=Fe,nn?nn.nextSibling=kt:pe.firstChild=kt,Fe==null?pe.lastChild=ln:Fe.previousSibling=ln;do{kt.parentNode=pe;var Rr=pe.ownerDocument||pe;he(kt,Rr)}while(kt!==ln&&(kt=kt.nextSibling));return se(pe.ownerDocument||pe,pe),we.nodeType==S&&(we.firstChild=we.lastChild=null),we}function he(pe,we){if(pe.ownerDocument!==we){if(pe.ownerDocument=we,pe.nodeType===f&&pe.attributes)for(var Fe=0;Fe<pe.attributes.length;Fe++){var He=pe.attributes.item(Fe);He&&(He.ownerDocument=we)}for(var rt=pe.firstChild;rt;)he(rt,we),rt=rt.nextSibling}}function _e(pe,we){we.parentNode&&we.parentNode.removeChild(we),we.parentNode=pe,we.previousSibling=pe.lastChild,we.nextSibling=null,we.previousSibling?we.previousSibling.nextSibling=we:pe.firstChild=we,pe.lastChild=we,se(pe.ownerDocument,pe,we);var Fe=pe.ownerDocument||pe;return he(we,Fe),we}H.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(pe,we){if(pe.nodeType==S){for(var Fe=pe.firstChild;Fe;){var He=Fe.nextSibling;this.insertBefore(Fe,we),Fe=He}return pe}return le(this,pe,we),he(pe,this),this.documentElement===null&&pe.nodeType===f&&(this.documentElement=pe),pe},removeChild:function(pe){return this.documentElement==pe&&(this.documentElement=null),ce(this,pe)},replaceChild:function(pe,we){le(this,pe,we,re),he(pe,this),we&&this.removeChild(we),fe(pe)&&(this.documentElement=pe)},importNode:function(pe,we){return rr(this,pe,we)},getElementById:function(pe){var we=null;return W(this.documentElement,function(Fe){if(Fe.nodeType==f&&Fe.getAttribute("id")==pe)return we=Fe,!0}),we},getElementsByClassName:function(pe){var we=a(pe);return new O(this,function(Fe){var He=[];return we.length>0&&W(Fe.documentElement,function(rt){if(rt!==Fe&&rt.nodeType===f){var kt=rt.getAttribute("class");if(kt){var ln=pe===kt;if(!ln){var nn=a(kt);ln=we.every(o(nn))}ln&&He.push(rt)}}}),He})},createElement:function(pe){var we=new ie;we.ownerDocument=this,we.nodeName=pe,we.tagName=pe,we.localName=pe,we.childNodes=new U;var Fe=we.attributes=new J;return Fe._ownerElement=we,we},createDocumentFragment:function(){var pe=new nt;return pe.ownerDocument=this,pe.childNodes=new U,pe},createTextNode:function(pe){var we=new ve;return we.ownerDocument=this,we.appendData(pe),we},createComment:function(pe){var we=new De;return we.ownerDocument=this,we.appendData(pe),we},createCDATASection:function(pe){var we=new Ue;return we.ownerDocument=this,we.appendData(pe),we},createProcessingInstruction:function(pe,we){var Fe=new st;return Fe.ownerDocument=this,Fe.tagName=Fe.nodeName=Fe.target=pe,Fe.nodeValue=Fe.data=we,Fe},createAttribute:function(pe){var we=new de;return we.ownerDocument=this,we.name=pe,we.nodeName=pe,we.localName=pe,we.specified=!0,we},createEntityReference:function(pe){var we=new Ge;return we.ownerDocument=this,we.nodeName=pe,we},createElementNS:function(pe,we){var Fe=new ie,He=we.split(":"),rt=Fe.attributes=new J;return Fe.childNodes=new U,Fe.ownerDocument=this,Fe.nodeName=we,Fe.tagName=we,Fe.namespaceURI=pe,He.length==2?(Fe.prefix=He[0],Fe.localName=He[1]):Fe.localName=we,rt._ownerElement=Fe,Fe},createAttributeNS:function(pe,we){var Fe=new de,He=we.split(":");return Fe.ownerDocument=this,Fe.nodeName=we,Fe.name=we,Fe.namespaceURI=pe,Fe.specified=!0,He.length==2?(Fe.prefix=He[0],Fe.localName=He[1]):Fe.localName=we,Fe}},c(H,B);function ie(){this._nsMap={}}ie.prototype={nodeType:f,hasAttribute:function(pe){return this.getAttributeNode(pe)!=null},getAttribute:function(pe){var we=this.getAttributeNode(pe);return we&&we.value||""},getAttributeNode:function(pe){return this.attributes.getNamedItem(pe)},setAttribute:function(pe,we){var Fe=this.ownerDocument.createAttribute(pe);Fe.value=Fe.nodeValue=""+we,this.setAttributeNode(Fe)},removeAttribute:function(pe){var we=this.getAttributeNode(pe);we&&this.removeAttributeNode(we)},appendChild:function(pe){return pe.nodeType===S?this.insertBefore(pe,null):_e(this,pe)},setAttributeNode:function(pe){return this.attributes.setNamedItem(pe)},setAttributeNodeNS:function(pe){return this.attributes.setNamedItemNS(pe)},removeAttributeNode:function(pe){return this.attributes.removeNamedItem(pe.nodeName)},removeAttributeNS:function(pe,we){var Fe=this.getAttributeNodeNS(pe,we);Fe&&this.removeAttributeNode(Fe)},hasAttributeNS:function(pe,we){return this.getAttributeNodeNS(pe,we)!=null},getAttributeNS:function(pe,we){var Fe=this.getAttributeNodeNS(pe,we);return Fe&&Fe.value||""},setAttributeNS:function(pe,we,Fe){var He=this.ownerDocument.createAttributeNS(pe,we);He.value=He.nodeValue=""+Fe,this.setAttributeNode(He)},getAttributeNodeNS:function(pe,we){return this.attributes.getNamedItemNS(pe,we)},getElementsByTagName:function(pe){return new O(this,function(we){var Fe=[];return W(we,function(He){He!==we&&He.nodeType==f&&(pe==="*"||He.tagName==pe)&&Fe.push(He)}),Fe})},getElementsByTagNameNS:function(pe,we){return new O(this,function(Fe){var He=[];return W(Fe,function(rt){rt!==Fe&&rt.nodeType===f&&(pe==="*"||rt.namespaceURI===pe)&&(we==="*"||rt.localName==we)&&He.push(rt)}),He})}},H.prototype.getElementsByTagName=ie.prototype.getElementsByTagName,H.prototype.getElementsByTagNameNS=ie.prototype.getElementsByTagNameNS,c(ie,B);function de(){}de.prototype.nodeType=h,c(de,B);function me(){}me.prototype={data:"",substringData:function(pe,we){return this.data.substring(pe,pe+we)},appendData:function(pe){pe=this.data+pe,this.nodeValue=this.data=pe,this.length=pe.length},insertData:function(pe,we){this.replaceData(pe,0,we)},appendChild:function(pe){throw new Error(N[I])},deleteData:function(pe,we){this.replaceData(pe,we,"")},replaceData:function(pe,we,Fe){var He=this.data.substring(0,pe),rt=this.data.substring(pe+we);Fe=He+Fe+rt,this.nodeValue=this.data=Fe,this.length=Fe.length}},c(me,B);function ve(){}ve.prototype={nodeName:"#text",nodeType:p,splitText:function(pe){var we=this.data,Fe=we.substring(pe);we=we.substring(0,pe),this.data=this.nodeValue=we,this.length=we.length;var He=this.ownerDocument.createTextNode(Fe);return this.parentNode&&this.parentNode.insertBefore(He,this.nextSibling),He}},c(ve,me);function De(){}De.prototype={nodeName:"#comment",nodeType:x},c(De,me);function Ue(){}Ue.prototype={nodeName:"#cdata-section",nodeType:v},c(Ue,me);function Te(){}Te.prototype.nodeType=E,c(Te,B);function Me(){}Me.prototype.nodeType=R,c(Me,B);function Oe(){}Oe.prototype.nodeType=y,c(Oe,B);function Ge(){}Ge.prototype.nodeType=g,c(Ge,B);function nt(){}nt.prototype.nodeName="#document-fragment",nt.prototype.nodeType=S,c(nt,B);function st(){}st.prototype.nodeType=b,c(st,B);function Ot(){}Ot.prototype.serializeToString=function(pe,we,Fe){return wn.call(pe,we,Fe)},B.prototype.toString=wn;function wn(pe,we){var Fe=[],He=this.nodeType==9&&this.documentElement||this,rt=He.prefix,kt=He.namespaceURI;if(kt&&rt==null){var rt=He.lookupPrefix(kt);if(rt==null)var ln=[{namespace:kt,prefix:null}]}return nr(this,Fe,pe,we,ln),Fe.join("")}function hn(pe,we,Fe){var He=pe.prefix||"",rt=pe.namespaceURI;if(!rt||He==="xml"&&rt===n.XML||rt===n.XMLNS)return!1;for(var kt=Fe.length;kt--;){var ln=Fe[kt];if(ln.prefix===He)return ln.namespace!==rt}return!0}function zr(pe,we,Fe){pe.push(" ",we,'="',Fe.replace(/[<>&"\t\n\r]/g,j),'"')}function nr(pe,we,Fe,He,rt){if(rt||(rt=[]),He)if(pe=He(pe),pe){if(typeof pe=="string"){we.push(pe);return}}else return;switch(pe.nodeType){case f:var kt=pe.attributes,ln=kt.length,Ne=pe.firstChild,nn=pe.tagName;Fe=n.isHTML(pe.namespaceURI)||Fe;var Rr=nn;if(!Fe&&!pe.prefix&&pe.namespaceURI){for(var $n,ui=0;ui<kt.length;ui++)if(kt.item(ui).name==="xmlns"){$n=kt.item(ui).value;break}if(!$n)for(var Oi=rt.length-1;Oi>=0;Oi--){var Yi=rt[Oi];if(Yi.prefix===""&&Yi.namespace===pe.namespaceURI){$n=Yi.namespace;break}}if($n!==pe.namespaceURI)for(var Oi=rt.length-1;Oi>=0;Oi--){var Yi=rt[Oi];if(Yi.namespace===pe.namespaceURI){Yi.prefix&&(Rr=Yi.prefix+":"+nn);break}}}we.push("<",Rr);for(var xe=0;xe<ln;xe++){var ke=kt.item(xe);ke.prefix=="xmlns"?rt.push({prefix:ke.localName,namespace:ke.value}):ke.nodeName=="xmlns"&&rt.push({prefix:"",namespace:ke.value})}for(var xe=0;xe<ln;xe++){var ke=kt.item(xe);if(hn(ke,Fe,rt)){var Se=ke.prefix||"",Ae=ke.namespaceURI;zr(we,Se?"xmlns:"+Se:"xmlns",Ae),rt.push({prefix:Se,namespace:Ae})}nr(ke,we,Fe,He,rt)}if(nn===Rr&&hn(pe,Fe,rt)){var Se=pe.prefix||"",Ae=pe.namespaceURI;zr(we,Se?"xmlns:"+Se:"xmlns",Ae),rt.push({prefix:Se,namespace:Ae})}if(Ne||Fe&&!/^(?:meta|link|img|br|hr|input)$/i.test(nn)){if(we.push(">"),Fe&&/^script$/i.test(nn))for(;Ne;)Ne.data?we.push(Ne.data):nr(Ne,we,Fe,He,rt.slice()),Ne=Ne.nextSibling;else for(;Ne;)nr(Ne,we,Fe,He,rt.slice()),Ne=Ne.nextSibling;we.push("</",Rr,">")}else we.push("/>");return;case w:case S:for(var Ne=pe.firstChild;Ne;)nr(Ne,we,Fe,He,rt.slice()),Ne=Ne.nextSibling;return;case h:return zr(we,pe.name,pe.value);case p:return we.push(pe.data.replace(/[<&>]/g,j));case v:return we.push("<![CDATA[",pe.data,"]]>");case x:return we.push("<!--",pe.data,"-->");case E:var Re=pe.publicId,We=pe.systemId;if(we.push("<!DOCTYPE ",pe.name),Re)we.push(" PUBLIC ",Re),We&&We!="."&&we.push(" ",We),we.push(">");else if(We&&We!=".")we.push(" SYSTEM ",We,">");else{var Ze=pe.internalSubset;Ze&&we.push(" [",Ze,"]"),we.push(">")}return;case b:return we.push("<?",pe.target," ",pe.data,"?>");case g:return we.push("&",pe.nodeName,";");default:we.push("??",pe.nodeName)}}function rr(pe,we,Fe){var He;switch(we.nodeType){case f:He=we.cloneNode(!1),He.ownerDocument=pe;case S:break;case h:Fe=!0;break}if(He||(He=we.cloneNode(!1)),He.ownerDocument=pe,He.parentNode=null,Fe)for(var rt=we.firstChild;rt;)He.appendChild(rr(pe,rt,Fe)),rt=rt.nextSibling;return He}function wr(pe,we,Fe){var He=new we.constructor;for(var rt in we)if(Object.prototype.hasOwnProperty.call(we,rt)){var kt=we[rt];typeof kt!="object"&&kt!=He[rt]&&(He[rt]=kt)}switch(we.childNodes&&(He.childNodes=new U),He.ownerDocument=pe,He.nodeType){case f:var ln=we.attributes,nn=He.attributes=new J,Rr=ln.length;nn._ownerElement=He;for(var $n=0;$n<Rr;$n++)He.setAttributeNode(wr(pe,ln.item($n),!0));break;case h:Fe=!0}if(Fe)for(var ui=we.firstChild;ui;)He.appendChild(wr(pe,ui,Fe)),ui=ui.nextSibling;return He}function Qt(pe,we,Fe){pe[we]=Fe}try{if(Object.defineProperty){let pe=function(we){switch(we.nodeType){case f:case S:var Fe=[];for(we=we.firstChild;we;)we.nodeType!==7&&we.nodeType!==8&&Fe.push(pe(we)),we=we.nextSibling;return Fe.join("");default:return we.nodeValue}};var Nn=pe;Object.defineProperty(O.prototype,"length",{get:function(){return X(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return pe(this)},set:function(we){switch(this.nodeType){case f:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(we||String(we))&&this.appendChild(this.ownerDocument.createTextNode(we));break;default:this.data=we,this.value=we,this.nodeValue=we}}}),Qt=function(we,Fe,He){we["$$"+Fe]=He}}}catch{}return $l.DocumentType=Te,$l.DOMException=k,$l.DOMImplementation=K,$l.Element=ie,$l.Node=B,$l.NodeList=U,$l.XMLSerializer=Ot,$l}var e0={},KD={},VL;function aMe(){return VL||(VL=1,(function(t){var e=qw().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(KD)),KD}var $1={},WL;function oMe(){if(WL)return $1;WL=1;var t=qw().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,c=5,u=6,f=7;function h(I,F){this.message=I,this.locator=F,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function p(){}p.prototype={parse:function(I,F,P){var k=this.domBuilder;k.startDocument(),E(F,F={}),v(I,F,P,k,this.errorHandler),k.endDocument()}};function v(I,F,P,k,U){function O(_e){if(_e>65535){_e-=65536;var ie=55296+(_e>>10),de=56320+(_e&1023);return String.fromCharCode(ie,de)}else return String.fromCharCode(_e)}function X(_e){var ie=_e.slice(1,-1);return Object.hasOwnProperty.call(P,ie)?P[ie]:ie.charAt(0)==="#"?O(parseInt(ie.substr(1).replace("x","0x"))):(U.error("entity not found:"+_e),_e)}function J(_e){if(_e>H){var ie=I.substring(H,_e).replace(/&#?\w+;/g,X);B&&Y(H),k.characters(ie,0,_e-H),H=_e}}function Y(_e,ie){for(;_e>=z&&(ie=K.exec(I));)ne=ie.index,z=ne+ie[0].length,B.lineNumber++;B.columnNumber=_e-ne+1}for(var ne=0,z=0,K=/.*(?:\r\n?|\n)|.*$/g,B=k.locator,j=[{currentNSMap:F}],W={},H=0;;){try{var Q=I.indexOf("<",H);if(Q<0){if(!I.substr(H).match(/^\s*$/)){var Z=k.doc,se=Z.createTextNode(I.substr(H));Z.appendChild(se),k.currentElement=se}return}switch(Q>H&&J(Q),I.charAt(Q+1)){case"/":var be=I.indexOf(">",Q+3),ce=I.substring(Q+2,be).replace(/[ \t\n\r]+$/g,""),ue=j.pop();be<0?(ce=I.substring(Q+2).replace(/[\s<].*/,""),U.error("end tag name: "+ce+" is not complete:"+ue.tagName),be=Q+1+ce.length):ce.match(/\s</)&&(ce=ce.replace(/[\s<].*/,""),U.error("end tag name: "+ce+" maybe not complete"),be=Q+1+ce.length);var Ee=ue.localNSMap,Ie=ue.tagName==ce,fe=Ie||ue.tagName&&ue.tagName.toLowerCase()==ce.toLowerCase();if(fe){if(k.endElement(ue.uri,ue.localName,ce),Ee)for(var Le in Ee)Object.prototype.hasOwnProperty.call(Ee,Le)&&k.endPrefixMapping(Le);Ie||U.fatalError("end tag name: "+ce+" is not match the current start tagName:"+ue.tagName)}else j.push(ue);be++;break;case"?":B&&Y(Q),be=R(I,Q,k);break;case"!":B&&Y(Q),be=S(I,Q,k,U);break;default:B&&Y(Q);var V=new D,ye=j[j.length-1].currentNSMap,be=y(I,Q,V,ye,X,U),oe=V.length;if(!V.closed&&w(I,be,V.tagName,W)&&(V.closed=!0,P.nbsp||U.warning("unclosed xml attribute")),B&&oe){for(var re=g(B,{}),le=0;le<oe;le++){var he=V[le];Y(he.offset),he.locator=g(B,{})}k.locator=re,b(V,k,ye)&&j.push(V),k.locator=B}else b(V,k,ye)&&j.push(V);t.isHTML(V.uri)&&!V.closed?be=x(I,be,V.tagName,X,k):be++}}catch(_e){if(_e instanceof h)throw _e;U.error("element parse error: "+_e),be=-1}be>H?H=be:J(Math.max(Q,H)+1)}}function g(I,F){return F.lineNumber=I.lineNumber,F.columnNumber=I.columnNumber,F}function y(I,F,P,k,U,O){function X(B,j,W){P.attributeNames.hasOwnProperty(B)&&O.fatalError("Attribute "+B+" redefined"),P.addValue(B,j.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,U),W)}for(var J,Y,ne=++F,z=i;;){var K=I.charAt(ne);switch(K){case"=":if(z===s)J=I.slice(F,ne),z=o;else if(z===a)z=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(z===o||z===s)if(z===s&&(O.warning('attribute value must after "="'),J=I.slice(F,ne)),F=ne+1,ne=I.indexOf(K,F),ne>0)Y=I.slice(F,ne),X(J,Y,F-1),z=c;else throw new Error("attribute value no end '"+K+"' match");else if(z==l)Y=I.slice(F,ne),X(J,Y,F),O.warning('attribute "'+J+'" missed start quot('+K+")!!"),F=ne+1,z=c;else throw new Error('attribute value must after "="');break;case"/":switch(z){case i:P.setTagName(I.slice(F,ne));case c:case u:case f:z=f,P.closed=!0;case l:case s:break;case a:P.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return O.error("unexpected end of input"),z==i&&P.setTagName(I.slice(F,ne)),ne;case">":switch(z){case i:P.setTagName(I.slice(F,ne));case c:case u:case f:break;case l:case s:Y=I.slice(F,ne),Y.slice(-1)==="/"&&(P.closed=!0,Y=Y.slice(0,-1));case a:z===a&&(Y=J),z==l?(O.warning('attribute "'+Y+'" missed quot(")!'),X(J,Y,F)):((!t.isHTML(k[""])||!Y.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+Y+'" missed value!! "'+Y+'" instead!!'),X(Y,Y,F));break;case o:throw new Error("attribute value missed!!")}return ne;case"":K=" ";default:if(K<=" ")switch(z){case i:P.setTagName(I.slice(F,ne)),z=u;break;case s:J=I.slice(F,ne),z=a;break;case l:var Y=I.slice(F,ne);O.warning('attribute "'+Y+'" missed quot(")!!'),X(J,Y,F);case c:z=u;break}else switch(z){case a:P.tagName,(!t.isHTML(k[""])||!J.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+J+'" missed value!! "'+J+'" instead2!!'),X(J,J,F),F=ne,z=s;break;case c:O.warning('attribute space is required"'+J+'"!!');case u:z=s,F=ne;break;case o:z=l,F=ne;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}ne++}}function b(I,F,P){for(var k=I.tagName,U=null,K=I.length;K--;){var O=I[K],X=O.qName,J=O.value,B=X.indexOf(":");if(B>0)var Y=O.prefix=X.slice(0,B),ne=X.slice(B+1),z=Y==="xmlns"&&ne;else ne=X,Y=null,z=X==="xmlns"&&"";O.localName=ne,z!==!1&&(U==null&&(U={},E(P,P={})),P[z]=U[z]=J,O.uri=t.XMLNS,F.startPrefixMapping(z,J))}for(var K=I.length;K--;){O=I[K];var Y=O.prefix;Y&&(Y==="xml"&&(O.uri=t.XML),Y!=="xmlns"&&(O.uri=P[Y||""]))}var B=k.indexOf(":");B>0?(Y=I.prefix=k.slice(0,B),ne=I.localName=k.slice(B+1)):(Y=null,ne=I.localName=k);var j=I.uri=P[Y||""];if(F.startElement(j,ne,k,I),I.closed){if(F.endElement(j,ne,k),U)for(Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&F.endPrefixMapping(Y)}else return I.currentNSMap=P,I.localNSMap=U,!0}function x(I,F,P,k,U){if(/^(?:script|textarea)$/i.test(P)){var O=I.indexOf("</"+P+">",F),X=I.substring(F+1,O);if(/[&<]/.test(X))return/^script$/i.test(P)?(U.characters(X,0,X.length),O):(X=X.replace(/&#?\w+;/g,k),U.characters(X,0,X.length),O)}return F+1}function w(I,F,P,k){var U=k[P];return U==null&&(U=I.lastIndexOf("</"+P+">"),U<F&&(U=I.lastIndexOf("</"+P)),k[P]=U),U<F}function E(I,F){for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(F[P]=I[P])}function S(I,F,P,k){var U=I.charAt(F+2);switch(U){case"-":if(I.charAt(F+3)==="-"){var O=I.indexOf("-->",F+4);return O>F?(P.comment(I,F+4,O-F-4),O+3):(k.error("Unclosed comment"),-1)}else return-1;default:if(I.substr(F+3,6)=="CDATA["){var O=I.indexOf("]]>",F+9);return P.startCDATA(),P.characters(I,F+9,O-F-9),P.endCDATA(),O+3}var X=N(I,F),J=X.length;if(J>1&&/!doctype/i.test(X[0][0])){var Y=X[1][0],ne=!1,z=!1;J>3&&(/^public$/i.test(X[2][0])?(ne=X[3][0],z=J>4&&X[4][0]):/^system$/i.test(X[2][0])&&(z=X[3][0]));var K=X[J-1];return P.startDTD(Y,ne,z),P.endDTD(),K.index+K[0].length}}return-1}function R(I,F,P){var k=I.indexOf("?>",F);if(k){var U=I.substring(F,k).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return U?(U[0].length,P.processingInstruction(U[1],U[2]),k+2):-1}return-1}function D(){this.attributeNames={}}D.prototype={setTagName:function(I){if(!r.test(I))throw new Error("invalid tagName:"+I);this.tagName=I},addValue:function(I,F,P){if(!r.test(I))throw new Error("invalid attribute:"+I);this.attributeNames[I]=this.length,this[this.length++]={qName:I,value:F,offset:P}},length:0,getLocalName:function(I){return this[I].localName},getLocator:function(I){return this[I].locator},getQName:function(I){return this[I].qName},getURI:function(I){return this[I].uri},getValue:function(I){return this[I].value}};function N(I,F){var P,k=[],U=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(U.lastIndex=F,U.exec(I);P=U.exec(I);)if(k.push(P),P[1])return k}return $1.XMLReader=p,$1.ParseError=h,$1}var qL;function lMe(){if(qL)return e0;qL=1;var t=qw(),e=V6(),n=aMe(),r=oMe(),i=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(y){return y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(y){this.options=y||{locator:{}}}c.prototype.parseFromString=function(y,b){var x=this.options,w=new o,E=x.domBuilder||new f,S=x.errorHandler,R=x.locator,D=x.xmlns||{},N=/\/x?html?$/.test(b),I=N?n.HTML_ENTITIES:n.XML_ENTITIES;R&&E.setDocumentLocator(R),w.errorHandler=u(S,E,R),w.domBuilder=x.domBuilder||E,N&&(D[""]=s.HTML),D.xml=D.xml||s.XML;var F=x.normalizeLineEndings||l;return y&&typeof y=="string"?w.parse(F(y),D,I):w.errorHandler.error("invalid doc source"),E.doc};function u(y,b,x){if(!y){if(b instanceof f)return b;y=b}var w={},E=y instanceof Function;x=x||{};function S(R){var D=y[R];!D&&E&&(D=y.length==2?function(N){y(R,N)}:y),w[R]=D&&function(N){D("[xmldom "+R+"]	"+N+p(x))}||function(){}}return S("warning"),S("error"),S("fatalError"),w}function f(){this.cdata=!1}function h(y,b){b.lineNumber=y.lineNumber,b.columnNumber=y.columnNumber}f.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(y,b,x,w){var E=this.doc,S=E.createElementNS(y,x||b),R=w.length;g(this,S),this.currentElement=S,this.locator&&h(this.locator,S);for(var D=0;D<R;D++){var y=w.getURI(D),N=w.getValue(D),x=w.getQName(D),I=E.createAttributeNS(y,x);this.locator&&h(w.getLocator(D),I),I.value=I.nodeValue=N,S.setAttributeNode(I)}},endElement:function(y,b,x){var w=this.currentElement;w.tagName,this.currentElement=w.parentNode},startPrefixMapping:function(y,b){},endPrefixMapping:function(y){},processingInstruction:function(y,b){var x=this.doc.createProcessingInstruction(y,b);this.locator&&h(this.locator,x),g(this,x)},ignorableWhitespace:function(y,b,x){},characters:function(y,b,x){if(y=v.apply(this,arguments),y){if(this.cdata)var w=this.doc.createCDATASection(y);else var w=this.doc.createTextNode(y);this.currentElement?this.currentElement.appendChild(w):/^\s*$/.test(y)&&this.doc.appendChild(w),this.locator&&h(this.locator,w)}},skippedEntity:function(y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(y){(this.locator=y)&&(y.lineNumber=0)},comment:function(y,b,x){y=v.apply(this,arguments);var w=this.doc.createComment(y);this.locator&&h(this.locator,w),g(this,w)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(y,b,x){var w=this.doc.implementation;if(w&&w.createDocumentType){var E=w.createDocumentType(y,b,x);this.locator&&h(this.locator,E),g(this,E),this.doc.doctype=E}},warning:function(y){console.warn("[xmldom warning]	"+y,p(this.locator))},error:function(y){console.error("[xmldom error]	"+y,p(this.locator))},fatalError:function(y){throw new a(y,this.locator)}};function p(y){if(y)return`
@`+(y.systemId||"")+"#[line:"+y.lineNumber+",col:"+y.columnNumber+"]"}function v(y,b,x){return typeof y=="string"?y.substr(b,x):y.length>=b+x||b?new java.lang.String(y,b,x)+"":y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(y){f.prototype[y]=function(){return null}});function g(y,b){y.currentElement?y.currentElement.appendChild(b):y.doc.appendChild(b)}return e0.__DOMHandler=f,e0.normalizeLineEndings=l,e0.DOMParser=c,e0}var zL;function cMe(){if(zL)return Zg;zL=1;var t=V6();return Zg.DOMImplementation=t.DOMImplementation,Zg.XMLSerializer=t.XMLSerializer,Zg.DOMParser=lMe().DOMParser,Zg}var HL;function uMe(){if(HL)return H1;HL=1;var t=cMe(),e=V6();function n(r){var i=null,s=new t.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return H1.parseFromString=n,H1.Node=e.Node,H1}var $L;function dMe(){if($L)return GD;$L=1;var t=dd(),e=ei,n=uMe(),r=RY(),i=r.Element;GD.readString=a;var s=n.Node;function a(o,l){l=l||{};try{var c=n.parseFromString(o,"text/xml")}catch(p){return t.reject(p)}if(c.documentElement.tagName==="parsererror")return t.resolve(new Error(c.documentElement.textContent));function u(p){switch(p.nodeType){case s.ELEMENT_NODE:return f(p);case s.TEXT_NODE:return r.text(p.nodeValue)}}function f(p){var v=h(p),g=[];e.forEach(p.childNodes,function(b){var x=u(b);x&&g.push(x)});var y={};return e.forEach(p.attributes,function(b){y[h(b)]=b.value}),new i(v,y,g)}function h(p){if(p.namespaceURI){var v=l[p.namespaceURI],g;return v?g=v+":":g="{"+p.namespaceURI+"}",g+p.localName}else return p.localName}return t.resolve(u(c.documentElement))}return GD}var XD={},Fd={},tl={},GL;function fd(){return GL||(GL=1,(function(){var t,e,n,r,i,s,a,o=[].slice,l={}.hasOwnProperty;t=function(){var c,u,f,h,p,v;if(v=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,f=p.length;c<f;c++)if(h=p[c],h!=null)for(u in h)l.call(h,u)&&(v[u]=h[u]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var u;return!!c&&((u=typeof c)=="function"||u==="object")},n=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var u;if(n(c))return!c.length;for(u in c)if(l.call(c,u))return!1;return!0},a=function(c){var u,f;return s(c)&&(f=Object.getPrototypeOf(c))&&(u=f.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},tl.assign=t,tl.isFunction=i,tl.isObject=s,tl.isArray=n,tl.isEmpty=r,tl.isPlainObject=a,tl.getValue=e}).call(tl)),tl}var _2={exports:{}},b2={exports:{}},w2={exports:{}},T2={exports:{}},fMe=T2.exports,KL;function PY(){return KL||(KL=1,(function(){T2.exports=(function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t})()}).call(fMe)),T2.exports}var hMe=w2.exports,XL;function zw(){return XL||(XL=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=fd(),i=s.isObject,r=s.isFunction,n=s.getValue,e=ca(),t=PY(),w2.exports=(function(l){a(c,l);function c(u,f,h){if(c.__super__.constructor.call(this,u),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return c.prototype.clone=function(){var u,f,h,p;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},p=this.attributes;for(f in p)o.call(p,f)&&(u=p[f],h.attributes[f]=u.clone());return h.children=[],this.children.forEach(function(v){var g;return g=v.clone(),g.parent=h,h.children.push(g)}),h},c.prototype.attribute=function(u,f){var h,p;if(u!=null&&(u=n(u)),i(u))for(h in u)o.call(u,h)&&(p=u[h],this.attribute(h,p));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[u]=new t(this,u,f));return this},c.prototype.removeAttribute=function(u){var f,h,p;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=n(u),Array.isArray(u))for(h=0,p=u.length;h<p;h++)f=u[h],delete this.attributes[f];else delete this.attributes[u];return this},c.prototype.toString=function(u){return this.options.writer.set(u).element(this)},c.prototype.att=function(u,f){return this.attribute(u,f)},c.prototype.a=function(u,f){return this.attribute(u,f)},c})(e)}).call(hMe)),w2.exports}var E2={exports:{}},pMe=E2.exports,JL;function Hw(){return JL||(JL=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),E2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i})(t)}).call(pMe)),E2.exports}var C2={exports:{}},mMe=C2.exports,YL;function $w(){return YL||(YL=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),C2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i})(t)}).call(mMe)),C2.exports}var S2={exports:{}},gMe=S2.exports,QL;function Gw(){return QL||(QL=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=fd().isObject,t=ca(),S2.exports=(function(i){n(s,i);function s(a,o,l,c){var u;s.__super__.constructor.call(this,a),e(o)&&(u=o,o=u.version,l=u.encoding,c=u.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(t)}).call(gMe)),S2.exports}var D2={exports:{}},A2={exports:{}},yMe=A2.exports,ZL;function Kw(){return ZL||(ZL=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),A2.exports=(function(r){e(i,r);function i(s,a,o,l,c,u){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(u&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=c}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i})(t)}).call(yMe)),A2.exports}var N2={exports:{}},vMe=N2.exports,ej;function Xw(){return ej||(ej=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=fd().isObject,t=ca(),N2.exports=(function(i){n(s,i);function s(a,o,l,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(t)}).call(vMe)),N2.exports}var k2={exports:{}},xMe=k2.exports,tj;function Jw(){return tj||(tj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),k2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i})(t)}).call(xMe)),k2.exports}var I2={exports:{}},_Me=I2.exports,nj;function Yw(){return nj||(nj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),I2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i})(t)}).call(_Me)),I2.exports}var bMe=D2.exports,rj;function Qw(){return rj||(rj=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var u in c)o.call(c,u)&&(l[u]=c[u]);function f(){this.constructor=l}return f.prototype=c.prototype,l.prototype=new f,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=fd().isObject,i=ca(),t=Kw(),n=Xw(),e=Jw(),r=Yw(),D2.exports=(function(l){a(c,l);function c(u,f,h){var p,v;c.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,s(f)&&(p=f,f=p.pubID,h=p.sysID),h==null&&(v=[f,h],h=v[0],f=v[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return c.prototype.element=function(u,f){var h;return h=new e(this,u,f),this.children.push(h),this},c.prototype.attList=function(u,f,h,p,v){var g;return g=new t(this,u,f,h,p,v),this.children.push(g),this},c.prototype.entity=function(u,f){var h;return h=new n(this,!1,u,f),this.children.push(h),this},c.prototype.pEntity=function(u,f){var h;return h=new n(this,!0,u,f),this.children.push(h),this},c.prototype.notation=function(u,f){var h;return h=new r(this,u,f),this.children.push(h),this},c.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},c.prototype.ele=function(u,f){return this.element(u,f)},c.prototype.att=function(u,f,h,p,v){return this.attList(u,f,h,p,v)},c.prototype.ent=function(u,f){return this.entity(u,f)},c.prototype.pent=function(u,f){return this.pEntity(u,f)},c.prototype.not=function(u,f){return this.notation(u,f)},c.prototype.up=function(){return this.root()||this.documentObject},c})(i)}).call(bMe)),D2.exports}var R2={exports:{}},wMe=R2.exports,ij;function Zw(){return ij||(ij=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),R2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i})(t)}).call(wMe)),R2.exports}var P2={exports:{}},TMe=P2.exports,sj;function eT(){return sj||(sj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),P2.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i})(t)}).call(TMe)),P2.exports}var F2={exports:{}},EMe=F2.exports,aj;function tT(){return aj||(aj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),F2.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i})(t)}).call(EMe)),F2.exports}var M2={exports:{}},CMe=M2.exports,oj;function W6(){return oj||(oj=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=ca(),M2.exports=(function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i})(t)}).call(CMe)),M2.exports}var SMe=b2.exports,lj;function ca(){return lj||(lj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v={}.hasOwnProperty;p=fd(),h=p.isObject,f=p.isFunction,u=p.isEmpty,c=p.getValue,s=null,t=null,e=null,n=null,r=null,o=null,l=null,a=null,i=null,b2.exports=(function(){function g(y){this.parent=y,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=zw(),t=Hw(),e=$w(),n=Gw(),r=Qw(),o=Zw(),l=eT(),a=tT(),i=W6())}return g.prototype.element=function(y,b,x){var w,E,S,R,D,N,I,F,P,k,U;if(N=null,b===null&&x==null&&(P=[{},null],b=P[0],x=P[1]),b==null&&(b={}),b=c(b),h(b)||(k=[b,x],x=k[0],b=k[1]),y!=null&&(y=c(y)),Array.isArray(y))for(S=0,I=y.length;S<I;S++)E=y[S],N=this.element(E);else if(f(y))N=this.element(y.apply());else if(h(y)){for(D in y)if(v.call(y,D))if(U=y[D],f(U)&&(U=U.apply()),h(U)&&u(U)&&(U=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)N=this.attribute(D.substr(this.stringify.convertAttKey.length),U);else if(!this.options.separateArrayItems&&Array.isArray(U))for(R=0,F=U.length;R<F;R++)E=U[R],w={},w[D]=E,N=this.element(w);else h(U)?(N=this.element(D),N.element(U)):N=this.element(D,U)}else this.options.skipNullNodes&&x===null?N=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&y.indexOf(this.stringify.convertTextKey)===0?N=this.text(x):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&y.indexOf(this.stringify.convertCDataKey)===0?N=this.cdata(x):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&y.indexOf(this.stringify.convertCommentKey)===0?N=this.comment(x):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&y.indexOf(this.stringify.convertRawKey)===0?N=this.raw(x):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&y.indexOf(this.stringify.convertPIKey)===0?N=this.instruction(y.substr(this.stringify.convertPIKey.length),x):N=this.node(y,b,x);if(N==null)throw new Error("Could not create any elements with: "+y+". "+this.debugInfo());return N},g.prototype.insertBefore=function(y,b,x){var w,E,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return E=this.parent.children.indexOf(this),S=this.parent.children.splice(E),w=this.parent.element(y,b,x),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.insertAfter=function(y,b,x){var w,E,S;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(y));return E=this.parent.children.indexOf(this),S=this.parent.children.splice(E+1),w=this.parent.element(y,b,x),Array.prototype.push.apply(this.parent.children,S),w},g.prototype.remove=function(){var y;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return y=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[y,y-y+1].concat([])),this.parent},g.prototype.node=function(y,b,x){var w,E;return y!=null&&(y=c(y)),b||(b={}),b=c(b),h(b)||(E=[b,x],x=E[0],b=E[1]),w=new s(this,y,b),x!=null&&w.text(x),this.children.push(w),w},g.prototype.text=function(y){var b;return b=new l(this,y),this.children.push(b),this},g.prototype.cdata=function(y){var b;return b=new t(this,y),this.children.push(b),this},g.prototype.comment=function(y){var b;return b=new e(this,y),this.children.push(b),this},g.prototype.commentBefore=function(y){var b,x;return b=this.parent.children.indexOf(this),x=this.parent.children.splice(b),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.commentAfter=function(y){var b,x;return b=this.parent.children.indexOf(this),x=this.parent.children.splice(b+1),this.parent.comment(y),Array.prototype.push.apply(this.parent.children,x),this},g.prototype.raw=function(y){var b;return b=new o(this,y),this.children.push(b),this},g.prototype.dummy=function(){var y;return y=new i(this),this.children.push(y),y},g.prototype.instruction=function(y,b){var x,w,E,S,R;if(y!=null&&(y=c(y)),b!=null&&(b=c(b)),Array.isArray(y))for(S=0,R=y.length;S<R;S++)x=y[S],this.instruction(x);else if(h(y))for(x in y)v.call(y,x)&&(w=y[x],this.instruction(x,w));else f(b)&&(b=b.apply()),E=new a(this,y,b),this.children.push(E);return this},g.prototype.instructionBefore=function(y,b){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x),this.parent.instruction(y,b),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.instructionAfter=function(y,b){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x+1),this.parent.instruction(y,b),Array.prototype.push.apply(this.parent.children,w),this},g.prototype.declaration=function(y,b,x){var w,E;return w=this.document(),E=new n(w,y,b,x),w.children[0]instanceof n?w.children[0]=E:w.children.unshift(E),w.root()||w},g.prototype.doctype=function(y,b){var x,w,E,S,R,D,N,I,F,P;for(w=this.document(),E=new r(w,y,b),F=w.children,S=R=0,N=F.length;R<N;S=++R)if(x=F[S],x instanceof r)return w.children[S]=E,E;for(P=w.children,S=D=0,I=P.length;D<I;S=++D)if(x=P[S],x.isRoot)return w.children.splice(S,0,E),E;return w.children.push(E),E},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var y;for(y=this;y;){if(y.isDocument)return y.rootObject;if(y.isRoot)return y;y=y.parent}},g.prototype.document=function(){var y;for(y=this;y;){if(y.isDocument)return y;y=y.parent}},g.prototype.end=function(y){return this.document().end(y)},g.prototype.prev=function(){var y;for(y=this.parent.children.indexOf(this);y>0&&this.parent.children[y-1].isDummy;)y=y-1;if(y<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[y-1]},g.prototype.next=function(){var y;for(y=this.parent.children.indexOf(this);y<this.parent.children.length-1&&this.parent.children[y+1].isDummy;)y=y+1;if(y===-1||y===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[y+1]},g.prototype.importDocument=function(y){var b;return b=y.root().clone(),b.parent=this,b.isRoot=!1,this.children.push(b),this},g.prototype.debugInfo=function(y){var b,x;return y=y||this.name,y==null&&!((b=this.parent)!=null&&b.name)?"":y==null?"parent: <"+this.parent.name+">":(x=this.parent)!=null&&x.name?"node: <"+y+">, parent: <"+this.parent.name+">":"node: <"+y+">"},g.prototype.ele=function(y,b,x){return this.element(y,b,x)},g.prototype.nod=function(y,b,x){return this.node(y,b,x)},g.prototype.txt=function(y){return this.text(y)},g.prototype.dat=function(y){return this.cdata(y)},g.prototype.com=function(y){return this.comment(y)},g.prototype.ins=function(y,b){return this.instruction(y,b)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(y,b,x){return this.declaration(y,b,x)},g.prototype.dtd=function(y,b){return this.doctype(y,b)},g.prototype.e=function(y,b,x){return this.element(y,b,x)},g.prototype.n=function(y,b,x){return this.node(y,b,x)},g.prototype.t=function(y){return this.text(y)},g.prototype.d=function(y){return this.cdata(y)},g.prototype.c=function(y){return this.comment(y)},g.prototype.r=function(y){return this.raw(y)},g.prototype.i=function(y,b){return this.instruction(y,b)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(y){return this.importDocument(y)},g})()}).call(SMe)),b2.exports}var U2={exports:{}},DMe=U2.exports,cj;function FY(){return cj||(cj=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;U2.exports=(function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(DMe)),U2.exports}var O2={exports:{}},L2={exports:{}},AMe=L2.exports,uj;function MY(){return uj||(uj=1,(function(){var t={}.hasOwnProperty;L2.exports=(function(){function e(n){var r,i,s,a,o,l,c,u,f;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(a=n.newline)!=null?a:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=n.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=n.writer||{};for(r in u)t.call(u,r)&&(f=u[r],this[r]=f)}return e.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)t.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e})()}).call(AMe)),L2.exports}var NMe=O2.exports,dj;function q6(){return dj||(dj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,b){for(var x in b)g.call(b,x)&&(y[x]=b[x]);function w(){this.constructor=y}return w.prototype=b.prototype,y.prototype=new w,y.__super__=b.prototype,y},g={}.hasOwnProperty;a=Gw(),o=Qw(),t=Hw(),e=$w(),c=zw(),f=Zw(),h=eT(),u=tT(),l=W6(),n=Kw(),r=Jw(),i=Xw(),s=Yw(),p=MY(),O2.exports=(function(y){v(b,y);function b(x){b.__super__.constructor.call(this,x)}return b.prototype.document=function(x){var w,E,S,R,D;for(this.textispresent=!1,R="",D=x.children,E=0,S=D.length;E<S;E++)w=D[E],!(w instanceof l)&&(R+=(function(){switch(!1){case!(w instanceof a):return this.declaration(w);case!(w instanceof o):return this.docType(w);case!(w instanceof e):return this.comment(w);case!(w instanceof u):return this.processingInstruction(w);default:return this.element(w,0)}}).call(this));return this.pretty&&R.slice(-this.newline.length)===this.newline&&(R=R.slice(0,-this.newline.length)),R},b.prototype.attribute=function(x){return" "+x.name+'="'+x.value+'"'},b.prototype.cdata=function(x,w){return this.space(w)+"<![CDATA["+x.text+"]]>"+this.newline},b.prototype.comment=function(x,w){return this.space(w)+"<!-- "+x.text+" -->"+this.newline},b.prototype.declaration=function(x,w){var E;return E=this.space(w),E+='<?xml version="'+x.version+'"',x.encoding!=null&&(E+=' encoding="'+x.encoding+'"'),x.standalone!=null&&(E+=' standalone="'+x.standalone+'"'),E+=this.spacebeforeslash+"?>",E+=this.newline,E},b.prototype.docType=function(x,w){var E,S,R,D,N;if(w||(w=0),D=this.space(w),D+="<!DOCTYPE "+x.root().name,x.pubID&&x.sysID?D+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(D+=' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(D+=" [",D+=this.newline,N=x.children,S=0,R=N.length;S<R;S++)E=N[S],D+=(function(){switch(!1){case!(E instanceof n):return this.dtdAttList(E,w+1);case!(E instanceof r):return this.dtdElement(E,w+1);case!(E instanceof i):return this.dtdEntity(E,w+1);case!(E instanceof s):return this.dtdNotation(E,w+1);case!(E instanceof t):return this.cdata(E,w+1);case!(E instanceof e):return this.comment(E,w+1);case!(E instanceof u):return this.processingInstruction(E,w+1);default:throw new Error("Unknown DTD node type: "+E.constructor.name)}}).call(this);D+="]"}return D+=this.spacebeforeslash+">",D+=this.newline,D},b.prototype.element=function(x,w){var E,S,R,D,N,I,F,P,k,U,O,X,J;w||(w=0),J=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),X=this.space(w),P="",P+=X+"<"+x.name,k=x.attributes;for(F in k)g.call(k,F)&&(E=k[F],P+=this.attribute(E));if(x.children.length===0||x.children.every(function(Y){return Y.value===""}))this.allowEmpty?P+="></"+x.name+">"+this.newline:P+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)P+=">",P+=x.children[0].value,P+="</"+x.name+">"+this.newline;else{if(this.dontprettytextnodes){for(U=x.children,R=0,N=U.length;R<N;R++)if(S=U[R],S.value!=null){this.textispresent++,J=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,X=this.space(w)),P+=">"+this.newline,O=x.children,D=0,I=O.length;D<I;D++)S=O[D],P+=(function(){switch(!1){case!(S instanceof t):return this.cdata(S,w+1);case!(S instanceof e):return this.comment(S,w+1);case!(S instanceof c):return this.element(S,w+1);case!(S instanceof f):return this.raw(S,w+1);case!(S instanceof h):return this.text(S,w+1);case!(S instanceof u):return this.processingInstruction(S,w+1);case!(S instanceof l):return"";default:throw new Error("Unknown XML node type: "+S.constructor.name)}}).call(this);J&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),P+=X+"</"+x.name+">"+this.newline}return P},b.prototype.processingInstruction=function(x,w){var E;return E=this.space(w)+"<?"+x.target,x.value&&(E+=" "+x.value),E+=this.spacebeforeslash+"?>"+this.newline,E},b.prototype.raw=function(x,w){return this.space(w)+x.value+this.newline},b.prototype.text=function(x,w){return this.space(w)+x.value+this.newline},b.prototype.dtdAttList=function(x,w){var E;return E=this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType,x.defaultValueType!=="#DEFAULT"&&(E+=" "+x.defaultValueType),x.defaultValue&&(E+=' "'+x.defaultValue+'"'),E+=this.spacebeforeslash+">"+this.newline,E},b.prototype.dtdElement=function(x,w){return this.space(w)+"<!ELEMENT "+x.name+" "+x.value+this.spacebeforeslash+">"+this.newline},b.prototype.dtdEntity=function(x,w){var E;return E=this.space(w)+"<!ENTITY",x.pe&&(E+=" %"),E+=" "+x.name,x.value?E+=' "'+x.value+'"':(x.pubID&&x.sysID?E+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(E+=' SYSTEM "'+x.sysID+'"'),x.nData&&(E+=" NDATA "+x.nData)),E+=this.spacebeforeslash+">"+this.newline,E},b.prototype.dtdNotation=function(x,w){var E;return E=this.space(w)+"<!NOTATION "+x.name,x.pubID&&x.sysID?E+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.pubID?E+=' PUBLIC "'+x.pubID+'"':x.sysID&&(E+=' SYSTEM "'+x.sysID+'"'),E+=this.spacebeforeslash+">"+this.newline,E},b.prototype.openNode=function(x,w){var E,S,R,D;if(w||(w=0),x instanceof c){R=this.space(w)+"<"+x.name,D=x.attributes;for(S in D)g.call(D,S)&&(E=D[S],R+=this.attribute(E));return R+=(x.children?">":"/>")+this.newline,R}else return R=this.space(w)+"<!DOCTYPE "+x.rootNodeName,x.pubID&&x.sysID?R+=' PUBLIC "'+x.pubID+'" "'+x.sysID+'"':x.sysID&&(R+=' SYSTEM "'+x.sysID+'"'),R+=(x.children?" [":">")+this.newline,R},b.prototype.closeNode=function(x,w){switch(w||(w=0),!1){case!(x instanceof c):return this.space(w)+"</"+x.name+">"+this.newline;case!(x instanceof o):return this.space(w)+"]>"+this.newline}},b})(p)}).call(NMe)),O2.exports}var kMe=_2.exports,fj;function IMe(){return fj||(fj=1,(function(){var t,e,n,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function c(){this.constructor=a}return c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=fd().isPlainObject,t=ca(),n=FY(),e=q6(),_2.exports=(function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return o.prototype.end=function(l){var c;return l?r(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(t)}).call(kMe)),_2.exports}var j2={exports:{}},RMe=j2.exports,hj;function PMe(){return hj||(hj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v,g,y,b,x,w,E={}.hasOwnProperty;w=fd(),b=w.isObject,y=w.isFunction,x=w.isPlainObject,g=w.getValue,c=zw(),e=Hw(),n=$w(),f=Zw(),v=eT(),u=tT(),o=Gw(),l=Qw(),r=Kw(),s=Xw(),i=Jw(),a=Yw(),t=PY(),p=FY(),h=q6(),j2.exports=(function(){function S(R,D,N){var I;this.name="?xml",R||(R={}),R.writer?x(R.writer)&&(I=R.writer,R.writer=new h(I)):R.writer=new h(R),this.options=R,this.writer=R.writer,this.stringify=new p(R),this.onDataCallback=D||function(){},this.onEndCallback=N||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return S.prototype.node=function(R,D,N){var I,F;if(R==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(R));return this.openCurrent(),R=g(R),D===null&&N==null&&(I=[{},null],D=I[0],N=I[1]),D==null&&(D={}),D=g(D),b(D)||(F=[D,N],N=F[0],D=F[1]),this.currentNode=new c(this,R,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,N!=null&&this.text(N),this},S.prototype.element=function(R,D,N){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(R,D,N)},S.prototype.attribute=function(R,D){var N,I;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(R));if(R!=null&&(R=g(R)),b(R))for(N in R)E.call(R,N)&&(I=R[N],this.attribute(N,I));else y(D)&&(D=D.apply()),(!this.options.skipNullAttributes||D!=null)&&(this.currentNode.attributes[R]=new t(this,R,D));return this},S.prototype.text=function(R){var D;return this.openCurrent(),D=new v(this,R),this.onData(this.writer.text(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.cdata=function(R){var D;return this.openCurrent(),D=new e(this,R),this.onData(this.writer.cdata(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.comment=function(R){var D;return this.openCurrent(),D=new n(this,R),this.onData(this.writer.comment(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.raw=function(R){var D;return this.openCurrent(),D=new f(this,R),this.onData(this.writer.raw(D,this.currentLevel+1),this.currentLevel+1),this},S.prototype.instruction=function(R,D){var N,I,F,P,k;if(this.openCurrent(),R!=null&&(R=g(R)),D!=null&&(D=g(D)),Array.isArray(R))for(N=0,P=R.length;N<P;N++)I=R[N],this.instruction(I);else if(b(R))for(I in R)E.call(R,I)&&(F=R[I],this.instruction(I,F));else y(D)&&(D=D.apply()),k=new u(this,R,D),this.onData(this.writer.processingInstruction(k,this.currentLevel+1),this.currentLevel+1);return this},S.prototype.declaration=function(R,D,N){var I;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return I=new o(this,R,D,N),this.onData(this.writer.declaration(I,this.currentLevel+1),this.currentLevel+1),this},S.prototype.doctype=function(R,D,N){if(this.openCurrent(),R==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,D,N),this.currentNode.rootNodeName=R,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},S.prototype.dtdElement=function(R,D){var N;return this.openCurrent(),N=new i(this,R,D),this.onData(this.writer.dtdElement(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.attList=function(R,D,N,I,F){var P;return this.openCurrent(),P=new r(this,R,D,N,I,F),this.onData(this.writer.dtdAttList(P,this.currentLevel+1),this.currentLevel+1),this},S.prototype.entity=function(R,D){var N;return this.openCurrent(),N=new s(this,!1,R,D),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.pEntity=function(R,D){var N;return this.openCurrent(),N=new s(this,!0,R,D),this.onData(this.writer.dtdEntity(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.notation=function(R,D){var N;return this.openCurrent(),N=new a(this,R,D),this.onData(this.writer.dtdNotation(N,this.currentLevel+1),this.currentLevel+1),this},S.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},S.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},S.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},S.prototype.openNode=function(R){if(!R.isOpen)return!this.root&&this.currentLevel===0&&R instanceof c&&(this.root=R),this.onData(this.writer.openNode(R,this.currentLevel),this.currentLevel),R.isOpen=!0},S.prototype.closeNode=function(R){if(!R.isClosed)return this.onData(this.writer.closeNode(R,this.currentLevel),this.currentLevel),R.isClosed=!0},S.prototype.onData=function(R,D){return this.documentStarted=!0,this.onDataCallback(R,D+1)},S.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},S.prototype.debugInfo=function(R){return R==null?"":"node: <"+R+">"},S.prototype.ele=function(){return this.element.apply(this,arguments)},S.prototype.nod=function(R,D,N){return this.node(R,D,N)},S.prototype.txt=function(R){return this.text(R)},S.prototype.dat=function(R){return this.cdata(R)},S.prototype.com=function(R){return this.comment(R)},S.prototype.ins=function(R,D){return this.instruction(R,D)},S.prototype.dec=function(R,D,N){return this.declaration(R,D,N)},S.prototype.dtd=function(R,D,N){return this.doctype(R,D,N)},S.prototype.e=function(R,D,N){return this.element(R,D,N)},S.prototype.n=function(R,D,N){return this.node(R,D,N)},S.prototype.t=function(R){return this.text(R)},S.prototype.d=function(R){return this.cdata(R)},S.prototype.c=function(R){return this.comment(R)},S.prototype.r=function(R){return this.raw(R)},S.prototype.i=function(R,D){return this.instruction(R,D)},S.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.ent=function(R,D){return this.entity(R,D)},S.prototype.pent=function(R,D){return this.pEntity(R,D)},S.prototype.not=function(R,D){return this.notation(R,D)},S})()}).call(RMe)),j2.exports}var B2={exports:{}},FMe=B2.exports,pj;function MMe(){return pj||(pj=1,(function(){var t,e,n,r,i,s,a,o,l,c,u,f,h,p,v=function(y,b){for(var x in b)g.call(b,x)&&(y[x]=b[x]);function w(){this.constructor=y}return w.prototype=b.prototype,y.prototype=new w,y.__super__=b.prototype,y},g={}.hasOwnProperty;a=Gw(),o=Qw(),t=Hw(),e=$w(),c=zw(),f=Zw(),h=eT(),u=tT(),l=W6(),n=Kw(),r=Jw(),i=Xw(),s=Yw(),p=MY(),B2.exports=(function(y){v(b,y);function b(x,w){b.__super__.constructor.call(this,w),this.stream=x}return b.prototype.document=function(x){var w,E,S,R,D,N,I,F;for(N=x.children,E=0,R=N.length;E<R;E++)w=N[E],w.isLastRootNode=!1;for(x.children[x.children.length-1].isLastRootNode=!0,I=x.children,F=[],S=0,D=I.length;S<D;S++)if(w=I[S],!(w instanceof l))switch(!1){case!(w instanceof a):F.push(this.declaration(w));break;case!(w instanceof o):F.push(this.docType(w));break;case!(w instanceof e):F.push(this.comment(w));break;case!(w instanceof u):F.push(this.processingInstruction(w));break;default:F.push(this.element(w))}return F},b.prototype.attribute=function(x){return this.stream.write(" "+x.name+'="'+x.value+'"')},b.prototype.cdata=function(x,w){return this.stream.write(this.space(w)+"<![CDATA["+x.text+"]]>"+this.endline(x))},b.prototype.comment=function(x,w){return this.stream.write(this.space(w)+"<!-- "+x.text+" -->"+this.endline(x))},b.prototype.declaration=function(x,w){return this.stream.write(this.space(w)),this.stream.write('<?xml version="'+x.version+'"'),x.encoding!=null&&this.stream.write(' encoding="'+x.encoding+'"'),x.standalone!=null&&this.stream.write(' standalone="'+x.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(x))},b.prototype.docType=function(x,w){var E,S,R,D;if(w||(w=0),this.stream.write(this.space(w)),this.stream.write("<!DOCTYPE "+x.root().name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(x)),D=x.children,S=0,R=D.length;S<R;S++)switch(E=D[S],!1){case!(E instanceof n):this.dtdAttList(E,w+1);break;case!(E instanceof r):this.dtdElement(E,w+1);break;case!(E instanceof i):this.dtdEntity(E,w+1);break;case!(E instanceof s):this.dtdNotation(E,w+1);break;case!(E instanceof t):this.cdata(E,w+1);break;case!(E instanceof e):this.comment(E,w+1);break;case!(E instanceof u):this.processingInstruction(E,w+1);break;default:throw new Error("Unknown DTD node type: "+E.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(x))},b.prototype.element=function(x,w){var E,S,R,D,N,I,F,P;w||(w=0),P=this.space(w),this.stream.write(P+"<"+x.name),I=x.attributes;for(N in I)g.call(I,N)&&(E=I[N],this.attribute(E));if(x.children.length===0||x.children.every(function(k){return k.value===""}))this.allowEmpty?this.stream.write("></"+x.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&x.children.length===1&&x.children[0].value!=null)this.stream.write(">"),this.stream.write(x.children[0].value),this.stream.write("</"+x.name+">");else{for(this.stream.write(">"+this.newline),F=x.children,R=0,D=F.length;R<D;R++)switch(S=F[R],!1){case!(S instanceof t):this.cdata(S,w+1);break;case!(S instanceof e):this.comment(S,w+1);break;case!(S instanceof c):this.element(S,w+1);break;case!(S instanceof f):this.raw(S,w+1);break;case!(S instanceof h):this.text(S,w+1);break;case!(S instanceof u):this.processingInstruction(S,w+1);break;case!(S instanceof l):break;default:throw new Error("Unknown XML node type: "+S.constructor.name)}this.stream.write(P+"</"+x.name+">")}return this.stream.write(this.endline(x))},b.prototype.processingInstruction=function(x,w){return this.stream.write(this.space(w)+"<?"+x.target),x.value&&this.stream.write(" "+x.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(x))},b.prototype.raw=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},b.prototype.text=function(x,w){return this.stream.write(this.space(w)+x.value+this.endline(x))},b.prototype.dtdAttList=function(x,w){return this.stream.write(this.space(w)+"<!ATTLIST "+x.elementName+" "+x.attributeName+" "+x.attributeType),x.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+x.defaultValueType),x.defaultValue&&this.stream.write(' "'+x.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},b.prototype.dtdElement=function(x,w){return this.stream.write(this.space(w)+"<!ELEMENT "+x.name+" "+x.value),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},b.prototype.dtdEntity=function(x,w){return this.stream.write(this.space(w)+"<!ENTITY"),x.pe&&this.stream.write(" %"),this.stream.write(" "+x.name),x.value?this.stream.write(' "'+x.value+'"'):(x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),x.nData&&this.stream.write(" NDATA "+x.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},b.prototype.dtdNotation=function(x,w){return this.stream.write(this.space(w)+"<!NOTATION "+x.name),x.pubID&&x.sysID?this.stream.write(' PUBLIC "'+x.pubID+'" "'+x.sysID+'"'):x.pubID?this.stream.write(' PUBLIC "'+x.pubID+'"'):x.sysID&&this.stream.write(' SYSTEM "'+x.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(x))},b.prototype.endline=function(x){return x.isLastRootNode?"":this.newline},b})(p)}).call(FMe)),B2.exports}var mj;function UMe(){return mj||(mj=1,(function(){var t,e,n,r,i,s,a;a=fd(),i=a.assign,s=a.isFunction,t=IMe(),e=PMe(),r=q6(),n=MMe(),Fd.create=function(o,l,c,u){var f,h;if(o==null)throw new Error("Root element needs a name.");return u=i({},l,c,u),f=new t(u),h=f.element(o),u.headless||(f.declaration(u),(u.pubID!=null||u.sysID!=null)&&f.doctype(u)),h},Fd.begin=function(o,l,c){var u;return s(o)&&(u=[o,l],l=u[0],c=u[1],o={}),l?new e(o,l,c):new t(o)},Fd.stringWriter=function(o){return new r(o)},Fd.streamWriter=function(o,l){return new n(o,l)}}).call(Fd)),Fd}var gj;function OMe(){if(gj)return XD;gj=1;var t=ei,e=UMe();XD.writeString=n;function n(i,s){var a=t.invert(s),o={element:c,text:r};function l(h,p){return o[p.type](h,p)}function c(h,p){var v=h.element(u(p.name),p.attributes);p.children.forEach(function(g){l(v,g)})}function u(h){var p=/^\{(.*)\}(.*)$/.exec(h);if(p){var v=a[p[1]];return v+(v===""?"":":")+p[2]}else return h}function f(h){var p=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(s,function(v,g){var y="xmlns"+(g===""?"":":"+g);p.attribute(y,v)}),h.children.forEach(function(v){l(p,v)}),p.end()}return f(i)}function r(i,s){i.text(s.value)}return XD}var yj;function UY(){if(yj)return Rd;yj=1;var t=RY();return Rd.Element=t.Element,Rd.element=t.element,Rd.text=t.text,Rd.readString=dMe().readString,Rd.writeString=OMe().writeString,Rd}var vj;function LMe(){if(vj)return z1;vj=1;var t=ei,e=dd(),n=UY();z1.read=i,z1.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word"};function i(l){return n.readString(l,r).then(function(c){return o(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=t.flatten(l.children.map(o,!0)),[l]):[l]}return z1}var G1={},Co={},K1={},xj;function jMe(){if(xj)return K1;xj=1,Object.defineProperty(K1,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return K1.default=t,K1}var _j;function BMe(){if(_j)return Co;_j=1;var t=Co&&Co.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Co,"__esModule",{value:!0}),Co.hex=Co.dec=Co.codePoint=void 0;for(var e=t(jMe()),n={},r=String.fromCodePoint?String.fromCodePoint:h,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};n[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function c(p,v){return n[p.toUpperCase()+"_"+v]}Co.codePoint=c;function u(p,v){return c(p,parseInt(v,10))}Co.dec=u;function f(p,v){return c(p,parseInt(v,16))}Co.hex=f;function h(p){if(p<=65535)return String.fromCharCode(p);var v=Math.floor((p-65536)/1024)+55296,g=(p-65536)%1024+56320;return String.fromCharCode(v,g)}return Co}var X1={},bj;function VMe(){if(bj)return X1;bj=1,X1.uriToZipEntryName=t,X1.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return X1}var wj;function WMe(){if(wj)return G1;wj=1,G1.createBodyReader=a,G1._readNumberingProperties=l;var t=BMe(),e=ei,n=uh(),r=xc().Result,i=xc().warning,s=VMe();function a(w){return{readXmlElement:function(E){return new o(w).readXmlElement(E)},readXmlElements:function(E){return new o(w).readXmlElements(E)}}}function o(w){var E=[],S=[],R=[],D=w.relationships,N=w.contentTypes,I=w.docxFile,F=w.files,P=w.numbering,k=w.styles;function U(Te){var Me=Te.map(O);return y(Me)}function O(Te){if(Te.type==="element"){var Me=Le[Te.name];if(Me)return Me(Te);if(!Object.prototype.hasOwnProperty.call(u,Te.name)){var Oe=i("An unrecognised element was ignored: "+Te.name);return f([Oe])}}return h()}function X(Te){return K(Te).map(function(Me){return{type:"paragraphProperties",styleId:Me.styleId,styleName:Me.name,alignment:Te.firstOrEmpty("w:jc").attributes["w:val"],numbering:l(Me.styleId,Te.firstOrEmpty("w:numPr"),P),indent:J(Te.firstOrEmpty("w:ind"))}})}function J(Te){return{start:Te.attributes["w:start"]||Te.attributes["w:left"],end:Te.attributes["w:end"]||Te.attributes["w:right"],firstLine:Te.attributes["w:firstLine"],hanging:Te.attributes["w:hanging"]}}function Y(Te){return B(Te).map(function(Me){var Oe=Te.firstOrEmpty("w:sz").attributes["w:val"],Ge=/^[0-9]+$/.test(Oe)?parseInt(Oe,10)/2:null;return{type:"runProperties",styleId:Me.styleId,styleName:Me.name,verticalAlignment:Te.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Te.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Ge,isBold:z(Te.first("w:b")),isUnderline:ne(Te.first("w:u")),isItalic:z(Te.first("w:i")),isStrikethrough:z(Te.first("w:strike")),isAllCaps:z(Te.first("w:caps")),isSmallCaps:z(Te.first("w:smallCaps"))}})}function ne(Te){if(Te){var Me=Te.attributes["w:val"];return Me!==void 0&&Me!=="false"&&Me!=="0"&&Me!=="none"}else return!1}function z(Te){if(Te){var Me=Te.attributes["w:val"];return Me!=="false"&&Me!=="0"}else return!1}function K(Te){return W(Te,"w:pStyle","Paragraph",k.findParagraphStyleById)}function B(Te){return W(Te,"w:rStyle","Run",k.findCharacterStyleById)}function j(Te){return W(Te,"w:tblStyle","Table",k.findTableStyleById)}function W(Te,Me,Oe,Ge){var nt=[],st=Te.first(Me),Ot=null,wn=null;if(st&&(Ot=st.attributes["w:val"],Ot)){var hn=Ge(Ot);hn?wn=hn.name:nt.push(Ue(Oe,Ot))}return v({styleId:Ot,name:wn},nt)}var H={type:"unknown"};function Q(Te){var Me=Te.attributes["w:fldCharType"];if(Me==="begin")E.push(H),S=[];else if(Me==="end")E.pop();else if(Me==="separate"){var Oe=se(S.join("")),Ge=Oe===null?H:{type:"hyperlink",options:Oe};E.pop(),E.push(Ge)}return h()}function Z(){var Te=e.last(E.filter(function(Me){return Me.type==="hyperlink"}));return Te?Te.options:null}function se(Te){var Me=/\s*HYPERLINK "(.*)"/.exec(Te);if(Me)return{href:Me[1]};var Oe=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Te);return Oe?{anchor:Oe[1]}:null}function ce(Te){return S.push(Te.text()),h()}function ue(Te){var Me=Te.attributes["w:font"],Oe=Te.attributes["w:char"],Ge=t.hex(Me,Oe);return Ge==null&&/^F0..$/.test(Oe)&&(Ge=t.hex(Me,Oe.substring(2))),Ge==null?f([i("A w:sym element with an unsupported character was ignored: char "+Oe+" in font "+Me)]):p(new n.Text(Ge.string))}function Ee(Te){return function(Me){var Oe=Me.attributes["w:id"];return p(new n.NoteReference({noteType:Te,noteId:Oe}))}}function Ie(Te){return p(n.commentReference({commentId:Te.attributes["w:id"]}))}function fe(Te){return U(Te.children)}var Le={"w:p":function(Te){var Me=Te.firstOrEmpty("w:pPr"),Oe=!!Me.firstOrEmpty("w:rPr").first("w:del");if(Oe)return Te.children.forEach(function(nt){R.push(nt)}),h();var Ge=Te.children;return R.length>0&&(Ge=R.concat(Ge),R=[]),g.map(X(Me),U(Ge),function(nt,st){return new n.Paragraph(st,nt)}).insertExtra()},"w:r":function(Te){return g.map(Y(Te.firstOrEmpty("w:rPr")),U(Te.children),function(Me,Oe){var Ge=Z();return Ge!==null&&(Oe=[new n.Hyperlink(Oe,Ge)]),new n.Run(Oe,Me)})},"w:fldChar":Q,"w:instrText":ce,"w:t":function(Te){return p(new n.Text(Te.text()))},"w:tab":function(Te){return p(new n.Tab)},"w:noBreakHyphen":function(){return p(new n.Text(""))},"w:softHyphen":function(Te){return p(new n.Text(""))},"w:sym":ue,"w:hyperlink":function(Te){var Me=Te.attributes["r:id"],Oe=Te.attributes["w:anchor"];return U(Te.children).map(function(Ge){function nt(Ot){var wn=Te.attributes["w:tgtFrame"]||null;return new n.Hyperlink(Ge,e.extend({targetFrame:wn},Ot))}if(Me){var st=D.findTargetByRelationshipId(Me);return Oe&&(st=s.replaceFragment(st,Oe)),nt({href:st})}else return Oe?nt({anchor:Oe}):Ge})},"w:tbl":V,"w:tr":be,"w:tc":oe,"w:footnoteReference":Ee("footnote"),"w:endnoteReference":Ee("endnote"),"w:commentReference":Ie,"w:br":function(Te){var Me=Te.attributes["w:type"];return Me==null||Me==="textWrapping"?p(n.lineBreak):Me==="page"?p(n.pageBreak):Me==="column"?p(n.columnBreak):f([i("Unsupported break type: "+Me)])},"w:bookmarkStart":function(Te){var Me=Te.attributes["w:name"];return Me==="_GoBack"?h():p(new n.BookmarkStart({name:Me}))},"mc:AlternateContent":function(Te){return fe(Te.first("mc:Fallback"))},"w:sdt":function(Te){return U(Te.firstOrEmpty("w:sdtContent").children)},"w:ins":fe,"w:object":fe,"w:smartTag":fe,"w:drawing":fe,"w:pict":function(Te){return fe(Te).toExtra()},"v:roundrect":fe,"v:shape":fe,"v:textbox":fe,"w:txbxContent":fe,"wp:inline":he,"wp:anchor":he,"v:imagedata":me,"v:group":fe,"v:rect":fe};return{readXmlElement:O,readXmlElements:U};function V(Te){var Me=ye(Te.firstOrEmpty("w:tblPr"));return U(Te.children).flatMap(le).flatMap(function(Oe){return Me.map(function(Ge){return n.Table(Oe,Ge)})})}function ye(Te){return j(Te).map(function(Me){return{styleId:Me.styleId,styleName:Me.name}})}function be(Te){var Me=Te.firstOrEmpty("w:trPr"),Oe=!!Me.first("w:tblHeader");return U(Te.children).map(function(Ge){return n.TableRow(Ge,{isHeader:Oe})})}function oe(Te){return U(Te.children).map(function(Me){var Oe=Te.firstOrEmpty("w:tcPr"),Ge=Oe.firstOrEmpty("w:gridSpan").attributes["w:val"],nt=Ge?parseInt(Ge,10):1,st=n.TableCell(Me,{colSpan:nt});return st._vMerge=re(Oe),st})}function re(Te){var Me=Te.first("w:vMerge");if(Me){var Oe=Me.attributes["w:val"];return Oe==="continue"||!Oe}else return null}function le(Te){var Me=e.any(Te,function(nt){return nt.type!==n.types.tableRow});if(Me)return v(Te,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Oe=e.any(Te,function(nt){return e.any(nt.children,function(st){return st.type!==n.types.tableCell})});if(Oe)return v(Te,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Ge={};return Te.forEach(function(nt){var st=0;nt.children.forEach(function(Ot){Ot._vMerge&&Ge[st]?Ge[st].rowSpan++:(Ge[st]=Ot,Ot._vMerge=!1),st+=Ot.colSpan})}),Te.forEach(function(nt){nt.children=nt.children.filter(function(st){return!st._vMerge}),nt.children.forEach(function(st){delete st._vMerge})}),p(Te)}function he(Te){var Me=Te.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return y(Me.map(_e.bind(null,Te)))}function _e(Te,Me){var Oe=Te.first("wp:docPr").attributes,Ge=ie(Oe.descr)?Oe.title:Oe.descr,nt=de(Me);return nt===null?f([i("Could not find image file for a:blip element")]):De(nt,Ge)}function ie(Te){return Te==null||/^\s*$/.test(Te)}function de(Te){var Me=Te.attributes["r:embed"],Oe=Te.attributes["r:link"];if(Me)return ve(Me);if(Oe){var Ge=D.findTargetByRelationshipId(Oe);return{path:Ge,read:F.read.bind(F,Ge)}}else return null}function me(Te){var Me=Te.attributes["r:id"];return Me?De(ve(Me),Te.attributes["o:title"]):f([i("A v:imagedata element without a relationship ID was ignored")])}function ve(Te){var Me=s.uriToZipEntryName("word",D.findTargetByRelationshipId(Te));return{path:Me,read:I.read.bind(I,Me)}}function De(Te,Me){var Oe=N.findContentType(Te.path),Ge=n.Image({readImage:Te.read,altText:Me,contentType:Oe}),nt=c[Oe]?[]:i("Image of type "+Oe+" is unlikely to display in web browsers");return v(Ge,nt)}function Ue(Te,Me){return i(Te+" style with ID "+Me+" was referenced but not defined in the document")}}function l(w,E,S){var R=E.firstOrEmpty("w:ilvl").attributes["w:val"],D=E.firstOrEmpty("w:numId").attributes["w:val"];if(R!==void 0&&D!==void 0)return S.findLevel(D,R);if(w!=null){var N=S.findLevelByParagraphStyleId(w);if(N!=null)return N}return null}var c={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},u={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(w){return new g(null,null,w)}function h(){return new g(null)}function p(w){return new g(w)}function v(w,E){return new g(w,null,E)}function g(w,E,S){this.value=w||[],this.extra=E||[],this._result=new r({element:this.value,extra:E},S),this.messages=this._result.messages}g.prototype.toExtra=function(){return new g(null,b(this.extra,this.value),this.messages)},g.prototype.insertExtra=function(){var w=this.extra;return w&&w.length?new g(b(this.value,w),null,this.messages):this},g.prototype.map=function(w){var E=this._result.map(function(S){return w(S.element)});return new g(E.value,this.extra,E.messages)},g.prototype.flatMap=function(w){var E=this._result.flatMap(function(S){return w(S.element)._result});return new g(E.value.element,b(this.extra,E.value.extra),E.messages)},g.map=function(w,E,S){return new g(S(w.value,E.value),b(w.extra,E.extra),w.messages.concat(E.messages))};function y(w){var E=r.combine(e.pluck(w,"_result"));return new g(e.flatten(e.pluck(E.value,"element")),e.filter(e.flatten(e.pluck(E.value,"extra")),x),E.messages)}function b(w,E){return e.flatten([w,E])}function x(w){return w}return G1}var JD={},Tj;function qMe(){if(Tj)return JD;Tj=1,JD.DocumentXmlReader=n;var t=uh(),e=xc().Result;function n(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(c){return new t.Document(c,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return JD}var t0={},Ej;function zMe(){if(Ej)return t0;Ej=1,t0.readRelationships=t,t0.defaultValue=new e([]),t0.Relationships=e;function t(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(n){var r={};n.forEach(function(s){r[s.relationshipId]=s.target});var i={};return n.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return t0}var J1={},Cj;function HMe(){if(Cj)return J1;Cj=1,J1.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};J1.defaultContentTypes=n({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),n(s,i)}function n(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var c=t[l.toLowerCase()];return c?"image/"+c:null}}}return J1}var n0={},Sj;function $Me(){if(Sj)return n0;Sj=1;var t=ei;n0.readNumberingXml=n,n0.Numbering=e,n0.defaultNumbering=new e({},{});function e(a,o,l){var c=t.flatten(t.values(o).map(function(p){return t.values(p.levels)})),u=t.indexBy(c.filter(function(p){return p.paragraphStyleId!=null}),"paragraphStyleId");function f(p,v){var g=a[p];if(g){var y=o[g.abstractNumId];if(y){if(y.numStyleLink==null)return o[g.abstractNumId].levels[v];var b=l.findNumberingStyleById(y.numStyleLink);return f(b.numId,v)}else return null}else return null}function h(p){return u[p]||null}return{findLevel:f,findLevelByParagraphStyleId:h}}function n(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),c=s(a);return new e(c,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];o[c]=i(l)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(c){var u=c.attributes["w:ilvl"],f=c.firstOrEmpty("w:numFmt").attributes["w:val"],h=c.firstOrEmpty("w:pStyle").attributes["w:val"];o[u]={isOrdered:f!=="bullet",level:u,paragraphStyleId:h}});var l=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],u=l.first("w:abstractNumId").attributes["w:val"];o[c]={abstractNumId:u}}),o}return n0}var r0={},Dj;function GMe(){if(Dj)return r0;Dj=1,r0.readStylesXml=e,r0.Styles=t,r0.defaultStyles=new t({},{});function t(s,a,o,l){return{findParagraphStyleById:function(c){return s[c]},findCharacterStyleById:function(c){return a[c]},findTableStyleById:function(c){return o[c]},findNumberingStyleById:function(c){return l[c]}}}t.EMPTY=new t({},{},{},{});function e(s){var a={},o={},l={},c={},u={paragraph:a,character:o,table:l};return s.getElementsByTagName("w:style").forEach(function(f){var h=n(f);if(h.type==="numbering")c[h.styleId]=i(f);else{var p=u[h.type];p&&(p[h.styleId]=h)}}),new t(a,o,l,c)}function n(s){var a=s.attributes["w:type"],o=s.attributes["w:styleId"],l=r(s);return{type:a,styleId:o,name:l}}function r(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return r0}var rp={},Aj;function KMe(){if(Aj)return rp;Aj=1;var t=uh(),e=xc().Result;rp.createFootnotesReader=n.bind(rp,"footnote"),rp.createEndnotesReader=n.bind(rp,"endnote");function n(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(u){return t.Note({noteType:r,noteId:c,body:u})})}return s}return rp}var YD={},Nj;function XMe(){if(Nj)return YD;Nj=1;var t=uh(),e=xc().Result;function n(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(c){return(a.attributes[c]||"").trim()||null}return r.readXmlElements(a.children).map(function(c){return t.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return YD.createCommentsReader=n,YD}var QD={},kj;function JMe(){if(kj)return QD;kj=1;var t=dd();QD.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return QD}var Ij;function YMe(){if(Ij)return V1;Ij=1,V1.read=v,V1._findPartPaths=g;var t=dd(),e=uh(),n=xc().Result,r=IY(),i=LMe().readXmlFromZipFile,s=WMe().createBodyReader,a=qMe().DocumentXmlReader,o=zMe(),l=HMe(),c=$Me(),u=GMe(),f=KMe(),h=XMe(),p=JMe().Files;function v(I,F){return F=F||{},t.props({contentTypes:S(I),partPaths:g(I),docxFile:I,files:F.path?p.relativeToFile(F.path):new p(null)}).also(function(P){return{styles:D(I,P.partPaths.styles)}}).also(function(P){return{numbering:R(I,P.partPaths.numbering,P.styles)}}).also(function(P){return{footnotes:w(P.partPaths.footnotes,P,function(k,U){return U?f.createFootnotesReader(k)(U):new n([])}),endnotes:w(P.partPaths.endnotes,P,function(k,U){return U?f.createEndnotesReader(k)(U):new n([])}),comments:w(P.partPaths.comments,P,function(k,U){return U?h.createCommentsReader(k)(U):new n([])})}}).also(function(P){return{notes:P.footnotes.flatMap(function(k){return P.endnotes.map(function(U){return new e.Notes(k.concat(U))})})}}).then(function(P){return w(P.partPaths.mainDocument,P,function(k,U){return P.notes.flatMap(function(O){return P.comments.flatMap(function(X){var J=new a({bodyReader:k,notes:O,comments:X});return J.convertXmlToDocument(U)})})})})}function g(I){return N(I).then(function(F){var P=y({docxFile:I,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!I.exists(P))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return x({filename:E(P),readElement:o.readRelationships,defaultValue:o.defaultValue})(I).then(function(k){function U(O){return y({docxFile:I,relationships:k,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+O,basePath:r.splitPath(P).dirname,fallbackPath:"word/"+O+".xml"})}return{mainDocument:P,comments:U("comments"),endnotes:U("endnotes"),footnotes:U("footnotes"),numbering:U("numbering"),styles:U("styles")}})})}function y(I){var F=I.docxFile,P=I.relationships,k=I.relationshipType,U=I.basePath,O=I.fallbackPath,X=P.findTargetsByType(k),J=X.map(function(ne){return b(r.joinPath(U,ne),"/")}),Y=J.filter(function(ne){return F.exists(ne)});return Y.length===0?O:Y[0]}function b(I,F){return I.substring(0,F.length)===F?I.substring(F.length):I}function x(I){return function(F){return i(F,I.filename).then(function(P){return P?I.readElement(P):I.defaultValue})}}function w(I,F,P){var k=x({filename:E(I),readElement:o.readRelationships,defaultValue:o.defaultValue});return k(F.docxFile).then(function(U){var O=new s({relationships:U,contentTypes:F.contentTypes,docxFile:F.docxFile,numbering:F.numbering,styles:F.styles,files:F.files});return i(F.docxFile,I).then(function(X){return P(O,X)})})}function E(I){var F=r.splitPath(I);return r.joinPath(F.dirname,"_rels",F.basename+".rels")}var S=x({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function R(I,F,P){return x({filename:F,readElement:function(k){return c.readNumberingXml(k,{styles:P})},defaultValue:c.defaultNumbering})(I)}function D(I,F){return x({filename:F,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(I)}var N=x({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return V1}var Y1={},Rj;function QMe(){if(Rj)return Y1;Rj=1;var t=ei,e=dd(),n=UY();Y1.writeStyleMap=a,Y1.readStyleMap=u;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(f,h){return f.write(i,h),o(f).then(function(){return l(f)})}function o(f){var h="word/_rels/document.xml.rels",p="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+p+"}Relationship";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var b={"":p};return f.write(h,n.writeString(g,b))})}function l(f){var h="[Content_Types].xml",p="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+p+"}Override";return f.read(h,"utf8").then(n.readString).then(function(g){var y=g.children;c(y,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var b={"":p};return f.write(h,n.writeString(g,b))})}function c(f,h,p,v){var g=t.find(f,function(y){return y.name===h&&y.attributes[p]===v[p]});g?g.attributes=v:f.push(n.element(h,v))}function u(f){return f.exists(i)?f.read(i,"utf8"):e.resolve(null)}return Y1}var Q1={},Md={},Gl={},au={},Pj;function OY(){if(Pj)return au;Pj=1;var t=rT();function e(l,c,u){return r(t.element(l,c,{fresh:!1}),u)}function n(l,c,u){var f=t.element(l,c,{fresh:!0});return r(f,u)}function r(l,c){return{type:"element",tag:l,children:c||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};au.freshElement=n,au.nonFreshElement=e,au.elementWithTag=r,au.text=i,au.forceWrite=s;var a={br:!0,hr:!0,img:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return au.isVoidElement=o,au}var ZD,Fj;function ZMe(){if(Fj)return ZD;Fj=1;var t=ei,e=OY();function n(g){return r(c(g))}function r(g){var y=[];return g.map(i).forEach(function(b){l(y,b)}),y}function i(g){return s[g.type](g)}var s={element:a,text:o,forceWrite:o};function a(g){return e.elementWithTag(g.tag,r(g.children))}function o(g){return g}function l(g,y){var b=g[g.length-1];y.type==="element"&&!y.tag.fresh&&b&&b.type==="element"&&y.tag.matchesElement(b.tag)?(y.tag.separator&&l(b.children,e.text(y.tag.separator)),y.children.forEach(function(x){l(b.children,x)})):g.push(y)}function c(g){return u(g,function(y){return f[y.type](y)})}function u(g,y){return t.flatten(t.map(g,y),!0)}var f={element:p,text:v,forceWrite:h};function h(g){return[g]}function p(g){var y=c(g.children);return y.length===0&&!e.isVoidElement(g)?[]:[e.elementWithTag(g.tag,y)]}function v(g){return g.value.length===0?[]:[g]}return ZD=n,ZD}var Mj;function nT(){if(Mj)return Gl;Mj=1;var t=OY();Gl.freshElement=t.freshElement,Gl.nonFreshElement=t.nonFreshElement,Gl.elementWithTag=t.elementWithTag,Gl.text=t.text,Gl.forceWrite=t.forceWrite,Gl.simplify=ZMe();function e(a,o){o.forEach(function(l){n(a,l)})}function n(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){t.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return Gl.write=e,Gl}var Uj;function rT(){if(Uj)return Md;Uj=1;var t=ei,e=nT();Md.topLevelElement=n,Md.elements=r,Md.element=s;function n(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return t.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var c=l(),u=this._elements.length-1;u>=0;u--)c=this._elements[u].wrapNodes(c);return c};function s(o,l,c){return c=c||{},new a(o,l,c)}function a(o,l,c){var u={};t.isArray(o)?(o.forEach(function(f){u[f]=!0}),o=o[0]):u[o]=!0,this.tagName=o,this.tagNames=u,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Md.empty=r([]),Md.ignore={wrap:function(){return[]}},Md}var eA={},Oj;function LY(){return Oj||(Oj=1,(function(t){var e=ei,n=dd(),r=nT();t.imgElement=i;function i(s){return function(a,o){return n.when(s(a)).then(function(l){var c={};return a.altText&&(c.alt=a.altText),e.extend(c,l),[r.freshElement("img",c)]})}}t.inline=t.imgElement,t.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})(eA)),eA}var tA={},nA={},Lj;function eUe(){if(Lj)return nA;Lj=1;var t=ei;nA.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",c=[],u=!0,f=!1,h=i();function p(S,R){n[S]&&w(),c.push(S),h.open(S,R),n[S]&&o++,u=!1}function v(S){n[S]&&(o--,w()),c.pop(),h.close(S)}function g(S){x();var R=E()?S:S.replace(`
`,`
`+l);h.text(R)}function y(S,R){w(),h.selfClosing(S,R)}function b(){return c.length===0||n[c[c.length-1]]}function x(){f||(w(),f=!0)}function w(){if(f=!1,!u&&b()&&!E()){h._append(`
`);for(var S=0;S<o;S++)h._append(l)}}function E(){return t.some(c,function(S){return S==="pre"})}return{asString:h.asString,open:p,close:v,text:g,selfClosing:y}}function i(){var o=[];function l(g,y){var b=f(y);o.push("<"+g+b+">")}function c(g){o.push("</"+g+">")}function u(g,y){var b=f(y);o.push("<"+g+b+" />")}function f(g){return t.map(g,function(y,b){return" "+b+'="'+a(y)+'"'}).join("")}function h(g){o.push(s(g))}function p(g){o.push(g)}function v(){return o.join("")}return{asString:v,open:l,close:c,text:h,selfClosing:u,_append:p}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return nA}var rA={},jj;function tUe(){if(jj)return rA;jj=1;var t=ei;function e(f){return n(f,f)}function n(f,h){return function(){return{start:f,end:h}}}function r(f){var h=f.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(f){var h=f.src||"",p=f.alt||"";return h||p?{start:"!["+p+"]("+h+")"}:{}}function s(f){return function(h,p){return{start:p?`
`:"",end:p?"":`
`,list:{isOrdered:f.isOrdered,indent:p?p.indent+1:0,count:0}}}}function a(f,h,p){h=h||{indent:0,isOrdered:!1,count:0},h.count++,p.hasClosed=!1;var v=h.isOrdered?h.count+".":"-",g=l("	",h.indent)+v+" ";return{start:g,end:function(){if(!p.hasClosed)return p.hasClosed=!0,`
`}}}var o={p:n("",`

`),br:n("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var f=1;f<=6;f++)o["h"+f]=n(l("#",f)+" ",`

`)})();function l(f,h){return new Array(h+1).join(f)}function c(){var f=[],h=[],p=null,v={};function g(S,R){R=R||{};var D=o[S]||function(){return{}},N=D(R,p,v);h.push({end:N.end,list:p}),N.list&&(p=N.list);var I=N.anchorPosition==="before";I&&y(R),f.push(N.start||""),I||y(R)}function y(S){S.id&&f.push('<a id="'+S.id+'"></a>')}function b(S){var R=h.pop();p=R.list;var D=t.isFunction(R.end)?R.end():R.end;f.push(D||"")}function x(S,R){g(S,R),b()}function w(S){f.push(u(S))}function E(){return f.join("")}return{asString:E,open:g,close:b,text:w,selfClosing:x}}rA.writer=c;function u(f){return f.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return rA}var Bj;function nUe(){if(Bj)return tA;Bj=1;var t=eUe(),e=tUe();tA.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return tA}var Vj;function rUe(){if(Vj)return Q1;Vj=1;var t=ei,e=dd(),n=uh(),r=rT(),i=xc(),s=LY(),a=nT(),o=nUe();Q1.DocumentConverter=l;function l(y){return{convertToHtml:function(b){var x=t.indexBy(b.type===n.types.document?b.comments:[],"commentId"),w=new c(y,x);return w.convertToHtml(b)}}}function c(y,b){var x=1,w=[],E=[];y=t.extend({ignoreEmptyParagraphs:!0},y);var S=y.idPrefix===void 0?"":y.idPrefix,R=y.ignoreEmptyParagraphs,D=r.topLevelElement("p"),N=y.styleMap||[];function I(V){var ye=[],be=P(V,ye,{}),oe=[];v(be,function(le){le.type==="deferred"&&oe.push(le)});var re={};return e.mapSeries(oe,function(le){return le.value().then(function(he){re[le.id]=he})}).then(function(){function le(_e){return p(_e,function(ie){return ie.type==="deferred"?re[ie.id]:ie.children?[t.extend({},ie,{children:le(ie.children)})]:[ie]})}var he=o.writer({prettyPrint:y.prettyPrint,outputFormat:y.outputFormat});return a.write(he,a.simplify(le(be))),new i.Result(he.asString(),ye)})}function F(V,ye,be){return p(V,function(oe){return P(oe,ye,be)})}function P(V,ye,be){if(!be)throw new Error("options not set");var oe=Le[V.type];return oe?oe(V,ye,be):[]}function k(V,ye,be){return U(V,ye).wrap(function(){var oe=F(V.children,ye,be);return R?oe:[a.forceWrite].concat(oe)})}function U(V,ye){var be=Y(V);return be?be.to:(V.styleId&&ye.push(h("paragraph",V)),D)}function O(V,ye,be){var oe=function(){return F(V.children,ye,be)},re=[];V.isSmallCaps&&re.push(X("smallCaps")),V.isAllCaps&&re.push(X("allCaps")),V.isStrikethrough&&re.push(X("strikethrough","s")),V.isUnderline&&re.push(X("underline")),V.verticalAlignment===n.verticalAlignment.subscript&&re.push(r.element("sub",{},{fresh:!1})),V.verticalAlignment===n.verticalAlignment.superscript&&re.push(r.element("sup",{},{fresh:!1})),V.isItalic&&re.push(X("italic","em")),V.isBold&&re.push(X("bold","strong"));var le=r.empty,he=Y(V);return he?le=he.to:V.styleId&&ye.push(h("run",V)),re.push(le),re.forEach(function(_e){oe=_e.wrap.bind(_e,oe)}),oe()}function X(V,ye){var be=J({type:V});return be||(ye?r.element(ye,{},{fresh:!1}):r.empty)}function J(V,ye){var be=Y(V);return be?be.to:ye}function Y(V){for(var ye=0;ye<N.length;ye++)if(N[ye].from.matches(V))return N[ye]}function ne(V){return function(ye,be){return e.attempt(function(){return V(ye,be)}).caught(function(oe){return be.push(i.error(oe)),[]})}}function z(V){return B(V.noteType,V.noteId)}function K(V){return j(V.noteType,V.noteId)}function B(V,ye){return W(V+"-"+ye)}function j(V,ye){return W(V+"-ref-"+ye)}function W(V){return S+V}var H=r.elements([r.element("table",{},{fresh:!0})]);function Q(V,ye,be){return J(V,H).wrap(function(){return Z(V,ye,be)})}function Z(V,ye,be){var oe=t.findIndex(V.children,function(_e){return!_e.type===n.types.tableRow||!_e.isHeader});oe===-1&&(oe=V.children.length);var re;if(oe===0)re=F(V.children,ye,t.extend({},be,{isTableHeader:!1}));else{var le=F(V.children.slice(0,oe),ye,t.extend({},be,{isTableHeader:!0})),he=F(V.children.slice(oe),ye,t.extend({},be,{isTableHeader:!1}));re=[a.freshElement("thead",{},le),a.freshElement("tbody",{},he)]}return[a.forceWrite].concat(re)}function se(V,ye,be){var oe=F(V.children,ye,be);return[a.freshElement("tr",{},[a.forceWrite].concat(oe))]}function ce(V,ye,be){var oe=be.isTableHeader?"th":"td",re=F(V.children,ye,be),le={};return V.colSpan!==1&&(le.colspan=V.colSpan.toString()),V.rowSpan!==1&&(le.rowspan=V.rowSpan.toString()),[a.freshElement(oe,le,[a.forceWrite].concat(re))]}function ue(V,ye,be){return J(V,r.ignore).wrap(function(){var oe=b[V.commentId],re=E.length+1,le="["+g(oe)+re+"]";return E.push({label:le,comment:oe}),[a.freshElement("a",{href:"#"+B("comment",V.commentId),id:j("comment",V.commentId)},[a.text(le)])]})}function Ee(V,ye,be){var oe=V.label,re=V.comment,le=F(re.body,ye,be).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+j("comment",re.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:B("comment",re.commentId)},[a.text("Comment "+oe)]),a.freshElement("dd",{},le)]}function Ie(V,ye,be){return fe(V).wrap(function(){return[]})}function fe(V){var ye=Y(V);return ye?ye.to:V.breakType==="line"?r.topLevelElement("br"):r.empty}var Le={document:function(V,ye,be){var oe=F(V.children,ye,be),re=w.map(function(he){return V.notes.resolve(he)}),le=F(re,ye,be);return oe.concat([a.freshElement("ol",{},le),a.freshElement("dl",{},p(E,function(he){return Ee(he,ye,be)}))])},paragraph:k,run:O,text:function(V,ye,be){return[a.text(V.value)]},tab:function(V,ye,be){return[a.text("	")]},hyperlink:function(V,ye,be){var oe=V.anchor?"#"+W(V.anchor):V.href,re={href:oe};V.targetFrame!=null&&(re.target=V.targetFrame);var le=F(V.children,ye,be);return[a.nonFreshElement("a",re,le)]},bookmarkStart:function(V,ye,be){var oe=a.freshElement("a",{id:W(V.name)},[a.forceWrite]);return[oe]},noteReference:function(V,ye,be){w.push(V);var oe=a.freshElement("a",{href:"#"+z(V),id:K(V)},[a.text("["+x+++"]")]);return[a.freshElement("sup",{},[oe])]},note:function(V,ye,be){var oe=F(V.body,ye,be),re=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+K(V)},[a.text("")])]),le=oe.concat([re]);return a.freshElement("li",{id:z(V)},le)},commentReference:ue,comment:Ee,image:f(ne(y.convertImage||s.dataUri)),table:Q,tableRow:se,tableCell:ce,break:Ie};return{convertToHtml:I}}var u=1;function f(y){return function(b,x,w){return[{type:"deferred",id:u++,value:function(){return y(b,x,w)}}]}}function h(y,b){return i.warning("Unrecognised "+y+" style: '"+b.styleName+"' (Style ID: "+b.styleId+")")}function p(y,b){return t.flatten(y.map(b),!0)}function v(y,b){y.forEach(function(x){b(x),x.children&&v(x.children,b)})}var g=Q1.commentAuthorLabel=function(b){return b.authorInitials||""};return Q1}var iA={},Wj;function iUe(){if(Wj)return iA;Wj=1;var t=uh();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return iA.convertElementToRawText=e,iA}var i0={},So={},sA={},aA={exports:{}},qj;function sUe(){if(qj)return aA.exports;qj=1;var t=aA.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},aA.exports}var zj;function aUe(){if(zj)return sA;zj=1;var t=sUe();return sA.Parser=function(e){var n=function(r,i){return r(new t(i))};return{parseTokens:n}},sA}var oA={},lA={},Hj;function oUe(){return Hj||(Hj=1,(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}})(lA)),lA}var cA,$j;function z6(){if($j)return cA;$j=1,cA={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},cA}var uA={},Gj;function jY(){if(Gj)return uA;Gj=1,uA.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},uA}var dA={},Kj;function lUe(){if(Kj)return dA;Kj=1,dA.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)s=n.next(),i=e(s)};return new t({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},dA}var Xj;function BY(){return Xj||(Xj=1,(function(t){var e=ei,n=oUe(),r=z6(),i=jY(),s=lUe();t.token=function(h,p){var v=p!==void 0;return function(g){var y=g.head();if(y&&y.name===h&&(!v||y.value===p))return r.success(y.value,g.tail(),y.source);var b=u({name:h,value:p});return f(g,b)}},t.tokenOfType=function(h){return t.token(h)},t.firstOf=function(h,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(p).map(function(g){return g(v)}).filter(function(g){return g.isSuccess()||g.isError()}).first()||f(v,h)}},t.then=function(h,p){return function(v){var g=h(v);return g.map||console.log(g),g.map(p)}},t.sequence=function(){var h=Array.prototype.slice.call(arguments,0),p=function(g){var y=e.foldl(h,function(x,w){var E=x.result,S=x.hasCut;if(!E.isSuccess())return{result:E,hasCut:S};var R=w(E.remaining());if(R.isCut())return{result:E,hasCut:!0};if(R.isSuccess()){var D;w.isCaptured?D=E.value().withValue(w,R.value()):D=E.value();var N=R.remaining(),I=g.to(N);return{result:r.success(D,N,I),hasCut:S}}else return S?{result:r.error(R.errors(),R.remaining()),hasCut:S}:{result:R,hasCut:S}},{result:r.success(new a,g),hasCut:!1}).result,b=g.to(y.remaining());return y.map(function(x){return x.withValue(t.sequence.source,b)})};p.head=function(){var g=e.find(h,v);return t.then(p,t.sequence.extract(g))},p.map=function(g){return t.then(p,function(y){return g.apply(this,y.toArray())})};function v(g){return g.isCaptured}return p};var a=function(h,p){this._values=h||{},this._valuesArray=p||[]};a.prototype.withValue=function(h,p){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var v=e.clone(this._values);v[h.captureName]=p;var g=this._valuesArray.concat([p]);return new a(v,g)},a.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(h,p){var v=function(){return h.apply(this,arguments)};return v.captureName=p,v.isCaptured=!0,v},t.sequence.extract=function(h){return function(p){return p.get(h)}},t.sequence.applyValues=function(h){var p=Array.prototype.slice.call(arguments,1);return function(v){var g=p.map(function(y){return v.get(y)});return h.apply(this,g)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(h){return r.cut(h)}},t.optional=function(h){return function(p){var v=h(p);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,p):v}},t.zeroOrMoreWithSeparator=function(h,p){return c(h,p,!1)},t.oneOrMoreWithSeparator=function(h,p){return c(h,p,!0)};var o=t.zeroOrMore=function(h){return function(p){for(var v=[],g;(g=h(p))&&g.isSuccess();)p=g.remaining(),v.push(g.value());return g.isError()?g:r.success(v,p)}};t.oneOrMore=function(h){return t.oneOrMoreWithSeparator(h,l)};function l(h){return r.success(null,h)}var c=function(h,p,v){return function(g){var y=h(g);if(y.isSuccess()){var b=t.sequence.capture(h,"main"),x=o(t.then(t.sequence(p,b),t.sequence.extract(b))),w=x(y.remaining());return r.success([y.value()].concat(w.value()),w.remaining())}else return v||y.isError()?y:r.success([],g)}};t.leftAssociative=function(h,p,v){var g;v?g=[{func:v,rule:p}]:g=p,g=g.map(function(b){return t.then(b.rule,function(x){return function(w,E){return b.func(w,x,E)}})});var y=t.firstOf.apply(null,["rules"].concat(g));return function(b){var x=b,w=h(b);if(!w.isSuccess())return w;for(var E=y(w.remaining());E.isSuccess();){var S=E.remaining(),R=x.to(E.remaining()),D=E.value();w=r.success(D(w.value(),R),S,R),E=y(w.remaining())}return E.isError()?E:w}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(h){return function(p){return h(p).changeRemaining(p)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function f(h,p){var v,g=h.head();return g?v=i.error({expected:p,actual:u(g),location:g.source}):v=i.error({expected:p,actual:"end of tokens"}),r.failure([v],h)}})(oA)),oA}var fA={exports:{}},Jj;function VY(){if(Jj)return fA.exports;Jj=1,fA.exports=function(e,n){var r={asString:function(){return e},range:function(i,s){return new t(e,n,i,s)}};return r};var t=function(e,n,r,i){this._string=e,this._description=n,this._startIndex=r,this._endIndex=i};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var s=this._startIndex-n+1;return{lineNumber:i,characterNumber:s}},fA.exports}var hA,Yj;function WY(){return Yj||(Yj=1,hA=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),hA}var pA={},Qj;function cUe(){return Qj||(Qj=1,(function(t){var e=BY(),n=z6();t.parser=function(s,a,o){var l={rule:h,leftAssociative:p,rightAssociative:v},c=new r(o.map(f)),u=e.firstOf(s,a);function f(b){return{name:b.name,rule:i(b.ruleBuilder.bind(null,l))}}function h(){return g(c)}function p(b){return g(c.untilExclusive(b))}function v(b){return g(c.untilInclusive(b))}function g(b){return y.bind(null,b)}function y(b,x){var w=u(x);return w.isSuccess()?b.apply(w):w}return l};function r(s){function a(f){return new r(s.slice(0,l().indexOf(f)))}function o(f){return new r(s.slice(0,l().indexOf(f)+1))}function l(){return s.map(function(f){return f.name})}function c(f){for(var h,p;;)if(h=u(f.remaining()),h.isSuccess())p=f.source().to(h.source()),f=n.success(h.value()(f.value(),p),h.remaining(),p);else return h.isFailure()?f:h}function u(f){return e.firstOf("infix",s.map(function(h){return h.rule}))(f)}return{apply:c,untilExclusive:a,untilInclusive:o}}t.infix=function(s,a){function o(l){return t.infix(s,function(c){var u=a(c);return function(f){var h=u(f);return h.map(function(p){return function(v,g){return l(v,p,g)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}})(pA)),pA}var mA={},Zj;function uUe(){if(Zj)return mA;Zj=1;var t=WY(),e=VY();mA.RegexTokeniser=n;function n(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var c=new e(o,l),u=0,f=[];u<o.length;){var h=s(o,u,c);u=h.endIndex,f.push(h.token)}return f.push(a(o,c)),f}function s(o,l,c){for(var u=0;u<r.length;u++){var f=r[u].regex;f.lastIndex=l;var h=f.exec(o);if(h){var v=l+h[0].length;if(h.index===l&&v>l){var p=h[1],g=new t(r[u].name,p,c.range(l,v));return{token:g,endIndex:v}}}}var v=l+1,g=new t("unrecognisedCharacter",o.substring(l,v),c.range(l,v));return{token:g,endIndex:v}}function a(o,l){return new t("end",null,l.range(o.length,o.length))}return{tokenise:i}}return mA}var eB;function qY(){return eB||(eB=1,So.Parser=aUe().Parser,So.rules=BY(),So.errors=jY(),So.results=z6(),So.StringSource=VY(),So.Token=WY(),So.bottomUp=cUe(),So.RegexTokeniser=uUe().RegexTokeniser,So.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),So}var Wi={},tB;function dUe(){if(tB)return Wi;tB=1,Wi.paragraph=t,Wi.run=e,Wi.table=n,Wi.bold=new r("bold"),Wi.italic=new r("italic"),Wi.underline=new r("underline"),Wi.strikethrough=new r("strikethrough"),Wi.allCaps=new r("allCaps"),Wi.smallCaps=new r("smallCaps"),Wi.commentReference=new r("commentReference"),Wi.lineBreak=new r("break",{breakType:"line"}),Wi.pageBreak=new r("break",{breakType:"page"}),Wi.columnBreak=new r("break",{breakType:"column"}),Wi.equalTo=s,Wi.startsWith=a;function t(c){return new r("paragraph",c)}function e(c){return new r("run",c)}function n(c){return new r("table",c)}function r(c,u){u=u||{},this._elementType=c,this._styleId=u.styleId,this._styleName=u.styleName,u.list&&(this._listIndex=u.list.levelIndex,this._listIsOrdered=u.list.isOrdered)}r.prototype.matches=function(c){return c.type===this._elementType&&(this._styleId===void 0||c.styleId===this._styleId)&&(this._styleName===void 0||c.styleName&&this._styleName.operator(this._styleName.operand,c.styleName))&&(this._listIndex===void 0||i(c,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===c.breakType)};function i(c,u,f){return c.numbering&&c.numbering.level==u&&c.numbering.isOrdered==f}function s(c){return{operator:o,operand:c}}function a(c){return{operator:l,operand:c}}function o(c,u){return c.toUpperCase()===u.toUpperCase()}function l(c,u){return u.toUpperCase().indexOf(c.toUpperCase())===0}return Wi}var gA={},nB;function fUe(){if(nB)return gA;nB=1;var t=qY(),e=t.RegexTokeniser;gA.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return gA}var rB;function hUe(){if(rB)return i0;rB=1;var t=ei,e=qY(),n=dUe(),r=rT(),i=fUe().tokenise,s=xc();i0.readHtmlPath=u,i0.readDocumentMatcher=l,i0.readStyle=a;function a(N){return E(D,N)}function o(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(f())).head())),e.rules.tokenOfType("end")).map(function(N,I){return{from:N,to:I.valueOrElse(r.empty)}})}function l(N){return E(c(),N)}function c(){var N=e.rules.sequence,I=function(ue,Ee){return e.rules.then(e.rules.token("identifier",ue),function(){return Ee})},F=I("p",n.paragraph),P=I("r",n.run),k=e.rules.firstOf("p or r or table",F,P),U=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(ue){return{styleId:ue}}),O=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(ue){return{styleName:n.equalTo(ue)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(ue){return{styleName:n.startsWith(ue)}})),X=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(O),e.rules.tokenOfType("close-square-bracket")).head(),J=e.rules.firstOf("list type",I("ordered-list",{isOrdered:!0}),I("unordered-list",{isOrdered:!1})),Y=N(e.rules.tokenOfType("colon"),N.capture(J),N.cut(),e.rules.tokenOfType("open-paren"),N.capture(p),e.rules.tokenOfType("close-paren")).map(function(ue,Ee){return{list:{isOrdered:ue.isOrdered,levelIndex:Ee-1}}});function ne(ue){var Ee=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(ue)),Ie=e.rules.zeroOrMore(Ee);return e.rules.then(Ie,function(fe){var Le={};return fe.forEach(function(V){t.extend(Le,V)}),Le})}var z=N(N.capture(k),N.capture(ne([U,X,Y]))).map(function(ue,Ee){return ue(Ee)}),K=N(e.rules.token("identifier","table"),N.capture(ne([U,X]))).map(function(ue){return n.table(ue)}),B=I("b",n.bold),j=I("i",n.italic),W=I("u",n.underline),H=I("strike",n.strikethrough),Q=I("all-caps",n.allCaps),Z=I("small-caps",n.smallCaps),se=I("comment-reference",n.commentReference),ce=N(e.rules.token("identifier","br"),N.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),N.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(ue){switch(ue){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",z,K,B,j,W,H,Q,Z,se,ce)}function u(N){return E(f(),N)}function f(){var N=e.rules.sequence.capture,I=e.rules.tokenOfType("whitespace"),F=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(O){return O.map(function(){return!0}).valueOrElse(!1)}),P=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),N(v),e.rules.tokenOfType("close-paren")).head()),function(O){return O.valueOrElse("")}),k=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),U=e.rules.sequence(N(k),N(e.rules.zeroOrMore(w)),N(F),N(P)).map(function(O,X,J,Y){var ne={},z={};return X.forEach(function(K){K.append&&ne[K.name]?ne[K.name]+=" "+K.value:ne[K.name]=K.value}),J&&(z.fresh=!0),Y&&(z.separator=Y),r.element(O,ne,z)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(U,e.rules.sequence(I,e.rules.tokenOfType("gt"),I)),r.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),y),p=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),y),g={n:`
`,r:"\r",t:"	"};function y(N){return N.replace(/\\(.)/g,function(I,F){return g[F]||F})}var b=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(N,I){return{name:N,value:I,append:!1}}),x=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(N){return{name:"class",value:N,append:!0}}),w=e.rules.firstOf("attribute or class",b,x);function E(N,I){var F=i(I),P=e.Parser(),k=P.parseTokens(N,F);return k.isSuccess()?s.success(k.value()):new s.Result(null,[s.warning(S(I,k))])}function S(N,I){return"Did not understand this style mapping, so ignored it: "+N+`
`+I.errors().map(R).join(`
`)}function R(N){return"Error was at character number "+N.characterNumber()+": Expected "+N.expected+" but got "+N.actual}var D=o();return i0}var s0={},iB;function pUe(){if(iB)return s0;iB=1,s0.readOptions=r;var t=ei,e=s0._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],n=s0._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},t.extend({},n,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?t.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return s0}var yA={},sB;function mUe(){if(sB)return yA;sB=1;var t=dd(),e=IY();yA.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return yA}var Ud={},aB;function gUe(){if(aB)return Ud;aB=1;var t=ei;Ud.paragraph=e,Ud.run=n,Ud._elements=i,Ud.getDescendantsOfType=s,Ud.getDescendants=a;function e(l){return r("paragraph",l)}function n(l){return r("run",l)}function r(l,c){return i(function(u){return u.type===l?c(u):u})}function i(l){return function c(u){if(u.children){var f=t.map(u.children,c);u=t.extend(u,{children:f})}return l(u)}}function s(l,c){return a(l).filter(function(u){return u.type===c})}function a(l){var c=[];return o(l,function(u){c.push(u)}),c}function o(l,c){l.children&&l.children.forEach(function(u){o(u,c),c(u)})}return Ud}var vA={},oB;function yUe(){if(oB)return vA;oB=1;var t=rT(),e=nT();vA.element=n;function n(r){return function(i){return e.elementWithTag(t.element(r),[i])}}return vA}var lB;function vUe(){if(lB)return Va;lB=1;var t=ei,e=YMe(),n=QMe(),r=rUe().DocumentConverter,i=iUe().convertElementToRawText,s=hUe().readStyle,a=pUe().readOptions,o=mUe(),l=xc().Result;Va.convertToHtml=c,Va.convertToMarkdown=u,Va.convert=f,Va.extractRawText=g,Va.images=LY(),Va.transforms=gUe(),Va.underline=yUe(),Va.embedStyleMap=y,Va.readEmbeddedStyleMap=h;function c(b,x){return f(b,x)}function u(b,x){var w=Object.create(x||{});return w.outputFormat="markdown",f(b,w)}function f(b,x){return x=a(x),o.openZip(b).tap(function(w){return n.readStyleMap(w).then(function(E){x.embeddedStyleMap=E})}).then(function(w){return e.read(w,b).then(function(E){return E.map(x.transformDocument)}).then(function(E){return p(E,x)})})}function h(b){return o.openZip(b).then(n.readStyleMap)}function p(b,x){var w=v(x.readStyleMap()),E=t.extend({},x,{styleMap:w.value}),S=new r(E);return b.flatMapThen(function(R){return w.flatMapThen(function(D){return S.convertToHtml(R)})})}function v(b){return l.combine((b||[]).map(s)).map(function(x){return x.filter(function(w){return!!w})})}function g(b){return o.openZip(b).then(e.read).then(function(x){return x.map(i)})}function y(b,x){return o.openZip(b).tap(function(w){return n.writeStyleMap(w,x)}).then(function(w){return w.toArrayBuffer()}).then(function(w){return{toArrayBuffer:function(){return w},toBuffer:function(){return Buffer.from(w)}}})}return Va.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Va}var xUe=vUe();const _Ue={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},cB={:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray",:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"orange",:"purple",:"pink",:"gray"},bUe={bold:/(|| | | | | |  |  |    | | | | ||||| )/i,increaseFontSize:/(|  | | |  |  |  | |  |  | ||| | )/i,justifyCenter:/(|  | |  |  | | |   |  |   | |  |  | |||)/i,justifyRight:/(|  | |  | | |   |  |   | |  |  | ||)/i,justifyLeft:/(|  | |  | | |   |  |   | |  |  | ||)/i,underline:/(|  |  |  |  |  | |    |   | |  | |  ||| | | )/i,foreColor:/( | | | )?(|||||||||||||||)/i,backColor:/( |  |  )?(|||||||||||||||)/i,cut:/(| || |  )/i,copy:/(||| |  )/i,paste:/(|| | )/i,delete:/(||| )/i,replaceImage:/( | ||)/i},wUe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,""),zY=({initialContent:t,docToEdit:e,onClose:n})=>{const{user:r}=br(),{cafes:i,codes:s}=Jt(),a=q.useMemo(()=>s.map(V=>V.key),[s]),[o,l]=q.useState("visual"),[c,u]=q.useState(t.body),[f,h]=q.useState(t.styles),[p,v]=q.useState((e==null?void 0:e.name)||t.name),[g,y]=q.useState((e==null?void 0:e.description)||""),[b,x]=q.useState((e==null?void 0:e.tags)||""),w=q.useRef(null),E=q.useRef(null),S=q.useRef(null),[R,D]=q.useState(!1),N=q.useRef(null),I=q.useRef(null),F=q.useRef(null),[P,k]=q.useState(!1),[U,O]=q.useState(""),[X,J]=q.useState(!1),[Y,ne]=q.useState(!1),[z,K]=q.useState(!1),[B,j]=q.useState(null),W=q.useRef(null),H=q.useRef(!1);q.useEffect(()=>{const V=ye=>{W.current&&!W.current.contains(ye.target)&&ne(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),q.useEffect(()=>{if(o==="visual"){const V=w.current;if(V){const ye=V.contentDocument;if(ye){const be=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><style>${f}</style></head><body>${c}</body></html>`;ye.open(),ye.write(be),ye.close(),ye.body.contentEditable="true"}}}else if(o==="grapesjs"&&!S.current&&E.current){const V=grapesjs.init({container:E.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:_Ue});V.setComponents(c),V.setStyle(f),S.current=V}},[o,c,f]);const Q=q.useCallback(V=>{var be,oe;const ye=(be=w.current)==null?void 0:be.contentDocument;if(ye)for(const[re,le]of Object.entries(bUe)){const he=V.match(le);if(he){if(re==="replaceImage"){const _e=ye.getSelection();if(_e&&!_e.isCollapsed&&_e.rangeCount>0){const de=_e.getRangeAt(0).commonAncestorContainer;let me=null;de.nodeName==="IMG"?me=de:de.nodeType===Node.ELEMENT_NODE&&(me=de.querySelector("img")),me&&(F.current=me,(oe=I.current)==null||oe.click())}return}if(re==="foreColor"||re==="backColor"){const _e=he.find(ie=>ie&&cB[ie]);if(_e){const ie=cB[_e],de=re==="foreColor"?"foreColor":"hiliteColor",me=ye.getSelection();de==="hiliteColor"&&(me!=null&&me.isCollapsed)?ye.body.style.backgroundColor=ie:ye.execCommand(de,!1,ie)}}else ye.execCommand(re,!1,void 0);return}}},[]);q.useEffect(()=>{const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(V)return N.current=new V,N.current.continuous=!0,N.current.interimResults=!1,N.current.lang="ar-SA",N.current.onstart=()=>{H.current=!0,D(!0)},N.current.onend=()=>{if(H.current){console.log("Speech recognition stopped unexpectedly. Restarting...");try{N.current.start()}catch(ye){console.error("Could not restart speech recognition:",ye),H.current=!1,D(!1)}}else D(!1)},N.current.onerror=ye=>{console.error("Speech error:",ye.error),H.current=!1,D(!1)},N.current.onresult=ye=>{let be="";for(let oe=ye.resultIndex;oe<ye.results.length;++oe)ye.results[oe].isFinal&&(be+=ye.results[oe][0].transcript);be.trim()&&Q(be.trim())},()=>{H.current=!1,N.current&&N.current.abort()}},[Q]);const Z=()=>{var V;o==="visual"&&w.current?(u(((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c),l("grapesjs")):o==="grapesjs"&&S.current&&(u(S.current.getHtml()),h(S.current.getCss()),S.current.destroy(),S.current=null,l("visual"))},se=async()=>{var V;k(!0),O("");try{let ye=c,be=f;o==="grapesjs"&&S.current?(ye=S.current.getHtml(),be=S.current.getCss()):o==="visual"&&w.current&&(ye=((V=w.current.contentDocument)==null?void 0:V.body.innerHTML)||c);const oe=L0(ye);await ume({previewHtml:ye,templateHtml:ye,sharedStyles:be,fileNameBase:e?e.id:wUe(p),docToEdit:e,prompt:p,description:g,tags:b,requiredFields:oe,complexFields:(e==null?void 0:e.complexFields)||[]}),alert("   !"),n()}catch(ye){console.error("Publishing error:",ye),O(ye instanceof Error?ye.message:"     .")}finally{k(!1)}},ce=V=>{var be;const ye=(be=V.target.files)==null?void 0:be[0];if(ye&&F.current){const oe=new FileReader;oe.onload=re=>{var le;F.current&&((le=re.target)!=null&&le.result)&&(F.current.src=re.target.result),F.current=null,V.target&&(V.target.value="")},oe.readAsDataURL(ye)}},ue=()=>{const V=w.current;if(V&&V.contentDocument){const ye=window.open("","_blank");ye==null||ye.document.write(`<html><head><title>Print</title><style>${f}</style></head><body>${V.contentDocument.body.innerHTML}</body></html>`),ye==null||ye.document.close(),ye==null||ye.focus(),ye==null||ye.print()}},Ee=()=>{N.current&&(R?(H.current=!1,N.current.stop()):(H.current=!0,N.current.start()))},Ie=async()=>{var V,ye;ne(!1),K(!0),O("");try{const be=((ye=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:ye.body.innerHTML)||c,oe=Jme(be,a);u("");for await(const re of oe)u(le=>le+re)}catch(be){O(be instanceof Error?be.message:"AI task failed.")}finally{K(!1)}},fe=async()=>{var V,ye;ne(!1),K(!0),O("");try{const be=((ye=(V=w.current)==null?void 0:V.contentDocument)==null?void 0:ye.body.innerHTML)||c,oe=await Yme(be);j(JSON.stringify(oe,null,2))}catch(be){O(be instanceof Error?be.message:"AI task failed.")}finally{K(!1)}},Le=()=>{if(!B)return;const V=new Blob([B],{type:"application/json"}),ye=URL.createObjectURL(V),be=document.createElement("a");be.href=ye,be.download=`${p.replace(/\s+/g,"_")}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(ye)};return d.jsxs("div",{className:"fixed inset-0 bg-gray-800 z-[100] flex flex-col p-4",children:[d.jsx("input",{type:"file",ref:I,onChange:ce,accept:"image/*",className:"hidden"}),d.jsxs("header",{className:"flex-shrink-0 bg-gray-900 text-white p-3 flex justify-between items-center rounded-t-lg",children:[d.jsx("h2",{className:"font-bold",children:o==="visual"?"  /":"  (GrapesJS)"}),d.jsxs("div",{className:"flex items-center gap-3",children:[o==="visual"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Ee,className:`p-2 rounded-full transition-colors ${R?"bg-red-500 text-white animate-pulse":"bg-gray-700 hover:bg-gray-600"}`,title:"/  ",children:R?d.jsx(gc,{}):d.jsx(JI,{})}),d.jsxs("div",{className:"relative",ref:W,children:[d.jsx("button",{onClick:()=>ne(V=>!V),className:"p-2 bg-purple-600 hover:bg-purple-700 rounded-full text-white",title:"  ",disabled:z,children:z?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{})}),Y&&d.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border z-10",children:d.jsxs("ul",{className:"py-1 text-gray-700 text-sm",children:[d.jsx("li",{children:d.jsx("button",{onClick:Ie,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (Placeholders)"})}),d.jsx("li",{children:d.jsx("button",{onClick:fe,className:"w-full text-right px-4 py-2 hover:bg-gray-100",children:"   (JSON)"})})]})})]}),d.jsx("button",{onClick:()=>J(!0),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:" ",children:d.jsx(Gd,{})})]}),d.jsx("button",{onClick:Z,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full",title:o==="visual"?"   ":"   ",children:o==="visual"?d.jsx(fw,{}):d.jsx(j4,{})}),d.jsxs("button",{onClick:ue,className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-md",title:"",children:[" ",d.jsx(pw,{})," "]}),d.jsxs("button",{onClick:se,disabled:P,className:"bg-green-600 hover:bg-green-700 p-2 rounded-md",title:" ",children:[" ",P?d.jsx(Dt,{className:"animate-spin"}):d.jsx(Uv,{})," "]}),d.jsxs("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 p-2 rounded-full",title:"  ",children:[" ",d.jsx(If,{})," "]})]})]}),U&&d.jsx("p",{className:"text-red-400 bg-red-900 p-2 text-xs text-center",children:U}),d.jsx("div",{className:"flex-grow bg-gray-700 p-2 rounded-b-lg",children:o==="visual"?d.jsx("iframe",{ref:w,title:"Visual Editor",className:"w-full h-full border-0 bg-white shadow-lg"}):d.jsx("div",{ref:E,className:"h-full",id:"gjs-editor"})}),X&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[101] flex justify-center items-center p-4",onClick:()=>J(!1),children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800",onClick:V=>V.stopPropagation(),children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold",children:" "}),d.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(If,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docNameModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("input",{type:"text",id:"docNameModal",value:p,onChange:V=>v(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docDescriptionModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsx("textarea",{id:"docDescriptionModal",rows:3,value:g,onChange:V=>y(V.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"docTagsModal",className:"block text-sm font-medium text-gray-700 mb-1",children:" ( )"}),d.jsx("input",{type:"text",id:"docTagsModal",value:b,onChange:V=>x(V.target.value),placeholder:":  , , ",className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm"})]})]}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:d.jsx("button",{type:"button",onClick:()=>J(!1),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:" "})})]})}),B&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[102] flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl text-gray-800 flex flex-col h-[70vh]",children:[d.jsx("h3",{className:"p-4 border-b font-bold text-lg",children:" JSON "}),d.jsx("pre",{className:"flex-grow p-4 bg-gray-900 text-green-300 text-sm overflow-auto",dir:"ltr",children:B}),d.jsxs("div",{className:"p-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>j(null),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg",children:""}),d.jsx("button",{onClick:Le,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:""})]})]})})]})},TUe=t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):null},EUe=(t,e)=>{let n=t.toLowerCase().trim();const r={actions:[],raw:t};for(const o of e.actions.replace){const l=new RegExp(`${o}\\s+(.+)`),c=n.match(l);if(c&&c[1])return r.actions.push({intent:"replace",newText:c[1].trim()}),r}for(const o of e.actions.paste)for(const l of["before","after"])for(const c of e.positions[l]){const u=new RegExp(`${o}\\s+${c}\\s+(.+)`),f=n.match(u);if(f&&f[1])return r.actions.push({intent:"paste",pastePosition:l,pasteTarget:f[1].trim()}),r}for(const o of e.actions.createList)if(n.includes(o)){let l="bullet";e.listTypes.numbered.some(c=>n.includes(c))&&(l="numbered");for(const c of e.actions.addListItem){const u=n.indexOf(c);if(u!==-1){const f=n.substring(u+c.length).trim(),h=new RegExp(`\\s+(?:${e.listSeparators.newLine.join("|")}|${e.conjunctions.join("|")})\\s+`,"g"),p=f.split(h).map(v=>v.replace(new RegExp(`^(${e.actions.addListItem.join("|")})\\s*`),"").trim()).filter(Boolean);if(p.length>0)return r.actions.push({intent:"createList",listType:l,listItems:p}),r}}return r.actions.push({intent:"createList",listType:l,listItems:[]}),r}const i=[{intent:"delete",keywords:e.actions.delete},{intent:"copy",keywords:e.actions.copy},{intent:"paste",keywords:e.actions.paste},{intent:"addListItem",keywords:e.actions.addListItem},{intent:"newLine",keywords:e.listSeparators.newLine}];for(const o of i)for(const l of o.keywords)if(n.includes(l)){let c=n.replace(l,"").trim();return o.intent==="addListItem"&&c?r.actions.push({intent:"addListItem",value:c}):r.actions.push({intent:o.intent}),r}for(const o of e.targets.text){const l=new RegExp(`${o}\\s+([^]+)`),c=n.match(l);if(c&&c[1]){r.targetText=c[1].trim(),n=n.replace(c[0],"").trim();break}}const s=new RegExp(`\\s+(?:${e.conjunctions.join("|")})\\s+`,"g"),a=n.split(s).filter(o=>o&&o.trim()!=="");if(a.length===1&&e.general.next.some(o=>a[0].includes(o)))return r.actions.push({intent:"color",value:"random"}),r;for(const o of a){let l=!1;for(const c in e.colors)if(e.colors[c].some(u=>o.includes(u))){r.actions.push({intent:"color",value:c}),l=!0;break}if(!l){if(e.actions.changeColor.some(c=>o.includes(c))){r.actions.push({intent:"color",value:"random"}),l=!0;continue}if(e.actions.changeSize.some(c=>o.includes(c))){const c=TUe(o);c!==null?r.actions.push({intent:"size",value:`${c}px`}):e.sizeKeywords.increase.some(u=>o.includes(u))?r.actions.push({intent:"size",value:"+2px"}):e.sizeKeywords.decrease.some(u=>o.includes(u))&&r.actions.push({intent:"size",value:"-2px"}),l=!0;continue}if(e.actions.align.some(c=>o.includes(c))){for(const c in e.alignments)if(e.alignments[c].some(u=>o.includes(u))){r.actions.push({intent:"align",value:c}),l=!0;break}}if(!l&&e.actions.makeBold.some(c=>o.includes(c))){r.actions.push({intent:"bold",value:"true"}),l=!0;continue}}}return r},CUe={locale:"ar",messages:{ar:{assetManager:{title:" ",upload:" ",add:"","add-image":" ","drop-files":"      ",close:""},styleManager:{title:" ","no-properties":"   ",properties:{width:"",height:"",padding:" ",margin:" ","background-color":" ",color:" ","font-family":" ","font-size":" ",border:"","text-align":" ",top:"",right:"",bottom:"",left:""}},layerManager:{title:"",root:""},blockManager:{title:"","search-placeholder":"..."},traitManager:{title:" ",traits:{alt:" ",title:"",href:""}},selectorManager:{title:" (Classes)","label-state":"","selected-title":"","empty-state":"  ",states:{hover:" ",active:" ","nth-of-type(2n)":"/"}},panels:{buttons:{titles:{preview:"",fullscreen:" ","export-template":" ","sw-visibility":" ","open-sm":"","open-tm":"","open-layers":"","open-blocks":"","device-desktop":" ","device-tablet":" ","device-mobile":"",undo:"",redo:""}}},"grapesjs-preset-webpage":{blocks:{text:{name:""},image:{name:""},link:{name:""},video:{name:""},map:{name:""},column1:{name:" "},column2:{name:""},column3:{name:"3 "},quote:{name:""},section:{name:""},divider:{name:""}}}}}},SUe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],DUe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:SUe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),AUe=({onClose:t,onCapture:e})=>{const n=q.useRef(null),r=q.useRef(null),i=q.useRef(null),[s,a]=q.useState(null),[o,l]=q.useState(null),c=async()=>{l(null),a(null);try{const p=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});i.current=p,n.current&&(n.current.srcObject=p)}catch(p){console.error("Error accessing camera:",p),p instanceof DOMException&&(p.name==="NotAllowedError"||p.name==="PermissionDeniedError")?l("    .      ."):l("    .          .")}};q.useEffect(()=>(c(),()=>{i.current&&i.current.getTracks().forEach(p=>p.stop())}),[]);const u=()=>{if(n.current&&r.current){const p=n.current,v=r.current;v.width=p.videoWidth,v.height=p.videoHeight;const g=v.getContext("2d");g==null||g.drawImage(p,0,0,v.width,v.height);const y=v.toDataURL("image/jpeg");a(y),i.current&&(i.current.getTracks().forEach(b=>b.stop()),i.current=null)}},f=()=>{c()},h=()=>{s&&(e(s),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-lg w-full",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:" "}),d.jsxs("div",{className:"relative aspect-square bg-gray-900 rounded-md overflow-hidden flex items-center justify-center",children:[o?d.jsxs("div",{className:"p-4 text-center text-white",children:[d.jsx("p",{className:"font-semibold text-red-400",children:"  "}),d.jsx("p",{className:"text-sm mt-2",children:o})]}):s?d.jsx("img",{src:s,alt:"Captured",className:"w-full h-full object-contain"}):d.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),d.jsx("canvas",{ref:r,className:"hidden"})]}),d.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[s?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:f,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600",children:" "}),d.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:" "})]}):d.jsx("button",{type:"button",onClick:u,disabled:!!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:""}),d.jsx("button",{type:"button",onClick:t,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600",children:""})]})]})})},NUe=({initialContent:t,onExit:e,onPreview:n,editorRef:r})=>{const{user:i}=br(),{cafes:s,documentCommands:a}=Jt(),o=q.useRef(null),[l,c]=q.useState((t==null?void 0:t.name)||" "),[u,f]=q.useState(!1),[h,p]=q.useState(""),[v,g]=q.useState(!1),[y,b]=q.useState(!1),x=q.useRef(null),[w,E]=q.useState(!1),[S,R]=q.useState({top:0,left:0,visible:!1,component:null,type:null}),D=q.useRef(null),[N,I]=q.useState(""),F=q.useMemo(()=>s.find(j=>j.id===(i==null?void 0:i.cafeId)),[s,i]),P=(F==null?void 0:F.speechToTextLanguage)||"ar-SA",k=window.SpeechRecognition||window.webkitSpeechRecognition,U=q.useRef(null),O=q.useRef(!1),X=q.useCallback(j=>{if(!a||!r.current)return;const W=r.current,H=W.getRichTextEditor(),Q=EUe(j,a);let Z=W.getSelected();if(!Z&&Q.targetText){const se=W.getComponents(),ce=(ue,Ee)=>{var Ie;for(const fe of ue.models){if((Ie=fe.get("content"))!=null&&Ie.includes(Ee))return fe;const Le=ce(fe.components(),Ee);if(Le)return Le}return null};Z=ce(se,Q.targetText),Z&&W.select(Z)}Z||(Z=D.current);for(const se of Q.actions)switch(se.intent){case"color":{let ce=se.value;if(ce==="random"){const ue=Object.keys(a.colors);ce=ue[Math.floor(Math.random()*ue.length)]}Z&&Z.setStyle({...Z.getStyle(),color:ce});break}case"size":{if(Z){const ce=Z.getStyle(),ue=se.value;if(ue.startsWith("+")||ue.startsWith("-")){const Ee=parseInt(ce["font-size"]||"16px",10),Ie=parseInt(ue,10);Z.setStyle({...ce,"font-size":`${Ee+Ie}px`})}else Z.setStyle({...ce,"font-size":ue})}break}case"align":Z&&Z.setStyle({...Z.getStyle(),"text-align":se.value});break;case"bold":if(Z){const ce=Z.getStyle()["font-weight"]==="bold";Z.setStyle({...Z.getStyle(),"font-weight":ce?"normal":"bold"})}break;case"replace":se.newText&&H&&H.insertHTML(se.newText);break;case"delete":Z?Z.remove():H&&H.exec("delete");break;case"copy":Z&&I(Z.toHTML());break;case"paste":if(N)if(se.pasteTarget&&se.pastePosition){const ce=W.getWrapper().find("div, p, span, h1, h2, h3, h4, h5, h6");let ue=!1;ce.forEach(Ee=>{var Ie;if(!ue&&(Ie=Ee.get("content"))!=null&&Ie.includes(se.pasteTarget)){const fe=Ee.parent(),Le=Ee.index();fe.append(N,{at:se.pastePosition==="after"?Le+1:Le}),ue=!0}})}else H.insertHTML(N);break;case"createList":{const ce=se.listType==="numbered"?"ol":"ul";let ue=`<${ce}>`;se.listItems&&se.listItems.length>0?ue+=se.listItems.map(Ee=>`<li>${Ee}</li>`).join(""):ue+="<li> </li>",ue+=`</${ce}>`,H.insertHTML(ue);break}case"addListItem":{const ce=W.getSelected(),ue=ce==null?void 0:ce.closest("ul, ol");ue&&ue.append(`<li>${se.value||" "}</li>`);break}case"newLine":{const ce=W.getSelected(),ue=ce==null?void 0:ce.closest("ul, ol");ue&&ue.append("<li></li>");break}}Z&&(D.current=Z)},[a,r,N]);q.useEffect(()=>{if(!k)return;const j=new k;return U.current=j,j.continuous=!0,j.interimResults=!1,j.lang=P,j.onstart=()=>E(!0),j.onend=()=>{if(O.current){console.log("Document Studio: Speech recognition ended, attempting restart.");try{j.start()}catch(W){console.error("Document Studio: Could not restart recognition",W),O.current=!1,E(!1)}}else E(!1)},j.onresult=W=>{const H=W.results[W.results.length-1][0].transcript.trim();H&&X(H)},j.onerror=W=>{console.error("Speech recognition error:",W.error),O.current=!1,E(!1)},()=>{U.current&&(O.current=!1,U.current.abort())}},[k,P,X]);const J=q.useCallback(()=>{if(!k)return;const j=U.current;w?(O.current=!1,j==null||j.stop()):(O.current=!0,j==null||j.start())},[k,w]);q.useEffect(()=>{if(r.current||!o.current)return;const j=grapesjs.init({container:o.current,plugins:["gjs-preset-webpage"],pluginsOpts:{"gjs-preset-webpage":{forms:!1,navbar:!1}},storageManager:!1,assetManager:{custom:!0},canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"]},i18n:CUe});return j.setComponents(t.body),j.setStyle(t.styles),j.on("component:toggled",W=>{const H=j.Canvas.getElement(),Q=W.getEl();if(D.current=W,Q){const{top:Z,left:se}=Q.getBoundingClientRect(),ce=H.getBoundingClientRect(),ue=W.is("image"),Ee=W.get("type")==="text";R(ue||Ee?{top:Z+ce.top-45,left:se+ce.left,visible:!0,component:W,type:ue?"image":"text"}:Ie=>({...Ie,visible:!1}))}else R(Z=>({...Z,visible:!1}))}),r.current=j,()=>{r.current&&(r.current.destroy(),r.current=null)}},[t,r]);const Y=q.useCallback(()=>{if(!S.component)return;const j=window.prompt("   :");j&&S.component.set("src",j)},[S.component]),ne=q.useCallback(j=>{var H;const W=(H=j.target.files)==null?void 0:H[0];if(W&&S.component){const Q=new FileReader;Q.onload=Z=>{var se;S.component.set("src",(se=Z.target)==null?void 0:se.result)},Q.readAsDataURL(W)}},[S.component]),z=q.useCallback(j=>{S.component&&S.component.set("src",j),g(!1)},[S.component]),K=q.useCallback(async()=>{if(!S.component)return;const j=window.prompt("     :");if(j){b(!0);try{const W=await Qme(j);if(W.base64Image){const H=`data:image/jpeg;base64,${W.base64Image}`;S.component.set("src",H)}}catch{alert("  .")}finally{b(!1)}}},[S.component]),B=async()=>{const j=i==null?void 0:i.cafeId,W=r.current;if(!j||!W){p("      .");return}f(!0),p("");try{const H=W.getHtml(),Q=W.getCss(),Z=l.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]/g,""),se=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><title>${l}</title><style>${Q}</style></head><body>${H}</body></html>`,ce=new File([se],`0-${Z}.html`,{type:"text/html"}),ue=new File([se],`${Z}.html`,{type:"text/html"}),[Ee,Ie]=await Promise.all([fm(ce),fm(ue)]),fe={id:Z,groupId:Z,name:l,description:"     ",countryCode:i.countryCode,requiredFields:[],previewTemplateUrl:Ee,finalTemplateUrl:Ie,cafeId:j};await dl.create(fe),alert(`   "${fe.name}" !`),e()}catch(H){console.error("Publishing error:",H),p(H instanceof Error?H.message:"     .")}finally{f(!1)}};return d.jsxs("div",{className:"flex flex-col h-full p-6",children:[d.jsx("input",{type:"file",ref:x,onChange:ne,accept:"image/*",className:"hidden"}),v&&d.jsx(AUe,{onClose:()=>g(!1),onCapture:z}),d.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:e,className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"   "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600",children:[d.jsx(x$,{}),d.jsx("span",{children:""})]}),d.jsxs("button",{onClick:B,disabled:u,className:"flex items-center justify-center gap-2 bg-green-700 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-800 disabled:bg-gray-400",children:[u?d.jsx(Dt,{className:"animate-spin"}):d.jsx(Uv,{}),d.jsx("span",{children:u?" ...":"  "})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"doc-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ( )"}),d.jsx("input",{type:"text",id:"doc-name",value:l,onChange:j=>c(j.target.value),className:"w-full p-3 border rounded-lg"})]}),h&&d.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:h}),S.visible&&d.jsxs("div",{className:"absolute z-40 bg-white shadow-lg rounded-lg flex items-center gap-2 p-2 border",style:{top:S.top,left:S.left},children:[S.type==="text"&&d.jsx("button",{onClick:J,disabled:!k,className:`p-2 rounded-md transition-colors ${w?"bg-red-100 text-red-700 animate-pulse":"hover:bg-gray-100"}`,title:"     ",children:w?d.jsx(gc,{}):d.jsx(JI,{})}),S.type==="image"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Y,className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(E$,{})}),d.jsx("button",{onClick:()=>{var j;return(j=x.current)==null?void 0:j.click()},className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Al,{})}),d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-md",title:" ",children:d.jsx(Bm,{})}),d.jsx("button",{onClick:K,disabled:y,className:"p-2 hover:bg-gray-100 rounded-md",title:"  ",children:y?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{})})]})]}),d.jsx("div",{ref:o,className:"flex-grow",id:"gjs"})]})},kUe=()=>{const{user:t}=br(),{fullDocuments:e,loadingFullDocuments:n,documentCommands:r}=Jt(),[i,s]=q.useState("dashboard"),[a,o]=q.useState(null),[l,c]=q.useState(!1),[u,f]=q.useState(!1),[h,p]=q.useState(""),[v,g]=q.useState(""),[y,b]=q.useState(""),x=q.useRef(null),w=q.useRef(null),[E,S]=q.useState(!1),R=q.useMemo(()=>t!=null&&t.cafeId?e.filter(X=>X.cafeId===t.cafeId):[],[e,t]),D=X=>{var Y;const J=(Y=X.target.files)==null?void 0:Y[0];J&&N(J)},N=async X=>{f(!0),p("");try{let J=X.name.replace(/\.(html|pdf|docx)$/i,""),Y="",ne="";if(X.type==="text/html"){const z=await X.text(),K=z.match(/<style[^>]*>([\s\S]*?)<\/style>/i);ne=K?K[1]:"";const B=z.match(/<body[^>]*>([\s\S]*)<\/body>/i);Y=B?B[1]:z}else if(X.type==="application/pdf"){const z=new FileReader,K=await new Promise(j=>{z.onloadend=()=>j(z.result.split(",")[1]),z.readAsDataURL(X)});Y=(await L$(K)).html}else if(X.type.includes("wordprocessingml")){const z=new FileReader,K=await new Promise(j=>{z.onloadend=()=>j(z.result),z.readAsArrayBuffer(X)});Y=(await xUe.convertToHtml({arrayBuffer:K})).value}else throw new Error("Unsupported file type.");o({name:J,body:Y,styles:ne}),s("editor")}catch(J){p(J instanceof Error?J.message:"File processing failed.")}finally{f(!1)}},I=async X=>{var J;f(!0),p(""),c(!1);try{const Y=await fetch(X);if(!Y.ok)throw new Error("Could not fetch template");const ne=await Y.text();let z=((J=X.split("/").pop())==null?void 0:J.replace("0-","").replace(".html",""))||"template";const K=ne.match(/<style[^>]*>([\s\S]*?)<\/style>/i),B=K?K[1]:"",j=ne.match(/<body[^>]*>([\s\S]*)<\/body>/i),W=j?j[1]:ne;o({name:z,body:W,styles:B}),s("editor")}catch(Y){p(Y instanceof Error?Y.message:"Template loading failed.")}finally{f(!1)}},F=async()=>{if(v.trim()){f(!0),p(""),b("");try{const X=await sc({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${v}".               <style>   <head>.     .`});b(X.text||"")}catch(X){p(X instanceof Error?X.message:"AI generation failed.")}finally{f(!1)}}},P=()=>{if(!y)return;const X=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),J=X?X[1]:"",Y=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),ne=Y?Y[1]:y;o({name:v,body:ne,styles:J}),S(!1),s("editor")},k=()=>{if(!y)return;const X=y.match(/<style[^>]*>([\s\S]*?)<\/style>/i),J=X?X[1]:"",Y=y.match(/<body[^>]*>([\s\S]*)<\/body>/i),ne=Y?Y[1]:y;o({name:v,body:ne,styles:J}),S(!0),s("editor")},U=async X=>{window.confirm("        ")&&(await dl.delete(X),alert(" .      ."))},O=()=>{w.current&&(o({...a,body:w.current.getHtml(),styles:w.current.getCss()}),S(!0))};return i==="editor"?d.jsxs(d.Fragment,{children:[d.jsx(NUe,{initialContent:a,onExit:()=>s("dashboard"),onPreview:O,editorRef:w}),E&&a&&d.jsx(zY,{initialContent:a,docToEdit:null,onClose:()=>S(!1)})]}):i==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>s("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx($I,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:v,onChange:X=>g(X.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:F,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[u?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:u?" ...":"  "})]}),h&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:h}),(y||u)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:k,disabled:!y||u,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 disabled:opacity-50",children:[d.jsx(x$,{}),d.jsx("span",{children:"  "})]}),d.jsx("button",{onClick:P,disabled:!y||u,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})]})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[u&&!y&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Dt,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:y,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-600",children:'     .        " ".'}),d.jsx("input",{type:"file",ref:x,onChange:D,accept:".html,.pdf,.docx,.doc",className:"hidden"}),l&&d.jsx(DUe,{onClose:()=>c(!1),onSelect:I}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>s("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ra,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var X;return(X=x.current)==null?void 0:X.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Al,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  DOCX, PDF,  HTML   ."})]}),d.jsxs("button",{onClick:()=>c(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(S$,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),u&&d.jsx("div",{className:"text-center",children:d.jsx(Dt,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),h&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-700 p-2",children:["  (",R.length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:" "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6",children:d.jsx(Dt,{className:"animate-spin text-2xl mx-auto"})})}):R.length>0?R.map(X=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 text-gray-800 font-semibold",children:X.name}),d.jsx("td",{className:"p-3 text-gray-600 text-sm",children:X.description}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsx("button",{disabled:!0,className:"text-gray-400 text-sm font-semibold cursor-not-allowed",children:""}),d.jsx("button",{onClick:()=>U(X.id),className:"text-red-600 hover:underline text-sm font-semibold",children:""})]})]},X.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:3,className:"text-center p-6 text-gray-500",children:"    .      ."})})})]})})]})]})},IUe=[{id:"cv",name:"  ",url:"/data/templates/0-cv.html"},{id:"cv-with-photo",name:"   (1)",url:"/data/templates/0-cv-with-photo-1.html"},{id:"cv-with-photo-2",name:"   (2)",url:"/data/templates/0-cv-with-photo-2.html"},{id:"cv-with-photo-3",name:"   (3)",url:"/data/templates/0-cv-with-photo-3.html"},{id:"cv-with-photo-4",name:"   (4)",url:"/data/templates/0-cv-with-photo-4.html"},{id:"cv-with-photo-5",name:"   (5)",url:"/data/templates/0-cv-with-photo-5.html"},{id:"gov-form",name:" ",url:"/data/templates/0-gov-form.html"},{id:"linear-request",name:" ",url:"/data/templates/0-linear-request.html"},{id:"university-registration",name:" ",url:"/data/templates/0-university-registration.html"}],RUe=({onClose:t,onSelect:e})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-bold",children:"  "})}),d.jsx("div",{className:"p-4 flex-grow overflow-y-auto",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:IUe.map(n=>d.jsxs("div",{className:"border rounded-lg overflow-hidden group cursor-pointer",onClick:()=>e(n.url),children:[d.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:d.jsx("iframe",{src:n.url,className:"w-full h-full transform scale-[0.3] origin-top-left pointer-events-none border-0",title:n.name})}),d.jsx("div",{className:"p-3 bg-white",children:d.jsx("p",{className:"font-semibold text-sm truncate group-hover:text-green-600",children:n.name})})]},n.id))})}),d.jsx("div",{className:"px-6 py-4 bg-gray-50 flex justify-end",children:d.jsx("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""})})]})}),PUe=()=>{var D;const t=Ir(),e=ci(),n=(D=t.state)==null?void 0:D.doc,[r,i]=q.useState("dashboard"),[s,a]=q.useState(null),[o,l]=q.useState(!1),[c,u]=q.useState(!1),[f,h]=q.useState(""),[p,v]=q.useState(""),[g,y]=q.useState(""),b=q.useRef(null);q.useEffect(()=>{n&&((async()=>{u(!0);try{let I="",F="";if(n.previewTemplateUrl){const P=await fetch(n.previewTemplateUrl);if(P.ok){const k=await P.text(),U=k.match(/<style[^>]*>([\s\S]*?)<\/style>/i);F=U?U[1]:"";const O=k.match(/<body[^>]*>([\s\S]*)<\/body>/i);I=O?O[1]:k}else console.warn(`Could not fetch template file from ${n.previewTemplateUrl}. Starting with an empty editor.`)}a({initialContent:{name:n.name,body:I,styles:F},docToEdit:n})}catch(I){h(`Failed to load document: ${I.message}`),a({initialContent:{name:n.name,body:"<p>   .</p>",styles:""},docToEdit:n})}finally{u(!1)}})(),e(t.pathname,{replace:!0,state:{}}))},[n,t.pathname,e]);const x=N=>{var F;const I=(F=N.target.files)==null?void 0:F[0];I&&w(I)},w=async N=>{u(!0),h("");try{let I=N.name.replace(/\.(html|pdf|docx)$/i,""),F="",P="";if(N.type==="text/html"){const k=await N.text(),U=k.match(/<style[^>]*>([\s\S]*?)<\/style>/i);P=U?U[1]:"";const O=k.match(/<body[^>]*>([\s\S]*)<\/body>/i);F=O?O[1]:k}else if(N.type==="application/pdf"){const k=new FileReader,U=await new Promise(X=>{k.onloadend=()=>X(k.result.split(",")[1]),k.readAsDataURL(N)});F=(await L$(U)).html}else throw new Error("Unsupported file type.");a({initialContent:{name:I,body:F,styles:P},docToEdit:null})}catch(I){h(I instanceof Error?I.message:"File processing failed.")}finally{u(!1)}},E=async N=>{var I;u(!0),h(""),l(!1);try{const F=await fetch(N);if(!F.ok)throw new Error("Could not fetch template");const P=await F.text(),k=((I=N.split("/").pop())==null?void 0:I.replace("0-","").replace(".html",""))||"template",U=P.match(/<style[^>]*>([\s\S]*?)<\/style>/i),O=U?U[1]:"",X=P.match(/<body[^>]*>([\s\S]*)<\/body>/i),J=X?X[1]:P;a({initialContent:{name:k,body:J,styles:O},docToEdit:null})}catch(F){h(F instanceof Error?F.message:"Template loading failed.")}finally{u(!1)}},S=async()=>{if(p.trim()){u(!0),h(""),y("");try{const N=await sc({model:"gemini-2.5-flash",contents:`  HTML  (   <!DOCTYPE>  <html>  <head>  <body>)    : "${p}".               <style>   <head>.     .`});y(N.text||"")}catch(N){h(N instanceof Error?N.message:"AI generation failed.")}finally{u(!1)}}},R=()=>{if(!g)return;const N=g.match(/<style[^>]*>([\s\S]*?)<\/style>/i),I=N?N[1]:"",F=g.match(/<body[^>]*>([\s\S]*)<\/body>/i),P=F?F[1]:g;a({initialContent:{name:p,body:P,styles:I},docToEdit:null}),i("dashboard")};return s?d.jsx(zY,{initialContent:s.initialContent,docToEdit:s.docToEdit,onClose:()=>{a(null),window.location.reload()}}):r==="ai_creator"?d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("button",{onClick:()=>i("dashboard"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[d.jsx($I,{}),d.jsx("span",{children:"  "})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"  "}),d.jsx("p",{className:"text-gray-600",children:"     ."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"ai-prompt",className:"font-semibold",children:"   "}),d.jsx("textarea",{id:"ai-prompt",value:p,onChange:N=>v(N.target.value),placeholder:":          ...",className:"w-full p-3 border rounded-lg h-24"})]}),d.jsxs("button",{onClick:S,disabled:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white font-bold py-3 px-5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[c?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:c?" ...":"  "})]}),f&&d.jsx("p",{className:"text-red-500 text-sm my-2",children:f}),(g||c)&&d.jsxs("div",{className:"border rounded-lg mt-4",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[d.jsx("h2",{className:"font-bold",children:""}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsx("button",{onClick:R,disabled:!g||c,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:"  "})})]}),d.jsxs("div",{className:"bg-white p-2 h-[70vh] overflow-y-auto",children:[c&&!g&&d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Dt,{className:"animate-spin text-2xl text-blue-500"})}),d.jsx("iframe",{srcDoc:g,title:"AI Preview",className:"w-full h-full border-0"})]})]})]}):d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  ()"}),d.jsx("input",{type:"file",ref:b,onChange:x,accept:".html,.pdf",className:"hidden"}),o&&d.jsx(RUe,{onClose:()=>l(!1),onSelect:E}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("button",{onClick:()=>i("ai_creator"),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-purple-500 hover:bg-purple-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-100 text-purple-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(ra,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"       ."})]}),d.jsxs("button",{onClick:()=>{var N;return(N=b.current)==null?void 0:N.click()},className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-green-500 hover:bg-green-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-100 text-green-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Al,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"  PDF  HTML   ."})]}),d.jsxs("button",{onClick:()=>l(!0),className:"group text-right p-6 bg-white rounded-lg border-2 border-dashed hover:border-blue-500 hover:bg-blue-50 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-100 text-blue-600 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:d.jsx(S$,{size:24})}),d.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"  "}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      ."})]})]}),c&&d.jsx("div",{className:"text-center",children:d.jsx(Dt,{className:"animate-spin text-2xl mx-auto text-blue-600"})}),f&&d.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("button",{onClick:()=>e("/admin/app/documents"),className:"text-sm bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"    "})})]})},HY=()=>{const{t}=Ji();return d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h1",{className:"text-6xl font-bold text-gray-800",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mt-4",children:t("notFound.title")}),d.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:t("notFound.message")}),d.jsx(en,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors",children:t("notFound.button")})]})},os=(t,e,n=!0)=>{const r=n?`meta[property='${t}']`:`meta[name='${t}']`;let i=document.querySelector(r);i||(i=document.createElement("meta"),i.setAttribute(n?"property":"name",t),document.head.appendChild(i)),i.setAttribute("content",e)},FUe=()=>{const{siteSettings:t,loading:e}=Jt(),{countryCode:n,language:r}=Ji(),i=Ir(),s=i.pathname.startsWith("/admin"),a=/^\/[a-z]{2}\/app/.test(i.pathname),o="G-2BKKWGCXWX";return q.useEffect(()=>{if(e||!o||document.getElementById("gtag-script")||s||a)return;const l=document.createElement("script");l.id="gtag-script",l.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,l.async=!0,document.head.appendChild(l),window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}window.gtag=c,c("js",new Date),c("config",o)},[e,o,s,a]),q.useEffect(()=>{!e&&o&&typeof window.gtag=="function"&&!s&&!a&&window.gtag("event","page_view",{page_path:i.pathname+i.search,page_title:document.title})},[i,e,o,s,a]),q.useEffect(()=>{var g,y;if(e||!t)return;document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(b=>b.remove());const l=((g=t.seo)==null?void 0:g[n])||((y=t.seo)==null?void 0:y.default)||{siteName:"Gitut",titleSeparator:"|",tagline:"",metaDescription:""},c="https://file.gitut.com/data/image/gitut-og-main.png",u=i.pathname.match(/\/profile\/(\d+)/),f=i.pathname.match(/\/site\/([^/]+)/),h=i.pathname.match(/\/doc\/([^/]+)/),p=i.pathname.startsWith("/blog/")&&i.pathname.split("/").filter(Boolean).length>1;if(!u&&!f&&!h&&!p){const b=`${l.siteName} ${l.titleSeparator} ${l.tagline}`,x=l.metaDescription;let w="en_US";switch(r){case"ar":w="ar_AR";break;case"fr":w="fr_FR";break;case"de":w="de_DE";break;case"es":w="es_ES";break;case"tr":w="tr_TR";break;case"ja":w="ja_JP";break}document.title=b,os("description",x,!1),os("og:title",b),os("og:description",x),os("og:site_name",l.siteName),os("og:url",window.location.href),os("og:image",c),os("og:image:secure_url",c),os("og:image:width","1200"),os("og:image:height","630"),os("og:type","website"),os("og:locale",w),os("twitter:card","summary_large_image",!1),os("twitter:url",window.location.href,!1),os("twitter:title",b,!1),os("twitter:description",x,!1),os("twitter:image",c,!1)}let v=document.querySelector("link[rel*='icon']");v||(v=document.createElement("link"),v.rel="icon",document.head.appendChild(v)),v.href="https://file.gitut.com/data/image/icon.png"},[i.pathname,t,n,e,s,a,r]),null},MUe=()=>{const{countryCode:t,siteId:e}=Bs(),n=Ir(),r=ci(),[i]=Cee(),{sites:s,siteSettings:a,loading:o}=Jt(),l=q.useMemo(()=>{var b;const v=i.get("redirect"),g=i.get("name");if(v)return{name:g||" ",url:v,isInternal:!0};if((b=n.state)!=null&&b.targetUrl)return{name:n.state.siteName||" ",url:n.state.targetUrl,isInternal:!0};const y=s.find(x=>x.id===e);return y?{...y,isInternal:!1}:null},[s,e,n.state,i]),c=(a==null?void 0:a.ads.pdfInterstitialTimer)??5,[u,f]=q.useState(c),[h,p]=q.useState(!1);return q.useEffect(()=>{!o&&l&&f(c)},[o,l,c]),q.useEffect(()=>{if(!(o||!(l!=null&&l.url)))if(u>0){const v=setTimeout(()=>{f(g=>g-1)},1e3);return()=>clearTimeout(v)}else h||(p(!0),l.isInternal?r(l.url,{replace:!0}):window.location.href=l.url)},[u,o,l,h,r]),o?d.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center",children:[d.jsx(Dt,{className:"animate-spin text-4xl text-green-600 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"  ..."})]}):l?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  ..."}),d.jsxs("p",{className:"text-gray-600",children:['  "',l.name,'"   :']}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:u}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(bl,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx("p",{className:"text-gray-600 mb-6",children:"         ."}),d.jsx(en,{to:"/",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"   "})]})},UUe=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9\u0600-\u06FF-]/g,"");if(dr.Quill){const t=dr.Quill.import("attributors/style/size");t.whitelist=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","36px","48px","72px"],dr.Quill.register("attributors/style/size",t,!0)}const OUe=({isOpen:t,onClose:e,onSave:n,initialData:r,codes:i})=>{const[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState(""),[f,h]=q.useState(""),[p,v]=q.useState(!1),g=q.useRef(null),y=q.useRef(null);q.useEffect(()=>{r?(a(r.name),l(r.previewTemplateHtml),u(r.finalTemplateHtml),h(r.textPlaceholderExample||"")):(a(""),l("<!--    -->"),u("<!--    -->"),h(""))},[r]);const b=(E,S)=>{var N;const R=(N=E.target.files)==null?void 0:N[0];if(!R)return;const D=new FileReader;D.onload=I=>{var P;const F=(P=I.target)==null?void 0:P.result;S==="preview"?l(F):u(F)},D.readAsText(R)},x=(E,S)=>{if(!S)return;const D=(E==="preview"?g:y).current;if(D){const N=D.selectionStart,I=D.selectionEnd,F=D.value,P=F.substring(0,N)+S+F.substring(I);E==="preview"?l(P):u(P),setTimeout(()=>{D&&(D.selectionStart=D.selectionEnd=N+S.length,D.focus())},0)}},w=async E=>{E.preventDefault(),v(!0);const S=D=>D.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),R={name:s,previewTemplateHtml:S(o),finalTemplateHtml:S(c),textPlaceholderExample:f};try{r?await hm.update(r.id,R):await hm.create(R),n(),e()}catch(D){console.error(D),alert("   .")}finally{v(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:d.jsxs("form",{onSubmit:w,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("h2",{className:"text-2xl font-bold",children:[r?"":"","  "]})}),d.jsx("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:p&&!r?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx(Dt,{className:"animate-spin text-3xl text-gray-400"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",id:"base-template-name",value:s,onChange:E=>a(E.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"base-template-example",className:"block text-sm font-medium text-gray-700 mb-1",children:"   (  )"}),d.jsx("textarea",{id:"base-template-example",value:f,onChange:E=>h(E.target.value),className:"w-full h-24 p-2 border rounded-md",placeholder:"       [TEXT] .      ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:g,value:o,onChange:E=>l(E.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Al,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:E=>b(E,"preview"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:E=>{x("preview",E.target.value),E.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(E=>d.jsxs("option",{value:E.key,children:[E.description," (",E.key,")"]},E.id))]}),d.jsx("button",{type:"button",onClick:()=>x("preview","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>x("preview","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-semibold",children:" "}),d.jsx("textarea",{ref:y,value:c,onChange:E=>u(E.target.value),className:"w-full h-64 p-2 border rounded-md font-mono text-sm",dir:"ltr"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{className:"text-sm bg-gray-200 text-gray-800 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 cursor-pointer",children:[d.jsx(Al,{className:"inline-block"}),"   HTML ",d.jsx("input",{type:"file",accept:".html",onChange:E=>b(E,"final"),className:"hidden"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsxs("select",{onChange:E=>{x("final",E.target.value),E.target.value=""},className:"text-sm bg-gray-100 text-gray-800 font-semibold py-1 px-2 rounded-lg hover:bg-gray-200 cursor-pointer border border-gray-300",children:[d.jsx("option",{value:"",children:" ..."}),i.map(E=>d.jsxs("option",{value:E.key,children:[E.description," (",E.key,")"]},E.id))]}),d.jsx("button",{type:"button",onClick:()=>x("final","[TITLE]"),className:"text-sm bg-yellow-100 text-yellow-800 font-semibold py-1 px-3 rounded-lg hover:bg-yellow-200",children:" [TITLE]"}),d.jsx("button",{type:"button",onClick:()=>x("final","[TEXT]"),className:"text-sm bg-blue-100 text-blue-800 font-semibold py-1 px-3 rounded-lg hover:bg-blue-200",children:" [TEXT]"})]})]})]})]})]})}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:p&&!r,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:p?" ...":""})]})]})})}):null},uB={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{color:[]},{background:[]}],["link","image","video"],["clean"]]},LUe=({isOpen:t,onClose:e,onSave:n,fullDocuments:r})=>{const{baseTemplates:i}=Jt(),[s,a]=q.useState(""),[o,l]=q.useState(""),[c,u]=q.useState("dz"),[f,h]=q.useState(""),[p,v]=q.useState(""),[g,y]=q.useState(!1),[b,x]=q.useState(!1),[w,E]=q.useState(!1),S=async()=>{if(!o||!c){alert("      .");return}x(!0),h("");try{const N=i.find(P=>P.id===s);let I="";N!=null&&N.textPlaceholderExample?I=`       .             .           HTML  ( <p>  <ul>).

  : "${o}"
 : "${c}"
   : "${N.textPlaceholderExample}"

      .`:I=`         "${o}"    "${c}".            .      HTML  ( <p>  <ul>).`;const F=await sc({model:"gemini-2.5-flash",contents:I});h(F.text||"")}catch(N){console.error("AI description generation failed:",N),alert("  .")}finally{x(!1)}},R=async()=>{if(!o){alert("    .");return}const N=i.find(I=>I.id===s);E(!0),v("");try{let I="";N!=null&&N.textPlaceholderExample?I=`You are an assistant for official documents in Arabic. Your task is to adapt a generic text example to fit a specific document title. The output must be simple HTML.
    Document Title: "${o}"
    Country Code: "${c}"
    Generic Text Example to Adapt: "${N.textPlaceholderExample}"
    
    Rewrite the generic text example to be specific and appropriate for the given document title and country. For example, if the title is "Request to change address", the text should be a formal request for an address change. Return only the generated HTML content, without any explanations.`:I=`   ( HTML    <p>  <ul>)      "${o}"    "${c}".         [TEXT]   .`;const F=await sc({model:"gemini-2.5-flash",contents:I});v(F.text||"")}catch(I){console.error("AI text generation failed:",I),alert("  .")}finally{E(!1)}},D=async N=>{N.preventDefault();const I=i.find(k=>k.id===s);if(!I||!o.trim()||!p.trim()){alert("   .");return}y(!0);let F=UUe(o);if(r.find(k=>k.slug===F)){if(!window.confirm("     (    ).        ")){y(!1);return}const U=Date.now().toString().slice(-6);F=`${F}-${U}`}try{const k=ne=>ne.replace(/\s{2,}/g," ").replace(/\n/g,"").trim(),U=I.previewTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),O=I.finalTemplateHtml.replace(/\[TEXT\]/g,p).replace(/\[TITLE\]/g,o),X=L0(O),J=F,Y={name:o,groupId:J,slug:F,description:f,countryCode:c||void 0,requiredFields:X,previewTemplateHtml:k(U),finalTemplateHtml:k(O),tags:I.name};await dl.create({...Y,id:J}),n(),e()}catch(k){console.error("Failed to create document from base template:",k),alert("  .")}finally{y(!1)}};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:d.jsxs("form",{onSubmit:D,children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-2xl font-bold",children:"     "})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsxs("select",{value:s,onChange:N=>a(N.target.value),required:!0,className:"w-full p-2 border rounded-md bg-white",children:[d.jsx("option",{value:"",disabled:!0,children:"--  --"}),i.map(N=>d.jsx("option",{value:N.id,children:N.name},N.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),d.jsx("input",{type:"text",value:o,onChange:N=>l(N.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (: dz)"}),d.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value.toLowerCase()),className:"w-full p-2 border rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:"flex-grow",children:d.jsx(dr,{theme:"snow",value:f,onChange:h,modules:uB})}),d.jsx("button",{type:"button",onClick:S,disabled:b,className:"p-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",title:"   ",children:b?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{})})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"    [TEXT] "}),d.jsxs("button",{type:"button",onClick:R,disabled:w,className:"flex items-center gap-1 text-xs bg-purple-100 text-purple-700 font-semibold py-1 px-2 rounded-md hover:bg-purple-200",children:[w?d.jsx(Dt,{className:"animate-spin"}):d.jsx(ra,{}),d.jsx("span",{children:"  "})]})]}),d.jsx(dr,{theme:"snow",value:p,onChange:v,modules:uB})]})]}),d.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:""}),d.jsx("button",{type:"submit",disabled:g,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:g?" ...":" "})]})]})})}):null},jUe=()=>{const{baseTemplates:t,loading:e,codes:n,fullDocuments:r}=Jt(),[i,s]=q.useState(!1),[a,o]=q.useState(!1),[l,c]=q.useState(null),u=async()=>{},f=async p=>{s(!0),c({...p,name:" ..."});try{const v=await hm.get(p.id);c(v||p)}catch(v){console.error("Failed to fetch fresh template:",v),c(p),alert("Could not fetch the latest template data. Displaying cached version.")}},h=async p=>{window.confirm("       ")&&(await hm.delete(p),u())};return d.jsxs("div",{children:[i&&d.jsx(OUe,{isOpen:i,onClose:()=>{s(!1),c(null)},onSave:u,initialData:l,codes:n}),a&&d.jsx(LUe,{isOpen:a,onClose:()=>o(!1),onSave:u,fullDocuments:r}),d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[d.jsx(ic,{className:"inline-block"}),"  "]}),d.jsxs("button",{onClick:()=>{c({id:"",name:" ...",previewTemplateHtml:"",finalTemplateHtml:""}),s(!0)},className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[d.jsx(ic,{className:"inline-block"}),"   "]})]})]}),d.jsx("div",{className:"bg-white p-2 rounded-lg border shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-right",children:[d.jsx("thead",{className:"bg-gray-50 border-b",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:"  "}),d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600",children:""})]})}),d.jsx("tbody",{children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:2,className:"text-center p-6",children:d.jsx(Dt,{className:"animate-spin text-2xl mx-auto"})})}):t.map(p=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"p-3 font-semibold",children:p.name}),d.jsxs("td",{className:"p-3 space-x-4 space-x-reverse",children:[d.jsxs("button",{onClick:()=>f(p),className:"text-blue-600 hover:underline text-sm font-semibold",children:[d.jsx(fw,{className:"inline-block"})," "]}),d.jsxs("button",{onClick:()=>h(p.id),className:"text-red-600 hover:underline text-sm font-semibold",children:[d.jsx(Vm,{className:"inline-block"})," "]})]})]},p.id))})]})})})]})},xA={intents:{sum:["","","","",""],subtract:["","","","",""],multiply:["",""," ",""],divide:["","","",""],average:[""," ","",""],count:[" "," ","","",""],max:[" "," "," ","",""],min:[" "," "," ","",""],copy:["","","","",""," "],paste:["","",""],cut:["","","","",""," "],insert:["","","","","",""],search:[""," ","",""," "],color:["",""," ","","",""],resize:["",""," ","",""," "],select:["","","","",""],delete:["","","",""," ","","","",""],clear:[""," ",""," "],merge:["","","",""],split:["","","","",""],transpose:["","","","",""],filter:[""," ","   ",""],conditionalColor:[" ","  "," "," "],replace:["",""," ","",""," "," "],concatenate:[" "," "," "," "],sort:["","","","",""," "," "],removeDuplicates:[" "," "," "," "],groupBy:[""," ",""," "],createChart:["","  ","  ","  "," "],formatNumber:[" "," "," ","  "," "," ","  "],calculatePercentage:["  "," ","  "],move:["","","","","","",""]},targets:{cell:["","","",""],row:["","","","",""],column:["","","",""],horizontalColumn:[" "," ","",""],verticalColumn:[" "," ","",""],range:[""," "," "," "],sheet:["","",""," "],workbook:["","","",""],selectedTable:[" "," "," "]},movements:{right:["",""],left:["",""]},numbers:{1:["","","","","1"],2:["","","","","2"],3:["","","","","3"],4:["","","","","4"],5:["","","","","5"],6:["","","","","6"],7:["","","","","7"],8:["","","","","8"],9:["","","","","9"],10:["","","","","10"],last:["","","",""],all:["","",""]},positions:{after:["","",""],before:["","",""],at:["","","",""],start:[""," ",""],end:[""," ",""]},colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""],brown:["",""],cyan:["",""],gold:["",""],silver:["",""]},conditions:{contains:[" ",""," ","",""],equals:["","","",""," "],greaterThan:[" "," ",""],lessThan:[" "," ",""],startsWith:[" "," "],endsWith:[" "," "],between:[""," "],empty:["",""],notEmpty:[" "," "," "]},references:{lastResult:["","","output",""," "," "],lastSearch:["","",""," "," "],lastColumn:["","","  "," "],lastSelection:["",""," ",""," "],thisTarget:["","",""],previous:[""," "]},referenceWords:["","","","","",""],negationWords:["","","",""],rangeWords:["","",""]},BUe=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(""),[i,s]=q.useState(!0),[a,o]=q.useState(!1),[l,c]=q.useState(""),[u,f]=q.useState("");q.useEffect(()=>{s(!0),U4().then(p=>{const v=p||xA;e(v),r(JSON.stringify(v,null,2)),p||f("   .       .")}).catch(()=>{c("    .      ."),e(xA),r(JSON.stringify(xA,null,2))}).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await cme(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Dt,{className:"animate-spin"}):d.jsx(Uv,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".             .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},VUe={colors:{red:["","",""],blue:["","",""],green:["","",""],yellow:["","",""],black:["","",""],white:["","",""],orange:["",""],purple:["",""],pink:["",""],gray:["",""]},actions:{changeColor:[""," "," "],changeSize:[""," "," "],makeBold:["","","",""," "],align:["",""," "," "],replace:[" "," "],delete:["",""],copy:["",""],paste:["",""],createList:[" "," "," "],addListItem:["","",""]},sizeKeywords:{increase:["","",""],decrease:["","",""]},alignments:{center:["","","",""],right:["",""],left:["",""]},targets:{text:["","","",""],selection:["",""]},conjunctions:[""],general:{next:["","",""," "]},listTypes:{bullet:["",""],numbered:["","",""]},positions:{before:[""],after:[""]},listSeparators:{newLine:[" "," "," "]}},WUe=()=>{const[t,e]=q.useState(null),[n,r]=q.useState(""),[i,s]=q.useState(!0),[a,o]=q.useState(!1),[l,c]=q.useState(""),[u,f]=q.useState("");q.useEffect(()=>{s(!0),O4().then(p=>{const v=p||VUe;e(v),r(JSON.stringify(v,null,2))}).catch(()=>c("    .")).finally(()=>s(!1))},[]);const h=async()=>{c(""),f("");try{const p=JSON.parse(n);o(!0),await dme(p),e(p),f("   !"),setTimeout(()=>f(""),3e3)}catch(p){console.error(p),c("   JSON.        .")}finally{o(!1)}};return i?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"    (JSON)"}),d.jsxs("button",{onClick:h,disabled:a,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center gap-2",children:[a?d.jsx(Dt,{className:"animate-spin"}):d.jsx(Uv,{}),d.jsx("span",{children:a?" ...":" "})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg border shadow-sm",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'        " ".               .'}),l&&d.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-center",children:l}),u&&d.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center",children:u}),d.jsx("textarea",{value:n,onChange:p=>r(p.target.value),dir:"ltr",className:"w-full h-[65vh] p-4 font-mono text-sm bg-gray-900 text-green-300 rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500",placeholder:"Loading JSON data..."})]})]})},qUe=()=>{var o;const{useAdminChatManager:t}=Qf(),{conversations:e,messages:n,currentConversationId:r,selectConversation:i,sendMessage:s}=t(),a=Array.from(e.entries()).sort(([,l],[,c])=>c.lastMessage.timestamp-l.lastMessage.timestamp);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"  "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsxs("h2",{className:"font-bold text-lg mb-3",children:[" (",e.size,")"]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map(([l,c])=>d.jsxs("button",{onClick:()=>i(l),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${r===l?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-800",children:c.cafeName||"  "}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[c.lastMessage.senderId==="admin"?": ":"",c.lastMessage.text]})]}),c.unread&&d.jsx(L4,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},l))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"   ."})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:r?d.jsx(YI,{messages:n,onSendMessage:s,currentUserId:"admin",title:`  ${((o=e.get(r))==null?void 0:o.cafeName)||""}`,isOnline:!0}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[d.jsx(KI,{className:"text-5xl text-gray-300 mb-4"}),d.jsx("h3",{className:"text-xl font-medium text-gray-800",children:" "}),d.jsx("p",{className:"text-gray-500 mt-1",children:"           ."})]})})]})]})},zUe=()=>{var h,p;const{user:t}=br(),{useCafeChatManager:e}=Qf(),{adminConversation:n,visitorConversations:r,sendMessageToAdmin:i,sendMessageToVisitor:s,markAdminAsRead:a,markVisitorAsRead:o}=e(),[l,c]=q.useState({type:"admin",id:"admin"});q.useEffect(()=>{l.type==="admin"?a():o(l.id)},[l,a,o]);const u=q.useMemo(()=>Array.from(r.entries()).sort(([,v],[,g])=>{var y,b;return(((y=g.lastMessage)==null?void 0:y.timestamp)||0)-(((b=v.lastMessage)==null?void 0:b.timestamp)||0)}),[r]),f=q.useMemo(()=>l.type==="admin"?n:r.get(l.id),[l,n,r]);return d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start h-[75vh]",children:[d.jsxs("aside",{className:"lg:col-span-1 bg-gray-50 rounded-lg p-4 border max-h-full overflow-y-auto",children:[d.jsx("h2",{className:"font-bold text-lg mb-3",children:""}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>c({type:"admin",id:"admin"}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id==="admin"?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(Ome,{className:"text-gray-500"}),"  "]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((h=n.lastMessage)==null?void 0:h.senderId)===(t==null?void 0:t.id)?": ":"",((p=n.lastMessage)==null?void 0:p.text)||"  "]})]}),n.unread&&d.jsx(L4,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]}),u.map(([v,g])=>{var y,b;return d.jsxs("button",{onClick:()=>c({type:"visitor",id:v}),className:`w-full text-right p-3 rounded-lg border-2 transition-colors flex justify-between items-start ${l.id===v?"bg-green-100 border-green-500":"bg-white hover:bg-gray-100 border-transparent"}`,children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(Lme,{className:"text-gray-500"}),"  ",v.substring(8,12)]}),d.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[((y=g.lastMessage)==null?void 0:y.senderId)===(t==null?void 0:t.id)?": ":"",(b=g.lastMessage)==null?void 0:b.text]})]}),g.unread&&d.jsx(L4,{className:"text-blue-500 text-xs mt-1 flex-shrink-0"})]},v)})]})]}),d.jsx("main",{className:"lg:col-span-2 bg-white rounded-lg border shadow-sm h-full flex flex-col",children:f&&t?d.jsx(YI,{messages:f.messages,onSendMessage:l.type==="admin"?i:v=>s(l.id,v),currentUserId:t.id,title:l.type==="admin"?"   ":`   ${l.id.substring(8,12)}`,isOnline:!0}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{children:"  "})})})]})]})},HUe=()=>{const{countryCode:t,docId:e}=Bs(),{documents:n,fullDocuments:r,siteSettings:i,loading:s,loadingFullDocuments:a}=Jt(),{t:o}=Ji(),[l,c]=q.useState("form"),[u,f]=q.useState({}),[h,p]=q.useState(null),[v,g]=q.useState((i==null?void 0:i.ads.pdfInterstitialTimer)??5),y=q.useMemo(()=>{const R=decodeURIComponent(e||""),D=r.find(N=>N.id===R||N.slug===R||N.name===R);return D||n.find(N=>N.id===R||N.slug===R||N.name===R)},[r,n,e]),b=q.useMemo(()=>y?y.requiredFields.filter(R=>R!=="DateToday").map(R=>Jr[R]):[],[y]),x=async R=>{if(!y||!R)return;const D=[...r,...n];if(R==="word"){let N=y.finalTemplateHtml||"";if(!N&&y.finalTemplateUrl)try{const U=await fetch(y.finalTemplateUrl);U.ok&&(N=await U.text())}catch(U){console.error(U)}if(!N){alert("   .");return}const F=new Date().toLocaleDateString("ar-DZ",{day:"2-digit",month:"2-digit",year:"numeric"});N=N.replace(/\[DateToday\]/g,F),Object.keys(u).forEach(U=>{const O=new RegExp(`\\[${U}\\]`,"g");N=N.replace(O,u[U]||"")}),N=N.replace(/\[[^\]]+\]/g,"");const P=new Blob([`
                <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
                <head><meta charset='utf-8'><title>${y.name}</title></head>
                <body>${N}</body>
                </html>
            `],{type:"application/msword"}),k=document.createElement("a");k.href=URL.createObjectURL(P),k.download=`${y.slug||"document"}.doc`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(k.href);return}R==="pdf"&&await Fy(D,y.id,u,{action:"download",targetLang:"ar",templateType:"final"})};q.useEffect(()=>{if(l==="ad")if(v>0){const R=setTimeout(()=>g(D=>D-1),1e3);return()=>clearTimeout(R)}else x(h)},[l,v,h]);const w=(R,D)=>{f(N=>({...N,[R]:D}))},E=R=>{R.preventDefault(),c("select_format")},S=R=>{p(R),g((i==null?void 0:i.ads.pdfInterstitialTimer)??5),c("ad")};return s||a?d.jsx("div",{className:"flex justify-center items-center p-10",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})}):y?l==="select_format"?d.jsx("div",{className:"max-w-xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" :   "}),d.jsx("p",{className:"text-gray-600",children:"      ."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[d.jsxs("button",{onClick:()=>S("pdf"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-red-100 text-red-800 font-bold p-6 rounded-lg hover:bg-red-200 border border-red-200 transition-colors",children:[d.jsx(hw,{size:40}),d.jsx("span",{children:"  PDF"})]}),d.jsxs("button",{onClick:()=>S("word"),className:"flex-1 flex flex-col items-center justify-center gap-2 bg-blue-100 text-blue-800 font-bold p-6 rounded-lg hover:bg-blue-200 border border-blue-200 transition-colors",children:[d.jsx(XI,{size:40}),d.jsx("span",{children:"  Word"})]})]})]})}):l==="ad"?d.jsx("div",{className:"max-w-3xl mx-auto text-center",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"    ..."}),d.jsx("p",{className:"text-gray-600",children:"    :"}),d.jsx("div",{className:"text-5xl font-bold text-green-600 font-mono tracking-widest my-4 p-4 bg-gray-100 rounded-lg",children:v}),d.jsxs("div",{className:"pt-6 border-t",children:[d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:":"}),d.jsx(bl,{placement:"PDF_INTERSTITIAL"})]})]})}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(bl,{placement:"PUBLIC_FORM_RIGHT"})}),d.jsx("main",{className:"lg:col-span-3",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8",children:[d.jsxs("div",{className:"mb-6 border-b pb-4 text-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[" : ",y.name]}),d.jsx("p",{className:"text-gray-600",children:"      ."})]}),d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[b.map(R=>{if(!R)return null;const D=R.id;return d.jsxs("div",{children:[d.jsx("label",{htmlFor:R.id,className:"block text-sm font-medium text-gray-700 mb-1",children:o(R.label)}),R.type==="file"?d.jsx(Lv,{value:u[R.id]||"",onChange:N=>w(R.id,N)}):R.type==="select"&&R.options?d.jsxs("select",{id:R.id,name:R.id,value:u[D]||"",onChange:N=>w(N.target.name,N.target.value),className:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm",required:!0,children:[d.jsx("option",{value:"",children:o(R.placeholder)}),R.options.map(N=>d.jsx("option",{value:N.value,children:o(N.label)},N.value))]}):d.jsx("input",{type:R.type,id:R.id,name:R.id,value:u[D]||"",onChange:N=>w(N.target.name,N.target.value),placeholder:o(R.placeholder),className:"w-full p-2 border rounded-md",required:!0})]},R.id)}),d.jsx("div",{className:"pt-4",children:d.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors text-lg",children:[d.jsx(b$,{}),d.jsx("span",{children:" "})]})})]})]})}),d.jsx("aside",{className:"hidden lg:block lg:col-span-1 space-y-6",children:d.jsx(bl,{placement:"PUBLIC_FORM_LEFT"})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"    "}),d.jsx(en,{to:`/${t}`,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"   "})]})},$Ue=()=>{const{pathname:t}=Ir();return q.useEffect(()=>{window.scrollTo(0,0)},[t]),null},GUe=()=>{const{user:t,loading:e}=br(),n=q.useCallback(()=>{if(e)return;const r={source:"gitut-webapp",type:"auth_update",payload:t?{user:{email:t.email},credits:t.credits}:null};window.postMessage(r,"*")},[t,e]);return q.useEffect(()=>{const r=i=>{var s;i.source===window&&((s=i.data)==null?void 0:s.source)==="gitut-extension"&&i.data.type==="get_auth"&&n()};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[n]),q.useEffect(()=>{n()},[n]),null},KUe=()=>{const{countryCode:t}=Bs(),e=q.useMemo(()=>Au.en.map(n=>n.code),[]);return t&&/^[a-z]{2}$/.test(t)&&e.includes(t)?d.jsx(xN,{}):d.jsx(HY,{})},XUe=()=>{const{user:t,loading:e}=br(),{error:n}=Jt(),r=Ir(),i=r.pathname.match(/^\/([a-z]{2})(?:\/|$)/),s=i?i[1]:null;if(n)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-md max-w-2xl",role:"alert",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"py-1",children:d.jsx(Mv,{className:"h-6 w-6 text-red-500 ml-4 rtl:mr-0 rtl:ml-4"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"   "}),d.jsx("p",{className:"text-sm",children:"   .       ."}),d.jsx("div",{className:"text-sm mt-2 bg-red-200 p-3 rounded",dangerouslySetInnerHTML:{__html:n}})]})]})})});if(e)return d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex justify-center items-center",children:d.jsx(Dt,{className:"animate-spin text-4xl text-green-600"})});const a=r.pathname.startsWith("/admin");if(t&&t.countryCode&&s&&t.countryCode!==s&&!a){const f=r.pathname.replace(`/${s}`,`/${t.countryCode}`);return d.jsx(hp,{to:f,replace:!0})}const o=/^\/[a-z]{2}\/app\/(document-studio|excel-studio)/.test(r.pathname),l=/^\/admin\/app\/document-studio/.test(r.pathname),u=o||l?"flex-grow px-4 py-8 w-full":"flex-grow container mx-auto px-4 py-8";return d.jsx("main",{className:u,children:d.jsxs(YZ,{children:[d.jsx(jt,{path:"/",element:d.jsx(vM,{})}),d.jsx(jt,{path:"/admin/login",element:d.jsx(Y0e,{})}),d.jsxs(jt,{path:"/admin/app",element:d.jsx(eye,{children:d.jsx(Z0e,{})}),children:[d.jsx(jt,{index:!0,element:d.jsx(tye,{})}),d.jsx(jt,{path:"users",element:d.jsx(nye,{})}),d.jsx(jt,{path:"billing",element:d.jsx(rye,{})}),d.jsx(jt,{path:"settings",element:d.jsx(iye,{})}),d.jsx(jt,{path:"seo",element:d.jsx(sye,{})}),d.jsx(jt,{path:"pages",element:d.jsx(Cve,{})}),d.jsx(jt,{path:"ads",element:d.jsx(Dve,{})}),d.jsx(jt,{path:"blog",element:d.jsx(TSe,{})}),d.jsx(jt,{path:"data",element:d.jsx(kSe,{})}),d.jsx(jt,{path:"sites",element:d.jsx(ISe,{})}),d.jsx(jt,{path:"documents",element:d.jsx(FSe,{})}),d.jsx(jt,{path:"document-studio",element:d.jsx(PUe,{})}),d.jsx(jt,{path:"base-templates",element:d.jsx(jUe,{})}),d.jsx(jt,{path:"static-docs",element:d.jsx(BSe,{})}),d.jsx(jt,{path:"excel-commands",element:d.jsx(BUe,{})}),d.jsx(jt,{path:"document-commands",element:d.jsx(WUe,{})}),d.jsx(jt,{path:"chat",element:d.jsx(qUe,{})})]}),d.jsx(jt,{path:"/login",element:d.jsx(hp,{to:"/dz/login",replace:!0})}),d.jsx(jt,{path:"/signup",element:d.jsx(hp,{to:"/dz/signup",replace:!0})}),d.jsx(jt,{path:"/app/*",element:d.jsx(hp,{to:"/",replace:!0})}),d.jsxs(jt,{path:"/:countryCode",element:d.jsx(KUe,{}),children:[d.jsx(jt,{index:!0,element:d.jsx(vM,{})}),d.jsx(jt,{path:"profile/:numericId",element:d.jsx(Kme,{})}),d.jsx(jt,{path:"form",element:d.jsx(ige,{})}),d.jsx(jt,{path:"public-form/:docId",element:d.jsx(HUe,{})}),d.jsx(jt,{path:"confirmation/:jobId",element:d.jsx(sge,{})}),d.jsx(jt,{path:"page/:slug",element:d.jsx(Sve,{})}),d.jsx(jt,{path:"service/:type/:id",element:d.jsx(LSe,{})}),d.jsx(jt,{path:"blog",element:d.jsx(SSe,{})}),d.jsx(jt,{path:"blog/:slug",element:d.jsx(DSe,{})}),d.jsx(jt,{path:"view/:docId",element:d.jsx(WSe,{})}),d.jsx(jt,{path:"go-to-site/:siteId",element:d.jsx(MUe,{})}),d.jsx(jt,{path:"find-cafe",element:d.jsx(HSe,{})}),d.jsx(jt,{path:"login",element:d.jsx(age,{})}),d.jsx(jt,{path:"signup",element:d.jsx(lge,{})}),d.jsxs(jt,{path:"app",element:d.jsx(Age,{children:d.jsx(dge,{children:d.jsx(gge,{})})}),children:[d.jsx(jt,{index:!0,element:d.jsx(xge,{})}),d.jsx(jt,{path:"pending-jobs",element:d.jsx(Tge,{})}),d.jsx(jt,{path:"generate",element:d.jsx(Dge,{})}),d.jsx(jt,{path:"excel-studio",element:d.jsx(eFe,{})}),d.jsx(jt,{path:"document-studio",element:d.jsx(kUe,{})}),d.jsx(jt,{path:"settings",element:d.jsx(q0e,{})}),d.jsx(jt,{path:"multi-person-job",element:d.jsx($0e,{})}),d.jsx(jt,{path:"billing",element:d.jsx(J0e,{})}),d.jsx(jt,{path:"fill-site/:siteId",element:d.jsx(RSe,{})}),d.jsx(jt,{path:"clients",element:d.jsx(MSe,{})}),d.jsx(jt,{path:"view-pdf/:docId",element:d.jsx(VSe,{})}),d.jsx(jt,{path:"chat",element:d.jsx(zUe,{})})]})]}),d.jsx(jt,{path:"*",element:d.jsx(HY,{})})]})})},JUe=()=>d.jsx(hme,{children:d.jsx(Vme,{children:d.jsx(bee,{children:d.jsx(Wme,{children:d.jsxs($me,{children:[d.jsx(FUe,{}),d.jsx($Ue,{}),d.jsx(GUe,{}),d.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100 text-gray-900",children:[d.jsx(Bme,{}),d.jsx(XUe,{}),d.jsx(qme,{})]})]})})})})}),$Y=document.getElementById("root");if(!$Y)throw new Error("Could not find root element to mount to");const YUe=sZ.createRoot($Y);YUe.render(d.jsx(Ro.StrictMode,{children:d.jsx(JUe,{})}));
